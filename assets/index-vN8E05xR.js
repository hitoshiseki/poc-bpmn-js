var mme=Object.defineProperty;var $H=n=>{throw TypeError(n)};var gme=(n,e,t)=>e in n?mme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _i=(n,e,t)=>gme(n,typeof e!="symbol"?e+"":e,t),pF=(n,e,t)=>e.has(n)||$H("Cannot "+t);var Se=(n,e,t)=>(pF(n,e,"read from private field"),t?t.call(n):e.get(n)),On=(n,e,t)=>e.has(n)?$H("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Gt=(n,e,t,r)=>(pF(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),cr=(n,e,t)=>(pF(n,e,"access private method"),t);var bA=(n,e,t,r)=>({set _(i){Gt(n,e,i,t)},get _(){return Se(n,e,r)}});function vme(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var RZ={exports:{}},wN={},MZ={exports:{}},br={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2=Symbol.for("react.element"),yme=Symbol.for("react.portal"),bme=Symbol.for("react.fragment"),xme=Symbol.for("react.strict_mode"),wme=Symbol.for("react.profiler"),_me=Symbol.for("react.provider"),Eme=Symbol.for("react.context"),Sme=Symbol.for("react.forward_ref"),kme=Symbol.for("react.suspense"),Cme=Symbol.for("react.memo"),Ome=Symbol.for("react.lazy"),jH=Symbol.iterator;function Tme(n){return n===null||typeof n!="object"?null:(n=jH&&n[jH]||n["@@iterator"],typeof n=="function"?n:null)}var DZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NZ=Object.assign,IZ={};function lw(n,e,t){this.props=n,this.context=e,this.refs=IZ,this.updater=t||DZ}lw.prototype.isReactComponent={};lw.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};lw.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function FZ(){}FZ.prototype=lw.prototype;function F6(n,e,t){this.props=n,this.context=e,this.refs=IZ,this.updater=t||DZ}var L6=F6.prototype=new FZ;L6.constructor=F6;NZ(L6,lw.prototype);L6.isPureReactComponent=!0;var BH=Array.isArray,LZ=Object.prototype.hasOwnProperty,$6={current:null},$Z={key:!0,ref:!0,__self:!0,__source:!0};function jZ(n,e,t){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)LZ.call(e,r)&&!$Z.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}if(n&&n.defaultProps)for(r in c=n.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:c2,type:n,key:o,ref:a,props:i,_owner:$6.current}}function Pme(n,e){return{$$typeof:c2,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function j6(n){return typeof n=="object"&&n!==null&&n.$$typeof===c2}function Ame(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var VH=/\/+/g;function mF(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Ame(""+n.key):e.toString(36)}function YR(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case c2:case yme:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+mF(a,0):r,BH(i)?(t="",n!=null&&(t=n.replace(VH,"$&/")+"/"),YR(i,e,t,"",function(h){return h})):i!=null&&(j6(i)&&(i=Pme(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(VH,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",BH(n))for(var c=0;c<n.length;c++){o=n[c];var u=r+mF(o,c);a+=YR(o,e,t,u,i)}else if(u=Tme(n),typeof u=="function")for(n=u.call(n),c=0;!(o=n.next()).done;)o=o.value,u=r+mF(o,c++),a+=YR(o,e,t,u,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xA(n,e,t){if(n==null)return n;var r=[],i=0;return YR(n,r,"","",function(o){return e.call(t,o,i++)}),r}function Rme(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xa={current:null},QR={transition:null},Mme={ReactCurrentDispatcher:Xa,ReactCurrentBatchConfig:QR,ReactCurrentOwner:$6};function BZ(){throw Error("act(...) is not supported in production builds of React.")}br.Children={map:xA,forEach:function(n,e,t){xA(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xA(n,function(){e++}),e},toArray:function(n){return xA(n,function(e){return e})||[]},only:function(n){if(!j6(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};br.Component=lw;br.Fragment=bme;br.Profiler=wme;br.PureComponent=F6;br.StrictMode=xme;br.Suspense=kme;br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mme;br.act=BZ;br.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=NZ({},n.props),i=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=$6.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var c=n.type.defaultProps;for(u in e)LZ.call(e,u)&&!$Z.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:c2,type:n.type,key:i,ref:o,props:r,_owner:a}};br.createContext=function(n){return n={$$typeof:Eme,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:_me,_context:n},n.Consumer=n};br.createElement=jZ;br.createFactory=function(n){var e=jZ.bind(null,n);return e.type=n,e};br.createRef=function(){return{current:null}};br.forwardRef=function(n){return{$$typeof:Sme,render:n}};br.isValidElement=j6;br.lazy=function(n){return{$$typeof:Ome,_payload:{_status:-1,_result:n},_init:Rme}};br.memo=function(n,e){return{$$typeof:Cme,type:n,compare:e===void 0?null:e}};br.startTransition=function(n){var e=QR.transition;QR.transition={};try{n()}finally{QR.transition=e}};br.unstable_act=BZ;br.useCallback=function(n,e){return Xa.current.useCallback(n,e)};br.useContext=function(n){return Xa.current.useContext(n)};br.useDebugValue=function(){};br.useDeferredValue=function(n){return Xa.current.useDeferredValue(n)};br.useEffect=function(n,e){return Xa.current.useEffect(n,e)};br.useId=function(){return Xa.current.useId()};br.useImperativeHandle=function(n,e,t){return Xa.current.useImperativeHandle(n,e,t)};br.useInsertionEffect=function(n,e){return Xa.current.useInsertionEffect(n,e)};br.useLayoutEffect=function(n,e){return Xa.current.useLayoutEffect(n,e)};br.useMemo=function(n,e){return Xa.current.useMemo(n,e)};br.useReducer=function(n,e,t){return Xa.current.useReducer(n,e,t)};br.useRef=function(n){return Xa.current.useRef(n)};br.useState=function(n){return Xa.current.useState(n)};br.useSyncExternalStore=function(n,e,t){return Xa.current.useSyncExternalStore(n,e,t)};br.useTransition=function(){return Xa.current.useTransition()};br.version="18.3.1";MZ.exports=br;var U=MZ.exports;const rt=l2(U),VZ=vme({__proto__:null,default:rt},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dme=U,Nme=Symbol.for("react.element"),Ime=Symbol.for("react.fragment"),Fme=Object.prototype.hasOwnProperty,Lme=Dme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$me={key:!0,ref:!0,__self:!0,__source:!0};function zZ(n,e,t){var r,i={},o=null,a=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Fme.call(e,r)&&!$me.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Nme,type:n,key:o,ref:a,props:i,_owner:Lme.current}}wN.Fragment=Ime;wN.jsx=zZ;wN.jsxs=zZ;RZ.exports=wN;var L=RZ.exports,HZ={exports:{}},Sc={},WZ={exports:{}},qZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(xe,$e){var Je=xe.length;xe.push($e);e:for(;0<Je;){var Ne=Je-1>>>1,Ue=xe[Ne];if(0<i(Ue,$e))xe[Ne]=$e,xe[Je]=Ue,Je=Ne;else break e}}function t(xe){return xe.length===0?null:xe[0]}function r(xe){if(xe.length===0)return null;var $e=xe[0],Je=xe.pop();if(Je!==$e){xe[0]=Je;e:for(var Ne=0,Ue=xe.length,le=Ue>>>1;Ne<le;){var Ze=2*(Ne+1)-1,Qe=xe[Ze],Ct=Ze+1,Et=xe[Ct];if(0>i(Qe,Je))Ct<Ue&&0>i(Et,Qe)?(xe[Ne]=Et,xe[Ct]=Je,Ne=Ct):(xe[Ne]=Qe,xe[Ze]=Je,Ne=Ze);else if(Ct<Ue&&0>i(Et,Je))xe[Ne]=Et,xe[Ct]=Je,Ne=Ct;else break e}}return $e}function i(xe,$e){var Je=xe.sortIndex-$e.sortIndex;return Je!==0?Je:xe.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],h=[],m=1,y=null,w=3,S=!1,T=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(xe){for(var $e=t(h);$e!==null;){if($e.callback===null)r(h);else if($e.startTime<=xe)r(h),$e.sortIndex=$e.expirationTime,e(u,$e);else break;$e=t(h)}}function R(xe){if(O=!1,I(xe),!T)if(t(u)!==null)T=!0,Ae(z);else{var $e=t(h);$e!==null&&We(R,$e.startTime-xe)}}function z(xe,$e){T=!1,O&&(O=!1,D(ae),ae=-1),S=!0;var Je=w;try{for(I($e),y=t(u);y!==null&&(!(y.expirationTime>$e)||xe&&!be());){var Ne=y.callback;if(typeof Ne=="function"){y.callback=null,w=y.priorityLevel;var Ue=Ne(y.expirationTime<=$e);$e=n.unstable_now(),typeof Ue=="function"?y.callback=Ue:y===t(u)&&r(u),I($e)}else r(u);y=t(u)}if(y!==null)var le=!0;else{var Ze=t(h);Ze!==null&&We(R,Ze.startTime-$e),le=!1}return le}finally{y=null,w=Je,S=!1}}var X=!1,Z=null,ae=-1,ge=5,_e=-1;function be(){return!(n.unstable_now()-_e<ge)}function he(){if(Z!==null){var xe=n.unstable_now();_e=xe;var $e=!0;try{$e=Z(!0,xe)}finally{$e?fe():(X=!1,Z=null)}}else X=!1}var fe;if(typeof F=="function")fe=function(){F(he)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ce=pe.port2;pe.port1.onmessage=he,fe=function(){Ce.postMessage(null)}}else fe=function(){N(he,0)};function Ae(xe){Z=xe,X||(X=!0,fe())}function We(xe,$e){ae=N(function(){xe(n.unstable_now())},$e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(xe){xe.callback=null},n.unstable_continueExecution=function(){T||S||(T=!0,Ae(z))},n.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<xe?Math.floor(1e3/xe):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(xe){switch(w){case 1:case 2:case 3:var $e=3;break;default:$e=w}var Je=w;w=$e;try{return xe()}finally{w=Je}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(xe,$e){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Je=w;w=xe;try{return $e()}finally{w=Je}},n.unstable_scheduleCallback=function(xe,$e,Je){var Ne=n.unstable_now();switch(typeof Je=="object"&&Je!==null?(Je=Je.delay,Je=typeof Je=="number"&&0<Je?Ne+Je:Ne):Je=Ne,xe){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=Je+Ue,xe={id:m++,callback:$e,priorityLevel:xe,startTime:Je,expirationTime:Ue,sortIndex:-1},Je>Ne?(xe.sortIndex=Je,e(h,xe),t(u)===null&&xe===t(h)&&(O?(D(ae),ae=-1):O=!0,We(R,Je-Ne))):(xe.sortIndex=Ue,e(u,xe),T||S||(T=!0,Ae(z))),xe},n.unstable_shouldYield=be,n.unstable_wrapCallback=function(xe){var $e=w;return function(){var Je=w;w=$e;try{return xe.apply(this,arguments)}finally{w=Je}}}})(qZ);WZ.exports=qZ;var jme=WZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bme=U,wc=jme;function bt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UZ=new Set,Jk={};function m0(n,e){Dx(n,e),Dx(n+"Capture",e)}function Dx(n,e){for(Jk[n]=e,n=0;n<e.length;n++)UZ.add(e[n])}var Xh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k4=Object.prototype.hasOwnProperty,Vme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zH={},HH={};function zme(n){return k4.call(HH,n)?!0:k4.call(zH,n)?!1:Vme.test(n)?HH[n]=!0:(zH[n]=!0,!1)}function Hme(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Wme(n,e,t,r){if(e===null||typeof e>"u"||Hme(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Za(n,e,t,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var ta={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ta[n]=new Za(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ta[e]=new Za(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ta[n]=new Za(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ta[n]=new Za(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ta[n]=new Za(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ta[n]=new Za(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ta[n]=new Za(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ta[n]=new Za(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ta[n]=new Za(n,5,!1,n.toLowerCase(),null,!1,!1)});var B6=/[\-:]([a-z])/g;function V6(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(B6,V6);ta[e]=new Za(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(B6,V6);ta[e]=new Za(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(B6,V6);ta[e]=new Za(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ta[n]=new Za(n,1,!1,n.toLowerCase(),null,!1,!1)});ta.xlinkHref=new Za("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ta[n]=new Za(n,1,!1,n.toLowerCase(),null,!0,!0)});function z6(n,e,t,r){var i=ta.hasOwnProperty(e)?ta[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wme(e,t,i,r)&&(t=null),r||i===null?zme(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var up=Bme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wA=Symbol.for("react.element"),A1=Symbol.for("react.portal"),R1=Symbol.for("react.fragment"),H6=Symbol.for("react.strict_mode"),C4=Symbol.for("react.profiler"),GZ=Symbol.for("react.provider"),YZ=Symbol.for("react.context"),W6=Symbol.for("react.forward_ref"),O4=Symbol.for("react.suspense"),T4=Symbol.for("react.suspense_list"),q6=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),QZ=Symbol.for("react.offscreen"),WH=Symbol.iterator;function SS(n){return n===null||typeof n!="object"?null:(n=WH&&n[WH]||n["@@iterator"],typeof n=="function"?n:null)}var fo=Object.assign,gF;function ck(n){if(gF===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);gF=e&&e[1]||""}return`
`+gF+n}var vF=!1;function yF(n,e){if(!n||vF)return"";vF=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(n,[],e)}else{try{e.call()}catch(h){r=h}n.call(e.prototype)}else{try{throw Error()}catch(h){r=h}n()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,c=o.length-1;1<=a&&0<=c&&i[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==o[c]){var u=`
`+i[a].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=a&&0<=c);break}}}finally{vF=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ck(n):""}function qme(n){switch(n.tag){case 5:return ck(n.type);case 16:return ck("Lazy");case 13:return ck("Suspense");case 19:return ck("SuspenseList");case 0:case 2:case 15:return n=yF(n.type,!1),n;case 11:return n=yF(n.type.render,!1),n;case 1:return n=yF(n.type,!0),n;default:return""}}function P4(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R1:return"Fragment";case A1:return"Portal";case C4:return"Profiler";case H6:return"StrictMode";case O4:return"Suspense";case T4:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case YZ:return(n.displayName||"Context")+".Consumer";case GZ:return(n._context.displayName||"Context")+".Provider";case W6:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q6:return e=n.displayName||null,e!==null?e:P4(n.type)||"Memo";case wm:e=n._payload,n=n._init;try{return P4(n(e))}catch{}}return null}function Ume(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P4(e);case 8:return e===H6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dg(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function KZ(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gme(n){var e=KZ(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function _A(n){n._valueTracker||(n._valueTracker=Gme(n))}function XZ(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=KZ(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function RM(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function A4(n,e){var t=e.checked;return fo({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function qH(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=dg(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZZ(n,e){e=e.checked,e!=null&&z6(n,"checked",e,!1)}function R4(n,e){ZZ(n,e);var t=dg(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?M4(n,e.type,t):e.hasOwnProperty("defaultValue")&&M4(n,e.type,dg(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function UH(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function M4(n,e,t){(e!=="number"||RM(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var uk=Array.isArray;function Y1(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+dg(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function D4(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(bt(91));return fo({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function GH(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(bt(92));if(uk(t)){if(1<t.length)throw Error(bt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:dg(t)}}function JZ(n,e){var t=dg(e.value),r=dg(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function YH(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function eJ(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N4(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?eJ(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var EA,tJ=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(EA=EA||document.createElement("div"),EA.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=EA.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function eC(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var kk={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yme=["Webkit","ms","Moz","O"];Object.keys(kk).forEach(function(n){Yme.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),kk[e]=kk[n]})});function nJ(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||kk.hasOwnProperty(n)&&kk[n]?(""+e).trim():e+"px"}function rJ(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=nJ(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Qme=fo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I4(n,e){if(e){if(Qme[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(bt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(bt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(bt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(bt(62))}}function F4(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L4=null;function U6(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $4=null,Q1=null,K1=null;function QH(n){if(n=f2(n)){if(typeof $4!="function")throw Error(bt(280));var e=n.stateNode;e&&(e=CN(e),$4(n.stateNode,n.type,e))}}function iJ(n){Q1?K1?K1.push(n):K1=[n]:Q1=n}function oJ(){if(Q1){var n=Q1,e=K1;if(K1=Q1=null,QH(n),e)for(n=0;n<e.length;n++)QH(e[n])}}function sJ(n,e){return n(e)}function aJ(){}var bF=!1;function lJ(n,e,t){if(bF)return n(e,t);bF=!0;try{return sJ(n,e,t)}finally{bF=!1,(Q1!==null||K1!==null)&&(aJ(),oJ())}}function tC(n,e){var t=n.stateNode;if(t===null)return null;var r=CN(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(bt(231,e,typeof t));return t}var j4=!1;if(Xh)try{var kS={};Object.defineProperty(kS,"passive",{get:function(){j4=!0}}),window.addEventListener("test",kS,kS),window.removeEventListener("test",kS,kS)}catch{j4=!1}function Kme(n,e,t,r,i,o,a,c,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(t,h)}catch(m){this.onError(m)}}var Ck=!1,MM=null,DM=!1,B4=null,Xme={onError:function(n){Ck=!0,MM=n}};function Zme(n,e,t,r,i,o,a,c,u){Ck=!1,MM=null,Kme.apply(Xme,arguments)}function Jme(n,e,t,r,i,o,a,c,u){if(Zme.apply(this,arguments),Ck){if(Ck){var h=MM;Ck=!1,MM=null}else throw Error(bt(198));DM||(DM=!0,B4=h)}}function g0(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function cJ(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function KH(n){if(g0(n)!==n)throw Error(bt(188))}function ege(n){var e=n.alternate;if(!e){if(e=g0(n),e===null)throw Error(bt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return KH(i),n;if(o===r)return KH(i),e;o=o.sibling}throw Error(bt(188))}if(t.return!==r.return)t=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===t){a=!0,t=i,r=o;break}if(c===r){a=!0,r=i,t=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===t){a=!0,t=o,r=i;break}if(c===r){a=!0,r=o,t=i;break}c=c.sibling}if(!a)throw Error(bt(189))}}if(t.alternate!==r)throw Error(bt(190))}if(t.tag!==3)throw Error(bt(188));return t.stateNode.current===t?n:e}function uJ(n){return n=ege(n),n!==null?dJ(n):null}function dJ(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dJ(n);if(e!==null)return e;n=n.sibling}return null}var fJ=wc.unstable_scheduleCallback,XH=wc.unstable_cancelCallback,tge=wc.unstable_shouldYield,nge=wc.unstable_requestPaint,Fo=wc.unstable_now,rge=wc.unstable_getCurrentPriorityLevel,G6=wc.unstable_ImmediatePriority,hJ=wc.unstable_UserBlockingPriority,NM=wc.unstable_NormalPriority,ige=wc.unstable_LowPriority,pJ=wc.unstable_IdlePriority,_N=null,Nf=null;function oge(n){if(Nf&&typeof Nf.onCommitFiberRoot=="function")try{Nf.onCommitFiberRoot(_N,n,void 0,(n.current.flags&128)===128)}catch{}}var _d=Math.clz32?Math.clz32:lge,sge=Math.log,age=Math.LN2;function lge(n){return n>>>=0,n===0?32:31-(sge(n)/age|0)|0}var SA=64,kA=4194304;function dk(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function IM(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=t&268435455;if(a!==0){var c=a&~i;c!==0?r=dk(c):(o&=a,o!==0&&(r=dk(o)))}else a=t&~i,a!==0?r=dk(a):o!==0&&(r=dk(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-_d(e),i=1<<t,r|=n[t],e&=~i;return r}function cge(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uge(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-_d(o),c=1<<a,u=i[a];u===-1?(!(c&t)||c&r)&&(i[a]=cge(c,e)):u<=e&&(n.expiredLanes|=c),o&=~c}}function V4(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mJ(){var n=SA;return SA<<=1,!(SA&4194240)&&(SA=64),n}function xF(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function u2(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-_d(e),n[e]=t}function dge(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-_d(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function Y6(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-_d(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var hi=0;function gJ(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var vJ,Q6,yJ,bJ,xJ,z4=!1,CA=[],Qm=null,Km=null,Xm=null,nC=new Map,rC=new Map,Cm=[],fge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZH(n,e){switch(n){case"focusin":case"focusout":Qm=null;break;case"dragenter":case"dragleave":Km=null;break;case"mouseover":case"mouseout":Xm=null;break;case"pointerover":case"pointerout":nC.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rC.delete(e.pointerId)}}function CS(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=f2(e),e!==null&&Q6(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function hge(n,e,t,r,i){switch(e){case"focusin":return Qm=CS(Qm,n,e,t,r,i),!0;case"dragenter":return Km=CS(Km,n,e,t,r,i),!0;case"mouseover":return Xm=CS(Xm,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return nC.set(o,CS(nC.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rC.set(o,CS(rC.get(o)||null,n,e,t,r,i)),!0}return!1}function wJ(n){var e=Ey(n.target);if(e!==null){var t=g0(e);if(t!==null){if(e=t.tag,e===13){if(e=cJ(t),e!==null){n.blockedOn=e,xJ(n.priority,function(){yJ(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function KR(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=H4(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);L4=r,t.target.dispatchEvent(r),L4=null}else return e=f2(t),e!==null&&Q6(e),n.blockedOn=t,!1;e.shift()}return!0}function JH(n,e,t){KR(n)&&t.delete(e)}function pge(){z4=!1,Qm!==null&&KR(Qm)&&(Qm=null),Km!==null&&KR(Km)&&(Km=null),Xm!==null&&KR(Xm)&&(Xm=null),nC.forEach(JH),rC.forEach(JH)}function OS(n,e){n.blockedOn===e&&(n.blockedOn=null,z4||(z4=!0,wc.unstable_scheduleCallback(wc.unstable_NormalPriority,pge)))}function iC(n){function e(i){return OS(i,n)}if(0<CA.length){OS(CA[0],n);for(var t=1;t<CA.length;t++){var r=CA[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Qm!==null&&OS(Qm,n),Km!==null&&OS(Km,n),Xm!==null&&OS(Xm,n),nC.forEach(e),rC.forEach(e),t=0;t<Cm.length;t++)r=Cm[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Cm.length&&(t=Cm[0],t.blockedOn===null);)wJ(t),t.blockedOn===null&&Cm.shift()}var X1=up.ReactCurrentBatchConfig,FM=!0;function mge(n,e,t,r){var i=hi,o=X1.transition;X1.transition=null;try{hi=1,K6(n,e,t,r)}finally{hi=i,X1.transition=o}}function gge(n,e,t,r){var i=hi,o=X1.transition;X1.transition=null;try{hi=4,K6(n,e,t,r)}finally{hi=i,X1.transition=o}}function K6(n,e,t,r){if(FM){var i=H4(n,e,t,r);if(i===null)AF(n,e,r,LM,t),ZH(n,r);else if(hge(i,n,e,t,r))r.stopPropagation();else if(ZH(n,r),e&4&&-1<fge.indexOf(n)){for(;i!==null;){var o=f2(i);if(o!==null&&vJ(o),o=H4(n,e,t,r),o===null&&AF(n,e,r,LM,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else AF(n,e,r,null,t)}}var LM=null;function H4(n,e,t,r){if(LM=null,n=U6(r),n=Ey(n),n!==null)if(e=g0(n),e===null)n=null;else if(t=e.tag,t===13){if(n=cJ(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return LM=n,null}function _J(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rge()){case G6:return 1;case hJ:return 4;case NM:case ige:return 16;case pJ:return 536870912;default:return 16}default:return 16}}var zm=null,X6=null,XR=null;function EJ(){if(XR)return XR;var n,e=X6,t=e.length,r,i="value"in zm?zm.value:zm.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[o-r];r++);return XR=i.slice(n,1<r?1-r:void 0)}function ZR(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function OA(){return!0}function eW(){return!1}function kc(n){function e(t,r,i,o,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in n)n.hasOwnProperty(c)&&(t=n[c],this[c]=t?t(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?OA:eW,this.isPropagationStopped=eW,this}return fo(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=OA)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=OA)},persist:function(){},isPersistent:OA}),e}var cw={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z6=kc(cw),d2=fo({},cw,{view:0,detail:0}),vge=kc(d2),wF,_F,TS,EN=fo({},d2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J6,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==TS&&(TS&&n.type==="mousemove"?(wF=n.screenX-TS.screenX,_F=n.screenY-TS.screenY):_F=wF=0,TS=n),wF)},movementY:function(n){return"movementY"in n?n.movementY:_F}}),tW=kc(EN),yge=fo({},EN,{dataTransfer:0}),bge=kc(yge),xge=fo({},d2,{relatedTarget:0}),EF=kc(xge),wge=fo({},cw,{animationName:0,elapsedTime:0,pseudoElement:0}),_ge=kc(wge),Ege=fo({},cw,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sge=kc(Ege),kge=fo({},cw,{data:0}),nW=kc(kge),Cge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pge(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Tge[n])?!!e[n]:!1}function J6(){return Pge}var Age=fo({},d2,{key:function(n){if(n.key){var e=Cge[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=ZR(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Oge[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J6,charCode:function(n){return n.type==="keypress"?ZR(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ZR(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Rge=kc(Age),Mge=fo({},EN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rW=kc(Mge),Dge=fo({},d2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J6}),Nge=kc(Dge),Ige=fo({},cw,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fge=kc(Ige),Lge=fo({},EN,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$ge=kc(Lge),jge=[9,13,27,32],e8=Xh&&"CompositionEvent"in window,Ok=null;Xh&&"documentMode"in document&&(Ok=document.documentMode);var Bge=Xh&&"TextEvent"in window&&!Ok,SJ=Xh&&(!e8||Ok&&8<Ok&&11>=Ok),iW=" ",oW=!1;function kJ(n,e){switch(n){case"keyup":return jge.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CJ(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var M1=!1;function Vge(n,e){switch(n){case"compositionend":return CJ(e);case"keypress":return e.which!==32?null:(oW=!0,iW);case"textInput":return n=e.data,n===iW&&oW?null:n;default:return null}}function zge(n,e){if(M1)return n==="compositionend"||!e8&&kJ(n,e)?(n=EJ(),XR=X6=zm=null,M1=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SJ&&e.locale!=="ko"?null:e.data;default:return null}}var Hge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sW(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Hge[n.type]:e==="textarea"}function OJ(n,e,t,r){iJ(r),e=$M(e,"onChange"),0<e.length&&(t=new Z6("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Tk=null,oC=null;function Wge(n){$J(n,0)}function SN(n){var e=I1(n);if(XZ(e))return n}function qge(n,e){if(n==="change")return e}var TJ=!1;if(Xh){var SF;if(Xh){var kF="oninput"in document;if(!kF){var aW=document.createElement("div");aW.setAttribute("oninput","return;"),kF=typeof aW.oninput=="function"}SF=kF}else SF=!1;TJ=SF&&(!document.documentMode||9<document.documentMode)}function lW(){Tk&&(Tk.detachEvent("onpropertychange",PJ),oC=Tk=null)}function PJ(n){if(n.propertyName==="value"&&SN(oC)){var e=[];OJ(e,oC,n,U6(n)),lJ(Wge,e)}}function Uge(n,e,t){n==="focusin"?(lW(),Tk=e,oC=t,Tk.attachEvent("onpropertychange",PJ)):n==="focusout"&&lW()}function Gge(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return SN(oC)}function Yge(n,e){if(n==="click")return SN(e)}function Qge(n,e){if(n==="input"||n==="change")return SN(e)}function Kge(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Cd=typeof Object.is=="function"?Object.is:Kge;function sC(n,e){if(Cd(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!k4.call(e,i)||!Cd(n[i],e[i]))return!1}return!0}function cW(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uW(n,e){var t=cW(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=cW(t)}}function AJ(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?AJ(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function RJ(){for(var n=window,e=RM();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=RM(n.document)}return e}function t8(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Xge(n){var e=RJ(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&AJ(t.ownerDocument.documentElement,t)){if(r!==null&&t8(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=uW(t,o);var a=uW(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Zge=Xh&&"documentMode"in document&&11>=document.documentMode,D1=null,W4=null,Pk=null,q4=!1;function dW(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;q4||D1==null||D1!==RM(r)||(r=D1,"selectionStart"in r&&t8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pk&&sC(Pk,r)||(Pk=r,r=$M(W4,"onSelect"),0<r.length&&(e=new Z6("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=D1)))}function TA(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var N1={animationend:TA("Animation","AnimationEnd"),animationiteration:TA("Animation","AnimationIteration"),animationstart:TA("Animation","AnimationStart"),transitionend:TA("Transition","TransitionEnd")},CF={},MJ={};Xh&&(MJ=document.createElement("div").style,"AnimationEvent"in window||(delete N1.animationend.animation,delete N1.animationiteration.animation,delete N1.animationstart.animation),"TransitionEvent"in window||delete N1.transitionend.transition);function kN(n){if(CF[n])return CF[n];if(!N1[n])return n;var e=N1[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in MJ)return CF[n]=e[t];return n}var DJ=kN("animationend"),NJ=kN("animationiteration"),IJ=kN("animationstart"),FJ=kN("transitionend"),LJ=new Map,fW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tg(n,e){LJ.set(n,e),m0(e,[n])}for(var OF=0;OF<fW.length;OF++){var TF=fW[OF],Jge=TF.toLowerCase(),eve=TF[0].toUpperCase()+TF.slice(1);Tg(Jge,"on"+eve)}Tg(DJ,"onAnimationEnd");Tg(NJ,"onAnimationIteration");Tg(IJ,"onAnimationStart");Tg("dblclick","onDoubleClick");Tg("focusin","onFocus");Tg("focusout","onBlur");Tg(FJ,"onTransitionEnd");Dx("onMouseEnter",["mouseout","mouseover"]);Dx("onMouseLeave",["mouseout","mouseover"]);Dx("onPointerEnter",["pointerout","pointerover"]);Dx("onPointerLeave",["pointerout","pointerover"]);m0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));m0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));m0("onBeforeInput",["compositionend","keypress","textInput","paste"]);m0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));m0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));m0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tve=new Set("cancel close invalid load scroll toggle".split(" ").concat(fk));function hW(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Jme(r,e,void 0,n),n.currentTarget=null}function $J(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==o&&i.isPropagationStopped())break e;hW(i,c,h),o=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,h=c.currentTarget,c=c.listener,u!==o&&i.isPropagationStopped())break e;hW(i,c,h),o=u}}}if(DM)throw n=B4,DM=!1,B4=null,n}function zi(n,e){var t=e[K4];t===void 0&&(t=e[K4]=new Set);var r=n+"__bubble";t.has(r)||(jJ(e,n,2,!1),t.add(r))}function PF(n,e,t){var r=0;e&&(r|=4),jJ(t,n,r,e)}var PA="_reactListening"+Math.random().toString(36).slice(2);function aC(n){if(!n[PA]){n[PA]=!0,UZ.forEach(function(t){t!=="selectionchange"&&(tve.has(t)||PF(t,!1,n),PF(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[PA]||(e[PA]=!0,PF("selectionchange",!1,e))}}function jJ(n,e,t,r){switch(_J(e)){case 1:var i=mge;break;case 4:i=gge;break;default:i=K6}t=i.bind(null,e,t,n),i=void 0,!j4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function AF(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Ey(c),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}c=c.parentNode}}r=r.return}lJ(function(){var h=o,m=U6(t),y=[];e:{var w=LJ.get(n);if(w!==void 0){var S=Z6,T=n;switch(n){case"keypress":if(ZR(t)===0)break e;case"keydown":case"keyup":S=Rge;break;case"focusin":T="focus",S=EF;break;case"focusout":T="blur",S=EF;break;case"beforeblur":case"afterblur":S=EF;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=tW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=bge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Nge;break;case DJ:case NJ:case IJ:S=_ge;break;case FJ:S=Fge;break;case"scroll":S=vge;break;case"wheel":S=$ge;break;case"copy":case"cut":case"paste":S=Sge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=rW}var O=(e&4)!==0,N=!O&&n==="scroll",D=O?w!==null?w+"Capture":null:w;O=[];for(var F=h,I;F!==null;){I=F;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,D!==null&&(R=tC(F,D),R!=null&&O.push(lC(F,R,I)))),N)break;F=F.return}0<O.length&&(w=new S(w,T,null,t,m),y.push({event:w,listeners:O}))}}if(!(e&7)){e:{if(w=n==="mouseover"||n==="pointerover",S=n==="mouseout"||n==="pointerout",w&&t!==L4&&(T=t.relatedTarget||t.fromElement)&&(Ey(T)||T[Zh]))break e;if((S||w)&&(w=m.window===m?m:(w=m.ownerDocument)?w.defaultView||w.parentWindow:window,S?(T=t.relatedTarget||t.toElement,S=h,T=T?Ey(T):null,T!==null&&(N=g0(T),T!==N||T.tag!==5&&T.tag!==6)&&(T=null)):(S=null,T=h),S!==T)){if(O=tW,R="onMouseLeave",D="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(O=rW,R="onPointerLeave",D="onPointerEnter",F="pointer"),N=S==null?w:I1(S),I=T==null?w:I1(T),w=new O(R,F+"leave",S,t,m),w.target=N,w.relatedTarget=I,R=null,Ey(m)===h&&(O=new O(D,F+"enter",T,t,m),O.target=I,O.relatedTarget=N,R=O),N=R,S&&T)t:{for(O=S,D=T,F=0,I=O;I;I=d1(I))F++;for(I=0,R=D;R;R=d1(R))I++;for(;0<F-I;)O=d1(O),F--;for(;0<I-F;)D=d1(D),I--;for(;F--;){if(O===D||D!==null&&O===D.alternate)break t;O=d1(O),D=d1(D)}O=null}else O=null;S!==null&&pW(y,w,S,O,!1),T!==null&&N!==null&&pW(y,N,T,O,!0)}}e:{if(w=h?I1(h):window,S=w.nodeName&&w.nodeName.toLowerCase(),S==="select"||S==="input"&&w.type==="file")var z=qge;else if(sW(w))if(TJ)z=Qge;else{z=Gge;var X=Uge}else(S=w.nodeName)&&S.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(z=Yge);if(z&&(z=z(n,h))){OJ(y,z,t,m);break e}X&&X(n,w,h),n==="focusout"&&(X=w._wrapperState)&&X.controlled&&w.type==="number"&&M4(w,"number",w.value)}switch(X=h?I1(h):window,n){case"focusin":(sW(X)||X.contentEditable==="true")&&(D1=X,W4=h,Pk=null);break;case"focusout":Pk=W4=D1=null;break;case"mousedown":q4=!0;break;case"contextmenu":case"mouseup":case"dragend":q4=!1,dW(y,t,m);break;case"selectionchange":if(Zge)break;case"keydown":case"keyup":dW(y,t,m)}var Z;if(e8)e:{switch(n){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else M1?kJ(n,t)&&(ae="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(ae="onCompositionStart");ae&&(SJ&&t.locale!=="ko"&&(M1||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&M1&&(Z=EJ()):(zm=m,X6="value"in zm?zm.value:zm.textContent,M1=!0)),X=$M(h,ae),0<X.length&&(ae=new nW(ae,n,null,t,m),y.push({event:ae,listeners:X}),Z?ae.data=Z:(Z=CJ(t),Z!==null&&(ae.data=Z)))),(Z=Bge?Vge(n,t):zge(n,t))&&(h=$M(h,"onBeforeInput"),0<h.length&&(m=new nW("onBeforeInput","beforeinput",null,t,m),y.push({event:m,listeners:h}),m.data=Z))}$J(y,e)})}function lC(n,e,t){return{instance:n,listener:e,currentTarget:t}}function $M(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=tC(n,t),o!=null&&r.unshift(lC(n,o,i)),o=tC(n,e),o!=null&&r.push(lC(n,o,i))),n=n.return}return r}function d1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function pW(n,e,t,r,i){for(var o=e._reactName,a=[];t!==null&&t!==r;){var c=t,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,i?(u=tC(t,o),u!=null&&a.unshift(lC(t,u,c))):i||(u=tC(t,o),u!=null&&a.push(lC(t,u,c)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var nve=/\r\n?/g,rve=/\u0000|\uFFFD/g;function mW(n){return(typeof n=="string"?n:""+n).replace(nve,`
`).replace(rve,"")}function AA(n,e,t){if(e=mW(e),mW(n)!==e&&t)throw Error(bt(425))}function jM(){}var U4=null,G4=null;function Y4(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Q4=typeof setTimeout=="function"?setTimeout:void 0,ive=typeof clearTimeout=="function"?clearTimeout:void 0,gW=typeof Promise=="function"?Promise:void 0,ove=typeof queueMicrotask=="function"?queueMicrotask:typeof gW<"u"?function(n){return gW.resolve(null).then(n).catch(sve)}:Q4;function sve(n){setTimeout(function(){throw n})}function RF(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),iC(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);iC(e)}function Zm(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function vW(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var uw=Math.random().toString(36).slice(2),kf="__reactFiber$"+uw,cC="__reactProps$"+uw,Zh="__reactContainer$"+uw,K4="__reactEvents$"+uw,ave="__reactListeners$"+uw,lve="__reactHandles$"+uw;function Ey(n){var e=n[kf];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Zh]||t[kf]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=vW(n);n!==null;){if(t=n[kf])return t;n=vW(n)}return e}n=t,t=n.parentNode}return null}function f2(n){return n=n[kf]||n[Zh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function I1(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(bt(33))}function CN(n){return n[cC]||null}var X4=[],F1=-1;function Pg(n){return{current:n}}function qi(n){0>F1||(n.current=X4[F1],X4[F1]=null,F1--)}function Ni(n,e){F1++,X4[F1]=n.current,n.current=e}var fg={},ma=Pg(fg),Al=Pg(!1),zy=fg;function Nx(n,e){var t=n.type.contextTypes;if(!t)return fg;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Rl(n){return n=n.childContextTypes,n!=null}function BM(){qi(Al),qi(ma)}function yW(n,e,t){if(ma.current!==fg)throw Error(bt(168));Ni(ma,e),Ni(Al,t)}function BJ(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(bt(108,Ume(n)||"Unknown",i));return fo({},t,r)}function VM(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||fg,zy=ma.current,Ni(ma,n),Ni(Al,Al.current),!0}function bW(n,e,t){var r=n.stateNode;if(!r)throw Error(bt(169));t?(n=BJ(n,e,zy),r.__reactInternalMemoizedMergedChildContext=n,qi(Al),qi(ma),Ni(ma,n)):qi(Al),Ni(Al,t)}var Mh=null,ON=!1,MF=!1;function VJ(n){Mh===null?Mh=[n]:Mh.push(n)}function cve(n){ON=!0,VJ(n)}function Ag(){if(!MF&&Mh!==null){MF=!0;var n=0,e=hi;try{var t=Mh;for(hi=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Mh=null,ON=!1}catch(i){throw Mh!==null&&(Mh=Mh.slice(n+1)),fJ(G6,Ag),i}finally{hi=e,MF=!1}}return null}var L1=[],$1=0,zM=null,HM=0,lu=[],cu=0,Hy=null,$h=1,jh="";function dy(n,e){L1[$1++]=HM,L1[$1++]=zM,zM=n,HM=e}function zJ(n,e,t){lu[cu++]=$h,lu[cu++]=jh,lu[cu++]=Hy,Hy=n;var r=$h;n=jh;var i=32-_d(r)-1;r&=~(1<<i),t+=1;var o=32-_d(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$h=1<<32-_d(e)+i|t<<i|r,jh=o+n}else $h=1<<o|t<<i|r,jh=n}function n8(n){n.return!==null&&(dy(n,1),zJ(n,1,0))}function r8(n){for(;n===zM;)zM=L1[--$1],L1[$1]=null,HM=L1[--$1],L1[$1]=null;for(;n===Hy;)Hy=lu[--cu],lu[cu]=null,jh=lu[--cu],lu[cu]=null,$h=lu[--cu],lu[cu]=null}var vc=null,pc=null,no=!1,cd=null;function HJ(n,e){var t=du(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function xW(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,vc=n,pc=Zm(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,vc=n,pc=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Hy!==null?{id:$h,overflow:jh}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=du(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,vc=n,pc=null,!0):!1;default:return!1}}function Z4(n){return(n.mode&1)!==0&&(n.flags&128)===0}function J4(n){if(no){var e=pc;if(e){var t=e;if(!xW(n,e)){if(Z4(n))throw Error(bt(418));e=Zm(t.nextSibling);var r=vc;e&&xW(n,e)?HJ(r,t):(n.flags=n.flags&-4097|2,no=!1,vc=n)}}else{if(Z4(n))throw Error(bt(418));n.flags=n.flags&-4097|2,no=!1,vc=n}}}function wW(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vc=n}function RA(n){if(n!==vc)return!1;if(!no)return wW(n),no=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Y4(n.type,n.memoizedProps)),e&&(e=pc)){if(Z4(n))throw WJ(),Error(bt(418));for(;e;)HJ(n,e),e=Zm(e.nextSibling)}if(wW(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(bt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){pc=Zm(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}pc=null}}else pc=vc?Zm(n.stateNode.nextSibling):null;return!0}function WJ(){for(var n=pc;n;)n=Zm(n.nextSibling)}function Ix(){pc=vc=null,no=!1}function i8(n){cd===null?cd=[n]:cd.push(n)}var uve=up.ReactCurrentBatchConfig;function PS(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(bt(309));var r=t.stateNode}if(!r)throw Error(bt(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=i.refs;a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(bt(284));if(!t._owner)throw Error(bt(290,n))}return n}function MA(n,e){throw n=Object.prototype.toString.call(e),Error(bt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function _W(n){var e=n._init;return e(n._payload)}function qJ(n){function e(D,F){if(n){var I=D.deletions;I===null?(D.deletions=[F],D.flags|=16):I.push(F)}}function t(D,F){if(!n)return null;for(;F!==null;)e(D,F),F=F.sibling;return null}function r(D,F){for(D=new Map;F!==null;)F.key!==null?D.set(F.key,F):D.set(F.index,F),F=F.sibling;return D}function i(D,F){return D=ng(D,F),D.index=0,D.sibling=null,D}function o(D,F,I){return D.index=I,n?(I=D.alternate,I!==null?(I=I.index,I<F?(D.flags|=2,F):I):(D.flags|=2,F)):(D.flags|=1048576,F)}function a(D){return n&&D.alternate===null&&(D.flags|=2),D}function c(D,F,I,R){return F===null||F.tag!==6?(F=jF(I,D.mode,R),F.return=D,F):(F=i(F,I),F.return=D,F)}function u(D,F,I,R){var z=I.type;return z===R1?m(D,F,I.props.children,R,I.key):F!==null&&(F.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===wm&&_W(z)===F.type)?(R=i(F,I.props),R.ref=PS(D,F,I),R.return=D,R):(R=oM(I.type,I.key,I.props,null,D.mode,R),R.ref=PS(D,F,I),R.return=D,R)}function h(D,F,I,R){return F===null||F.tag!==4||F.stateNode.containerInfo!==I.containerInfo||F.stateNode.implementation!==I.implementation?(F=BF(I,D.mode,R),F.return=D,F):(F=i(F,I.children||[]),F.return=D,F)}function m(D,F,I,R,z){return F===null||F.tag!==7?(F=$y(I,D.mode,R,z),F.return=D,F):(F=i(F,I),F.return=D,F)}function y(D,F,I){if(typeof F=="string"&&F!==""||typeof F=="number")return F=jF(""+F,D.mode,I),F.return=D,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case wA:return I=oM(F.type,F.key,F.props,null,D.mode,I),I.ref=PS(D,null,F),I.return=D,I;case A1:return F=BF(F,D.mode,I),F.return=D,F;case wm:var R=F._init;return y(D,R(F._payload),I)}if(uk(F)||SS(F))return F=$y(F,D.mode,I,null),F.return=D,F;MA(D,F)}return null}function w(D,F,I,R){var z=F!==null?F.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return z!==null?null:c(D,F,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case wA:return I.key===z?u(D,F,I,R):null;case A1:return I.key===z?h(D,F,I,R):null;case wm:return z=I._init,w(D,F,z(I._payload),R)}if(uk(I)||SS(I))return z!==null?null:m(D,F,I,R,null);MA(D,I)}return null}function S(D,F,I,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return D=D.get(I)||null,c(F,D,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case wA:return D=D.get(R.key===null?I:R.key)||null,u(F,D,R,z);case A1:return D=D.get(R.key===null?I:R.key)||null,h(F,D,R,z);case wm:var X=R._init;return S(D,F,I,X(R._payload),z)}if(uk(R)||SS(R))return D=D.get(I)||null,m(F,D,R,z,null);MA(F,R)}return null}function T(D,F,I,R){for(var z=null,X=null,Z=F,ae=F=0,ge=null;Z!==null&&ae<I.length;ae++){Z.index>ae?(ge=Z,Z=null):ge=Z.sibling;var _e=w(D,Z,I[ae],R);if(_e===null){Z===null&&(Z=ge);break}n&&Z&&_e.alternate===null&&e(D,Z),F=o(_e,F,ae),X===null?z=_e:X.sibling=_e,X=_e,Z=ge}if(ae===I.length)return t(D,Z),no&&dy(D,ae),z;if(Z===null){for(;ae<I.length;ae++)Z=y(D,I[ae],R),Z!==null&&(F=o(Z,F,ae),X===null?z=Z:X.sibling=Z,X=Z);return no&&dy(D,ae),z}for(Z=r(D,Z);ae<I.length;ae++)ge=S(Z,D,ae,I[ae],R),ge!==null&&(n&&ge.alternate!==null&&Z.delete(ge.key===null?ae:ge.key),F=o(ge,F,ae),X===null?z=ge:X.sibling=ge,X=ge);return n&&Z.forEach(function(be){return e(D,be)}),no&&dy(D,ae),z}function O(D,F,I,R){var z=SS(I);if(typeof z!="function")throw Error(bt(150));if(I=z.call(I),I==null)throw Error(bt(151));for(var X=z=null,Z=F,ae=F=0,ge=null,_e=I.next();Z!==null&&!_e.done;ae++,_e=I.next()){Z.index>ae?(ge=Z,Z=null):ge=Z.sibling;var be=w(D,Z,_e.value,R);if(be===null){Z===null&&(Z=ge);break}n&&Z&&be.alternate===null&&e(D,Z),F=o(be,F,ae),X===null?z=be:X.sibling=be,X=be,Z=ge}if(_e.done)return t(D,Z),no&&dy(D,ae),z;if(Z===null){for(;!_e.done;ae++,_e=I.next())_e=y(D,_e.value,R),_e!==null&&(F=o(_e,F,ae),X===null?z=_e:X.sibling=_e,X=_e);return no&&dy(D,ae),z}for(Z=r(D,Z);!_e.done;ae++,_e=I.next())_e=S(Z,D,ae,_e.value,R),_e!==null&&(n&&_e.alternate!==null&&Z.delete(_e.key===null?ae:_e.key),F=o(_e,F,ae),X===null?z=_e:X.sibling=_e,X=_e);return n&&Z.forEach(function(he){return e(D,he)}),no&&dy(D,ae),z}function N(D,F,I,R){if(typeof I=="object"&&I!==null&&I.type===R1&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case wA:e:{for(var z=I.key,X=F;X!==null;){if(X.key===z){if(z=I.type,z===R1){if(X.tag===7){t(D,X.sibling),F=i(X,I.props.children),F.return=D,D=F;break e}}else if(X.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===wm&&_W(z)===X.type){t(D,X.sibling),F=i(X,I.props),F.ref=PS(D,X,I),F.return=D,D=F;break e}t(D,X);break}else e(D,X);X=X.sibling}I.type===R1?(F=$y(I.props.children,D.mode,R,I.key),F.return=D,D=F):(R=oM(I.type,I.key,I.props,null,D.mode,R),R.ref=PS(D,F,I),R.return=D,D=R)}return a(D);case A1:e:{for(X=I.key;F!==null;){if(F.key===X)if(F.tag===4&&F.stateNode.containerInfo===I.containerInfo&&F.stateNode.implementation===I.implementation){t(D,F.sibling),F=i(F,I.children||[]),F.return=D,D=F;break e}else{t(D,F);break}else e(D,F);F=F.sibling}F=BF(I,D.mode,R),F.return=D,D=F}return a(D);case wm:return X=I._init,N(D,F,X(I._payload),R)}if(uk(I))return T(D,F,I,R);if(SS(I))return O(D,F,I,R);MA(D,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,F!==null&&F.tag===6?(t(D,F.sibling),F=i(F,I),F.return=D,D=F):(t(D,F),F=jF(I,D.mode,R),F.return=D,D=F),a(D)):t(D,F)}return N}var Fx=qJ(!0),UJ=qJ(!1),WM=Pg(null),qM=null,j1=null,o8=null;function s8(){o8=j1=qM=null}function a8(n){var e=WM.current;qi(WM),n._currentValue=e}function e$(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Z1(n,e){qM=n,o8=j1=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Pl=!0),n.firstContext=null)}function Eu(n){var e=n._currentValue;if(o8!==n)if(n={context:n,memoizedValue:e,next:null},j1===null){if(qM===null)throw Error(bt(308));j1=n,qM.dependencies={lanes:0,firstContext:n}}else j1=j1.next=n;return e}var Sy=null;function l8(n){Sy===null?Sy=[n]:Sy.push(n)}function GJ(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,l8(e)):(t.next=i.next,i.next=t),e.interleaved=t,Jh(n,r)}function Jh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var _m=!1;function c8(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YJ(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Wh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Jm(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,$r&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jh(n,t)}return i=r.interleaved,i===null?(e.next=e,l8(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jh(n,t)}function JR(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Y6(n,t)}}function EW(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function UM(n,e,t,r){var i=n.updateQueue;_m=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,h=u.next;u.next=null,a===null?o=h:a.next=h,a=u;var m=n.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==a&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=u))}if(o!==null){var y=i.baseState;a=0,m=h=u=null,c=o;do{var w=c.lane,S=c.eventTime;if((r&w)===w){m!==null&&(m=m.next={eventTime:S,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var T=n,O=c;switch(w=e,S=t,O.tag){case 1:if(T=O.payload,typeof T=="function"){y=T.call(S,y,w);break e}y=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=O.payload,w=typeof T=="function"?T.call(S,y,w):T,w==null)break e;y=fo({},y,w);break e;case 2:_m=!0}}c.callback!==null&&c.lane!==0&&(n.flags|=64,w=i.effects,w===null?i.effects=[c]:w.push(c))}else S={eventTime:S,lane:w,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=S,u=y):m=m.next=S,a|=w;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;w=c,c=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(m===null&&(u=y),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);qy|=a,n.lanes=a,n.memoizedState=y}}function SW(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(bt(191,i));i.call(r)}}}var h2={},If=Pg(h2),uC=Pg(h2),dC=Pg(h2);function ky(n){if(n===h2)throw Error(bt(174));return n}function u8(n,e){switch(Ni(dC,e),Ni(uC,n),Ni(If,h2),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N4(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=N4(e,n)}qi(If),Ni(If,e)}function Lx(){qi(If),qi(uC),qi(dC)}function QJ(n){ky(dC.current);var e=ky(If.current),t=N4(e,n.type);e!==t&&(Ni(uC,n),Ni(If,t))}function d8(n){uC.current===n&&(qi(If),qi(uC))}var co=Pg(0);function GM(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var DF=[];function f8(){for(var n=0;n<DF.length;n++)DF[n]._workInProgressVersionPrimary=null;DF.length=0}var eM=up.ReactCurrentDispatcher,NF=up.ReactCurrentBatchConfig,Wy=0,uo=null,ps=null,Ds=null,YM=!1,Ak=!1,fC=0,dve=0;function oa(){throw Error(bt(321))}function h8(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Cd(n[t],e[t]))return!1;return!0}function p8(n,e,t,r,i,o){if(Wy=o,uo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eM.current=n===null||n.memoizedState===null?mve:gve,n=t(r,i),Ak){o=0;do{if(Ak=!1,fC=0,25<=o)throw Error(bt(301));o+=1,Ds=ps=null,e.updateQueue=null,eM.current=vve,n=t(r,i)}while(Ak)}if(eM.current=QM,e=ps!==null&&ps.next!==null,Wy=0,Ds=ps=uo=null,YM=!1,e)throw Error(bt(300));return n}function m8(){var n=fC!==0;return fC=0,n}function yf(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ds===null?uo.memoizedState=Ds=n:Ds=Ds.next=n,Ds}function Su(){if(ps===null){var n=uo.alternate;n=n!==null?n.memoizedState:null}else n=ps.next;var e=Ds===null?uo.memoizedState:Ds.next;if(e!==null)Ds=e,ps=n;else{if(n===null)throw Error(bt(310));ps=n,n={memoizedState:ps.memoizedState,baseState:ps.baseState,baseQueue:ps.baseQueue,queue:ps.queue,next:null},Ds===null?uo.memoizedState=Ds=n:Ds=Ds.next=n}return Ds}function hC(n,e){return typeof e=="function"?e(n):e}function IF(n){var e=Su(),t=e.queue;if(t===null)throw Error(bt(311));t.lastRenderedReducer=n;var r=ps,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=a=null,u=null,h=o;do{var m=h.lane;if((Wy&m)===m)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:n(r,h.action);else{var y={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=y,a=r):u=u.next=y,uo.lanes|=m,qy|=m}h=h.next}while(h!==null&&h!==o);u===null?a=r:u.next=c,Cd(r,e.memoizedState)||(Pl=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,uo.lanes|=o,qy|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function FF(n){var e=Su(),t=e.queue;if(t===null)throw Error(bt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);Cd(o,e.memoizedState)||(Pl=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function KJ(){}function XJ(n,e){var t=uo,r=Su(),i=e(),o=!Cd(r.memoizedState,i);if(o&&(r.memoizedState=i,Pl=!0),r=r.queue,g8(eee.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||Ds!==null&&Ds.memoizedState.tag&1){if(t.flags|=2048,pC(9,JJ.bind(null,t,r,i,e),void 0,null),$s===null)throw Error(bt(349));Wy&30||ZJ(t,e,i)}return i}function ZJ(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=uo.updateQueue,e===null?(e={lastEffect:null,stores:null},uo.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function JJ(n,e,t,r){e.value=t,e.getSnapshot=r,tee(e)&&nee(n)}function eee(n,e,t){return t(function(){tee(e)&&nee(n)})}function tee(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Cd(n,t)}catch{return!0}}function nee(n){var e=Jh(n,1);e!==null&&Ed(e,n,1,-1)}function kW(n){var e=yf();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hC,lastRenderedState:n},e.queue=n,n=n.dispatch=pve.bind(null,uo,n),[e.memoizedState,n]}function pC(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=uo.updateQueue,e===null?(e={lastEffect:null,stores:null},uo.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function ree(){return Su().memoizedState}function tM(n,e,t,r){var i=yf();uo.flags|=n,i.memoizedState=pC(1|e,t,void 0,r===void 0?null:r)}function TN(n,e,t,r){var i=Su();r=r===void 0?null:r;var o=void 0;if(ps!==null){var a=ps.memoizedState;if(o=a.destroy,r!==null&&h8(r,a.deps)){i.memoizedState=pC(e,t,o,r);return}}uo.flags|=n,i.memoizedState=pC(1|e,t,o,r)}function CW(n,e){return tM(8390656,8,n,e)}function g8(n,e){return TN(2048,8,n,e)}function iee(n,e){return TN(4,2,n,e)}function oee(n,e){return TN(4,4,n,e)}function see(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function aee(n,e,t){return t=t!=null?t.concat([n]):null,TN(4,4,see.bind(null,e,n),t)}function v8(){}function lee(n,e){var t=Su();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&h8(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function cee(n,e){var t=Su();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&h8(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function uee(n,e,t){return Wy&21?(Cd(t,e)||(t=mJ(),uo.lanes|=t,qy|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Pl=!0),n.memoizedState=t)}function fve(n,e){var t=hi;hi=t!==0&&4>t?t:4,n(!0);var r=NF.transition;NF.transition={};try{n(!1),e()}finally{hi=t,NF.transition=r}}function dee(){return Su().memoizedState}function hve(n,e,t){var r=tg(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},fee(n))hee(e,t);else if(t=GJ(n,e,t,r),t!==null){var i=Ua();Ed(t,n,r,i),pee(t,e,r)}}function pve(n,e,t){var r=tg(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(fee(n))hee(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,t);if(i.hasEagerState=!0,i.eagerState=c,Cd(c,a)){var u=e.interleaved;u===null?(i.next=i,l8(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}t=GJ(n,e,i,r),t!==null&&(i=Ua(),Ed(t,n,r,i),pee(t,e,r))}}function fee(n){var e=n.alternate;return n===uo||e!==null&&e===uo}function hee(n,e){Ak=YM=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function pee(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Y6(n,t)}}var QM={readContext:Eu,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},mve={readContext:Eu,useCallback:function(n,e){return yf().memoizedState=[n,e===void 0?null:e],n},useContext:Eu,useEffect:CW,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,tM(4194308,4,see.bind(null,e,n),t)},useLayoutEffect:function(n,e){return tM(4194308,4,n,e)},useInsertionEffect:function(n,e){return tM(4,2,n,e)},useMemo:function(n,e){var t=yf();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=yf();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=hve.bind(null,uo,n),[r.memoizedState,n]},useRef:function(n){var e=yf();return n={current:n},e.memoizedState=n},useState:kW,useDebugValue:v8,useDeferredValue:function(n){return yf().memoizedState=n},useTransition:function(){var n=kW(!1),e=n[0];return n=fve.bind(null,n[1]),yf().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=uo,i=yf();if(no){if(t===void 0)throw Error(bt(407));t=t()}else{if(t=e(),$s===null)throw Error(bt(349));Wy&30||ZJ(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,CW(eee.bind(null,r,o,n),[n]),r.flags|=2048,pC(9,JJ.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=yf(),e=$s.identifierPrefix;if(no){var t=jh,r=$h;t=(r&~(1<<32-_d(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=fC++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=dve++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},gve={readContext:Eu,useCallback:lee,useContext:Eu,useEffect:g8,useImperativeHandle:aee,useInsertionEffect:iee,useLayoutEffect:oee,useMemo:cee,useReducer:IF,useRef:ree,useState:function(){return IF(hC)},useDebugValue:v8,useDeferredValue:function(n){var e=Su();return uee(e,ps.memoizedState,n)},useTransition:function(){var n=IF(hC)[0],e=Su().memoizedState;return[n,e]},useMutableSource:KJ,useSyncExternalStore:XJ,useId:dee,unstable_isNewReconciler:!1},vve={readContext:Eu,useCallback:lee,useContext:Eu,useEffect:g8,useImperativeHandle:aee,useInsertionEffect:iee,useLayoutEffect:oee,useMemo:cee,useReducer:FF,useRef:ree,useState:function(){return FF(hC)},useDebugValue:v8,useDeferredValue:function(n){var e=Su();return ps===null?e.memoizedState=n:uee(e,ps.memoizedState,n)},useTransition:function(){var n=FF(hC)[0],e=Su().memoizedState;return[n,e]},useMutableSource:KJ,useSyncExternalStore:XJ,useId:dee,unstable_isNewReconciler:!1};function sd(n,e){if(n&&n.defaultProps){e=fo({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function t$(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:fo({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var PN={isMounted:function(n){return(n=n._reactInternals)?g0(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ua(),i=tg(n),o=Wh(r,i);o.payload=e,t!=null&&(o.callback=t),e=Jm(n,o,i),e!==null&&(Ed(e,n,i,r),JR(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ua(),i=tg(n),o=Wh(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Jm(n,o,i),e!==null&&(Ed(e,n,i,r),JR(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ua(),r=tg(n),i=Wh(t,r);i.tag=2,e!=null&&(i.callback=e),e=Jm(n,i,r),e!==null&&(Ed(e,n,r,t),JR(e,n,r))}};function OW(n,e,t,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!sC(t,r)||!sC(i,o):!0}function mee(n,e,t){var r=!1,i=fg,o=e.contextType;return typeof o=="object"&&o!==null?o=Eu(o):(i=Rl(e)?zy:ma.current,r=e.contextTypes,o=(r=r!=null)?Nx(n,i):fg),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=PN,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function TW(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&PN.enqueueReplaceState(e,e.state,null)}function n$(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},c8(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Eu(o):(o=Rl(e)?zy:ma.current,i.context=Nx(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(t$(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&PN.enqueueReplaceState(i,i.state,null),UM(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function $x(n,e){try{var t="",r=e;do t+=qme(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function LF(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function r$(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var yve=typeof WeakMap=="function"?WeakMap:Map;function gee(n,e,t){t=Wh(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){XM||(XM=!0,h$=r),r$(n,e)},t}function vee(n,e,t){t=Wh(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){r$(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){r$(n,e),typeof r!="function"&&(eg===null?eg=new Set([this]):eg.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function PW(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new yve;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Mve.bind(null,n,e,t),e.then(n,n))}function AW(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function RW(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Wh(-1,1),e.tag=2,Jm(t,e,1))),t.lanes|=1),n)}var bve=up.ReactCurrentOwner,Pl=!1;function Va(n,e,t,r){e.child=n===null?UJ(e,null,t,r):Fx(e,n.child,t,r)}function MW(n,e,t,r,i){t=t.render;var o=e.ref;return Z1(e,i),r=p8(n,e,t,r,o,i),t=m8(),n!==null&&!Pl?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ep(n,e,i)):(no&&t&&n8(e),e.flags|=1,Va(n,e,r,i),e.child)}function DW(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!k8(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,yee(n,e,o,r,i)):(n=oM(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:sC,t(a,r)&&n.ref===e.ref)return ep(n,e,i)}return e.flags|=1,n=ng(o,r),n.ref=e.ref,n.return=e,e.child=n}function yee(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(sC(o,r)&&n.ref===e.ref)if(Pl=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(Pl=!0);else return e.lanes=n.lanes,ep(n,e,i)}return i$(n,e,t,r,i)}function bee(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(V1,lc),lc|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ni(V1,lc),lc|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,Ni(V1,lc),lc|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,Ni(V1,lc),lc|=r;return Va(n,e,i,t),e.child}function xee(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function i$(n,e,t,r,i){var o=Rl(t)?zy:ma.current;return o=Nx(e,o),Z1(e,i),t=p8(n,e,t,r,o,i),r=m8(),n!==null&&!Pl?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ep(n,e,i)):(no&&r&&n8(e),e.flags|=1,Va(n,e,t,i),e.child)}function NW(n,e,t,r,i){if(Rl(t)){var o=!0;VM(e)}else o=!1;if(Z1(e,i),e.stateNode===null)nM(n,e),mee(e,t,r),n$(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,h=t.contextType;typeof h=="object"&&h!==null?h=Eu(h):(h=Rl(t)?zy:ma.current,h=Nx(e,h));var m=t.getDerivedStateFromProps,y=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==h)&&TW(e,a,r,h),_m=!1;var w=e.memoizedState;a.state=w,UM(e,r,a,i),u=e.memoizedState,c!==r||w!==u||Al.current||_m?(typeof m=="function"&&(t$(e,t,m,r),u=e.memoizedState),(c=_m||OW(e,t,c,r,w,u,h))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,YJ(n,e),c=e.memoizedProps,h=e.type===e.elementType?c:sd(e.type,c),a.props=h,y=e.pendingProps,w=a.context,u=t.contextType,typeof u=="object"&&u!==null?u=Eu(u):(u=Rl(t)?zy:ma.current,u=Nx(e,u));var S=t.getDerivedStateFromProps;(m=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==y||w!==u)&&TW(e,a,r,u),_m=!1,w=e.memoizedState,a.state=w,UM(e,r,a,i);var T=e.memoizedState;c!==y||w!==T||Al.current||_m?(typeof S=="function"&&(t$(e,t,S,r),T=e.memoizedState),(h=_m||OW(e,t,h,r,w,T,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,T,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,T,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===n.memoizedProps&&w===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&w===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),a.props=r,a.state=T,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||c===n.memoizedProps&&w===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&w===n.memoizedState||(e.flags|=1024),r=!1)}return o$(n,e,t,r,o,i)}function o$(n,e,t,r,i,o){xee(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&bW(e,t,!1),ep(n,e,o);r=e.stateNode,bve.current=e;var c=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=Fx(e,n.child,null,o),e.child=Fx(e,null,c,o)):Va(n,e,c,o),e.memoizedState=r.state,i&&bW(e,t,!0),e.child}function wee(n){var e=n.stateNode;e.pendingContext?yW(n,e.pendingContext,e.pendingContext!==e.context):e.context&&yW(n,e.context,!1),u8(n,e.containerInfo)}function IW(n,e,t,r,i){return Ix(),i8(i),e.flags|=256,Va(n,e,t,r),e.child}var s$={dehydrated:null,treeContext:null,retryLane:0};function a$(n){return{baseLanes:n,cachePool:null,transitions:null}}function _ee(n,e,t){var r=e.pendingProps,i=co.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=n!==null&&n.memoizedState===null?!1:(i&2)!==0),c?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Ni(co,i&1),n===null)return J4(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=MN(a,r,0,null),n=$y(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=a$(t),e.memoizedState=s$,n):y8(e,a));if(i=n.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return xve(n,e,a,r,c,i,t);if(o){o=r.fallback,a=e.mode,i=n.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ng(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=ng(c,o):(o=$y(o,a,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=n.child.memoizedState,a=a===null?a$(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~t,e.memoizedState=s$,r}return o=n.child,n=o.sibling,r=ng(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function y8(n,e){return e=MN({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function DA(n,e,t,r){return r!==null&&i8(r),Fx(e,n.child,null,t),n=y8(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function xve(n,e,t,r,i,o,a){if(t)return e.flags&256?(e.flags&=-257,r=LF(Error(bt(422))),DA(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=MN({mode:"visible",children:r.children},i,0,null),o=$y(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fx(e,n.child,null,a),e.child.memoizedState=a$(a),e.memoizedState=s$,o);if(!(e.mode&1))return DA(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(bt(419)),r=LF(o,r,void 0),DA(n,e,a,r)}if(c=(a&n.childLanes)!==0,Pl||c){if(r=$s,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jh(n,i),Ed(r,n,i,-1))}return S8(),r=LF(Error(bt(421))),DA(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Dve.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,pc=Zm(i.nextSibling),vc=e,no=!0,cd=null,n!==null&&(lu[cu++]=$h,lu[cu++]=jh,lu[cu++]=Hy,$h=n.id,jh=n.overflow,Hy=e),e=y8(e,r.children),e.flags|=4096,e)}function FW(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),e$(n.return,e,t)}function $F(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function Eee(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Va(n,e,r.children,t),r=co.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&FW(n,t,e);else if(n.tag===19)FW(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ni(co,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&GM(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),$F(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&GM(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}$F(e,!0,t,null,o);break;case"together":$F(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nM(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ep(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),qy|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(bt(153));if(e.child!==null){for(n=e.child,t=ng(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ng(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function wve(n,e,t){switch(e.tag){case 3:wee(e),Ix();break;case 5:QJ(e);break;case 1:Rl(e.type)&&VM(e);break;case 4:u8(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ni(WM,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ni(co,co.current&1),e.flags|=128,null):t&e.child.childLanes?_ee(n,e,t):(Ni(co,co.current&1),n=ep(n,e,t),n!==null?n.sibling:null);Ni(co,co.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Eee(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(co,co.current),r)break;return null;case 22:case 23:return e.lanes=0,bee(n,e,t)}return ep(n,e,t)}var See,l$,kee,Cee;See=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};l$=function(){};kee=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ky(If.current);var o=null;switch(t){case"input":i=A4(n,i),r=A4(n,r),o=[];break;case"select":i=fo({},i,{value:void 0}),r=fo({},r,{value:void 0}),o=[];break;case"textarea":i=D4(n,i),r=D4(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=jM)}I4(t,r);var a;t=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(a in c)c.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Jk.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(t||(t={}),t[a]=u[a])}else t||(o||(o=[]),o.push(h,t)),t=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Jk.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&zi("scroll",n),o||c===u||(o=[])):(o=o||[]).push(h,u))}t&&(o=o||[]).push("style",t);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Cee=function(n,e,t,r){t!==r&&(e.flags|=4)};function AS(n,e){if(!no)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function sa(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function _ve(n,e,t){var r=e.pendingProps;switch(r8(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sa(e),null;case 1:return Rl(e.type)&&BM(),sa(e),null;case 3:return r=e.stateNode,Lx(),qi(Al),qi(ma),f8(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(RA(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cd!==null&&(g$(cd),cd=null))),l$(n,e),sa(e),null;case 5:d8(e);var i=ky(dC.current);if(t=e.type,n!==null&&e.stateNode!=null)kee(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(bt(166));return sa(e),null}if(n=ky(If.current),RA(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[kf]=e,r[cC]=o,n=(e.mode&1)!==0,t){case"dialog":zi("cancel",r),zi("close",r);break;case"iframe":case"object":case"embed":zi("load",r);break;case"video":case"audio":for(i=0;i<fk.length;i++)zi(fk[i],r);break;case"source":zi("error",r);break;case"img":case"image":case"link":zi("error",r),zi("load",r);break;case"details":zi("toggle",r);break;case"input":qH(r,o),zi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zi("invalid",r);break;case"textarea":GH(r,o),zi("invalid",r)}I4(t,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&AA(r.textContent,c,n),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&AA(r.textContent,c,n),i=["children",""+c]):Jk.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&zi("scroll",r)}switch(t){case"input":_A(r),UH(r,o,!0);break;case"textarea":_A(r),YH(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jM)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=eJ(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[kf]=e,n[cC]=r,See(n,e,!1,!1),e.stateNode=n;e:{switch(a=F4(t,r),t){case"dialog":zi("cancel",n),zi("close",n),i=r;break;case"iframe":case"object":case"embed":zi("load",n),i=r;break;case"video":case"audio":for(i=0;i<fk.length;i++)zi(fk[i],n);i=r;break;case"source":zi("error",n),i=r;break;case"img":case"image":case"link":zi("error",n),zi("load",n),i=r;break;case"details":zi("toggle",n),i=r;break;case"input":qH(n,r),i=A4(n,r),zi("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=fo({},r,{value:void 0}),zi("invalid",n);break;case"textarea":GH(n,r),i=D4(n,r),zi("invalid",n);break;default:i=r}I4(t,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?rJ(n,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&tJ(n,u)):o==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&eC(n,u):typeof u=="number"&&eC(n,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jk.hasOwnProperty(o)?u!=null&&o==="onScroll"&&zi("scroll",n):u!=null&&z6(n,o,u,a))}switch(t){case"input":_A(n),UH(n,r,!1);break;case"textarea":_A(n),YH(n);break;case"option":r.value!=null&&n.setAttribute("value",""+dg(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Y1(n,!!r.multiple,o,!1):r.defaultValue!=null&&Y1(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=jM)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sa(e),null;case 6:if(n&&e.stateNode!=null)Cee(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(bt(166));if(t=ky(dC.current),ky(If.current),RA(e)){if(r=e.stateNode,t=e.memoizedProps,r[kf]=e,(o=r.nodeValue!==t)&&(n=vc,n!==null))switch(n.tag){case 3:AA(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&AA(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[kf]=e,e.stateNode=r}return sa(e),null;case 13:if(qi(co),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(no&&pc!==null&&e.mode&1&&!(e.flags&128))WJ(),Ix(),e.flags|=98560,o=!1;else if(o=RA(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(bt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(bt(317));o[kf]=e}else Ix(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sa(e),o=!1}else cd!==null&&(g$(cd),cd=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||co.current&1?vs===0&&(vs=3):S8())),e.updateQueue!==null&&(e.flags|=4),sa(e),null);case 4:return Lx(),l$(n,e),n===null&&aC(e.stateNode.containerInfo),sa(e),null;case 10:return a8(e.type._context),sa(e),null;case 17:return Rl(e.type)&&BM(),sa(e),null;case 19:if(qi(co),o=e.memoizedState,o===null)return sa(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)AS(o,!1);else{if(vs!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=GM(n),a!==null){for(e.flags|=128,AS(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ni(co,co.current&1|2),e.child}n=n.sibling}o.tail!==null&&Fo()>jx&&(e.flags|=128,r=!0,AS(o,!1),e.lanes=4194304)}else{if(!r)if(n=GM(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),AS(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!no)return sa(e),null}else 2*Fo()-o.renderingStartTime>jx&&t!==1073741824&&(e.flags|=128,r=!0,AS(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(t=o.last,t!==null?t.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fo(),e.sibling=null,t=co.current,Ni(co,r?t&1|2:t&1),e):(sa(e),null);case 22:case 23:return E8(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lc&1073741824&&(sa(e),e.subtreeFlags&6&&(e.flags|=8192)):sa(e),null;case 24:return null;case 25:return null}throw Error(bt(156,e.tag))}function Eve(n,e){switch(r8(e),e.tag){case 1:return Rl(e.type)&&BM(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Lx(),qi(Al),qi(ma),f8(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return d8(e),null;case 13:if(qi(co),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(bt(340));Ix()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return qi(co),null;case 4:return Lx(),null;case 10:return a8(e.type._context),null;case 22:case 23:return E8(),null;case 24:return null;default:return null}}var NA=!1,da=!1,Sve=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function B1(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){_o(n,e,r)}else t.current=null}function c$(n,e,t){try{t()}catch(r){_o(n,e,r)}}var LW=!1;function kve(n,e){if(U4=FM,n=RJ(),t8(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var a=0,c=-1,u=-1,h=0,m=0,y=n,w=null;t:for(;;){for(var S;y!==t||i!==0&&y.nodeType!==3||(c=a+i),y!==o||r!==0&&y.nodeType!==3||(u=a+r),y.nodeType===3&&(a+=y.nodeValue.length),(S=y.firstChild)!==null;)w=y,y=S;for(;;){if(y===n)break t;if(w===t&&++h===i&&(c=a),w===o&&++m===r&&(u=a),(S=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=S}t=c===-1||u===-1?null:{start:c,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(G4={focusedElem:n,selectionRange:t},FM=!1,Zt=e;Zt!==null;)if(e=Zt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Zt=n;else for(;Zt!==null;){e=Zt;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var O=T.memoizedProps,N=T.memoizedState,D=e.stateNode,F=D.getSnapshotBeforeUpdate(e.elementType===e.type?O:sd(e.type,O),N);D.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(R){_o(e,e.return,R)}if(n=e.sibling,n!==null){n.return=e.return,Zt=n;break}Zt=e.return}return T=LW,LW=!1,T}function Rk(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&c$(e,t,o)}i=i.next}while(i!==r)}}function AN(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function u$(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Oee(n){var e=n.alternate;e!==null&&(n.alternate=null,Oee(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[kf],delete e[cC],delete e[K4],delete e[ave],delete e[lve])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Tee(n){return n.tag===5||n.tag===3||n.tag===4}function $W(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tee(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function d$(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=jM));else if(r!==4&&(n=n.child,n!==null))for(d$(n,e,t),n=n.sibling;n!==null;)d$(n,e,t),n=n.sibling}function f$(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(f$(n,e,t),n=n.sibling;n!==null;)f$(n,e,t),n=n.sibling}var Ys=null,ld=!1;function fm(n,e,t){for(t=t.child;t!==null;)Pee(n,e,t),t=t.sibling}function Pee(n,e,t){if(Nf&&typeof Nf.onCommitFiberUnmount=="function")try{Nf.onCommitFiberUnmount(_N,t)}catch{}switch(t.tag){case 5:da||B1(t,e);case 6:var r=Ys,i=ld;Ys=null,fm(n,e,t),Ys=r,ld=i,Ys!==null&&(ld?(n=Ys,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ys.removeChild(t.stateNode));break;case 18:Ys!==null&&(ld?(n=Ys,t=t.stateNode,n.nodeType===8?RF(n.parentNode,t):n.nodeType===1&&RF(n,t),iC(n)):RF(Ys,t.stateNode));break;case 4:r=Ys,i=ld,Ys=t.stateNode.containerInfo,ld=!0,fm(n,e,t),Ys=r,ld=i;break;case 0:case 11:case 14:case 15:if(!da&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&c$(t,e,a),i=i.next}while(i!==r)}fm(n,e,t);break;case 1:if(!da&&(B1(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(c){_o(t,e,c)}fm(n,e,t);break;case 21:fm(n,e,t);break;case 22:t.mode&1?(da=(r=da)||t.memoizedState!==null,fm(n,e,t),da=r):fm(n,e,t);break;default:fm(n,e,t)}}function jW(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Sve),e.forEach(function(r){var i=Nve.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ju(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Ys=c.stateNode,ld=!1;break e;case 3:Ys=c.stateNode.containerInfo,ld=!0;break e;case 4:Ys=c.stateNode.containerInfo,ld=!0;break e}c=c.return}if(Ys===null)throw Error(bt(160));Pee(o,a,i),Ys=null,ld=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){_o(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Aee(e,n),e=e.sibling}function Aee(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ju(e,n),df(n),r&4){try{Rk(3,n,n.return),AN(3,n)}catch(O){_o(n,n.return,O)}try{Rk(5,n,n.return)}catch(O){_o(n,n.return,O)}}break;case 1:Ju(e,n),df(n),r&512&&t!==null&&B1(t,t.return);break;case 5:if(Ju(e,n),df(n),r&512&&t!==null&&B1(t,t.return),n.flags&32){var i=n.stateNode;try{eC(i,"")}catch(O){_o(n,n.return,O)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,a=t!==null?t.memoizedProps:o,c=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&ZZ(i,o),F4(c,a);var h=F4(c,o);for(a=0;a<u.length;a+=2){var m=u[a],y=u[a+1];m==="style"?rJ(i,y):m==="dangerouslySetInnerHTML"?tJ(i,y):m==="children"?eC(i,y):z6(i,m,y,h)}switch(c){case"input":R4(i,o);break;case"textarea":JZ(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?Y1(i,!!o.multiple,S,!1):w!==!!o.multiple&&(o.defaultValue!=null?Y1(i,!!o.multiple,o.defaultValue,!0):Y1(i,!!o.multiple,o.multiple?[]:"",!1))}i[cC]=o}catch(O){_o(n,n.return,O)}}break;case 6:if(Ju(e,n),df(n),r&4){if(n.stateNode===null)throw Error(bt(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(O){_o(n,n.return,O)}}break;case 3:if(Ju(e,n),df(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{iC(e.containerInfo)}catch(O){_o(n,n.return,O)}break;case 4:Ju(e,n),df(n);break;case 13:Ju(e,n),df(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(w8=Fo())),r&4&&jW(n);break;case 22:if(m=t!==null&&t.memoizedState!==null,n.mode&1?(da=(h=da)||m,Ju(e,n),da=h):Ju(e,n),df(n),r&8192){if(h=n.memoizedState!==null,(n.stateNode.isHidden=h)&&!m&&n.mode&1)for(Zt=n,m=n.child;m!==null;){for(y=Zt=m;Zt!==null;){switch(w=Zt,S=w.child,w.tag){case 0:case 11:case 14:case 15:Rk(4,w,w.return);break;case 1:B1(w,w.return);var T=w.stateNode;if(typeof T.componentWillUnmount=="function"){r=w,t=w.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(O){_o(r,t,O)}}break;case 5:B1(w,w.return);break;case 22:if(w.memoizedState!==null){VW(y);continue}}S!==null?(S.return=w,Zt=S):VW(y)}m=m.sibling}e:for(m=null,y=n;;){if(y.tag===5){if(m===null){m=y;try{i=y.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=y.stateNode,u=y.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=nJ("display",a))}catch(O){_o(n,n.return,O)}}}else if(y.tag===6){if(m===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(O){_o(n,n.return,O)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;m===y&&(m=null),y=y.return}m===y&&(m=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Ju(e,n),df(n),r&4&&jW(n);break;case 21:break;default:Ju(e,n),df(n)}}function df(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Tee(t)){var r=t;break e}t=t.return}throw Error(bt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(eC(i,""),r.flags&=-33);var o=$W(n);f$(n,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=$W(n);d$(n,c,a);break;default:throw Error(bt(161))}}catch(u){_o(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Cve(n,e,t){Zt=n,Ree(n)}function Ree(n,e,t){for(var r=(n.mode&1)!==0;Zt!==null;){var i=Zt,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||NA;if(!a){var c=i.alternate,u=c!==null&&c.memoizedState!==null||da;c=NA;var h=da;if(NA=a,(da=u)&&!h)for(Zt=i;Zt!==null;)a=Zt,u=a.child,a.tag===22&&a.memoizedState!==null?zW(i):u!==null?(u.return=a,Zt=u):zW(i);for(;o!==null;)Zt=o,Ree(o),o=o.sibling;Zt=i,NA=c,da=h}BW(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Zt=o):BW(n)}}function BW(n){for(;Zt!==null;){var e=Zt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:da||AN(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!da)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:sd(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&SW(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}SW(e,a,t)}break;case 5:var c=e.stateNode;if(t===null&&e.flags&4){t=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var y=m.dehydrated;y!==null&&iC(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}da||e.flags&512&&u$(e)}catch(w){_o(e,e.return,w)}}if(e===n){Zt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Zt=t;break}Zt=e.return}}function VW(n){for(;Zt!==null;){var e=Zt;if(e===n){Zt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Zt=t;break}Zt=e.return}}function zW(n){for(;Zt!==null;){var e=Zt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{AN(4,e)}catch(u){_o(e,t,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){_o(e,i,u)}}var o=e.return;try{u$(e)}catch(u){_o(e,o,u)}break;case 5:var a=e.return;try{u$(e)}catch(u){_o(e,a,u)}}}catch(u){_o(e,e.return,u)}if(e===n){Zt=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Zt=c;break}Zt=e.return}}var Ove=Math.ceil,KM=up.ReactCurrentDispatcher,b8=up.ReactCurrentOwner,bu=up.ReactCurrentBatchConfig,$r=0,$s=null,ts=null,ea=0,lc=0,V1=Pg(0),vs=0,mC=null,qy=0,RN=0,x8=0,Mk=null,kl=null,w8=0,jx=1/0,Ah=null,XM=!1,h$=null,eg=null,IA=!1,Hm=null,ZM=0,Dk=0,p$=null,rM=-1,iM=0;function Ua(){return $r&6?Fo():rM!==-1?rM:rM=Fo()}function tg(n){return n.mode&1?$r&2&&ea!==0?ea&-ea:uve.transition!==null?(iM===0&&(iM=mJ()),iM):(n=hi,n!==0||(n=window.event,n=n===void 0?16:_J(n.type)),n):1}function Ed(n,e,t,r){if(50<Dk)throw Dk=0,p$=null,Error(bt(185));u2(n,t,r),(!($r&2)||n!==$s)&&(n===$s&&(!($r&2)&&(RN|=t),vs===4&&Om(n,ea)),Ml(n,r),t===1&&$r===0&&!(e.mode&1)&&(jx=Fo()+500,ON&&Ag()))}function Ml(n,e){var t=n.callbackNode;uge(n,e);var r=IM(n,n===$s?ea:0);if(r===0)t!==null&&XH(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&XH(t),e===1)n.tag===0?cve(HW.bind(null,n)):VJ(HW.bind(null,n)),ove(function(){!($r&6)&&Ag()}),t=null;else{switch(gJ(r)){case 1:t=G6;break;case 4:t=hJ;break;case 16:t=NM;break;case 536870912:t=pJ;break;default:t=NM}t=jee(t,Mee.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Mee(n,e){if(rM=-1,iM=0,$r&6)throw Error(bt(327));var t=n.callbackNode;if(J1()&&n.callbackNode!==t)return null;var r=IM(n,n===$s?ea:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=JM(n,r);else{e=r;var i=$r;$r|=2;var o=Nee();($s!==n||ea!==e)&&(Ah=null,jx=Fo()+500,Ly(n,e));do try{Ave();break}catch(c){Dee(n,c)}while(!0);s8(),KM.current=o,$r=i,ts!==null?e=0:($s=null,ea=0,e=vs)}if(e!==0){if(e===2&&(i=V4(n),i!==0&&(r=i,e=m$(n,i))),e===1)throw t=mC,Ly(n,0),Om(n,r),Ml(n,Fo()),t;if(e===6)Om(n,r);else{if(i=n.current.alternate,!(r&30)&&!Tve(i)&&(e=JM(n,r),e===2&&(o=V4(n),o!==0&&(r=o,e=m$(n,o))),e===1))throw t=mC,Ly(n,0),Om(n,r),Ml(n,Fo()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(bt(345));case 2:fy(n,kl,Ah);break;case 3:if(Om(n,r),(r&130023424)===r&&(e=w8+500-Fo(),10<e)){if(IM(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ua(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Q4(fy.bind(null,n,kl,Ah),e);break}fy(n,kl,Ah);break;case 4:if(Om(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-_d(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Fo()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ove(r/1960))-r,10<r){n.timeoutHandle=Q4(fy.bind(null,n,kl,Ah),r);break}fy(n,kl,Ah);break;case 5:fy(n,kl,Ah);break;default:throw Error(bt(329))}}}return Ml(n,Fo()),n.callbackNode===t?Mee.bind(null,n):null}function m$(n,e){var t=Mk;return n.current.memoizedState.isDehydrated&&(Ly(n,e).flags|=256),n=JM(n,e),n!==2&&(e=kl,kl=t,e!==null&&g$(e)),n}function g$(n){kl===null?kl=n:kl.push.apply(kl,n)}function Tve(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Cd(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Om(n,e){for(e&=~x8,e&=~RN,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-_d(e),r=1<<t;n[t]=-1,e&=~r}}function HW(n){if($r&6)throw Error(bt(327));J1();var e=IM(n,0);if(!(e&1))return Ml(n,Fo()),null;var t=JM(n,e);if(n.tag!==0&&t===2){var r=V4(n);r!==0&&(e=r,t=m$(n,r))}if(t===1)throw t=mC,Ly(n,0),Om(n,e),Ml(n,Fo()),t;if(t===6)throw Error(bt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,fy(n,kl,Ah),Ml(n,Fo()),null}function _8(n,e){var t=$r;$r|=1;try{return n(e)}finally{$r=t,$r===0&&(jx=Fo()+500,ON&&Ag())}}function Uy(n){Hm!==null&&Hm.tag===0&&!($r&6)&&J1();var e=$r;$r|=1;var t=bu.transition,r=hi;try{if(bu.transition=null,hi=1,n)return n()}finally{hi=r,bu.transition=t,$r=e,!($r&6)&&Ag()}}function E8(){lc=V1.current,qi(V1)}function Ly(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,ive(t)),ts!==null)for(t=ts.return;t!==null;){var r=t;switch(r8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&BM();break;case 3:Lx(),qi(Al),qi(ma),f8();break;case 5:d8(r);break;case 4:Lx();break;case 13:qi(co);break;case 19:qi(co);break;case 10:a8(r.type._context);break;case 22:case 23:E8()}t=t.return}if($s=n,ts=n=ng(n.current,null),ea=lc=e,vs=0,mC=null,x8=RN=qy=0,kl=Mk=null,Sy!==null){for(e=0;e<Sy.length;e++)if(t=Sy[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}t.pending=r}Sy=null}return n}function Dee(n,e){do{var t=ts;try{if(s8(),eM.current=QM,YM){for(var r=uo.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}YM=!1}if(Wy=0,Ds=ps=uo=null,Ak=!1,fC=0,b8.current=null,t===null||t.return===null){vs=1,mC=e,ts=null;break}e:{var o=n,a=t.return,c=t,u=e;if(e=ea,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,m=c,y=m.tag;if(!(m.mode&1)&&(y===0||y===11||y===15)){var w=m.alternate;w?(m.updateQueue=w.updateQueue,m.memoizedState=w.memoizedState,m.lanes=w.lanes):(m.updateQueue=null,m.memoizedState=null)}var S=AW(a);if(S!==null){S.flags&=-257,RW(S,a,c,o,e),S.mode&1&&PW(o,h,e),e=S,u=h;var T=e.updateQueue;if(T===null){var O=new Set;O.add(u),e.updateQueue=O}else T.add(u);break e}else{if(!(e&1)){PW(o,h,e),S8();break e}u=Error(bt(426))}}else if(no&&c.mode&1){var N=AW(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),RW(N,a,c,o,e),i8($x(u,c));break e}}o=u=$x(u,c),vs!==4&&(vs=2),Mk===null?Mk=[o]:Mk.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var D=gee(o,u,e);EW(o,D);break e;case 1:c=u;var F=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof F.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(eg===null||!eg.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=vee(o,c,e);EW(o,R);break e}}o=o.return}while(o!==null)}Fee(t)}catch(z){e=z,ts===t&&t!==null&&(ts=t=t.return);continue}break}while(!0)}function Nee(){var n=KM.current;return KM.current=QM,n===null?QM:n}function S8(){(vs===0||vs===3||vs===2)&&(vs=4),$s===null||!(qy&268435455)&&!(RN&268435455)||Om($s,ea)}function JM(n,e){var t=$r;$r|=2;var r=Nee();($s!==n||ea!==e)&&(Ah=null,Ly(n,e));do try{Pve();break}catch(i){Dee(n,i)}while(!0);if(s8(),$r=t,KM.current=r,ts!==null)throw Error(bt(261));return $s=null,ea=0,vs}function Pve(){for(;ts!==null;)Iee(ts)}function Ave(){for(;ts!==null&&!tge();)Iee(ts)}function Iee(n){var e=$ee(n.alternate,n,lc);n.memoizedProps=n.pendingProps,e===null?Fee(n):ts=e,b8.current=null}function Fee(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Eve(t,e),t!==null){t.flags&=32767,ts=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vs=6,ts=null;return}}else if(t=_ve(t,e,lc),t!==null){ts=t;return}if(e=e.sibling,e!==null){ts=e;return}ts=e=n}while(e!==null);vs===0&&(vs=5)}function fy(n,e,t){var r=hi,i=bu.transition;try{bu.transition=null,hi=1,Rve(n,e,t,r)}finally{bu.transition=i,hi=r}return null}function Rve(n,e,t,r){do J1();while(Hm!==null);if($r&6)throw Error(bt(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(bt(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(dge(n,o),n===$s&&(ts=$s=null,ea=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||IA||(IA=!0,jee(NM,function(){return J1(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=bu.transition,bu.transition=null;var a=hi;hi=1;var c=$r;$r|=4,b8.current=null,kve(n,t),Aee(t,n),Xge(G4),FM=!!U4,G4=U4=null,n.current=t,Cve(t),nge(),$r=c,hi=a,bu.transition=o}else n.current=t;if(IA&&(IA=!1,Hm=n,ZM=i),o=n.pendingLanes,o===0&&(eg=null),oge(t.stateNode),Ml(n,Fo()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(XM)throw XM=!1,n=h$,h$=null,n;return ZM&1&&n.tag!==0&&J1(),o=n.pendingLanes,o&1?n===p$?Dk++:(Dk=0,p$=n):Dk=0,Ag(),null}function J1(){if(Hm!==null){var n=gJ(ZM),e=bu.transition,t=hi;try{if(bu.transition=null,hi=16>n?16:n,Hm===null)var r=!1;else{if(n=Hm,Hm=null,ZM=0,$r&6)throw Error(bt(331));var i=$r;for($r|=4,Zt=n.current;Zt!==null;){var o=Zt,a=o.child;if(Zt.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(Zt=h;Zt!==null;){var m=Zt;switch(m.tag){case 0:case 11:case 15:Rk(8,m,o)}var y=m.child;if(y!==null)y.return=m,Zt=y;else for(;Zt!==null;){m=Zt;var w=m.sibling,S=m.return;if(Oee(m),m===h){Zt=null;break}if(w!==null){w.return=S,Zt=w;break}Zt=S}}}var T=o.alternate;if(T!==null){var O=T.child;if(O!==null){T.child=null;do{var N=O.sibling;O.sibling=null,O=N}while(O!==null)}}Zt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Zt=a;else e:for(;Zt!==null;){if(o=Zt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rk(9,o,o.return)}var D=o.sibling;if(D!==null){D.return=o.return,Zt=D;break e}Zt=o.return}}var F=n.current;for(Zt=F;Zt!==null;){a=Zt;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,Zt=I;else e:for(a=F;Zt!==null;){if(c=Zt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:AN(9,c)}}catch(z){_o(c,c.return,z)}if(c===a){Zt=null;break e}var R=c.sibling;if(R!==null){R.return=c.return,Zt=R;break e}Zt=c.return}}if($r=i,Ag(),Nf&&typeof Nf.onPostCommitFiberRoot=="function")try{Nf.onPostCommitFiberRoot(_N,n)}catch{}r=!0}return r}finally{hi=t,bu.transition=e}}return!1}function WW(n,e,t){e=$x(t,e),e=gee(n,e,1),n=Jm(n,e,1),e=Ua(),n!==null&&(u2(n,1,e),Ml(n,e))}function _o(n,e,t){if(n.tag===3)WW(n,n,t);else for(;e!==null;){if(e.tag===3){WW(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eg===null||!eg.has(r))){n=$x(t,n),n=vee(e,n,1),e=Jm(e,n,1),n=Ua(),e!==null&&(u2(e,1,n),Ml(e,n));break}}e=e.return}}function Mve(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ua(),n.pingedLanes|=n.suspendedLanes&t,$s===n&&(ea&t)===t&&(vs===4||vs===3&&(ea&130023424)===ea&&500>Fo()-w8?Ly(n,0):x8|=t),Ml(n,e)}function Lee(n,e){e===0&&(n.mode&1?(e=kA,kA<<=1,!(kA&130023424)&&(kA=4194304)):e=1);var t=Ua();n=Jh(n,e),n!==null&&(u2(n,e,t),Ml(n,t))}function Dve(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Lee(n,t)}function Nve(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(bt(314))}r!==null&&r.delete(e),Lee(n,t)}var $ee;$ee=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Al.current)Pl=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Pl=!1,wve(n,e,t);Pl=!!(n.flags&131072)}else Pl=!1,no&&e.flags&1048576&&zJ(e,HM,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nM(n,e),n=e.pendingProps;var i=Nx(e,ma.current);Z1(e,t),i=p8(null,e,r,n,i,t);var o=m8();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rl(r)?(o=!0,VM(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c8(e),i.updater=PN,e.stateNode=i,i._reactInternals=e,n$(e,r,n,t),e=o$(null,e,r,!0,o,t)):(e.tag=0,no&&o&&n8(e),Va(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(nM(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Fve(r),n=sd(r,n),i){case 0:e=i$(null,e,r,n,t);break e;case 1:e=NW(null,e,r,n,t);break e;case 11:e=MW(null,e,r,n,t);break e;case 14:e=DW(null,e,r,sd(r.type,n),t);break e}throw Error(bt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sd(r,i),i$(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sd(r,i),NW(n,e,r,i,t);case 3:e:{if(wee(e),n===null)throw Error(bt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,YJ(n,e),UM(e,r,null,t);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=$x(Error(bt(423)),e),e=IW(n,e,r,t,i);break e}else if(r!==i){i=$x(Error(bt(424)),e),e=IW(n,e,r,t,i);break e}else for(pc=Zm(e.stateNode.containerInfo.firstChild),vc=e,no=!0,cd=null,t=UJ(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ix(),r===i){e=ep(n,e,t);break e}Va(n,e,r,t)}e=e.child}return e;case 5:return QJ(e),n===null&&J4(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,a=i.children,Y4(r,i)?a=null:o!==null&&Y4(r,o)&&(e.flags|=32),xee(n,e),Va(n,e,a,t),e.child;case 6:return n===null&&J4(e),null;case 13:return _ee(n,e,t);case 4:return u8(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Fx(e,null,r,t):Va(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sd(r,i),MW(n,e,r,i,t);case 7:return Va(n,e,e.pendingProps,t),e.child;case 8:return Va(n,e,e.pendingProps.children,t),e.child;case 12:return Va(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ni(WM,r._currentValue),r._currentValue=a,o!==null)if(Cd(o.value,a)){if(o.children===i.children&&!Al.current){e=ep(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Wh(-1,t&-t),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?u.next=u:(u.next=m.next,m.next=u),h.pending=u}}o.lanes|=t,u=o.alternate,u!==null&&(u.lanes|=t),e$(o.return,t,e),c.lanes|=t;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(bt(341));a.lanes|=t,c=a.alternate,c!==null&&(c.lanes|=t),e$(a,t,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Va(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Z1(e,t),i=Eu(i),r=r(i),e.flags|=1,Va(n,e,r,t),e.child;case 14:return r=e.type,i=sd(r,e.pendingProps),i=sd(r.type,i),DW(n,e,r,i,t);case 15:return yee(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sd(r,i),nM(n,e),e.tag=1,Rl(r)?(n=!0,VM(e)):n=!1,Z1(e,t),mee(e,r,i),n$(e,r,i,t),o$(null,e,r,!0,n,t);case 19:return Eee(n,e,t);case 22:return bee(n,e,t)}throw Error(bt(156,e.tag))};function jee(n,e){return fJ(n,e)}function Ive(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function du(n,e,t,r){return new Ive(n,e,t,r)}function k8(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fve(n){if(typeof n=="function")return k8(n)?1:0;if(n!=null){if(n=n.$$typeof,n===W6)return 11;if(n===q6)return 14}return 2}function ng(n,e){var t=n.alternate;return t===null?(t=du(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function oM(n,e,t,r,i,o){var a=2;if(r=n,typeof n=="function")k8(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case R1:return $y(t.children,i,o,e);case H6:a=8,i|=8;break;case C4:return n=du(12,t,e,i|2),n.elementType=C4,n.lanes=o,n;case O4:return n=du(13,t,e,i),n.elementType=O4,n.lanes=o,n;case T4:return n=du(19,t,e,i),n.elementType=T4,n.lanes=o,n;case QZ:return MN(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case GZ:a=10;break e;case YZ:a=9;break e;case W6:a=11;break e;case q6:a=14;break e;case wm:a=16,r=null;break e}throw Error(bt(130,n==null?n:typeof n,""))}return e=du(a,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function $y(n,e,t,r){return n=du(7,n,r,e),n.lanes=t,n}function MN(n,e,t,r){return n=du(22,n,r,e),n.elementType=QZ,n.lanes=t,n.stateNode={isHidden:!1},n}function jF(n,e,t){return n=du(6,n,null,e),n.lanes=t,n}function BF(n,e,t){return e=du(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Lve(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xF(0),this.expirationTimes=xF(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xF(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C8(n,e,t,r,i,o,a,c,u){return n=new Lve(n,e,t,c,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=du(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},c8(o),n}function $ve(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A1,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Bee(n){if(!n)return fg;n=n._reactInternals;e:{if(g0(n)!==n||n.tag!==1)throw Error(bt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rl(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(bt(171))}if(n.tag===1){var t=n.type;if(Rl(t))return BJ(n,t,e)}return e}function Vee(n,e,t,r,i,o,a,c,u){return n=C8(t,r,!0,n,i,o,a,c,u),n.context=Bee(null),t=n.current,r=Ua(),i=tg(t),o=Wh(r,i),o.callback=e??null,Jm(t,o,i),n.current.lanes=i,u2(n,i,r),Ml(n,r),n}function DN(n,e,t,r){var i=e.current,o=Ua(),a=tg(i);return t=Bee(t),e.context===null?e.context=t:e.pendingContext=t,e=Wh(o,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Jm(i,e,a),n!==null&&(Ed(n,i,a,o),JR(n,i,a)),a}function eD(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function qW(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function O8(n,e){qW(n,e),(n=n.alternate)&&qW(n,e)}function jve(){return null}var zee=typeof reportError=="function"?reportError:function(n){console.error(n)};function T8(n){this._internalRoot=n}NN.prototype.render=T8.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(bt(409));DN(n,e,null,null)};NN.prototype.unmount=T8.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Uy(function(){DN(null,n,null,null)}),e[Zh]=null}};function NN(n){this._internalRoot=n}NN.prototype.unstable_scheduleHydration=function(n){if(n){var e=bJ();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Cm.length&&e!==0&&e<Cm[t].priority;t++);Cm.splice(t,0,n),t===0&&wJ(n)}};function P8(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function IN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function UW(){}function Bve(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=eD(a);o.call(h)}}var a=Vee(e,r,n,0,null,!1,!1,"",UW);return n._reactRootContainer=a,n[Zh]=a.current,aC(n.nodeType===8?n.parentNode:n),Uy(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=eD(u);c.call(h)}}var u=C8(n,0,!1,null,null,!1,!1,"",UW);return n._reactRootContainer=u,n[Zh]=u.current,aC(n.nodeType===8?n.parentNode:n),Uy(function(){DN(e,u,t,r)}),u}function FN(n,e,t,r,i){var o=t._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var c=i;i=function(){var u=eD(a);c.call(u)}}DN(e,a,n,i)}else a=Bve(t,e,n,i,r);return eD(a)}vJ=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=dk(e.pendingLanes);t!==0&&(Y6(e,t|1),Ml(e,Fo()),!($r&6)&&(jx=Fo()+500,Ag()))}break;case 13:Uy(function(){var r=Jh(n,1);if(r!==null){var i=Ua();Ed(r,n,1,i)}}),O8(n,1)}};Q6=function(n){if(n.tag===13){var e=Jh(n,134217728);if(e!==null){var t=Ua();Ed(e,n,134217728,t)}O8(n,134217728)}};yJ=function(n){if(n.tag===13){var e=tg(n),t=Jh(n,e);if(t!==null){var r=Ua();Ed(t,n,e,r)}O8(n,e)}};bJ=function(){return hi};xJ=function(n,e){var t=hi;try{return hi=n,e()}finally{hi=t}};$4=function(n,e,t){switch(e){case"input":if(R4(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=CN(r);if(!i)throw Error(bt(90));XZ(r),R4(r,i)}}}break;case"textarea":JZ(n,t);break;case"select":e=t.value,e!=null&&Y1(n,!!t.multiple,e,!1)}};sJ=_8;aJ=Uy;var Vve={usingClientEntryPoint:!1,Events:[f2,I1,CN,iJ,oJ,_8]},RS={findFiberByHostInstance:Ey,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zve={bundleType:RS.bundleType,version:RS.version,rendererPackageName:RS.rendererPackageName,rendererConfig:RS.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:up.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=uJ(n),n===null?null:n.stateNode},findFiberByHostInstance:RS.findFiberByHostInstance||jve,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var FA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!FA.isDisabled&&FA.supportsFiber)try{_N=FA.inject(zve),Nf=FA}catch{}}Sc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vve;Sc.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P8(e))throw Error(bt(200));return $ve(n,e,null,t)};Sc.createRoot=function(n,e){if(!P8(n))throw Error(bt(299));var t=!1,r="",i=zee;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=C8(n,1,!1,null,null,t,!1,r,i),n[Zh]=e.current,aC(n.nodeType===8?n.parentNode:n),new T8(e)};Sc.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(bt(188)):(n=Object.keys(n).join(","),Error(bt(268,n)));return n=uJ(e),n=n===null?null:n.stateNode,n};Sc.flushSync=function(n){return Uy(n)};Sc.hydrate=function(n,e,t){if(!IN(e))throw Error(bt(200));return FN(null,n,e,!0,t)};Sc.hydrateRoot=function(n,e,t){if(!P8(n))throw Error(bt(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",a=zee;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Vee(e,null,n,1,t??null,i,!1,o,a),n[Zh]=e.current,aC(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new NN(e)};Sc.render=function(n,e,t){if(!IN(e))throw Error(bt(200));return FN(null,n,e,!1,t)};Sc.unmountComponentAtNode=function(n){if(!IN(n))throw Error(bt(40));return n._reactRootContainer?(Uy(function(){FN(null,null,n,!1,function(){n._reactRootContainer=null,n[Zh]=null})}),!0):!1};Sc.unstable_batchedUpdates=_8;Sc.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!IN(t))throw Error(bt(200));if(n==null||n._reactInternals===void 0)throw Error(bt(38));return FN(n,e,t,!1,r)};Sc.version="18.3.1-next-f1338f8080-20240426";function Hee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hee)}catch(n){console.error(n)}}Hee(),HZ.exports=Sc;var v0=HZ.exports;const Wee=l2(v0);var qee,GW=v0;qee=GW.createRoot,GW.hydrateRoot;var dw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gy=typeof window>"u"||"Deno"in globalThis;function ou(){}function Hve(n,e){return typeof n=="function"?n(e):n}function v$(n){return typeof n=="number"&&n>=0&&n!==1/0}function Uee(n,e){return Math.max(n+(e||0)-Date.now(),0)}function ex(n,e){return typeof n=="function"?n(e):n}function ud(n,e){return typeof n=="function"?n(e):n}function YW(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:c}=n;if(a){if(r){if(e.queryHash!==A8(a,e.options))return!1}else if(!gC(e.queryKey,a))return!1}if(t!=="all"){const u=e.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||o&&!o(e))}function QW(n,e){const{exact:t,status:r,predicate:i,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(Yy(e.options.mutationKey)!==Yy(o))return!1}else if(!gC(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function A8(n,e){return((e==null?void 0:e.queryKeyHashFn)||Yy)(n)}function Yy(n){return JSON.stringify(n,(e,t)=>y$(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function gC(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!gC(n[t],e[t])):!1}function Gee(n,e){if(n===e)return n;const t=KW(n)&&KW(e);if(t||y$(n)&&y$(e)){const r=t?n:Object.keys(n),i=r.length,o=t?e:Object.keys(e),a=o.length,c=t?[]:{};let u=0;for(let h=0;h<a;h++){const m=t?h:o[h];(!t&&r.includes(m)||t)&&n[m]===void 0&&e[m]===void 0?(c[m]=void 0,u++):(c[m]=Gee(n[m],e[m]),c[m]===n[m]&&n[m]!==void 0&&u++)}return i===a&&u===i?n:c}return e}function tD(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function KW(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function y$(n){if(!XW(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!XW(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function XW(n){return Object.prototype.toString.call(n)==="[object Object]"}function Wve(n){return new Promise(e=>{setTimeout(e,n)})}function b$(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?Gee(n,e):e}function qve(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Uve(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var R8=Symbol();function Yee(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===R8?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ay,Dm,xx,wZ,Gve=(wZ=class extends dw{constructor(){super();On(this,Ay);On(this,Dm);On(this,xx);Gt(this,xx,e=>{if(!Gy&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Se(this,Dm)||this.setEventListener(Se(this,xx))}onUnsubscribe(){var e;this.hasListeners()||((e=Se(this,Dm))==null||e.call(this),Gt(this,Dm,void 0))}setEventListener(e){var t;Gt(this,xx,e),(t=Se(this,Dm))==null||t.call(this),Gt(this,Dm,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Se(this,Ay)!==e&&(Gt(this,Ay,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Se(this,Ay)=="boolean"?Se(this,Ay):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ay=new WeakMap,Dm=new WeakMap,xx=new WeakMap,wZ),M8=new Gve,wx,Nm,_x,_Z,Yve=(_Z=class extends dw{constructor(){super();On(this,wx,!0);On(this,Nm);On(this,_x);Gt(this,_x,e=>{if(!Gy&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Se(this,Nm)||this.setEventListener(Se(this,_x))}onUnsubscribe(){var e;this.hasListeners()||((e=Se(this,Nm))==null||e.call(this),Gt(this,Nm,void 0))}setEventListener(e){var t;Gt(this,_x,e),(t=Se(this,Nm))==null||t.call(this),Gt(this,Nm,e(this.setOnline.bind(this)))}setOnline(e){Se(this,wx)!==e&&(Gt(this,wx,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Se(this,wx)}},wx=new WeakMap,Nm=new WeakMap,_x=new WeakMap,_Z),nD=new Yve;function x$(){let n,e;const t=new Promise((i,o)=>{n=i,e=o});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function Qve(n){return Math.min(1e3*2**n,3e4)}function Qee(n){return(n??"online")==="online"?nD.isOnline():!0}var Kee=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function VF(n){return n instanceof Kee}function Xee(n){let e=!1,t=0,r=!1,i;const o=x$(),a=O=>{var N;r||(w(new Kee(O)),(N=n.abort)==null||N.call(n))},c=()=>{e=!0},u=()=>{e=!1},h=()=>M8.isFocused()&&(n.networkMode==="always"||nD.isOnline())&&n.canRun(),m=()=>Qee(n.networkMode)&&n.canRun(),y=O=>{var N;r||(r=!0,(N=n.onSuccess)==null||N.call(n,O),i==null||i(),o.resolve(O))},w=O=>{var N;r||(r=!0,(N=n.onError)==null||N.call(n,O),i==null||i(),o.reject(O))},S=()=>new Promise(O=>{var N;i=D=>{(r||h())&&O(D)},(N=n.onPause)==null||N.call(n)}).then(()=>{var O;i=void 0,r||(O=n.onContinue)==null||O.call(n)}),T=()=>{if(r)return;let O;const N=t===0?n.initialPromise:void 0;try{O=N??n.fn()}catch(D){O=Promise.reject(D)}Promise.resolve(O).then(y).catch(D=>{var X;if(r)return;const F=n.retry??(Gy?0:3),I=n.retryDelay??Qve,R=typeof I=="function"?I(t,D):I,z=F===!0||typeof F=="number"&&t<F||typeof F=="function"&&F(t,D);if(e||!z){w(D);return}t++,(X=n.onFail)==null||X.call(n,t,D),Wve(R).then(()=>h()?void 0:S()).then(()=>{e?w(D):T()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:c,continueRetry:u,canStart:m,start:()=>(m()?T():S().then(T),o)}}function Kve(){let n=[],e=0,t=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const o=c=>{e?n.push(c):i(()=>{t(c)})},a=()=>{const c=n;n=[],c.length&&i(()=>{r(()=>{c.forEach(u=>{t(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},batchCalls:c=>(...u)=>{o(()=>{c(...u)})},schedule:o,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var ms=Kve(),Ry,EZ,Zee=(EZ=class{constructor(){On(this,Ry)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),v$(this.gcTime)&&Gt(this,Ry,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Gy?1/0:5*60*1e3))}clearGcTimeout(){Se(this,Ry)&&(clearTimeout(Se(this,Ry)),Gt(this,Ry,void 0))}},Ry=new WeakMap,EZ),Ex,Sx,iu,aa,i2,My,ad,Th,SZ,Xve=(SZ=class extends Zee{constructor(e){super();On(this,ad);On(this,Ex);On(this,Sx);On(this,iu);On(this,aa);On(this,i2);On(this,My);Gt(this,My,!1),Gt(this,i2,e.defaultOptions),this.setOptions(e.options),this.observers=[],Gt(this,iu,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Gt(this,Ex,Zve(this.options)),this.state=e.state??Se(this,Ex),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Se(this,aa))==null?void 0:e.promise}setOptions(e){this.options={...Se(this,i2),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,iu).remove(this)}setData(e,t){const r=b$(this.state.data,e,this.options);return cr(this,ad,Th).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){cr(this,ad,Th).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=Se(this,aa))==null?void 0:r.promise;return(i=Se(this,aa))==null||i.cancel(e),t?t.then(ou).catch(ou):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,Ex))}isActive(){return this.observers.some(e=>ud(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===R8||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Uee(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Se(this,aa))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Se(this,aa))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Se(this,iu).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Se(this,aa)&&(Se(this,My)?Se(this,aa).cancel({revert:!0}):Se(this,aa).cancelRetry()),this.scheduleGc()),Se(this,iu).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cr(this,ad,Th).call(this,{type:"invalidate"})}fetch(e,t){var u,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Se(this,aa))return Se(this,aa).continueRetry(),Se(this,aa).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(w=>w.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Gt(this,My,!0),r.signal)})},o=()=>{const y=Yee(this.options,t),w={queryKey:this.queryKey,meta:this.meta};return i(w),Gt(this,My,!1),this.options.persister?this.options.persister(y,w,this):y(w)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),Gt(this,Sx,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&cr(this,ad,Th).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const c=y=>{var w,S,T,O;VF(y)&&y.silent||cr(this,ad,Th).call(this,{type:"error",error:y}),VF(y)||((S=(w=Se(this,iu).config).onError)==null||S.call(w,y,this),(O=(T=Se(this,iu).config).onSettled)==null||O.call(T,this.state.data,y,this)),this.scheduleGc()};return Gt(this,aa,Xee({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:y=>{var w,S,T,O;if(y===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(N){c(N);return}(S=(w=Se(this,iu).config).onSuccess)==null||S.call(w,y,this),(O=(T=Se(this,iu).config).onSettled)==null||O.call(T,y,this.state.error,this),this.scheduleGc()},onError:c,onFail:(y,w)=>{cr(this,ad,Th).call(this,{type:"failed",failureCount:y,error:w})},onPause:()=>{cr(this,ad,Th).call(this,{type:"pause"})},onContinue:()=>{cr(this,ad,Th).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Se(this,aa).start()}},Ex=new WeakMap,Sx=new WeakMap,iu=new WeakMap,aa=new WeakMap,i2=new WeakMap,My=new WeakMap,ad=new WeakSet,Th=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Jee(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return VF(i)&&i.revert&&Se(this,Sx)?{...Se(this,Sx),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ms.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Se(this,iu).notify({query:this,type:"updated",action:e})})},SZ);function Jee(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qee(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Zve(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var bf,kZ,Jve=(kZ=class extends dw{constructor(e={}){super();On(this,bf);this.config=e,Gt(this,bf,new Map)}build(e,t,r){const i=t.queryKey,o=t.queryHash??A8(i,t);let a=this.get(o);return a||(a=new Xve({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Se(this,bf).has(e.queryHash)||(Se(this,bf).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Se(this,bf).get(e.queryHash);t&&(e.destroy(),t===e&&Se(this,bf).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ms.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Se(this,bf).get(e)}getAll(){return[...Se(this,bf).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>YW(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>YW(e,r)):t}notify(e){ms.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ms.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ms.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bf=new WeakMap,kZ),xf,ja,Dy,wf,bm,CZ,eye=(CZ=class extends Zee{constructor(e){super();On(this,wf);On(this,xf);On(this,ja);On(this,Dy);this.mutationId=e.mutationId,Gt(this,ja,e.mutationCache),Gt(this,xf,[]),this.state=e.state||ete(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Se(this,xf).includes(e)||(Se(this,xf).push(e),this.clearGcTimeout(),Se(this,ja).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Gt(this,xf,Se(this,xf).filter(t=>t!==e)),this.scheduleGc(),Se(this,ja).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Se(this,xf).length||(this.state.status==="pending"?this.scheduleGc():Se(this,ja).remove(this))}continue(){var e;return((e=Se(this,Dy))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,u,h,m,y,w,S,T,O,N,D,F,I,R,z,X,Z;Gt(this,Dy,Xee({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(ae,ge)=>{cr(this,wf,bm).call(this,{type:"failed",failureCount:ae,error:ge})},onPause:()=>{cr(this,wf,bm).call(this,{type:"pause"})},onContinue:()=>{cr(this,wf,bm).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,ja).canRun(this)}));const t=this.state.status==="pending",r=!Se(this,Dy).canStart();try{if(!t){cr(this,wf,bm).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=Se(this,ja).config).onMutate)==null?void 0:o.call(i,e,this));const ge=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));ge!==this.state.context&&cr(this,wf,bm).call(this,{type:"pending",context:ge,variables:e,isPaused:r})}const ae=await Se(this,Dy).start();return await((h=(u=Se(this,ja).config).onSuccess)==null?void 0:h.call(u,ae,e,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,ae,e,this.state.context)),await((S=(w=Se(this,ja).config).onSettled)==null?void 0:S.call(w,ae,null,this.state.variables,this.state.context,this)),await((O=(T=this.options).onSettled)==null?void 0:O.call(T,ae,null,e,this.state.context)),cr(this,wf,bm).call(this,{type:"success",data:ae}),ae}catch(ae){try{throw await((D=(N=Se(this,ja).config).onError)==null?void 0:D.call(N,ae,e,this.state.context,this)),await((I=(F=this.options).onError)==null?void 0:I.call(F,ae,e,this.state.context)),await((z=(R=Se(this,ja).config).onSettled)==null?void 0:z.call(R,void 0,ae,this.state.variables,this.state.context,this)),await((Z=(X=this.options).onSettled)==null?void 0:Z.call(X,void 0,ae,e,this.state.context)),ae}finally{cr(this,wf,bm).call(this,{type:"error",error:ae})}}finally{Se(this,ja).runNext(this)}}},xf=new WeakMap,ja=new WeakMap,Dy=new WeakMap,wf=new WeakSet,bm=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ms.batch(()=>{Se(this,xf).forEach(r=>{r.onMutationUpdate(e)}),Se(this,ja).notify({mutation:this,type:"updated",action:e})})},CZ);function ete(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sc,o2,OZ,tye=(OZ=class extends dw{constructor(e={}){super();On(this,sc);On(this,o2);this.config=e,Gt(this,sc,new Map),Gt(this,o2,Date.now())}build(e,t,r){const i=new eye({mutationCache:this,mutationId:++bA(this,o2)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=LA(e),r=Se(this,sc).get(t)??[];r.push(e),Se(this,sc).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=LA(e);if(Se(this,sc).has(t)){const i=(r=Se(this,sc).get(t))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?Se(this,sc).delete(t):Se(this,sc).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=Se(this,sc).get(LA(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=Se(this,sc).get(LA(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){ms.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Se(this,sc).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>QW(t,r))}findAll(e={}){return this.getAll().filter(t=>QW(e,t))}notify(e){ms.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ms.batch(()=>Promise.all(e.map(t=>t.continue().catch(ou))))}},sc=new WeakMap,o2=new WeakMap,OZ);function LA(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function ZW(n){return{onFetch:(e,t)=>{var m,y,w,S,T;const r=e.options,i=(w=(y=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:y.fetchMore)==null?void 0:w.direction,o=((S=e.state.data)==null?void 0:S.pages)||[],a=((T=e.state.data)==null?void 0:T.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let O=!1;const N=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?O=!0:e.signal.addEventListener("abort",()=>{O=!0}),e.signal)})},D=Yee(e.options,e.fetchOptions),F=async(I,R,z)=>{if(O)return Promise.reject();if(R==null&&I.pages.length)return Promise.resolve(I);const X={queryKey:e.queryKey,pageParam:R,direction:z?"backward":"forward",meta:e.options.meta};N(X);const Z=await D(X),{maxPages:ae}=e.options,ge=z?Uve:qve;return{pages:ge(I.pages,Z,ae),pageParams:ge(I.pageParams,R,ae)}};if(i&&o.length){const I=i==="backward",R=I?nye:JW,z={pages:o,pageParams:a},X=R(r,z);c=await F(z,X,I)}else{const I=n??o.length;do{const R=u===0?a[0]??r.initialPageParam:JW(r,c);if(u>0&&R==null)break;c=await F(c,R),u++}while(u<I)}return c};e.options.persister?e.fetchFn=()=>{var O,N;return(N=(O=e.options).persister)==null?void 0:N.call(O,h,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function JW(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function nye(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var bo,Im,Fm,kx,Cx,Lm,Ox,Tx,TZ,rye=(TZ=class{constructor(n={}){On(this,bo);On(this,Im);On(this,Fm);On(this,kx);On(this,Cx);On(this,Lm);On(this,Ox);On(this,Tx);Gt(this,bo,n.queryCache||new Jve),Gt(this,Im,n.mutationCache||new tye),Gt(this,Fm,n.defaultOptions||{}),Gt(this,kx,new Map),Gt(this,Cx,new Map),Gt(this,Lm,0)}mount(){bA(this,Lm)._++,Se(this,Lm)===1&&(Gt(this,Ox,M8.subscribe(async n=>{n&&(await this.resumePausedMutations(),Se(this,bo).onFocus())})),Gt(this,Tx,nD.subscribe(async n=>{n&&(await this.resumePausedMutations(),Se(this,bo).onOnline())})))}unmount(){var n,e;bA(this,Lm)._--,Se(this,Lm)===0&&((n=Se(this,Ox))==null||n.call(this),Gt(this,Ox,void 0),(e=Se(this,Tx))==null||e.call(this),Gt(this,Tx,void 0))}isFetching(n){return Se(this,bo).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Se(this,Im).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Se(this,bo).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=Se(this,bo).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(ex(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return Se(this,bo).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=Se(this,bo).get(r.queryHash),o=i==null?void 0:i.state.data,a=Hve(e,o);if(a!==void 0)return Se(this,bo).build(this,r).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return ms.batch(()=>Se(this,bo).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Se(this,bo).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Se(this,bo);ms.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Se(this,bo),r={type:"active",...n};return ms.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=ms.batch(()=>Se(this,bo).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(ou).catch(ou)}invalidateQueries(n={},e={}){return ms.batch(()=>{if(Se(this,bo).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ms.batch(()=>Se(this,bo).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,t);return t.throwOnError||(o=o.catch(ou)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ou)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Se(this,bo).build(this,e);return t.isStaleByTime(ex(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ou).catch(ou)}fetchInfiniteQuery(n){return n.behavior=ZW(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ou).catch(ou)}ensureInfiniteQueryData(n){return n.behavior=ZW(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return nD.isOnline()?Se(this,Im).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,bo)}getMutationCache(){return Se(this,Im)}getDefaultOptions(){return Se(this,Fm)}setDefaultOptions(n){Gt(this,Fm,n)}setQueryDefaults(n,e){Se(this,kx).set(Yy(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Se(this,kx).values()];let t={};return e.forEach(r=>{gC(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){Se(this,Cx).set(Yy(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Se(this,Cx).values()];let t={};return e.forEach(r=>{gC(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Se(this,Fm).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=A8(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===R8&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Se(this,Fm).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Se(this,bo).clear(),Se(this,Im).clear()}},bo=new WeakMap,Im=new WeakMap,Fm=new WeakMap,kx=new WeakMap,Cx=new WeakMap,Lm=new WeakMap,Ox=new WeakMap,Tx=new WeakMap,TZ),wl,Cr,s2,Ba,Ny,Px,$m,_f,a2,Ax,Rx,Iy,Fy,jm,Mx,si,hk,w$,_$,E$,S$,k$,C$,O$,tte,PZ,iye=(PZ=class extends dw{constructor(e,t){super();On(this,si);On(this,wl);On(this,Cr);On(this,s2);On(this,Ba);On(this,Ny);On(this,Px);On(this,$m);On(this,_f);On(this,a2);On(this,Ax);On(this,Rx);On(this,Iy);On(this,Fy);On(this,jm);On(this,Mx,new Set);this.options=t,Gt(this,wl,e),Gt(this,_f,null),Gt(this,$m,x$()),this.options.experimental_prefetchInRender||Se(this,$m).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Se(this,Cr).addObserver(this),eq(Se(this,Cr),this.options)?cr(this,si,hk).call(this):this.updateResult(),cr(this,si,S$).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return T$(Se(this,Cr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return T$(Se(this,Cr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,cr(this,si,k$).call(this),cr(this,si,C$).call(this),Se(this,Cr).removeObserver(this)}setOptions(e,t){const r=this.options,i=Se(this,Cr);if(this.options=Se(this,wl).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ud(this.options.enabled,Se(this,Cr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");cr(this,si,O$).call(this),Se(this,Cr).setOptions(this.options),r._defaulted&&!tD(this.options,r)&&Se(this,wl).getQueryCache().notify({type:"observerOptionsUpdated",query:Se(this,Cr),observer:this});const o=this.hasListeners();o&&tq(Se(this,Cr),i,this.options,r)&&cr(this,si,hk).call(this),this.updateResult(t),o&&(Se(this,Cr)!==i||ud(this.options.enabled,Se(this,Cr))!==ud(r.enabled,Se(this,Cr))||ex(this.options.staleTime,Se(this,Cr))!==ex(r.staleTime,Se(this,Cr)))&&cr(this,si,w$).call(this);const a=cr(this,si,_$).call(this);o&&(Se(this,Cr)!==i||ud(this.options.enabled,Se(this,Cr))!==ud(r.enabled,Se(this,Cr))||a!==Se(this,jm))&&cr(this,si,E$).call(this,a)}getOptimisticResult(e){const t=Se(this,wl).getQueryCache().build(Se(this,wl),e),r=this.createResult(t,e);return sye(this,r)&&(Gt(this,Ba,r),Gt(this,Px,this.options),Gt(this,Ny,Se(this,Cr).state)),r}getCurrentResult(){return Se(this,Ba)}trackResult(e,t){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t==null||t(i),e[i])})}),r}trackProp(e){Se(this,Mx).add(e)}getCurrentQuery(){return Se(this,Cr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Se(this,wl).defaultQueryOptions(e),r=Se(this,wl).getQueryCache().build(Se(this,wl),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return cr(this,si,hk).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Se(this,Ba)))}createResult(e,t){var ae;const r=Se(this,Cr),i=this.options,o=Se(this,Ba),a=Se(this,Ny),c=Se(this,Px),h=e!==r?e.state:Se(this,s2),{state:m}=e;let y={...m},w=!1,S;if(t._optimisticResults){const ge=this.hasListeners(),_e=!ge&&eq(e,t),be=ge&&tq(e,r,t,i);(_e||be)&&(y={...y,...Jee(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:T,errorUpdatedAt:O,status:N}=y;if(t.select&&y.data!==void 0)if(o&&y.data===(a==null?void 0:a.data)&&t.select===Se(this,a2))S=Se(this,Ax);else try{Gt(this,a2,t.select),S=t.select(y.data),S=b$(o==null?void 0:o.data,S,t),Gt(this,Ax,S),Gt(this,_f,null)}catch(ge){Gt(this,_f,ge)}else S=y.data;if(t.placeholderData!==void 0&&S===void 0&&N==="pending"){let ge;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData))ge=o.data;else if(ge=typeof t.placeholderData=="function"?t.placeholderData((ae=Se(this,Rx))==null?void 0:ae.state.data,Se(this,Rx)):t.placeholderData,t.select&&ge!==void 0)try{ge=t.select(ge),Gt(this,_f,null)}catch(_e){Gt(this,_f,_e)}ge!==void 0&&(N="success",S=b$(o==null?void 0:o.data,ge,t),w=!0)}Se(this,_f)&&(T=Se(this,_f),S=Se(this,Ax),O=Date.now(),N="error");const D=y.fetchStatus==="fetching",F=N==="pending",I=N==="error",R=F&&D,z=S!==void 0,Z={status:N,fetchStatus:y.fetchStatus,isPending:F,isSuccess:N==="success",isError:I,isInitialLoading:R,isLoading:R,data:S,dataUpdatedAt:y.dataUpdatedAt,error:T,errorUpdatedAt:O,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:D,isRefetching:D&&!F,isLoadingError:I&&!z,isPaused:y.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:I&&z,isStale:D8(e,t),refetch:this.refetch,promise:Se(this,$m)};if(this.options.experimental_prefetchInRender){const ge=he=>{Z.status==="error"?he.reject(Z.error):Z.data!==void 0&&he.resolve(Z.data)},_e=()=>{const he=Gt(this,$m,Z.promise=x$());ge(he)},be=Se(this,$m);switch(be.status){case"pending":e.queryHash===r.queryHash&&ge(be);break;case"fulfilled":(Z.status==="error"||Z.data!==be.value)&&_e();break;case"rejected":(Z.status!=="error"||Z.error!==be.reason)&&_e();break}}return Z}updateResult(e){const t=Se(this,Ba),r=this.createResult(Se(this,Cr),this.options);if(Gt(this,Ny,Se(this,Cr).state),Gt(this,Px,this.options),Se(this,Ny).data!==void 0&&Gt(this,Rx,Se(this,Cr)),tD(r,t))return;Gt(this,Ba,r);const i={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!Se(this,Mx).size)return!0;const u=new Set(c??Se(this,Mx));return this.options.throwOnError&&u.add("error"),Object.keys(Se(this,Ba)).some(h=>{const m=h;return Se(this,Ba)[m]!==t[m]&&u.has(m)})};(e==null?void 0:e.listeners)!==!1&&o()&&(i.listeners=!0),cr(this,si,tte).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&cr(this,si,S$).call(this)}},wl=new WeakMap,Cr=new WeakMap,s2=new WeakMap,Ba=new WeakMap,Ny=new WeakMap,Px=new WeakMap,$m=new WeakMap,_f=new WeakMap,a2=new WeakMap,Ax=new WeakMap,Rx=new WeakMap,Iy=new WeakMap,Fy=new WeakMap,jm=new WeakMap,Mx=new WeakMap,si=new WeakSet,hk=function(e){cr(this,si,O$).call(this);let t=Se(this,Cr).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ou)),t},w$=function(){cr(this,si,k$).call(this);const e=ex(this.options.staleTime,Se(this,Cr));if(Gy||Se(this,Ba).isStale||!v$(e))return;const r=Uee(Se(this,Ba).dataUpdatedAt,e)+1;Gt(this,Iy,setTimeout(()=>{Se(this,Ba).isStale||this.updateResult()},r))},_$=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Se(this,Cr)):this.options.refetchInterval)??!1},E$=function(e){cr(this,si,C$).call(this),Gt(this,jm,e),!(Gy||ud(this.options.enabled,Se(this,Cr))===!1||!v$(Se(this,jm))||Se(this,jm)===0)&&Gt(this,Fy,setInterval(()=>{(this.options.refetchIntervalInBackground||M8.isFocused())&&cr(this,si,hk).call(this)},Se(this,jm)))},S$=function(){cr(this,si,w$).call(this),cr(this,si,E$).call(this,cr(this,si,_$).call(this))},k$=function(){Se(this,Iy)&&(clearTimeout(Se(this,Iy)),Gt(this,Iy,void 0))},C$=function(){Se(this,Fy)&&(clearInterval(Se(this,Fy)),Gt(this,Fy,void 0))},O$=function(){const e=Se(this,wl).getQueryCache().build(Se(this,wl),this.options);if(e===Se(this,Cr))return;const t=Se(this,Cr);Gt(this,Cr,e),Gt(this,s2,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},tte=function(e){ms.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Se(this,Ba))}),Se(this,wl).getQueryCache().notify({query:Se(this,Cr),type:"observerResultsUpdated"})})},PZ);function oye(n,e){return ud(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function eq(n,e){return oye(n,e)||n.state.data!==void 0&&T$(n,e,e.refetchOnMount)}function T$(n,e,t){if(ud(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&D8(n,e)}return!1}function tq(n,e,t,r){return(n!==e||ud(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&D8(n,t)}function D8(n,e){return ud(e.enabled,n)!==!1&&n.isStaleByTime(ex(e.staleTime,n))}function sye(n,e){return!tD(n.getCurrentResult(),e)}var Bm,Vm,_l,Fh,Kh,sM,P$,AZ,aye=(AZ=class extends dw{constructor(t,r){super();On(this,Kh);On(this,Bm);On(this,Vm);On(this,_l);On(this,Fh);Gt(this,Bm,t),this.setOptions(r),this.bindMethods(),cr(this,Kh,sM).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=Se(this,Bm).defaultMutationOptions(t),tD(this.options,r)||Se(this,Bm).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Se(this,_l),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Yy(r.mutationKey)!==Yy(this.options.mutationKey)?this.reset():((i=Se(this,_l))==null?void 0:i.state.status)==="pending"&&Se(this,_l).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=Se(this,_l))==null||t.removeObserver(this)}onMutationUpdate(t){cr(this,Kh,sM).call(this),cr(this,Kh,P$).call(this,t)}getCurrentResult(){return Se(this,Vm)}reset(){var t;(t=Se(this,_l))==null||t.removeObserver(this),Gt(this,_l,void 0),cr(this,Kh,sM).call(this),cr(this,Kh,P$).call(this)}mutate(t,r){var i;return Gt(this,Fh,r),(i=Se(this,_l))==null||i.removeObserver(this),Gt(this,_l,Se(this,Bm).getMutationCache().build(Se(this,Bm),this.options)),Se(this,_l).addObserver(this),Se(this,_l).execute(t)}},Bm=new WeakMap,Vm=new WeakMap,_l=new WeakMap,Fh=new WeakMap,Kh=new WeakSet,sM=function(){var r;const t=((r=Se(this,_l))==null?void 0:r.state)??ete();Gt(this,Vm,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},P$=function(t){ms.batch(()=>{var r,i,o,a,c,u,h,m;if(Se(this,Fh)&&this.hasListeners()){const y=Se(this,Vm).variables,w=Se(this,Vm).context;(t==null?void 0:t.type)==="success"?((i=(r=Se(this,Fh)).onSuccess)==null||i.call(r,t.data,y,w),(a=(o=Se(this,Fh)).onSettled)==null||a.call(o,t.data,null,y,w)):(t==null?void 0:t.type)==="error"&&((u=(c=Se(this,Fh)).onError)==null||u.call(c,t.error,y,w),(m=(h=Se(this,Fh)).onSettled)==null||m.call(h,void 0,t.error,y,w))}this.listeners.forEach(y=>{y(Se(this,Vm))})})},AZ),nte=U.createContext(void 0),Rg=n=>{const e=U.useContext(nte);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},lye=({client:n,children:e})=>(U.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),L.jsx(nte.Provider,{value:n,children:e})),rte=U.createContext(!1),cye=()=>U.useContext(rte);rte.Provider;function uye(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var dye=U.createContext(uye()),fye=()=>U.useContext(dye);function ite(n,e){return typeof n=="function"?n(...e):!!n}function ote(){}var hye=(n,e)=>{(n.suspense||n.throwOnError)&&(e.isReset()||(n.retryOnMount=!1))},pye=n=>{U.useEffect(()=>{n.clearReset()},[n])},mye=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&ite(t,[n.error,r]),gye=n=>{n.suspense&&(n.staleTime===void 0&&(n.staleTime=1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},vye=(n,e)=>n.isLoading&&n.isFetching&&!e,yye=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,nq=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function bye(n,e,t){var m,y,w,S,T;const r=Rg(),i=cye(),o=fye(),a=r.defaultQueryOptions(n);(y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,a),a._optimisticResults=i?"isRestoring":"optimistic",gye(a),hye(a,o),pye(o);const c=!r.getQueryCache().get(a.queryHash),[u]=U.useState(()=>new e(r,a)),h=u.getOptimisticResult(a);if(U.useSyncExternalStore(U.useCallback(O=>{const N=i?()=>{}:u.subscribe(ms.batchCalls(O));return u.updateResult(),N},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),U.useEffect(()=>{u.setOptions(a,{listeners:!1})},[a,u]),yye(a,h))throw nq(a,u,o);if(mye({result:h,errorResetBoundary:o,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw h.error;if((S=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||S.call(w,a,h),a.experimental_prefetchInRender&&!Gy&&vye(h,i)){const O=c?nq(a,u,o):(T=r.getQueryCache().get(a.queryHash))==null?void 0:T.promise;O==null||O.catch(ote).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?h:u.trackResult(h)}function bs(n,e){return bye(n,iye)}function tp(n,e){const t=Rg(),[r]=U.useState(()=>new aye(t,n));U.useEffect(()=>{r.setOptions(n)},[r,n]);const i=U.useSyncExternalStore(U.useCallback(a=>r.subscribe(ms.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=U.useCallback((a,c)=>{r.mutate(a,c).catch(ote)},[r]);if(i.error&&ite(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vC(){return vC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vC.apply(this,arguments)}var Wm;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Wm||(Wm={}));const rq="popstate";function xye(n){n===void 0&&(n={});function e(r,i){let{pathname:o,search:a,hash:c}=r.location;return A$("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:rD(i)}return _ye(e,t,null,n)}function ns(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ste(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wye(){return Math.random().toString(36).substr(2,8)}function iq(n,e){return{usr:n.state,key:n.key,idx:e}}function A$(n,e,t,r){return t===void 0&&(t=null),vC({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?fw(e):e,{state:t,key:e&&e.key||r||wye()})}function rD(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fw(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function _ye(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c=Wm.Pop,u=null,h=m();h==null&&(h=0,a.replaceState(vC({},a.state,{idx:h}),""));function m(){return(a.state||{idx:null}).idx}function y(){c=Wm.Pop;let N=m(),D=N==null?null:N-h;h=N,u&&u({action:c,location:O.location,delta:D})}function w(N,D){c=Wm.Push;let F=A$(O.location,N,D);h=m()+1;let I=iq(F,h),R=O.createHref(F);try{a.pushState(I,"",R)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(R)}o&&u&&u({action:c,location:O.location,delta:1})}function S(N,D){c=Wm.Replace;let F=A$(O.location,N,D);h=m();let I=iq(F,h),R=O.createHref(F);a.replaceState(I,"",R),o&&u&&u({action:c,location:O.location,delta:0})}function T(N){let D=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof N=="string"?N:rD(N);return F=F.replace(/ $/,"%20"),ns(D,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,D)}let O={get action(){return c},get location(){return n(i,a)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(rq,y),u=N,()=>{i.removeEventListener(rq,y),u=null}},createHref(N){return e(i,N)},createURL:T,encodeLocation(N){let D=T(N);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:S,go(N){return a.go(N)}};return O}var oq;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(oq||(oq={}));function Eye(n,e,t){return t===void 0&&(t="/"),Sye(n,e,t,!1)}function Sye(n,e,t,r){let i=typeof e=="string"?fw(e):e,o=N8(i.pathname||"/",t);if(o==null)return null;let a=ate(n);kye(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=Fye(o);c=Nye(a[u],h,r)}return c}function ate(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,a,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(ns(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=rg([r,u.relativePath]),m=t.concat(u);o.children&&o.children.length>0&&(ns(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),ate(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:Mye(h,o.index),routesMeta:m})};return n.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let u of lte(o.path))i(o,a,u)}),e}function lte(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=lte(r.join("/")),c=[];return c.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function kye(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Dye(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Cye=/^:[\w-]+$/,Oye=3,Tye=2,Pye=1,Aye=10,Rye=-2,sq=n=>n==="*";function Mye(n,e){let t=n.split("/"),r=t.length;return t.some(sq)&&(r+=Rye),e&&(r+=Tye),t.filter(i=>!sq(i)).reduce((i,o)=>i+(Cye.test(o)?Oye:o===""?Pye:Aye),r)}function Dye(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Nye(n,e,t){let{routesMeta:r}=n,i={},o="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=aq({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),w=u.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=aq({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),a.push({params:i,pathname:rg([o,y.pathname]),pathnameBase:Bye(rg([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=rg([o,y.pathnameBase]))}return a}function aq(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Iye(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,m,y)=>{let{paramName:w,isOptional:S}=m;if(w==="*"){let O=c[y]||"";a=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const T=c[y];return S&&!T?h[w]=void 0:h[w]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:n}}function Iye(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ste(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Fye(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ste(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function N8(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Lye(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?fw(n):n;return{pathname:t?t.startsWith("/")?t:$ye(t,e):e,search:Vye(r),hash:zye(i)}}function $ye(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function zF(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jye(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cte(n,e){let t=jye(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function ute(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=fw(n):(i=vC({},n),ns(!i.pathname||!i.pathname.includes("?"),zF("?","pathname","search",i)),ns(!i.pathname||!i.pathname.includes("#"),zF("#","pathname","hash",i)),ns(!i.search||!i.search.includes("#"),zF("#","search","hash",i)));let o=n===""||i.pathname==="",a=o?"/":i.pathname,c;if(a==null)c=t;else{let y=e.length-1;if(!r&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}c=y>=0?e[y]:"/"}let u=Lye(i,c),h=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}const rg=n=>n.join("/").replace(/\/\/+/g,"/"),Bye=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Vye=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zye=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Hye(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const dte=["post","put","patch","delete"];new Set(dte);const Wye=["get",...dte];new Set(Wye);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yC(){return yC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yC.apply(this,arguments)}const I8=U.createContext(null),qye=U.createContext(null),y0=U.createContext(null),LN=U.createContext(null),Mg=U.createContext({outlet:null,matches:[],isDataRoute:!1}),fte=U.createContext(null);function Uye(n,e){let{relative:t}=e===void 0?{}:e;p2()||ns(!1);let{basename:r,navigator:i}=U.useContext(y0),{hash:o,pathname:a,search:c}=pte(n,{relative:t}),u=a;return r!=="/"&&(u=a==="/"?r:rg([r,a])),i.createHref({pathname:u,search:c,hash:o})}function p2(){return U.useContext(LN)!=null}function hw(){return p2()||ns(!1),U.useContext(LN).location}function hte(n){U.useContext(y0).static||U.useLayoutEffect(n)}function Dg(){let{isDataRoute:n}=U.useContext(Mg);return n?o0e():Gye()}function Gye(){p2()||ns(!1);let n=U.useContext(I8),{basename:e,future:t,navigator:r}=U.useContext(y0),{matches:i}=U.useContext(Mg),{pathname:o}=hw(),a=JSON.stringify(cte(i,t.v7_relativeSplatPath)),c=U.useRef(!1);return hte(()=>{c.current=!0}),U.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let y=ute(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:rg([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,a,o,n])}function m2(){let{matches:n}=U.useContext(Mg),e=n[n.length-1];return e?e.params:{}}function pte(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=U.useContext(y0),{matches:i}=U.useContext(Mg),{pathname:o}=hw(),a=JSON.stringify(cte(i,r.v7_relativeSplatPath));return U.useMemo(()=>ute(n,JSON.parse(a),o,t==="path"),[n,a,o,t])}function Yye(n,e){return Qye(n,e)}function Qye(n,e,t,r){p2()||ns(!1);let{navigator:i}=U.useContext(y0),{matches:o}=U.useContext(Mg),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=hw(),m;if(e){var y;let N=typeof e=="string"?fw(e):e;u==="/"||(y=N.pathname)!=null&&y.startsWith(u)||ns(!1),m=N}else m=h;let w=m.pathname||"/",S=w;if(u!=="/"){let N=u.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=Eye(n,{pathname:S}),O=e0e(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:rg([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:rg([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,t,r);return e&&O?U.createElement(LN.Provider,{value:{location:yC({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Wm.Pop}},O):O}function Kye(){let n=i0e(),e=Hye(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:i},t):null,null)}const Xye=U.createElement(Kye,null);class Zye extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(Mg.Provider,{value:this.props.routeContext},U.createElement(fte.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jye(n){let{routeContext:e,match:t,children:r}=n,i=U.useContext(I8);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(Mg.Provider,{value:e},r)}function e0e(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let m=a.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);m>=0||ns(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,h=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=m),y.route.id){let{loaderData:w,errors:S}=t,T=y.route.loader&&w[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||T){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,y,w)=>{let S,T=!1,O=null,N=null;t&&(S=c&&y.route.id?c[y.route.id]:void 0,O=y.route.errorElement||Xye,u&&(h<0&&w===0?(T=!0,N=null):h===w&&(T=!0,N=y.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,w+1)),F=()=>{let I;return S?I=O:T?I=N:y.route.Component?I=U.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=m,U.createElement(Jye,{match:y,routeContext:{outlet:m,matches:D,isDataRoute:t!=null},children:I})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?U.createElement(Zye,{location:t.location,revalidation:t.revalidation,component:O,error:S,children:F(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):F()},null)}var mte=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(mte||{}),iD=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(iD||{});function t0e(n){let e=U.useContext(I8);return e||ns(!1),e}function n0e(n){let e=U.useContext(qye);return e||ns(!1),e}function r0e(n){let e=U.useContext(Mg);return e||ns(!1),e}function gte(n){let e=r0e(),t=e.matches[e.matches.length-1];return t.route.id||ns(!1),t.route.id}function i0e(){var n;let e=U.useContext(fte),t=n0e(iD.UseRouteError),r=gte(iD.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function o0e(){let{router:n}=t0e(mte.UseNavigateStable),e=gte(iD.UseNavigateStable),t=U.useRef(!1);return hte(()=>{t.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,yC({fromRouteId:e},o)))},[n,e])}function yl(n){ns(!1)}function s0e(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Wm.Pop,navigator:o,static:a=!1,future:c}=n;p2()&&ns(!1);let u=e.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:u,navigator:o,static:a,future:yC({v7_relativeSplatPath:!1},c)}),[u,c,o,a]);typeof r=="string"&&(r=fw(r));let{pathname:m="/",search:y="",hash:w="",state:S=null,key:T="default"}=r,O=U.useMemo(()=>{let N=N8(m,u);return N==null?null:{location:{pathname:N,search:y,hash:w,state:S,key:T},navigationType:i}},[u,m,y,w,S,T,i]);return O==null?null:U.createElement(y0.Provider,{value:h},U.createElement(LN.Provider,{children:t,value:O}))}function a0e(n){let{children:e,location:t}=n;return Yye(R$(e),t)}new Promise(()=>{});function R$(n,e){e===void 0&&(e=[]);let t=[];return U.Children.forEach(n,(r,i)=>{if(!U.isValidElement(r))return;let o=[...e,i];if(r.type===U.Fragment){t.push.apply(t,R$(r.props.children,o));return}r.type!==yl&&ns(!1),!r.props.index||!r.props.children||ns(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=R$(r.props.children,o)),t.push(a)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M$(){return M$=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},M$.apply(this,arguments)}function l0e(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function c0e(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function u0e(n,e){return n.button===0&&(!e||e==="_self")&&!c0e(n)}const d0e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f0e="6";try{window.__reactRouterVersion=f0e}catch{}const h0e="startTransition",lq=VZ[h0e];function p0e(n){let{basename:e,children:t,future:r,window:i}=n,o=U.useRef();o.current==null&&(o.current=xye({window:i,v5Compat:!0}));let a=o.current,[c,u]=U.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},m=U.useCallback(y=>{h&&lq?lq(()=>u(y)):u(y)},[u,h]);return U.useLayoutEffect(()=>a.listen(m),[a,m]),U.createElement(s0e,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:a,future:r})}const m0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=U.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:m,viewTransition:y}=e,w=l0e(e,d0e),{basename:S}=U.useContext(y0),T,O=!1;if(typeof h=="string"&&g0e.test(h)&&(T=h,m0e))try{let I=new URL(window.location.href),R=h.startsWith("//")?new URL(I.protocol+h):new URL(h),z=N8(R.pathname,S);R.origin===I.origin&&z!=null?h=z+R.search+R.hash:O=!0}catch{}let N=Uye(h,{relative:i}),D=v0e(h,{replace:a,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:y});function F(I){r&&r(I),I.defaultPrevented||D(I)}return U.createElement("a",M$({},w,{href:T||N,onClick:O||o?r:F,ref:t,target:u}))});var cq;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(cq||(cq={}));var uq;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(uq||(uq={}));function v0e(n,e){let{target:t,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:c}=e===void 0?{}:e,u=Dg(),h=hw(),m=pte(n,{relative:a});return U.useCallback(y=>{if(u0e(y,t)){y.preventDefault();let w=r!==void 0?r:rD(h)===rD(m);u(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[h,u,m,r,i,t,n,o,a,c])}const y0e=1,b0e=1e6;let HF=0;function x0e(){return HF=(HF+1)%Number.MAX_SAFE_INTEGER,HF.toString()}const WF=new Map,dq=n=>{if(WF.has(n))return;const e=setTimeout(()=>{WF.delete(n),Nk({type:"REMOVE_TOAST",toastId:n})},b0e);WF.set(n,e)},w0e=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,y0e)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?dq(t):n.toasts.forEach(r=>{dq(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},aM=[];let lM={toasts:[]};function Nk(n){lM=w0e(lM,n),aM.forEach(e=>{e(lM)})}function _0e({...n}){const e=x0e(),t=i=>Nk({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Nk({type:"DISMISS_TOAST",toastId:e});return Nk({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function E0e(){const[n,e]=U.useState(lM);return U.useEffect(()=>(aM.push(e),()=>{const t=aM.indexOf(e);t>-1&&aM.splice(t,1)}),[n]),{...n,toast:_0e,dismiss:t=>Nk({type:"DISMISS_TOAST",toastId:t})}}function Qn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function S0e(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function vte(...n){return e=>n.forEach(t=>S0e(t,e))}function Ci(...n){return U.useCallback(vte(...n),n)}function k0e(n,e=[]){let t=[];function r(o,a){const c=U.createContext(a),u=t.length;t=[...t,a];function h(y){const{scope:w,children:S,...T}=y,O=(w==null?void 0:w[n][u])||c,N=U.useMemo(()=>T,Object.values(T));return L.jsx(O.Provider,{value:N,children:S})}function m(y,w){const S=(w==null?void 0:w[n][u])||c,T=U.useContext(S);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${y}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,m]}const i=()=>{const o=t.map(a=>U.createContext(a));return function(c){const u=(c==null?void 0:c[n])||o;return U.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,C0e(i,...e)]}function C0e(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const y=u(o)[`__scope${h}`];return{...c,...y}},{});return U.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var hg=U.forwardRef((n,e)=>{const{children:t,...r}=n,i=U.Children.toArray(t),o=i.find(O0e);if(o){const a=o.props.children,c=i.map(u=>u===o?U.Children.count(a)>1?U.Children.only(null):U.isValidElement(a)?a.props.children:null:u);return L.jsx(D$,{...r,ref:e,children:U.isValidElement(a)?U.cloneElement(a,void 0,c):null})}return L.jsx(D$,{...r,ref:e,children:t})});hg.displayName="Slot";var D$=U.forwardRef((n,e)=>{const{children:t,...r}=n;if(U.isValidElement(t)){const i=P0e(t);return U.cloneElement(t,{...T0e(r,t.props),ref:e?vte(e,i):i})}return U.Children.count(t)>1?U.Children.only(null):null});D$.displayName="SlotClone";var F8=({children:n})=>L.jsx(L.Fragment,{children:n});function O0e(n){return U.isValidElement(n)&&n.type===F8}function T0e(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{o(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function P0e(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function yte(n){const e=n+"CollectionProvider",[t,r]=k0e(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:T,children:O}=S,N=rt.useRef(null),D=rt.useRef(new Map).current;return L.jsx(i,{scope:T,itemMap:D,collectionRef:N,children:O})};a.displayName=e;const c=n+"CollectionSlot",u=rt.forwardRef((S,T)=>{const{scope:O,children:N}=S,D=o(c,O),F=Ci(T,D.collectionRef);return L.jsx(hg,{ref:F,children:N})});u.displayName=c;const h=n+"CollectionItemSlot",m="data-radix-collection-item",y=rt.forwardRef((S,T)=>{const{scope:O,children:N,...D}=S,F=rt.useRef(null),I=Ci(T,F),R=o(h,O);return rt.useEffect(()=>(R.itemMap.set(F,{ref:F,...D}),()=>void R.itemMap.delete(F))),L.jsx(hg,{[m]:"",ref:I,children:N})});y.displayName=h;function w(S){const T=o(n+"CollectionConsumer",S);return rt.useCallback(()=>{const N=T.collectionRef.current;if(!N)return[];const D=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(T.itemMap.values()).sort((R,z)=>D.indexOf(R.ref.current)-D.indexOf(z.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:a,Slot:u,ItemSlot:y},w,r]}function A0e(n,e){const t=U.createContext(e),r=o=>{const{children:a,...c}=o,u=U.useMemo(()=>c,Object.values(c));return L.jsx(t.Provider,{value:u,children:a})};r.displayName=n+"Provider";function i(o){const a=U.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,i]}function g2(n,e=[]){let t=[];function r(o,a){const c=U.createContext(a),u=t.length;t=[...t,a];const h=y=>{var D;const{scope:w,children:S,...T}=y,O=((D=w==null?void 0:w[n])==null?void 0:D[u])||c,N=U.useMemo(()=>T,Object.values(T));return L.jsx(O.Provider,{value:N,children:S})};h.displayName=o+"Provider";function m(y,w){var O;const S=((O=w==null?void 0:w[n])==null?void 0:O[u])||c,T=U.useContext(S);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[h,m]}const i=()=>{const o=t.map(a=>U.createContext(a));return function(c){const u=(c==null?void 0:c[n])||o;return U.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,R0e(i,...e)]}function R0e(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const y=u(o)[`__scope${h}`];return{...c,...y}},{});return U.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var M0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Br=M0e.reduce((n,e)=>{const t=U.forwardRef((r,i)=>{const{asChild:o,...a}=r,c=o?hg:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(c,{...a,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function bte(n,e){n&&v0.flushSync(()=>n.dispatchEvent(e))}function _c(n){const e=U.useRef(n);return U.useEffect(()=>{e.current=n}),U.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function D0e(n,e=globalThis==null?void 0:globalThis.document){const t=_c(n);U.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var N0e="DismissableLayer",N$="dismissableLayer.update",I0e="dismissableLayer.pointerDownOutside",F0e="dismissableLayer.focusOutside",fq,xte=U.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),v2=U.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...u}=n,h=U.useContext(xte),[m,y]=U.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=U.useState({}),T=Ci(e,Z=>y(Z)),O=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),D=O.indexOf(N),F=m?O.indexOf(m):-1,I=h.layersWithOutsidePointerEventsDisabled.size>0,R=F>=D,z=$0e(Z=>{const ae=Z.target,ge=[...h.branches].some(_e=>_e.contains(ae));!R||ge||(i==null||i(Z),a==null||a(Z),Z.defaultPrevented||c==null||c())},w),X=j0e(Z=>{const ae=Z.target;[...h.branches].some(_e=>_e.contains(ae))||(o==null||o(Z),a==null||a(Z),Z.defaultPrevented||c==null||c())},w);return D0e(Z=>{F===h.layers.size-1&&(r==null||r(Z),!Z.defaultPrevented&&c&&(Z.preventDefault(),c()))},w),U.useEffect(()=>{if(m)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(fq=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),hq(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=fq)}},[m,w,t,h]),U.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),hq())},[m,h]),U.useEffect(()=>{const Z=()=>S({});return document.addEventListener(N$,Z),()=>document.removeEventListener(N$,Z)},[]),L.jsx(Br.div,{...u,ref:T,style:{pointerEvents:I?R?"auto":"none":void 0,...n.style},onFocusCapture:Qn(n.onFocusCapture,X.onFocusCapture),onBlurCapture:Qn(n.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Qn(n.onPointerDownCapture,z.onPointerDownCapture)})});v2.displayName=N0e;var L0e="DismissableLayerBranch",wte=U.forwardRef((n,e)=>{const t=U.useContext(xte),r=U.useRef(null),i=Ci(e,r);return U.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),L.jsx(Br.div,{...n,ref:i})});wte.displayName=L0e;function $0e(n,e=globalThis==null?void 0:globalThis.document){const t=_c(n),r=U.useRef(!1),i=U.useRef(()=>{});return U.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){_te(I0e,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function j0e(n,e=globalThis==null?void 0:globalThis.document){const t=_c(n),r=U.useRef(!1);return U.useEffect(()=>{const i=o=>{o.target&&!r.current&&_te(F0e,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hq(){const n=new CustomEvent(N$);document.dispatchEvent(n)}function _te(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?bte(i,o):i.dispatchEvent(o)}var B0e=v2,V0e=wte,ga=globalThis!=null&&globalThis.document?U.useLayoutEffect:()=>{},z0e="Portal",$N=U.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,o]=U.useState(!1);ga(()=>o(!0),[]);const a=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?Wee.createPortal(L.jsx(Br.div,{...r,ref:e}),a):null});$N.displayName=z0e;function H0e(n,e){return U.useReducer((t,r)=>e[t][r]??t,n)}var pw=n=>{const{present:e,children:t}=n,r=W0e(e),i=typeof t=="function"?t({present:r.isPresent}):U.Children.only(t),o=Ci(r.ref,q0e(i));return typeof t=="function"||r.isPresent?U.cloneElement(i,{ref:o}):null};pw.displayName="Presence";function W0e(n){const[e,t]=U.useState(),r=U.useRef({}),i=U.useRef(n),o=U.useRef("none"),a=n?"mounted":"unmounted",[c,u]=H0e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return U.useEffect(()=>{const h=$A(r.current);o.current=c==="mounted"?h:"none"},[c]),ga(()=>{const h=r.current,m=i.current;if(m!==n){const w=o.current,S=$A(h);n?u("MOUNT"):S==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(m&&w!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,u]),ga(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,y=S=>{const O=$A(r.current).includes(S.animationName);if(S.target===e&&O&&(u("ANIMATION_END"),!i.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},w=S=>{S.target===e&&(o.current=$A(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:U.useCallback(h=>{h&&(r.current=getComputedStyle(h)),t(h)},[])}}function $A(n){return(n==null?void 0:n.animationName)||"none"}function q0e(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function oD({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=U0e({defaultProp:e,onChange:t}),o=n!==void 0,a=o?n:r,c=_c(t),u=U.useCallback(h=>{if(o){const y=typeof h=="function"?h(n):h;y!==n&&c(y)}else i(h)},[o,n,i,c]);return[a,u]}function U0e({defaultProp:n,onChange:e}){const t=U.useState(n),[r]=t,i=U.useRef(r),o=_c(e);return U.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}var G0e="VisuallyHidden",y2=U.forwardRef((n,e)=>L.jsx(Br.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));y2.displayName=G0e;var Y0e=y2,L8="ToastProvider",[$8,Q0e,K0e]=yte("Toast"),[Ete,QGe]=g2("Toast",[K0e]),[X0e,jN]=Ete(L8),Ste=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=n,[c,u]=U.useState(null),[h,m]=U.useState(0),y=U.useRef(!1),w=U.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${L8}\`. Expected non-empty \`string\`.`),L.jsx($8.Provider,{scope:e,children:L.jsx(X0e,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:u,onToastAdd:U.useCallback(()=>m(S=>S+1),[]),onToastRemove:U.useCallback(()=>m(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:a})})};Ste.displayName=L8;var kte="ToastViewport",Z0e=["F8"],I$="toast.viewportPause",F$="toast.viewportResume",Cte=U.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=Z0e,label:i="Notifications ({hotkey})",...o}=n,a=jN(kte,t),c=Q0e(t),u=U.useRef(null),h=U.useRef(null),m=U.useRef(null),y=U.useRef(null),w=Ci(e,y,a.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=a.toastCount>0;U.useEffect(()=>{const N=D=>{var I;r.length!==0&&r.every(R=>D[R]||D.code===R)&&((I=y.current)==null||I.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),U.useEffect(()=>{const N=u.current,D=y.current;if(T&&N&&D){const F=()=>{if(!a.isClosePausedRef.current){const X=new CustomEvent(I$);D.dispatchEvent(X),a.isClosePausedRef.current=!0}},I=()=>{if(a.isClosePausedRef.current){const X=new CustomEvent(F$);D.dispatchEvent(X),a.isClosePausedRef.current=!1}},R=X=>{!N.contains(X.relatedTarget)&&I()},z=()=>{N.contains(document.activeElement)||I()};return N.addEventListener("focusin",F),N.addEventListener("focusout",R),N.addEventListener("pointermove",F),N.addEventListener("pointerleave",z),window.addEventListener("blur",F),window.addEventListener("focus",I),()=>{N.removeEventListener("focusin",F),N.removeEventListener("focusout",R),N.removeEventListener("pointermove",F),N.removeEventListener("pointerleave",z),window.removeEventListener("blur",F),window.removeEventListener("focus",I)}}},[T,a.isClosePausedRef]);const O=U.useCallback(({tabbingDirection:N})=>{const F=c().map(I=>{const R=I.ref.current,z=[R,...dbe(R)];return N==="forwards"?z:z.reverse()});return(N==="forwards"?F.reverse():F).flat()},[c]);return U.useEffect(()=>{const N=y.current;if(N){const D=F=>{var z,X,Z;const I=F.altKey||F.ctrlKey||F.metaKey;if(F.key==="Tab"&&!I){const ae=document.activeElement,ge=F.shiftKey;if(F.target===N&&ge){(z=h.current)==null||z.focus();return}const he=O({tabbingDirection:ge?"backwards":"forwards"}),fe=he.findIndex(pe=>pe===ae);qF(he.slice(fe+1))?F.preventDefault():ge?(X=h.current)==null||X.focus():(Z=m.current)==null||Z.focus()}};return N.addEventListener("keydown",D),()=>N.removeEventListener("keydown",D)}},[c,O]),L.jsxs(V0e,{ref:u,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&L.jsx(L$,{ref:h,onFocusFromOutsideViewport:()=>{const N=O({tabbingDirection:"forwards"});qF(N)}}),L.jsx($8.Slot,{scope:t,children:L.jsx(Br.ol,{tabIndex:-1,...o,ref:w})}),T&&L.jsx(L$,{ref:m,onFocusFromOutsideViewport:()=>{const N=O({tabbingDirection:"backwards"});qF(N)}})]})});Cte.displayName=kte;var Ote="ToastFocusProxy",L$=U.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,o=jN(Ote,t);return L.jsx(y2,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var h;const c=a.relatedTarget;!((h=o.viewport)!=null&&h.contains(c))&&r()}})});L$.displayName=Ote;var BN="Toast",J0e="toast.swipeStart",ebe="toast.swipeMove",tbe="toast.swipeCancel",nbe="toast.swipeEnd",Tte=U.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:o,...a}=n,[c=!0,u]=oD({prop:r,defaultProp:i,onChange:o});return L.jsx(pw,{present:t||c,children:L.jsx(obe,{open:c,...a,ref:e,onClose:()=>u(!1),onPause:_c(n.onPause),onResume:_c(n.onResume),onSwipeStart:Qn(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qn(n.onSwipeMove,h=>{const{x:m,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Qn(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qn(n.onSwipeEnd,h=>{const{x:m,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),u(!1)})})})});Tte.displayName=BN;var[rbe,ibe]=Ete(BN,{onClose(){}}),obe=U.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:c,onPause:u,onResume:h,onSwipeStart:m,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:S,...T}=n,O=jN(BN,t),[N,D]=U.useState(null),F=Ci(e,pe=>D(pe)),I=U.useRef(null),R=U.useRef(null),z=i||O.duration,X=U.useRef(0),Z=U.useRef(z),ae=U.useRef(0),{onToastAdd:ge,onToastRemove:_e}=O,be=_c(()=>{var Ce;(N==null?void 0:N.contains(document.activeElement))&&((Ce=O.viewport)==null||Ce.focus()),a()}),he=U.useCallback(pe=>{!pe||pe===1/0||(window.clearTimeout(ae.current),X.current=new Date().getTime(),ae.current=window.setTimeout(be,pe))},[be]);U.useEffect(()=>{const pe=O.viewport;if(pe){const Ce=()=>{he(Z.current),h==null||h()},Ae=()=>{const We=new Date().getTime()-X.current;Z.current=Z.current-We,window.clearTimeout(ae.current),u==null||u()};return pe.addEventListener(I$,Ae),pe.addEventListener(F$,Ce),()=>{pe.removeEventListener(I$,Ae),pe.removeEventListener(F$,Ce)}}},[O.viewport,z,u,h,he]),U.useEffect(()=>{o&&!O.isClosePausedRef.current&&he(z)},[o,z,O.isClosePausedRef,he]),U.useEffect(()=>(ge(),()=>_e()),[ge,_e]);const fe=U.useMemo(()=>N?Ite(N):null,[N]);return O.viewport?L.jsxs(L.Fragment,{children:[fe&&L.jsx(sbe,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:fe}),L.jsx(rbe,{scope:t,onClose:be,children:v0.createPortal(L.jsx($8.ItemSlot,{scope:t,children:L.jsx(B0e,{asChild:!0,onEscapeKeyDown:Qn(c,()=>{O.isFocusedToastEscapeKeyDownRef.current||be(),O.isFocusedToastEscapeKeyDownRef.current=!1}),children:L.jsx(Br.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":O.swipeDirection,...T,ref:F,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Qn(n.onKeyDown,pe=>{pe.key==="Escape"&&(c==null||c(pe.nativeEvent),pe.nativeEvent.defaultPrevented||(O.isFocusedToastEscapeKeyDownRef.current=!0,be()))}),onPointerDown:Qn(n.onPointerDown,pe=>{pe.button===0&&(I.current={x:pe.clientX,y:pe.clientY})}),onPointerMove:Qn(n.onPointerMove,pe=>{if(!I.current)return;const Ce=pe.clientX-I.current.x,Ae=pe.clientY-I.current.y,We=!!R.current,xe=["left","right"].includes(O.swipeDirection),$e=["left","up"].includes(O.swipeDirection)?Math.min:Math.max,Je=xe?$e(0,Ce):0,Ne=xe?0:$e(0,Ae),Ue=pe.pointerType==="touch"?10:2,le={x:Je,y:Ne},Ze={originalEvent:pe,delta:le};We?(R.current=le,jA(ebe,y,Ze,{discrete:!1})):pq(le,O.swipeDirection,Ue)?(R.current=le,jA(J0e,m,Ze,{discrete:!1}),pe.target.setPointerCapture(pe.pointerId)):(Math.abs(Ce)>Ue||Math.abs(Ae)>Ue)&&(I.current=null)}),onPointerUp:Qn(n.onPointerUp,pe=>{const Ce=R.current,Ae=pe.target;if(Ae.hasPointerCapture(pe.pointerId)&&Ae.releasePointerCapture(pe.pointerId),R.current=null,I.current=null,Ce){const We=pe.currentTarget,xe={originalEvent:pe,delta:Ce};pq(Ce,O.swipeDirection,O.swipeThreshold)?jA(nbe,S,xe,{discrete:!0}):jA(tbe,w,xe,{discrete:!0}),We.addEventListener("click",$e=>$e.preventDefault(),{once:!0})}})})})}),O.viewport)})]}):null}),sbe=n=>{const{__scopeToast:e,children:t,...r}=n,i=jN(BN,e),[o,a]=U.useState(!1),[c,u]=U.useState(!1);return cbe(()=>a(!0)),U.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:L.jsx($N,{asChild:!0,children:L.jsx(y2,{...r,children:o&&L.jsxs(L.Fragment,{children:[i.label," ",t]})})})},abe="ToastTitle",Pte=U.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return L.jsx(Br.div,{...r,ref:e})});Pte.displayName=abe;var lbe="ToastDescription",Ate=U.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return L.jsx(Br.div,{...r,ref:e})});Ate.displayName=lbe;var Rte="ToastAction",Mte=U.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?L.jsx(Nte,{altText:t,asChild:!0,children:L.jsx(j8,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Rte}\`. Expected non-empty \`string\`.`),null)});Mte.displayName=Rte;var Dte="ToastClose",j8=U.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=ibe(Dte,t);return L.jsx(Nte,{asChild:!0,children:L.jsx(Br.button,{type:"button",...r,ref:e,onClick:Qn(n.onClick,i.onClose)})})});j8.displayName=Dte;var Nte=U.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return L.jsx(Br.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Ite(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),ube(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Ite(r))}}),e}function jA(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,o=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?bte(i,o):i.dispatchEvent(o)}var pq=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),o=r>i;return e==="left"||e==="right"?o&&r>t:!o&&i>t};function cbe(n=()=>{}){const e=_c(n);ga(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function ube(n){return n.nodeType===n.ELEMENT_NODE}function dbe(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function qF(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var fbe=Ste,Fte=Cte,Lte=Tte,$te=Pte,jte=Ate,Bte=Mte,Vte=j8;function zte(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=zte(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Hte(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=zte(n))&&(r&&(r+=" "),r+=e);return r}const mq=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gq=Hte,B8=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return gq(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(h=>{const m=t==null?void 0:t[h],y=o==null?void 0:o[h];if(m===null)return null;const w=mq(m)||mq(y);return i[h][w]}),c=t&&Object.entries(t).reduce((h,m)=>{let[y,w]=m;return w===void 0||(h[y]=w),h},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:y,className:w,...S}=m;return Object.entries(S).every(T=>{let[O,N]=T;return Array.isArray(N)?N.includes({...o,...c}[O]):{...o,...c}[O]===N})?[...h,y,w]:h},[]);return gq(n,a,u,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hbe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wte=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pbe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mbe=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...c},u)=>U.createElement("svg",{ref:u,...pbe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Wte("lucide",i),...c},[...a.map(([h,m])=>U.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=(n,e)=>{const t=U.forwardRef(({className:r,...i},o)=>U.createElement(mbe,{ref:o,iconNode:e,className:Wte(`lucide-${hbe(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=_s("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gbe=_s("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=_s("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vbe=_s("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ybe=_s("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bbe=_s("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=_s("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=_s("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=_s("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xbe=_s("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=_s("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=_s("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wbe=_s("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=_s("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=_s("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=_s("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _be=_s("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=_s("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ebe=_s("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U8="-",Sbe=n=>{const e=Cbe(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const c=a.split(U8);return c[0]===""&&c.length!==1&&c.shift(),Gte(c,e)||kbe(a)},getConflictingClassGroupIds:(a,c)=>{const u=t[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},Gte=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?Gte(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(U8);return(a=e.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId},vq=/^\[(.+)\]$/,kbe=n=>{if(vq.test(n)){const e=vq.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Cbe=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return Tbe(Object.entries(n.classGroups),t).forEach(([o,a])=>{$$(a,r,o,e)}),r},$$=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:yq(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(Obe(i)){$$(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,a])=>{$$(a,yq(e,o),t,r)})})},yq=(n,e)=>{let t=n;return e.split(U8).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Obe=n=>n.isThemeGetter,Tbe=(n,e)=>e?n.map(([t,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[e+a,c])):o);return[t,i]}):n,Pbe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,a)=>{t.set(o,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let a=t.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){t.has(o)?t.set(o,a):i(o,a)}}},Yte="!",Abe=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],o=e.length,a=c=>{const u=[];let h=0,m=0,y;for(let N=0;N<c.length;N++){let D=c[N];if(h===0){if(D===i&&(r||c.slice(N,N+o)===e)){u.push(c.slice(m,N)),m=N+o;continue}if(D==="/"){y=N;continue}}D==="["?h++:D==="]"&&h--}const w=u.length===0?c:c.substring(m),S=w.startsWith(Yte),T=S?w.substring(1):w,O=y&&y>m?y-m:void 0;return{modifiers:u,hasImportantModifier:S,baseClassName:T,maybePostfixModifierPosition:O}};return t?c=>t({className:c,parseClassName:a}):a},Rbe=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Mbe=n=>({cache:Pbe(n.cacheSize),parseClassName:Abe(n),...Sbe(n)}),Dbe=/\s+/,Nbe=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=n.trim().split(Dbe);let c="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{modifiers:m,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:S}=t(h);let T=!!S,O=r(T?w.substring(0,S):w);if(!O){if(!T){c=h+(c.length>0?" "+c:c);continue}if(O=r(w),!O){c=h+(c.length>0?" "+c:c);continue}T=!1}const N=Rbe(m).join(":"),D=y?N+Yte:N,F=D+O;if(o.includes(F))continue;o.push(F);const I=i(O,T);for(let R=0;R<I.length;++R){const z=I[R];o.push(D+z)}c=h+(c.length>0?" "+c:c)}return c};function Ibe(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Qte(e))&&(r&&(r+=" "),r+=t);return r}const Qte=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Qte(n[r]))&&(t&&(t+=" "),t+=e);return t};function Fbe(n,...e){let t,r,i,o=a;function a(u){const h=e.reduce((m,y)=>y(m),n());return t=Mbe(h),r=t.cache.get,i=t.cache.set,o=c,c(u)}function c(u){const h=r(u);if(h)return h;const m=Nbe(u,t);return i(u,m),m}return function(){return o(Ibe.apply(null,arguments))}}const Vi=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Kte=/^\[(?:([a-z-]+):)?(.+)\]$/i,Lbe=/^\d+\/\d+$/,$be=new Set(["px","full","screen"]),jbe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bbe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vbe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zbe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hbe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kh=n=>tx(n)||$be.has(n)||Lbe.test(n),hm=n=>gw(n,"length",Xbe),tx=n=>!!n&&!Number.isNaN(Number(n)),UF=n=>gw(n,"number",tx),MS=n=>!!n&&Number.isInteger(Number(n)),Wbe=n=>n.endsWith("%")&&tx(n.slice(0,-1)),nr=n=>Kte.test(n),pm=n=>jbe.test(n),qbe=new Set(["length","size","percentage"]),Ube=n=>gw(n,qbe,Xte),Gbe=n=>gw(n,"position",Xte),Ybe=new Set(["image","url"]),Qbe=n=>gw(n,Ybe,Jbe),Kbe=n=>gw(n,"",Zbe),DS=()=>!0,gw=(n,e,t)=>{const r=Kte.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Xbe=n=>Bbe.test(n)&&!Vbe.test(n),Xte=()=>!1,Zbe=n=>zbe.test(n),Jbe=n=>Hbe.test(n),e1e=()=>{const n=Vi("colors"),e=Vi("spacing"),t=Vi("blur"),r=Vi("brightness"),i=Vi("borderColor"),o=Vi("borderRadius"),a=Vi("borderSpacing"),c=Vi("borderWidth"),u=Vi("contrast"),h=Vi("grayscale"),m=Vi("hueRotate"),y=Vi("invert"),w=Vi("gap"),S=Vi("gradientColorStops"),T=Vi("gradientColorStopPositions"),O=Vi("inset"),N=Vi("margin"),D=Vi("opacity"),F=Vi("padding"),I=Vi("saturate"),R=Vi("scale"),z=Vi("sepia"),X=Vi("skew"),Z=Vi("space"),ae=Vi("translate"),ge=()=>["auto","contain","none"],_e=()=>["auto","hidden","clip","visible","scroll"],be=()=>["auto",nr,e],he=()=>[nr,e],fe=()=>["",kh,hm],pe=()=>["auto",tx,nr],Ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ae=()=>["solid","dashed","dotted","double","none"],We=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>["start","end","center","between","around","evenly","stretch"],$e=()=>["","0",nr],Je=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ne=()=>[tx,nr];return{cacheSize:500,separator:":",theme:{colors:[DS],spacing:[kh,hm],blur:["none","",pm,nr],brightness:Ne(),borderColor:[n],borderRadius:["none","","full",pm,nr],borderSpacing:he(),borderWidth:fe(),contrast:Ne(),grayscale:$e(),hueRotate:Ne(),invert:$e(),gap:he(),gradientColorStops:[n],gradientColorStopPositions:[Wbe,hm],inset:be(),margin:be(),opacity:Ne(),padding:he(),saturate:Ne(),scale:Ne(),sepia:$e(),skew:Ne(),space:he(),translate:he()},classGroups:{aspect:[{aspect:["auto","square","video",nr]}],container:["container"],columns:[{columns:[pm]}],"break-after":[{"break-after":Je()}],"break-before":[{"break-before":Je()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ce(),nr]}],overflow:[{overflow:_e()}],"overflow-x":[{"overflow-x":_e()}],"overflow-y":[{"overflow-y":_e()}],overscroll:[{overscroll:ge()}],"overscroll-x":[{"overscroll-x":ge()}],"overscroll-y":[{"overscroll-y":ge()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[O]}],"inset-x":[{"inset-x":[O]}],"inset-y":[{"inset-y":[O]}],start:[{start:[O]}],end:[{end:[O]}],top:[{top:[O]}],right:[{right:[O]}],bottom:[{bottom:[O]}],left:[{left:[O]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",MS,nr]}],basis:[{basis:be()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nr]}],grow:[{grow:$e()}],shrink:[{shrink:$e()}],order:[{order:["first","last","none",MS,nr]}],"grid-cols":[{"grid-cols":[DS]}],"col-start-end":[{col:["auto",{span:["full",MS,nr]},nr]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[DS]}],"row-start-end":[{row:["auto",{span:[MS,nr]},nr]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nr]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...xe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...xe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...xe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nr,e]}],"min-w":[{"min-w":[nr,e,"min","max","fit"]}],"max-w":[{"max-w":[nr,e,"none","full","min","max","fit","prose",{screen:[pm]},pm]}],h:[{h:[nr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pm,hm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",UF]}],"font-family":[{font:[DS]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nr]}],"line-clamp":[{"line-clamp":["none",tx,UF]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kh,nr]}],"list-image":[{"list-image":["none",nr]}],"list-style-type":[{list:["none","disc","decimal",nr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kh,hm]}],"underline-offset":[{"underline-offset":["auto",kh,nr]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:he()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ce(),Gbe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ube]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Qbe]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...Ae(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:Ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Ae()]}],"outline-offset":[{"outline-offset":[kh,nr]}],"outline-w":[{outline:[kh,hm]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[kh,hm]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",pm,Kbe]}],"shadow-color":[{shadow:[DS]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...We(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":We()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",pm,nr]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[y]}],saturate:[{saturate:[I]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nr]}],duration:[{duration:Ne()}],ease:[{ease:["linear","in","out","in-out",nr]}],delay:[{delay:Ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",nr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[MS,nr]}],"translate-x":[{"translate-x":[ae]}],"translate-y":[{"translate-y":[ae]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nr]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nr]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":he()}],"scroll-mx":[{"scroll-mx":he()}],"scroll-my":[{"scroll-my":he()}],"scroll-ms":[{"scroll-ms":he()}],"scroll-me":[{"scroll-me":he()}],"scroll-mt":[{"scroll-mt":he()}],"scroll-mr":[{"scroll-mr":he()}],"scroll-mb":[{"scroll-mb":he()}],"scroll-ml":[{"scroll-ml":he()}],"scroll-p":[{"scroll-p":he()}],"scroll-px":[{"scroll-px":he()}],"scroll-py":[{"scroll-py":he()}],"scroll-ps":[{"scroll-ps":he()}],"scroll-pe":[{"scroll-pe":he()}],"scroll-pt":[{"scroll-pt":he()}],"scroll-pr":[{"scroll-pr":he()}],"scroll-pb":[{"scroll-pb":he()}],"scroll-pl":[{"scroll-pl":he()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nr]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[kh,hm,UF]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},t1e=Fbe(e1e);function dr(...n){return t1e(Hte(n))}const n1e=fbe,Zte=U.forwardRef(({className:n,...e},t)=>L.jsx(Fte,{ref:t,className:dr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Zte.displayName=Fte.displayName;const r1e=B8("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Jte=U.forwardRef(({className:n,variant:e,...t},r)=>L.jsx(Lte,{ref:r,className:dr(r1e({variant:e}),n),...t}));Jte.displayName=Lte.displayName;const i1e=U.forwardRef(({className:n,...e},t)=>L.jsx(Bte,{ref:t,className:dr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));i1e.displayName=Bte.displayName;const ene=U.forwardRef(({className:n,...e},t)=>L.jsx(Vte,{ref:t,className:dr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:L.jsx(Ebe,{className:"h-4 w-4"})}));ene.displayName=Vte.displayName;const tne=U.forwardRef(({className:n,...e},t)=>L.jsx($te,{ref:t,className:dr("text-sm font-semibold",n),...e}));tne.displayName=$te.displayName;const nne=U.forwardRef(({className:n,...e},t)=>L.jsx(jte,{ref:t,className:dr("text-sm opacity-90",n),...e}));nne.displayName=jte.displayName;function o1e(){const{toasts:n}=E0e();return L.jsxs(n1e,{children:[n.map(function({id:e,title:t,description:r,action:i,...o}){return L.jsxs(Jte,{...o,children:[L.jsxs("div",{className:"grid gap-1",children:[t&&L.jsx(tne,{children:t}),r&&L.jsx(nne,{children:r})]}),i,L.jsx(ene,{})]},e)}),L.jsx(Zte,{})]})}var bq=["light","dark"],s1e="(prefers-color-scheme: dark)",a1e=U.createContext(void 0),l1e={setTheme:n=>{},themes:[]},c1e=()=>{var n;return(n=U.useContext(a1e))!=null?n:l1e};U.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:c,nonce:u})=>{let h=o==="system",m=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,y=i?bq.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",w=(T,O=!1,N=!0)=>{let D=a?a[T]:T,F=O?T+"|| ''":`'${D}'`,I="";return i&&N&&!O&&bq.includes(T)&&(I+=`d.style.colorScheme = '${T}';`),t==="class"?O||D?I+=`c.add(${F})`:I+="null":D&&(I+=`d[s](n,${F})`),I},S=n?`!function(){${m}${w(n)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${s1e}',m=window.matchMedia(t);if(m.media!==t||m.matches){${w("dark")}}else{${w("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${w(a?"x[e]":"e",!0)}}${h?"":"else{"+w(o,!1,!1)+"}"}${y}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${w(a?"x[e]":"e",!0)}}else{${w(o,!1,!1)};}${y}}catch(t){}}();`;return U.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:S}})});var u1e=n=>{switch(n){case"success":return h1e;case"info":return m1e;case"warning":return p1e;case"error":return g1e;default:return null}},d1e=Array(12).fill(0),f1e=({visible:n})=>rt.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},rt.createElement("div",{className:"sonner-spinner"},d1e.map((e,t)=>rt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),h1e=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),p1e=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),m1e=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),g1e=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),v1e=()=>{let[n,e]=rt.useState(document.hidden);return rt.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},j$=1,y1e=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,i=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:j$++,o=this.toasts.find(c=>c.id===i),a=n.dismissible===void 0?!0:n.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...n,id:i,title:t}),{...c,...n,id:i,dismissible:a,title:t}):c):this.addToast({title:t,...r,dismissible:a,id:i}),i},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),i=t!==void 0;return r.then(async o=>{if(x1e(o)&&!o.ok){i=!1;let a=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,c=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:t,type:"error",message:a,description:c})}else if(e.success!==void 0){i=!1;let a=typeof e.success=="function"?await e.success(o):e.success,c=typeof e.description=="function"?await e.description(o):e.description;this.create({id:t,type:"success",message:a,description:c})}}).catch(async o=>{if(e.error!==void 0){i=!1;let a=typeof e.error=="function"?await e.error(o):e.error,c=typeof e.description=="function"?await e.description(o):e.description;this.create({id:t,type:"error",message:a,description:c})}}).finally(()=>{var o;i&&(this.dismiss(t),t=void 0),(o=e.finally)==null||o.call(e)}),t},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||j$++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},ac=new y1e,b1e=(n,e)=>{let t=(e==null?void 0:e.id)||j$++;return ac.addToast({title:n,...e,id:t}),t},x1e=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",w1e=b1e,_1e=()=>ac.toasts,Lo=Object.assign(w1e,{success:ac.success,info:ac.info,warning:ac.warning,error:ac.error,custom:ac.custom,message:ac.message,promise:ac.promise,dismiss:ac.dismiss,loading:ac.loading},{getHistory:_1e});function E1e(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}E1e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function BA(n){return n.label!==void 0}var S1e=3,k1e="32px",C1e=4e3,O1e=356,T1e=14,P1e=20,A1e=200;function R1e(...n){return n.filter(Boolean).join(" ")}var M1e=n=>{var e,t,r,i,o,a,c,u,h,m;let{invert:y,toast:w,unstyled:S,interacting:T,setHeights:O,visibleToasts:N,heights:D,index:F,toasts:I,expanded:R,removeToast:z,defaultRichColors:X,closeButton:Z,style:ae,cancelButtonStyle:ge,actionButtonStyle:_e,className:be="",descriptionClassName:he="",duration:fe,position:pe,gap:Ce,loadingIcon:Ae,expandByDefault:We,classNames:xe,icons:$e,closeButtonAriaLabel:Je="Close toast",pauseWhenPageIsHidden:Ne,cn:Ue}=n,[le,Ze]=rt.useState(!1),[Qe,Ct]=rt.useState(!1),[Et,on]=rt.useState(!1),[zn,ze]=rt.useState(!1),[mt,gt]=rt.useState(0),[jt,Ht]=rt.useState(0),qn=rt.useRef(null),kn=rt.useRef(null),En=F===0,ve=F+1<=N,Re=w.type,je=w.dismissible!==!1,at=w.className||"",ht=w.descriptionClassName||"",it=rt.useMemo(()=>D.findIndex(ct=>ct.toastId===w.id)||0,[D,w.id]),zt=rt.useMemo(()=>{var ct;return(ct=w.closeButton)!=null?ct:Z},[w.closeButton,Z]),tn=rt.useMemo(()=>w.duration||fe||C1e,[w.duration,fe]),_t=rt.useRef(0),or=rt.useRef(0),Oi=rt.useRef(0),Rr=rt.useRef(null),[Ss,js]=pe.split("-"),pr=rt.useMemo(()=>D.reduce((ct,Xn,sr)=>sr>=it?ct:ct+Xn.height,0),[D,it]),Ln=v1e(),Pn=w.invert||y,$n=Re==="loading";or.current=rt.useMemo(()=>it*Ce+pr,[it,pr]),rt.useEffect(()=>{Ze(!0)},[]),rt.useLayoutEffect(()=>{if(!le)return;let ct=kn.current,Xn=ct.style.height;ct.style.height="auto";let sr=ct.getBoundingClientRect().height;ct.style.height=Xn,Ht(sr),O(mi=>mi.find(ut=>ut.toastId===w.id)?mi.map(ut=>ut.toastId===w.id?{...ut,height:sr}:ut):[{toastId:w.id,height:sr,position:w.position},...mi])},[le,w.title,w.description,O,w.id]);let Ur=rt.useCallback(()=>{Ct(!0),gt(or.current),O(ct=>ct.filter(Xn=>Xn.toastId!==w.id)),setTimeout(()=>{z(w)},A1e)},[w,z,O,or]);rt.useEffect(()=>{if(w.promise&&Re==="loading"||w.duration===1/0||w.type==="loading")return;let ct,Xn=tn;return R||T||Ne&&Ln?(()=>{if(Oi.current<_t.current){let sr=new Date().getTime()-_t.current;Xn=Xn-sr}Oi.current=new Date().getTime()})():Xn!==1/0&&(_t.current=new Date().getTime(),ct=setTimeout(()=>{var sr;(sr=w.onAutoClose)==null||sr.call(w,w),Ur()},Xn)),()=>clearTimeout(ct)},[R,T,We,w,tn,Ur,w.promise,Re,Ne,Ln]),rt.useEffect(()=>{let ct=kn.current;if(ct){let Xn=ct.getBoundingClientRect().height;return Ht(Xn),O(sr=>[{toastId:w.id,height:Xn,position:w.position},...sr]),()=>O(sr=>sr.filter(mi=>mi.toastId!==w.id))}},[O,w.id]),rt.useEffect(()=>{w.delete&&Ur()},[Ur,w.delete]);function wa(){return $e!=null&&$e.loading?rt.createElement("div",{className:"sonner-loader","data-visible":Re==="loading"},$e.loading):Ae?rt.createElement("div",{className:"sonner-loader","data-visible":Re==="loading"},Ae):rt.createElement(f1e,{visible:Re==="loading"})}return rt.createElement("li",{"aria-live":w.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:kn,className:Ue(be,at,xe==null?void 0:xe.toast,(e=w==null?void 0:w.classNames)==null?void 0:e.toast,xe==null?void 0:xe.default,xe==null?void 0:xe[Re],(t=w==null?void 0:w.classNames)==null?void 0:t[Re]),"data-sonner-toast":"","data-rich-colors":(r=w.richColors)!=null?r:X,"data-styled":!(w.jsx||w.unstyled||S),"data-mounted":le,"data-promise":!!w.promise,"data-removed":Qe,"data-visible":ve,"data-y-position":Ss,"data-x-position":js,"data-index":F,"data-front":En,"data-swiping":Et,"data-dismissible":je,"data-type":Re,"data-invert":Pn,"data-swipe-out":zn,"data-expanded":!!(R||We&&le),style:{"--index":F,"--toasts-before":F,"--z-index":I.length-F,"--offset":`${Qe?mt:or.current}px`,"--initial-height":We?"auto":`${jt}px`,...ae,...w.style},onPointerDown:ct=>{$n||!je||(qn.current=new Date,gt(or.current),ct.target.setPointerCapture(ct.pointerId),ct.target.tagName!=="BUTTON"&&(on(!0),Rr.current={x:ct.clientX,y:ct.clientY}))},onPointerUp:()=>{var ct,Xn,sr,mi;if(zn||!je)return;Rr.current=null;let ut=Number(((ct=kn.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Oc=new Date().getTime()-((Xn=qn.current)==null?void 0:Xn.getTime()),ne=Math.abs(ut)/Oc;if(Math.abs(ut)>=P1e||ne>.11){gt(or.current),(sr=w.onDismiss)==null||sr.call(w,w),Ur(),ze(!0);return}(mi=kn.current)==null||mi.style.setProperty("--swipe-amount","0px"),on(!1)},onPointerMove:ct=>{var Xn;if(!Rr.current||!je)return;let sr=ct.clientY-Rr.current.y,mi=ct.clientX-Rr.current.x,ut=(Ss==="top"?Math.min:Math.max)(0,sr),Oc=ct.pointerType==="touch"?10:2;Math.abs(ut)>Oc?(Xn=kn.current)==null||Xn.style.setProperty("--swipe-amount",`${sr}px`):Math.abs(mi)>Oc&&(Rr.current=null)}},zt&&!w.jsx?rt.createElement("button",{"aria-label":Je,"data-disabled":$n,"data-close-button":!0,onClick:$n||!je?()=>{}:()=>{var ct;Ur(),(ct=w.onDismiss)==null||ct.call(w,w)},className:Ue(xe==null?void 0:xe.closeButton,(i=w==null?void 0:w.classNames)==null?void 0:i.closeButton)},rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},rt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),rt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,w.jsx||rt.isValidElement(w.title)?w.jsx||w.title:rt.createElement(rt.Fragment,null,Re||w.icon||w.promise?rt.createElement("div",{"data-icon":"",className:Ue(xe==null?void 0:xe.icon,(o=w==null?void 0:w.classNames)==null?void 0:o.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||wa():null,w.type!=="loading"?w.icon||($e==null?void 0:$e[Re])||u1e(Re):null):null,rt.createElement("div",{"data-content":"",className:Ue(xe==null?void 0:xe.content,(a=w==null?void 0:w.classNames)==null?void 0:a.content)},rt.createElement("div",{"data-title":"",className:Ue(xe==null?void 0:xe.title,(c=w==null?void 0:w.classNames)==null?void 0:c.title)},w.title),w.description?rt.createElement("div",{"data-description":"",className:Ue(he,ht,xe==null?void 0:xe.description,(u=w==null?void 0:w.classNames)==null?void 0:u.description)},w.description):null),rt.isValidElement(w.cancel)?w.cancel:w.cancel&&BA(w.cancel)?rt.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||ge,onClick:ct=>{var Xn,sr;BA(w.cancel)&&je&&((sr=(Xn=w.cancel).onClick)==null||sr.call(Xn,ct),Ur())},className:Ue(xe==null?void 0:xe.cancelButton,(h=w==null?void 0:w.classNames)==null?void 0:h.cancelButton)},w.cancel.label):null,rt.isValidElement(w.action)?w.action:w.action&&BA(w.action)?rt.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||_e,onClick:ct=>{var Xn,sr;BA(w.action)&&(ct.defaultPrevented||((sr=(Xn=w.action).onClick)==null||sr.call(Xn,ct),Ur()))},className:Ue(xe==null?void 0:xe.actionButton,(m=w==null?void 0:w.classNames)==null?void 0:m.actionButton)},w.action.label):null))};function xq(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var D1e=n=>{let{invert:e,position:t="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,theme:u="light",richColors:h,duration:m,style:y,visibleToasts:w=S1e,toastOptions:S,dir:T=xq(),gap:O=T1e,loadingIcon:N,icons:D,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:I,cn:R=R1e}=n,[z,X]=rt.useState([]),Z=rt.useMemo(()=>Array.from(new Set([t].concat(z.filter(Ne=>Ne.position).map(Ne=>Ne.position)))),[z,t]),[ae,ge]=rt.useState([]),[_e,be]=rt.useState(!1),[he,fe]=rt.useState(!1),[pe,Ce]=rt.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ae=rt.useRef(null),We=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),xe=rt.useRef(null),$e=rt.useRef(!1),Je=rt.useCallback(Ne=>{var Ue;(Ue=z.find(le=>le.id===Ne.id))!=null&&Ue.delete||ac.dismiss(Ne.id),X(le=>le.filter(({id:Ze})=>Ze!==Ne.id))},[z]);return rt.useEffect(()=>ac.subscribe(Ne=>{if(Ne.dismiss){X(Ue=>Ue.map(le=>le.id===Ne.id?{...le,delete:!0}:le));return}setTimeout(()=>{Wee.flushSync(()=>{X(Ue=>{let le=Ue.findIndex(Ze=>Ze.id===Ne.id);return le!==-1?[...Ue.slice(0,le),{...Ue[le],...Ne},...Ue.slice(le+1)]:[Ne,...Ue]})})})}),[]),rt.useEffect(()=>{if(u!=="system"){Ce(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ce("dark"):Ce("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Ne})=>{Ce(Ne?"dark":"light")})},[u]),rt.useEffect(()=>{z.length<=1&&be(!1)},[z]),rt.useEffect(()=>{let Ne=Ue=>{var le,Ze;r.every(Qe=>Ue[Qe]||Ue.code===Qe)&&(be(!0),(le=Ae.current)==null||le.focus()),Ue.code==="Escape"&&(document.activeElement===Ae.current||(Ze=Ae.current)!=null&&Ze.contains(document.activeElement))&&be(!1)};return document.addEventListener("keydown",Ne),()=>document.removeEventListener("keydown",Ne)},[r]),rt.useEffect(()=>{if(Ae.current)return()=>{xe.current&&(xe.current.focus({preventScroll:!0}),xe.current=null,$e.current=!1)}},[Ae.current]),z.length?rt.createElement("section",{"aria-label":`${F} ${We}`,tabIndex:-1},Z.map((Ne,Ue)=>{var le;let[Ze,Qe]=Ne.split("-");return rt.createElement("ol",{key:Ne,dir:T==="auto"?xq():T,tabIndex:-1,ref:Ae,className:a,"data-sonner-toaster":!0,"data-theme":pe,"data-y-position":Ze,"data-x-position":Qe,style:{"--front-toast-height":`${((le=ae[0])==null?void 0:le.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||k1e,"--width":`${O1e}px`,"--gap":`${O}px`,...y},onBlur:Ct=>{$e.current&&!Ct.currentTarget.contains(Ct.relatedTarget)&&($e.current=!1,xe.current&&(xe.current.focus({preventScroll:!0}),xe.current=null))},onFocus:Ct=>{Ct.target instanceof HTMLElement&&Ct.target.dataset.dismissible==="false"||$e.current||($e.current=!0,xe.current=Ct.relatedTarget)},onMouseEnter:()=>be(!0),onMouseMove:()=>be(!0),onMouseLeave:()=>{he||be(!1)},onPointerDown:Ct=>{Ct.target instanceof HTMLElement&&Ct.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},z.filter(Ct=>!Ct.position&&Ue===0||Ct.position===Ne).map((Ct,Et)=>{var on,zn;return rt.createElement(M1e,{key:Ct.id,icons:D,index:Et,toast:Ct,defaultRichColors:h,duration:(on=S==null?void 0:S.duration)!=null?on:m,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:e,visibleToasts:w,closeButton:(zn=S==null?void 0:S.closeButton)!=null?zn:o,interacting:he,position:Ne,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,removeToast:Je,toasts:z.filter(ze=>ze.position==Ct.position),heights:ae.filter(ze=>ze.position==Ct.position),setHeights:ge,expandByDefault:i,gap:O,loadingIcon:N,expanded:_e,pauseWhenPageIsHidden:I,cn:R})}))})):null};const N1e=({...n})=>{const{theme:e="system"}=c1e();return L.jsx(D1e,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var I1e=VZ.useId||(()=>{}),F1e=0;function nx(n){const[e,t]=U.useState(I1e());return ga(()=>{t(r=>r??String(F1e++))},[n]),e?`radix-${e}`:""}const L1e=["top","right","bottom","left"],pg=Math.min,uc=Math.max,aD=Math.round,VA=Math.floor,mg=n=>({x:n,y:n}),$1e={left:"right",right:"left",bottom:"top",top:"bottom"},j1e={start:"end",end:"start"};function B$(n,e,t){return uc(n,pg(e,t))}function np(n,e){return typeof n=="function"?n(e):n}function rp(n){return n.split("-")[0]}function vw(n){return n.split("-")[1]}function G8(n){return n==="x"?"y":"x"}function Y8(n){return n==="y"?"height":"width"}function gg(n){return["top","bottom"].includes(rp(n))?"y":"x"}function Q8(n){return G8(gg(n))}function B1e(n,e,t){t===void 0&&(t=!1);const r=vw(n),i=Q8(n),o=Y8(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=lD(a)),[a,lD(a)]}function V1e(n){const e=lD(n);return[V$(n),e,V$(e)]}function V$(n){return n.replace(/start|end/g,e=>j1e[e])}function z1e(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:a;default:return[]}}function H1e(n,e,t,r){const i=vw(n);let o=z1e(rp(n),t==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(V$)))),o}function lD(n){return n.replace(/left|right|bottom|top/g,e=>$1e[e])}function W1e(n){return{top:0,right:0,bottom:0,left:0,...n}}function rne(n){return typeof n!="number"?W1e(n):{top:n,right:n,bottom:n,left:n}}function cD(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function wq(n,e,t){let{reference:r,floating:i}=n;const o=gg(e),a=Q8(e),c=Y8(a),u=rp(e),h=o==="y",m=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,w=r[c]/2-i[c]/2;let S;switch(u){case"top":S={x:m,y:r.y-i.height};break;case"bottom":S={x:m,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y};break;case"left":S={x:r.x-i.width,y};break;default:S={x:r.x,y:r.y}}switch(vw(e)){case"start":S[a]-=w*(t&&h?-1:1);break;case"end":S[a]+=w*(t&&h?-1:1);break}return S}const q1e=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=t,c=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y}=wq(h,r,u),w=r,S={},T=0;for(let O=0;O<c.length;O++){const{name:N,fn:D}=c[O],{x:F,y:I,data:R,reset:z}=await D({x:m,y,initialPlacement:r,placement:w,strategy:i,middlewareData:S,rects:h,platform:a,elements:{reference:n,floating:e}});m=F??m,y=I??y,S={...S,[N]:{...S[N],...R}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(w=z.placement),z.rects&&(h=z.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):z.rects),{x:m,y}=wq(h,w,u)),O=-1)}return{x:m,y,placement:w,strategy:i,middlewareData:S}};async function bC(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:c,strategy:u}=n,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:w=!1,padding:S=0}=np(e,n),T=rne(S),N=c[w?y==="floating"?"reference":"floating":y],D=cD(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(N)))==null||t?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:u})),F=y==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),R=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},z=cD(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:F,offsetParent:I,strategy:u}):F);return{top:(D.top-z.top+T.top)/R.y,bottom:(z.bottom-D.bottom+T.bottom)/R.y,left:(D.left-z.left+T.left)/R.x,right:(z.right-D.right+T.right)/R.x}}const U1e=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:a,elements:c,middlewareData:u}=e,{element:h,padding:m=0}=np(n,e)||{};if(h==null)return{};const y=rne(m),w={x:t,y:r},S=Q8(i),T=Y8(S),O=await a.getDimensions(h),N=S==="y",D=N?"top":"left",F=N?"bottom":"right",I=N?"clientHeight":"clientWidth",R=o.reference[T]+o.reference[S]-w[S]-o.floating[T],z=w[S]-o.reference[S],X=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let Z=X?X[I]:0;(!Z||!await(a.isElement==null?void 0:a.isElement(X)))&&(Z=c.floating[I]||o.floating[T]);const ae=R/2-z/2,ge=Z/2-O[T]/2-1,_e=pg(y[D],ge),be=pg(y[F],ge),he=_e,fe=Z-O[T]-be,pe=Z/2-O[T]/2+ae,Ce=B$(he,pe,fe),Ae=!u.arrow&&vw(i)!=null&&pe!==Ce&&o.reference[T]/2-(pe<he?_e:be)-O[T]/2<0,We=Ae?pe<he?pe-he:pe-fe:0;return{[S]:w[S]+We,data:{[S]:Ce,centerOffset:pe-Ce-We,...Ae&&{alignmentOffset:We}},reset:Ae}}}),G1e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:O=!0,...N}=np(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const D=rp(i),F=gg(c),I=rp(c)===c,R=await(u.isRTL==null?void 0:u.isRTL(h.floating)),z=w||(I||!O?[lD(c)]:V1e(c)),X=T!=="none";!w&&X&&z.push(...H1e(c,O,T,R));const Z=[c,...z],ae=await bC(e,N),ge=[];let _e=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&ge.push(ae[D]),y){const pe=B1e(i,a,R);ge.push(ae[pe[0]],ae[pe[1]])}if(_e=[..._e,{placement:i,overflows:ge}],!ge.every(pe=>pe<=0)){var be,he;const pe=(((be=o.flip)==null?void 0:be.index)||0)+1,Ce=Z[pe];if(Ce)return{data:{index:pe,overflows:_e},reset:{placement:Ce}};let Ae=(he=_e.filter(We=>We.overflows[0]<=0).sort((We,xe)=>We.overflows[1]-xe.overflows[1])[0])==null?void 0:he.placement;if(!Ae)switch(S){case"bestFit":{var fe;const We=(fe=_e.filter(xe=>{if(X){const $e=gg(xe.placement);return $e===F||$e==="y"}return!0}).map(xe=>[xe.placement,xe.overflows.filter($e=>$e>0).reduce(($e,Je)=>$e+Je,0)]).sort((xe,$e)=>xe[1]-$e[1])[0])==null?void 0:fe[0];We&&(Ae=We);break}case"initialPlacement":Ae=c;break}if(i!==Ae)return{reset:{placement:Ae}}}return{}}}};function _q(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Eq(n){return L1e.some(e=>n[e]>=0)}const Y1e=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=np(n,e);switch(r){case"referenceHidden":{const o=await bC(e,{...i,elementContext:"reference"}),a=_q(o,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Eq(a)}}}case"escaped":{const o=await bC(e,{...i,altBoundary:!0}),a=_q(o,t.floating);return{data:{escapedOffsets:a,escaped:Eq(a)}}}default:return{}}}}};async function Q1e(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=rp(t),c=vw(t),u=gg(t)==="y",h=["left","top"].includes(a)?-1:1,m=o&&u?-1:1,y=np(e,n);let{mainAxis:w,crossAxis:S,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(S=c==="end"?T*-1:T),u?{x:S*m,y:w*h}:{x:w*h,y:S*m}}const K1e=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:a,middlewareData:c}=e,u=await Q1e(e,n);return a===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:a}}}}},X1e=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:N=>{let{x:D,y:F}=N;return{x:D,y:F}}},...u}=np(n,e),h={x:t,y:r},m=await bC(e,u),y=gg(rp(i)),w=G8(y);let S=h[w],T=h[y];if(o){const N=w==="y"?"top":"left",D=w==="y"?"bottom":"right",F=S+m[N],I=S-m[D];S=B$(F,S,I)}if(a){const N=y==="y"?"top":"left",D=y==="y"?"bottom":"right",F=T+m[N],I=T-m[D];T=B$(F,T,I)}const O=c.fn({...e,[w]:S,[y]:T});return{...O,data:{x:O.x-t,y:O.y-r,enabled:{[w]:o,[y]:a}}}}}},Z1e=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=np(n,e),m={x:t,y:r},y=gg(i),w=G8(y);let S=m[w],T=m[y];const O=np(c,e),N=typeof O=="number"?{mainAxis:O,crossAxis:0}:{mainAxis:0,crossAxis:0,...O};if(u){const I=w==="y"?"height":"width",R=o.reference[w]-o.floating[I]+N.mainAxis,z=o.reference[w]+o.reference[I]-N.mainAxis;S<R?S=R:S>z&&(S=z)}if(h){var D,F;const I=w==="y"?"width":"height",R=["top","left"].includes(rp(i)),z=o.reference[y]-o.floating[I]+(R&&((D=a.offset)==null?void 0:D[y])||0)+(R?0:N.crossAxis),X=o.reference[y]+o.reference[I]+(R?0:((F=a.offset)==null?void 0:F[y])||0)-(R?N.crossAxis:0);T<z?T=z:T>X&&(T=X)}return{[w]:S,[y]:T}}}},J1e=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:a,elements:c}=e,{apply:u=()=>{},...h}=np(n,e),m=await bC(e,h),y=rp(i),w=vw(i),S=gg(i)==="y",{width:T,height:O}=o.floating;let N,D;y==="top"||y==="bottom"?(N=y,D=w===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(D=y,N=w==="end"?"top":"bottom");const F=O-m.top-m.bottom,I=T-m.left-m.right,R=pg(O-m[N],F),z=pg(T-m[D],I),X=!e.middlewareData.shift;let Z=R,ae=z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(ae=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(Z=F),X&&!w){const _e=uc(m.left,0),be=uc(m.right,0),he=uc(m.top,0),fe=uc(m.bottom,0);S?ae=T-2*(_e!==0||be!==0?_e+be:uc(m.left,m.right)):Z=O-2*(he!==0||fe!==0?he+fe:uc(m.top,m.bottom))}await u({...e,availableWidth:ae,availableHeight:Z});const ge=await a.getDimensions(c.floating);return T!==ge.width||O!==ge.height?{reset:{rects:!0}}:{}}}};function VN(){return typeof window<"u"}function yw(n){return ine(n)?(n.nodeName||"").toLowerCase():"#document"}function yc(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Uf(n){var e;return(e=(ine(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function ine(n){return VN()?n instanceof Node||n instanceof yc(n).Node:!1}function Od(n){return VN()?n instanceof Element||n instanceof yc(n).Element:!1}function Vf(n){return VN()?n instanceof HTMLElement||n instanceof yc(n).HTMLElement:!1}function Sq(n){return!VN()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof yc(n).ShadowRoot}function w2(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Td(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function exe(n){return["table","td","th"].includes(yw(n))}function zN(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function K8(n){const e=X8(),t=Od(n)?Td(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function txe(n){let e=vg(n);for(;Vf(e)&&!Bx(e);){if(K8(e))return e;if(zN(e))return null;e=vg(e)}return null}function X8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bx(n){return["html","body","#document"].includes(yw(n))}function Td(n){return yc(n).getComputedStyle(n)}function HN(n){return Od(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function vg(n){if(yw(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Sq(n)&&n.host||Uf(n);return Sq(e)?e.host:e}function one(n){const e=vg(n);return Bx(e)?n.ownerDocument?n.ownerDocument.body:n.body:Vf(e)&&w2(e)?e:one(e)}function xC(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=one(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),a=yc(i);if(o){const c=z$(a);return e.concat(a,a.visualViewport||[],w2(i)?i:[],c&&t?xC(c):[])}return e.concat(i,xC(i,[],t))}function z$(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function sne(n){const e=Td(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Vf(n),o=i?n.offsetWidth:t,a=i?n.offsetHeight:r,c=aD(t)!==o||aD(r)!==a;return c&&(t=o,r=a),{width:t,height:r,$:c}}function Z8(n){return Od(n)?n:n.contextElement}function rx(n){const e=Z8(n);if(!Vf(e))return mg(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=sne(e);let a=(o?aD(t.width):t.width)/r,c=(o?aD(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const nxe=mg(0);function ane(n){const e=yc(n);return!X8()||!e.visualViewport?nxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rxe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==yc(n)?!1:e}function Qy(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=Z8(n);let a=mg(1);e&&(r?Od(r)&&(a=rx(r)):a=rx(n));const c=rxe(o,t,r)?ane(o):mg(0);let u=(i.left+c.x)/a.x,h=(i.top+c.y)/a.y,m=i.width/a.x,y=i.height/a.y;if(o){const w=yc(o),S=r&&Od(r)?yc(r):r;let T=w,O=z$(T);for(;O&&r&&S!==T;){const N=rx(O),D=O.getBoundingClientRect(),F=Td(O),I=D.left+(O.clientLeft+parseFloat(F.paddingLeft))*N.x,R=D.top+(O.clientTop+parseFloat(F.paddingTop))*N.y;u*=N.x,h*=N.y,m*=N.x,y*=N.y,u+=I,h+=R,T=yc(O),O=z$(T)}}return cD({width:m,height:y,x:u,y:h})}function ixe(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",a=Uf(r),c=e?zN(e.floating):!1;if(r===a||c&&o)return t;let u={scrollLeft:0,scrollTop:0},h=mg(1);const m=mg(0),y=Vf(r);if((y||!y&&!o)&&((yw(r)!=="body"||w2(a))&&(u=HN(r)),Vf(r))){const w=Qy(r);h=rx(r),m.x=w.x+r.clientLeft,m.y=w.y+r.clientTop}return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-u.scrollLeft*h.x+m.x,y:t.y*h.y-u.scrollTop*h.y+m.y}}function oxe(n){return Array.from(n.getClientRects())}function H$(n,e){const t=HN(n).scrollLeft;return e?e.left+t:Qy(Uf(n)).left+t}function sxe(n){const e=Uf(n),t=HN(n),r=n.ownerDocument.body,i=uc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=uc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+H$(n);const c=-t.scrollTop;return Td(r).direction==="rtl"&&(a+=uc(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:c}}function axe(n,e){const t=yc(n),r=Uf(n),i=t.visualViewport;let o=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){o=i.width,a=i.height;const h=X8();(!h||h&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:c,y:u}}function lxe(n,e){const t=Qy(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=Vf(n)?rx(n):mg(1),a=n.clientWidth*o.x,c=n.clientHeight*o.y,u=i*o.x,h=r*o.y;return{width:a,height:c,x:u,y:h}}function kq(n,e,t){let r;if(e==="viewport")r=axe(n,t);else if(e==="document")r=sxe(Uf(n));else if(Od(e))r=lxe(e,t);else{const i=ane(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return cD(r)}function lne(n,e){const t=vg(n);return t===e||!Od(t)||Bx(t)?!1:Td(t).position==="fixed"||lne(t,e)}function cxe(n,e){const t=e.get(n);if(t)return t;let r=xC(n,[],!1).filter(c=>Od(c)&&yw(c)!=="body"),i=null;const o=Td(n).position==="fixed";let a=o?vg(n):n;for(;Od(a)&&!Bx(a);){const c=Td(a),u=K8(a);!u&&c.position==="fixed"&&(i=null),(o?!u&&!i:!u&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||w2(a)&&!u&&lne(n,a))?r=r.filter(m=>m!==a):i=c,a=vg(a)}return e.set(n,r),r}function uxe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?zN(e)?[]:cxe(e,this._c):[].concat(t),r],c=a[0],u=a.reduce((h,m)=>{const y=kq(e,m,i);return h.top=uc(y.top,h.top),h.right=pg(y.right,h.right),h.bottom=pg(y.bottom,h.bottom),h.left=uc(y.left,h.left),h},kq(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function dxe(n){const{width:e,height:t}=sne(n);return{width:e,height:t}}function fxe(n,e,t){const r=Vf(e),i=Uf(e),o=t==="fixed",a=Qy(n,!0,o,e);let c={scrollLeft:0,scrollTop:0};const u=mg(0);if(r||!r&&!o)if((yw(e)!=="body"||w2(i))&&(c=HN(e)),r){const S=Qy(e,!0,o,e);u.x=S.x+e.clientLeft,u.y=S.y+e.clientTop}else i&&(u.x=H$(i));let h=0,m=0;if(i&&!r&&!o){const S=i.getBoundingClientRect();m=S.top+c.scrollTop,h=S.left+c.scrollLeft-H$(i,S)}const y=a.left+c.scrollLeft-u.x-h,w=a.top+c.scrollTop-u.y-m;return{x:y,y:w,width:a.width,height:a.height}}function GF(n){return Td(n).position==="static"}function Cq(n,e){if(!Vf(n)||Td(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Uf(n)===t&&(t=t.ownerDocument.body),t}function cne(n,e){const t=yc(n);if(zN(n))return t;if(!Vf(n)){let i=vg(n);for(;i&&!Bx(i);){if(Od(i)&&!GF(i))return i;i=vg(i)}return t}let r=Cq(n,e);for(;r&&exe(r)&&GF(r);)r=Cq(r,e);return r&&Bx(r)&&GF(r)&&!K8(r)?t:r||txe(n)||t}const hxe=async function(n){const e=this.getOffsetParent||cne,t=this.getDimensions,r=await t(n.floating);return{reference:fxe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pxe(n){return Td(n).direction==="rtl"}const mxe={convertOffsetParentRelativeRectToViewportRelativeRect:ixe,getDocumentElement:Uf,getClippingRect:uxe,getOffsetParent:cne,getElementRects:hxe,getClientRects:oxe,getDimensions:dxe,getScale:rx,isElement:Od,isRTL:pxe};function gxe(n,e){let t=null,r;const i=Uf(n);function o(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const{left:h,top:m,width:y,height:w}=n.getBoundingClientRect();if(c||e(),!y||!w)return;const S=VA(m),T=VA(i.clientWidth-(h+y)),O=VA(i.clientHeight-(m+w)),N=VA(h),F={rootMargin:-S+"px "+-T+"px "+-O+"px "+-N+"px",threshold:uc(0,pg(1,u))||1};let I=!0;function R(z){const X=z[0].intersectionRatio;if(X!==u){if(!I)return a();X?a(!1,X):r=setTimeout(()=>{a(!1,1e-7)},1e3)}I=!1}try{t=new IntersectionObserver(R,{...F,root:i.ownerDocument})}catch{t=new IntersectionObserver(R,F)}t.observe(n)}return a(!0),o}function vxe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=Z8(n),m=i||o?[...h?xC(h):[],...xC(e)]:[];m.forEach(D=>{i&&D.addEventListener("scroll",t,{passive:!0}),o&&D.addEventListener("resize",t)});const y=h&&c?gxe(h,t):null;let w=-1,S=null;a&&(S=new ResizeObserver(D=>{let[F]=D;F&&F.target===h&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var I;(I=S)==null||I.observe(e)})),t()}),h&&!u&&S.observe(h),S.observe(e));let T,O=u?Qy(n):null;u&&N();function N(){const D=Qy(n);O&&(D.x!==O.x||D.y!==O.y||D.width!==O.width||D.height!==O.height)&&t(),O=D,T=requestAnimationFrame(N)}return t(),()=>{var D;m.forEach(F=>{i&&F.removeEventListener("scroll",t),o&&F.removeEventListener("resize",t)}),y==null||y(),(D=S)==null||D.disconnect(),S=null,u&&cancelAnimationFrame(T)}}const yxe=K1e,bxe=X1e,xxe=G1e,wxe=J1e,_xe=Y1e,Oq=U1e,Exe=Z1e,Sxe=(n,e,t)=>{const r=new Map,i={platform:mxe,...t},o={...i.platform,_c:r};return q1e(n,e,{...i,platform:o})};var cM=typeof document<"u"?U.useLayoutEffect:U.useEffect;function uD(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!uD(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!uD(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function une(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Tq(n,e){const t=une(n);return Math.round(e*t)/t}function YF(n){const e=U.useRef(n);return cM(()=>{e.current=n}),e}function kxe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:u,open:h}=n,[m,y]=U.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=U.useState(r);uD(w,r)||S(r);const[T,O]=U.useState(null),[N,D]=U.useState(null),F=U.useCallback(xe=>{xe!==X.current&&(X.current=xe,O(xe))},[]),I=U.useCallback(xe=>{xe!==Z.current&&(Z.current=xe,D(xe))},[]),R=o||T,z=a||N,X=U.useRef(null),Z=U.useRef(null),ae=U.useRef(m),ge=u!=null,_e=YF(u),be=YF(i),he=YF(h),fe=U.useCallback(()=>{if(!X.current||!Z.current)return;const xe={placement:e,strategy:t,middleware:w};be.current&&(xe.platform=be.current),Sxe(X.current,Z.current,xe).then($e=>{const Je={...$e,isPositioned:he.current!==!1};pe.current&&!uD(ae.current,Je)&&(ae.current=Je,v0.flushSync(()=>{y(Je)}))})},[w,e,t,be,he]);cM(()=>{h===!1&&ae.current.isPositioned&&(ae.current.isPositioned=!1,y(xe=>({...xe,isPositioned:!1})))},[h]);const pe=U.useRef(!1);cM(()=>(pe.current=!0,()=>{pe.current=!1}),[]),cM(()=>{if(R&&(X.current=R),z&&(Z.current=z),R&&z){if(_e.current)return _e.current(R,z,fe);fe()}},[R,z,fe,_e,ge]);const Ce=U.useMemo(()=>({reference:X,floating:Z,setReference:F,setFloating:I}),[F,I]),Ae=U.useMemo(()=>({reference:R,floating:z}),[R,z]),We=U.useMemo(()=>{const xe={position:t,left:0,top:0};if(!Ae.floating)return xe;const $e=Tq(Ae.floating,m.x),Je=Tq(Ae.floating,m.y);return c?{...xe,transform:"translate("+$e+"px, "+Je+"px)",...une(Ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:$e,top:Je}},[t,c,Ae.floating,m.x,m.y]);return U.useMemo(()=>({...m,update:fe,refs:Ce,elements:Ae,floatingStyles:We}),[m,fe,Ce,Ae,We])}const Cxe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Oq({element:r.current,padding:i}).fn(t):{}:r?Oq({element:r,padding:i}).fn(t):{}}}},Oxe=(n,e)=>({...yxe(n),options:[n,e]}),Txe=(n,e)=>({...bxe(n),options:[n,e]}),Pxe=(n,e)=>({...Exe(n),options:[n,e]}),Axe=(n,e)=>({...xxe(n),options:[n,e]}),Rxe=(n,e)=>({...wxe(n),options:[n,e]}),Mxe=(n,e)=>({..._xe(n),options:[n,e]}),Dxe=(n,e)=>({...Cxe(n),options:[n,e]});var Nxe="Arrow",dne=U.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return L.jsx(Br.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:L.jsx("polygon",{points:"0,0 30,0 15,10"})})});dne.displayName=Nxe;var Ixe=dne;function Fxe(n,e=[]){let t=[];function r(o,a){const c=U.createContext(a),u=t.length;t=[...t,a];function h(y){const{scope:w,children:S,...T}=y,O=(w==null?void 0:w[n][u])||c,N=U.useMemo(()=>T,Object.values(T));return L.jsx(O.Provider,{value:N,children:S})}function m(y,w){const S=(w==null?void 0:w[n][u])||c,T=U.useContext(S);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${y}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,m]}const i=()=>{const o=t.map(a=>U.createContext(a));return function(c){const u=(c==null?void 0:c[n])||o;return U.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,Lxe(i,...e)]}function Lxe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const y=u(o)[`__scope${h}`];return{...c,...y}},{});return U.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function $xe(n){const[e,t]=U.useState(void 0);return ga(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;a=h.inlineSize,c=h.blockSize}else a=n.offsetWidth,c=n.offsetHeight;t({width:a,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var J8="Popper",[fne,WN]=Fxe(J8),[jxe,hne]=fne(J8),pne=n=>{const{__scopePopper:e,children:t}=n,[r,i]=U.useState(null);return L.jsx(jxe,{scope:e,anchor:r,onAnchorChange:i,children:t})};pne.displayName=J8;var mne="PopperAnchor",gne=U.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=hne(mne,t),a=U.useRef(null),c=Ci(e,a);return U.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:L.jsx(Br.div,{...i,ref:c})});gne.displayName=mne;var e9="PopperContent",[Bxe,Vxe]=fne(e9),vne=U.forwardRef((n,e)=>{var Et,on,zn,ze,mt,gt;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:T,...O}=n,N=hne(e9,t),[D,F]=U.useState(null),I=Ci(e,jt=>F(jt)),[R,z]=U.useState(null),X=$xe(R),Z=(X==null?void 0:X.width)??0,ae=(X==null?void 0:X.height)??0,ge=r+(o!=="center"?"-"+o:""),_e=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},be=Array.isArray(h)?h:[h],he=be.length>0,fe={padding:_e,boundary:be.filter(Hxe),altBoundary:he},{refs:pe,floatingStyles:Ce,placement:Ae,isPositioned:We,middlewareData:xe}=kxe({strategy:"fixed",placement:ge,whileElementsMounted:(...jt)=>vxe(...jt,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[Oxe({mainAxis:i+ae,alignmentAxis:a}),u&&Txe({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Pxe():void 0,...fe}),u&&Axe({...fe}),Rxe({...fe,apply:({elements:jt,rects:Ht,availableWidth:qn,availableHeight:kn})=>{const{width:En,height:ve}=Ht.reference,Re=jt.floating.style;Re.setProperty("--radix-popper-available-width",`${qn}px`),Re.setProperty("--radix-popper-available-height",`${kn}px`),Re.setProperty("--radix-popper-anchor-width",`${En}px`),Re.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),R&&Dxe({element:R,padding:c}),Wxe({arrowWidth:Z,arrowHeight:ae}),w&&Mxe({strategy:"referenceHidden",...fe})]}),[$e,Je]=xne(Ae),Ne=_c(T);ga(()=>{We&&(Ne==null||Ne())},[We,Ne]);const Ue=(Et=xe.arrow)==null?void 0:Et.x,le=(on=xe.arrow)==null?void 0:on.y,Ze=((zn=xe.arrow)==null?void 0:zn.centerOffset)!==0,[Qe,Ct]=U.useState();return ga(()=>{D&&Ct(window.getComputedStyle(D).zIndex)},[D]),L.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:We?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qe,"--radix-popper-transform-origin":[(ze=xe.transformOrigin)==null?void 0:ze.x,(mt=xe.transformOrigin)==null?void 0:mt.y].join(" "),...((gt=xe.hide)==null?void 0:gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:L.jsx(Bxe,{scope:t,placedSide:$e,onArrowChange:z,arrowX:Ue,arrowY:le,shouldHideArrow:Ze,children:L.jsx(Br.div,{"data-side":$e,"data-align":Je,...O,ref:I,style:{...O.style,animation:We?void 0:"none"}})})})});vne.displayName=e9;var yne="PopperArrow",zxe={top:"bottom",right:"left",bottom:"top",left:"right"},bne=U.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=Vxe(yne,r),a=zxe[o.placedSide];return L.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:L.jsx(Ixe,{...i,ref:t,style:{...i.style,display:"block"}})})});bne.displayName=yne;function Hxe(n){return n!==null}var Wxe=n=>({name:"transformOrigin",options:n,fn(e){var N,D,F;const{placement:t,rects:r,middlewareData:i}=e,a=((N=i.arrow)==null?void 0:N.centerOffset)!==0,c=a?0:n.arrowWidth,u=a?0:n.arrowHeight,[h,m]=xne(t),y={start:"0%",center:"50%",end:"100%"}[m],w=(((D=i.arrow)==null?void 0:D.x)??0)+c/2,S=(((F=i.arrow)==null?void 0:F.y)??0)+u/2;let T="",O="";return h==="bottom"?(T=a?y:`${w}px`,O=`${-u}px`):h==="top"?(T=a?y:`${w}px`,O=`${r.floating.height+u}px`):h==="right"?(T=`${-u}px`,O=a?y:`${S}px`):h==="left"&&(T=`${r.floating.width+u}px`,O=a?y:`${S}px`),{data:{x:T,y:O}}}});function xne(n){const[e,t="center"]=n.split("-");return[e,t]}var qxe=pne,wne=gne,_ne=vne,Ene=bne,[qN,KGe]=g2("Tooltip",[WN]),t9=WN(),Sne="TooltipProvider",Uxe=700,Pq="tooltip.open",[Gxe,kne]=qN(Sne),Cne=n=>{const{__scopeTooltip:e,delayDuration:t=Uxe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=n,[a,c]=U.useState(!0),u=U.useRef(!1),h=U.useRef(0);return U.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),L.jsx(Gxe,{scope:e,isOpenDelayed:a,delayDuration:t,onOpen:U.useCallback(()=>{window.clearTimeout(h.current),c(!1)},[]),onClose:U.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:U.useCallback(m=>{u.current=m},[]),disableHoverableContent:i,children:o})};Cne.displayName=Sne;var One="Tooltip",[XGe,UN]=qN(One),W$="TooltipTrigger",Yxe=U.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=UN(W$,t),o=kne(W$,t),a=t9(t),c=U.useRef(null),u=Ci(e,c,i.onTriggerChange),h=U.useRef(!1),m=U.useRef(!1),y=U.useCallback(()=>h.current=!1,[]);return U.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),L.jsx(wne,{asChild:!0,...a,children:L.jsx(Br.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:Qn(n.onPointerMove,w=>{w.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Qn(n.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Qn(n.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Qn(n.onFocus,()=>{h.current||i.onOpen()}),onBlur:Qn(n.onBlur,i.onClose),onClick:Qn(n.onClick,i.onClose)})})});Yxe.displayName=W$;var Qxe="TooltipPortal",[ZGe,Kxe]=qN(Qxe,{forceMount:void 0}),Vx="TooltipContent",Tne=U.forwardRef((n,e)=>{const t=Kxe(Vx,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...o}=n,a=UN(Vx,n.__scopeTooltip);return L.jsx(pw,{present:r||a.open,children:a.disableHoverableContent?L.jsx(Pne,{side:i,...o,ref:e}):L.jsx(Xxe,{side:i,...o,ref:e})})}),Xxe=U.forwardRef((n,e)=>{const t=UN(Vx,n.__scopeTooltip),r=kne(Vx,n.__scopeTooltip),i=U.useRef(null),o=Ci(e,i),[a,c]=U.useState(null),{trigger:u,onClose:h}=t,m=i.current,{onPointerInTransitChange:y}=r,w=U.useCallback(()=>{c(null),y(!1)},[y]),S=U.useCallback((T,O)=>{const N=T.currentTarget,D={x:T.clientX,y:T.clientY},F=twe(D,N.getBoundingClientRect()),I=nwe(D,F),R=rwe(O.getBoundingClientRect()),z=owe([...I,...R]);c(z),y(!0)},[y]);return U.useEffect(()=>()=>w(),[w]),U.useEffect(()=>{if(u&&m){const T=N=>S(N,m),O=N=>S(N,u);return u.addEventListener("pointerleave",T),m.addEventListener("pointerleave",O),()=>{u.removeEventListener("pointerleave",T),m.removeEventListener("pointerleave",O)}}},[u,m,S,w]),U.useEffect(()=>{if(a){const T=O=>{const N=O.target,D={x:O.clientX,y:O.clientY},F=(u==null?void 0:u.contains(N))||(m==null?void 0:m.contains(N)),I=!iwe(D,a);F?w():I&&(w(),h())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,m,a,h,w]),L.jsx(Pne,{...n,ref:o})}),[Zxe,Jxe]=qN(One,{isInside:!1}),Pne=U.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...c}=n,u=UN(Vx,t),h=t9(t),{onClose:m}=u;return U.useEffect(()=>(document.addEventListener(Pq,m),()=>document.removeEventListener(Pq,m)),[m]),U.useEffect(()=>{if(u.trigger){const y=w=>{const S=w.target;S!=null&&S.contains(u.trigger)&&m()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[u.trigger,m]),L.jsx(v2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:y=>y.preventDefault(),onDismiss:m,children:L.jsxs(_ne,{"data-state":u.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[L.jsx(F8,{children:r}),L.jsx(Zxe,{scope:t,isInside:!0,children:L.jsx(Y0e,{id:u.contentId,role:"tooltip",children:i||r})})]})})});Tne.displayName=Vx;var Ane="TooltipArrow",ewe=U.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=t9(t);return Jxe(Ane,t).isInside?null:L.jsx(Ene,{...i,...r,ref:e})});ewe.displayName=Ane;function twe(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,r,i,o)){case o:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nwe(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function rwe(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function iwe(n,e){const{x:t,y:r}=n;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const c=e[o].x,u=e[o].y,h=e[a].x,m=e[a].y;u>r!=m>r&&t<(h-c)*(r-u)/(m-u)+c&&(i=!i)}return i}function owe(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),swe(e)}function swe(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var awe=Cne,Rne=Tne;const lwe=awe,cwe=U.forwardRef(({className:n,sideOffset:e=4,...t},r)=>L.jsx(Rne,{ref:r,sideOffset:e,className:dr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));cwe.displayName=Rne.displayName;const Mne=U.createContext(void 0),uwe=({children:n})=>{const[e,t]=U.useState(!0),r=()=>{t(i=>!i)};return L.jsx(Mne.Provider,{value:{sidebarOpen:e,toggleSidebar:r},children:n})},n9=()=>{const n=U.useContext(Mne);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n},$o=U.forwardRef(({className:n,...e},t)=>L.jsx("div",{ref:t,className:dr("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));$o.displayName="Card";const jo=U.forwardRef(({className:n,...e},t)=>L.jsx("div",{ref:t,className:dr("flex flex-col space-y-1.5 p-6",n),...e}));jo.displayName="CardHeader";const Ls=U.forwardRef(({className:n,...e},t)=>L.jsx("h3",{ref:t,className:dr("text-2xl font-semibold leading-none tracking-tight",n),...e}));Ls.displayName="CardTitle";const Ec=U.forwardRef(({className:n,...e},t)=>L.jsx("p",{ref:t,className:dr("text-sm text-muted-foreground",n),...e}));Ec.displayName="CardDescription";const Bo=U.forwardRef(({className:n,...e},t)=>L.jsx("div",{ref:t,className:dr("p-6 pt-0",n),...e}));Bo.displayName="CardContent";const Ng=U.forwardRef(({className:n,...e},t)=>L.jsx("div",{ref:t,className:dr("flex items-center p-6 pt-0",n),...e}));Ng.displayName="CardFooter";const r9=B8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),hr=U.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},o)=>{const a=r?hg:"button";return L.jsx(a,{className:dr(r9({variant:e,size:t,className:n})),ref:o,...i})});hr.displayName="Button";const Ff={getAllProcesses:async()=>new Promise(n=>{setTimeout(()=>{const e=JSON.parse(localStorage.getItem("bpmnProcesses")||"[]");n(e)},300)}),getProcessById:async n=>new Promise(e=>{setTimeout(()=>{const r=JSON.parse(localStorage.getItem("bpmnProcesses")||"[]").find(i=>i.id===n);e(r||null)},300)}),createProcess:async n=>new Promise(e=>{setTimeout(()=>{const t=JSON.parse(localStorage.getItem("bpmnProcesses")||"[]"),r={...n,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t.push(r),localStorage.setItem("bpmnProcesses",JSON.stringify(t)),e(r)},500)}),updateProcess:async(n,e)=>new Promise((t,r)=>{setTimeout(()=>{const i=JSON.parse(localStorage.getItem("bpmnProcesses")||"[]"),o=i.findIndex(c=>c.id===n);if(o===-1){r(new Error("Process not found"));return}const a={...i[o],...e,updatedAt:new Date().toISOString()};i[o]=a,localStorage.setItem("bpmnProcesses",JSON.stringify(i)),t(a)},500)}),deleteProcess:async n=>new Promise((e,t)=>{setTimeout(()=>{const r=JSON.parse(localStorage.getItem("bpmnProcesses")||"[]"),i=r.findIndex(c=>c.id===n);if(i===-1){t(new Error("Process not found"));return}r.splice(i,1),localStorage.setItem("bpmnProcesses",JSON.stringify(r));const a=JSON.parse(localStorage.getItem("processFormIntegration")||"[]").filter(c=>c.processId!==n);localStorage.setItem("processFormIntegration",JSON.stringify(a)),e()},500)})},Lf={getAllForms:async()=>new Promise(n=>{setTimeout(()=>{const e=JSON.parse(localStorage.getItem("dynamicForms")||"[]");n(e)},300)}),getFormById:async n=>new Promise(e=>{setTimeout(()=>{const r=JSON.parse(localStorage.getItem("dynamicForms")||"[]").find(i=>i.id===n);e(r||null)},300)}),createForm:async n=>new Promise(e=>{setTimeout(()=>{const t=JSON.parse(localStorage.getItem("dynamicForms")||"[]"),r={...n,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t.push(r),localStorage.setItem("dynamicForms",JSON.stringify(t)),e(r)},500)}),updateForm:async(n,e)=>new Promise((t,r)=>{setTimeout(()=>{const i=JSON.parse(localStorage.getItem("dynamicForms")||"[]"),o=i.findIndex(c=>c.id===n);if(o===-1){r(new Error("Formulrio no encontrado"));return}const a={...i[o],...e,updatedAt:new Date().toISOString()};i[o]=a,localStorage.setItem("dynamicForms",JSON.stringify(i)),t(a)},500)}),deleteForm:async n=>new Promise((e,t)=>{setTimeout(()=>{const r=JSON.parse(localStorage.getItem("dynamicForms")||"[]"),i=r.findIndex(c=>c.id===n);if(i===-1){t(new Error("Formulrio no encontrado"));return}r.splice(i,1),localStorage.setItem("dynamicForms",JSON.stringify(r));const a=JSON.parse(localStorage.getItem("processFormIntegration")||"[]").filter(c=>c.formId!==n);localStorage.setItem("processFormIntegration",JSON.stringify(a)),e()},500)})},ig={getAllIntegrations:async()=>new Promise(n=>{setTimeout(()=>{const e=JSON.parse(localStorage.getItem("processFormIntegration")||"[]");n(e)},300)}),getIntegrationById:async n=>new Promise(e=>{setTimeout(()=>{const r=JSON.parse(localStorage.getItem("processFormIntegration")||"[]").find(i=>i.id===n);e(r||null)},300)}),getIntegrationByProcessId:async n=>new Promise(e=>{setTimeout(()=>{const r=JSON.parse(localStorage.getItem("processFormIntegration")||"[]").find(i=>i.processId===n);e(r||null)},300)}),createIntegration:async n=>new Promise(e=>{setTimeout(()=>{const t=JSON.parse(localStorage.getItem("processFormIntegration")||"[]"),r={...n,id:crypto.randomUUID(),createdAt:new Date().toISOString()};t.push(r),localStorage.setItem("processFormIntegration",JSON.stringify(t)),e(r)},500)}),updateIntegration:async(n,e)=>new Promise((t,r)=>{setTimeout(()=>{const i=JSON.parse(localStorage.getItem("processFormIntegration")||"[]"),o=i.findIndex(c=>c.id===n);if(o===-1){r(new Error("Integration not found"));return}const a={...i[o],...e};i[o]=a,localStorage.setItem("processFormIntegration",JSON.stringify(i)),t(a)},500)}),deleteIntegration:async n=>new Promise((e,t)=>{setTimeout(()=>{const r=JSON.parse(localStorage.getItem("processFormIntegration")||"[]"),i=r.findIndex(o=>o.id===n);if(i===-1){t(new Error("Integration not found"));return}r.splice(i,1),localStorage.setItem("processFormIntegration",JSON.stringify(r)),e()},500)})},Aq=()=>{const{data:n=[],isLoading:e}=bs({queryKey:["processes"],queryFn:()=>Ff.getAllProcesses()}),{data:t=[],isLoading:r}=bs({queryKey:["forms"],queryFn:()=>Lf.getAllForms()}),{data:i=[],isLoading:o}=bs({queryKey:["integrations"],queryFn:()=>ig.getAllIntegrations()});return L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl font-bold",children:"Painel"}),L.jsx("p",{className:"text-muted-foreground",children:"Bem-vindo ao POC de BPMN e Formulrios Dinmicos"})]})}),L.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[L.jsxs($o,{children:[L.jsxs(jo,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[L.jsx(Ls,{className:"text-2xl font-bold",children:"Processos BPMN"}),L.jsx(q8,{className:"h-5 w-5 text-muted-foreground"})]}),L.jsxs(Bo,{children:[L.jsx("div",{className:"text-3xl font-bold",children:e?L.jsx("div",{className:"h-8 w-16 animate-pulse rounded-md bg-muted"}):n.length}),L.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de processos modelados"}),L.jsx("div",{className:"mt-4",children:L.jsx(hr,{asChild:!0,variant:"outline",className:"w-full",children:L.jsx(Ks,{to:"/processes",children:"Ver Todos os Processos"})})})]})]}),L.jsxs($o,{children:[L.jsxs(jo,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[L.jsx(Ls,{className:"text-2xl font-bold",children:"Formulrios Dinmicos"}),L.jsx(V8,{className:"h-5 w-5 text-muted-foreground"})]}),L.jsxs(Bo,{children:[L.jsx("div",{className:"text-3xl font-bold",children:r?L.jsx("div",{className:"h-8 w-16 animate-pulse rounded-md bg-muted"}):t.length}),L.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de formulrios criados"}),L.jsx("div",{className:"mt-4",children:L.jsx(hr,{asChild:!0,variant:"outline",className:"w-full",children:L.jsx(Ks,{to:"/forms",children:"Ver Todos os Formulrios"})})})]})]}),L.jsxs($o,{children:[L.jsxs(jo,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[L.jsx(Ls,{className:"text-2xl font-bold",children:"Integraes"}),L.jsx(sD,{className:"h-5 w-5 text-muted-foreground"})]}),L.jsxs(Bo,{children:[L.jsx("div",{className:"text-3xl font-bold",children:o?L.jsx("div",{className:"h-8 w-16 animate-pulse rounded-md bg-muted"}):i.length}),L.jsx("p",{className:"text-xs text-muted-foreground",children:"Conexes processo-formulrio"}),L.jsx("div",{className:"mt-4",children:L.jsx(hr,{asChild:!0,variant:"outline",className:"w-full",children:L.jsx(Ks,{to:"/integration",children:"Ver Todas as Integraes"})})})]})]})]}),L.jsx("div",{className:"mt-10",children:L.jsxs($o,{children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:"Comeando"}),L.jsx(Ec,{children:"Bem-vindo ao prova de conceito de BPMN e Formulrios Dinmicos."})]}),L.jsxs(Bo,{className:"space-y-4",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("h3",{className:"font-medium",children:"1. Criar Processo BPMN"}),L.jsx("p",{className:"text-sm text-muted-foreground",children:"Primeiro, crie um processo BPMN usando o editor BPMN.js integrado."}),L.jsx(hr,{asChild:!0,size:"sm",children:L.jsx(Ks,{to:"/processes/new",children:"Criar Processo"})})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("h3",{className:"font-medium",children:"2. Criar Formulrio Dinmico"}),L.jsx("p",{className:"text-sm text-muted-foreground",children:"Desenhe formulrios interativos usando o editor form-js."}),L.jsx(hr,{asChild:!0,size:"sm",children:L.jsx(Ks,{to:"/forms/new",children:"Criar Formulrio"})})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("h3",{className:"font-medium",children:"3. Vincular Processo e Formulrio"}),L.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte seu processo BPMN com o formulrio apropriado."}),L.jsx(hr,{asChild:!0,size:"sm",children:L.jsx(Ks,{to:"/integration",children:"Criar Integrao"})})]})]})]})})]})};var QF="focusScope.autoFocusOnMount",KF="focusScope.autoFocusOnUnmount",Rq={bubbles:!1,cancelable:!0},dwe="FocusScope",i9=U.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=n,[c,u]=U.useState(null),h=_c(i),m=_c(o),y=U.useRef(null),w=Ci(e,O=>u(O)),S=U.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;U.useEffect(()=>{if(r){let O=function(I){if(S.paused||!c)return;const R=I.target;c.contains(R)?y.current=R:xm(y.current,{select:!0})},N=function(I){if(S.paused||!c)return;const R=I.relatedTarget;R!==null&&(c.contains(R)||xm(y.current,{select:!0}))},D=function(I){if(document.activeElement===document.body)for(const z of I)z.removedNodes.length>0&&xm(c)};document.addEventListener("focusin",O),document.addEventListener("focusout",N);const F=new MutationObserver(D);return c&&F.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",O),document.removeEventListener("focusout",N),F.disconnect()}}},[r,c,S.paused]),U.useEffect(()=>{if(c){Dq.add(S);const O=document.activeElement;if(!c.contains(O)){const D=new CustomEvent(QF,Rq);c.addEventListener(QF,h),c.dispatchEvent(D),D.defaultPrevented||(fwe(vwe(Dne(c)),{select:!0}),document.activeElement===O&&xm(c))}return()=>{c.removeEventListener(QF,h),setTimeout(()=>{const D=new CustomEvent(KF,Rq);c.addEventListener(KF,m),c.dispatchEvent(D),D.defaultPrevented||xm(O??document.body,{select:!0}),c.removeEventListener(KF,m),Dq.remove(S)},0)}}},[c,h,m,S]);const T=U.useCallback(O=>{if(!t&&!r||S.paused)return;const N=O.key==="Tab"&&!O.altKey&&!O.ctrlKey&&!O.metaKey,D=document.activeElement;if(N&&D){const F=O.currentTarget,[I,R]=hwe(F);I&&R?!O.shiftKey&&D===R?(O.preventDefault(),t&&xm(I,{select:!0})):O.shiftKey&&D===I&&(O.preventDefault(),t&&xm(R,{select:!0})):D===F&&O.preventDefault()}},[t,r,S.paused]);return L.jsx(Br.div,{tabIndex:-1,...a,ref:w,onKeyDown:T})});i9.displayName=dwe;function fwe(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(xm(r,{select:e}),document.activeElement!==t)return}function hwe(n){const e=Dne(n),t=Mq(e,n),r=Mq(e.reverse(),n);return[t,r]}function Dne(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Mq(n,e){for(const t of n)if(!pwe(t,{upTo:e}))return t}function pwe(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function mwe(n){return n instanceof HTMLInputElement&&"select"in n}function xm(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&mwe(n)&&e&&n.select()}}var Dq=gwe();function gwe(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Nq(n,e),n.unshift(e)},remove(e){var t;n=Nq(n,e),(t=n[0])==null||t.resume()}}}function Nq(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function vwe(n){return n.filter(e=>e.tagName!=="A")}var XF=0;function Nne(){U.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Iq()),document.body.insertAdjacentElement("beforeend",n[1]??Iq()),XF++,()=>{XF===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),XF--}},[])}function Iq(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Cf=function(){return Cf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Cf.apply(this,arguments)};function Ine(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ywe(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var uM="right-scroll-bar-position",dM="width-before-scroll-bar",bwe="with-scroll-bars-hidden",xwe="--removed-body-scroll-bar-size";function ZF(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function wwe(n,e){var t=U.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var _we=typeof window<"u"?U.useLayoutEffect:U.useEffect,Fq=new WeakMap;function Ewe(n,e){var t=wwe(null,function(r){return n.forEach(function(i){return ZF(i,r)})});return _we(function(){var r=Fq.get(t);if(r){var i=new Set(r),o=new Set(n),a=t.current;i.forEach(function(c){o.has(c)||ZF(c,null)}),o.forEach(function(c){i.has(c)||ZF(c,a)})}Fq.set(t,n)},[n]),t}function Swe(n){return n}function kwe(n,e){e===void 0&&(e=Swe);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var a=e(o,r);return t.push(a),function(){t=t.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(r=!0;t.length;){var a=t;t=[],a.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){r=!0;var a=[];if(t.length){var c=t;t=[],c.forEach(o),a=t}var u=function(){var m=a;a=[],m.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),t={push:function(m){a.push(m),h()},filter:function(m){return a=a.filter(m),t}}}};return i}function Cwe(n){n===void 0&&(n={});var e=kwe(null);return e.options=Cf({async:!0,ssr:!1},n),e}var Fne=function(n){var e=n.sideCar,t=Ine(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return U.createElement(r,Cf({},t))};Fne.isSideCarExport=!0;function Owe(n,e){return n.useMedium(e),Fne}var Lne=Cwe(),JF=function(){},GN=U.forwardRef(function(n,e){var t=U.useRef(null),r=U.useState({onScrollCapture:JF,onWheelCapture:JF,onTouchMoveCapture:JF}),i=r[0],o=r[1],a=n.forwardProps,c=n.children,u=n.className,h=n.removeScrollBar,m=n.enabled,y=n.shards,w=n.sideCar,S=n.noIsolation,T=n.inert,O=n.allowPinchZoom,N=n.as,D=N===void 0?"div":N,F=n.gapMode,I=Ine(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=w,z=Ewe([t,e]),X=Cf(Cf({},I),i);return U.createElement(U.Fragment,null,m&&U.createElement(R,{sideCar:Lne,removeScrollBar:h,shards:y,noIsolation:S,inert:T,setCallbacks:o,allowPinchZoom:!!O,lockRef:t,gapMode:F}),a?U.cloneElement(U.Children.only(c),Cf(Cf({},X),{ref:z})):U.createElement(D,Cf({},X,{className:u,ref:z}),c))});GN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};GN.classNames={fullWidth:dM,zeroRight:uM};var Twe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Pwe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Twe();return e&&n.setAttribute("nonce",e),n}function Awe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Rwe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Mwe=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Pwe())&&(Awe(e,t),Rwe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Dwe=function(){var n=Mwe();return function(e,t){U.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},$ne=function(){var n=Dwe(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Nwe={left:0,top:0,right:0,gap:0},eL=function(n){return parseInt(n||"",10)||0},Iwe=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[eL(t),eL(r),eL(i)]},Fwe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Nwe;var e=Iwe(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Lwe=$ne(),ix="data-scroll-locked",$we=function(n,e,t,r){var i=n.left,o=n.top,a=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(bwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ix,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uM,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(dM,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(uM," .").concat(uM,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dM," .").concat(dM,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ix,`] {
    `).concat(xwe,": ").concat(c,`px;
  }
`)},Lq=function(){var n=parseInt(document.body.getAttribute(ix)||"0",10);return isFinite(n)?n:0},jwe=function(){U.useEffect(function(){return document.body.setAttribute(ix,(Lq()+1).toString()),function(){var n=Lq()-1;n<=0?document.body.removeAttribute(ix):document.body.setAttribute(ix,n.toString())}},[])},Bwe=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;jwe();var o=U.useMemo(function(){return Fwe(i)},[i]);return U.createElement(Lwe,{styles:$we(o,!e,i,t?"":"!important")})},q$=!1;if(typeof window<"u")try{var zA=Object.defineProperty({},"passive",{get:function(){return q$=!0,!0}});window.addEventListener("test",zA,zA),window.removeEventListener("test",zA,zA)}catch{q$=!1}var f1=q$?{passive:!1}:!1,Vwe=function(n){return n.tagName==="TEXTAREA"},jne=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Vwe(n)&&t[e]==="visible")},zwe=function(n){return jne(n,"overflowY")},Hwe=function(n){return jne(n,"overflowX")},$q=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Bne(n,r);if(i){var o=Vne(n,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Wwe=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},qwe=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Bne=function(n,e){return n==="v"?zwe(e):Hwe(e)},Vne=function(n,e){return n==="v"?Wwe(e):qwe(e)},Uwe=function(n,e){return n==="h"&&e==="rtl"?-1:1},Gwe=function(n,e,t,r,i){var o=Uwe(n,window.getComputedStyle(e).direction),a=o*r,c=t.target,u=e.contains(c),h=!1,m=a>0,y=0,w=0;do{var S=Vne(n,c),T=S[0],O=S[1],N=S[2],D=O-N-o*T;(T||D)&&Bne(n,c)&&(y+=D,w+=T),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(m&&(Math.abs(y)<1||!i)||!m&&(Math.abs(w)<1||!i))&&(h=!0),h},HA=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},jq=function(n){return[n.deltaX,n.deltaY]},Bq=function(n){return n&&"current"in n?n.current:n},Ywe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Qwe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Kwe=0,h1=[];function Xwe(n){var e=U.useRef([]),t=U.useRef([0,0]),r=U.useRef(),i=U.useState(Kwe++)[0],o=U.useState($ne)[0],a=U.useRef(n);U.useEffect(function(){a.current=n},[n]),U.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var O=ywe([n.lockRef.current],(n.shards||[]).map(Bq),!0).filter(Boolean);return O.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),O.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=U.useCallback(function(O,N){if("touches"in O&&O.touches.length===2||O.type==="wheel"&&O.ctrlKey)return!a.current.allowPinchZoom;var D=HA(O),F=t.current,I="deltaX"in O?O.deltaX:F[0]-D[0],R="deltaY"in O?O.deltaY:F[1]-D[1],z,X=O.target,Z=Math.abs(I)>Math.abs(R)?"h":"v";if("touches"in O&&Z==="h"&&X.type==="range")return!1;var ae=$q(Z,X);if(!ae)return!0;if(ae?z=Z:(z=Z==="v"?"h":"v",ae=$q(Z,X)),!ae)return!1;if(!r.current&&"changedTouches"in O&&(I||R)&&(r.current=z),!z)return!0;var ge=r.current||z;return Gwe(ge,N,O,ge==="h"?I:R,!0)},[]),u=U.useCallback(function(O){var N=O;if(!(!h1.length||h1[h1.length-1]!==o)){var D="deltaY"in N?jq(N):HA(N),F=e.current.filter(function(z){return z.name===N.type&&(z.target===N.target||N.target===z.shadowParent)&&Ywe(z.delta,D)})[0];if(F&&F.should){N.cancelable&&N.preventDefault();return}if(!F){var I=(a.current.shards||[]).map(Bq).filter(Boolean).filter(function(z){return z.contains(N.target)}),R=I.length>0?c(N,I[0]):!a.current.noIsolation;R&&N.cancelable&&N.preventDefault()}}},[]),h=U.useCallback(function(O,N,D,F){var I={name:O,delta:N,target:D,should:F,shadowParent:Zwe(D)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(R){return R!==I})},1)},[]),m=U.useCallback(function(O){t.current=HA(O),r.current=void 0},[]),y=U.useCallback(function(O){h(O.type,jq(O),O.target,c(O,n.lockRef.current))},[]),w=U.useCallback(function(O){h(O.type,HA(O),O.target,c(O,n.lockRef.current))},[]);U.useEffect(function(){return h1.push(o),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",u,f1),document.addEventListener("touchmove",u,f1),document.addEventListener("touchstart",m,f1),function(){h1=h1.filter(function(O){return O!==o}),document.removeEventListener("wheel",u,f1),document.removeEventListener("touchmove",u,f1),document.removeEventListener("touchstart",m,f1)}},[]);var S=n.removeScrollBar,T=n.inert;return U.createElement(U.Fragment,null,T?U.createElement(o,{styles:Qwe(i)}):null,S?U.createElement(Bwe,{gapMode:n.gapMode}):null)}function Zwe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Jwe=Owe(Lne,Xwe);var o9=U.forwardRef(function(n,e){return U.createElement(GN,Cf({},n,{ref:e,sideCar:Jwe}))});o9.classNames=GN.classNames;var e_e=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},p1=new WeakMap,WA=new WeakMap,qA={},tL=0,zne=function(n){return n&&(n.host||zne(n.parentNode))},t_e=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=zne(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},n_e=function(n,e,t,r){var i=t_e(e,Array.isArray(n)?n:[n]);qA[t]||(qA[t]=new WeakMap);var o=qA[t],a=[],c=new Set,u=new Set(i),h=function(y){!y||c.has(y)||(c.add(y),h(y.parentNode))};i.forEach(h);var m=function(y){!y||u.has(y)||Array.prototype.forEach.call(y.children,function(w){if(c.has(w))m(w);else try{var S=w.getAttribute(r),T=S!==null&&S!=="false",O=(p1.get(w)||0)+1,N=(o.get(w)||0)+1;p1.set(w,O),o.set(w,N),a.push(w),O===1&&T&&WA.set(w,!0),N===1&&w.setAttribute(t,"true"),T||w.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",w,D)}})};return m(e),c.clear(),tL++,function(){a.forEach(function(y){var w=p1.get(y)-1,S=o.get(y)-1;p1.set(y,w),o.set(y,S),w||(WA.has(y)||y.removeAttribute(r),WA.delete(y)),S||y.removeAttribute(t)}),tL--,tL||(p1=new WeakMap,p1=new WeakMap,WA=new WeakMap,qA={})}},Hne=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=e_e(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),n_e(r,i,t,"aria-hidden")):function(){return null}},s9="Dialog",[Wne,qne]=g2(s9),[r_e,Fd]=Wne(s9),Une=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=n,c=U.useRef(null),u=U.useRef(null),[h=!1,m]=oD({prop:r,defaultProp:i,onChange:o});return L.jsx(r_e,{scope:e,triggerRef:c,contentRef:u,contentId:nx(),titleId:nx(),descriptionId:nx(),open:h,onOpenChange:m,onOpenToggle:U.useCallback(()=>m(y=>!y),[m]),modal:a,children:t})};Une.displayName=s9;var Gne="DialogTrigger",Yne=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Fd(Gne,t),o=Ci(e,i.triggerRef);return L.jsx(Br.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":c9(i.open),...r,ref:o,onClick:Qn(n.onClick,i.onOpenToggle)})});Yne.displayName=Gne;var a9="DialogPortal",[i_e,Qne]=Wne(a9,{forceMount:void 0}),Kne=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=Fd(a9,e);return L.jsx(i_e,{scope:e,forceMount:t,children:U.Children.map(r,a=>L.jsx(pw,{present:t||o.open,children:L.jsx($N,{asChild:!0,container:i,children:a})}))})};Kne.displayName=a9;var dD="DialogOverlay",Xne=U.forwardRef((n,e)=>{const t=Qne(dD,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=Fd(dD,n.__scopeDialog);return o.modal?L.jsx(pw,{present:r||o.open,children:L.jsx(o_e,{...i,ref:e})}):null});Xne.displayName=dD;var o_e=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Fd(dD,t);return L.jsx(o9,{as:hg,allowPinchZoom:!0,shards:[i.contentRef],children:L.jsx(Br.div,{"data-state":c9(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ky="DialogContent",Zne=U.forwardRef((n,e)=>{const t=Qne(Ky,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=Fd(Ky,n.__scopeDialog);return L.jsx(pw,{present:r||o.open,children:o.modal?L.jsx(s_e,{...i,ref:e}):L.jsx(a_e,{...i,ref:e})})});Zne.displayName=Ky;var s_e=U.forwardRef((n,e)=>{const t=Fd(Ky,n.__scopeDialog),r=U.useRef(null),i=Ci(e,t.contentRef,r);return U.useEffect(()=>{const o=r.current;if(o)return Hne(o)},[]),L.jsx(Jne,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qn(n.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Qn(n.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&o.preventDefault()}),onFocusOutside:Qn(n.onFocusOutside,o=>o.preventDefault())})}),a_e=U.forwardRef((n,e)=>{const t=Fd(Ky,n.__scopeDialog),r=U.useRef(!1),i=U.useRef(!1);return L.jsx(Jne,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,c;(a=n.onCloseAutoFocus)==null||a.call(n,o),o.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,h;(u=n.onInteractOutside)==null||u.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((h=t.triggerRef.current)==null?void 0:h.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Jne=U.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=n,c=Fd(Ky,t),u=U.useRef(null),h=Ci(e,u);return Nne(),L.jsxs(L.Fragment,{children:[L.jsx(i9,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:L.jsx(v2,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":c9(c.open),...a,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),L.jsxs(L.Fragment,{children:[L.jsx(c_e,{titleId:c.titleId}),L.jsx(d_e,{contentRef:u,descriptionId:c.descriptionId})]})]})}),l9="DialogTitle",ere=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Fd(l9,t);return L.jsx(Br.h2,{id:i.titleId,...r,ref:e})});ere.displayName=l9;var tre="DialogDescription",nre=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Fd(tre,t);return L.jsx(Br.p,{id:i.descriptionId,...r,ref:e})});nre.displayName=tre;var rre="DialogClose",ire=U.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Fd(rre,t);return L.jsx(Br.button,{type:"button",...r,ref:e,onClick:Qn(n.onClick,()=>i.onOpenChange(!1))})});ire.displayName=rre;function c9(n){return n?"open":"closed"}var ore="DialogTitleWarning",[l_e,sre]=A0e(ore,{contentName:Ky,titleName:l9,docsSlug:"dialog"}),c_e=({titleId:n})=>{const e=sre(ore),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return U.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},u_e="DialogDescriptionWarning",d_e=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sre(u_e).contentName}}.`;return U.useEffect(()=>{var o;const i=(o=n.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},f_e=Une,h_e=Yne,p_e=Kne,m_e=Xne,g_e=Zne,v_e=ere,y_e=nre,are=ire,lre="AlertDialog",[b_e,JGe]=g2(lre,[qne]),dp=qne(),cre=n=>{const{__scopeAlertDialog:e,...t}=n,r=dp(e);return L.jsx(f_e,{...r,...t,modal:!0})};cre.displayName=lre;var x_e="AlertDialogTrigger",ure=U.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=dp(t);return L.jsx(h_e,{...i,...r,ref:e})});ure.displayName=x_e;var w_e="AlertDialogPortal",dre=n=>{const{__scopeAlertDialog:e,...t}=n,r=dp(e);return L.jsx(p_e,{...r,...t})};dre.displayName=w_e;var __e="AlertDialogOverlay",fre=U.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=dp(t);return L.jsx(m_e,{...i,...r,ref:e})});fre.displayName=__e;var ox="AlertDialogContent",[E_e,S_e]=b_e(ox),hre=U.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,o=dp(t),a=U.useRef(null),c=Ci(e,a),u=U.useRef(null);return L.jsx(l_e,{contentName:ox,titleName:pre,docsSlug:"alert-dialog",children:L.jsx(E_e,{scope:t,cancelRef:u,children:L.jsxs(g_e,{role:"alertdialog",...o,...i,ref:c,onOpenAutoFocus:Qn(i.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=u.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[L.jsx(F8,{children:r}),L.jsx(C_e,{contentRef:a})]})})})});hre.displayName=ox;var pre="AlertDialogTitle",mre=U.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=dp(t);return L.jsx(v_e,{...i,...r,ref:e})});mre.displayName=pre;var gre="AlertDialogDescription",vre=U.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=dp(t);return L.jsx(y_e,{...i,...r,ref:e})});vre.displayName=gre;var k_e="AlertDialogAction",yre=U.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=dp(t);return L.jsx(are,{...i,...r,ref:e})});yre.displayName=k_e;var bre="AlertDialogCancel",xre=U.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=S_e(bre,t),o=dp(t),a=Ci(e,i);return L.jsx(are,{...o,...r,ref:a})});xre.displayName=bre;var C_e=({contentRef:n})=>{const e=`\`${ox}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ox}\` by passing a \`${gre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ox}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return U.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},O_e=cre,T_e=ure,P_e=dre,wre=fre,_re=hre,Ere=yre,Sre=xre,kre=mre,Cre=vre;const u9=O_e,d9=T_e,A_e=P_e,Ore=U.forwardRef(({className:n,...e},t)=>L.jsx(wre,{className:dr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));Ore.displayName=wre.displayName;const YN=U.forwardRef(({className:n,...e},t)=>L.jsxs(A_e,{children:[L.jsx(Ore,{}),L.jsx(_re,{ref:t,className:dr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));YN.displayName=_re.displayName;const QN=({className:n,...e})=>L.jsx("div",{className:dr("flex flex-col space-y-2 text-center sm:text-left",n),...e});QN.displayName="AlertDialogHeader";const KN=({className:n,...e})=>L.jsx("div",{className:dr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});KN.displayName="AlertDialogFooter";const XN=U.forwardRef(({className:n,...e},t)=>L.jsx(kre,{ref:t,className:dr("text-lg font-semibold",n),...e}));XN.displayName=kre.displayName;const ZN=U.forwardRef(({className:n,...e},t)=>L.jsx(Cre,{ref:t,className:dr("text-sm text-muted-foreground",n),...e}));ZN.displayName=Cre.displayName;const JN=U.forwardRef(({className:n,...e},t)=>L.jsx(Ere,{ref:t,className:dr(r9(),n),...e}));JN.displayName=Ere.displayName;const eI=U.forwardRef(({className:n,...e},t)=>L.jsx(Sre,{ref:t,className:dr(r9({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));eI.displayName=Sre.displayName;function Ld(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Xy(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const Tre=6048e5,R_e=864e5;let M_e={};function tI(){return M_e}function wC(n,e){var c,u,h,m;const t=tI(),r=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((m=(h=t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=Ld(n),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function fD(n){return wC(n,{weekStartsOn:1})}function Pre(n){const e=Ld(n),t=e.getFullYear(),r=Xy(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=fD(r),o=Xy(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const a=fD(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function Vq(n){const e=Ld(n);return e.setHours(0,0,0,0),e}function zq(n){const e=Ld(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function D_e(n,e){const t=Vq(n),r=Vq(e),i=+t-zq(t),o=+r-zq(r);return Math.round((i-o)/R_e)}function N_e(n){const e=Pre(n),t=Xy(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),fD(t)}function I_e(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function F_e(n){if(!I_e(n)&&typeof n!="number")return!1;const e=Ld(n);return!isNaN(Number(e))}function L_e(n){const e=Ld(n),t=Xy(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const $_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j_e=(n,e,t)=>{let r;const i=$_e[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function nL(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const B_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H_e={date:nL({formats:B_e,defaultWidth:"full"}),time:nL({formats:V_e,defaultWidth:"full"}),dateTime:nL({formats:z_e,defaultWidth:"full"})},W_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q_e=(n,e,t,r)=>W_e[n];function NS(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):a;i=n.formattingValues[c]||n.formattingValues[a]}else{const a=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[c]||n.values[a]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const U_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Z_e=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},J_e={ordinalNumber:Z_e,era:NS({values:U_e,defaultWidth:"wide"}),quarter:NS({values:G_e,defaultWidth:"wide",argumentCallback:n=>n-1}),month:NS({values:Y_e,defaultWidth:"wide"}),day:NS({values:Q_e,defaultWidth:"wide"}),dayPeriod:NS({values:K_e,defaultWidth:"wide",formattingValues:X_e,defaultFormattingWidth:"wide"})};function IS(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(c)?tEe(c,y=>y.test(a)):eEe(c,y=>y.test(a));let h;h=n.valueCallback?n.valueCallback(u):u,h=t.valueCallback?t.valueCallback(h):h;const m=e.slice(a.length);return{value:h,rest:m}}}function eEe(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function tEe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function nEe(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let a=n.valueCallback?n.valueCallback(o[0]):o[0];a=t.valueCallback?t.valueCallback(a):a;const c=e.slice(i.length);return{value:a,rest:c}}}const rEe=/^(\d+)(th|st|nd|rd)?/i,iEe=/\d+/i,oEe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sEe={any:[/^b/i,/^(a|c)/i]},aEe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lEe={any:[/1/i,/2/i,/3/i,/4/i]},cEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mEe={ordinalNumber:nEe({matchPattern:rEe,parsePattern:iEe,valueCallback:n=>parseInt(n,10)}),era:IS({matchPatterns:oEe,defaultMatchWidth:"wide",parsePatterns:sEe,defaultParseWidth:"any"}),quarter:IS({matchPatterns:aEe,defaultMatchWidth:"wide",parsePatterns:lEe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:IS({matchPatterns:cEe,defaultMatchWidth:"wide",parsePatterns:uEe,defaultParseWidth:"any"}),day:IS({matchPatterns:dEe,defaultMatchWidth:"wide",parsePatterns:fEe,defaultParseWidth:"any"}),dayPeriod:IS({matchPatterns:hEe,defaultMatchWidth:"any",parsePatterns:pEe,defaultParseWidth:"any"})},gEe={code:"en-US",formatDistance:j_e,formatLong:H_e,formatRelative:q_e,localize:J_e,match:mEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vEe(n){const e=Ld(n);return D_e(e,L_e(e))+1}function yEe(n){const e=Ld(n),t=+fD(e)-+N_e(e);return Math.round(t/Tre)+1}function Are(n,e){var m,y,w,S;const t=Ld(n),r=t.getFullYear(),i=tI(),o=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(w=i.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,a=Xy(n,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const c=wC(a,e),u=Xy(n,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const h=wC(u,e);return t.getTime()>=c.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function bEe(n,e){var c,u,h,m;const t=tI(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(h=t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=Are(n,e),o=Xy(n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),wC(o,e)}function xEe(n,e){const t=Ld(n),r=+wC(t,e)-+bEe(t,e);return Math.round(r/Tre)+1}function ui(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const mm={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return ui(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):ui(t+1,2)},d(n,e){return ui(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return ui(n.getHours()%12||12,e.length)},H(n,e){return ui(n.getHours(),e.length)},m(n,e){return ui(n.getMinutes(),e.length)},s(n,e){return ui(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return ui(i,e.length)}},m1={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hq={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return mm.y(n,e)},Y:function(n,e,t,r){const i=Are(n,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return ui(a,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):ui(o,e.length)},R:function(n,e){const t=Pre(n);return ui(t,e.length)},u:function(n,e){const t=n.getFullYear();return ui(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ui(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ui(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return mm.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return ui(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=xEe(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):ui(i,e.length)},I:function(n,e,t){const r=yEe(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):ui(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):mm.d(n,e)},D:function(n,e,t){const r=vEe(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):ui(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ui(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ui(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ui(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=m1.noon:r===0?i=m1.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=m1.evening:r>=12?i=m1.afternoon:r>=4?i=m1.morning:i=m1.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return mm.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):mm.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):ui(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):ui(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):mm.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):mm.s(n,e)},S:function(n,e){return mm.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return qq(r);case"XXXX":case"XX":return hy(r);case"XXXXX":case"XXX":default:return hy(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return qq(r);case"xxxx":case"xx":return hy(r);case"xxxxx":case"xxx":default:return hy(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Wq(r,":");case"OOOO":default:return"GMT"+hy(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Wq(r,":");case"zzzz":default:return"GMT"+hy(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return ui(r,e.length)},T:function(n,e,t){const r=n.getTime();return ui(r,e.length)}};function Wq(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+ui(o,2)}function qq(n,e){return n%60===0?(n>0?"-":"+")+ui(Math.abs(n)/60,2):hy(n,e)}function hy(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=ui(Math.trunc(r/60),2),o=ui(r%60,2);return t+i+e+o}const Uq=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Rre=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wEe=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return Uq(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Uq(r,e)).replace("{{time}}",Rre(i,e))},_Ee={p:Rre,P:wEe},EEe=/^D+$/,SEe=/^Y+$/,kEe=["D","DD","YY","YYYY"];function CEe(n){return EEe.test(n)}function OEe(n){return SEe.test(n)}function TEe(n,e,t){const r=PEe(n,e,t);if(console.warn(r),kEe.includes(n))throw new RangeError(r)}function PEe(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AEe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,REe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MEe=/^'([^]*?)'?$/,DEe=/''/g,NEe=/[a-zA-Z]/;function ip(n,e,t){var m,y,w,S;const r=tI(),i=r.locale??gEe,o=r.firstWeekContainsDate??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,a=r.weekStartsOn??((S=(w=r.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??0,c=Ld(n);if(!F_e(c))throw new RangeError("Invalid time value");let u=e.match(REe).map(T=>{const O=T[0];if(O==="p"||O==="P"){const N=_Ee[O];return N(T,i.formatLong)}return T}).join("").match(AEe).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const O=T[0];if(O==="'")return{isToken:!1,value:IEe(T)};if(Hq[O])return{isToken:!0,value:T};if(O.match(NEe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const h={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return u.map(T=>{if(!T.isToken)return T.value;const O=T.value;(OEe(O)||CEe(O))&&TEe(O,e,String(n));const N=Hq[O[0]];return N(c,O,i.localize,h)}).join("")}function IEe(n){const e=n.match(MEe);return e?e[1].replace(DEe,"'"):n}const FEe=()=>L.jsx("div",{className:"flex h-[calc(100vh-160px)] items-center justify-center",children:L.jsxs("div",{className:"mx-auto flex max-w-md flex-col items-center justify-center text-center",children:[L.jsx("div",{className:"mb-4 rounded-full bg-primary/10 p-3",children:L.jsx(q8,{className:"h-10 w-10 text-primary"})}),L.jsx("h2",{className:"text-2xl font-bold",children:"Nenhum processo BPMN encontrado"}),L.jsx("p",{className:"mt-2 text-muted-foreground",children:"Crie seu primeiro processo BPMN para comear a modelar seus fluxos de trabalho."}),L.jsx(hr,{asChild:!0,className:"mt-6",children:L.jsxs(Ks,{to:"/processes/new",children:[L.jsx(mw,{className:"mr-2 h-4 w-4"}),"Criar Processo"]})})]})}),LEe=()=>L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl font-bold",children:"BPMN Processes"}),L.jsx("p",{className:"text-muted-foreground",children:"Manage your business process models"})]})}),L.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((n,e)=>L.jsxs($o,{children:[L.jsxs(jo,{children:[L.jsx("div",{className:"h-6 w-2/3 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"})]}),L.jsx(Bo,{children:L.jsxs("div",{className:"space-y-2",children:[L.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-md bg-muted"})]})}),L.jsxs(Ng,{className:"flex justify-between",children:[L.jsxs("div",{className:"flex gap-2",children:[L.jsx("div",{className:"h-9 w-16 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"h-9 w-16 animate-pulse rounded-md bg-muted"})]}),L.jsx("div",{className:"h-9 w-20 animate-pulse rounded-md bg-muted"})]})]},e))})]}),$Ee=()=>{const n=Rg(),{data:e=[],isLoading:t}=bs({queryKey:["processes"],queryFn:()=>Ff.getAllProcesses()}),r=tp({mutationFn:o=>Ff.deleteProcess(o),onSuccess:()=>{n.invalidateQueries({queryKey:["processes"]}),Lo.success("Processo excludo com sucesso")},onError:o=>{Lo.error("Falha ao excluir o processo"),console.error(o)}}),i=o=>{r.mutate(o)};return t?L.jsx(LEe,{}):e.length===0?L.jsx(FEe,{}):L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl font-bold",children:"Processos BPMN"}),L.jsx("p",{className:"text-muted-foreground",children:"Gerencie seus modelos de processos de negcio"})]}),L.jsx(hr,{asChild:!0,className:"mt-4 sm:mt-0",children:L.jsxs(Ks,{to:"/processes/new",children:[L.jsx(mw,{className:"mr-2 h-4 w-4"}),"Novo Processo"]})})]}),L.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(o=>L.jsxs($o,{children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:o.name}),L.jsx(Ec,{children:o.description})]}),L.jsx(Bo,{children:L.jsxs("div",{className:"text-sm text-muted-foreground",children:[L.jsxs("p",{children:["Criado: ",ip(new Date(o.createdAt),"PPP")]}),L.jsxs("p",{children:["ltima atualizao: ",ip(new Date(o.updatedAt),"PPP")]})]})}),L.jsxs(Ng,{className:"flex justify-between",children:[L.jsxs("div",{className:"flex gap-2",children:[L.jsx(hr,{asChild:!0,variant:"outline",size:"sm",children:L.jsxs(Ks,{to:`/processes/${o.id}`,children:[L.jsx(Ute,{className:"mr-2 h-4 w-4"}),"Visualizar"]})}),L.jsx(hr,{asChild:!0,variant:"outline",size:"sm",children:L.jsxs(Ks,{to:`/processes/${o.id}/edit`,children:[L.jsx(x2,{className:"mr-2 h-4 w-4"}),"Editar"]})})]}),L.jsxs(u9,{children:[L.jsx(d9,{asChild:!0,children:L.jsxs(hr,{variant:"destructive",size:"sm",children:[L.jsx(W8,{className:"mr-2 h-4 w-4"}),"Excluir"]})}),L.jsxs(YN,{children:[L.jsxs(QN,{children:[L.jsx(XN,{children:"Confirmar excluso"}),L.jsx(ZN,{children:"Tem certeza que deseja excluir este processo? Esta ao no pode ser desfeita."})]}),L.jsxs(KN,{children:[L.jsx(eI,{children:"Cancelar"}),L.jsx(JN,{onClick:()=>i(o.id),children:"Excluir"})]})]})]})]})]},o.id))})]})};var Mre={exports:{}};/*! bpmn-js - bpmn-modeler v16.3.2 | Copyright (c) 2014-present, camunda Services GmbH | bpmn.io/license */(function(n,e){(function(t,r){n.exports=r()})(Sf,function(){function t(s,l){l&&(s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}var r=function(s,l){return s(l={exports:{}},l.exports),l.exports}(function(s){var l=s.exports=function(d,f){if(f||(f=16),d===void 0&&(d=128),d<=0)return"0";for(var p=Math.log(Math.pow(2,d))/Math.log(f),g=2;p===1/0;g*=2)p=Math.log(Math.pow(2,d/g))/Math.log(f)*g;var b=p-Math.floor(p),x="";for(g=0;g<Math.floor(p);g++)x=Math.floor(Math.random()*f).toString(f)+x;if(b){var E=Math.pow(f,b);x=Math.floor(Math.random()*E).toString(f)+x}var k=parseInt(x,f);return k!==1/0&&k>=Math.pow(2,d)?l(d,f):x};l.rack=function(d,f,p){var g=function(x){var E=0;do{if(E++>10){if(!p)throw new Error("too many ID collisions, use more bits");d+=p}var k=l(d,f)}while(Object.hasOwnProperty.call(b,k));return b[k]=x,k},b=g.hats={};return g.get=function(x){return g.hats[x]},g.set=function(x,E){return g.hats[x]=E,g},g.bits=d||128,g.base=f||16,g}});function i(s){if(!(this instanceof i))return new i(s);s=s||[128,36,1],this._seed=s.length?r.rack(s[0],s[1],s[2]):s}function o(s){return Array.prototype.concat.apply([],s)}i.prototype.next=function(s){return this._seed(s||!0)},i.prototype.nextPrefixed=function(s,l){var d;do d=s+this.next(!0);while(this.assigned(d));return this.claim(d,l),d},i.prototype.claim=function(s,l){this._seed.set(s,l||!0)},i.prototype.assigned=function(s){return this._seed.get(s)||!1},i.prototype.unclaim=function(s){delete this._seed.hats[s]},i.prototype.clear=function(){var s,l=this._seed.hats;for(s in l)this.unclaim(s)};const a=Object.prototype.toString,c=Object.prototype.hasOwnProperty;function u(s){return s===void 0}function h(s){return s!==void 0}function m(s){return s==null}function y(s){return a.call(s)==="[object Array]"}function w(s){return a.call(s)==="[object Object]"}function S(s){return a.call(s)==="[object Number]"}function T(s){const l=a.call(s);return l==="[object Function]"||l==="[object AsyncFunction]"||l==="[object GeneratorFunction]"||l==="[object AsyncGeneratorFunction]"||l==="[object Proxy]"}function O(s){return a.call(s)==="[object String]"}function N(s,l){return c.call(s,l)}function D(s,l){const d=xe(l);let f;return R(s,function(p,g){if(d(p,g))return f=p,!1}),f}function F(s,l){const d=xe(l);let f=y(s)?-1:void 0;return R(s,function(p,g){if(d(p,g))return f=g,!1}),f}function I(s,l){const d=xe(l);let f=[];return R(s,function(p,g){d(p,g)&&f.push(p)}),f}function R(s,l){let d,f;if(u(s))return;const p=y(s)?Je:$e;for(let g in s)if(N(s,g)&&(d=s[g],f=l(d,p(g)),f===!1))return d}function z(s,l){if(u(s))return[];(function(f){if(!y(f))throw new Error("must supply array")})(s);const d=xe(l);return s.filter(function(f,p){return!d(f,p)})}function X(s,l,d){return R(s,function(f,p){d=l(d,f,p)}),d}function Z(s,l){return!!X(s,function(d,f,p){return d&&l(f,p)},!0)}function ae(s,l){return!!D(s,l)}function ge(s,l){let d=[];return R(s,function(f,p){d.push(l(f,p))}),d}function _e(s){return s&&Object.keys(s)||[]}function be(s){return ge(s,l=>l)}function he(s,l,d={}){return l=We(l),R(s,function(f){let p=l(f)||"_",g=d[p];g||(g=d[p]=[]),g.push(f)}),d}function fe(s,...l){s=We(s);let d={};return R(l,f=>he(f,s,d)),ge(d,function(f,p){return f[0]})}const pe=fe;function Ce(s,l){l=We(l);let d=[];return R(s,function(f,p){let g=l(f,p),b={d:g,v:f};for(var x=0;x<d.length;x++){let{d:E}=d[x];if(g<E)return void d.splice(x,0,b)}d.push(b)}),ge(d,f=>f.v)}function Ae(s){return function(l){return Z(s,function(d,f){return l[f]===d})}}function We(s){return T(s)?s:l=>l[s]}function xe(s){return T(s)?s:l=>l===s}function $e(s){return s}function Je(s){return Number(s)}function Ne(s,l){let d,f,p,g;function b(P){let C=Date.now(),M=P?0:g+l-C;if(M>0)return x(M);s.apply(p,f),E()}function x(P){d=setTimeout(b,P)}function E(){d&&clearTimeout(d),d=g=f=p=void 0}function k(...P){g=Date.now(),f=P,p=this,d||x(l)}return k.flush=function(){d&&b(!0),E()},k.cancel=E,k}function Ue(s,l){return s.bind(l)}function le(s,...l){return Object.assign(s,...l)}function Ze(s,l){let d={},f=Object(s);return R(l,function(p){p in f&&(d[p]=s[p])}),d}function Qe(s,l){let d={};return R(Object(s),function(f,p){l.indexOf(p)===-1&&(d[p]=f)}),d}function Ct(s,l){return l.forEach(function(d){d&&typeof d!="string"&&!Array.isArray(d)&&Object.keys(d).forEach(function(f){if(f!=="default"&&!(f in s)){var p=Object.getOwnPropertyDescriptor(d,f);Object.defineProperty(s,f,p.get?p:{enumerable:!0,get:function(){return d[f]}})}})}),Object.freeze(s)}const Et=Object.prototype.toString,on=Object.prototype.hasOwnProperty;function zn(s,l){return on.call(s,l)}function ze(s,l){let d,f;if(s===void 0)return;const p=function(g){return Et.call(g)==="[object Array]"}(s)?gt:mt;for(let g in s)if(zn(s,g)&&(d=s[g],f=l(d,p(g)),f===!1))return d}function mt(s){return s}function gt(s){return Number(s)}function jt(s,...l){const d=s.style;return ze(l,function(f){f&&ze(f,function(p,g){d[g]=p})}),s}function Ht(s,l,d){return arguments.length==2?s.getAttribute(l):d===null?s.removeAttribute(l):(s.setAttribute(l,d),s)}const qn=Object.prototype.toString;function kn(s){return new En(s)}function En(s){if(!s||!s.nodeType)throw new Error("A DOM element reference is required");this.el=s,this.list=s.classList}function ve(s){for(var l;s.childNodes.length;)l=s.childNodes[0],s.removeChild(l);return s}function Re(s,l){return s&&typeof s.matches=="function"&&s.matches(l)}function je(s,l,d){for(var f=d?s:s.parentNode;f&&f.nodeType!==document.DOCUMENT_NODE&&f.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(Re(f,l))return f;f=f.parentNode}return Re(f,l)?f:null}En.prototype.add=function(s){return this.list.add(s),this},En.prototype.remove=function(s){return qn.call(s)=="[object RegExp]"?this.removeMatching(s):(this.list.remove(s),this)},En.prototype.removeMatching=function(s){const l=this.array();for(let d=0;d<l.length;d++)s.test(l[d])&&this.remove(l[d]);return this},En.prototype.toggle=function(s,l){return l!==void 0?l!==this.list.toggle(s,l)&&this.list.toggle(s):this.list.toggle(s),this},En.prototype.array=function(){return Array.from(this.list)},En.prototype.has=En.prototype.contains=function(s){return this.list.contains(s)};var at,ht,it,zt={};function tn(){at=window.addEventListener?"addEventListener":"attachEvent",ht=window.removeEventListener?"removeEventListener":"detachEvent",it=at!=="addEventListener"?"on":""}var _t=Ct({__proto__:null,bind:zt.bind=function(s,l,d,f){return at||tn(),s[at](it+l,d,f||!1),d},unbind:zt.unbind=function(s,l,d,f){return ht||tn(),s[ht](it+l,d,f||!1),d},default:zt},[zt]),or=["focus","blur"],Oi,Rr={bind:function(s,l,d,f,p){return or.indexOf(d)!==-1&&(p=!0),_t.bind(s,d,function(g){var b=g.target||g.srcElement;g.delegateTarget=je(b,l,!0),g.delegateTarget&&f.call(s,g)},p)},unbind:function(s,l,d,f){return or.indexOf(l)!==-1&&(f=!0),_t.unbind(s,l,d,f)}},Ss=function(s,l){if(typeof s!="string")throw new TypeError("String expected");l||(l=document);var d=/<([\w:]+)/.exec(s);if(!d)return l.createTextNode(s);s=s.replace(/^\s+|\s+$/g,"");var f=d[1];if(f=="body")return(p=l.createElement("html")).innerHTML=s,p.removeChild(p.lastChild);var p,g=Object.prototype.hasOwnProperty.call(pr,f)?pr[f]:pr._default,b=g[0],x=g[1],E=g[2];for((p=l.createElement("div")).innerHTML=x+s+E;b--;)p=p.lastChild;if(p.firstChild==p.lastChild)return p.removeChild(p.firstChild);for(var k=l.createDocumentFragment();p.firstChild;)k.appendChild(p.removeChild(p.firstChild));return k},js=!1;typeof document<"u"&&((Oi=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',js=!Oi.getElementsByTagName("link").length,Oi=void 0);var pr={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:js?[1,"X<div>","</div>"]:[0,"",""]};pr.td=pr.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],pr.option=pr.optgroup=[1,'<select multiple="multiple">',"</select>"],pr.thead=pr.tbody=pr.colgroup=pr.caption=pr.tfoot=[1,"<table>","</table>"],pr.polyline=pr.ellipse=pr.polygon=pr.circle=pr.text=pr.line=pr.path=pr.rect=pr.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Ln=Ss;function Pn(s,l){return(l=l||document).querySelector(s)}function $n(s,l){return(l=l||document).querySelectorAll(s)}function Ur(s){s.parentNode&&s.parentNode.removeChild(s)}function wa(s,l){return l.appendChild(function(d,f){if(d.ownerDocument!==f.ownerDocument)try{return f.ownerDocument.importNode(d,!0)}catch{}return d}(s,l))}function ct(s,l){return wa(l,s),s}var Xn=2,sr={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Xn,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Xn,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function mi(s,l,d){var f=l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),p=sr[f];p?(p===Xn&&typeof d=="number"&&(d=String(d)+"px"),s.style[f]=d):s.setAttributeNS(null,l,d)}function ut(s,l,d){if(typeof l=="string"){if(d===void 0)return function(f,p){return sr[p]?f.style[p]:f.getAttributeNS(null,p)}(s,l);mi(s,l,d)}else(function(f,p){var g,b,x=Object.keys(p);for(g=0;b=x[g];g++)mi(f,b,p[b])})(s,l);return s}const Oc=Object.prototype.toString;function ne(s){return new ce(s)}function ce(s){if(!s||!s.nodeType)throw new Error("A DOM element reference is required");this.el=s,this.list=s.classList}function Ee(s){var l=s.parentNode;return l&&l.removeChild(s),s}function qe(s){for(var l;l=s.firstChild;)Ee(l);return s}function wt(s){return s.cloneNode(!0)}ce.prototype.add=function(s){return this.list.add(s),this},ce.prototype.remove=function(s){return Oc.call(s)=="[object RegExp]"?this.removeMatching(s):(this.list.remove(s),this)},ce.prototype.removeMatching=function(s){const l=this.array();for(let d=0;d<l.length;d++)s.test(l[d])&&this.remove(l[d]);return this},ce.prototype.toggle=function(s,l){return l!==void 0?l!==this.list.toggle(s,l)&&this.list.toggle(s):this.list.toggle(s),this},ce.prototype.array=function(){return Array.from(this.list)},ce.prototype.has=ce.prototype.contains=function(s){return this.list.contains(s)};var At={svg:"http://www.w3.org/2000/svg"},An='<svg xmlns="'+At.svg+'"';function qt(s){var l=!1;s.substring(0,4)==="<svg"?s.indexOf(At.svg)===-1&&(s=An+s.substring(4)):(s=An+">"+s+"</svg>",l=!0);var d=function(g){var b;return(b=new DOMParser).async=!1,b.parseFromString(g,"text/xml")}(s);if(!l)return d;for(var f=document.createDocumentFragment(),p=d.firstChild;p.firstChild;)f.appendChild(p.firstChild);return f}function ot(s,l){var d;return s.charAt(0)==="<"?(d=qt(s).firstChild,d=document.importNode(d,!0)):d=document.createElementNS(At.svg,s),l&&ut(d,l),d}var Ot=null;function pn(){return Ot===null&&(Ot=ot("svg")),Ot}function Er(s,l){var d,f,p=Object.keys(l);for(d=0;f=p[d];d++)s[f]=l[f];return s}function ko(s){return pn().createSVGTransform()}var ho=/([&<>]{1})/g,Tc=/([\n\r"]{1})/g,qo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Bd(s,l){return s.replace(l,function(d,f){return qo[f]||f})}function Au(s,l){var d,f,p,g,b;switch(s.nodeType){case 3:l.push(Bd(s.textContent,ho));break;case 1:if(l.push("<",s.tagName),s.hasAttributes())for(d=0,f=(p=s.attributes).length;d<f;++d)g=p.item(d),l.push(" ",g.name,'="',Bd(g.value,Tc),'"');if(s.hasChildNodes()){for(l.push(">"),d=0,f=(b=s.childNodes).length;d<f;++d)Au(b.item(d),l);l.push("</",s.tagName,">")}else l.push("/>");break;case 8:l.push("<!--",Bd(s.nodeValue,ho),"-->");break;case 4:l.push("<![CDATA[",s.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+s.nodeType)}return l}function Vd(s,l){return function(d){for(var f=d.firstChild,p=[];f;)Au(f,p),f=f.nextSibling;return p.join("")}(s)}function gp(s,l){return l instanceof SVGMatrix?s.createSVGTransformFromMatrix(l):l}function Ru(s,l){var d=s.transform.baseVal;return l&&(Array.isArray(l)||(l=[l]),function(f,p){var g,b;for(f.clear(),g=0;b=p[g];g++)f.appendItem(gp(f,b))}(d,l)),d.consolidate()}const cn=/^class[ {]/;function Te(s){return Array.isArray(s)}function pt(s,l){return Object.prototype.hasOwnProperty.call(s,l)}function Ut(...s){s.length===1&&Te(s[0])&&(s=s[0]);const l=(s=[...s]).pop();return l.$inject=s,l}const Mr=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Uo=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,Qi=/\/\*([^*]*)\*\//m;function ks(s){if(typeof s!="function")throw new Error(`Cannot annotate "${s}". Expected a function!`);const l=s.toString().match(function(f){return cn.test(f.toString())}(s)?Mr:Uo);if(!l)return[];const d=l[1]||l[2];return d&&d.split(",").map(f=>{const p=f.match(Qi);return(p&&p[1]||f).trim()})||[]}function _a(s,l){l=l||{get:function(q,W){if(d.push(q),W===!1)return null;throw b(`No provider for "${q}"!`)}};const d=[],f=this._providers=Object.create(l._providers||null),p=this._instances=Object.create(null),g=p.injector=this,b=function(q){const W=d.join(" -> ");return d.length=0,new Error(W?`${q} (Resolving: ${W})`:q)};function x(q,W){if(!f[q]&&q.indexOf(".")!==-1){const ee=q.split(".");let ie=x(ee.shift());for(;ee.length;)ie=ie[ee.shift()];return ie}if(pt(p,q))return p[q];if(pt(f,q)){if(d.indexOf(q)!==-1)throw d.push(q),b("Cannot resolve circular dependency!");return d.push(q),p[q]=f[q][0](f[q][1]),d.pop(),p[q]}return l.get(q,W)}function E(q,W){if(W===void 0&&(W={}),typeof q!="function"){if(!Te(q))throw b(`Cannot invoke "${q}". Expected a function!`);q=Ut(q.slice())}return{fn:q,dependencies:(q.$inject||ks(q)).map(ee=>pt(W,ee)?W[ee]:x(ee))}}function k(q){const{fn:W,dependencies:ee}=E(q);return new(Function.prototype.bind.apply(W,[null].concat(ee)))}function P(q,W,ee){const{fn:ie,dependencies:oe}=E(q,ee);return ie.apply(W,oe)}function C(q){return Ut(W=>q.get(W))}function M(q,W){if(W&&W.length){const ee=Object.create(null),ie=Object.create(null),oe=[],ke=[],Pe=[];let Oe,Le,Qt,ft;for(let Be in f)Oe=f[Be],W.indexOf(Be)!==-1&&(Oe[2]==="private"?(Le=oe.indexOf(Oe[3]),Le===-1?(Qt=Oe[3].createChild([],W),ft=C(Qt),oe.push(Oe[3]),ke.push(Qt),Pe.push(ft),ee[Be]=[ft,Be,"private",Qt]):ee[Be]=[Pe[Le],Be,"private",ke[Le]]):ee[Be]=[Oe[2],Oe[1]],ie[Be]=!0),Oe[2]!=="factory"&&Oe[2]!=="type"||!Oe[1].$scope||W.forEach(et=>{Oe[1].$scope.indexOf(et)!==-1&&(ee[Be]=[Oe[2],Oe[1]],ie[et]=!0)});W.forEach(Be=>{if(!ie[Be])throw new Error('No provider for "'+Be+'". Cannot use provider from the parent!')}),q.unshift(ee)}return new _a(q,g)}const $={factory:P,type:k,value:function(q){return q}};function j(q,W){const ee=q.__init__||[];return function(){ee.forEach(ie=>{typeof ie=="string"?W.get(ie):W.invoke(ie)})}}function H(q){const W=q.__exports__;if(W){const ee=q.__modules__,ie=Object.keys(q).reduce((Oe,Le)=>(Le!=="__exports__"&&Le!=="__modules__"&&Le!=="__init__"&&Le!=="__depends__"&&(Oe[Le]=q[Le]),Oe),Object.create(null)),oe=M((ee||[]).concat(ie)),ke=Ut(function(Oe){return oe.get(Oe)});W.forEach(function(Oe){f[Oe]=[ke,Oe,"private",oe]});const Pe=(q.__init__||[]).slice();return Pe.unshift(function(){oe.init()}),j(q=Object.assign({},q,{__init__:Pe}),oe)}return Object.keys(q).forEach(function(ee){if(ee==="__init__"||ee==="__depends__")return;if(q[ee][2]==="private")return void(f[ee]=q[ee]);const ie=q[ee][0],oe=q[ee][1];f[ee]=[$[ie],Kf(ie,oe),ie]}),j(q,g)}function Y(q,W){return q.indexOf(W)!==-1||(q=(W.__depends__||[]).reduce(Y,q)).indexOf(W)!==-1?q:q.concat(W)}this.get=x,this.invoke=P,this.instantiate=k,this.createChild=M,this.init=function(q){const W=q.reduce(Y,[]).map(H);let ee=!1;return function(){ee||(ee=!0,W.forEach(ie=>ie()))}}(s)}function Kf(s,l){return s!=="value"&&Te(l)&&(l=Ut(l.slice())),l}var Go=1e3;function Ea(s,l){var d=this;l=l||Go,s.on(["render.shape","render.connection"],l,function(f,p){var g=f.type,b=p.element,x=p.gfx,E=p.attrs;if(d.canRender(b))return g==="render.shape"?d.drawShape(x,b,E):d.drawConnection(x,b,E)}),s.on(["render.getShapePath","render.getConnectionPath"],l,function(f,p){if(d.canRender(p))return f.type==="render.getShapePath"?d.getShapePath(p):d.getConnectionPath(p)})}function Vl(s){return s.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function qw(s){return["L",s.x,s.y]}function t3(s,l){const d=s.length,f=[(p=s[0],["M",p.x,p.y])];var p,g,b,x;for(let E=1;E<d;E++){const k=s[E-1],P=s[E],C=s[E+1];if(!C||!l){f.push(qw(P));continue}const M=Math.min(l,Uw(P.x-k.x,P.y-k.y),Uw(C.x-P.x,C.y-P.y));if(!M){f.push(qw(P));continue}const $=C0(P,k,M),j=C0(P,k,.5*M),H=C0(P,C,M),Y=C0(P,C,.5*M);f.push(qw($)),f.push((b=Y,x=H,["C",(g=j).x,g.y,b.x,b.y,x.x,x.y]))}return f}function C0(s,l,d){const f=l.x-s.x,p=l.y-s.y,g=d/Uw(f,p);return{x:s.x+f*g,y:s.y+p*g}}function Uw(s,l){return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}function Hg(s,l,d){S(l)&&(d=l,l=null),l||(l={});const f=ot("path",l);return S(d)&&(f.dataset.cornerRadius=String(d)),Gw(f,s)}function Gw(s,l){return ut(s,{d:Vl(t3(l,parseInt(s.dataset.cornerRadius,10)||0))}),s}function Wg(s){return I(s,function(l){return!D(s,function(d){return d!==l&&O0(l,d)})})}function O0(s,l){if(l){if(s===l)return l;if(s.parent)return O0(s.parent,l)}}function Y2(s,l,d){var f=!d||s.indexOf(l)===-1;return f&&s.push(l),f}function zd(s,l,d){d=d||0,y(s)||(s=[s]),R(s,function(f,p){var g=l(f,p,d);y(g)&&g.length&&zd(g,l,d+1)})}function Hd(s,l){return function(d,f,p){var g=[],b=[];return zd(d,function(x,E,k){Y2(g,x,f);var P=x.children;if(P&&Y2(b,P,f))return P}),g}(s,!l)}function Fi(s,l){var d,f,p,g;return l=!!l,y(s)||(s=[s]),R(s,function(b){var x=b;b.waypoints&&!l&&(x=Fi(b.waypoints,!0));var E=x.x,k=x.y,P=x.height||0,C=x.width||0;(E<d||d===void 0)&&(d=E),(k<f||f===void 0)&&(f=k),(E+C>p||p===void 0)&&(p=E+C),(k+P>g||g===void 0)&&(g=k+P)}),{x:d,y:f,height:g-f,width:p-d}}function Q2(s){return"waypoints"in s?"connection":"x"in s?"shape":"root"}function Yw(s){return!(!s||!s.isFrame)}function vp(s,l){return le({},s||{},l||{})}Ea.prototype.canRender=function(s){},Ea.prototype.drawShape=function(s,l){},Ea.prototype.drawConnection=function(s,l){},Ea.prototype.getShapePath=function(s){},Ea.prototype.getConnectionPath=function(s){};function Pc(s,l){Ea.call(this,s,1),this.CONNECTION_STYLE=l.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=l.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=l.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}t(Pc,Ea),Pc.prototype.canRender=function(){return!0},Pc.prototype.drawShape=function(s,l,d){var f=ot("rect");return ut(f,{x:0,y:0,width:l.width||0,height:l.height||0}),Yw(l)?ut(f,le({},this.FRAME_STYLE,d||{})):ut(f,le({},this.SHAPE_STYLE,d||{})),ct(s,f),f},Pc.prototype.drawConnection=function(s,l,d){var f=Hg(l.waypoints,le({},this.CONNECTION_STYLE,d||{}));return ct(s,f),f},Pc.prototype.getShapePath=function(s){var l=s.x,d=s.y,f=s.width;return Vl([["M",l,d],["l",f,0],["l",0,s.height],["l",-f,0],["z"]])},Pc.prototype.getConnectionPath=function(s){var l,d,f=s.waypoints,p=[];for(l=0;d=f[l];l++)d=d.original||d,p.push([l===0?"M":"L",d.x,d.y]);return Vl(p)},Pc.$inject=["eventBus","styles"];var n3={__init__:["defaultRenderer"],defaultRenderer:["type",Pc],styles:["type",function(){var s={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},l=this;this.cls=function(d,f,p){return le(this.style(f,p),{class:d})},this.style=function(d,f){y(d)||f||(f=d,d=[]);var p=X(d,function(g,b){return le(g,s[b]||{})},{});return f?le(p,f):p},this.computeStyle=function(d,f,p){return y(f)||(p=f,f=[]),l.style(f||[],le({},p,d||{}))}}]};function Li(s,l){if(!s||!l)return-1;var d=s.indexOf(l);return d!==-1&&s.splice(d,1),d}function $i(s,l,d){if(s&&l){typeof d!="number"&&(d=-1);var f=s.indexOf(l);if(f!==-1){if(f===d||d===-1)return;s.splice(f,1)}d!==-1?s.splice(d,0,l):s.push(l)}}function qg(s,l){return s&&l?s.indexOf(l):-1}function Ac(s,l){return s&&l?Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2)):-1}function T0(s,l,d,f){if(f===void 0&&(f=5),!s||!l||!d)return!1;var p=(l.x-s.x)*(d.y-s.y)-(l.y-s.y)*(d.x-s.x),g=Ac(s,l);return Math.abs(p/g)<=f}var K2=2;function Mu(s,l){var d=Array.from(arguments).flat();const f={x:"v",y:"h"};for(const[p,g]of Object.entries(f))if(X2(p,d))return g;return!1}function X2(s,l){const d=l[0];return Z(l,function(f){return Math.abs(d[s]-f[s])<=K2})}function Qw(s,l,d){return d=d||0,s.x>l.x-d&&s.y>l.y-d&&s.x<l.x+l.width+d&&s.y<l.y+l.height+d}function P0(s,l){return{x:Math.round(s.x+(l.x-s.x)/2),y:Math.round(s.y+(l.y-s.y)/2)}}var Z2=/,?([a-z]),?/gi,J2=parseFloat,Ki=Math,Wd=Ki.PI,zl=Ki.min,Rc=Ki.max,eO=Ki.pow,qd=Ki.abs,r3=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,Kw=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,A0=Array.isArray||function(s){return s instanceof Array};function Xw(s,l){return Object.prototype.hasOwnProperty.call(s,l)}function Ug(s){if(typeof s=="function"||Object(s)!==s)return s;var l=new s.constructor;for(var d in s)Xw(s,d)&&(l[d]=Ug(s[d]));return l}function yp(s){var l=yp.ps=yp.ps||{};return l[s]?l[s].sleep=100:l[s]={sleep:100},setTimeout(function(){for(var d in l)Xw(l,d)&&d!=s&&(l[d].sleep--,!l[d].sleep&&delete l[d])}),l[s]}function Zw(s,l,d,f){return arguments.length===1&&(l=s.y,d=s.width,f=s.height,s=s.x),{x:s,y:l,width:d,height:f,x2:s+d,y2:l+f}}function gi(){return this.join(",").replace(Z2,"$1")}function Gr(s){var l=Ug(s);return l.toString=gi,l}function tO(s,l,d,f,p,g,b,x,E){var k=1-E,P=eO(k,3),C=eO(k,2),M=E*E*E,$=P*l+3*C*E*f+3*k*E*E*g+M*x;return{x:Gg(P*s+3*C*E*d+3*k*E*E*p+M*b),y:Gg($)}}function nO(s){var l=function(d,f,p,g,b,x,E,k){for(var P,C,M,$,j,H,Y,q,W=[],ee=[[],[]],ie=0;ie<2;++ie)if(ie==0?(C=6*d-12*p+6*b,P=-3*d+9*p-9*b+3*E,M=3*p-3*d):(C=6*f-12*g+6*x,P=-3*f+9*g-9*x+3*k,M=3*g-3*f),qd(P)<1e-12){if(qd(C)<1e-12)continue;0<($=-M/C)&&$<1&&W.push($)}else Y=C*C-4*M*P,q=Ki.sqrt(Y),Y<0||(0<(j=(-C+q)/(2*P))&&j<1&&W.push(j),0<(H=(-C-q)/(2*P))&&H<1&&W.push(H));for(var oe,ke=W.length,Pe=ke;ke--;)oe=1-($=W[ke]),ee[0][ke]=oe*oe*oe*d+3*oe*oe*$*p+3*oe*$*$*b+$*$*$*E,ee[1][ke]=oe*oe*oe*f+3*oe*oe*$*g+3*oe*$*$*x+$*$*$*k;return ee[0][Pe]=d,ee[1][Pe]=f,ee[0][Pe+1]=E,ee[1][Pe+1]=k,ee[0].length=ee[1].length=Pe+2,{x0:zl(...ee[0]),y0:zl(...ee[1]),x1:Rc(...ee[0]),y1:Rc(...ee[1])}}(...s);return Zw(l.x0,l.y0,l.x1-l.x0,l.y1-l.y0)}function Ud(s,l,d){return l>=s.x&&l<=s.x+s.width&&d>=s.y&&d<=s.y+s.height}function rO(s,l,d,f,p){return s*(s*(-3*l+9*d-9*f+3*p)+6*l-12*d+6*f)-3*l+3*d}function iO(s,l,d,f,p,g,b,x,E){E==null&&(E=1);for(var k=(E=E>1?1:E<0?0:E)/2,P=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],C=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],M=0,$=0;$<12;$++){var j=k*P[$]+k,H=rO(j,s,d,p,b),Y=rO(j,l,f,g,x),q=H*H+Y*Y;M+=C[$]*Ki.sqrt(q)}return k*M}function i3(s,l,d,f,p,g,b,x){if(!(Rc(s,d)<zl(p,b)||zl(s,d)>Rc(p,b)||Rc(l,f)<zl(g,x)||zl(l,f)>Rc(g,x))){var E=(s*f-l*d)*(g-x)-(l-f)*(p*x-g*b),k=(s-d)*(g-x)-(l-f)*(p-b);if(k){var P=Gg(((s*f-l*d)*(p-b)-(s-d)*(p*x-g*b))/k),C=Gg(E/k),M=+P.toFixed(2),$=+C.toFixed(2);if(!(M<+zl(s,d).toFixed(2)||M>+Rc(s,d).toFixed(2)||M<+zl(p,b).toFixed(2)||M>+Rc(p,b).toFixed(2)||$<+zl(l,f).toFixed(2)||$>+Rc(l,f).toFixed(2)||$<+zl(g,x).toFixed(2)||$>+Rc(g,x).toFixed(2)))return{x:P,y:C}}}}function Gg(s){return Math.round(1e11*s)/1e11}function o3(s,l,d){if(!function(Oe,Le){return Oe=Zw(Oe),Ud(Le=Zw(Le),Oe.x,Oe.y)||Ud(Le,Oe.x2,Oe.y)||Ud(Le,Oe.x,Oe.y2)||Ud(Le,Oe.x2,Oe.y2)||Ud(Oe,Le.x,Le.y)||Ud(Oe,Le.x2,Le.y)||Ud(Oe,Le.x,Le.y2)||Ud(Oe,Le.x2,Le.y2)||(Oe.x<Le.x2&&Oe.x>Le.x||Le.x<Oe.x2&&Le.x>Oe.x)&&(Oe.y<Le.y2&&Oe.y>Le.y||Le.y<Oe.y2&&Le.y>Oe.y)}(nO(s),nO(l)))return[];for(var f=iO(...s),p=iO(...l),g=Gd(s)?1:~~(f/5)||1,b=Gd(l)?1:~~(p/5)||1,x=[],E=[],k={},P=[],C=0;C<g+1;C++){var M=tO(...s,C/g);x.push({x:M.x,y:M.y,t:C/g})}for(C=0;C<b+1;C++)M=tO(...l,C/b),E.push({x:M.x,y:M.y,t:C/b});for(C=0;C<g;C++)for(var $=0;$<b;$++){var j,H=x[C],Y=x[C+1],q=E[$],W=E[$+1],ee=qd(Y.x-H.x)<.01?"y":"x",ie=qd(W.x-q.x)<.01?"y":"x",oe=i3(H.x,H.y,Y.x,Y.y,q.x,q.y,W.x,W.y);if(oe){if(k[j=oe.x.toFixed(9)+"#"+oe.y.toFixed(9)])continue;k[j]=!0;var ke=H.t+qd((oe[ee]-H[ee])/(Y[ee]-H[ee]))*(Y.t-H.t),Pe=q.t+qd((oe[ie]-q[ie])/(W[ie]-q[ie]))*(W.t-q.t);ke>=0&&ke<=1&&Pe>=0&&Pe<=1&&P.push({x:oe.x,y:oe.y,t1:ke,t2:Pe})}}return P}function Yo(s,l,d){s=e_(s),l=e_(l);for(var f,p,g,b,x,E,k,P,C,M,$=[],j=0,H=s.length;j<H;j++){var Y=s[j];if(Y[0]=="M")f=x=Y[1],p=E=Y[2];else{Y[0]=="C"?(f=(C=[f,p,...Y.slice(1)])[6],p=C[7]):(C=[f,p,f,p,x,E,x,E],f=x,p=E);for(var q=0,W=l.length;q<W;q++){var ee=l[q];if(ee[0]=="M")g=k=ee[1],b=P=ee[2];else{ee[0]=="C"?(g=(M=[g,b,...ee.slice(1)])[6],b=M[7]):(M=[g,b,g,b,k,P,k,P],g=k,b=P);var ie=o3(C,M);{for(var oe=0,ke=ie.length;oe<ke;oe++)ie[oe].segment1=j,ie[oe].segment2=q,ie[oe].bez1=C,ie[oe].bez2=M;$=$.concat(ie)}}}}}return $}function Jw(s){var l=yp(s);if(l.abs)return Gr(l.abs);if(A0(s)&&A0(s&&s[0])||(s=function(q){if(!q)return null;var W=yp(q);if(W.arr)return Ug(W.arr);var ee={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ie=[];return A0(q)&&A0(q[0])&&(ie=Ug(q)),ie.length||String(q).replace(r3,function(oe,ke,Pe){var Oe=[],Le=ke.toLowerCase();for(Pe.replace(Kw,function(Qt,ft){ft&&Oe.push(+ft)}),Le=="m"&&Oe.length>2&&(ie.push([ke,...Oe.splice(0,2)]),Le="l",ke=ke=="m"?"l":"L");Oe.length>=ee[Le]&&(ie.push([ke,...Oe.splice(0,ee[Le])]),ee[Le]););}),ie.toString=yp.toString,W.arr=Ug(ie),ie}(s)),!s||!s.length)return[["M",0,0]];var d,f=[],p=0,g=0,b=0,x=0,E=0;s[0][0]=="M"&&(b=p=+s[0][1],x=g=+s[0][2],E++,f[0]=["M",p,g]);for(var k,P,C=E,M=s.length;C<M;C++){if(f.push(k=[]),(d=(P=s[C])[0])!=d.toUpperCase())switch(k[0]=d.toUpperCase(),k[0]){case"A":k[1]=P[1],k[2]=P[2],k[3]=P[3],k[4]=P[4],k[5]=P[5],k[6]=+P[6]+p,k[7]=+P[7]+g;break;case"V":k[1]=+P[1]+g;break;case"H":k[1]=+P[1]+p;break;case"M":b=+P[1]+p,x=+P[2]+g;default:for(var $=1,j=P.length;$<j;$++)k[$]=+P[$]+($%2?p:g)}else for(var H=0,Y=P.length;H<Y;H++)k[H]=P[H];switch(d=d.toUpperCase(),k[0]){case"Z":p=+b,g=+x;break;case"H":p=k[1];break;case"V":g=k[1];break;case"M":b=k[k.length-2],x=k[k.length-1];default:p=k[k.length-2],g=k[k.length-1]}}return f.toString=gi,l.abs=Gr(f),f}function Gd(s){return s[0]===s[2]&&s[1]===s[3]&&s[4]===s[6]&&s[5]===s[7]}function Yg(s,l,d,f){return[s,l,d,f,d,f]}function R0(s,l,d,f,p,g){var b=.3333333333333333,x=2/3;return[b*s+x*d,b*l+x*f,b*p+x*d,b*g+x*f,p,g]}function Sa(s,l,d,f,p,g,b,x,E,k){var P,C=120*Wd/180,M=Wd/180*(+p||0),$=[],j=function(Fa){return function ei(){var Sr=Array.prototype.slice.call(arguments,0).join(""),xr=ei.cache=ei.cache||{},ti=ei.count=ei.count||[];return Xw(xr,Sr)?(function(Kr,Fr){for(var Ri=0,Un=Kr.length;Ri<Un;Ri++)if(Kr[Ri]===Fr)return Kr.push(Kr.splice(Ri,1)[0])}(ti,Sr),xr[Sr]):(ti.length>=1e3&&delete xr[ti.shift()],ti.push(Sr),xr[Sr]=Fa(...arguments),xr[Sr])}}(function(Fa,ei,Sr){return{x:Fa*Ki.cos(Sr)-ei*Ki.sin(Sr),y:Fa*Ki.sin(Sr)+ei*Ki.cos(Sr)}});if(k)Pe=k[0],Oe=k[1],oe=k[2],ke=k[3];else{s=(P=j(s,l,-M)).x,l=P.y;var H=(s-(x=(P=j(x,E,-M)).x))/2,Y=(l-(E=P.y))/2,q=H*H/(d*d)+Y*Y/(f*f);q>1&&(d*=q=Ki.sqrt(q),f*=q);var W=d*d,ee=f*f,ie=(g==b?-1:1)*Ki.sqrt(qd((W*ee-W*Y*Y-ee*H*H)/(W*Y*Y+ee*H*H))),oe=ie*d*Y/f+(s+x)/2,ke=ie*-f*H/d+(l+E)/2,Pe=Ki.asin(((l-ke)/f).toFixed(9)),Oe=Ki.asin(((E-ke)/f).toFixed(9));(Pe=s<oe?Wd-Pe:Pe)<0&&(Pe=2*Wd+Pe),(Oe=x<oe?Wd-Oe:Oe)<0&&(Oe=2*Wd+Oe),b&&Pe>Oe&&(Pe-=2*Wd),!b&&Oe>Pe&&(Oe-=2*Wd)}var Le=Oe-Pe;if(qd(Le)>C){var Qt=Oe,ft=x,Be=E;Oe=Pe+C*(b&&Oe>Pe?1:-1),$=Sa(x=oe+d*Ki.cos(Oe),E=ke+f*Ki.sin(Oe),d,f,p,0,b,ft,Be,[Oe,Qt,oe,ke])}Le=Oe-Pe;var et=Ki.cos(Pe),xn=Ki.sin(Pe),un=Ki.cos(Oe),hn=Ki.sin(Oe),Tn=Ki.tan(Le/4),Wr=4/3*d*Tn,Ir=4/3*f*Tn,Qr=[s,l],vr=[s+Wr*xn,l-Ir*et],lr=[x+Wr*hn,E-Ir*un],It=[x,E];if(vr[0]=2*Qr[0]-vr[0],vr[1]=2*Qr[1]-vr[1],k)return[vr,lr,It].concat($);for(var Jr=[],Tr=0,Jl=($=[vr,lr,It].concat($).join().split(",")).length;Tr<Jl;Tr++)Jr[Tr]=Tr%2?j($[Tr-1],$[Tr],M).y:j($[Tr],$[Tr+1],M).x;return Jr}function e_(s){var l=yp(s);if(l.curve)return Gr(l.curve);for(var d=Jw(s),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p=function($,j,H){var Y,q;if(!$)return["C",j.x,j.y,j.x,j.y,j.x,j.y];switch(!($[0]in{T:1,Q:1})&&(j.qx=j.qy=null),$[0]){case"M":j.X=$[1],j.Y=$[2];break;case"A":$=["C",...Sa(j.x,j.y,...$.slice(1))];break;case"S":H=="C"||H=="S"?(Y=2*j.x-j.bx,q=2*j.y-j.by):(Y=j.x,q=j.y),$=["C",Y,q,...$.slice(1)];break;case"T":H=="Q"||H=="T"?(j.qx=2*j.x-j.qx,j.qy=2*j.y-j.qy):(j.qx=j.x,j.qy=j.y),$=["C",...R0(j.x,j.y,j.qx,j.qy,$[1],$[2])];break;case"Q":j.qx=$[1],j.qy=$[2],$=["C",...R0(j.x,j.y,$[1],$[2],$[3],$[4])];break;case"L":$=["C",...Yg(j.x,j.y,$[1],$[2])];break;case"H":$=["C",...Yg(j.x,j.y,$[1],j.y)];break;case"V":$=["C",...Yg(j.x,j.y,j.x,$[1])];break;case"Z":$=["C",...Yg(j.x,j.y,j.X,j.Y)]}return $},g=function($,j){if($[j].length>7){$[j].shift();for(var H=$[j];H.length;)b[j]="A",$.splice(j++,0,["C",...H.splice(0,6)]);$.splice(j,1),P=d.length}},b=[],x="",E="",k=0,P=d.length;k<P;k++){d[k]&&(x=d[k][0]),x!="C"&&(b[k]=x,k&&(E=b[k-1])),d[k]=p(d[k],f,E),b[k]!="A"&&x=="C"&&(b[k]="C"),g(d,k);var C=d[k],M=C.length;f.x=C[M-2],f.y=C[M-1],f.bx=J2(C[M-4])||f.x,f.by=J2(C[M-3])||f.y}return l.curve=Gr(d),d}function Dr(s){return w(s)&&N(s,"waypoints")}function Zn(s){return w(s)&&N(s,"labelTarget")}function t_(s){return{x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height)}}function Du(s){return{x:Math.round(s.x),y:Math.round(s.y)}}function nn(s){return{top:s.y,right:s.x+(s.width||0),bottom:s.y+(s.height||0),left:s.x}}function Cs(s){return{x:s.left,y:s.top,width:s.right-s.left,height:s.bottom-s.top}}function s3(s){for(var l=s.waypoints,d=l.reduce(function(E,k,P){var C=l[P-1];if(C){var M=E[E.length-1],$=M&&M.endLength||0,j=function(H,Y){return Math.sqrt(Math.pow(H.x-Y.x,2)+Math.pow(H.y-Y.y,2))}(C,k);E.push({start:C,end:k,startLength:$,endLength:$+j,length:j})}return E},[]),f=d.reduce(function(E,k){return E+k.length},0),p=f/2,g=0,b=d[g];b.endLength<p;)b=d[++g];var x=(p-b.startLength)/b.length;return{x:b.start.x+(b.end.x-b.start.x)*x,y:b.start.y+(b.end.y-b.start.y)*x}}function Xt(s){return Dr(s)?s3(s):Du({x:(l=s).x+(l.width||0)/2,y:l.y+(l.height||0)/2});var l}function rs(s,l,d){w(d=d||0)||(d={x:d,y:d});var f=nn(s),p=nn(l),g=f.bottom+d.y<=p.top,b=f.left-d.x>=p.right,x=f.top-d.y>=p.bottom,E=g?"top":x?"bottom":null,k=f.right+d.x<=p.left?"left":b?"right":null;return k&&E?E+"-"+k:k||E||"intersect"}function M0(s,l,d){var f=function(p,g){return Yo(p,g)}(s,l);return f.length===1||f.length===2&&Ac(f[0],f[1])<1?Du(f[0]):f.length>1?(f=Ce(f,function(p){var g=Math.floor(100*p.t2)||1;return g=((g=100-g)<10?"0":"")+g,p.segment2+"#"+g}),Du(f[d?0:f.length-1])):null}function Hl(s,l){return Math.round(s*l)/l}function Qg(s){return S(s)?s+"px":s}function D0(s,l,d){const f=ot("g");ne(f).add(l);const p=d!==void 0?d:s.childNodes.length-1;return s.insertBefore(f,s.childNodes[p]||null),f}const Ti={shape:["x","y","width","height"],connection:["waypoints"]};function fn(s,l,d,f){this._eventBus=l,this._elementRegistry=f,this._graphicsFactory=d,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(s||{})}function N0(s,l){const d="matrix("+l.a+","+l.b+","+l.c+","+l.d+","+l.e+","+l.f+")";s.setAttribute("transform",d)}fn.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],fn.prototype._init=function(s){const l=this._eventBus,d=this._container=function(g){const b=(g=le({},{width:"100%",height:"100%"},g)).container||document.body,x=document.createElement("div");return x.setAttribute("class","djs-container djs-parent"),jt(x,{position:"relative",overflow:"hidden",width:Qg(g.width),height:Qg(g.height)}),b.appendChild(x),x}(s),f=this._svg=ot("svg");ut(f,{width:"100%",height:"100%"}),ct(d,f);const p=this._viewport=D0(f,"viewport");s.deferUpdate&&(this._viewboxChanged=Ne(Ue(this._viewboxChanged,this),300)),l.on("diagram.init",()=>{l.fire("canvas.init",{svg:f,viewport:p})}),l.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),l.on("diagram.destroy",500,this._destroy,this),l.on("diagram.clear",500,this._clear,this)},fn.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const s=this._container.parentNode;s&&s.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},fn.prototype._clear=function(){this._elementRegistry.getAll().forEach(s=>{const l=Q2(s);l==="root"?this.removeRootElement(s):this._removeElement(s,l)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},fn.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},fn.prototype.getLayer=function(s,l){if(!s)throw new Error("must specify a name");let d=this._layers[s];if(d||(d=this._layers[s]=this._createLayer(s,l)),l!==void 0&&d.index!==l)throw new Error("layer <"+s+"> already created at index <"+l+">");return d.group},fn.prototype._getChildIndex=function(s){return X(this._layers,function(l,d){return d.visible&&s>=d.index&&l++,l},0)},fn.prototype._createLayer=function(s,l){l===void 0&&(l=1);const d=this._getChildIndex(l);return{group:D0(this._viewport,"layer-"+s,d),index:l,visible:!0}},fn.prototype.showLayer=function(s){if(!s)throw new Error("must specify a name");const l=this._layers[s];if(!l)throw new Error("layer <"+s+"> does not exist");const d=this._viewport,f=l.group,p=l.index;if(l.visible)return f;const g=this._getChildIndex(p);return d.insertBefore(f,d.childNodes[g]||null),l.visible=!0,f},fn.prototype.hideLayer=function(s){if(!s)throw new Error("must specify a name");const l=this._layers[s];if(!l)throw new Error("layer <"+s+"> does not exist");const d=l.group;return l.visible&&(Ee(d),l.visible=!1),d},fn.prototype._removeLayer=function(s){const l=this._layers[s];l&&(delete this._layers[s],Ee(l.group))},fn.prototype.getActiveLayer=function(){const s=this._findPlaneForRoot(this.getRootElement());return s?s.layer:null},fn.prototype.findRoot=function(s){return typeof s=="string"&&(s=this._elementRegistry.get(s)),s?(this._findPlaneForRoot(function(d){for(;d.parent;)d=d.parent;return d}(s))||{}).rootElement:void 0},fn.prototype.getRootElements=function(){return this._planes.map(function(s){return s.rootElement})},fn.prototype._findPlaneForRoot=function(s){return D(this._planes,function(l){return l.rootElement===s})},fn.prototype.getContainer=function(){return this._container},fn.prototype._updateMarker=function(s,l,d){let f;s.id||(s=this._elementRegistry.get(s)),f=this._elementRegistry._elements[s.id],f&&(R([f.gfx,f.secondaryGfx],function(p){p&&(d?ne(p).add(l):ne(p).remove(l))}),this._eventBus.fire("element.marker.update",{element:s,gfx:f.gfx,marker:l,add:!!d}))},fn.prototype.addMarker=function(s,l){this._updateMarker(s,l,!0)},fn.prototype.removeMarker=function(s,l){this._updateMarker(s,l,!1)},fn.prototype.hasMarker=function(s,l){return s.id||(s=this._elementRegistry.get(s)),ne(this.getGraphics(s)).has(l)},fn.prototype.toggleMarker=function(s,l){this.hasMarker(s,l)?this.removeMarker(s,l):this.addMarker(s,l)},fn.prototype.getRootElement=function(){const s=this._rootElement;return s||this._planes.length?s:this.setRootElement(this.addRootElement(null))},fn.prototype.addRootElement=function(s){const l=this._rootsIdx++;s||(s={id:"__implicitroot_"+l,children:[],isImplicit:!0});const d=s.layer="root-"+l;this._ensureValid("root",s);const f=this.getLayer(d,0);return this.hideLayer(d),this._addRoot(s,f),this._planes.push({rootElement:s,layer:f}),s},fn.prototype.removeRootElement=function(s){if(typeof s=="string"&&(s=this._elementRegistry.get(s)),this._findPlaneForRoot(s))return this._removeRoot(s),this._removeLayer(s.layer),this._planes=this._planes.filter(function(l){return l.rootElement!==s}),this._rootElement===s&&(this._rootElement=null),s},fn.prototype.setRootElement=function(s){if(s===this._rootElement)return;let l;if(!s)throw new Error("rootElement required");return l=this._findPlaneForRoot(s),l||(s=this.addRootElement(s)),this._setRoot(s),s},fn.prototype._removeRoot=function(s){const l=this._elementRegistry,d=this._eventBus;d.fire("root.remove",{element:s}),d.fire("root.removed",{element:s}),l.remove(s)},fn.prototype._addRoot=function(s,l){const d=this._elementRegistry,f=this._eventBus;f.fire("root.add",{element:s}),d.add(s,l),f.fire("root.added",{element:s,gfx:l})},fn.prototype._setRoot=function(s,l){const d=this._rootElement;d&&(this._elementRegistry.updateGraphics(d,null,!0),this.hideLayer(d.layer)),s&&(l||(l=this._findPlaneForRoot(s).layer),this._elementRegistry.updateGraphics(s,this._svg,!0),this.showLayer(s.layer)),this._rootElement=s,this._eventBus.fire("root.set",{element:s})},fn.prototype._ensureValid=function(s,l){if(!l.id)throw new Error("element must have an id");if(this._elementRegistry.get(l.id))throw new Error("element <"+l.id+"> already exists");const d=Ti[s];if(!Z(d,function(p){return l[p]!==void 0}))throw new Error("must supply { "+d.join(", ")+" } with "+s)},fn.prototype._setParent=function(s,l,d){$i(l.children,s,d),s.parent=l},fn.prototype._addElement=function(s,l,d,f){d=d||this.getRootElement();const p=this._eventBus,g=this._graphicsFactory;this._ensureValid(s,l),p.fire(s+".add",{element:l,parent:d}),this._setParent(l,d,f);const b=g.create(s,l,f);return this._elementRegistry.add(l,b),g.update(s,l,b),p.fire(s+".added",{element:l,gfx:b}),l},fn.prototype.addShape=function(s,l,d){return this._addElement("shape",s,l,d)},fn.prototype.addConnection=function(s,l,d){return this._addElement("connection",s,l,d)},fn.prototype._removeElement=function(s,l){const d=this._elementRegistry,f=this._graphicsFactory,p=this._eventBus;if(s=d.get(s.id||s))return p.fire(l+".remove",{element:s}),f.remove(s),Li(s.parent&&s.parent.children,s),s.parent=null,p.fire(l+".removed",{element:s}),d.remove(s),s},fn.prototype.removeShape=function(s){return this._removeElement(s,"shape")},fn.prototype.removeConnection=function(s){return this._removeElement(s,"connection")},fn.prototype.getGraphics=function(s,l){return this._elementRegistry.getGraphics(s,l)},fn.prototype._changeViewbox=function(s){this._eventBus.fire("canvas.viewbox.changing"),s.apply(this),this._cachedViewbox=null,this._viewboxChanged()},fn.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},fn.prototype.viewbox=function(s){if(s===void 0&&this._cachedViewbox)return this._cachedViewbox;const l=this._viewport,d=this.getSize();let f,p,g,b,x,E,k;return s?(this._changeViewbox(function(){x=Math.min(d.width/s.width,d.height/s.height);const P=this._svg.createSVGMatrix().scale(x).translate(-s.x,-s.y);Ru(l,P)}),s):(g=this._rootElement?this.getActiveLayer():null,f=g&&g.getBBox()||{},b=Ru(l),p=b?b.matrix:function(P,C,M,$,j,H){var Y=pn().createSVGMatrix();switch(arguments.length){case 0:return Y;case 1:return Er(Y,P);case 6:return Er(Y,{a:P,b:C,c:M,d:$,e:j,f:H})}}(),x=Hl(p.a,1e3),E=Hl(-p.e||0,1e3),k=Hl(-p.f||0,1e3),s=this._cachedViewbox={x:E?E/x:0,y:k?k/x:0,width:d.width/x,height:d.height/x,scale:x,inner:{width:f.width||0,height:f.height||0,x:f.x||0,y:f.y||0},outer:d})},fn.prototype.scroll=function(s){const l=this._viewport;let d=l.getCTM();return s&&this._changeViewbox(function(){s=le({dx:0,dy:0},s||{}),d=this._svg.createSVGMatrix().translate(s.dx,s.dy).multiply(d),N0(l,d)}),{x:d.e,y:d.f}},fn.prototype.scrollToElement=function(s,l){let d=100;typeof s=="string"&&(s=this._elementRegistry.get(s));const f=this.findRoot(s);if(f!==this.getRootElement()&&this.setRootElement(f),f===s)return;l||(l={}),typeof l=="number"&&(d=l),l={top:l.top||d,right:l.right||d,bottom:l.bottom||d,left:l.left||d};const p=Fi(s),g=nn(p),b=this.viewbox(),x=this.zoom();let E,k;b.y+=l.top/x,b.x+=l.left/x,b.width-=(l.right+l.left)/x,b.height-=(l.bottom+l.top)/x;const P=nn(b);if(p.width<b.width&&p.height<b.height){const C=Math.max(0,g.right-P.right),M=Math.min(0,g.left-P.left),$=Math.max(0,g.bottom-P.bottom),j=Math.min(0,g.top-P.top);E=C||M,k=$||j}else E=p.x-b.x,k=p.y-b.y;this.scroll({dx:-E*x,dy:-k*x})},fn.prototype.zoom=function(s,l){if(!s)return this.viewbox(s).scale;if(s==="fit-viewport")return this._fitViewport(l);let d,f;return this._changeViewbox(function(){typeof l!="object"&&(d=this.viewbox().outer,l={x:d.width/2,y:d.height/2}),f=this._setZoom(s,l)}),Hl(f.a,1e3)},fn.prototype._fitViewport=function(s){const l=this.viewbox(),d=l.outer,f=l.inner;let p,g;return f.x>=0&&f.y>=0&&f.x+f.width<=d.width&&f.y+f.height<=d.height&&!s?g={x:0,y:0,width:Math.max(f.width+f.x,d.width),height:Math.max(f.height+f.y,d.height)}:(p=Math.min(1,d.width/f.width,d.height/f.height),g={x:f.x+(s?f.width/2-d.width/p/2:0),y:f.y+(s?f.height/2-d.height/p/2:0),width:d.width/p,height:d.height/p}),this.viewbox(g),this.viewbox(!1).scale},fn.prototype._setZoom=function(s,l){const d=this._svg,f=this._viewport,p=d.createSVGMatrix(),g=d.createSVGPoint();let b,x,E,k,P;E=f.getCTM();const C=E.a;return l?(b=le(g,l),x=b.matrixTransform(E.inverse()),k=p.translate(x.x,x.y).scale(1/C*s).translate(-x.x,-x.y),P=E.multiply(k)):P=p.scale(s),N0(this._viewport,P),P},fn.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},fn.prototype.getAbsoluteBBox=function(s){const l=this.viewbox();let d;return s.waypoints?d=this.getGraphics(s).getBBox():d=s,{x:d.x*l.scale-l.x*l.scale,y:d.y*l.scale-l.y*l.scale,width:d.width*l.scale,height:d.height*l.scale}},fn.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var bp="data-element-id";function Bs(s){this._elements={},this._eventBus=s}function oO(s,l,d){var f=function(p,g,b,x){var E=b.inverse;return Object.defineProperty(p,"remove",{value:function(k){var P=this.indexOf(k);return P!==-1&&(this.splice(P,1),g.unset(k,E,x)),k}}),Object.defineProperty(p,"contains",{value:function(k){return this.indexOf(k)!==-1}}),Object.defineProperty(p,"add",{value:function(k,P){var C=this.indexOf(k);if(P===void 0){if(C!==-1)return;P=this.length}C!==-1&&this.splice(C,1),this.splice(P,0,k),C===-1&&g.set(k,E,x)}}),Object.defineProperty(p,"__refs_collection",{value:!0}),p}(d[l.name]||[],s,l,d);Object.defineProperty(d,l.name,{enumerable:l.enumerable,value:f}),f.length&&f.forEach(function(p){s.set(p,l.inverse,d)})}function el(s,l){if(!(this instanceof el))return new el(s,l);s.inverse=l,l.inverse=s,this.props={},this.props[s.name]=s,this.props[l.name]=l}Bs.$inject=["eventBus"],Bs.prototype.add=function(s,l,d){var f=s.id;this._validateId(f),ut(l,bp,f),d&&ut(d,bp,f),this._elements[f]={element:s,gfx:l,secondaryGfx:d}},Bs.prototype.remove=function(s){var l=this._elements,d=s.id||s,f=d&&l[d];f&&(ut(f.gfx,bp,""),f.secondaryGfx&&ut(f.secondaryGfx,bp,""),delete l[d])},Bs.prototype.updateId=function(s,l){this._validateId(l),typeof s=="string"&&(s=this.get(s)),this._eventBus.fire("element.updateId",{element:s,newId:l});var d=this.getGraphics(s),f=this.getGraphics(s,!0);this.remove(s),s.id=l,this.add(s,d,f)},Bs.prototype.updateGraphics=function(s,l,d){var f=s.id||s,p=this._elements[f];return d?p.secondaryGfx=l:p.gfx=l,l&&ut(l,bp,f),l},Bs.prototype.get=function(s){var l;l=typeof s=="string"?s:s&&ut(s,bp);var d=this._elements[l];return d&&d.element},Bs.prototype.filter=function(s){var l=[];return this.forEach(function(d,f){s(d,f)&&l.push(d)}),l},Bs.prototype.find=function(s){for(var l=this._elements,d=Object.keys(l),f=0;f<d.length;f++){var p=l[d[f]],g=p.element;if(s(g,p.gfx))return g}},Bs.prototype.getAll=function(){return this.filter(function(s){return s})},Bs.prototype.forEach=function(s){var l=this._elements;Object.keys(l).forEach(function(d){var f=l[d],p=f.element,g=f.gfx;return s(p,g)})},Bs.prototype.getGraphics=function(s,l){var d=s.id||s,f=this._elements[d];return f&&(l?f.secondaryGfx:f.gfx)},Bs.prototype._validateId=function(s){if(!s)throw new Error("element must have an id");if(this._elements[s])throw new Error("element with id "+s+" already added")},el.prototype.bind=function(s,l){if(typeof l=="string"){if(!this.props[l])throw new Error("no property <"+l+"> in ref");l=this.props[l]}l.collection?oO(this,l,s):function(d,f,p){var g=f.inverse,b=p[f.name];Object.defineProperty(p,f.name,{configurable:f.configurable,enumerable:f.enumerable,get:function(){return b},set:function(x){if(x!==b){var E=b;b=null,E&&d.unset(E,g,p),b=x,d.set(b,g,p)}}})}(this,l,s)},el.prototype.ensureRefsCollection=function(s,l){var d=s[l.name];return function(f){return f.__refs_collection===!0}(d)||oO(this,l,s),d},el.prototype.ensureBound=function(s,l){(function(d,f){return Object.prototype.hasOwnProperty.call(d,f.name||f)})(s,l)||this.bind(s,l)},el.prototype.unset=function(s,l,d){s&&(this.ensureBound(s,l),l.collection?this.ensureRefsCollection(s,l).remove(d):s[l.name]=void 0)},el.prototype.set=function(s,l,d){s&&(this.ensureBound(s,l),l.collection?this.ensureRefsCollection(s,l).add(d):s[l.name]=d)};var n_=new el({name:"children",enumerable:!0,collection:!0},{name:"parent"}),r_=new el({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Kg=new el({name:"attachers",collection:!0},{name:"host"}),Xf=new el({name:"outgoing",collection:!0},{name:"source"}),sO=new el({name:"incoming",collection:!0},{name:"target"});function Zf(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(s){var l=this.label,d=this.labels;!s&&l?d.remove(l):d.add(s,0)}}),n_.bind(this,"parent"),r_.bind(this,"labels"),Xf.bind(this,"outgoing"),sO.bind(this,"incoming")}function xp(){Zf.call(this),n_.bind(this,"children"),Kg.bind(this,"host"),Kg.bind(this,"attachers")}function I0(){Zf.call(this),n_.bind(this,"children")}function F0(){xp.call(this),r_.bind(this,"labelTarget")}function i_(){Zf.call(this),Xf.bind(this,"source"),sO.bind(this,"target")}t(xp,Zf),t(I0,xp),t(F0,xp),t(i_,Zf);var a3={connection:i_,shape:xp,label:F0,root:I0};function Wl(){this._uid=12}Wl.prototype.createRoot=function(s){return this.create("root",s)},Wl.prototype.createLabel=function(s){return this.create("label",s)},Wl.prototype.createShape=function(s){return this.create("shape",s)},Wl.prototype.createConnection=function(s){return this.create("connection",s)},Wl.prototype.create=function(s,l){return(l=le({},l||{})).id||(l.id=s+"_"+this._uid++),function(d,f){var p=a3[d];if(!p)throw new Error("unknown type: <"+d+">");return le(new p,f)}(s,l)};var wp="__fn",l3=Array.prototype.slice;function Vs(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function is(){}function Nu(s){return s.childNodes[0]}function Yd(s,l,d,f,p){var g=ko();g.setTranslate(l,d);var b=ko();b.setRotate(f||0,0,0);var x=ko();x.setScale(1,1),Ru(s,[g,b,x])}function Co(s,l,d){var f=ko();f.setTranslate(l,d),Ru(s,f)}function o_(s,l){var d=ko();d.setRotate(l,0,0),Ru(s,d)}function ka(s,l){this._eventBus=s,this._elementRegistry=l}function aO(s,l,d){var f=d||l.firstChild;s!==f&&l.insertBefore(s,f)}Vs.prototype.on=function(s,l,d,f){if(s=y(s)?s:[s],T(l)&&(f=d,d=l,l=1e3),!S(l))throw new Error("priority must be a number");var p=d;f&&((p=Ue(d,f))[wp]=d[wp]||d);var g=this;s.forEach(function(b){g._addListener(b,{priority:l,callback:p,next:null})})},Vs.prototype.once=function(s,l,d,f){var p=this;if(T(l)&&(f=d,d=l,l=1e3),!S(l))throw new Error("priority must be a number");function g(){g.__isTomb=!0;var b=d.apply(f,arguments);return p.off(s,g),b}g[wp]=d,this.on(s,l,g)},Vs.prototype.off=function(s,l){s=y(s)?s:[s];var d=this;s.forEach(function(f){d._removeListener(f,l)})},Vs.prototype.createEvent=function(s){var l=new is;return l.init(s),l},Vs.prototype.fire=function(s,l){var d,f,p,g;if(g=l3.call(arguments),typeof s=="object"&&(s=(l=s).type),!s)throw new Error("no event type specified");if(f=this._listeners[s]){d=l instanceof is?l:this.createEvent(l),g[0]=d;var b=d.type;s!==b&&(d.type=s);try{p=this._invokeListeners(d,g,f)}finally{s!==b&&(d.type=b)}return p===void 0&&d.defaultPrevented&&(p=!1),p}},Vs.prototype.handleError=function(s){return this.fire("error",{error:s})===!1},Vs.prototype._destroy=function(){this._listeners={}},Vs.prototype._invokeListeners=function(s,l,d){for(var f;d&&!s.cancelBubble;)f=this._invokeListener(s,l,d),d=d.next;return f},Vs.prototype._invokeListener=function(s,l,d){var f;if(d.callback.__isTomb)return f;try{f=function(p,g){return p.apply(null,g)}(d.callback,l),f!==void 0&&(s.returnValue=f,s.stopPropagation()),f===!1&&s.preventDefault()}catch(p){if(!this.handleError(p))throw console.error("unhandled error in event listener",p),p}return f},Vs.prototype._addListener=function(s,l){var d,f=this._getListeners(s);if(f){for(;f;){if(f.priority<l.priority)return l.next=f,void(d?d.next=l:this._setListeners(s,l));d=f,f=f.next}d.next=l}else this._setListeners(s,l)},Vs.prototype._getListeners=function(s){return this._listeners[s]},Vs.prototype._setListeners=function(s,l){this._listeners[s]=l},Vs.prototype._removeListener=function(s,l){var d,f,p,g=this._getListeners(s);if(l)for(;g;)d=g.next,(p=g.callback)!==l&&p[wp]!==l||(f?f.next=d:this._setListeners(s,d)),f=g,g=d;else this._setListeners(s,null)},is.prototype.stopPropagation=function(){this.cancelBubble=!0},is.prototype.preventDefault=function(){this.defaultPrevented=!0},is.prototype.init=function(s){le(this,s||{})},ka.$inject=["eventBus","elementRegistry"],ka.prototype._getChildrenContainer=function(s){var l,d=this._elementRegistry.getGraphics(s);return s.parent?(l=function(f){return f.parentNode.childNodes[1]}(d),l||(ne(l=ot("g")).add("djs-children"),ct(d.parentNode,l))):l=d,l},ka.prototype._clear=function(s){var l=Nu(s);return ve(l),l},ka.prototype._createContainer=function(s,l,d,f){var p=ot("g");ne(p).add("djs-group"),d!==void 0?aO(p,l,l.childNodes[d]):ct(l,p);var g=ot("g");ne(g).add("djs-element"),ne(g).add("djs-"+s),f&&ne(g).add("djs-frame"),ct(p,g);var b=ot("g");return ne(b).add("djs-visual"),ct(g,b),g},ka.prototype.create=function(s,l,d){var f=this._getChildrenContainer(l.parent);return this._createContainer(s,f,d,Yw(l))},ka.prototype.updateContainments=function(s){var l,d=this,f=this._elementRegistry;l=X(s,function(p,g){return g.parent&&(p[g.parent.id]=g.parent),p},{}),R(l,function(p){var g=p.children;if(g){var b=d._getChildrenContainer(p);R(g.slice().reverse(),function(x){aO(f.getGraphics(x).parentNode,b)})}})},ka.prototype.drawShape=function(s,l,d={}){return this._eventBus.fire("render.shape",{gfx:s,element:l,attrs:d})},ka.prototype.getShapePath=function(s){return this._eventBus.fire("render.getShapePath",s)},ka.prototype.drawConnection=function(s,l,d={}){return this._eventBus.fire("render.connection",{gfx:s,element:l,attrs:d})},ka.prototype.getConnectionPath=function(s){return this._eventBus.fire("render.getConnectionPath",s)},ka.prototype.update=function(s,l,d){if(l.parent){var f=this._clear(d);if(s==="shape")this.drawShape(f,l),Co(d,l.x,l.y);else{if(s!=="connection")throw new Error("unknown type: "+s);this.drawConnection(f,l)}l.hidden?ut(d,"display","none"):ut(d,"display","block")}},ka.prototype.remove=function(s){Ee(this._elementRegistry.getGraphics(s).parentNode)};var c3={__depends__:[n3],__init__:["canvas"],canvas:["type",fn],elementRegistry:["type",Bs],elementFactory:["type",Wl],eventBus:["type",Vs],graphicsFactory:["type",ka]};function u3(s){return function(l){var d=new _a(l);return d.init(),d}([{config:["value",s=s||{}]},c3].concat(s.modules||[]))}function _p(s,l){this._injector=l=l||u3(s),this.get=l.get,this.invoke=l.invoke,this.get("eventBus").fire("diagram.init")}function Qd(){}function lO(s,l){this.model=s,this.properties=l}_p.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},_p.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},Qd.prototype.get=function(s){return this.$model.properties.get(this,s)},Qd.prototype.set=function(s,l){this.$model.properties.set(this,s,l)},lO.prototype.createType=function(s){var l=this.model,d=this.properties,f=Object.create(Qd.prototype);R(s.properties,function(b){b.isMany||b.default===void 0||(f[b.name]=b.default)}),d.defineModel(f,l),d.defineDescriptor(f,s);var p=s.ns.name;function g(b){d.define(this,"$type",{value:p,enumerable:!0}),d.define(this,"$attrs",{value:{}}),d.define(this,"$parent",{writable:!0}),R(b,Ue(function(x,E){this.set(E,x)},this))}return g.prototype=f,g.hasType=f.$instanceOf=this.model.hasType,d.defineModel(g,l),d.defineDescriptor(g,s),g};var d3={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},L0={String:function(s){return s},Boolean:function(s){return s==="true"},Integer:function(s){return parseInt(s,10)},Real:function(s){return parseFloat(s)}};function $0(s,l){var d=L0[s];return d?d(l):l}function Mc(s){return!!d3[s]}function Xg(s){return!!L0[s]}function Os(s,l){var d,f,p=s.split(/:/);if(p.length===1)d=s,f=l;else{if(p.length!==2)throw new Error("expected <prefix:localName> or <localName>, got "+s);d=p[1],f=p[0]}return{name:s=(f?f+":":"")+d,prefix:f,localName:d}}function Ca(s){this.ns=s,this.name=s.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Kd(s,l){this.packageMap={},this.typeMap={},this.packages=[],this.properties=l,R(s,Ue(this.registerPackage,this))}function Jf(s,l,d){var f=l[d];if(f in s)throw new Error("package with "+d+" <"+f+"> already defined")}function os(s){this.model=s}function s_(s,l,d){Object.defineProperty(s,l.name,{enumerable:!l.isReference,writable:!0,value:d,configurable:!0})}function a_(s){return s.replace(/^:/,"")}function tl(s,l={}){this.properties=new os(this),this.factory=new lO(this,this.properties),this.registry=new Kd(s,this.properties),this.typeCache={},this.config=l}Ca.prototype.build=function(){return Ze(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Ca.prototype.addProperty=function(s,l,d){typeof l=="boolean"&&(d=l,l=void 0),this.addNamedProperty(s,d!==!1);var f=this.properties;l!==void 0?f.splice(l,0,s):f.push(s)},Ca.prototype.replaceProperty=function(s,l,d){var f=s.ns,p=this.properties,g=this.propertiesByName,b=s.name!==l.name;if(s.isId){if(!l.isId)throw new Error("property <"+l.ns.name+"> must be id property to refine <"+s.ns.name+">");this.setIdProperty(l,!1)}if(s.isBody){if(!l.isBody)throw new Error("property <"+l.ns.name+"> must be body property to refine <"+s.ns.name+">");this.setBodyProperty(l,!1)}var x=p.indexOf(s);if(x===-1)throw new Error("property <"+f.name+"> not found in property list");p.splice(x,1),this.addProperty(l,d?void 0:x,b),g[f.name]=g[f.localName]=l},Ca.prototype.redefineProperty=function(s,l,d){var f=s.ns.prefix,p=l.split("#"),g=Os(p[0],f),b=Os(p[1],g.prefix).name,x=this.propertiesByName[b];if(!x)throw new Error("refined property <"+b+"> not found");this.replaceProperty(x,s,d),delete s.redefines},Ca.prototype.addNamedProperty=function(s,l){var d=s.ns,f=this.propertiesByName;l&&(this.assertNotDefined(s,d.name),this.assertNotDefined(s,d.localName)),f[d.name]=f[d.localName]=s},Ca.prototype.removeNamedProperty=function(s){var l=s.ns,d=this.propertiesByName;delete d[l.name],delete d[l.localName]},Ca.prototype.setBodyProperty=function(s,l){if(l&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+s.ns.name+">)");this.bodyProperty=s},Ca.prototype.setIdProperty=function(s,l){if(l&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+s.ns.name+">)");this.idProperty=s},Ca.prototype.assertNotTrait=function(s){if((s.extends||[]).length)throw new Error(`cannot create <${s.name}> extending <${s.extends}>`)},Ca.prototype.assertNotDefined=function(s,l){var d=s.name,f=this.propertiesByName[d];if(f)throw new Error("property <"+d+"> already defined; override of <"+f.definedBy.ns.name+"#"+f.ns.name+"> by <"+s.definedBy.ns.name+"#"+s.ns.name+"> not allowed without redefines")},Ca.prototype.hasProperty=function(s){return this.propertiesByName[s]},Ca.prototype.addTrait=function(s,l){l&&this.assertNotTrait(s);var d=this.allTypesByName,f=this.allTypes,p=s.name;p in d||(R(s.properties,Ue(function(g){g=le({},g,{name:g.ns.localName,inherited:l}),Object.defineProperty(g,"definedBy",{value:s});var b=g.replaces,x=g.redefines;b||x?this.redefineProperty(g,b||x,b):(g.isBody&&this.setBodyProperty(g),g.isId&&this.setIdProperty(g),this.addProperty(g))},this)),f.push(s),d[p]=s)},Kd.prototype.getPackage=function(s){return this.packageMap[s]},Kd.prototype.getPackages=function(){return this.packages},Kd.prototype.registerPackage=function(s){s=le({},s);var l=this.packageMap;Jf(l,s,"prefix"),Jf(l,s,"uri"),R(s.types,Ue(function(d){this.registerType(d,s)},this)),l[s.uri]=l[s.prefix]=s,this.packages.push(s)},Kd.prototype.registerType=function(s,l){var d=Os((s=le({},s,{superClass:(s.superClass||[]).slice(),extends:(s.extends||[]).slice(),properties:(s.properties||[]).slice(),meta:le(s.meta||{})})).name,l.prefix),f=d.name,p={};R(s.properties,Ue(function(g){var b=Os(g.name,d.prefix),x=b.name;Mc(g.type)||(g.type=Os(g.type,b.prefix).name),le(g,{ns:b,name:x}),p[x]=g},this)),le(s,{ns:d,name:f,propertiesByName:p}),R(s.extends,Ue(function(g){var b=Os(g,d.prefix),x=this.typeMap[b.name];x.traits=x.traits||[],x.traits.push(f)},this)),this.definePackage(s,l),this.typeMap[f]=s},Kd.prototype.mapTypes=function(s,l,d){var f=Mc(s.name)?{name:s.name}:this.typeMap[s.name],p=this;function g(x,E){var k=Os(x,Mc(x)?"":s.prefix);p.mapTypes(k,l,E)}function b(x){return g(x,!0)}if(!f)throw new Error("unknown type <"+s.name+">");R(f.superClass,d?b:function(x){return g(x,!1)}),l(f,!d),R(f.traits,b)},Kd.prototype.getEffectiveDescriptor=function(s){var l=Os(s),d=new Ca(l);this.mapTypes(l,function(p,g){d.addTrait(p,g)});var f=d.build();return this.definePackage(f,f.allTypes[f.allTypes.length-1].$pkg),f},Kd.prototype.definePackage=function(s,l){this.properties.define(s,"$pkg",{value:l})},os.prototype.set=function(s,l,d){if(!O(l)||!l.length)throw new TypeError("property name must be a non-empty string");var f=this.getProperty(s,l),p=f&&f.name;d===void 0?f?delete s[p]:delete s.$attrs[a_(l)]:f?p in s?s[p]=d:s_(s,f,d):s.$attrs[a_(l)]=d},os.prototype.get=function(s,l){var d=this.getProperty(s,l);if(!d)return s.$attrs[a_(l)];var f=d.name;return!s[f]&&d.isMany&&s_(s,d,[]),s[f]},os.prototype.define=function(s,l,d){if(!d.writable){var f=d.value;delete(d=le({},d,{get:function(){return f}})).value}Object.defineProperty(s,l,d)},os.prototype.defineDescriptor=function(s,l){this.define(s,"$descriptor",{value:l})},os.prototype.defineModel=function(s,l){this.define(s,"$model",{value:l})},os.prototype.getProperty=function(s,l){var d=this.model,f=d.getPropertyDescriptor(s,l);if(f)return f;if(l.includes(":"))return null;const p=d.config.strict;if(p!==void 0){const g=new TypeError(`unknown property <${l}> on <${s.$type}>`);if(p)throw g;typeof console<"u"&&console.warn(g)}return null},tl.prototype.create=function(s,l){var d=this.getType(s);if(!d)throw new Error("unknown type <"+s+">");return new d(l)},tl.prototype.getType=function(s){var l=this.typeCache,d=O(s)?s:s.ns.name,f=l[d];return f||(s=this.registry.getEffectiveDescriptor(d),f=l[d]=this.factory.createType(s)),f},tl.prototype.createAny=function(s,l,d){var f=Os(s),p={$type:s,$instanceOf:function(b){return b===this.$type},get:function(b){return this[b]},set:function(b,x){(function(E,k,P){let C=E;R(k,function(M,$){if(typeof M!="number"&&typeof M!="string")throw new Error("illegal key type: "+typeof M+". Key should be of type number or string.");if(M==="constructor")throw new Error("illegal key: constructor");if(M==="__proto__")throw new Error("illegal key: __proto__");let j=k[$+1],H=C[M];h(j)&&m(H)&&(H=C[M]=isNaN(+j)?{}:[]),u(j)?u(P)?delete C[M]:C[M]=P:C=H})})(this,[b],x)}},g={name:s,isGeneric:!0,ns:{prefix:f.prefix,localName:f.localName,uri:l}};return this.properties.defineDescriptor(p,g),this.properties.defineModel(p,this),this.properties.define(p,"get",{enumerable:!1,writable:!0}),this.properties.define(p,"set",{enumerable:!1,writable:!0}),this.properties.define(p,"$parent",{enumerable:!1,writable:!0}),this.properties.define(p,"$instanceOf",{enumerable:!1,writable:!0}),R(d,function(b,x){w(b)&&b.value!==void 0?p[b.name]=b.value:p[x]=b}),p},tl.prototype.getPackage=function(s){return this.registry.getPackage(s)},tl.prototype.getPackages=function(){return this.registry.getPackages()},tl.prototype.getElementDescriptor=function(s){return s.$descriptor},tl.prototype.hasType=function(s,l){return l===void 0&&(l=s,s=this),l in s.$model.getElementDescriptor(s).allTypesByName},tl.prototype.getPropertyDescriptor=function(s,l){return this.getElementDescriptor(s).propertiesByName[l]},tl.prototype.getTypeDescriptor=function(s){return this.registry.typeMap[s]};var f3=String.fromCharCode,h3=Object.prototype.hasOwnProperty,p3=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Dc={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function Me(s,l,d,f){return f?h3.call(Dc,f)?Dc[f]:"&"+f+";":f3(l||parseInt(d,16))}function Ge(s){return s.length>3&&s.indexOf("&")!==-1?s.replace(p3,Me):s}Object.keys(Dc).forEach(function(s){Dc[s.toUpperCase()]=Dc[s]});var He="xsi:type",Wt="non-whitespace outside of root node";function Cn(s){return new Error(s)}function Or(s){return"missing namespace for prefix <"+s+">"}function Xi(s){return{get:s,enumerable:!0}}function li(s){var l,d={};for(l in s)d[l]=s[l];return d}function Zg(s){return s+"$uri"}function cO(){return{line:0,column:0}}function nl(s){throw s}function Jg(s){if(!this)return new Jg(s);var l,d,f,p,g,b,x,E,k,P=s&&s.proxy,C=nl,M=cO,$=!1,j=!1,H=null,Y=!1;function q(ee){ee instanceof Error||(ee=Cn(ee)),H=ee,C(ee,M)}function W(ee){g&&(ee instanceof Error||(ee=Cn(ee)),g(ee,M))}this.on=function(ee,ie){if(typeof ie!="function")throw Cn("required args <name, cb>");switch(ee){case"openTag":d=ie;break;case"text":l=ie;break;case"closeTag":f=ie;break;case"error":C=ie;break;case"warn":g=ie;break;case"cdata":p=ie;break;case"attention":E=ie;break;case"question":x=ie;break;case"comment":b=ie;break;default:throw Cn("unsupported event: "+ee)}return this},this.ns=function(ee){if(ee===void 0&&(ee={}),typeof ee!="object")throw Cn("required args <nsMap={}>");var ie,oe={};for(ie in ee)oe[ie]=ee[ie];return oe["http://www.w3.org/2001/XMLSchema-instance"]="xsi",j=!0,k=oe,this},this.parse=function(ee){if(typeof ee!="string")throw Cn("required args <xml=string>");return H=null,function(ie){var oe,ke,Pe,Oe,Le,Qt,ft,Be,et,xn,un,hn=j?[]:null,Tn=j?function(ei){var Sr,xr,ti={};for(Sr in ei)ti[xr=ei[Sr]]=xr,ti[Zg(xr)]=Sr;return ti}(k):null,Wr=[],Ir=0,Qr=!1,vr=!1,lr=0,It=0,Jr="",Tr=0;function Jl(){if(un!==null)return un;var ei,Sr,xr,ti,Kr,Fr,Ri,Un,Mi,de,G,J=j&&Tn.xmlns,De=j&&$?[]:null,Ve=Tr,Tt=Jr,wn=Tt.length,tr={},Di={};e:for(;Ve<wn;Ve++)if(Mi=!1,!((de=Tt.charCodeAt(Ve))===32||de<14&&de>8)){for((de<65||de>122||de>90&&de<97)&&de!==95&&de!==58&&(W("illegal first char attribute name"),Mi=!0),G=Ve+1;G<wn;G++)if(!((de=Tt.charCodeAt(G))>96&&de<123||de>64&&de<91||de>47&&de<59||de===46||de===45||de===95)){if(de===32||de<14&&de>8){W("missing attribute value"),Ve=G;continue e}if(de===61)break;W("illegal attribute name char"),Mi=!0}if((Un=Tt.substring(Ve,G))==="xmlns:xmlns"&&(W("illegal declaration of xmlns"),Mi=!0),(de=Tt.charCodeAt(G+1))===34)(G=Tt.indexOf('"',Ve=G+2))===-1&&(G=Tt.indexOf("'",Ve))!==-1&&(W("attribute value quote missmatch"),Mi=!0);else if(de===39)(G=Tt.indexOf("'",Ve=G+2))===-1&&(G=Tt.indexOf('"',Ve))!==-1&&(W("attribute value quote missmatch"),Mi=!0);else for(W("missing attribute value quotes"),Mi=!0,G+=1;G<wn&&!((de=Tt.charCodeAt(G+1))===32||de<14&&de>8);G++);for(G===-1&&(W("missing closing quotes"),G=wn,Mi=!0),Mi||(Fr=Tt.substring(Ve,G)),Ve=G;G+1<wn&&!((de=Tt.charCodeAt(G+1))===32||de<14&&de>8);G++)Ve===G&&(W("illegal character after attribute end"),Mi=!0);if(Ve=G+1,!Mi)if(Un in Di)W("attribute <"+Un+"> already defined");else if(Di[Un]=!0,j)if($){if((Kr=Un==="xmlns"?"xmlns":Un.charCodeAt(0)===120&&Un.substr(0,6)==="xmlns:"?Un.substr(6):null)!==null){if(ei=Ge(Fr),Sr=Zg(Kr),!(Ri=k[ei])){if(Kr==="xmlns"||Sr in Tn&&Tn[Sr]!==ei)do Ri="ns"+Ir++;while(Tn[Ri]!==void 0);else Ri=Kr;k[ei]=Ri}Tn[Kr]!==Ri&&(ti||(Tn=li(Tn),ti=!0),Tn[Kr]=Ri,Kr==="xmlns"&&(Tn[Zg(Ri)]=ei,J=Ri),Tn[Sr]=ei),tr[Un]=Fr;continue}De.push(Un,Fr)}else(de=Un.indexOf(":"))!==-1?(xr=Tn[Un.substring(0,de)])?((Un=J===xr?Un.substr(de+1):xr+Un.substr(de))===He&&((de=Fr.indexOf(":"))!==-1?(xr=Fr.substring(0,de),Fr=(xr=Tn[xr]||xr)+Fr.substring(de)):Fr=J+":"+Fr),tr[Un]=Fr):W(Or(Un.substring(0,de))):tr[Un]=Fr;else tr[Un]=Fr}if($)for(Ve=0,wn=De.length;Ve<wn;Ve++){if(Un=De[Ve++],Fr=De[Ve],(de=Un.indexOf(":"))!==-1){if(!(xr=Tn[Un.substring(0,de)])){W(Or(Un.substring(0,de)));continue}(Un=J===xr?Un.substr(de+1):xr+Un.substr(de))===He&&((de=Fr.indexOf(":"))!==-1?(xr=Fr.substring(0,de),Fr=(xr=Tn[xr]||xr)+Fr.substring(de)):Fr=J+":"+Fr)}tr[Un]=Fr}return un=tr}function Fa(){for(var ei,Sr,xr=/(\r\n|\r|\n)/g,ti=0,Kr=0,Fr=0,Ri=It;lr>=Fr&&(ei=xr.exec(ie))&&!((Ri=ei[0].length+ei.index)>lr);)ti+=1,Fr=Ri;return lr==-1?(Kr=Ri,Sr=ie.substring(It)):It===0?Sr=ie.substring(It,lr):(Kr=lr-Fr,Sr=It==-1?ie.substring(lr):ie.substring(lr,It+1)),{data:Sr,line:ti,column:Kr}}for(M=Fa,P&&(xn=Object.create({},{name:Xi(function(){return Be}),originalName:Xi(function(){return et}),attrs:Xi(Jl),ns:Xi(function(){return Tn})}));It!==-1;){if((lr=ie.charCodeAt(It)===60?It:ie.indexOf("<",It))===-1)return Wr.length?q("unexpected end of file"):It===0?q("missing start tag"):void(It<ie.length&&ie.substring(It).trim()&&W(Wt));if(It!==lr){if(Wr.length){if(l&&(l(ie.substring(It,lr),Ge,M),Y))return}else if(ie.substring(It,lr).trim()&&(W(Wt),Y))return}if((Le=ie.charCodeAt(lr+1))===33){if((Oe=ie.charCodeAt(lr+2))===91&&ie.substr(lr+3,6)==="CDATA["){if((It=ie.indexOf("]]>",lr))===-1)return q("unclosed cdata");if(p&&(p(ie.substring(lr+9,It),M),Y))return;It+=3;continue}if(Oe===45&&ie.charCodeAt(lr+3)===45){if((It=ie.indexOf("-->",lr))===-1)return q("unclosed comment");if(b&&(b(ie.substring(lr+4,It),Ge,M),Y))return;It+=3;continue}}if(Le!==63){for(ke=lr+1;;ke++){if(Qt=ie.charCodeAt(ke),isNaN(Qt))return It=-1,q("unclosed tag");if(Qt===34)ke=(Oe=ie.indexOf('"',ke+1))!==-1?Oe:ke;else if(Qt===39)ke=(Oe=ie.indexOf("'",ke+1))!==-1?Oe:ke;else if(Qt===62){It=ke;break}}if(Le!==33){if(un={},Le===47){if(Qr=!1,vr=!0,!Wr.length)return q("missing open tag");if(ke=Be=Wr.pop(),Oe=lr+2+ke.length,ie.substring(lr+2,Oe)!==ke)return q("closing tag mismatch");for(;Oe<It;Oe++)if(!((Le=ie.charCodeAt(Oe))===32||Le>8&&Le<14))return q("close tag")}else{if(ie.charCodeAt(It-1)===47?(ke=Be=ie.substring(lr+1,It-1),Qr=!0,vr=!0):(ke=Be=ie.substring(lr+1,It),Qr=!0,vr=!1),!(Le>96&&Le<123||Le>64&&Le<91||Le===95||Le===58))return q("illegal first char nodeName");for(Oe=1,Pe=ke.length;Oe<Pe;Oe++)if(!((Le=ke.charCodeAt(Oe))>96&&Le<123||Le>64&&Le<91||Le>47&&Le<59||Le===45||Le===95||Le==46)){if(Le===32||Le<14&&Le>8){Be=ke.substring(0,Oe),un=null;break}return q("invalid nodeName")}vr||Wr.push(Be)}if(j){if(oe=Tn,Qr&&(vr||hn.push(oe),un===null&&($=ke.indexOf("xmlns",Oe)!==-1)&&(Tr=Oe,Jr=ke,Jl(),$=!1)),et=Be,(Le=Be.indexOf(":"))!==-1){if(!(ft=Tn[Be.substring(0,Le)]))return q("missing namespace on <"+et+">");Be=Be.substr(Le+1)}else ft=Tn.xmlns;ft&&(Be=ft+":"+Be)}if(Qr&&(Tr=Oe,Jr=ke,d&&(P?d(xn,Ge,vr,M):d(Be,Jl,Ge,vr,M),Y)))return;if(vr){if(f&&(f(P?xn:Be,Ge,Qr,M),Y))return;j&&(Tn=Qr?oe:hn.pop())}It+=1}else{if(E&&(E(ie.substring(lr,It+1),Ge,M),Y))return;It+=1}}else{if((It=ie.indexOf("?>",lr))===-1)return q("unclosed question");if(x&&(x(ie.substring(lr,It+2),M),Y))return;It+=2}}}(ee),M=cO,Y=!1,H},this.stop=function(){Y=!0}}function uO(s){return s.xml&&s.xml.tagAlias==="lowerCase"}var Ep={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},eh="xsi:type";function ev(s){return s.xml&&s.xml.serialize}function Vr(s){return ev(s)===eh}function dO(s,l){return uO(l)?s.prefix+":"+((d=s.localName).charAt(0).toUpperCase()+d.slice(1)):s.name;var d}function Iu(s){return new Error(s)}function rl(s){return s.$descriptor}function m3(s){le(this,s),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(l){this.references.push(l)},this.addElement=function(l){if(!l)throw Iu("expected element");var d,f=this.elementsById,p=rl(l).idProperty;if(p&&(d=l.get(p.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(d))throw new Error("illegal ID <"+d+">");if(f[d])throw Iu("duplicate ID <"+d+">");f[d]=l}},this.addWarning=function(l){this.warnings.push(l)}}function tv(){}function l_(){}function Fu(){}function il(s,l){this.property=s,this.context=l}function Sp(s,l){this.element=l,this.propertyDesc=s}function nv(){}function Oo(s,l,d){this.model=s,this.type=s.getType(l),this.context=d}function j0(s,l,d){Oo.call(this,s,l,d)}function th(s,l,d){this.model=s,this.context=d}function kp(s){s instanceof tl&&(s={model:s}),le(this,{lax:!1},s)}tv.prototype.handleEnd=function(){},tv.prototype.handleText=function(){},tv.prototype.handleNode=function(){},l_.prototype=Object.create(tv.prototype),l_.prototype.handleNode=function(){return this},Fu.prototype=Object.create(tv.prototype),Fu.prototype.handleText=function(s){this.body=(this.body||"")+s},il.prototype=Object.create(Fu.prototype),il.prototype.handleNode=function(s){if(this.element)throw Iu("expected no sub nodes");return this.element=this.createReference(s),this},il.prototype.handleEnd=function(){this.element.id=this.body},il.prototype.createReference=function(s){return{property:this.property.ns.name,id:""}},Sp.prototype=Object.create(Fu.prototype),Sp.prototype.handleEnd=function(){var s=this.body||"",l=this.element,d=this.propertyDesc;s=$0(d.type,s),d.isMany?l.get(d.name).push(s):l.set(d.name,s)},nv.prototype=Object.create(Fu.prototype),nv.prototype.handleNode=function(s){var l=this,d=this.element;return d?l=this.handleChild(s):(d=this.element=this.createElement(s),this.context.addElement(d)),l},Oo.prototype=Object.create(nv.prototype),Oo.prototype.addReference=function(s){this.context.addReference(s)},Oo.prototype.handleText=function(s){if(!rl(this.element).bodyProperty)throw Iu("unexpected body text <"+s+">");Fu.prototype.handleText.call(this,s)},Oo.prototype.handleEnd=function(){var s=this.body,l=this.element,d=rl(l).bodyProperty;d&&s!==void 0&&(s=$0(d.type,s),l.set(d.name,s))},Oo.prototype.createElement=function(s){var l,d=s.attributes,f=this.type,p=rl(f),g=this.context,b=new f({}),x=this.model;return R(d,function(E,k){var P=p.propertiesByName[k];P&&P.isReference?P.isMany?R(E.split(" "),function(C){g.addReference({element:b,property:P.ns.name,id:C})}):g.addReference({element:b,property:P.ns.name,id:E}):(P?E=$0(P.type,E):k!=="xmlns"&&(l=Os(k,p.ns.prefix),x.getPackage(l.prefix)&&g.addWarning({message:"unknown attribute <"+k+">",element:b,property:k,value:E})),b.set(k,E))}),b},Oo.prototype.getPropertyForNode=function(s){var l,d,f=Os(s.name),p=this.type,g=this.model,b=rl(p),x=f.name,E=b.propertiesByName[x];if(E&&!E.isAttr)return Vr(E)&&(l=s.attributes[eh])?(l=function(P,C){var M=Os(P);return function($,j){var H=$.name,Y=$.localName,q=j.xml&&j.xml.typePrefix;return q&&Y.indexOf(q)===0?$.prefix+":"+Y.slice(q.length):H}(M,C.getPackage(M.prefix))}(l,g),le({},E,{effectiveType:rl(d=g.getType(l)).name})):E;var k=g.getPackage(f.prefix);if(k){if(l=dO(f,k),d=g.getType(l),E=D(b.properties,function(P){return!P.isVirtual&&!P.isReference&&!P.isAttribute&&d.hasType(P.type)}),E)return le({},E,{effectiveType:rl(d).name})}else if(E=D(b.properties,function(P){return!P.isReference&&!P.isAttribute&&P.type==="Element"}),E)return E;throw Iu("unrecognized element <"+f.name+">")},Oo.prototype.toString=function(){return"ElementDescriptor["+rl(this.type).name+"]"},Oo.prototype.valueHandler=function(s,l){return new Sp(s,l)},Oo.prototype.referenceHandler=function(s){return new il(s,this.context)},Oo.prototype.handler=function(s){return s==="Element"?new th(this.model,s,this.context):new Oo(this.model,s,this.context)},Oo.prototype.handleChild=function(s){var l,d,f,p;if(l=this.getPropertyForNode(s),f=this.element,Xg(d=l.effectiveType||l.type))return this.valueHandler(l,f);var g=(p=l.isReference?this.referenceHandler(l).handleNode(s):this.handler(d).handleNode(s)).element;return g!==void 0&&(l.isMany?f.get(l.name).push(g):f.set(l.name,g),l.isReference?(le(g,{element:f}),this.context.addReference(g)):g.$parent=f),p},j0.prototype=Object.create(Oo.prototype),j0.prototype.createElement=function(s){var l=s.name,d=Os(l),f=this.model,p=this.type,g=f.getPackage(d.prefix),b=g&&dO(d,g)||l;if(!p.hasType(b))throw Iu("unexpected element <"+s.originalName+">");return Oo.prototype.createElement.call(this,s)},th.prototype=Object.create(nv.prototype),th.prototype.createElement=function(s){var l=s.name,d=Os(l).prefix,f=s.ns[d+"$uri"],p=s.attributes;return this.model.createAny(l,f,p)},th.prototype.handleChild=function(s){var l=new th(this.model,"Element",this.context).handleNode(s),d=this.element,f=l.element;return f!==void 0&&((d.$children=d.$children||[]).push(f),f.$parent=d),l},th.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},kp.prototype.fromXML=function(s,l,d){var f=l.rootHandler;l instanceof Oo?(f=l,l={}):typeof l=="string"?(f=this.handler(l),l={}):typeof f=="string"&&(f=this.handler(f));var p=this.model,g=this.lax,b=new m3(le({},l,{rootHandler:f})),x=new Jg({proxy:!0}),E=function(){var Y=[];return Object.defineProperty(Y,"peek",{value:function(){return this[this.length-1]}}),Y}();function k(Y,q,W){var ee=q(),ie=ee.line,oe=ee.column,ke=ee.data;ke.charAt(0)==="<"&&ke.indexOf(" ")!==-1&&(ke=ke.slice(0,ke.indexOf(" "))+">");var Pe="unparsable content "+(ke?ke+" ":"")+`detected
	line: `+ie+`
	column: `+oe+`
	nested error: `+Y.message;if(W)return b.addWarning({message:Pe,error:Y}),!0;throw Iu(Pe)}function P(Y,q){return k(Y,q,!0)}f.context=b,E.push(f);var C=/^<\?xml /i,M=/ encoding="([^"]+)"/i,$=/^utf-8$/i;function j(Y,q){try{E.peek().handleText(Y)}catch(W){P(W,q)}}var H=p.getPackages().reduce(function(Y,q){return Y[q.uri]=q.prefix,Y},{"http://www.w3.org/XML/1998/namespace":"xml"});return x.ns(H).on("openTag",function(Y,q,W,ee){var ie=Y.attrs||{},oe=Object.keys(ie).reduce(function(ke,Pe){var Oe=q(ie[Pe]);return ke[Pe]=Oe,ke},{});(function(ke,Pe){var Oe=E.peek();try{E.push(Oe.handleNode(ke))}catch(Le){k(Le,Pe,g)&&E.push(new l_)}})({name:Y.name,originalName:Y.originalName,attributes:oe,ns:Y.ns},ee)}).on("question",function(Y){if(C.test(Y)){var q=M.exec(Y),W=q&&q[1];W&&!$.test(W)&&b.addWarning({message:"unsupported document encoding <"+W+">, falling back to UTF-8"})}}).on("closeTag",function(){E.pop().handleEnd()}).on("cdata",j).on("text",function(Y,q,W){(function(ee,ie){ee.trim()&&j(ee,ie)})(q(Y),W)}).on("error",k).on("warn",P),new Promise(function(Y,q){var W;try{x.parse(s),function(){var Pe,Oe,Le=b.elementsById,Qt=b.references;for(Pe=0;Oe=Qt[Pe];Pe++){var ft=Oe.element,Be=Le[Oe.id],et=rl(ft).propertiesByName[Oe.property];if(Be||b.addWarning({message:"unresolved reference <"+Oe.id+">",element:Oe.element,property:Oe.property,value:Oe.id}),et.isMany){var xn=ft.get(et.name),un=xn.indexOf(Oe);un===-1&&(un=xn.length),Be?xn[un]=Be:xn.splice(un,1)}else ft.set(et.name,Be)}}()}catch(Pe){W=Pe}var ee=f.element;W||ee||(W=Iu("failed to parse document as <"+f.type.$descriptor.name+">"));var ie=b.warnings,oe=b.references,ke=b.elementsById;return W?(W.warnings=ie,q(W)):Y({rootElement:ee,elementsById:ke,references:oe,warnings:ie})})},kp.prototype.handler=function(s){return new j0(this.model,s)};var fO=/<|>|'|"|&|\n\r|\n/g,Cp=/<|>|&/g;function nh(s){var l={},d={},f={},p=[],g=[];this.byUri=function(b){return d[b]||s&&s.byUri(b)},this.add=function(b,x){d[b.uri]=b,x?p.push(b):g.push(b),this.mapPrefix(b.prefix,b.uri)},this.uriByPrefix=function(b){return l[b||"xmlns"]},this.mapPrefix=function(b,x){l[b||"xmlns"]=x},this.getNSKey=function(b){return b.prefix!==void 0?b.uri+"|"+b.prefix:b.uri},this.logUsed=function(b){var x=b.uri,E=this.getNSKey(b);f[E]=this.byUri(x),s&&s.logUsed(b)},this.getUsed=function(b){var x=this;return[].concat(p,g).filter(function(E){var k=x.getNSKey(E);return f[k]})}}function B0(s,l){return uO(l)?(d=s).charAt(0).toLowerCase()+d.slice(1):s;var d}function hO(s,l){s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}function pO(s){return O(s)?s:(s.prefix?s.prefix+":":"")+s.localName}var g3={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},V0={"<":"lt",">":"gt","&":"amp"};function rv(s,l,d){return(s=O(s)?s:""+s).replace(l,function(f){return"&"+d[f]+";"})}function iv(s){this.tagName=s}function rh(){}function z0(s){this.tagName=s}function bi(s,l){this.body=[],this.attrs=[],this.parent=s,this.propertyDescriptor=l}function H0(s,l){bi.call(this,s,l)}function To(){this.value="",this.write=function(s){this.value+=s}}function Ts(s,l){var d=[""];this.append=function(f){return s.write(f),this},this.appendNewLine=function(){return l&&s.write(`
`),this},this.appendIndent=function(){return l&&s.write(d.join("  ")),this},this.indent=function(){return d.push(""),this},this.unindent=function(){return d.pop(),this}}function v3(s){return s=le({format:!1,preamble:!0},s||{}),{toXML:function(l,d){var f=d||new To,p=new Ts(f,s.format);if(s.preamble&&p.append(`<?xml version="1.0" encoding="UTF-8"?>
`),new bi().build(l).serializeTo(p),!d)return f.value}}}function W0(s,l){tl.call(this,s,l)}iv.prototype.build=function(s){return this.element=s,this},iv.prototype.serializeTo=function(s){s.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},rh.prototype.serializeValue=rh.prototype.serializeTo=function(s){s.append(this.escape?rv(this.value,Cp,V0):this.value)},rh.prototype.build=function(s,l){return this.value=l,s.type==="String"&&l.search(Cp)!==-1&&(this.escape=!0),this},hO(z0,rh),z0.prototype.serializeTo=function(s){s.appendIndent().append("<"+this.tagName+">"),this.serializeValue(s),s.append("</"+this.tagName+">").appendNewLine()},bi.prototype.build=function(s){this.element=s;var l,d,f=s.$descriptor,p=this.propertyDescriptor,g=f.isGeneric;return l=g?this.parseGeneric(s):this.parseNsAttributes(s),this.ns=p?this.nsPropertyTagName(p):this.nsTagName(f),this.tagName=this.addTagName(this.ns),g||(d=function(b){return I(b.$descriptor.properties,function(x){var E=x.name;if(x.isVirtual||!N(b,E))return!1;var k=b[E];return k!==x.default&&k!==null&&(!x.isMany||k.length)})}(s),this.parseAttributes(I(d,function(b){return b.isAttr})),this.parseContainments(function(b){return I(b,function(x){return!x.isAttr})}(d))),this.parseGenericAttributes(s,l),this},bi.prototype.nsTagName=function(s){return function(l,d){return d.isGeneric?le({localName:d.ns.localName},l):le({localName:B0(d.ns.localName,d.$pkg)},l)}(this.logNamespaceUsed(s.ns),s)},bi.prototype.nsPropertyTagName=function(s){return function(l,d){return le({localName:d.ns.localName},l)}(this.logNamespaceUsed(s.ns),s)},bi.prototype.isLocalNs=function(s){return s.uri===this.ns.uri},bi.prototype.nsAttributeName=function(s){var l;if(l=O(s)?Os(s):s.ns,s.inherited)return{localName:l.localName};var d=this.logNamespaceUsed(l);return this.getNamespaces().logUsed(d),this.isLocalNs(d)?{localName:l.localName}:le({localName:l.localName},d)},bi.prototype.parseGeneric=function(s){var l=this,d=this.body,f=[];return R(s,function(p,g){g==="$body"?d.push(new rh().build({type:"String"},p)):g==="$children"?R(p,function(b){d.push(new bi(l).build(b))}):g.indexOf("$")!==0&&l.parseNsAttribute(s,g,p)&&f.push({name:g,value:p})}),f},bi.prototype.parseNsAttribute=function(s,l,d){var f,p=s.$model,g=Os(l);if(g.prefix==="xmlns"&&(f={prefix:g.localName,uri:d}),g.prefix||g.localName!=="xmlns"||(f={uri:d}),!f)return{name:l,value:d};if(p&&p.getPackage(d))this.logNamespace(f,!0,!0);else{var b=this.logNamespaceUsed(f,!0);this.getNamespaces().logUsed(b)}},bi.prototype.parseNsAttributes=function(s,l){var d=this,f=s.$attrs,p=[];return R(f,function(g,b){var x=d.parseNsAttribute(s,b,g);x&&p.push(x)}),p},bi.prototype.parseGenericAttributes=function(s,l){var d=this;R(l,function(f){if(f.name!==eh)try{d.addAttribute(d.nsAttributeName(f.name),f.value)}catch(p){console.warn("missing namespace information for ",f.name,"=",f.value,"on",s,p)}})},bi.prototype.parseContainments=function(s){var l=this,d=this.body,f=this.element;R(s,function(p){var g=f.get(p.name),b=p.isReference;if(p.isMany||(g=[g]),p.isBody)d.push(new rh().build(p,g[0]));else if(Xg(p.type))R(g,function(k){d.push(new z0(l.addTagName(l.nsPropertyTagName(p))).build(p,k))});else if(b)R(g,function(k){d.push(new iv(l.addTagName(l.nsPropertyTagName(p))).build(k))});else{var x=Vr(p),E=function(k){return ev(k)==="property"}(p);R(g,function(k){var P;P=x?new H0(l,p):E?new bi(l,p):new bi(l),d.push(P.build(k))})}})},bi.prototype.getNamespaces=function(s){var l,d=this.namespaces,f=this.parent;return d||(l=f&&f.getNamespaces(),s||!l?this.namespaces=d=new nh(l):d=l),d},bi.prototype.logNamespace=function(s,l,d){var f=this.getNamespaces(d),p=s.uri,g=s.prefix;return f.byUri(p)&&!d||f.add(s,l),f.mapPrefix(g,p),s},bi.prototype.logNamespaceUsed=function(s,l){var d,f,p,g=this.element.$model,b=this.getNamespaces(l),x=s.prefix,E=s.uri;if(!x&&!E)return{localName:s.localName};if(p=Ep[x]||g&&(g.getPackage(x)||{}).uri,!(E=E||p||b.uriByPrefix(x)))throw new Error("no namespace uri given for prefix <"+x+">");if(!(s=b.byUri(E))){for(d=x,f=1;b.uriByPrefix(d);)d=x+"_"+f++;s=this.logNamespace({prefix:d,uri:E},p===E)}return x&&b.mapPrefix(x,E),s},bi.prototype.parseAttributes=function(s){var l=this,d=this.element;R(s,function(f){var p=d.get(f.name);if(f.isReference)if(f.isMany){var g=[];R(p,function(b){g.push(b.id)}),p=g.join(" ")}else p=p.id;l.addAttribute(l.nsAttributeName(f),p)})},bi.prototype.addTagName=function(s){var l=this.logNamespaceUsed(s);return this.getNamespaces().logUsed(l),pO(s)},bi.prototype.addAttribute=function(s,l){var d=this.attrs;O(l)&&(l=rv(l,fO,g3));var f=F(d,function(g){return g.name.localName===s.localName&&g.name.uri===s.uri&&g.name.prefix===s.prefix}),p={name:s,value:l};f!==-1?d.splice(f,1,p):d.push(p)},bi.prototype.serializeAttributes=function(s){var l=this.attrs,d=this.namespaces;d&&(l=function(f){return f.getUsed().filter(function(p){return p.prefix!=="xml"}).map(function(p){return{name:"xmlns"+(p.prefix?":"+p.prefix:""),value:p.uri}})}(d).concat(l)),R(l,function(f){s.append(" ").append(pO(f.name)).append('="').append(f.value).append('"')})},bi.prototype.serializeTo=function(s){var l=this.body[0],d=l&&l.constructor!==rh;s.appendIndent().append("<"+this.tagName),this.serializeAttributes(s),s.append(l?">":" />"),l&&(d&&s.appendNewLine().indent(),R(this.body,function(f){f.serializeTo(s)}),d&&s.unindent().appendIndent(),s.append("</"+this.tagName+">")),s.appendNewLine()},hO(H0,bi),H0.prototype.parseNsAttributes=function(s){var l=bi.prototype.parseNsAttributes.call(this,s),d=s.$descriptor;if(d.name===this.propertyDescriptor.type)return l;var f=this.typeNs=this.nsTagName(d);this.getNamespaces().logUsed(this.typeNs);var p=s.$model.getPackage(f.uri),g=p.xml&&p.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(eh),(f.prefix?f.prefix+":":"")+g+d.ns.localName),l},H0.prototype.isLocalNs=function(s){return s.uri===(this.typeNs||this.ns).uri},W0.prototype=Object.create(tl.prototype),W0.prototype.fromXML=function(s,l,d){O(l)||(d=l,l="bpmn:Definitions");var f=new kp(le({model:this,lax:!0},d)),p=f.handler(l);return f.fromXML(s,p)},W0.prototype.toXML=function(s,l){var d=new v3(l);return new Promise(function(f,p){try{return f({xml:d.toXML(s)})}catch(g){return p(g)}})};var mO={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function y3(s,l){return new W0(le({},mO,s),l)}function Po(s){return s?"<"+s.$type+(s.id?' id="'+s.id:"")+'" />':"<null>"}var ov="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function q0(s){N(s,"di")||Object.defineProperty(s,"di",{enumerable:!1,get:function(){throw new Error(ov)}})}function po(s,l){return s.$instanceOf(l)}function sv(s,l){var d={},f=[],p={};function g(Be,et){return function(xn){Be(xn,et)}}function b(Be){d[Be.id]=Be}function x(Be,et){try{var xn=p[Be.id]&&function(un,hn){if(un.gfx)throw new Error(l("already rendered {element}",{element:Po(un)}));return s.element(un,p[un.id],hn)}(Be,et);return b(Be),xn}catch(un){E(un.message,{element:Be,error:un}),console.error(l("failed to import {element}",{element:Po(Be)})),console.error(un)}}function E(Be,et){s.error(Be,et)}var k=this.registerDi=function(Be){var et=Be.bpmnElement;et?p[et.id]?E(l("multiple DI elements defined for {element}",{element:Po(et)}),{element:et}):(p[et.id]=Be,q0(et)):E(l("no bpmnElement referenced in {element}",{element:Po(Be)}),{element:Be})};function P(Be){var et;et=Be.plane,k(et),R(et.planeElement,C)}function C(Be){k(Be)}this.handleDefinitions=function(Be,et){var xn=Be.diagrams;if(et&&xn.indexOf(et)===-1)throw new Error(l("diagram not part of bpmn:Definitions"));if(!et&&xn&&xn.length&&(et=xn[0]),!et)throw new Error(l("no diagram to display"));p={},P(et);var un=et.plane;if(!un)throw new Error(l("no plane for {element}",{element:Po(et)}));var hn=un.bpmnElement;if(!hn){if(hn=function(Qr){return D(Qr.rootElements,function(vr){return po(vr,"bpmn:Process")||po(vr,"bpmn:Collaboration")})}(Be),!hn)throw new Error(l("no process or collaboration to display"));E(l("correcting missing bpmnElement on {plane} to {rootElement}",{plane:Po(un),rootElement:Po(hn)})),un.bpmnElement=hn,k(un)}var Tn,Wr,Ir=function(Qr,vr){return s.root(Qr,p[Qr.id],vr)}(hn,un);if(po(hn,"bpmn:Process")||po(hn,"bpmn:SubProcess"))$(hn,Ir);else{if(!po(hn,"bpmn:Collaboration"))throw new Error(l("unsupported bpmnElement for {plane}: {rootElement}",{plane:Po(un),rootElement:Po(hn)}));Wr=Ir,R((Tn=hn).participants,g(ft,Wr)),ee(Tn.artifacts,Wr),f.push(function(){(function(Qr,vr){R(Qr,g(j,vr))})(Tn.messageFlows,Wr)}),function(Qr,vr){var lr=I(Qr,function(It){return!d[It.id]&&po(It,"bpmn:Process")&&It.laneSets});lr.forEach(g($,vr))}(Be.rootElements,Ir)}M(f)};var M=this.handleDeferred=function(){for(;f.length;)f.shift()()};function $(Be,et){Qt(Be,et),ie(Be.ioSpecification,et),ee(Be.artifacts,et),b(Be)}function j(Be,et){x(Be,et)}function H(Be,et){x(Be,et)}function Y(Be,et){x(Be,et)}function q(Be,et){x(Be,et)}function W(Be,et){x(Be,et)}function ee(Be,et){R(Be,function(xn){po(xn,"bpmn:Association")?f.push(function(){W(xn,et)}):W(xn,et)})}function ie(Be,et){Be&&(R(Be.dataInputs,g(Y,et)),R(Be.dataOutputs,g(q,et)))}var oe=this.handleSubProcess=function(Be,et){Qt(Be,et),ee(Be.artifacts,et)};function ke(Be,et){var xn=x(Be,et);po(Be,"bpmn:SubProcess")&&oe(Be,xn||et),po(Be,"bpmn:Activity")&&ie(Be.ioSpecification,et),f.push(function(){R(Be.dataInputAssociations,g(H,et)),R(Be.dataOutputAssociations,g(H,et))})}function Pe(Be,et){x(Be,et)}function Oe(Be,et){f.push(function(){var xn=x(Be,et);Be.childLaneSet&&Le(Be.childLaneSet,xn||et),function(un){R(un.flowNodeRef,function(hn){var Tn=hn.get("lanes");Tn&&Tn.push(un)})}(Be)})}function Le(Be,et){R(Be.lanes,g(Oe,et))}function Qt(Be,et){(function(xn,un){R(xn,function(hn){po(hn,"bpmn:SequenceFlow")?f.push(function(){(function(Tn,Wr){x(Tn,Wr)})(hn,un)}):po(hn,"bpmn:BoundaryEvent")?f.unshift(function(){ke(hn,un)}):po(hn,"bpmn:FlowNode")?ke(hn,un):po(hn,"bpmn:DataObject")||(po(hn,"bpmn:DataStoreReference")||po(hn,"bpmn:DataObjectReference")?Pe(hn,un):E(l("unrecognized flowElement {element} in context {context}",{element:Po(hn),context:un?Po(un.businessObject):"null"}),{element:hn,context:un}))})})(Be.flowElements,et),Be.laneSets&&function(xn,un){R(xn,g(Le,un))}(Be.laneSets,et)}function ft(Be,et){var xn=x(Be,et),un=Be.processRef;un&&$(un,xn||et)}}function Q(s,l){var d=dt(s);return d&&typeof d.$instanceOf=="function"&&d.$instanceOf(l)}function Dn(s,l){return ae(l,function(d){return Q(s,d)})}function dt(s){return s&&s.businessObject||s}function fr(s){return s&&s.di}function b3(s,l,d){var f,p,g,b,x=[];function E(k,P){var C=new sv({root:function(j,H){return f.add(j,H)},element:function(j,H,Y){return f.add(j,H,Y)},error:function(j,H){x.push({message:j,context:H})}},g);P=P||k.diagrams&&k.diagrams[0];var M=function(j,H){if(H){var Y,q=H.plane.bpmnElement,W=q;Q(q,"bpmn:Process")||Q(q,"bpmn:Collaboration")||(W=function(Pe){for(var Oe=Pe;Oe;){if(Q(Oe,"bpmn:Process"))return Oe;Oe=Oe.$parent}}(q)),Y=Q(W,"bpmn:Collaboration")?W:D(j.rootElements,function(Pe){if(Q(Pe,"bpmn:Collaboration"))return D(Pe.participants,function(Oe){return Oe.processRef===W})});var ee=[W];Y&&(ee=ge(Y.participants,function(Pe){return Pe.processRef})).push(Y);var ie=gO(ee),oe=[H],ke=[q];return R(j.diagrams,function(Pe){var Oe=Pe.plane.bpmnElement;ie.indexOf(Oe)!==-1&&ke.indexOf(Oe)===-1&&(oe.push(Pe),ke.push(Oe))}),oe}}(k,P);if(!M)throw new Error(g("no diagram to display"));R(M,function(j){C.handleDefinitions(k,j)});var $=P.plane.bpmnElement.id;b.setRootElement(b.findRoot($+"_plane")||b.findRoot($))}return new Promise(function(k,P){try{return f=s.get("bpmnImporter"),p=s.get("eventBus"),g=s.get("translate"),b=s.get("canvas"),p.fire("import.render.start",{definitions:l}),E(l,d),p.fire("import.render.complete",{error:void 0,warnings:x}),k({warnings:x})}catch(C){return C.warnings=x,P(C)}})}function gO(s){var l=[];return R(s,function(d){d&&(l.push(d),l=l.concat(gO(d.flowElements)))}),l}var Lu,vO='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',av={verticalAlign:"middle"},Op={color:"#404040"},yO={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},re={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Tp={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},U0='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+vO+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function ol(){Lu||(jt(Lu=Ln(U0),yO),jt(Pn("svg",Lu),av),jt(Pn(".backdrop",Lu),re),jt(Pn(".notice",Lu),Tp),jt(Pn(".link",Lu),Op,{margin:"15px 20px 15px 10px",alignSelf:"center"}),Rr.bind(Lu,".backdrop","click",function(s){document.body.removeChild(Lu)})),document.body.appendChild(Lu)}function sn(s){s=le({},x3,s),this._moddle=this._createModdle(s),this._container=this._createContainer(s),function(l){const d=Ln('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+vO+"</a>");jt(Pn("svg",d),av),jt(d,Op,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),l.appendChild(d),_t.bind(d,"click",function(f){ol(),f.preventDefault()})}(this._container),this._init(this._container,this._moddle,s)}function G0(s,l){return s.warnings=l,s}t(sn,_p),sn.prototype.importXML=async function(s,l){const d=this;let f=[];try{let g;s=this._emit("import.parse.start",{xml:s})||s;try{g=await this._moddle.fromXML(s,"bpmn:Definitions")}catch(C){throw this._emit("import.parse.complete",{error:C}),C}let b=g.rootElement;const x=g.references,E=g.warnings,k=g.elementsById;f=f.concat(E),b=this._emit("import.parse.complete",(p={error:null,definitions:b,elementsById:k,references:x,warnings:f},d.get("eventBus").createEvent(p)))||b;const P=await this.importDefinitions(b,l);return f=f.concat(P.warnings),this._emit("import.done",{error:null,warnings:f}),{warnings:f}}catch(g){let b=g;throw f=f.concat(b.warnings||[]),G0(b,f),b=function(x){const E=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(x.message);return E&&(x.message="unparsable content <"+E[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+E[2]),x}(b),this._emit("import.done",{error:b,warnings:b.warnings}),b}var p},sn.prototype.importDefinitions=async function(s,l){return this._setDefinitions(s),{warnings:(await this.open(l)).warnings}},sn.prototype.open=async function(s){const l=this._definitions;let d=s;if(!l){const p=new Error("no XML imported");throw G0(p,[]),p}if(typeof s=="string"&&(d=function(p,g){return g&&D(p.diagrams,function(b){return b.id===g})||null}(l,s),!d)){const p=new Error("BPMNDiagram <"+s+"> not found");throw G0(p,[]),p}try{this.clear()}catch(p){throw G0(p,[]),p}const{warnings:f}=await b3(this,l,d);return{warnings:f}},sn.prototype.saveXML=async function(s){s=s||{};let l,d,f=this._definitions;try{if(!f)throw new Error("no definitions loaded");f=this._emit("saveXML.start",{definitions:f})||f,d=(await this._moddle.toXML(f,s)).xml,d=this._emit("saveXML.serialized",{xml:d})||d}catch(g){l=g}const p=l?{error:l}:{xml:d};if(this._emit("saveXML.done",p),l)throw l;return p},sn.prototype.saveSVG=async function(){let s,l;this._emit("saveSVG.start");try{const d=this.get("canvas"),f=d.getActiveLayer(),p=Pn("defs",d._svg),g=Vd(f),b=p?"<defs>"+Vd(p)+"</defs>":"",x=f.getBBox();s=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+x.width+'" height="'+x.height+'" viewBox="'+x.x+" "+x.y+" "+x.width+" "+x.height+'" version="1.1">'+b+g+"</svg>"}catch(d){l=d}if(this._emit("saveSVG.done",{error:l,svg:s}),l)throw l;return{svg:s}},sn.prototype._setDefinitions=function(s){this._definitions=s},sn.prototype.getModules=function(){return this._modules},sn.prototype.clear=function(){this.getDefinitions()&&_p.prototype.clear.call(this)},sn.prototype.destroy=function(){_p.prototype.destroy.call(this),Ur(this._container)},sn.prototype.on=function(s,l,d,f){return this.get("eventBus").on(s,l,d,f)},sn.prototype.off=function(s,l){this.get("eventBus").off(s,l)},sn.prototype.attachTo=function(s){if(!s)throw new Error("parentNode required");this.detach(),s.get&&s.constructor.prototype.jquery&&(s=s.get(0)),typeof s=="string"&&(s=Pn(s)),s.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},sn.prototype.getDefinitions=function(){return this._definitions},sn.prototype.detach=function(){const s=this._container,l=s.parentNode;l&&(this._emit("detach",{}),l.removeChild(s))},sn.prototype._init=function(s,l,d){const f=d.modules||this.getModules(d),p=d.additionalModules||[],g=[].concat([{bpmnjs:["value",this],moddle:["value",l]}],f,p),b=le(Qe(d,["additionalModules"]),{canvas:le({},d.canvas,{container:s}),modules:g});_p.call(this,b),d&&d.container&&this.attachTo(d.container)},sn.prototype._emit=function(s,l){return this.get("eventBus").fire(s,l)},sn.prototype._createContainer=function(s){const l=Ln('<div class="bjs-container"></div>');return jt(l,{width:bO(s.width),height:bO(s.height),position:s.position}),l},sn.prototype._createModdle=function(s){return new y3(le({},this._moddleExtensions,s.moddleExtensions))},sn.prototype._modules=[];const x3={width:"100%",height:"100%",position:"relative"};function bO(s){return s+(S(s)?"px":"")}function ql(s){sn.call(this,s),this.on("import.parse.complete",function(l){l.error||this._collectIds(l.definitions,l.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function Hn(s,l){return!Q(s,"bpmn:CallActivity")&&(Q(s,"bpmn:SubProcess")?!(!(l=l||fr(s))||!Q(l,"bpmndi:BPMNPlane"))||l&&!!l.isExpanded:!Q(s,"bpmn:Participant")||!!dt(s).processRef)}function Y0(s){if(Q(s,"bpmn:Participant")||Q(s,"bpmn:Lane")){var l=fr(s).isHorizontal;return l===void 0||l}}function ss(s){return s&&!!dt(s).triggeredByEvent}function lv(s,l){return ae(dt(s).eventDefinitions,function(d){return Q(d,l)})}t(ql,sn),ql.prototype._createModdle=function(s){var l=sn.prototype._createModdle.call(this,s);return l.ids=new i([32,36,1]),l},ql.prototype._collectIds=function(s,l){var d,f=s.$model.ids;for(d in f.clear(),l)f.claim(d,l[d])};var cv={width:90,height:20},Nc=15;function ih(s){return Q(s,"bpmn:Event")||Q(s,"bpmn:Gateway")||Q(s,"bpmn:DataStoreReference")||Q(s,"bpmn:DataObjectReference")||Q(s,"bpmn:DataInput")||Q(s,"bpmn:DataOutput")||Q(s,"bpmn:SequenceFlow")||Q(s,"bpmn:MessageFlow")||Q(s,"bpmn:Group")}function Q0(s){return Zn(s.label)}function w3(s){var l=s.length/2-1,d=s[Math.floor(l)],f=s[Math.ceil(l+.01)],p=function(E){var k=E.length/2-1,P=E[Math.floor(k)],C=E[Math.ceil(k+.01)];return{x:P.x+(C.x-P.x)/2,y:P.y+(C.y-P.y)/2}}(s),g=Math.atan((f.y-d.y)/(f.x-d.x)),b=p.x,x=p.y;return Math.abs(g)<Math.PI/2?x-=Nc:b+=Nc,{x:b,y:x}}function c_(s){return s.waypoints?w3(s.waypoints):Q(s,"bpmn:Group")?{x:s.x+s.width/2,y:s.y+cv.height/2}:{x:s.x+s.width/2,y:s.y+s.height+cv.height/2}}function xO(s){return Q(s,"bpmn:FlowElement")||Q(s,"bpmn:Participant")||Q(s,"bpmn:Lane")||Q(s,"bpmn:SequenceFlow")||Q(s,"bpmn:MessageFlow")||Q(s,"bpmn:DataInput")||Q(s,"bpmn:DataOutput")?"name":Q(s,"bpmn:TextAnnotation")?"text":Q(s,"bpmn:Group")?"categoryValueRef":void 0}function mo(s){var l=s.businessObject,d=xO(l);if(d)return d==="categoryValueRef"?function(f){var p=f.categoryValueRef;return p&&p.value||""}(l):l[d]||""}var u_="hsl(225, 10%, 15%)",_3="white";function Ic(s,l){return ae(s.eventDefinitions,function(d){return d.$type===l})}function jn(s,l,d){var f=fr(s);return d||f.get("color:background-color")||f.get("bioc:fill")||l||_3}function Mt(s,l,d){var f=fr(s);return d||f.get("color:border-color")||f.get("bioc:stroke")||l||u_}function Ul(s,l,d,f){var p=fr(s).get("label");return f||p&&p.get("color:color")||l||Mt(s,d)}function uv(s,l={}){return{width:sl(s,l),height:Pi(s,l)}}function sl(s,l={}){return N(l,"width")?l.width:s.width}function Pi(s,l={}){return N(l,"height")?l.height:s.height}var E3=new i,Pp=.95;function oh(s,l,d,f,p,g,b){Ea.call(this,l,b);var x=s&&s.defaultFillColor,E=s&&s.defaultStrokeColor,k=s&&s.defaultLabelColor,P=E3.next(),C={};function M(de){return d.computeStyle(de,{strokeLinecap:"round",strokeLinejoin:"round",stroke:u_,strokeWidth:2,fill:"white"})}function $(de){return d.computeStyle(de,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:u_,strokeWidth:2})}function j(de,G){var{ref:J={x:0,y:0},scale:De=1,element:Ve}=G,Tt=ot("marker",{id:de,viewBox:"0 0 20 20",refX:J.x,refY:J.y,markerWidth:20*De,markerHeight:20*De,orient:"auto"});ct(Tt,Ve);var wn=Pn("defs",p._svg);wn||(wn=ot("defs"),ct(p._svg,wn)),ct(wn,Tt),C[de]=Tt}function H(de){return de.replace(/[^0-9a-zA-Z]+/g,"_")}function Y(de,G,J){var De=de+"-"+H(G)+"-"+H(J)+"-"+P;return C[De]||function(Ve,Tt,wn,tr){Tt==="sequenceflow-end"&&j(Ve,{element:ot("path",{d:"M 1 5 L 11 10 L 1 15 Z",...M({fill:tr,stroke:tr,strokeWidth:1})}),ref:{x:11,y:10},scale:.5}),Tt==="messageflow-start"&&j(Ve,{element:ot("circle",{cx:6,cy:6,r:3.5,...M({fill:wn,stroke:tr,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6}}),Tt==="messageflow-end"&&j(Ve,{element:ot("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...M({fill:wn,stroke:tr,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5}}),Tt==="association-start"&&j(Ve,{element:ot("path",{d:"M 11 5 L 1 10 L 11 15",...$({fill:"none",stroke:tr,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5}),Tt==="association-end"&&j(Ve,{element:ot("path",{d:"M 1 5 L 11 10 L 1 15",...$({fill:"none",stroke:tr,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5}),Tt==="conditional-flow-marker"&&j(Ve,{element:ot("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...M({fill:wn,stroke:tr})}),ref:{x:-1,y:10},scale:.5}),Tt==="conditional-default-flow-marker"&&j(Ve,{element:ot("path",{d:"M 6 4 L 10 16",...M({stroke:tr})}),ref:{x:0,y:10},scale:.5})}(De,de,G,J),"url(#"+De+")"}function q(de,G,J,De,Ve={}){w(De)&&(Ve=De,De=0),De=De||0,Ve=M(Ve);var Tt=ot("circle",{cx:G/2,cy:J/2,r:Math.round((G+J)/4-De),...Ve});return ct(de,Tt),Tt}function W(de,G,J,De,Ve,Tt){w(Ve)&&(Tt=Ve,Ve=0),Ve=Ve||0,Tt=M(Tt);var wn=ot("rect",{x:Ve,y:Ve,width:G-2*Ve,height:J-2*Ve,rx:De,ry:De,...Tt});return ct(de,wn),wn}function ee(de,G,J,De){var Ve=Hg(G,J=$(J),De);return ct(de,Ve),Ve}function ie(de,G,J){return ee(de,G,J,5)}function oe(de,G,J){J=$(J);var De=ot("path",{...J,d:G});return ct(de,De),De}function ke(de,G,J,De){return oe(G,J,le({"data-marker":de},De))}function Pe(de){return Mi[de]}function Oe(de){return function(G,J,De){return Pe(de)(G,J,De)}}var Le=function(de,G,J={},De){return oe(de,f.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:G.width,containerHeight:G.height,position:{mx:.235,my:.315}}),{fill:De?Mt(G,E,J.stroke):jn(G,x,J.fill),stroke:De?jn(G,x,J.fill):Mt(G,E,J.stroke),strokeWidth:1})},Qt=function(de,G,J={}){var De=q(de,G.width,G.height,.2*G.height,{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:2});oe(de,f.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.5}}),{stroke:Mt(G,E,J.stroke),strokeWidth:2});for(var Ve=0;Ve<12;Ve++){var Tt=f.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.5}}),wn=G.width/2,tr=G.height/2;oe(de,Tt,{strokeWidth:1,stroke:Mt(G,E,J.stroke),transform:"rotate("+30*Ve+","+tr+","+wn+")"})}return De},ft=function(de,G,J={},De){return oe(de,f.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.2}}),{fill:De?Mt(G,E,J.stroke):jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1})},Be=function(de,G,J={}){return oe(de,f.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.222}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1})},et=function(de,G,J={},De){return oe(de,f.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.57,my:.263}}),{fill:De?Mt(G,E,J.stroke):jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1})},xn=function(de,G,J={},De){return oe(de,f.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:G.width,containerHeight:G.height,position:{mx:.2,my:.722}}),{fill:De?Mt(G,E,J.stroke):jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1})},un=function(de,G,J={},De){var Ve=oe(de,f.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.638,my:-.055}}),{fill:De?Mt(G,E,J.stroke):"none",stroke:Mt(G,E,J.stroke),strokeWidth:1});return o_(Ve,45),Ve},hn=function(de,G,J={},De){return oe(de,f.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.22,my:.5}}),{fill:De?Mt(G,E,J.stroke):jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1})},Tn=function(de,G,J={},De){return oe(de,f.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:G.width,containerHeight:G.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:De?Mt(G,E,J.stroke):jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)})},Wr=function(de,G,J={},De){return oe(de,f.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:G.width,containerHeight:G.height,position:{mx:.222,my:.36}}),{fill:De?Mt(G,E,J.stroke):jn(G,x,J.fill),strokeWidth:1})},Ir=function(de,G,J={}){return oe(de,f.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:G.width,containerHeight:G.height,position:{mx:.458,my:.194}}),{fill:Mt(G,E,J.stroke),stroke:Mt(G,E,J.stroke),strokeWidth:1})},Qr=function(de,G,J={}){return q(de,G.width,G.height,8,{fill:Mt(G,E,J.stroke),stroke:Mt(G,E,J.stroke),strokeWidth:4})};function vr(de,G,J={}){var De=dt(de),Ve=function(Tt){return Tt.$type==="bpmn:IntermediateThrowEvent"||Tt.$type==="bpmn:EndEvent"}(De);return De.get("eventDefinitions")&&De.get("eventDefinitions").length>1?De.get("parallelMultiple")?Ir(G,de,J):Wr(G,de,J,Ve):Ic(De,"bpmn:MessageEventDefinition")?Le(G,de,J,Ve):Ic(De,"bpmn:TimerEventDefinition")?Qt(G,de,J):Ic(De,"bpmn:ConditionalEventDefinition")?Be(G,de,J):Ic(De,"bpmn:SignalEventDefinition")?Tn(G,de,J,Ve):Ic(De,"bpmn:EscalationEventDefinition")?ft(G,de,J,Ve):Ic(De,"bpmn:LinkEventDefinition")?et(G,de,J,Ve):Ic(De,"bpmn:ErrorEventDefinition")?xn(G,de,J,Ve):Ic(De,"bpmn:CancelEventDefinition")?un(G,de,J,Ve):Ic(De,"bpmn:CompensateEventDefinition")?hn(G,de,J,Ve):Ic(De,"bpmn:TerminateEventDefinition")?Qr(G,de,J):null}var lr={ParticipantMultiplicityMarker:function(de,G,J={}){var De=sl(G,J),Ve=Pi(G,J);ke("participant-multiplicity",de,f.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:De,containerHeight:Ve,position:{mx:(De/2-6)/De,my:(Ve-15)/Ve}}),{strokeWidth:2,fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)})},SubProcessMarker:function(de,G,J={}){Co(W(de,14,14,0,{strokeWidth:1,fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)}),G.width/2-7.5,G.height-20),ke("sub-process",de,f.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2-7.5)/G.width,my:(G.height-20)/G.height}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)})},ParallelMarker:function(de,G,J){var De=sl(G,J),Ve=Pi(G,J);ke("parallel",de,f.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:De,containerHeight:Ve,position:{mx:(De/2+J.parallel)/De,my:(Ve-20)/Ve}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)})},SequentialMarker:function(de,G,J){ke("sequential",de,f.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+J.seq)/G.width,my:(G.height-19)/G.height}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)})},CompensationMarker:function(de,G,J){ke("compensation",de,f.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:(G.width/2+J.compensation)/G.width,my:(G.height-13)/G.height}}),{strokeWidth:1,fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)})},LoopMarker:function(de,G,J){var De=sl(G,J),Ve=Pi(G,J);ke("loop",de,f.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:De,containerHeight:Ve,position:{mx:(De/2+J.loop)/De,my:(Ve-7)/Ve}}),{strokeWidth:1.5,fill:"none",stroke:Mt(G,E,J.stroke),strokeMiterlimit:.5})},AdhocMarker:function(de,G,J){var De=sl(G,J),Ve=Pi(G,J);ke("adhoc",de,f.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:De,containerHeight:Ve,position:{mx:(De/2+J.adhoc)/De,my:(Ve-15)/Ve}}),{strokeWidth:1,fill:Mt(G,E,J.stroke),stroke:Mt(G,E,J.stroke)})}};function It(de,G,J,De){lr[de](G,J,De)}function Jr(de,G,J,De={}){De={fill:De.fill,stroke:De.stroke,width:sl(G,De),height:Pi(G,De)};var Ve=dt(G),Tt=J&&J.includes("SubProcessMarker");De=Tt?{...De,seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{...De,seq:-5,parallel:-6,compensation:-27,loop:0,adhoc:10},R(J,function(Di){It(Di,de,G,De)}),Ve.get("isForCompensation")&&It("CompensationMarker",de,G,De),Q(Ve,"bpmn:AdHocSubProcess")&&It("AdhocMarker",de,G,De);var wn=Ve.get("loopCharacteristics"),tr=wn&&wn.get("isSequential");wn&&(tr===void 0&&It("LoopMarker",de,G,De),tr===!1&&It("ParallelMarker",de,G,De),tr===!0&&It("SequentialMarker",de,G,De))}function Tr(de,G,J={}){J=le({size:{width:100}},J);var De=g.createText(G||"",J);return ne(De).add("djs-label"),ct(de,De),De}function Jl(de,G,J,De={}){var Ve=dt(G),Tt=uv({x:G.x,y:G.y,width:G.width,height:G.height},De);return Tr(de,Ve.name,{align:J,box:Tt,padding:7,style:{fill:Ul(G,k,E,De.stroke)}})}function Fa(de,G,J,De={}){var Ve=Y0(J),Tt=Tr(de,G,{box:{height:30,width:Ve?Pi(J,De):sl(J,De)},align:"center-middle",style:{fill:Ul(J,k,E,De.stroke)}});Ve&&Yd(Tt,0,-(-1*Pi(J,De)),270)}function ei(de,G,J={}){var{width:De,height:Ve}=uv(G,J);return W(de,De,Ve,10,{...J,fill:jn(G,x,J.fill),fillOpacity:Pp,stroke:Mt(G,E,J.stroke)})}function Sr(de,G,J={}){var De=dt(G),Ve=jn(G,x,J.fill),Tt=Mt(G,E,J.stroke);return De.get("associationDirection")!=="One"&&De.get("associationDirection")!=="Both"||(J.markerEnd=Y("association-end",Ve,Tt)),De.get("associationDirection")==="Both"&&(J.markerStart=Y("association-start",Ve,Tt)),J=Jn(J,["markerStart","markerEnd"]),ie(de,G.waypoints,{...J,stroke:Tt,strokeDasharray:"0, 5"})}function xr(de,G,J={}){var De=jn(G,x,J.fill),Ve=Mt(G,E,J.stroke),Tt=oe(de,f.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.474,my:.296}}),{fill:De,fillOpacity:Pp,stroke:Ve});return function(wn){var tr=wn.dataObjectRef;return wn.isCollection||tr&&tr.isCollection}(dt(G))&&oe(de,f.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:.33,my:(G.height-18)/G.height}}),{strokeWidth:2,fill:De,stroke:Ve}),Tt}function ti(de,G,J={}){return q(de,G.width,G.height,{fillOpacity:Pp,...J,fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)})}function Kr(de,G,J={}){return function(De,Ve,Tt,wn){var tr=Ve/2,Di=Tt/2,Xv=[{x:tr,y:0},{x:Ve,y:Di},{x:tr,y:Tt},{x:0,y:Di}].map(function(a1){return a1.x+","+a1.y}).join(" ");wn=M(wn);var ec=ot("polygon",{...wn,points:Xv});return ct(De,ec),ec}(de,G.width,G.height,{fill:jn(G,x,J.fill),fillOpacity:Pp,stroke:Mt(G,E,J.stroke)})}function Fr(de,G,J={}){var De=W(de,sl(G,J),Pi(G,J),0,{fill:jn(G,x,J.fill),fillOpacity:J.fillOpacity||Pp,stroke:Mt(G,E,J.stroke),strokeWidth:1.5}),Ve=dt(G);return Q(Ve,"bpmn:Lane")&&Fa(de,Ve.get("name"),G,J),De}function Ri(de,G,J={}){var De=ei(de,G,J);ss(G)&&ut(De,{strokeDasharray:"0, 5.5",strokeWidth:2.5});var Ve=Hn(G);return Jl(de,G,Ve?"center-top":"center-middle",J),Jr(de,G,Ve?void 0:["SubProcessMarker"],J),De}function Un(de,G,J={}){var De=ei(de,G,J);return Jl(de,G,"center-middle",J),Jr(de,G,void 0,J),De}var Mi=this.handlers={"bpmn:AdHocSubProcess":function(de,G,J={}){return Ri(de,G,J=Hn(G)?Jn(J,["fill","stroke","width","height"]):Jn(J,["fill","stroke"]))},"bpmn:Association":function(de,G,J={}){return Sr(de,G,J=Jn(J,["fill","stroke"]))},"bpmn:BoundaryEvent":function(de,G,J={}){var{renderIcon:De=!0}=J;J=Jn(J,["fill","stroke"]);var Ve=dt(G).get("cancelActivity");J={strokeWidth:1.5,fill:jn(G,x,J.fill),fillOpacity:1,stroke:Mt(G,E,J.stroke)},Ve||(J.strokeDasharray="6");var Tt=ti(de,G,J);return q(de,G.width,G.height,3,{...J,fill:"none"}),De&&vr(G,de,J),Tt},"bpmn:BusinessRuleTask":function(de,G,J={}){var De=Un(de,G,J=Jn(J,["fill","stroke"]));return ut(oe(de,f.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1}),ut(oe(de,f.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{fill:Mt(G,E,J.stroke),stroke:Mt(G,E,J.stroke),strokeWidth:1}),De},"bpmn:CallActivity":function(de,G,J={}){return J=Jn(J,["fill","stroke"]),Ri(de,G,{strokeWidth:5,...J})},"bpmn:ComplexGateway":function(de,G,J={}){var De=Kr(de,G,J=Jn(J,["fill","stroke"]));return oe(de,f.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:G.width,containerHeight:G.height,position:{mx:.46,my:.26}}),{fill:Mt(G,E,J.stroke),stroke:Mt(G,E,J.stroke),strokeWidth:1}),De},"bpmn:DataInput":function(de,G,J={}){J=Jn(J,["fill","stroke"]);var De=f.getRawPath("DATA_ARROW"),Ve=xr(de,G,J);return oe(de,De,{fill:"none",stroke:Mt(G,E,J.stroke),strokeWidth:1}),Ve},"bpmn:DataInputAssociation":function(de,G,J={}){return J=Jn(J,["fill","stroke"]),Sr(de,G,{...J,markerEnd:Y("association-end",jn(G,x,J.fill),Mt(G,E,J.stroke))})},"bpmn:DataObject":function(de,G,J={}){return xr(de,G,J=Jn(J,["fill","stroke"]))},"bpmn:DataObjectReference":Oe("bpmn:DataObject"),"bpmn:DataOutput":function(de,G,J={}){J=Jn(J,["fill","stroke"]);var De=f.getRawPath("DATA_ARROW"),Ve=xr(de,G,J);return oe(de,De,{strokeWidth:1,fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke)}),Ve},"bpmn:DataOutputAssociation":function(de,G,J={}){return J=Jn(J,["fill","stroke"]),Sr(de,G,{...J,markerEnd:Y("association-end",jn(G,x,J.fill),Mt(G,E,J.stroke))})},"bpmn:DataStoreReference":function(de,G,J={}){return J=Jn(J,["fill","stroke"]),oe(de,f.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:G.width,containerHeight:G.height,position:{mx:0,my:.133}}),{fill:jn(G,x,J.fill),fillOpacity:Pp,stroke:Mt(G,E,J.stroke),strokeWidth:2})},"bpmn:EndEvent":function(de,G,J={}){var{renderIcon:De=!0}=J;J=Jn(J,["fill","stroke"]);var Ve=ti(de,G,{...J,strokeWidth:4});return De&&vr(G,de,J),Ve},"bpmn:EventBasedGateway":function(de,G,J={}){J=Jn(J,["fill","stroke"]);var De=dt(G),Ve=Kr(de,G,J);q(de,G.width,G.height,.2*G.height,{fill:jn(G,"none",J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1});var Tt=De.get("eventGatewayType"),wn=!!De.get("instantiate");if(Tt==="Parallel"){var tr=f.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:G.width,containerHeight:G.height,position:{mx:.474,my:.296}});oe(de,tr,{fill:"none",stroke:Mt(G,E,J.stroke),strokeWidth:1})}else Tt==="Exclusive"&&(wn||q(de,G.width,G.height,.26*G.height,{fill:"none",stroke:Mt(G,E,J.stroke),strokeWidth:1}),function(){var Di=f.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:G.width,containerHeight:G.height,position:{mx:.36,my:.44}});oe(de,Di,{fill:"none",stroke:Mt(G,E,J.stroke),strokeWidth:2})}());return Ve},"bpmn:ExclusiveGateway":function(de,G,J={}){var De=Kr(de,G,J=Jn(J,["fill","stroke"])),Ve=f.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:G.width,containerHeight:G.height,position:{mx:.32,my:.3}});return fr(G).get("isMarkerVisible")&&oe(de,Ve,{fill:Mt(G,E,J.stroke),stroke:Mt(G,E,J.stroke),strokeWidth:1}),De},"bpmn:Gateway":function(de,G,J={}){return Kr(de,G,J=Jn(J,["fill","stroke"]))},"bpmn:Group":function(de,G,J={}){return J=Jn(J,["fill","stroke","width","height"]),W(de,G.width,G.height,10,{stroke:Mt(G,E,J.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:sl(G,J),height:Pi(G,J)})},"bpmn:InclusiveGateway":function(de,G,J={}){var De=Kr(de,G,J=Jn(J,["fill","stroke"]));return q(de,G.width,G.height,.24*G.height,{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:2.5}),De},"bpmn:IntermediateEvent":function(de,G,J={}){var{renderIcon:De=!0}=J;J=Jn(J,["fill","stroke"]);var Ve=ti(de,G,{...J,strokeWidth:1.5});return q(de,G.width,G.height,3,{fill:"none",stroke:Mt(G,E,J.stroke),strokeWidth:1.5}),De&&vr(G,de,J),Ve},"bpmn:IntermediateCatchEvent":Oe("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":Oe("bpmn:IntermediateEvent"),"bpmn:Lane":function(de,G,J={}){return J=Jn(J,["fill","stroke","width","height"]),Fr(de,G,{...J,fillOpacity:.25})},"bpmn:ManualTask":function(de,G,J={}){var De=Un(de,G,J=Jn(J,["fill","stroke"]));return oe(de,f.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:.5}),De},"bpmn:MessageFlow":function(de,G,J={}){J=Jn(J,["fill","stroke"]);var De=dt(G),Ve=fr(G),Tt=jn(G,x,J.fill),wn=Mt(G,E,J.stroke),tr=ie(de,G.waypoints,{markerEnd:Y("messageflow-end",Tt,wn),markerStart:Y("messageflow-start",Tt,wn),stroke:wn,strokeDasharray:"10, 11",strokeWidth:1.5});if(De.get("messageRef")){var Di=tr.getPointAtLength(tr.getTotalLength()/2),Xv=f.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Di.x,y:Di.y}}),ec={strokeWidth:1};Ve.get("messageVisibleKind")==="initiating"?(ec.fill=Tt,ec.stroke=wn):(ec.fill=wn,ec.stroke=Tt);var a1=oe(de,Xv,ec),cA=Tr(de,De.get("messageRef").get("name"),{align:"center-top",fitBox:!0,style:{fill:wn}}),uA=a1.getBBox(),dA=cA.getBBox();Yd(cA,Di.x-dA.width/2,Di.y+uA.height/2+10,0)}return tr},"bpmn:ParallelGateway":function(de,G,J={}){var De=Kr(de,G,J=Jn(J,["fill","stroke"]));return oe(de,f.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:G.width,containerHeight:G.height,position:{mx:.46,my:.2}}),{fill:Mt(G,E,J.stroke),stroke:Mt(G,E,J.stroke),strokeWidth:1}),De},"bpmn:Participant":function(de,G,J={}){var De=Fr(de,G,J=Jn(J,["fill","stroke","width","height"])),Ve=Hn(G),Tt=Y0(G),wn=dt(G),tr=wn.get("name");if(Ve)ee(de,Tt?[{x:30,y:0},{x:30,y:Pi(G,J)}]:[{x:0,y:30},{x:sl(G,J),y:30}],{stroke:Mt(G,E,J.stroke),strokeWidth:1.5}),Fa(de,tr,G,J);else{var Di=uv(G,J);Tt||(Di.height=sl(G,J),Di.width=Pi(G,J));var Xv=Tr(de,tr,{box:Di,align:"center-middle",style:{fill:Ul(G,k,E,J.stroke)}});Tt||Yd(Xv,0,-(-1*Pi(G,J)),270)}return wn.get("participantMultiplicity")&&It("ParticipantMultiplicityMarker",de,G,J),De},"bpmn:ReceiveTask":function(de,G,J={}){J=Jn(J,["fill","stroke"]);var De,Ve=dt(G),Tt=Un(de,G,J);return Ve.get("instantiate")?(q(de,28,28,4.4,{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1}),De=f.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):De=f.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),oe(de,De,{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1}),Tt},"bpmn:ScriptTask":function(de,G,J={}){var De=Un(de,G,J=Jn(J,["fill","stroke"]));return oe(de,f.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1}),De},"bpmn:SendTask":function(de,G,J={}){var De=Un(de,G,J=Jn(J,["fill","stroke"]));return oe(de,f.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{fill:Mt(G,E,J.stroke),stroke:jn(G,x,J.fill),strokeWidth:1}),De},"bpmn:SequenceFlow":function(de,G,J={}){J=Jn(J,["fill","stroke"]);var De=jn(G,x,J.fill),Ve=Mt(G,E,J.stroke),Tt=ie(de,G.waypoints,{markerEnd:Y("sequenceflow-end",De,Ve),stroke:Ve}),wn=dt(G),{source:tr}=G;if(tr){var Di=dt(tr);wn.get("conditionExpression")&&Q(Di,"bpmn:Activity")&&ut(Tt,{markerStart:Y("conditional-flow-marker",De,Ve)}),Di.get("default")&&(Q(Di,"bpmn:Gateway")||Q(Di,"bpmn:Activity"))&&Di.get("default")===wn&&ut(Tt,{markerStart:Y("conditional-default-flow-marker",De,Ve)})}return Tt},"bpmn:ServiceTask":function(de,G,J={}){var De=Un(de,G,J=Jn(J,["fill","stroke"]));return q(de,10,10,{fill:jn(G,x,J.fill),stroke:"none",transform:"translate(6, 6)"}),oe(de,f.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1}),q(de,10,10,{fill:jn(G,x,J.fill),stroke:"none",transform:"translate(11, 10)"}),oe(de,f.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:1}),De},"bpmn:StartEvent":function(de,G,J={}){var{renderIcon:De=!0}=J;J=Jn(J,["fill","stroke"]),dt(G).get("isInterrupting")||(J={...J,strokeDasharray:"6"});var Ve=ti(de,G,J);return De&&vr(G,de,J),Ve},"bpmn:SubProcess":function(de,G,J={}){return Ri(de,G,J=Hn(G)?Jn(J,["fill","stroke","width","height"]):Jn(J,["fill","stroke"]))},"bpmn:Task":function(de,G,J={}){return Un(de,G,J=Jn(J,["fill","stroke"]))},"bpmn:TextAnnotation":function(de,G,J={}){J=Jn(J,["fill","stroke","width","height"]);var{width:De,height:Ve}=uv(G,J),Tt=W(de,De,Ve,0,0,{fill:"none",stroke:"none"});return oe(de,f.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:De,containerHeight:Ve,position:{mx:0,my:0}}),{stroke:Mt(G,E,J.stroke)}),Tr(de,dt(G).get("text")||"",{align:"left-top",box:uv(G,J),padding:7,style:{fill:Ul(G,k,E,J.stroke)}}),Tt},"bpmn:Transaction":function(de,G,J={}){J=Hn(G)?Jn(J,["fill","stroke","width","height"]):Jn(J,["fill","stroke"]);var De=Ri(de,G,{strokeWidth:1.5,...J}),Ve=d.style(["no-fill","no-events"],{stroke:Mt(G,E,J.stroke),strokeWidth:1.5});return Hn(G)||(J={}),W(de,sl(G,J),Pi(G,J),7,3,Ve),De},"bpmn:UserTask":function(de,G,J={}){var De=Un(de,G,J=Jn(J,["fill","stroke"]));return oe(de,f.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:.5}),oe(de,f.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{fill:jn(G,x,J.fill),stroke:Mt(G,E,J.stroke),strokeWidth:.5}),oe(de,f.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{fill:Mt(G,E,J.stroke),stroke:Mt(G,E,J.stroke),strokeWidth:.5}),De},label:function(de,G,J={}){return function(De,Ve,Tt={}){var wn={width:90,height:30,x:Ve.width/2+Ve.x,y:Ve.height/2+Ve.y};return Tr(De,mo(Ve),{box:wn,fitBox:!0,style:le({},g.getExternalStyle(),{fill:Ul(Ve,k,E,Tt.stroke)})})}(de,G,J)}};this._drawPath=oe,this._renderer=Pe}function Jn(s,l=[]){return l.reduce((d,f)=>(s[f]&&(d[f]=s[f]),d),{})}t(oh,Ea),oh.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],oh.prototype.canRender=function(s){return Q(s,"bpmn:BaseElement")},oh.prototype.drawShape=function(s,l,d={}){var{type:f}=l;return this._renderer(f)(s,l,d)},oh.prototype.drawConnection=function(s,l,d={}){var{type:f}=l;return this._renderer(f)(s,l,d)},oh.prototype.getShapePath=function(s){return Q(s,"bpmn:Event")?(d=(l=s).x+l.width/2,f=l.y+l.height/2,p=l.width/2,Vl([["M",d,f],["m",0,-p],["a",p,p,0,1,1,0,2*p],["a",p,p,0,1,1,0,-2*p],["z"]])):Q(s,"bpmn:Activity")?function(g,b){var x=g.x,E=g.y,k=g.width,P=g.height;return Vl([["M",x+b,E],["l",k-2*b,0],["a",b,b,0,0,1,b,b],["l",0,P-2*b],["a",b,b,0,0,1,-b,b],["l",2*b-k,0],["a",b,b,0,0,1,-b,-b],["l",0,2*b-P],["a",b,b,0,0,1,b,-b],["z"]])}(s,10):Q(s,"bpmn:Gateway")?function(g){var b=g.width/2,x=g.height/2;return Vl([["M",g.x+b,g.y],["l",b,x],["l",-b,x],["l",-b,-x],["z"]])}(s):function(g){var b=g.x,x=g.y,E=g.width;return Vl([["M",b,x],["l",E,0],["l",0,g.height],["l",-E,0],["z"]])}(s);var l,d,f,p};var S3=0,wO={width:150,height:50};function _O(s,l){var d;l.textContent=s;try{var f,p=s==="";return l.textContent=p?"dummy":s,f={width:(d=l.getBBox()).width+2*d.x,height:d.height},p&&(f.width=0),f}catch{return{width:0,height:0}}}function k3(s,l,d){for(var f,p=s.shift(),g=p;;){if((f=_O(g,d)).width=g?f.width:0,g===" "||g===""||f.width<Math.round(l)||g.length<2)return C3(s,g,p,f);g=dv(g,f.width,l)}}function C3(s,l,d,f){if(l.length<d.length){var p=d.slice(l.length).trim();s.unshift(p)}return{width:f.width,height:f.height,text:l}}var K0="";function dv(s,l,d){var f=Math.max(s.length*(d/l),1),p=function(g,b){var x,E=g.split(/(\s|-|\u00AD)/g),k=[],P=0;if(E.length>1)for(;x=E.shift();){if(!(x.length+P<b)){x!=="-"&&x!==K0||k.pop();break}k.push(x),P+=x.length}var C=k[k.length-1];return C&&C===K0&&(k[k.length-1]="-"),k.join("")}(s,f);return p||(p=s.slice(0,Math.max(Math.round(f-1),1))),p}function sh(s){this._config=le({},{size:wO,padding:S3,style:{},align:"center-top"},s||{})}sh.prototype.createText=function(s,l){return this.layoutText(s,l).element},sh.prototype.getDimensions=function(s,l){return this.layoutText(s,l).dimensions},sh.prototype.layoutText=function(s,l){var d=le({},this._config.size,l.box),f=le({},this._config.style,l.style),p=function(Y){var q=Y.split("-");return{horizontal:q[0]||"center",vertical:q[1]||"top"}}(l.align||this._config.align),g=function(Y){return w(Y)?le({top:0,left:0,right:0,bottom:0},Y):{top:Y,left:Y,right:Y,bottom:Y}}(l.padding!==void 0?l.padding:this._config.padding),b=l.fitBox||!1,x=function(Y){if("fontSize"in Y&&"lineHeight"in Y)return Y.lineHeight*parseInt(Y.fontSize,10)}(f),E=s.split(/\u00AD?\r?\n/),k=[],P=d.width-g.left-g.right,C=ot("text");for(ut(C,{x:0,y:0}),ut(C,f),ct(function(){var Y=document.getElementById("helper-svg");return Y||(ut(Y=ot("svg"),{id:"helper-svg"}),jt(Y,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(Y)),Y}(),C);E.length;)k.push(k3(E,P,C));p.vertical==="middle"&&(g.top=g.bottom=0);var M=X(k,function(Y,q,W){return Y+(x||q.height)},0)+g.top+g.bottom,$=X(k,function(Y,q,W){return q.width>Y?q.width:Y},0),j=g.top;p.vertical==="middle"&&(j+=(d.height-M)/2),j-=(x||k[0].height)/4;var H=ot("text");return ut(H,f),R(k,function(Y){var q;switch(j+=x||Y.height,p.horizontal){case"left":q=g.left;break;case"right":q=(b?$:P)-g.right-Y.width;break;default:q=Math.max(((b?$:P)-Y.width)/2+g.left,0)}var W=ot("tspan");ut(W,{x:q,y:j}),W.textContent=Y.text,ct(H,W)}),Ee(C),{dimensions:{width:$,height:M},element:H}};function EO(s){var l=le({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},s&&s.defaultStyle||{}),d=parseInt(l.fontSize,10)-1,f=le({},l,{fontSize:d},s&&s.externalStyle||{}),p=new sh({style:l});this.getExternalLabelBounds=function(g,b){var x=p.getDimensions(b,{box:{width:90,height:30},style:f});return{x:Math.round(g.x+g.width/2-x.width/2),y:Math.round(g.y),width:Math.ceil(x.width),height:Math.ceil(x.height)}},this.getTextAnnotationBounds=function(g,b){var x=p.getDimensions(b,{box:g,style:l,align:"left-top",padding:5});return{x:g.x,y:g.y,width:g.width,height:Math.max(30,Math.round(x.height))}},this.createText=function(g,b){return p.createText(g,b||{})},this.getDefaultStyle=function(){return l},this.getExternalStyle=function(){return f}}EO.$inject=["config.textRenderer"];var SO=/\{([^{}]+)\}/g,O3=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,$u={__init__:["bpmnRenderer"],bpmnRenderer:["type",oh],textRenderer:["type",EO],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(s){return this.pathMap[s].d},this.getScaledPath=function(s,l){var d,f,p=this.pathMap[s];l.abspos?(d=l.abspos.x,f=l.abspos.y):(d=l.containerWidth*l.position.mx,f=l.containerHeight*l.position.my);var g={};if(l.position){for(var b=l.containerHeight/p.height*l.yScaleFactor,x=l.containerWidth/p.width*l.xScaleFactor,E=0;E<p.heightElements.length;E++)g["y"+E]=p.heightElements[E]*b;for(var k=0;k<p.widthElements.length;k++)g["x"+k]=p.widthElements[k]*x}var P,C,M=(P=p.d,C={mx:d,my:f,e:g},String(P).replace(SO,function($,j){return function(H,Y,q){var W=q;return Y.replace(O3,function(ee,ie,oe,ke,Pe){ie=ie||ke,W&&(ie in W&&(W=W[ie]),typeof W=="function"&&Pe&&(W=W()))}),W=(W==null||W==q?H:W)+""}($,j,C)}));return M}}]},Ap={translate:["value",function(s,l){return l=l||{},s.replace(/{([^}]+)}/g,function(d,f){return l[f]||"{"+f+"}"})}]};function Fc(s,l,d){return le({id:s.id,type:s.$type,businessObject:s,di:l},d)}function al(s,l,d){var f=s.waypoint;return!f||f.length<2?[Xt(l),Xt(d)]:f.map(function(p){return{x:p.x,y:p.y}})}function kO(s,l,d,f){return new Error(s("element {element} referenced by {referenced}#{property} not yet drawn",{element:Po(d),referenced:Po(l),property:f}))}function Lc(s,l,d,f,p,g){this._eventBus=s,this._canvas=l,this._elementFactory=d,this._elementRegistry=f,this._translate=p,this._textRenderer=g}Lc.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Lc.prototype.add=function(s,l,d){var f,p,g,b=this._translate;if(Q(l,"bpmndi:BPMNPlane")){var x=Q(s,"bpmn:SubProcess")?{id:s.id+"_plane"}:{};f=this._elementFactory.createRoot(Fc(s,l,x)),this._canvas.addRootElement(f)}else if(Q(l,"bpmndi:BPMNShape")){var E=!Hn(s,l),k=function($){return Q($,"bpmn:Group")}(s);p=d&&(d.hidden||d.collapsed);var P=l.bounds;f=this._elementFactory.createShape(Fc(s,l,{collapsed:E,hidden:p,x:Math.round(P.x),y:Math.round(P.y),width:Math.round(P.width),height:Math.round(P.height),isFrame:k})),Q(s,"bpmn:BoundaryEvent")&&this._attachBoundary(s,f),Q(s,"bpmn:Lane")&&(g=0),Q(s,"bpmn:DataStoreReference")&&(function($,j){var H=j.x,Y=j.y;return H>=$.x&&H<=$.x+$.width&&Y>=$.y&&Y<=$.y+$.height}(d,Xt(P))||(d=this._canvas.findRoot(d))),this._canvas.addShape(f,d,g)}else{if(!Q(l,"bpmndi:BPMNEdge"))throw new Error(b("unknown di {di} for element {semantic}",{di:Po(l),semantic:Po(s)}));var C=this._getSource(s),M=this._getTarget(s);p=d&&(d.hidden||d.collapsed),f=this._elementFactory.createConnection(Fc(s,l,{hidden:p,source:C,target:M,waypoints:al(l,C,M)})),Q(s,"bpmn:DataAssociation")&&(d=this._canvas.findRoot(d)),this._canvas.addConnection(f,d,g)}return ih(s)&&mo(f)&&this.addLabel(s,l,f),this._eventBus.fire("bpmnElement.added",{element:f}),f},Lc.prototype._attachBoundary=function(s,l){var d=this._translate,f=s.attachedToRef;if(!f)throw new Error(d("missing {semantic}#attachedToRef",{semantic:Po(s)}));var p=this._elementRegistry.get(f.id),g=p&&p.attachers;if(!p)throw kO(d,s,f,"attachedToRef");l.host=p,g||(p.attachers=g=[]),g.indexOf(l)===-1&&g.push(l)},Lc.prototype.addLabel=function(s,l,d){var f,p,g;return f=function(b,x){var E,k,P,C=b.label;return C&&C.bounds?(P=C.bounds,k={width:Math.max(cv.width,P.width),height:P.height},E={x:P.x+P.width/2,y:P.y+P.height/2}):(E=c_(x),k=cv),le({x:E.x-k.width/2,y:E.y-k.height/2},k)}(l,d),(p=mo(d))&&(f=this._textRenderer.getExternalLabelBounds(f,p)),g=this._elementFactory.createLabel(Fc(s,l,{id:s.id+"_label",labelTarget:d,type:"label",hidden:d.hidden||!mo(d),x:Math.round(f.x),y:Math.round(f.y),width:Math.round(f.width),height:Math.round(f.height)})),this._canvas.addShape(g,d.parent)},Lc.prototype._getConnectedElement=function(s,l){var d,f,p=s.$type,g=this._translate;if(f=s[l+"Ref"],l==="source"&&p==="bpmn:DataInputAssociation"&&(f=f&&f[0]),(l==="source"&&p==="bpmn:DataOutputAssociation"||l==="target"&&p==="bpmn:DataInputAssociation")&&(f=s.$parent),d=f&&this._getElement(f))return d;throw f?kO(g,s,f,l+"Ref"):new Error(g("{semantic}#{side} Ref not specified",{semantic:Po(s),side:l}))},Lc.prototype._getSource=function(s){return this._getConnectedElement(s,"source")},Lc.prototype._getTarget=function(s){return this._getConnectedElement(s,"target")},Lc.prototype._getElement=function(s){return this._elementRegistry.get(s.id)};var CO={__depends__:[$u,{__depends__:[Ap],bpmnImporter:["type",Lc]}]};function Rp(s){s&&typeof s.stopPropagation=="function"&&s.stopPropagation()}function Oa(s){return s.originalEvent||s.srcEvent}function X0(s){Rp(s),Rp(Oa(s))}function Xd(s){return s.pointers&&s.pointers.length&&(s=s.pointers[0]),s.touches&&s.touches.length&&(s=s.touches[0]),s?{x:s.clientX,y:s.clientY}:null}function fv(){return/mac/i.test(navigator.platform)}function OO(s,l){return(Oa(s)||s).button===l}function ju(s){return OO(s,0)}function Zi(s){var l=Oa(s)||s;return!!ju(s)&&(fv()?l.metaKey:l.ctrlKey)}function hv(s){var l=Oa(s)||s;return ju(s)&&l.shiftKey}function TO(s){return!0}function Ta(s){return ju(s)||function(l){return OO(l,1)}(s)}function Z0(s,l,d){var f=this;function p(W,ee,ie){var oe,ke;(function(Pe,Oe){var Le=E[Pe]||ju;return!Le(Oe)})(W,ee)||(ie?ke=l.getGraphics(ie):(oe=ee.delegateTarget||ee.target)&&(ke=oe,ie=l.get(ke)),ke&&ie&&s.fire(W,{element:ie,gfx:ke,originalEvent:ee})===!1&&(ee.stopPropagation(),ee.preventDefault()))}var g={};function b(W){return g[W]}var x={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},E={"element.contextmenu":TO,"element.mousedown":Ta,"element.mouseup":Ta,"element.click":Ta,"element.dblclick":Ta},k="svg, .djs-element";function P(W,ee,ie,oe){var ke=g[ie]=function(Pe){p(ie,Pe)};oe&&(E[ie]=oe),ke.$delegate=Rr.bind(W,k,ee,ke)}function C(W,ee,ie){var oe=b(ie);oe&&Rr.unbind(W,ee,oe.$delegate)}s.on("canvas.destroy",function(W){var ee;ee=W.svg,R(x,function(ie,oe){C(ee,oe,ie)})}),s.on("canvas.init",function(W){var ee;ee=W.svg,R(x,function(ie,oe){P(ee,oe,ie)})}),s.on(["shape.added","connection.added"],function(W){var ee=W.element,ie=W.gfx;s.fire("interactionEvents.createHit",{element:ee,gfx:ie})}),s.on(["shape.changed","connection.changed"],500,function(W){var ee=W.element,ie=W.gfx;s.fire("interactionEvents.updateHit",{element:ee,gfx:ie})}),s.on("interactionEvents.createHit",500,function(W){var ee=W.element,ie=W.gfx;f.createDefaultHit(ee,ie)}),s.on("interactionEvents.updateHit",function(W){var ee=W.element,ie=W.gfx;f.updateDefaultHit(ee,ie)});var M=H("djs-hit djs-hit-stroke"),$=H("djs-hit djs-hit-click-stroke"),j={all:H("djs-hit djs-hit-all"),"click-stroke":$,stroke:M,"no-move":H("djs-hit djs-hit-no-move")};function H(W,ee){return ee=le({stroke:"white",strokeWidth:15},ee||{}),d.cls(W,["no-fill","no-border"],ee)}function Y(W,ee){var ie=j[ee];if(!ie)throw new Error("invalid hit type <"+ee+">");return ut(W,ie),W}function q(W,ee){ct(W,ee)}this.removeHits=function(W){R($n(".djs-hit",W),Ee)},this.createDefaultHit=function(W,ee){var ie,oe=W.waypoints,ke=W.isFrame;return oe?this.createWaypointsHit(ee,oe):(ie=ke?"stroke":"all",this.createBoxHit(ee,ie,{width:W.width,height:W.height}))},this.createWaypointsHit=function(W,ee){var ie=Hg(ee);return Y(ie,"stroke"),q(W,ie),ie},this.createBoxHit=function(W,ee,ie){ie=le({x:0,y:0},ie);var oe=ot("rect");return Y(oe,ee),ut(oe,ie),q(W,oe),oe},this.updateDefaultHit=function(W,ee){var ie=Pn(".djs-hit",ee);if(ie)return W.waypoints?Gw(ie,W.waypoints):ut(ie,{width:W.width,height:W.height}),ie},this.fire=p,this.triggerMouseEvent=function(W,ee,ie){var oe=x[W];if(!oe)throw new Error("unmapped DOM event name <"+W+">");return p(oe,ee,ie)},this.mouseHandler=b,this.registerEvent=P,this.unregisterEvent=C}Z0.$inject=["eventBus","elementRegistry","styles"];var Zd={__init__:["interactionEvents"],interactionEvents:["type",Z0]};function Pa(s,l){this._eventBus=s,this.offset=5;var d=l.cls("djs-outline",["no-fill"]),f=this;function p(g){var b=ot("rect");return ut(b,le({x:0,y:0,rx:4,width:100,height:100},d)),b}s.on(["shape.added","shape.changed"],500,function(g){var b=g.element,x=g.gfx,E=Pn(".djs-outline",x);E||ct(x,E=f.getOutline(b)||p()),f.updateShapeOutline(E,b)}),s.on(["connection.added","connection.changed"],function(g){var b=g.element,x=g.gfx,E=Pn(".djs-outline",x);E||ct(x,E=p()),f.updateConnectionOutline(E,b)})}Pa.prototype.updateShapeOutline=function(s,l){var d=!1,f=this._getProviders();f.length&&R(f,function(p){d=d||p.updateOutline(l,s)}),d||ut(s,{x:-this.offset,y:-this.offset,width:l.width+2*this.offset,height:l.height+2*this.offset})},Pa.prototype.updateConnectionOutline=function(s,l){var d=Fi(l);ut(s,{x:d.x-this.offset,y:d.y-this.offset,width:d.width+2*this.offset,height:d.height+2*this.offset})},Pa.prototype.registerProvider=function(s,l){l||(l=s,s=1e3),this._eventBus.on("outline.getProviders",s,function(d){d.providers.push(l)})},Pa.prototype._getProviders=function(){var s=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(s),s.providers},Pa.prototype.getOutline=function(s){var l;return R(this._getProviders(),function(d){T(d.getOutline)&&(l=l||d.getOutline(s))}),l},Pa.$inject=["eventBus","styles","elementRegistry"];var J0={__init__:["outline"],outline:["type",Pa]};function go(s,l){this._eventBus=s,this._canvas=l,this._selectedElements=[];var d=this;s.on(["shape.remove","connection.remove"],function(f){var p=f.element;d.deselect(p)}),s.on(["diagram.clear","root.set"],function(f){d.select(null)})}go.$inject=["eventBus","canvas"],go.prototype.deselect=function(s){var l=this._selectedElements,d=l.indexOf(s);if(d!==-1){var f=l.slice();l.splice(d,1),this._eventBus.fire("selection.changed",{oldSelection:f,newSelection:l})}},go.prototype.get=function(){return this._selectedElements},go.prototype.isSelected=function(s){return this._selectedElements.indexOf(s)!==-1},go.prototype.select=function(s,l){var d=this._selectedElements,f=d.slice();y(s)||(s=s?[s]:[]);var p=this._canvas,g=p.getRootElement();s=s.filter(function(b){var x=p.findRoot(b);return g===x}),l?R(s,function(b){d.indexOf(b)===-1&&d.push(b)}):this._selectedElements=d=s.slice(),this._eventBus.fire("selection.changed",{oldSelection:f,newSelection:d})};var eb="hover",PO="selected";function d_(s,l,d){this._canvas=s;var f=this;function p(b,x){s.addMarker(b,x)}function g(b,x){s.removeMarker(b,x)}this._multiSelectionBox=null,l.on("element.hover",function(b){p(b.element,eb)}),l.on("element.out",function(b){g(b.element,eb)}),l.on("selection.changed",function(b){var x=b.oldSelection,E=b.newSelection;R(x,function(k){E.indexOf(k)===-1&&function(P){g(P,PO)}(k)}),R(E,function(k){x.indexOf(k)===-1&&function(P){p(P,PO)}(k)}),f._updateSelectionOutline(E)}),l.on("element.changed",function(b){d.isSelected(b.element)&&f._updateSelectionOutline(d.get())})}function AO(s,l,d,f){s.on("create.end",500,function(p){var g=p.context,b=g.canExecute,x=g.elements,E=(g.hints||{}).autoSelect;if(b){if(E===!1)return;y(E)?l.select(E):l.select(x.filter(f_))}}),s.on("connect.end",500,function(p){var g=p.context.connection;g&&l.select(g)}),s.on("shape.move.end",500,function(p){var g=p.previousSelection||[],b=f.get(p.context.shape.id);D(g,function(x){return b.id===x.id})||l.select(b)}),s.on("element.click",function(p){if(ju(p)){var g=p.element;g===d.getRootElement()&&(g=null);var b=l.isSelected(g),x=l.get().length>1,E=Zi(p)||hv(p);if(b&&x)return E?l.deselect(g):l.select(g);b?l.deselect(g):l.select(g,E)}})}function f_(s){return!s.hidden}d_.$inject=["canvas","eventBus","selection"],d_.prototype._updateSelectionOutline=function(s){var l=this._canvas.getLayer("selectionOutline");qe(l);var d=s.length>1;if(ne(this._canvas.getContainer())[d?"add":"remove"]("djs-multi-select"),d){var f=function(g){return{x:g.x-6,y:g.y-6,width:g.width+12,height:g.height+12}}(Fi(s)),p=ot("rect");ut(p,le({rx:3},f)),ne(p).add("djs-selection-outline"),ct(l,p)}},AO.$inject=["eventBus","selection","canvas","elementRegistry"];var $c={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Zd,J0],selection:["type",go],selectionVisuals:["type",d_],selectionBehavior:["type",AO]};function ah(s){this._counter=0,this._prefix=(s?s+"-":"")+Math.floor(1e9*Math.random())+"-"}ah.prototype.next=function(){return this._prefix+ ++this._counter};var RO=new ah("ov");function Ao(s,l,d,f){var p,g;this._eventBus=l,this._canvas=d,this._elementRegistry=f,this._ids=RO,this._overlayDefaults=le({show:null,scale:!0},s&&s.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(p=d.getContainer(),jt(g=Ln('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),p.insertBefore(g,p.firstChild),g),this._init()}function MO(s,l,d){jt(s,{left:l+"px",top:d+"px"})}function Jd(s,l){s.style.display=l===!1?"none":""}function DO(s,l){s.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(d){s.style[d+"transform"]=l})}Ao.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Ao.prototype.get=function(s){if(O(s)&&(s={id:s}),O(s.element)&&(s.element=this._elementRegistry.get(s.element)),s.element){var l=this._getOverlayContainer(s.element,!0);return l?s.type?I(l.overlays,Ae({type:s.type})):l.overlays.slice():[]}return s.type?I(this._overlays,Ae({type:s.type})):s.id?this._overlays[s.id]:null},Ao.prototype.add=function(s,l,d){if(w(l)&&(d=l,l=null),s.id||(s=this._elementRegistry.get(s)),!d.position)throw new Error("must specifiy overlay position");if(!d.html)throw new Error("must specifiy overlay html");if(!s)throw new Error("invalid element specified");var f=this._ids.next();return d=le({},this._overlayDefaults,d,{id:f,type:l,element:s,html:d.html}),this._addOverlay(d),f},Ao.prototype.remove=function(s){var l=this.get(s)||[];y(l)||(l=[l]);var d=this;R(l,function(f){var p=d._getOverlayContainer(f.element,!0);if(f&&(Ur(f.html),Ur(f.htmlContainer),delete f.htmlContainer,delete f.element,delete d._overlays[f.id]),p){var g=p.overlays.indexOf(f);g!==-1&&p.overlays.splice(g,1)}})},Ao.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"},Ao.prototype.show=function(){Jd(this._overlayRoot)},Ao.prototype.hide=function(){Jd(this._overlayRoot,!1)},Ao.prototype.clear=function(){this._overlays={},this._overlayContainers=[],ve(this._overlayRoot)},Ao.prototype._updateOverlayContainer=function(s){var l=s.element,d=s.html,f=l.x,p=l.y;if(l.waypoints){var g=Fi(l);f=g.x,p=g.y}MO(d,f,p),Ht(s.html,"data-container-id",l.id)},Ao.prototype._updateOverlay=function(s){var l,d,f=s.position,p=s.htmlContainer,g=s.element,b=f.left,x=f.top;f.right!==void 0&&(l=g.waypoints?Fi(g).width:g.width,b=-1*f.right+l),f.bottom!==void 0&&(d=g.waypoints?Fi(g).height:g.height,x=-1*f.bottom+d),MO(p,b||0,x||0),this._updateOverlayVisibilty(s,this._canvas.viewbox())},Ao.prototype._createOverlayContainer=function(s){var l=Ln('<div class="djs-overlays" />');jt(l,{position:"absolute"}),this._overlayRoot.appendChild(l);var d={html:l,element:s,overlays:[]};return this._updateOverlayContainer(d),this._overlayContainers.push(d),d},Ao.prototype._updateRoot=function(s){var l=s.scale||1,d="matrix("+[l,0,0,l,-1*s.x*l,-1*s.y*l].join(",")+")";DO(this._overlayRoot,d)},Ao.prototype._getOverlayContainer=function(s,l){var d=D(this._overlayContainers,function(f){return f.element===s});return d||l?d:this._createOverlayContainer(s)},Ao.prototype._addOverlay=function(s){var l,d,f=s.id,p=s.element,g=s.html;g.get&&g.constructor.prototype.jquery&&(g=g.get(0)),O(g)&&(g=Ln(g)),d=this._getOverlayContainer(p),jt(l=Ln('<div class="djs-overlay" data-overlay-id="'+f+'">'),{position:"absolute"}),l.appendChild(g),s.type&&kn(l).add("djs-overlay-"+s.type),Jd(l,this._canvas.findRoot(p)===this._canvas.getRootElement()),s.htmlContainer=l,d.overlays.push(s),d.html.appendChild(l),this._overlays[f]=s,this._updateOverlay(s),this._updateOverlayVisibilty(s,this._canvas.viewbox())},Ao.prototype._updateOverlayVisibilty=function(s,l){var d=s.show,f=this._canvas.findRoot(s.element),p=d&&d.minZoom,g=d&&d.maxZoom,b=s.htmlContainer,x=!0;(f!==this._canvas.getRootElement()||d&&(h(p)&&p>l.scale||h(g)&&g<l.scale))&&(x=!1),Jd(b,x),this._updateOverlayScale(s,l)},Ao.prototype._updateOverlayScale=function(s,l){var d,f,p,g=s.scale,b=s.htmlContainer,x="";g!==!0&&(g===!1?(d=1,f=1):(d=g.min,f=g.max),h(d)&&l.scale<d&&(p=(1/l.scale||1)*d),h(f)&&l.scale>f&&(p=(1/l.scale||1)*f)),h(p)&&(x="scale("+p+","+p+")"),DO(b,x)},Ao.prototype._updateOverlaysVisibilty=function(s){var l=this;R(this._overlays,function(d){l._updateOverlayVisibilty(d,s)})},Ao.prototype._init=function(){var s=this._eventBus,l=this;s.on("canvas.viewbox.changing",function(d){l.hide()}),s.on("canvas.viewbox.changed",function(d){var f;f=d.viewbox,l._updateRoot(f),l._updateOverlaysVisibilty(f),l.show()}),s.on(["shape.remove","connection.remove"],function(d){var f=d.element;R(l.get({element:f}),function(b){l.remove(b.id)});var p=l._getOverlayContainer(f);if(p){Ur(p.html);var g=l._overlayContainers.indexOf(p);g!==-1&&l._overlayContainers.splice(g,1)}}),s.on("element.changed",500,function(d){var f=d.element,p=l._getOverlayContainer(f,!0);p&&(R(p.overlays,function(g){l._updateOverlay(g)}),l._updateOverlayContainer(p))}),s.on("element.marker.update",function(d){var f=l._getOverlayContainer(d.element,!0);f&&kn(f.html)[d.add?"add":"remove"](d.marker)}),s.on("root.set",function(){l._updateOverlaysVisibilty(l._canvas.viewbox())}),s.on("diagram.clear",this.clear,this)};var tb={__init__:["overlays"],overlays:["type",Ao]};function nb(s,l,d,f){s.on("element.changed",function(p){var g=p.element;(g.parent||g===l.getRootElement())&&(p.gfx=d.getGraphics(g)),p.gfx&&s.fire(Q2(g)+".changed",p)}),s.on("elements.changed",function(p){var g=p.elements;g.forEach(function(b){s.fire("element.changed",{element:b})}),f.updateContainments(g)}),s.on("shape.changed",function(p){f.update("shape",p.element,p.gfx)}),s.on("connection.changed",function(p){f.update("connection",p.element,p.gfx)})}nb.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var rb={__init__:["changeSupport"],changeSupport:["type",nb]};function lt(s){this._eventBus=s}function Bu(s){return function(l,d,f,p,g){(T(l)||S(l))&&(g=p,p=f,f=d,d=l,l=null),this.on(l,s,d,f,p,g)}}function h_(s,l){l.invoke(lt,this),this.executed(function(d){var f=d.context;f.rootElement?s.setRootElement(f.rootElement):f.rootElement=s.getRootElement()}),this.revert(function(d){var f=d.context;f.rootElement&&s.setRootElement(f.rootElement)})}lt.$inject=["eventBus"],lt.prototype.on=function(s,l,d,f,p,g){if((T(l)||S(l))&&(g=p,p=f,f=d,d=l,l=null),T(d)&&(g=p,p=f,f=d,d=1e3),w(p)&&(g=p,p=!1),!T(f))throw new Error("handlerFn must be a function");y(s)||(s=[s]);var b=this._eventBus;R(s,function(x){var E=["commandStack",x,l].filter(function(k){return k}).join(".");b.on(E,d,p?function(k,P){return function(C){return k.call(P||null,C.context,C.command,C)}}(f,g):f,g)})},lt.prototype.canExecute=Bu("canExecute"),lt.prototype.preExecute=Bu("preExecute"),lt.prototype.preExecuted=Bu("preExecuted"),lt.prototype.execute=Bu("execute"),lt.prototype.executed=Bu("executed"),lt.prototype.postExecute=Bu("postExecute"),lt.prototype.postExecuted=Bu("postExecuted"),lt.prototype.revert=Bu("revert"),lt.prototype.reverted=Bu("reverted"),t(h_,lt),h_.$inject=["canvas","injector"];var NO={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",h_]};function lh(s){return CSS.escape(s)}var T3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function pv(s){return(s=""+s)&&s.replace(/[&<>"']/g,function(l){return T3[l]})}var p_="_plane";function m_(s){return function(l){return l.replace(new RegExp(p_+"$"),"")}(s.id)}function jc(s){var l=s.id;return Q(s,"bpmn:SubProcess")?v_(l):l}function Bc(s){return v_(s)}function g_(s){return Q(fr(s),"bpmndi:BPMNPlane")}function v_(s){return s+p_}function y_(s,l,d){var f=Ln('<ul class="bjs-breadcrumbs"></ul>'),p=d.getContainer(),g=kn(p);p.appendChild(f);var b=[];function x(E){E&&(b=function(C){for(var M=dt(C),$=[],j=M;j;j=j.$parent)(Q(j,"bpmn:SubProcess")||Q(j,"bpmn:Process"))&&$.push(j);return $.reverse()}(E));var k=b.map(function(C){var M=pv(C.name||C.id),$=Ln('<li><span class="bjs-crumb"><a title="'+M+'">'+M+"</a></span></li>"),j=d.findRoot(jc(C))||d.findRoot(C.id);if(!j&&Q(C,"bpmn:Process")){var H=l.find(function(Y){var q=dt(Y);return q&&q.get("processRef")&&q.get("processRef")===C});j=d.findRoot(H.id)}return $.addEventListener("click",function(){d.setRootElement(j)}),$});f.innerHTML="";var P=k.length>1;g.toggle("bjs-breadcrumbs-shown",P),k.forEach(function(C){f.appendChild(C)})}s.on("element.changed",function(E){var k=dt(E.element);D(b,function(P){return P===k})&&x()}),s.on("root.set",function(E){x(E.element)})}function IO(s,l){var d=null,f=new FO;s.on("root.set",function(p){var g=p.element,b=l.viewbox(),x=f.get(g);if(f.set(d,{x:b.x,y:b.y,zoom:b.scale}),d=g,!Q(g,"bpmn:Collaboration")||x){x=x||{x:0,y:0,zoom:1};var E=(b.x-x.x)*b.scale,k=(b.y-x.y)*b.scale;E===0&&k===0||l.scroll({dx:E,dy:k}),x.zoom!==b.scale&&l.zoom(x.zoom,{x:0,y:0})}}),s.on("diagram.clear",function(){f.clear(),d=null})}function FO(){this._entries=[],this.set=function(s,l){var d=!1;for(var f in this._entries)if(this._entries[f][0]===s){this._entries[f][1]=l,d=!0;break}d||this._entries.push([s,l])},this.get=function(s){for(var l in this._entries)if(this._entries[l][0]===s)return this._entries[l][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(s){var l=-1;for(var d in this._entries)if(this._entries[d][0]===s){l=d;break}l!==-1&&this._entries.splice(l,1)}}y_.$inject=["eventBus","elementRegistry","canvas"],IO.$inject=["eventBus","canvas"];var P3=180,b_=160;function ef(s,l){this._eventBus=s,this._moddle=l;var d=this;s.on("import.render.start",1500,function(f,p){d._handleImport(p.definitions)})}function ib(s){return Q(s,"bpmndi:BPMNDiagram")?s:ib(s.$parent)}ef.prototype._handleImport=function(s){if(s.diagrams){var l=this;this._definitions=s,this._processToDiagramMap={},s.diagrams.forEach(function(f){f.plane&&f.plane.bpmnElement&&(l._processToDiagramMap[f.plane.bpmnElement.id]=f)});var d=[];s.diagrams.forEach(function(f){var p=l._createNewDiagrams(f.plane);Array.prototype.push.apply(d,p)}),d.forEach(function(f){l._movePlaneElementsToOrigin(f.plane)})}},ef.prototype._createNewDiagrams=function(s){var l=this,d=[],f=[];s.get("planeElement").forEach(function(g){var b=g.bpmnElement;if(b){var x=b.$parent;Q(b,"bpmn:SubProcess")&&!g.isExpanded&&d.push(b),function(E,k){var P=E.$parent;return!(!Q(P,"bpmn:SubProcess")||P===k.bpmnElement||Dn(E,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}(b,s)&&f.push({diElement:g,parent:x})}});var p=[];return d.forEach(function(g){if(!l._processToDiagramMap[g.id]){var b=l._createDiagram(g);l._processToDiagramMap[g.id]=b,p.push(b)}}),f.forEach(function(g){for(var b=g.diElement,x=g.parent;x&&d.indexOf(x)===-1;)x=x.$parent;if(x){var E=l._processToDiagramMap[x.id];l._moveToDiPlane(b,E.plane)}}),p},ef.prototype._movePlaneElementsToOrigin=function(s){var l=s.get("planeElement"),d=function(g){var b={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return g.planeElement.forEach(function(x){if(x.bounds){var E=nn(x.bounds);b.top=Math.min(E.top,b.top),b.left=Math.min(E.left,b.left)}}),Cs(b)}(s),f=d.x-P3,p=d.y-b_;l.forEach(function(g){g.waypoint?g.waypoint.forEach(function(b){b.x=b.x-f,b.y=b.y-p}):g.bounds&&(g.bounds.x=g.bounds.x-f,g.bounds.y=g.bounds.y-p)})},ef.prototype._moveToDiPlane=function(s,l){var d=ib(s).plane.get("planeElement");d.splice(d.indexOf(s),1),l.get("planeElement").push(s)},ef.prototype._createDiagram=function(s){var l=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:s}),d=this._moddle.create("bpmndi:BPMNDiagram",{plane:l});return l.$parent=d,l.bpmnElement=s,d.$parent=this._definitions,this._definitions.diagrams.push(d),d},ef.$inject=["eventBus","moddle"];var ob=250;function Vc(s,l,d,f){lt.call(this,l),this._canvas=s,this._eventBus=l,this._elementRegistry=d,this._overlays=f;var p=this;this.executed("shape.toggleCollapse",ob,function(g){var b=g.shape;p._canDrillDown(b)?p._addOverlay(b):p._removeOverlay(b)},!0),this.reverted("shape.toggleCollapse",ob,function(g){var b=g.shape;p._canDrillDown(b)?p._addOverlay(b):p._removeOverlay(b)},!0),this.executed(["shape.create","shape.move","shape.delete"],ob,function(g){var b=g.oldParent,x=g.newParent||g.parent,E=g.shape;p._canDrillDown(E)&&p._addOverlay(E),p._updateDrilldownOverlay(b),p._updateDrilldownOverlay(x),p._updateDrilldownOverlay(E)},!0),this.reverted(["shape.create","shape.move","shape.delete"],ob,function(g){var b=g.oldParent,x=g.newParent||g.parent,E=g.shape;p._canDrillDown(E)&&p._addOverlay(E),p._updateDrilldownOverlay(b),p._updateDrilldownOverlay(x),p._updateDrilldownOverlay(E)},!0),l.on("import.render.complete",function(){d.filter(function(g){return p._canDrillDown(g)}).map(function(g){p._addOverlay(g)})})}t(Vc,lt),Vc.prototype._updateDrilldownOverlay=function(s){var l=this._canvas;if(s){var d=l.findRoot(s);d&&this._updateOverlayVisibility(d)}},Vc.prototype._canDrillDown=function(s){var l=this._canvas;return Q(s,"bpmn:SubProcess")&&l.findRoot(jc(s))},Vc.prototype._updateOverlayVisibility=function(s){var l=this._overlays,d=dt(s),f=l.get({element:d.id,type:"drilldown"})[0];if(f){var p=d&&d.get("flowElements")&&d.get("flowElements").length;kn(f.html).toggle("bjs-drilldown-empty",!p)}},Vc.prototype._addOverlay=function(s){var l=this._canvas,d=this._overlays;d.get({element:s,type:"drilldown"}).length&&this._removeOverlay(s);var f=Ln('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');f.addEventListener("click",function(){l.setRootElement(l.findRoot(jc(s)))}),d.add(s,"drilldown",{position:{bottom:-7,right:-8},html:f}),this._updateOverlayVisibility(s)},Vc.prototype._removeOverlay=function(s){this._overlays.remove({element:s,type:"drilldown"})},Vc.$inject=["canvas","eventBus","elementRegistry","overlays"];var er={__depends__:[tb,rb,NO],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",y_],drilldownCentering:["type",IO],drilldownOverlayBehavior:["type",Vc],subprocessCompatibility:["type",ef]};function tf(s){sn.call(this,s)}t(tf,sn),tf.prototype._modules=[CO,Ap,$c,tb,er],tf.prototype._moddleExtensions={};var A3=["c","C"],mv=["v","V"],LO=["y","Y"],$O=["z","Z"];function Aa(s){return!s.altKey&&(s.ctrlKey||s.metaKey)}function zr(s,l){return(s=y(s)?s:[s]).indexOf(l.key)!==-1||s.indexOf(l.code)!==-1}function x_(s){return s.shiftKey}var ch="keyboard.keydown",sb="input-handle-modified-keys";function Ro(s,l){var d=this;this._config=s||{},this._eventBus=l,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),l.on("diagram.destroy",function(){d._fire("destroy"),d.unbind()}),l.on("diagram.init",function(){d._fire("init")}),l.on("attach",function(){s&&s.bindTo&&d.bind(s.bindTo)}),l.on("detach",function(){d.unbind()})}Ro.$inject=["config.keyboard","eventBus"],Ro.prototype._keydownHandler=function(s){this._keyHandler(s,ch)},Ro.prototype._keyupHandler=function(s){this._keyHandler(s,"keyboard.keyup")},Ro.prototype._keyHandler=function(s,l){if(!this._isEventIgnored(s)){var d={keyEvent:s};this._eventBus.fire(l||ch,d)&&s.preventDefault()}},Ro.prototype._isEventIgnored=function(s){return!!s.defaultPrevented||(l=s.target)&&(Re(l,"input, textarea")||l.contentEditable==="true")&&this._isModifiedKeyIgnored(s);var l},Ro.prototype._isModifiedKeyIgnored=function(s){return!Aa(s)||this._getAllowedModifiers(s.target).indexOf(s.key)===-1},Ro.prototype._getAllowedModifiers=function(s){var l=je(s,"["+sb+"]",!0);return!l||this._node&&!this._node.contains(l)?[]:l.getAttribute(sb).split(",")},Ro.prototype.bind=function(s){this.unbind(),this._node=s,_t.bind(s,"keydown",this._keydownHandler),_t.bind(s,"keyup",this._keyupHandler),this._fire("bind")},Ro.prototype.getBinding=function(){return this._node},Ro.prototype.unbind=function(){var s=this._node;s&&(this._fire("unbind"),_t.unbind(s,"keydown",this._keydownHandler),_t.unbind(s,"keyup",this._keyupHandler)),this._node=null},Ro.prototype._fire=function(s){this._eventBus.fire("keyboard."+s,{node:this._node})},Ro.prototype.addListener=function(s,l,d){T(s)&&(d=l,l=s,s=1e3),this._eventBus.on(d||ch,s,l)},Ro.prototype.removeListener=function(s,l){this._eventBus.off(l||ch,s)},Ro.prototype.hasModifier=function(s){return s.ctrlKey||s.metaKey||s.shiftKey||s.altKey},Ro.prototype.isCmd=Aa,Ro.prototype.isShift=x_,Ro.prototype.isKey=zr;var jO=500;function Qo(s,l){var d=this;s.on("editorActions.init",jO,function(f){var p=f.editorActions;d.registerBindings(l,p)})}Qo.$inject=["eventBus","keyboard"],Qo.prototype.registerBindings=function(s,l){function d(f,p){l.isRegistered(f)&&s.addListener(p)}d("undo",function(f){if(function(p){return Aa(p)&&!x_(p)&&zr($O,p)}(f.keyEvent))return l.trigger("undo"),!0}),d("redo",function(f){if(function(p){return Aa(p)&&(zr(LO,p)||zr($O,p)&&x_(p))}(f.keyEvent))return l.trigger("redo"),!0}),d("copy",function(f){if(function(p){return Aa(p)&&zr(A3,p)}(f.keyEvent))return l.trigger("copy"),!0}),d("paste",function(f){if(function(p){return Aa(p)&&zr(mv,p)}(f.keyEvent))return l.trigger("paste"),!0}),d("stepZoom",function(f){var p=f.keyEvent;if(zr(["+","Add","="],p)&&Aa(p))return l.trigger("stepZoom",{value:1}),!0}),d("stepZoom",function(f){var p=f.keyEvent;if(zr(["-","Subtract"],p)&&Aa(p))return l.trigger("stepZoom",{value:-1}),!0}),d("zoom",function(f){var p=f.keyEvent;if(zr("0",p)&&Aa(p))return l.trigger("zoom",{value:1}),!0}),d("removeSelection",function(f){if(zr(["Backspace","Delete","Del"],f.keyEvent))return l.trigger("removeSelection"),!0})};var zc={__init__:["keyboard","keyboardBindings"],keyboard:["type",Ro],keyboardBindings:["type",Qo]},w_={moveSpeed:50,moveSpeedAccelerated:200};function __(s,l,d){var f=this;this._config=le({},w_,s||{}),l.addListener(function(p){var g=p.keyEvent,b=f._config;if(l.isCmd(g)&&l.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],g)){var x,E=l.isShift(g)?b.moveSpeedAccelerated:b.moveSpeed;switch(g.key){case"ArrowLeft":case"Left":x="left";break;case"ArrowUp":case"Up":x="up";break;case"ArrowRight":case"Right":x="right";break;case"ArrowDown":case"Down":x="down"}return f.moveCanvas({speed:E,direction:x}),!0}}),this.moveCanvas=function(p){var g=0,b=0,x=p.speed/Math.min(Math.sqrt(d.viewbox().scale),1);switch(p.direction){case"left":g=x;break;case"up":b=x;break;case"right":g=-x;break;case"down":b=-x}d.scroll({dx:g,dy:b})}}__.$inject=["config.keyboardMove","keyboard","canvas"];var gv={__depends__:[zc],__init__:["keyboardMove"],keyboardMove:["type",__]},BO=/^djs-cursor-.*$/;function Mp(s){var l=kn(document.body);l.removeMatching(BO),s&&l.add("djs-cursor-"+s)}function E_(){Mp(null)}var S_=5e3;function ab(s,l){function d(){return!1}return l=l||"element.click",s.once(l,S_,d),function(){s.off(l,d)}}function ll(s){return{x:s.x+s.width/2,y:s.y+s.height/2}}function Gl(s,l){return{x:s.x-l.x,y:s.y-l.y}}function Vu(s,l){var d;function f(g){var b,x=d.start,E=d.button,k=Xd(g),P=Gl(k,x);!d.dragging&&(b=P,Math.sqrt(Math.pow(b.x,2)+Math.pow(b.y,2))>15)&&(d.dragging=!0,E===0&&ab(s),Mp("grab")),d.dragging&&(P=Gl(k,d.last||d.start),l.scroll({dx:P.x,dy:P.y}),d.last=k),g.preventDefault()}function p(g){_t.unbind(document,"mousemove",f),_t.unbind(document,"mouseup",p),d=null,E_()}s.on("element.mousedown",500,function(g){return function(b){if(!je(b.target,".djs-draggable")){var x=b.button;if(!(x>=2||b.ctrlKey||b.shiftKey||b.altKey))return d={button:x,start:Xd(b)},_t.bind(document,"mousemove",f),_t.bind(document,"mouseup",p),!0}}(g.originalEvent)}),this.isActive=function(){return!!d}}Vu.$inject=["eventBus","canvas"];var k_={__init__:["moveCanvas"],moveCanvas:["type",Vu]};function lb(s){return Math.log(s)/Math.log(10)}function cb(s,l){var d=lb(s.min),f=lb(s.max);return(Math.abs(d)+Math.abs(f))/l}var R3=Math.sign||function(s){return s>=0?1:-1},C_={min:.2,max:4};function Hc(s,l,d){s=s||{},this._enabled=!1,this._canvas=d,this._container=d._container,this._handleWheel=Ue(this._handleWheel,this),this._totalDelta=0,this._scale=s.scale||.75;var f=this;l.on("canvas.init",function(p){f._init(s.enabled!==!1)})}Hc.$inject=["config.zoomScroll","eventBus","canvas"],Hc.prototype.scroll=function(s){this._canvas.scroll(s)},Hc.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Hc.prototype.zoom=function(s,l){var d=cb(C_,20);this._totalDelta+=s,Math.abs(this._totalDelta)>.1&&(this._zoom(s,l,d),this._totalDelta=0)},Hc.prototype._handleWheel=function(s){if(!je(s.target,".djs-scrollable",!0)){var l=this._container;s.preventDefault();var d,f=s.ctrlKey||fv()&&s.metaKey,p=s.shiftKey,g=-1*this._scale;if(g*=f?s.deltaMode===0?.02:.32:s.deltaMode===0?1:16,f){var b=l.getBoundingClientRect(),x={x:s.clientX-b.left,y:s.clientY-b.top};d=Math.sqrt(Math.pow(s.deltaY,2)+Math.pow(s.deltaX,2))*R3(s.deltaY)*g,this.zoom(d,x)}else d=p?{dx:g*s.deltaY,dy:0}:{dx:g*s.deltaX,dy:g*s.deltaY},this.scroll(d)}},Hc.prototype.stepZoom=function(s,l){var d=cb(C_,10);this._zoom(s,l,d)},Hc.prototype._zoom=function(s,l,d){var f=this._canvas,p=s>0?1:-1,g=lb(f.zoom()),b=Math.round(g/d)*d;b+=d*p;var x,E,k=Math.pow(10,b);f.zoom((x=C_,E=k,Math.max(x.min,Math.min(x.max,E))),l)},Hc.prototype.toggle=function(s){var l=this._container,d=this._handleWheel,f=this._enabled;return s===void 0&&(s=!f),f!==s&&_t[s?"bind":"unbind"](l,"wheel",d,!1),this._enabled=s,s},Hc.prototype._init=function(s){this.toggle(s)};var O_={__init__:["zoomScroll"],zoomScroll:["type",Hc]};function Dp(s){tf.call(this,s)}function M3(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}t(Dp,tf),Dp.prototype._navigationModules=[gv,k_,O_],Dp.prototype._modules=[].concat(tf.prototype._modules,Dp.prototype._navigationModules);var T_={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
   * http://hammerjs.github.io/
   *
   * Copyright (c) 2016 Jorik Tangelder;
   * Licensed under the MIT license */(function(s){(function(l,d,f,p){var g,b=["","webkit","Moz","MS","ms","o"],x=d.createElement("div"),E="function",k=Math.round,P=Math.abs,C=Date.now;function M(te,ye,Fe){return setTimeout(ee(te,Fe),ye)}function $(te,ye,Fe){return!!Array.isArray(te)&&(j(te,Fe[ye],Fe),!0)}function j(te,ye,Fe){var Ye;if(te)if(te.forEach)te.forEach(ye,Fe);else if(te.length!==p)for(Ye=0;Ye<te.length;)ye.call(Fe,te[Ye],Ye,te),Ye++;else for(Ye in te)te.hasOwnProperty(Ye)&&ye.call(Fe,te[Ye],Ye,te)}function H(te,ye,Fe){var Ye="DEPRECATED METHOD: "+ye+`
`+Fe+` AT 
`;return function(){var yt=new Error("get-stack-trace"),Gn=yt&&yt.stack?yt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ci=l.console&&(l.console.warn||l.console.log);return ci&&ci.call(l.console,Ye,Gn),te.apply(this,arguments)}}g=typeof Object.assign!="function"?function(te){if(te===p||te===null)throw new TypeError("Cannot convert undefined or null to object");for(var ye=Object(te),Fe=1;Fe<arguments.length;Fe++){var Ye=arguments[Fe];if(Ye!==p&&Ye!==null)for(var yt in Ye)Ye.hasOwnProperty(yt)&&(ye[yt]=Ye[yt])}return ye}:Object.assign;var Y=H(function(te,ye,Fe){for(var Ye=Object.keys(ye),yt=0;yt<Ye.length;)(!Fe||Fe&&te[Ye[yt]]===p)&&(te[Ye[yt]]=ye[Ye[yt]]),yt++;return te},"extend","Use `assign`."),q=H(function(te,ye){return Y(te,ye,!0)},"merge","Use `assign`.");function W(te,ye,Fe){var Ye,yt=ye.prototype;(Ye=te.prototype=Object.create(yt)).constructor=te,Ye._super=yt,Fe&&g(Ye,Fe)}function ee(te,ye){return function(){return te.apply(ye,arguments)}}function ie(te,ye){return typeof te==E?te.apply(ye&&ye[0]||p,ye):te}function oe(te,ye){return te===p?ye:te}function ke(te,ye,Fe){j(Qt(ye),function(Ye){te.addEventListener(Ye,Fe,!1)})}function Pe(te,ye,Fe){j(Qt(ye),function(Ye){te.removeEventListener(Ye,Fe,!1)})}function Oe(te,ye){for(;te;){if(te==ye)return!0;te=te.parentNode}return!1}function Le(te,ye){return te.indexOf(ye)>-1}function Qt(te){return te.trim().split(/\s+/g)}function ft(te,ye,Fe){if(te.indexOf&&!Fe)return te.indexOf(ye);for(var Ye=0;Ye<te.length;){if(Fe&&te[Ye][Fe]==ye||!Fe&&te[Ye]===ye)return Ye;Ye++}return-1}function Be(te){return Array.prototype.slice.call(te,0)}function et(te,ye,Fe){for(var Ye=[],yt=[],Gn=0;Gn<te.length;){var ci=te[Gn][ye];ft(yt,ci)<0&&Ye.push(te[Gn]),yt[Gn]=ci,Gn++}return Ye=Ye.sort(function(Gs,kr){return Gs[ye]>kr[ye]}),Ye}function xn(te,ye){for(var Fe,Ye,yt=ye[0].toUpperCase()+ye.slice(1),Gn=0;Gn<b.length;){if((Ye=(Fe=b[Gn])?Fe+yt:ye)in te)return Ye;Gn++}return p}var un=1;function hn(te){var ye=te.ownerDocument||te;return ye.defaultView||ye.parentWindow||l}var Tn="ontouchstart"in l,Wr=xn(l,"PointerEvent")!==p,Ir=Tn&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Qr="touch",vr="mouse",lr=25,It=1,Jr=4,Tr=8,Jl=1,Fa=2,ei=4,Sr=8,xr=16,ti=Fa|ei,Kr=Sr|xr,Fr=ti|Kr,Ri=["x","y"],Un=["clientX","clientY"];function Mi(te,ye){var Fe=this;this.manager=te,this.callback=ye,this.element=te.element,this.target=te.options.inputTarget,this.domHandler=function(Ye){ie(te.options.enable,[te])&&Fe.handler(Ye)},this.init()}function de(te,ye,Fe){var Ye=Fe.pointers.length,yt=Fe.changedPointers.length,Gn=ye&It&&Ye-yt==0,ci=ye&(Jr|Tr)&&Ye-yt==0;Fe.isFirst=!!Gn,Fe.isFinal=!!ci,Gn&&(te.session={}),Fe.eventType=ye,function(Gs,kr){var ia=Gs.session,yA=kr.pointers,RH=yA.length;ia.firstInput||(ia.firstInput=G(kr)),RH>1&&!ia.firstMultiple?ia.firstMultiple=G(kr):RH===1&&(ia.firstMultiple=!1);var MH=ia.firstInput,l1=ia.firstMultiple,DH=l1?l1.center:MH.center,NH=kr.center=J(yA);kr.timeStamp=C(),kr.deltaTime=kr.timeStamp-MH.timeStamp,kr.angle=wn(DH,NH),kr.distance=Tt(DH,NH),function(Zu,As){var um=As.center,Jv=Zu.offsetDelta||{},ey=Zu.prevDelta||{},ty=Zu.prevInput||{};As.eventType!==It&&ty.eventType!==Jr||(ey=Zu.prevDelta={x:ty.deltaX||0,y:ty.deltaY||0},Jv=Zu.offsetDelta={x:um.x,y:um.y}),As.deltaX=ey.x+(um.x-Jv.x),As.deltaY=ey.y+(um.y-Jv.y)}(ia,kr),kr.offsetDirection=Ve(kr.deltaX,kr.deltaY);var c1=De(kr.deltaTime,kr.deltaX,kr.deltaY);kr.overallVelocityX=c1.x,kr.overallVelocityY=c1.y,kr.overallVelocity=P(c1.x)>P(c1.y)?c1.x:c1.y,kr.scale=l1?(dF=l1.pointers,fF=yA,Tt(fF[0],fF[1],Un)/Tt(dF[0],dF[1],Un)):1,kr.rotation=l1?function(Zu,As){return wn(As[1],As[0],Un)+wn(Zu[1],Zu[0],Un)}(l1.pointers,yA):0,kr.maxPointers=ia.prevInput?kr.pointers.length>ia.prevInput.maxPointers?kr.pointers.length:ia.prevInput.maxPointers:kr.pointers.length,function(Zu,As){var um,Jv,ey,ty,dm=Zu.lastInterval||As,IH=As.timeStamp-dm.timeStamp;if(As.eventType!=Tr&&(IH>lr||dm.velocity===p)){var FH=As.deltaX-dm.deltaX,LH=As.deltaY-dm.deltaY,u1=De(IH,FH,LH);Jv=u1.x,ey=u1.y,um=P(u1.x)>P(u1.y)?u1.x:u1.y,ty=Ve(FH,LH),Zu.lastInterval=As}else um=dm.velocity,Jv=dm.velocityX,ey=dm.velocityY,ty=dm.direction;As.velocity=um,As.velocityX=Jv,As.velocityY=ey,As.direction=ty}(ia,kr);var dF,fF,hF=Gs.element;Oe(kr.srcEvent.target,hF)&&(hF=kr.srcEvent.target),kr.target=hF}(te,Fe),te.emit("hammer.input",Fe),te.recognize(Fe),te.session.prevInput=Fe}function G(te){for(var ye=[],Fe=0;Fe<te.pointers.length;)ye[Fe]={clientX:k(te.pointers[Fe].clientX),clientY:k(te.pointers[Fe].clientY)},Fe++;return{timeStamp:C(),pointers:ye,center:J(ye),deltaX:te.deltaX,deltaY:te.deltaY}}function J(te){var ye=te.length;if(ye===1)return{x:k(te[0].clientX),y:k(te[0].clientY)};for(var Fe=0,Ye=0,yt=0;yt<ye;)Fe+=te[yt].clientX,Ye+=te[yt].clientY,yt++;return{x:k(Fe/ye),y:k(Ye/ye)}}function De(te,ye,Fe){return{x:ye/te||0,y:Fe/te||0}}function Ve(te,ye){return te===ye?Jl:P(te)>=P(ye)?te<0?Fa:ei:ye<0?Sr:xr}function Tt(te,ye,Fe){Fe||(Fe=Ri);var Ye=ye[Fe[0]]-te[Fe[0]],yt=ye[Fe[1]]-te[Fe[1]];return Math.sqrt(Ye*Ye+yt*yt)}function wn(te,ye,Fe){Fe||(Fe=Ri);var Ye=ye[Fe[0]]-te[Fe[0]],yt=ye[Fe[1]]-te[Fe[1]];return 180*Math.atan2(yt,Ye)/Math.PI}Mi.prototype={handler:function(){},init:function(){this.evEl&&ke(this.element,this.evEl,this.domHandler),this.evTarget&&ke(this.target,this.evTarget,this.domHandler),this.evWin&&ke(hn(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Pe(this.element,this.evEl,this.domHandler),this.evTarget&&Pe(this.target,this.evTarget,this.domHandler),this.evWin&&Pe(hn(this.element),this.evWin,this.domHandler)}};var tr={mousedown:It,mousemove:2,mouseup:Jr},Di="mousedown",Xv="mousemove mouseup";function ec(){this.evEl=Di,this.evWin=Xv,this.pressed=!1,Mi.apply(this,arguments)}W(ec,Mi,{handler:function(te){var ye=tr[te.type];ye&It&&te.button===0&&(this.pressed=!0),2&ye&&te.which!==1&&(ye=Jr),this.pressed&&(ye&Jr&&(this.pressed=!1),this.callback(this.manager,ye,{pointers:[te],changedPointers:[te],pointerType:vr,srcEvent:te}))}});var a1={pointerdown:It,pointermove:2,pointerup:Jr,pointercancel:Tr,pointerout:Tr},cA={2:Qr,3:"pen",4:vr,5:"kinect"},uA="pointerdown",dA="pointermove pointerup pointercancel";function nF(){this.evEl=uA,this.evWin=dA,Mi.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}l.MSPointerEvent&&!l.PointerEvent&&(uA="MSPointerDown",dA="MSPointerMove MSPointerUp MSPointerCancel"),W(nF,Mi,{handler:function(te){var ye=this.store,Fe=!1,Ye=te.type.toLowerCase().replace("ms",""),yt=a1[Ye],Gn=cA[te.pointerType]||te.pointerType,ci=Gn==Qr,Gs=ft(ye,te.pointerId,"pointerId");yt&It&&(te.button===0||ci)?Gs<0&&(ye.push(te),Gs=ye.length-1):yt&(Jr|Tr)&&(Fe=!0),Gs<0||(ye[Gs]=te,this.callback(this.manager,yt,{pointers:ye,changedPointers:[te],pointerType:Gn,srcEvent:te}),Fe&&ye.splice(Gs,1))}});var ame={touchstart:It,touchmove:2,touchend:Jr,touchcancel:Tr};function _H(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Mi.apply(this,arguments)}function lme(te,ye){var Fe=Be(te.touches),Ye=Be(te.changedTouches);return ye&(Jr|Tr)&&(Fe=et(Fe.concat(Ye),"identifier")),[Fe,Ye]}W(_H,Mi,{handler:function(te){var ye=ame[te.type];if(ye===It&&(this.started=!0),this.started){var Fe=lme.call(this,te,ye);ye&(Jr|Tr)&&Fe[0].length-Fe[1].length==0&&(this.started=!1),this.callback(this.manager,ye,{pointers:Fe[0],changedPointers:Fe[1],pointerType:Qr,srcEvent:te})}}});var cme={touchstart:It,touchmove:2,touchend:Jr,touchcancel:Tr},ume="touchstart touchmove touchend touchcancel";function fA(){this.evTarget=ume,this.targetIds={},Mi.apply(this,arguments)}function dme(te,ye){var Fe=Be(te.touches),Ye=this.targetIds;if(ye&(2|It)&&Fe.length===1)return Ye[Fe[0].identifier]=!0,[Fe,Fe];var yt,Gn,ci=Be(te.changedTouches),Gs=[],kr=this.target;if(Gn=Fe.filter(function(ia){return Oe(ia.target,kr)}),ye===It)for(yt=0;yt<Gn.length;)Ye[Gn[yt].identifier]=!0,yt++;for(yt=0;yt<ci.length;)Ye[ci[yt].identifier]&&Gs.push(ci[yt]),ye&(Jr|Tr)&&delete Ye[ci[yt].identifier],yt++;return Gs.length?[et(Gn.concat(Gs),"identifier"),Gs]:void 0}W(fA,Mi,{handler:function(te){var ye=cme[te.type],Fe=dme.call(this,te,ye);Fe&&this.callback(this.manager,ye,{pointers:Fe[0],changedPointers:Fe[1],pointerType:Qr,srcEvent:te})}});var fme=2500;function rF(){Mi.apply(this,arguments);var te=ee(this.handler,this);this.touch=new fA(this.manager,te),this.mouse=new ec(this.manager,te),this.primaryTouch=null,this.lastTouches=[]}function hme(te,ye){te&It?(this.primaryTouch=ye.changedPointers[0].identifier,EH.call(this,ye)):te&(Jr|Tr)&&EH.call(this,ye)}function EH(te){var ye=te.changedPointers[0];if(ye.identifier===this.primaryTouch){var Fe={x:ye.clientX,y:ye.clientY};this.lastTouches.push(Fe);var Ye=this.lastTouches;setTimeout(function(){var yt=Ye.indexOf(Fe);yt>-1&&Ye.splice(yt,1)},fme)}}function pme(te){for(var ye=te.srcEvent.clientX,Fe=te.srcEvent.clientY,Ye=0;Ye<this.lastTouches.length;Ye++){var yt=this.lastTouches[Ye],Gn=Math.abs(ye-yt.x),ci=Math.abs(Fe-yt.y);if(Gn<=25&&ci<=25)return!0}return!1}W(rF,Mi,{handler:function(te,ye,Fe){var Ye=Fe.pointerType==Qr,yt=Fe.pointerType==vr;if(!(yt&&Fe.sourceCapabilities&&Fe.sourceCapabilities.firesTouchEvents)){if(Ye)hme.call(this,ye,Fe);else if(yt&&pme.call(this,Fe))return;this.callback(te,ye,Fe)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var SH=xn(x.style,"touchAction"),kH=SH!==p,CH="compute",OH="auto",iF="manipulation",Zv="none",_S="pan-x",ES="pan-y",hA=function(){if(!kH)return!1;var te={},ye=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Fe){te[Fe]=!ye||l.CSS.supports("touch-action",Fe)}),te}();function oF(te,ye){this.manager=te,this.set(ye)}oF.prototype={set:function(te){te==CH&&(te=this.compute()),kH&&this.manager.element.style&&hA[te]&&(this.manager.element.style[SH]=te),this.actions=te.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var te=[];return j(this.manager.recognizers,function(ye){ie(ye.options.enable,[ye])&&(te=te.concat(ye.getTouchAction()))}),function(ye){if(Le(ye,Zv))return Zv;var Fe=Le(ye,_S),Ye=Le(ye,ES);return Fe&&Ye?Zv:Fe||Ye?Fe?_S:ES:Le(ye,iF)?iF:OH}(te.join(" "))},preventDefaults:function(te){var ye=te.srcEvent,Fe=te.offsetDirection;if(this.manager.session.prevented)ye.preventDefault();else{var Ye=this.actions,yt=Le(Ye,Zv)&&!hA[Zv],Gn=Le(Ye,ES)&&!hA[ES],ci=Le(Ye,_S)&&!hA[_S];if(yt){var Gs=te.pointers.length===1,kr=te.distance<2,ia=te.deltaTime<250;if(Gs&&kr&&ia)return}if(!ci||!Gn)return yt||Gn&&Fe&ti||ci&&Fe&Kr?this.preventSrc(ye):void 0}},preventSrc:function(te){this.manager.session.prevented=!0,te.preventDefault()}};var pA=1,Eh=32;function Sh(te){this.options=g({},this.defaults,te||{}),this.id=un++,this.manager=null,this.options.enable=oe(this.options.enable,!0),this.state=pA,this.simultaneous={},this.requireFail=[]}function TH(te){return 16&te?"cancel":8&te?"end":4&te?"move":2&te?"start":""}function PH(te){return te==xr?"down":te==Sr?"up":te==Fa?"left":te==ei?"right":""}function mA(te,ye){var Fe=ye.manager;return Fe?Fe.get(te):te}function Xu(){Sh.apply(this,arguments)}function gA(){Xu.apply(this,arguments),this.pX=null,this.pY=null}function sF(){Xu.apply(this,arguments)}function aF(){Sh.apply(this,arguments),this._timer=null,this._input=null}function lF(){Xu.apply(this,arguments)}function cF(){Xu.apply(this,arguments)}function vA(){Sh.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function cm(te,ye){return(ye=ye||{}).recognizers=oe(ye.recognizers,cm.defaults.preset),new uF(te,ye)}Sh.prototype={defaults:{},set:function(te){return g(this.options,te),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(te){if($(te,"recognizeWith",this))return this;var ye=this.simultaneous;return ye[(te=mA(te,this)).id]||(ye[te.id]=te,te.recognizeWith(this)),this},dropRecognizeWith:function(te){return $(te,"dropRecognizeWith",this)||(te=mA(te,this),delete this.simultaneous[te.id]),this},requireFailure:function(te){if($(te,"requireFailure",this))return this;var ye=this.requireFail;return ft(ye,te=mA(te,this))===-1&&(ye.push(te),te.requireFailure(this)),this},dropRequireFailure:function(te){if($(te,"dropRequireFailure",this))return this;te=mA(te,this);var ye=ft(this.requireFail,te);return ye>-1&&this.requireFail.splice(ye,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(te){return!!this.simultaneous[te.id]},emit:function(te){var ye=this,Fe=this.state;function Ye(yt){ye.manager.emit(yt,te)}Fe<8&&Ye(ye.options.event+TH(Fe)),Ye(ye.options.event),te.additionalEvent&&Ye(te.additionalEvent),Fe>=8&&Ye(ye.options.event+TH(Fe))},tryEmit:function(te){if(this.canEmit())return this.emit(te);this.state=Eh},canEmit:function(){for(var te=0;te<this.requireFail.length;){if(!(this.requireFail[te].state&(Eh|pA)))return!1;te++}return!0},recognize:function(te){var ye=g({},te);if(!ie(this.options.enable,[this,ye]))return this.reset(),void(this.state=Eh);56&this.state&&(this.state=pA),this.state=this.process(ye),30&this.state&&this.tryEmit(ye)},process:function(te){},getTouchAction:function(){},reset:function(){}},W(Xu,Sh,{defaults:{pointers:1},attrTest:function(te){var ye=this.options.pointers;return ye===0||te.pointers.length===ye},process:function(te){var ye=this.state,Fe=te.eventType,Ye=6&ye,yt=this.attrTest(te);return Ye&&(Fe&Tr||!yt)?16|ye:Ye||yt?Fe&Jr?8|ye:2&ye?4|ye:2:Eh}}),W(gA,Xu,{defaults:{event:"pan",threshold:10,pointers:1,direction:Fr},getTouchAction:function(){var te=this.options.direction,ye=[];return te&ti&&ye.push(ES),te&Kr&&ye.push(_S),ye},directionTest:function(te){var ye=this.options,Fe=!0,Ye=te.distance,yt=te.direction,Gn=te.deltaX,ci=te.deltaY;return yt&ye.direction||(ye.direction&ti?(yt=Gn===0?Jl:Gn<0?Fa:ei,Fe=Gn!=this.pX,Ye=Math.abs(te.deltaX)):(yt=ci===0?Jl:ci<0?Sr:xr,Fe=ci!=this.pY,Ye=Math.abs(te.deltaY))),te.direction=yt,Fe&&Ye>ye.threshold&&yt&ye.direction},attrTest:function(te){return Xu.prototype.attrTest.call(this,te)&&(2&this.state||!(2&this.state)&&this.directionTest(te))},emit:function(te){this.pX=te.deltaX,this.pY=te.deltaY;var ye=PH(te.direction);ye&&(te.additionalEvent=this.options.event+ye),this._super.emit.call(this,te)}}),W(sF,Xu,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zv]},attrTest:function(te){return this._super.attrTest.call(this,te)&&(Math.abs(te.scale-1)>this.options.threshold||2&this.state)},emit:function(te){if(te.scale!==1){var ye=te.scale<1?"in":"out";te.additionalEvent=this.options.event+ye}this._super.emit.call(this,te)}}),W(aF,Sh,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[OH]},process:function(te){var ye=this.options,Fe=te.pointers.length===ye.pointers,Ye=te.distance<ye.threshold,yt=te.deltaTime>ye.time;if(this._input=te,!Ye||!Fe||te.eventType&(Jr|Tr)&&!yt)this.reset();else if(te.eventType&It)this.reset(),this._timer=M(function(){this.state=8,this.tryEmit()},ye.time,this);else if(te.eventType&Jr)return 8;return Eh},reset:function(){clearTimeout(this._timer)},emit:function(te){this.state===8&&(te&&te.eventType&Jr?this.manager.emit(this.options.event+"up",te):(this._input.timeStamp=C(),this.manager.emit(this.options.event,this._input)))}}),W(lF,Xu,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zv]},attrTest:function(te){return this._super.attrTest.call(this,te)&&(Math.abs(te.rotation)>this.options.threshold||2&this.state)}}),W(cF,Xu,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ti|Kr,pointers:1},getTouchAction:function(){return gA.prototype.getTouchAction.call(this)},attrTest:function(te){var ye,Fe=this.options.direction;return Fe&(ti|Kr)?ye=te.overallVelocity:Fe&ti?ye=te.overallVelocityX:Fe&Kr&&(ye=te.overallVelocityY),this._super.attrTest.call(this,te)&&Fe&te.offsetDirection&&te.distance>this.options.threshold&&te.maxPointers==this.options.pointers&&P(ye)>this.options.velocity&&te.eventType&Jr},emit:function(te){var ye=PH(te.offsetDirection);ye&&this.manager.emit(this.options.event+ye,te),this.manager.emit(this.options.event,te)}}),W(vA,Sh,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[iF]},process:function(te){var ye=this.options,Fe=te.pointers.length===ye.pointers,Ye=te.distance<ye.threshold,yt=te.deltaTime<ye.time;if(this.reset(),te.eventType&It&&this.count===0)return this.failTimeout();if(Ye&&yt&&Fe){if(te.eventType!=Jr)return this.failTimeout();var Gn=!this.pTime||te.timeStamp-this.pTime<ye.interval,ci=!this.pCenter||Tt(this.pCenter,te.center)<ye.posThreshold;if(this.pTime=te.timeStamp,this.pCenter=te.center,ci&&Gn?this.count+=1:this.count=1,this._input=te,this.count%ye.taps===0)return this.hasRequireFailures()?(this._timer=M(function(){this.state=8,this.tryEmit()},ye.interval,this),2):8}return Eh},failTimeout:function(){return this._timer=M(function(){this.state=Eh},this.options.interval,this),Eh},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),cm.VERSION="2.0.7",cm.defaults={domEvents:!1,touchAction:CH,enable:!0,inputTarget:null,inputClass:null,preset:[[lF,{enable:!1}],[sF,{enable:!1},["rotate"]],[cF,{direction:ti}],[gA,{direction:ti},["swipe"]],[vA],[vA,{event:"doubletap",taps:2},["tap"]],[aF]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function uF(te,ye){var Fe;this.options=g({},cm.defaults,ye||{}),this.options.inputTarget=this.options.inputTarget||te,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=te,this.input=new((Fe=this).options.inputClass||(Wr?nF:Ir?fA:Tn?rF:ec))(Fe,de),this.touchAction=new oF(this,this.options.touchAction),AH(this,!0),j(this.options.recognizers,function(Ye){var yt=this.add(new Ye[0](Ye[1]));Ye[2]&&yt.recognizeWith(Ye[2]),Ye[3]&&yt.requireFailure(Ye[3])},this)}function AH(te,ye){var Fe,Ye=te.element;Ye.style&&(j(te.options.cssProps,function(yt,Gn){Fe=xn(Ye.style,Gn),ye?(te.oldCssProps[Fe]=Ye.style[Fe],Ye.style[Fe]=yt):Ye.style[Fe]=te.oldCssProps[Fe]||""}),ye||(te.oldCssProps={}))}uF.prototype={set:function(te){return g(this.options,te),te.touchAction&&this.touchAction.update(),te.inputTarget&&(this.input.destroy(),this.input.target=te.inputTarget,this.input.init()),this},stop:function(te){this.session.stopped=te?2:1},recognize:function(te){var ye=this.session;if(!ye.stopped){var Fe;this.touchAction.preventDefaults(te);var Ye=this.recognizers,yt=ye.curRecognizer;(!yt||yt&&8&yt.state)&&(yt=ye.curRecognizer=null);for(var Gn=0;Gn<Ye.length;)Fe=Ye[Gn],ye.stopped===2||yt&&Fe!=yt&&!Fe.canRecognizeWith(yt)?Fe.reset():Fe.recognize(te),!yt&&14&Fe.state&&(yt=ye.curRecognizer=Fe),Gn++}},get:function(te){if(te instanceof Sh)return te;for(var ye=this.recognizers,Fe=0;Fe<ye.length;Fe++)if(ye[Fe].options.event==te)return ye[Fe];return null},add:function(te){if($(te,"add",this))return this;var ye=this.get(te.options.event);return ye&&this.remove(ye),this.recognizers.push(te),te.manager=this,this.touchAction.update(),te},remove:function(te){if($(te,"remove",this))return this;if(te=this.get(te)){var ye=this.recognizers,Fe=ft(ye,te);Fe!==-1&&(ye.splice(Fe,1),this.touchAction.update())}return this},on:function(te,ye){if(te!==p&&ye!==p){var Fe=this.handlers;return j(Qt(te),function(Ye){Fe[Ye]=Fe[Ye]||[],Fe[Ye].push(ye)}),this}},off:function(te,ye){if(te!==p){var Fe=this.handlers;return j(Qt(te),function(Ye){ye?Fe[Ye]&&Fe[Ye].splice(ft(Fe[Ye],ye),1):delete Fe[Ye]}),this}},emit:function(te,ye){this.options.domEvents&&function(yt,Gn){var ci=d.createEvent("Event");ci.initEvent(yt,!0,!0),ci.gesture=Gn,Gn.target.dispatchEvent(ci)}(te,ye);var Fe=this.handlers[te]&&this.handlers[te].slice();if(Fe&&Fe.length){ye.type=te,ye.preventDefault=function(){ye.srcEvent.preventDefault()};for(var Ye=0;Ye<Fe.length;)Fe[Ye](ye),Ye++}},destroy:function(){this.element&&AH(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},g(cm,{INPUT_START:It,INPUT_MOVE:2,INPUT_END:Jr,INPUT_CANCEL:Tr,STATE_POSSIBLE:pA,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Eh,DIRECTION_NONE:Jl,DIRECTION_LEFT:Fa,DIRECTION_RIGHT:ei,DIRECTION_UP:Sr,DIRECTION_DOWN:xr,DIRECTION_HORIZONTAL:ti,DIRECTION_VERTICAL:Kr,DIRECTION_ALL:Fr,Manager:uF,Input:Mi,TouchAction:oF,TouchInput:fA,MouseInput:ec,PointerEventInput:nF,TouchMouseInput:rF,SingleTouchInput:_H,Recognizer:Sh,AttrRecognizer:Xu,Tap:vA,Pan:gA,Swipe:cF,Pinch:sF,Rotate:lF,Press:aF,on:ke,off:Pe,each:j,merge:q,extend:Y,assign:g,inherit:W,bindFn:ee,prefixed:xn}),(l!==void 0?l:typeof self<"u"?self:{}).Hammer=cm,s.exports?s.exports=cm:l.Hammer=cm})(window,document)})(T_);var nf=M3(T_.exports),zs=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function Ra(s,l){return l.get(s,!1)}function P_(s){s.preventDefault(),typeof s.stopPropagation=="function"?s.stopPropagation():s.srcEvent&&typeof s.srcEvent.stopPropagation=="function"&&s.srcEvent.stopPropagation(),typeof s.stopImmediatePropagation=="function"&&s.stopImmediatePropagation()}function A_(s){function l(E){setTimeout(function(){R(zs,function(k){_t.unbind(s,k,P_,!0)})},500)}_t.bind(s,"touchstart",function(E){R(zs,function(k){_t.bind(s,k,P_,!0)})},!0),_t.bind(s,"touchend",l,!0),_t.bind(s,"touchcancel",l,!0);var d=new nf.Manager(s,{inputClass:nf.TouchInput,recognizers:[],domEvents:!0}),f=new nf.Tap,p=new nf.Pan({threshold:10}),g=new nf.Press,b=new nf.Pinch,x=new nf.Tap({event:"doubletap",taps:2});return b.requireFailure(p),b.requireFailure(g),d.add([p,g,b,x,f]),d.reset=function(E){var k=this.recognizers,P=this.session;P.stopped||(d.stop(E),setTimeout(function(){var C,M;for(C=0;M=k[C];C++)M.reset(),M.state=8;P.curRecognizer=null},0))},d.on("hammer.input",function(E){E.srcEvent.defaultPrevented&&d.reset(!0)}),d}function vv(s,l,d,f,p){var g,b=Ra("dragging",s),x=Ra("move",s),E=Ra("contextPad",s),k=Ra("palette",s);function P($,j){return function(H){var Y=C(H.target),q=Y&&f.get(Y);return j&&(H.srcEvent.button=j),p.fire($,H,q)}}function C($){return je($,"svg, .djs-element",!0)}function M($){function j(H){var Y=C(H.target),q=Y&&f.get(Y);if(x&&l.getRootElement()!==q)return x.start(H,q,!0);(function(W){var ee=0,ie=0;function oe(Pe){var Oe=Pe.deltaX-ee,Le=Pe.deltaY-ie;l.scroll({dx:Oe,dy:Le}),ee=Pe.deltaX,ie=Pe.deltaY}function ke(Pe){g.off("panmove",oe),g.off("panend",ke),g.off("pancancel",ke)}g.on("panmove",oe),g.on("panend",ke),g.on("pancancel",ke)})()}(g=A_($)).on("tap",P("element.click")),g.on("doubletap",P("element.dblclick",1)),g.on("panstart",j),g.on("press",j),g.on("pinchstart",function(H){var Y=l.zoom(),q=H.center;function W(ie){var oe=1-(1-ie.scale)/1.5,ke=Math.max(.2,Math.min(4,oe*Y));l.zoom(ke,q),P_(ie)}function ee(ie){g.off("pinchmove",W),g.off("pinchend",ee),g.off("pinchcancel",ee),g.reset(!0)}g.on("pinchmove",W),g.on("pinchend",ee),g.on("pinchcancel",ee)})}b&&d.on("drag.move",function($){var j=$.originalEvent;if(j&&!(j instanceof MouseEvent)){var H=Xd(j),Y=C(document.elementFromPoint(H.x,H.y)),q=Y&&f.get(Y);q!==$.hover&&($.hover&&b.out($),q&&(b.hover({element:q,gfx:Y}),$.hover=q,$.hoverGfx=Y))}}),E&&d.on("contextPad.create",function($){var j=A_($.pad.html);j.on("panstart",function(H){E.trigger("dragstart",H,!0)}),j.on("press",function(H){E.trigger("dragstart",H,!0)}),j.on("tap",function(H){E.trigger("click",H)})}),k&&d.on("palette.create",function($){var j=A_($.container);j.on("panstart",function(H){k.trigger("dragstart",H,!0)}),j.on("press",function(H){k.trigger("dragstart",H,!0)}),j.on("tap",function(H){k.trigger("click",H)})}),d.on("canvas.init",function($){M($.svg)})}function rf(s){var l=this;s.on("canvas.init",function(d){l.addBBoxMarker(d.svg)})}vv.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],rf.$inject=["eventBus"],rf.prototype.addBBoxMarker=function(s){var l={fill:"none",class:"outer-bound-marker"},d=ot("rect");ut(d,{x:-1e4,y:1e4,width:10,height:10}),ut(d,l),ct(s,d);var f=ot("rect");ut(f,{x:1e4,y:1e4,width:10,height:10}),ut(f,l),ct(s,f)};var VO={__depends__:[{__depends__:[Zd],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",vv],touchFix:["type",rf]}]};function ub(s){return s&&s[s.length-1]}function zO(s){return s.y}function R_(s){return s.x}var Np={left:R_,center:R_,right:function(s){return s.x+s.width},top:zO,middle:zO,bottom:function(s){return s.y+s.height}};function Wc(s,l){this._modeling=s,this._rules=l}Wc.$inject=["modeling","rules"],Wc.prototype._getOrientationDetails=function(s){var l="x",d="width";return["top","bottom","middle"].indexOf(s)!==-1&&(l="y",d="height"),{axis:l,dimension:d}},Wc.prototype._isType=function(s,l){return l.indexOf(s)!==-1},Wc.prototype._alignmentPosition=function(s,l){var d,f,p,g=this._getOrientationDetails(s),b=g.axis,x=g.dimension,E={},k={},P=!1;if(this._isType(s,["left","top"]))E[s]=l[0][b];else if(this._isType(s,["right","bottom"]))p=ub(l),E[s]=p[b]+p[x];else if(this._isType(s,["center","middle"])){if(R(l,function(C){var M=C[b]+Math.round(C[x]/2);k[M]?k[M].elements.push(C):k[M]={elements:[C],center:M}}),d=Ce(k,function(C){return C.elements.length>1&&(P=!0),C.elements.length}),P)return E[s]=ub(d).center,E;f=l[0],p=ub(l=Ce(l,function(C){return C[b]+C[x]})),E[s]=function(C,M){return Math.round((C[b]+M[b]+M[x])/2)}(f,p)}return E},Wc.prototype.trigger=function(s,l){var d,f=this._modeling,p=I(s,function(x){return!(x.waypoints||x.host||x.labelTarget)});if(y(d=this._rules.allowed("elements.align",{elements:p}))&&(p=d),!(p.length<2)&&d){var g=Ce(p,Np[l]),b=this._alignmentPosition(l,g);f.alignElements(g,b)}};var D3={__init__:["alignElements"],alignElements:["type",Wc]},yv=".entry";function Ps(s,l,d,f){this._canvas=s,this._eventBus=d,this._overlays=f;var p=h(l&&l.scale)?l.scale:{min:1,max:1.5};this._overlaysConfig={scale:p},this._current=null,this._init()}function bv(s,l){return s.indexOf(l)!==-1}Ps.$inject=["canvas","config.contextPad","eventBus","overlays"],Ps.prototype._init=function(){var s=this;this._eventBus.on("selection.changed",function(l){var d=l.newSelection,f=d.length?d.length===1?d[0]:d:null;f?s.open(f,!0):s.close()}),this._eventBus.on("elements.changed",function(l){var d=l.elements,f=s._current;if(f){var p=f.target;ae(y(p)?p:[p],function(g){return bv(d,g)})&&s.open(p,!0)}})},Ps.prototype.registerProvider=function(s,l){l||(l=s,s=1e3),this._eventBus.on("contextPad.getProviders",s,function(d){d.providers.push(l)})},Ps.prototype.getEntries=function(s){var l=this._getProviders(),d=y(s)?"getMultiElementContextPadEntries":"getContextPadEntries",f={};return R(l,function(p){if(T(p[d])){var g=p[d](s);T(g)?f=g(f):R(g,function(b,x){f[x]=b})}}),f},Ps.prototype.trigger=function(s,l,d){var f,p,g=l.delegateTarget||l.target;return g?(f=Ht(g,"data-action"),p=l.originalEvent||l,s==="mouseover"?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(f,"hover",p,d)},300):s==="mouseout"&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(f,s,p,d)):l.preventDefault()},Ps.prototype.triggerEntry=function(s,l,d,f){if(this.isShown()){var p=this._current.target,g=this._current.entries[s];if(g){var b=g.action;if(this._eventBus.fire("contextPad.trigger",{entry:g,event:d})!==!1){if(T(b)){if(l==="click")return b(d,p,f)}else if(b[l])return b[l](d,p,f);d.preventDefault()}}}},Ps.prototype.open=function(s,l){!l&&this.isOpen(s)||(this.close(),this._updateAndOpen(s))},Ps.prototype._getProviders=function(){var s=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(s),s.providers},Ps.prototype._updateAndOpen=function(s){var l,d=this.getEntries(s),f=this.getPad(s),p=f.html;R(d,function(g,b){var x,E=g.group||"default",k=Ln(g.html||'<div class="entry" draggable="true"></div>');Ht(k,"data-action",b),(x=Pn("[data-group="+lh(E)+"]",p))||(Ht(x=Ln('<div class="group"></div>'),"data-group",E),p.appendChild(x)),x.appendChild(k),g.className&&function(P,C){var M=kn(P);(C=y(C)?C:C.split(/\s+/g)).forEach(function($){M.add($)})}(k,g.className),g.title&&Ht(k,"title",g.title),g.imageUrl&&(Ht(l=Ln("<img>"),"src",g.imageUrl),l.style.width="100%",l.style.height="100%",k.appendChild(l))}),kn(p).add("open"),this._current={target:s,entries:d,pad:f},this._eventBus.fire("contextPad.open",{current:this._current})},Ps.prototype.getPad=function(s){if(this.isOpen())return this._current.pad;var l=this,d=this._overlays,f=Ln('<div class="djs-context-pad"></div>'),p=this._getPosition(s),g=le({html:f},this._overlaysConfig,p);Rr.bind(f,yv,"click",function(E){l.trigger("click",E)}),Rr.bind(f,yv,"dragstart",function(E){l.trigger("dragstart",E)}),Rr.bind(f,yv,"mouseover",function(E){l.trigger("mouseover",E)}),Rr.bind(f,yv,"mouseout",function(E){l.trigger("mouseout",E)}),_t.bind(f,"mousedown",function(E){E.stopPropagation()});var b=this._canvas.getRootElement();this._overlayId=d.add(b,"context-pad",g);var x=d.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:s,pad:x}),x},Ps.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},Ps.prototype.isOpen=function(s){var l=this._current;if(!l)return!1;if(!s)return!0;var d=l.target;return y(s)===y(d)&&(y(s)?s.length===d.length&&Z(s,function(f){return bv(d,f)}):d===s)},Ps.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},Ps.prototype._getPosition=function(s){var l,d=Fi(y(s=Dr(s)?(l=s).waypoints[l.waypoints.length-1]:s)?s:[s]);return{position:{left:d.x+d.width+12,top:d.y-6}}};var xv,In,db,qc,HO,M_,Ip,D_={__depends__:[Zd,tb],contextPad:["type",Ps]},of={},WO=[],qO=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Yl=Array.isArray;function zu(s,l){for(var d in l)s[d]=l[d];return s}function N_(s){var l=s.parentNode;l&&l.removeChild(s)}function UO(s,l,d){var f,p,g,b={};for(g in l)g=="key"?f=l[g]:g=="ref"?p=l[g]:b[g]=l[g];if(arguments.length>2&&(b.children=arguments.length>3?xv.call(arguments,2):d),typeof s=="function"&&s.defaultProps!=null)for(g in s.defaultProps)b[g]===void 0&&(b[g]=s.defaultProps[g]);return wv(s,b,f,p,null)}function wv(s,l,d,f,p){var g={type:s,props:l,key:d,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:p??++db};return p==null&&In.vnode!=null&&In.vnode(g),g}function fb(s){return s.children}function hb(s,l){this.props=s,this.context=l}function Ma(s,l){if(l==null)return s.__?Ma(s.__,s.__.__k.indexOf(s)+1):null;for(var d;l<s.__k.length;l++)if((d=s.__k[l])!=null&&d.__e!=null)return d.__d||d.__e;return typeof s.type=="function"?Ma(s):null}function pb(s){var l,d;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,l=0;l<s.__k.length;l++)if((d=s.__k[l])!=null&&d.__e!=null){s.__e=s.__c.base=d.__e;break}return pb(s)}}function mb(s){(!s.__d&&(s.__d=!0)&&qc.push(s)&&!Fp.__r++||HO!==In.debounceRendering)&&((HO=In.debounceRendering)||M_)(Fp)}function Fp(){var s,l,d,f,p,g,b,x,E;for(qc.sort(Ip);s=qc.shift();)s.__d&&(l=qc.length,f=void 0,p=void 0,g=void 0,x=(b=(d=s).__v).__e,(E=d.__P)&&(f=[],p=[],(g=zu({},b)).__v=b.__v+1,bb(E,b,g,d.__n,E.ownerSVGElement!==void 0,b.__h!=null?[x]:null,f,x??Ma(b),b.__h,p),as(f,b,p),b.__e!=x&&pb(b)),qc.length>l&&qc.sort(Ip));Fp.__r=0}function _v(s,l,d,f,p,g,b,x,E,k,P){var C,M,$,j,H,Y,q,W,ee,ie=0,oe=f&&f.__k||WO,ke=oe.length,Pe=ke,Oe=l.length;for(d.__k=[],C=0;C<Oe;C++)(j=d.__k[C]=(j=l[C])==null||typeof j=="boolean"||typeof j=="function"?null:typeof j=="string"||typeof j=="number"||typeof j=="bigint"?wv(null,j,null,null,j):Yl(j)?wv(fb,{children:j},null,null,null):j.__b>0?wv(j.type,j.props,j.key,j.ref?j.ref:null,j.__v):j)!=null?(j.__=d,j.__b=d.__b+1,(W=gb(j,oe,q=C+ie,Pe))===-1?$=of:($=oe[W]||of,oe[W]=void 0,Pe--),bb(s,j,$,p,g,b,x,E,k,P),H=j.__e,(M=j.ref)&&$.ref!=M&&($.ref&&I_($.ref,null,j),P.push(M,j.__c||H,j)),H!=null&&(Y==null&&(Y=H),(ee=$===of||$.__v===null)?W==-1&&ie--:W!==q&&(W===q+1?ie++:W>q?Pe>Oe-q?ie+=W-q:ie--:ie=W<q&&W==q-1?W-q:0),q=C+ie,typeof j.type!="function"||W===q&&$.__k!==j.__k?typeof j.type=="function"||W===q&&!ee?j.__d!==void 0?(E=j.__d,j.__d=void 0):E=H.nextSibling:E=yn(s,H,E):E=uh(j,E,s),typeof d.type=="function"&&(d.__d=E))):($=oe[C])&&$.key==null&&$.__e&&($.__e==E&&($.__=f,E=Ma($)),xb($,$,!1),oe[C]=null);for(d.__e=Y,C=ke;C--;)oe[C]!=null&&(typeof d.type=="function"&&oe[C].__e!=null&&oe[C].__e==d.__d&&(d.__d=oe[C].__e.nextSibling),xb(oe[C],oe[C]))}function uh(s,l,d){for(var f,p=s.__k,g=0;p&&g<p.length;g++)(f=p[g])&&(f.__=s,l=typeof f.type=="function"?uh(f,l,d):yn(d,f.__e,l));return l}function yn(s,l,d){return d==null||d.parentNode!==s?s.insertBefore(l,null):l==d&&l.parentNode!=null||s.insertBefore(l,d),l.nextSibling}function gb(s,l,d,f){var p=s.key,g=s.type,b=d-1,x=d+1,E=l[d];if(E===null||E&&p==E.key&&g===E.type)return d;if(f>(E!=null?1:0))for(;b>=0||x<l.length;){if(b>=0){if((E=l[b])&&p==E.key&&g===E.type)return b;b--}if(x<l.length){if((E=l[x])&&p==E.key&&g===E.type)return x;x++}}return-1}function vb(s,l,d){l[0]==="-"?s.setProperty(l,d??""):s[l]=d==null?"":typeof d!="number"||qO.test(l)?d:d+"px"}function Uc(s,l,d,f,p){var g;e:if(l==="style")if(typeof d=="string")s.style.cssText=d;else{if(typeof f=="string"&&(s.style.cssText=f=""),f)for(l in f)d&&l in d||vb(s.style,l,"");if(d)for(l in d)f&&d[l]===f[l]||vb(s.style,l,d[l])}else if(l[0]==="o"&&l[1]==="n")g=l!==(l=l.replace(/(PointerCapture)$|Capture$/,"$1")),l=l.toLowerCase()in s?l.toLowerCase().slice(2):l.slice(2),s.l||(s.l={}),s.l[l+g]=d,d?f?d.u=f.u:(d.u=Date.now(),s.addEventListener(l,g?yb:GO,g)):s.removeEventListener(l,g?yb:GO,g);else if(l!=="dangerouslySetInnerHTML"){if(p)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(l!=="width"&&l!=="height"&&l!=="href"&&l!=="list"&&l!=="form"&&l!=="tabIndex"&&l!=="download"&&l!=="rowSpan"&&l!=="colSpan"&&l!=="role"&&l in s)try{s[l]=d??"";break e}catch{}typeof d=="function"||(d==null||d===!1&&l[4]!=="-"?s.removeAttribute(l):s.setAttribute(l,d))}}function GO(s){var l=this.l[s.type+!1];if(s.t){if(s.t<=l.u)return}else s.t=Date.now();return l(In.event?In.event(s):s)}function yb(s){return this.l[s.type+!0](In.event?In.event(s):s)}function bb(s,l,d,f,p,g,b,x,E,k){var P,C,M,$,j,H,Y,q,W,ee,ie,oe,ke,Pe,Oe,Le=l.type;if(l.constructor!==void 0)return null;d.__h!=null&&(E=d.__h,x=l.__e=d.__e,l.__h=null,g=[x]),(P=In.__b)&&P(l);e:if(typeof Le=="function")try{if(q=l.props,W=(P=Le.contextType)&&f[P.__c],ee=P?W?W.props.value:P.__:f,d.__c?Y=(C=l.__c=d.__c).__=C.__E:("prototype"in Le&&Le.prototype.render?l.__c=C=new Le(q,ee):(l.__c=C=new hb(q,ee),C.constructor=Le,C.render=I3),W&&W.sub(C),C.props=q,C.state||(C.state={}),C.context=ee,C.__n=f,M=C.__d=!0,C.__h=[],C._sb=[]),C.__s==null&&(C.__s=C.state),Le.getDerivedStateFromProps!=null&&(C.__s==C.state&&(C.__s=zu({},C.__s)),zu(C.__s,Le.getDerivedStateFromProps(q,C.__s))),$=C.props,j=C.state,C.__v=l,M)Le.getDerivedStateFromProps==null&&C.componentWillMount!=null&&C.componentWillMount(),C.componentDidMount!=null&&C.__h.push(C.componentDidMount);else{if(Le.getDerivedStateFromProps==null&&q!==$&&C.componentWillReceiveProps!=null&&C.componentWillReceiveProps(q,ee),!C.__e&&(C.shouldComponentUpdate!=null&&C.shouldComponentUpdate(q,C.__s,ee)===!1||l.__v===d.__v)){for(l.__v!==d.__v&&(C.props=q,C.state=C.__s,C.__d=!1),l.__e=d.__e,l.__k=d.__k,l.__k.forEach(function(Qt){Qt&&(Qt.__=l)}),ie=0;ie<C._sb.length;ie++)C.__h.push(C._sb[ie]);C._sb=[],C.__h.length&&b.push(C);break e}C.componentWillUpdate!=null&&C.componentWillUpdate(q,C.__s,ee),C.componentDidUpdate!=null&&C.__h.push(function(){C.componentDidUpdate($,j,H)})}if(C.context=ee,C.props=q,C.__P=s,C.__e=!1,oe=In.__r,ke=0,"prototype"in Le&&Le.prototype.render){for(C.state=C.__s,C.__d=!1,oe&&oe(l),P=C.render(C.props,C.state,C.context),Pe=0;Pe<C._sb.length;Pe++)C.__h.push(C._sb[Pe]);C._sb=[]}else do C.__d=!1,oe&&oe(l),P=C.render(C.props,C.state,C.context),C.state=C.__s;while(C.__d&&++ke<25);C.state=C.__s,C.getChildContext!=null&&(f=zu(zu({},f),C.getChildContext())),M||C.getSnapshotBeforeUpdate==null||(H=C.getSnapshotBeforeUpdate($,j)),_v(s,Yl(Oe=P!=null&&P.type===fb&&P.key==null?P.props.children:P)?Oe:[Oe],l,d,f,p,g,b,x,E,k),C.base=l.__e,l.__h=null,C.__h.length&&b.push(C),Y&&(C.__E=C.__=null)}catch(Qt){l.__v=null,(E||g!=null)&&(l.__e=x,l.__h=!!E,g[g.indexOf(x)]=null),In.__e(Qt,l,d)}else g==null&&l.__v===d.__v?(l.__k=d.__k,l.__e=d.__e):l.__e=N3(d.__e,l,d,f,p,g,b,E,k);(P=In.diffed)&&P(l)}function as(s,l,d){for(var f=0;f<d.length;f++)I_(d[f],d[++f],d[++f]);In.__c&&In.__c(l,s),s.some(function(p){try{s=p.__h,p.__h=[],s.some(function(g){g.call(p)})}catch(g){In.__e(g,p.__v)}})}function N3(s,l,d,f,p,g,b,x,E){var k,P,C,M=d.props,$=l.props,j=l.type,H=0;if(j==="svg"&&(p=!0),g!=null){for(;H<g.length;H++)if((k=g[H])&&"setAttribute"in k==!!j&&(j?k.localName===j:k.nodeType===3)){s=k,g[H]=null;break}}if(s==null){if(j===null)return document.createTextNode($);s=p?document.createElementNS("http://www.w3.org/2000/svg",j):document.createElement(j,$.is&&$),g=null,x=!1}if(j===null)M===$||x&&s.data===$||(s.data=$);else{if(g=g&&xv.call(s.childNodes),P=(M=d.props||of).dangerouslySetInnerHTML,C=$.dangerouslySetInnerHTML,!x){if(g!=null)for(M={},H=0;H<s.attributes.length;H++)M[s.attributes[H].name]=s.attributes[H].value;(C||P)&&(C&&(P&&C.__html==P.__html||C.__html===s.innerHTML)||(s.innerHTML=C&&C.__html||""))}if(function(Y,q,W,ee,ie){var oe;for(oe in W)oe==="children"||oe==="key"||oe in q||Uc(Y,oe,null,W[oe],ee);for(oe in q)ie&&typeof q[oe]!="function"||oe==="children"||oe==="key"||oe==="value"||oe==="checked"||W[oe]===q[oe]||Uc(Y,oe,q[oe],W[oe],ee)}(s,$,M,p,x),C)l.__k=[];else if(_v(s,Yl(H=l.props.children)?H:[H],l,d,f,p&&j!=="foreignObject",g,b,g?g[0]:d.__k&&Ma(d,0),x,E),g!=null)for(H=g.length;H--;)g[H]!=null&&N_(g[H]);x||("value"in $&&(H=$.value)!==void 0&&(H!==s.value||j==="progress"&&!H||j==="option"&&H!==M.value)&&Uc(s,"value",H,M.value,!1),"checked"in $&&(H=$.checked)!==void 0&&H!==s.checked&&Uc(s,"checked",H,M.checked,!1))}return s}function I_(s,l,d){try{typeof s=="function"?s(l):s.current=l}catch(f){In.__e(f,d)}}function xb(s,l,d){var f,p;if(In.unmount&&In.unmount(s),(f=s.ref)&&(f.current&&f.current!==s.__e||I_(f,null,l)),(f=s.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(g){In.__e(g,l)}f.base=f.__P=null,s.__c=void 0}if(f=s.__k)for(p=0;p<f.length;p++)f[p]&&xb(f[p],l,d||typeof s.type!="function");d||s.__e==null||N_(s.__e),s.__=s.__e=s.__d=void 0}function I3(s,l,d){return this.constructor(s,d)}function F_(s,l,d){var f,p,g,b;In.__&&In.__(s,l),p=(f=typeof d=="function")?null:l.__k,g=[],b=[],bb(l,s=(!f&&d||l).__k=UO(fb,null,[s]),p||of,of,l.ownerSVGElement!==void 0,!f&&d?[d]:p?null:l.firstChild?xv.call(l.childNodes):null,g,!f&&d?d:p?p.__e:l.firstChild,f,b),as(g,s,b)}xv=WO.slice,In={__e:function(s,l,d,f){for(var p,g,b;l=l.__;)if((p=l.__c)&&!p.__)try{if((g=p.constructor)&&g.getDerivedStateFromError!=null&&(p.setState(g.getDerivedStateFromError(s)),b=p.__d),p.componentDidCatch!=null&&(p.componentDidCatch(s,f||{}),b=p.__d),b)return p.__E=p}catch(x){s=x}throw s}},db=0,hb.prototype.setState=function(s,l){var d;d=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=zu({},this.state),typeof s=="function"&&(s=s(zu({},d),this.props)),s&&zu(d,s),s!=null&&this.__v&&(l&&this._sb.push(l),mb(this))},hb.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),mb(this))},hb.prototype.render=fb,qc=[],M_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ip=function(s,l){return s.__v.__b-l.__v.__b},Fp.__r=0;var YO=function(s,l,d,f){var p;l[0]=0;for(var g=1;g<l.length;g++){var b=l[g++],x=l[g]?(l[0]|=b?1:2,d[l[g++]]):l[++g];b===3?f[0]=x:b===4?f[1]=Object.assign(f[1]||{},x):b===5?(f[1]=f[1]||{})[l[++g]]=x:b===6?f[1][l[++g]]+=x+"":b?(p=s.apply(x,YO(s,x,d,["",null])),f.push(p),x[0]?l[0]|=2:(l[g-2]=0,l[g]=p)):f.push(x)}return f},QO=new Map,Lp,Hr,ls,wb,so=(function(s){var l=QO.get(this);return l||(l=new Map,QO.set(this,l)),(l=YO(this,l.get(s)||(l.set(s,l=function(d){for(var f,p,g=1,b="",x="",E=[0],k=function(M){g===1&&(M||(b=b.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?E.push(0,M,b):g===3&&(M||b)?(E.push(3,M,b),g=2):g===2&&b==="..."&&M?E.push(4,M,0):g===2&&b&&!M?E.push(5,0,!0,b):g>=5&&((b||!M&&g===5)&&(E.push(g,0,b,p),g=6),M&&(E.push(g,M,0,p),g=6)),b=""},P=0;P<d.length;P++){P&&(g===1&&k(),k(P));for(var C=0;C<d[P].length;C++)f=d[P][C],g===1?f==="<"?(k(),E=[E],g=3):b+=f:g===4?b==="--"&&f===">"?(g=1,b=""):b=f+b[0]:x?f===x?x="":b+=f:f==='"'||f==="'"?x=f:f===">"?(k(),g=1):g&&(f==="="?(g=5,p=b,b=""):f==="/"&&(g<5||d[P][C+1]===">")?(k(),g===3&&(E=E[0]),g=E,(E=E[0]).push(2,0,g),g=0):f===" "||f==="	"||f===`
`||f==="\r"?(k(),g=2):b+=f),g===3&&b==="!--"&&(g=4,E=E[0])}return k(),E}(s)),l),arguments,[])).length>1?l:l[0]}).bind(UO),dh=0,KO=[],_b=[],$p=In.__b,L_=In.__r,$_=In.diffed,XO=In.__c,ZO=In.unmount;function Eb(s,l){In.__h&&In.__h(Hr,s,dh||l),dh=0;var d=Hr.__H||(Hr.__H={__:[],__h:[]});return s>=d.__.length&&d.__.push({__V:_b}),d.__[s]}function j_(s){return dh=1,function(l,d,f){var p=Eb(Lp++,2);if(p.t=l,!p.__c&&(p.__=[Ql(void 0,d),function(E){var k=p.__N?p.__N[0]:p.__[0],P=p.t(k,E);k!==P&&(p.__N=[P,p.__[1]],p.__c.setState({}))}],p.__c=Hr,!Hr.u)){var g=function(E,k,P){if(!p.__c.__H)return!0;var C=p.__c.__H.__.filter(function($){return $.__c});if(C.every(function($){return!$.__N}))return!b||b.call(this,E,k,P);var M=!1;return C.forEach(function($){if($.__N){var j=$.__[0];$.__=$.__N,$.__N=void 0,j!==$.__[0]&&(M=!0)}}),!(!M&&p.__c.props===E)&&(!b||b.call(this,E,k,P))};Hr.u=!0;var b=Hr.shouldComponentUpdate,x=Hr.componentWillUpdate;Hr.componentWillUpdate=function(E,k,P){if(this.__e){var C=b;b=void 0,g(E,k,P),b=C}x&&x.call(this,E,k,P)},Hr.shouldComponentUpdate=g}return p.__N||p.__}(Ql,s)}function Sb(s,l){var d=Eb(Lp++,3);!In.__s&&Cb(d.__H,l)&&(d.__=s,d.i=l,Hr.__H.__h.push(d))}function Ev(s,l){var d=Eb(Lp++,4);!In.__s&&Cb(d.__H,l)&&(d.__=s,d.i=l,Hr.__h.push(d))}function B_(s){return dh=5,fh(function(){return{current:s}},[])}function fh(s,l){var d=Eb(Lp++,7);return Cb(d.__H,l)?(d.__V=s(),d.i=l,d.__h=s,d.__V):d.__}function hh(s,l){return dh=8,fh(function(){return s},l)}function Sv(){for(var s;s=KO.shift();)if(s.__P&&s.__H)try{s.__H.__h.forEach(kv),s.__H.__h.forEach(jp),s.__H.__h=[]}catch(l){s.__H.__h=[],In.__e(l,s.__v)}}In.__b=function(s){Hr=null,$p&&$p(s)},In.__r=function(s){L_&&L_(s),Lp=0;var l=(Hr=s.__c).__H;l&&(ls===Hr?(l.__h=[],Hr.__h=[],l.__.forEach(function(d){d.__N&&(d.__=d.__N),d.__V=_b,d.__N=d.i=void 0})):(l.__h.forEach(kv),l.__h.forEach(jp),l.__h=[],Lp=0)),ls=Hr},In.diffed=function(s){$_&&$_(s);var l=s.__c;l&&l.__H&&(l.__H.__h.length&&(KO.push(l)!==1&&wb===In.requestAnimationFrame||((wb=In.requestAnimationFrame)||JO)(Sv)),l.__H.__.forEach(function(d){d.i&&(d.__H=d.i),d.__V!==_b&&(d.__=d.__V),d.i=void 0,d.__V=_b})),ls=Hr=null},In.__c=function(s,l){l.some(function(d){try{d.__h.forEach(kv),d.__h=d.__h.filter(function(f){return!f.__||jp(f)})}catch(f){l.some(function(p){p.__h&&(p.__h=[])}),l=[],In.__e(f,d.__v)}}),XO&&XO(s,l)},In.unmount=function(s){ZO&&ZO(s);var l,d=s.__c;d&&d.__H&&(d.__H.__.forEach(function(f){try{kv(f)}catch(p){l=p}}),d.__H=void 0,l&&In.__e(l,d.__v))};var kb=typeof requestAnimationFrame=="function";function JO(s){var l,d=function(){clearTimeout(f),kb&&cancelAnimationFrame(l),setTimeout(s)},f=setTimeout(d,100);kb&&(l=requestAnimationFrame(d))}function kv(s){var l=Hr,d=s.__c;typeof d=="function"&&(s.__c=void 0,d()),Hr=l}function jp(s){var l=Hr;s.__c=s.__(),Hr=l}function Cb(s,l){return!s||s.length!==l.length||l.some(function(d,f){return d!==s[f]})}function Ql(s,l){return typeof l=="function"?l(s):l}function sf(s){var l,d,f="";if(typeof s=="string"||typeof s=="number")f+=s;else if(typeof s=="object")if(Array.isArray(s))for(l=0;l<s.length;l++)s[l]&&(d=sf(s[l]))&&(f&&(f+=" "),f+=d);else for(l in s)s[l]&&(f&&(f+=" "),f+=l);return f}function Ob(){for(var s,l,d=0,f="";d<arguments.length;)(s=arguments[d++])&&(l=sf(s))&&(f&&(f+=" "),f+=l);return f}function eT(s){const{entry:l,selected:d,onMouseEnter:f,onMouseLeave:p,onAction:g}=s;return so`
    <li
      class=${Ob("entry",{selected:d})}
      data-id=${l.id}
      title=${l.title||l.label}
      onClick=${g}
      onMouseEnter=${f}
      onMouseLeave=${p}
      onDragStart=${b=>g(b,l,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${Ob("djs-popup-entry-name",l.className)}
        >
          ${l.imageUrl&&so`<img class="djs-popup-entry-icon" src=${l.imageUrl} alt="" />`||l.imageHtml&&so`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:l.imageHtml}} />`}

          ${l.label?so`
            <span class="djs-popup-label">
              ${l.label}
            </span>
          `:null}
        </span>
        ${l.description&&so`
          <span
            class="djs-popup-entry-description"
            title=${l.description}
          >
            ${l.description}
          </span>
        `}
      </div>
      ${l.documentationRef&&so`
        <div class="djs-popup-entry-docs">
          <a
            href="${l.documentationRef}"
            onClick=${b=>b.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function F3(s){const{selectedEntry:l,setSelectedEntry:d,entries:f,...p}=s,g=B_(),b=fh(()=>function(x){const E=[],k=M=>E.find($=>M.id===$.id),P=M=>!!k(M),C=M=>typeof M=="string"?{id:M}:M;return x.forEach(M=>{const $=M.group?C(M.group):{id:"default"};P($)?k($).entries.push(M):E.push({...$,entries:[M]})}),E}(f),[f]);return Ev(()=>{const x=g.current;if(!x)return;const E=x.querySelector(".selected");var k;E&&(typeof(k=E).scrollIntoViewIfNeeded=="function"?k.scrollIntoViewIfNeeded():k.scrollIntoView({scrollMode:"if-needed",block:"nearest"}))},[l]),so`
    <div class="djs-popup-results" ref=${g}>
      ${b.map(x=>so`
        ${x.name&&so`
          <div key=${x.id} class="entry-header" title=${x.name}>
            ${x.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${x.id}>
          ${x.entries.map(E=>so`
            <${eT}
              key=${E.id}
              entry=${E}
              selected=${E===l}
              onMouseEnter=${()=>d(E)}
              onMouseLeave=${()=>d(null)}
              ...${p}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function L3(s){const{onClose:l,onSelect:d,className:f,headerEntries:p,position:g,title:b,width:x,scale:E,search:k,entries:P,onOpened:C,onClosed:M}=s,$=fh(()=>!!h(k)&&P.length>5,[k,P]),j=B_(),[H,Y]=j_(""),q=hh((ft,Be)=>$?ft.filter(et=>{if(!Be)return(et.rank||0)>=0;if(et.searchable===!1)return!1;const xn=[et.description||"",et.label||"",et.search||""].join("---").toLowerCase();return Be.toLowerCase().split(/\s/g).every(un=>xn.includes(un))}):ft,[$]),[W,ee]=j_(q(P,H)),[ie,oe]=j_(W[0]),ke=hh(ft=>{ie&&ft.includes(ie)||oe(ft[0]),ee(ft)},[ie,ee,oe]);Sb(()=>{ke(q(P,H))},[H,P]),Sb(()=>{const ft=Be=>{if(Be.key==="Escape")return Be.preventDefault(),l()};return document.documentElement.addEventListener("keydown",ft),()=>{document.documentElement.removeEventListener("keydown",ft)}},[]),Ev(()=>{j.current&&j.current.focus()},[]);const Pe=hh(ft=>{let Be=W.indexOf(ie)+ft;Be<0&&(Be=W.length-1),Be>=W.length&&(Be=0),oe(W[Be])},[W,ie,oe]),Oe=hh(ft=>ft.key==="Enter"&&ie?d(ft,ie):ft.key==="ArrowUp"||ft.key==="Tab"&&ft.shiftKey?(Pe(-1),ft.preventDefault()):ft.key==="ArrowDown"||ft.key==="Tab"?(Pe(1),ft.preventDefault()):void 0,[d,l,ie,Pe]),Le=hh(ft=>{Re(ft.target,"input")&&Y(()=>ft.target.value)},[Y]);Sb(()=>(C(),()=>{M()}),[]);const Qt=fh(()=>b||p.length>0,[b,p]);return so`
    <${tT}
      onClose=${l}
      onKeyup=${Le}
      onKeydown=${Oe}
      className=${f}
      position=${g}
      width=${x}
      scale=${E}
    >
      ${Qt&&so`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${b}>${b}</h3>
          ${p.map(ft=>so`
            <span
              class=${function(Be,et){return Ob("entry",Be.className,Be.active?"active":"",Be.disabled?"disabled":"",et?"selected":"")}(ft,ft===ie)}
              onClick=${Be=>d(Be,ft)}
              title=${ft.title||ft.label}
              data-id=${ft.id}
              onMouseEnter=${()=>oe(ft)}
              onMouseLeave=${()=>oe(null)}
            >
            ${ft.imageUrl&&so`<img class="djs-popup-entry-icon" src=${ft.imageUrl} alt="" />`||ft.imageHtml&&so`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:ft.imageHtml}} />`}

              ${ft.label?so`
                <span class="djs-popup-label">${ft.label}</span>
              `:null}
            </span>
          `)}
        </div>
      `}
      ${P.length>0&&so`
        <div class="djs-popup-body">

          ${$&&so`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${j}
                type="text"
              />
          </div>
          `}

          <${F3}
            entries=${W}
            selectedEntry=${ie}
            setSelectedEntry=${oe}
            onAction=${d}
          />
        </div>
        ${W.length===0&&so`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${tT}>
  `}function tT(s){const{onClose:l,onKeydown:d,onKeyup:f,className:p,children:g,position:b}=s,x=B_(),E=hh(k=>{je(k.target,".djs-popup",!0)||l()},[l]);return Ev(()=>{if(typeof b!="function")return;const k=x.current,P=b(k);k.style.left=`${P.x}px`,k.style.top=`${P.y}px`},[x.current,b]),Ev(()=>{x.current&&x.current.focus()},[]),so`
    <div
      class="djs-popup-backdrop"
      onClick=${E}
    >
      <div
        class=${Ob("djs-popup",p)}
        style=${function(k){return{transform:`scale(${k.scale})`,width:`${k.width}px`}}(s)}
        onKeydown=${d}
        onKeyup=${f}
        ref=${x}
        tabIndex="-1"
      >
        ${g}
      </div>
    </div>
  `}var nT=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function ji(s,l,d){this._eventBus=l,this._canvas=d,this._current=null;var f=h(s&&s.scale)?s.scale:{min:1,max:1.5};this._config={scale:f},l.on("diagram.destroy",()=>{this.close()}),l.on("element.changed",p=>{const g=this.isOpen()&&this._current.target;p.element===g&&this._render()})}ji.$inject=["config.popupMenu","eventBus","canvas"],ji.prototype._render=function(){const{position:s,className:l,entries:d,headerEntries:f,options:p}=this._current,g=Object.entries(d).map(([k,P])=>({id:k,...P})),b=Object.entries(f).map(([k,P])=>({id:k,...P})),x=s&&(k=>this._ensureVisible(k,s)),E=this._updateScale(this._current.container);F_(so`
      <${L3}
        onClose=${k=>this.close(k)}
        onSelect=${(k,P,C)=>this.trigger(k,P,C)}
        position=${x}
        className=${l}
        entries=${g}
        headerEntries=${b}
        scale=${E}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...p}}
      />
    `,this._current.container)},ji.prototype.open=function(s,l,d,f){if(!s)throw new Error("target is missing");if(!l)throw new Error("providers for <"+l+"> not found");if(!d)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:p,headerEntries:g}=this._getContext(s,l);this._current={position:d,className:l,target:s,entries:p,headerEntries:g,container:this._createContainer({provider:l}),options:f},this._emit("open"),this._bindAutoClose(),this._render()},ji.prototype._getContext=function(s,l){const d=this._getProviders(l);if(!d||!d.length)throw new Error("provider for <"+l+"> not found");const f=this._getEntries(s,d),p=this._getHeaderEntries(s,d);return{entries:f,headerEntries:p,empty:!(Object.keys(f).length||Object.keys(p).length)}},ji.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},ji.prototype.reset=function(){const s=this._current.container;F_(null,s),Ur(s)},ji.prototype._emit=function(s,l){this._eventBus.fire(`popupMenu.${s}`,l)},ji.prototype._onOpened=function(){this._emit("opened")},ji.prototype._onClosed=function(){this._emit("closed")},ji.prototype._createContainer=function(s){var l=this._canvas.getContainer();const d=Ln(`<div class="djs-popup-parent djs-scrollable" data-popup=${s.provider}></div>`);return l.appendChild(d),d},ji.prototype._bindAutoClose=function(){this._eventBus.once(nT,this.close,this)},ji.prototype._unbindAutoClose=function(){this._eventBus.off(nT,this.close,this)},ji.prototype._updateScale=function(){var s,l,d=this._canvas.zoom(),f=this._config.scale,p=d;return f!==!0&&(f===!1?(s=1,l=1):(s=f.min,l=f.max),h(s)&&d<s&&(p=s),h(l)&&d>l&&(p=l)),p},ji.prototype._ensureVisible=function(s,l){var d=document.documentElement.getBoundingClientRect(),f=s.getBoundingClientRect(),p={},g=l.x,b=l.y;return l.x+f.width>d.width&&(p.x=!0),l.y+f.height>d.height&&(p.y=!0),p.x&&p.y?(g=l.x-f.width,b=l.y-f.height):p.x?(g=l.x-f.width,b=l.y):p.y&&l.y<f.height?(g=l.x,b=10):p.y&&(g=l.x,b=l.y-f.height),l.y<d.top&&(b=l.y+f.height),{x:g,y:b}},ji.prototype.isEmpty=function(s,l){if(!s)throw new Error("target is missing");if(!l)throw new Error("provider ID is missing");const d=this._getProviders(l);return!d||!d.length||this._getContext(s,l).empty},ji.prototype.registerProvider=function(s,l,d){d||(d=l,l=1e3),this._eventBus.on("popupMenu.getProviders."+s,l,function(f){f.providers.push(d)})},ji.prototype._getProviders=function(s){var l=this._eventBus.createEvent({type:"popupMenu.getProviders."+s,providers:[]});return this._eventBus.fire(l),l.providers},ji.prototype._getEntries=function(s,l){var d={};return R(l,function(f){if(f.getPopupMenuEntries){var p=f.getPopupMenuEntries(s);T(p)?d=p(d):R(p,function(g,b){d[b]=g})}else R(f.getEntries(s),function(g){var b=g.id;if(!b)throw new Error("entry ID is missing");d[b]=Qe(g,["id"])})}),d},ji.prototype._getHeaderEntries=function(s,l){var d={};return R(l,function(f){if(f.getPopupMenuHeaderEntries){var p=f.getPopupMenuHeaderEntries(s);T(p)?d=p(d):R(p,function(g,b){d[b]=g})}else{if(!f.getHeaderEntries)return;R(f.getHeaderEntries(s),function(g){var b=g.id;if(!b)throw new Error("entry ID is missing");d[b]=Qe(g,["id"])})}}),d},ji.prototype.isOpen=function(){return!!this._current},ji.prototype.trigger=function(s,l,d="click"){if(s.preventDefault(),!l){let p=Ht(je(s.delegateTarget||s.target,".entry",!0),"data-id");l={id:p,...this._getEntry(p)}}const f=l.action;if(this._emit("trigger",{entry:l,event:s})!==!1){if(T(f)){if(d==="click")return f(s,l)}else if(f[d])return f[d](s,l)}},ji.prototype._getEntry=function(s){var l=this._current.entries[s]||this._current.headerEntries[s];if(!l)throw new Error("entry not found");return l};var V_={__init__:["popupMenu"],popupMenu:["type",ji]},rT={align:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">
              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,bottom:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,center:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,left:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,right:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,top:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,middle:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`};function Bp(s,l,d,f){s.registerProvider(900,this),this._contextPad=s,this._popupMenu=l,this._translate=d,this._canvas=f}Bp.$inject=["contextPad","popupMenu","translate","canvas"],Bp.prototype.getMultiElementContextPadEntries=function(s){var l={};return this._isAllowed(s)&&le(l,this._getEntries(s)),l},Bp.prototype._isAllowed=function(s){return!this._popupMenu.isEmpty(s,"align-elements")},Bp.prototype._getEntries=function(){var s=this;return{"align-elements":{group:"align-elements",title:s._translate("Align elements"),html:`<div class="entry">${rT.align}</div>`,action:{click:function(l,d){var f=s._getMenuPosition(d);le(f,{cursor:{x:l.x,y:l.y}}),s._popupMenu.open(d,"align-elements",f)}}}}},Bp.prototype._getMenuPosition=function(s){var l=this._contextPad.getPad(s).html.getBoundingClientRect();return{x:l.left,y:l.bottom+5}};var $3=["left","center","right","top","middle","bottom"];function Cv(s,l,d,f){this._alignElements=l,this._translate=d,this._popupMenu=s,this._rules=f,s.registerProvider("align-elements",this)}function cl(s){lt.call(this,s),this.init()}function Ov(s){cl.call(this,s)}Cv.$inject=["popupMenu","alignElements","translate","rules"],Cv.prototype.getPopupMenuEntries=function(s){var l={};return this._isAllowed(s)&&le(l,this._getEntries(s)),l},Cv.prototype._isAllowed=function(s){return this._rules.allowed("elements.align",{elements:s})},Cv.prototype._getEntries=function(s){var l=this._alignElements,d=this._translate,f=this._popupMenu,p={};return R($3,function(g){p["align-elements-"+g]={group:"align",title:d("Align elements "+g),className:"bjs-align-elements-menu-entry",imageHtml:rT[g],action:function(){l.trigger(s,g),f.close()}}}),p},cl.$inject=["eventBus"],t(cl,lt),cl.prototype.addRule=function(s,l,d){var f=this;typeof s=="string"&&(s=[s]),s.forEach(function(p){f.canExecute(p,l,function(g,b,x){return d(g)},!0)})},cl.prototype.init=function(){},Ov.$inject=["eventBus"],t(Ov,cl),Ov.prototype.init=function(){this.addRule("elements.align",function(s){var l=I(s.elements,function(d){return!(d.waypoints||d.host||d.labelTarget)});return!((l=Wg(l)).length<2)&&l})};var iT={__depends__:[D3,D_,V_],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Bp],alignElementsMenuProvider:["type",Cv],bpmnAlignElements:["type",Ov]},oT=10,sT=50,j3=250;function z_(s,l,d,f){for(var p;p=B3(s,d,l);)d=f(l,d,p);return d}function Tb(s){return function(l,d,f){var p={x:d.x,y:d.y};return["x","y"].forEach(function(g){var b=s[g];if(b){var x=g==="x"?"width":"height",E=b.margin,k=b.minDistance;p[g]=E<0?Math.min(f[g]+E-l[x]/2,d[g]-k+E):Math.max(f[g]+f[x]+E+l[x]/2,d[g]+k+E)}}),p}}function B3(s,l,d){var f={x:l.x-d.width/2,y:l.y-d.height/2,width:d.width,height:d.height},p=function(g){var b=H_(g);return g.host&&(b=b.concat(H_(g.host))),g.attachers&&(b=b.concat(g.attachers.reduce(function(x,E){return x.concat(H_(E))},[]))),b}(s);return D(p,function(g){return g!==d&&rs(g,f,oT)==="intersect"})}function H_(s){return(l=s,l.outgoing.map(function(d){return d.target})).concat(function(d){return d.incoming.map(function(f){return f.source})}(s));var l}function V3(){return!0}function aT(s,l,d){s.on("autoPlace",100,function(f){var p=f.shape;return function(g,b,x){x||(x={});var E=x.defaultDistance||sT,k=Xt(g),P=nn(g);return{x:P.right+E+b.width/2,y:k.y}}(f.source,p)}),s.on("autoPlace.end",function(f){d.scrollToElement(f.shape)}),this.append=function(f,p,g){s.fire("autoPlace.start",{source:f,shape:p});var b=s.fire("autoPlace",{source:f,shape:p}),x=l.appendShape(f,p,b,f.parent,g);return s.fire("autoPlace.end",{source:f,shape:x}),x}}function lT(s,l){s.on("autoPlace.end",500,function(d){l.select(d.shape)})}aT.$inject=["eventBus","modeling","canvas"],lT.$inject=["eventBus","selection"];var z3={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",aT],autoPlaceSelectionBehavior:["type",lT]};function Hs(s,l){for(O(l)&&(l=[l]);s=s.parent;)if(Dn(s,l))return s;return null}function cT(s,l){return Q(l,"bpmn:TextAnnotation")?function(d,f){var p=nn(d),g={x:p.right+f.width/2,y:p.top-50-f.height/2};return Dr(d)&&((g=Xt(d)).x+=100,g.y-=50),z_(d,f,g,Tb({y:{margin:-30,minDistance:20}}))}(s,l):Dn(l,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(d,f){var p=nn(d),g={x:p.right-10+f.width/2,y:p.bottom+40+f.width/2};return z_(d,f,g,Tb({x:{margin:30,minDistance:30}}))}(s,l):Q(l,"bpmn:FlowNode")?function(d,f){var p=nn(d),g=Xt(d),b=function(C,M){M||(M={});var $=M.defaultDistance||sT,j=M.direction||"e",H=M.filter,Y=M.getWeight||function(Pe){return Pe.source===C?1:-1},q=M.maxDistance||j3,W=M.reference||"start";function ee(Pe,Oe){return j==="n"?W==="start"?nn(Pe).top-nn(Oe).bottom:W==="center"?nn(Pe).top-Xt(Oe).y:nn(Pe).top-nn(Oe).top:j==="w"?W==="start"?nn(Pe).left-nn(Oe).right:W==="center"?nn(Pe).left-Xt(Oe).x:nn(Pe).left-nn(Oe).left:j==="s"?W==="start"?nn(Oe).top-nn(Pe).bottom:W==="center"?Xt(Oe).y-nn(Pe).bottom:nn(Oe).bottom-nn(Pe).bottom:W==="start"?nn(Oe).left-nn(Pe).right:W==="center"?Xt(Oe).x-nn(Pe).right:nn(Oe).right-nn(Pe).right}H||(H=V3);var ie=C.incoming.filter(H).map(function(Pe){var Oe=Y(Pe),Le=Oe<0?ee(Pe.source,C):ee(C,Pe.source);return{id:Pe.source.id,distance:Le,weight:Oe}}),oe=C.outgoing.filter(H).map(function(Pe){var Oe=Y(Pe),Le=Oe>0?ee(C,Pe.target):ee(Pe.target,C);return{id:Pe.target.id,distance:Le,weight:Oe}}),ke=X(ie.concat(oe).reduce(function(Pe,Oe){return Pe[Oe.id+"__weight_"+Oe.weight]=Oe,Pe},{}),function(Pe,Oe){var Le=Oe.distance,Qt=Oe.weight;return Le<0||Le>q||(Pe[String(Le)]||(Pe[String(Le)]=0),Pe[String(Le)]+=1*Qt,(!Pe.distance||Pe[Pe.distance]<Pe[String(Le)])&&(Pe.distance=Le)),Pe},{});return ke.distance||$}(d,{filter:function(C){return Q(C,"bpmn:SequenceFlow")}}),x=30,E=80,k="left";Q(d,"bpmn:BoundaryEvent")&&(k=rs(d,d.host,-25)).indexOf("top")!==-1&&(x*=-1);var P={x:p.right+b+f.width/2,y:g.y+H3(k,E)};return z_(d,f,P,Tb({y:{margin:x,minDistance:E}}))}(s,l):void 0}function H3(s,l){return s.includes("top")?-1*l:s.includes("bottom")?l:0}function uT(s){s.on("autoPlace",function(l){var d=l.shape;return cT(l.source,d)})}uT.$inject=["eventBus"];var Pb={__depends__:[z3],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",uT]};function Hu(s,l,d,f){lt.call(this,s),this._elementRegistry=l,this._modeling=d,this._rules=f;var p=this;this.postExecuted(["shape.create"],function(g){var b=g.context,x=b.hints||{},E=b.shape,k=b.parent||b.newParent;x.autoResize!==!1&&p._expand([E],k)}),this.postExecuted(["elements.move"],function(g){var b=g.context,x=o(be(b.closure.topLevel)),E=b.hints,k=!E||E.autoResize;k!==!1&&R(he(x,function(P){return P.parent.id}),function(P,C){y(k)&&(P=P.filter(function(M){return D(k,Ae({id:M.id}))})),p._expand(P,C)})}),this.postExecuted(["shape.toggleCollapse"],function(g){var b=g.context,x=b.hints,E=b.shape;x&&x.autoResize===!1||E.collapsed||p._expand(E.children||[],E)}),this.postExecuted(["shape.resize"],function(g){var b=g.context,x=b.hints,E=b.shape,k=E.parent;x&&x.autoResize===!1||k&&p._expand([E],k)})}function Ab(s){s.invoke(Hu,this)}function Tv(s){cl.call(this,s);var l=this;this.addRule("element.autoResize",function(d){return l.canResize(d.elements,d.target)})}function Rb(s,l){Tv.call(this,s),this._modeling=l}Hu.$inject=["eventBus","elementRegistry","modeling","rules"],t(Hu,lt),Hu.prototype._getOptimalBounds=function(s,l){var d=this.getOffset(l),f=this.getPadding(l),p=nn(Fi(s)),g=nn(l),b={};return p.top-g.top<f.top&&(b.top=p.top-d.top),p.left-g.left<f.left&&(b.left=p.left-d.left),g.right-p.right<f.right&&(b.right=p.right+d.right),g.bottom-p.bottom<f.bottom&&(b.bottom=p.bottom+d.bottom),Cs(le({},g,b))},Hu.prototype._expand=function(s,l){if(typeof l=="string"&&(l=this._elementRegistry.get(l)),this._rules.allowed("element.autoResize",{elements:s,target:l})){var d=this._getOptimalBounds(s,l);if(function(g,b){return g.x!==b.x||g.y!==b.y||g.width!==b.width||g.height!==b.height}(d,l)){var f=function(g,b){var x="";return g=nn(g),b=nn(b),g.top>b.top&&(x=x.concat("n")),g.right<b.right&&(x=x.concat("w")),g.bottom<b.bottom&&(x=x.concat("s")),g.left>b.left&&(x=x.concat("e")),x}(Ze(l,["x","y","width","height"]),d);this.resize(l,d,{autoResize:f});var p=l.parent;p&&this._expand([l],p)}}},Hu.prototype.getOffset=function(s){return{top:60,bottom:60,left:100,right:100}},Hu.prototype.getPadding=function(s){return{top:2,bottom:2,left:15,right:15}},Hu.prototype.resize=function(s,l,d){this._modeling.resizeShape(s,l,null,d)},Ab.$inject=["injector"],t(Ab,Hu),Ab.prototype.resize=function(s,l,d){Q(s,"bpmn:Participant")?this._modeling.resizeLane(s,l,null,d):this._modeling.resizeShape(s,l,null,d)},Tv.$inject=["eventBus"],t(Tv,cl),Tv.prototype.canResize=function(s,l){return!1},t(Rb,Tv),Rb.$inject=["eventBus","modeling"],Rb.prototype.canResize=function(s,l){if(Q(l.di,"bpmndi:BPMNPlane")||!Q(l,"bpmn:Participant")&&!Q(l,"bpmn:Lane")&&!Q(l,"bpmn:SubProcess"))return!1;var d=!0;return R(s,function(f){(Q(f,"bpmn:Lane")||Zn(f))&&(d=!1)}),d};var W_={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",Ab],bpmnAutoResizeProvider:["type",Rb]};function dT(s,l,d){var f,p,g=this,b=d.get("dragging",!1);b&&l.on("drag.start",function(x){l.once("drag.move",1500,function(E){(function(k){if(!k.hover){var P=k.originalEvent,C=g._findTargetGfx(P),M=C&&s.get(C);C&&M&&(k.stopPropagation(),b.hover({element:M,gfx:C}),b.move(P))}})(E)})}),l.on("element.hover",function(x){f=x.gfx,p=x.element}),l.on("element.hover",1500,function(x){p&&l.fire("element.out",{element:p,gfx:f})}),l.on("element.out",function(){f=null,p=null}),this._findTargetGfx=function(x){var E;if(x instanceof MouseEvent)return E=Xd(x),function(k){return je(k,"svg, .djs-element",!0)}(document.elementFromPoint(E.x,E.y))}}dT.$inject=["elementRegistry","eventBus","injector"];var W3={__init__:["hoverFix"],hoverFix:["type",dT]},Vp=Math.round,fT="djs-drag-active";function ph(s){s.preventDefault()}function hT(s,l,d,f){var p,g={threshold:5,trapClick:!0};function b(q){var W=l.viewbox(),ee=l._container.getBoundingClientRect();return{x:W.x+(q.x-ee.left)/W.scale,y:W.y+(q.y-ee.top)/W.scale}}function x(q,W){W=W||p;var ee=s.createEvent(le({},W.payload,W.data,{isTouch:W.isTouch}));return s.fire("drag."+q,ee)!==!1&&s.fire(W.prefix+"."+q,ee)}function E(q,W){var ee,ie=p.payload,oe=p.displacement,ke=p.globalStart,Pe=Xd(q),Oe=Gl(Pe,ke),Le=p.localStart,Qt=b(Pe),ft=Gl(Qt,Le);if(!p.active&&(W||(ee=Oe,Math.sqrt(Math.pow(ee.x,2)+Math.pow(ee.y,2))>p.threshold))){if(le(ie,{x:Vp(Le.x+oe.x),y:Vp(Le.y+oe.y),dx:0,dy:0},{originalEvent:q}),x("start")===!1)return H();p.active=!0,p.keepSelection||(ie.previousSelection=d.get(),d.select(null)),p.cursor&&Mp(p.cursor),l.addMarker(l.getRootElement(),fT)}X0(q),p.active&&(le(ie,{x:Vp(Qt.x+oe.x),y:Vp(Qt.y+oe.y),dx:Vp(ft.x),dy:Vp(ft.y)},{originalEvent:q}),x("move"))}function k(q){var W=!0;p.active&&(q&&(p.payload.originalEvent=q,X0(q)),W=x("end")),W===!1&&x("rejected"),x("ended",Y(W!==!0))}function P(q){zr("Escape",q)&&(ph(q),H())}function C(q){var W;p.active&&(W=ab(s),setTimeout(W,400),ph(q)),k(q)}function M(q){E(q)}function $(q){var W=p.payload;W.hoverGfx=q.gfx,W.hover=q.element,x("hover")}function j(q){x("out");var W=p.payload;W.hoverGfx=null,W.hover=null}function H(q){var W;if(p){var ee=p.active;ee&&x("cancel"),W=Y(q),ee&&x("canceled",W)}}function Y(q){var W,ee;x("cleanup"),E_(),ee=p.trapClick?C:k,_t.unbind(document,"mousemove",E),_t.unbind(document,"dragstart",ph),_t.unbind(document,"selectstart",ph),_t.unbind(document,"mousedown",ee,!0),_t.unbind(document,"mouseup",ee,!0),_t.unbind(document,"keyup",P),_t.unbind(document,"touchstart",M,!0),_t.unbind(document,"touchcancel",H,!0),_t.unbind(document,"touchmove",E,!0),_t.unbind(document,"touchend",k,!0),s.off("element.hover",$),s.off("element.out",j),l.removeMarker(l.getRootElement(),fT);var ie=p.payload.previousSelection;return q!==!1&&ie&&!d.get().length&&function(oe){var ke=oe.filter(function(Pe){return f.get(Pe.id)});ke.length&&d.select(ke)}(ie),W=p,p=null,W}s.on("diagram.destroy",H),this.init=function(q,W,ee,ie){p&&H(!1),typeof W=="string"&&(ie=ee,ee=W,W=null);var oe,ke,Pe,Oe,Le,Qt=(ie=le({},g,ie||{})).data||{};Oe=ie.trapClick?C:k,q?(oe=Oa(q)||q,ke=Xd(q),X0(q),oe.type==="dragstart"&&ph(oe)):(oe=null,ke={x:0,y:0}),Pe=b(ke),W||(W=Pe),Le=function(ft){return typeof TouchEvent<"u"&&ft instanceof TouchEvent}(oe),p=le({prefix:ee,data:Qt,payload:{},globalStart:ke,displacement:Gl(W,Pe),localStart:Pe,isTouch:Le},ie),ie.manual||(Le?(_t.bind(document,"touchstart",M,!0),_t.bind(document,"touchcancel",H,!0),_t.bind(document,"touchmove",E,!0),_t.bind(document,"touchend",k,!0)):(_t.bind(document,"mousemove",E),_t.bind(document,"dragstart",ph),_t.bind(document,"selectstart",ph),_t.bind(document,"mousedown",Oe,!0),_t.bind(document,"mouseup",Oe,!0)),_t.bind(document,"keyup",P),s.on("element.hover",$),s.on("element.out",j)),x("init"),ie.autoActivate&&E(q,!0)},this.move=E,this.hover=$,this.out=j,this.end=k,this.cancel=H,this.context=function(){return p},this.setOptions=function(q){le(g,q)}}hT.$inject=["eventBus","canvas","selection","elementRegistry"];var Wu={__depends__:[W3,$c],dragging:["type",hT]};function zp(s,l,d){this._canvas=d,this._opts=le({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},s);var f=this;l.on("drag.move",function(p){var g=f._toBorderPoint(p);f.startScroll(g)}),l.on(["drag.cleanup"],function(){f.stopScroll()})}function q3(s,l,d){return l<s&&s<d}zp.$inject=["config.autoScroll","eventBus","canvas"],zp.prototype.startScroll=function(s){var l=this._canvas,d=this._opts,f=this,p=l.getContainer().getBoundingClientRect(),g=[s.x,s.y,p.width-s.x,p.height-s.y];this.stopScroll();for(var b=0,x=0,E=0;E<4;E++)q3(g[E],d.scrollThresholdOut[E],d.scrollThresholdIn[E])&&(E===0?b=d.scrollStep:E==1?x=d.scrollStep:E==2?b=-d.scrollStep:E==3&&(x=-d.scrollStep));b===0&&x===0||(l.scroll({dx:b,dy:x}),this._scrolling=setTimeout(function(){f.startScroll(s)},d.scrollRepeatTimeout))},zp.prototype.stopScroll=function(){clearTimeout(this._scrolling)},zp.prototype.setOptions=function(s){this._opts=le({},this._opts,s)},zp.prototype._toBorderPoint=function(s){var l=this._canvas._container.getBoundingClientRect(),d=Xd(s.originalEvent);return{x:d.x-l.left,y:d.y-l.top}};var U3={__depends__:[Wu],__init__:["autoScroll"],autoScroll:["type",zp]};function q_(s){this._commandStack=s.get("commandStack",!1)}q_.$inject=["injector"],q_.prototype.allowed=function(s,l){var d=!0,f=this._commandStack;return f&&(d=f.canExecute(s,l)),d===void 0||d};var Gc={__init__:["rules"],rules:["type",q_]},Mb=Math.round,G3=Math.max,pT=10;function U_(s,l){return function(d,f){var p,g;for(p=0;g=d[p];p++)if(Ac(g,f)<=pT)return{point:d[p],bendpoint:!0,index:p};return null}(s,l)||function(d,f){var p,g,b=Yo(function(k,P){return[["M",k.x,k.y],["m",0,-P],["a",P,P,0,1,1,0,2*P],["a",P,P,0,1,1,0,-2*P],["z"]]}(f,pT),(p=[],d.forEach(function(k,P){p.push([P===0?"M":"L",k.x,k.y])}),p)),x=b[0],E=b[b.length-1];return x?x!==E?x.segment2!==E.segment2?{point:d[g=G3(x.segment2,E.segment2)-1],bendpoint:!0,index:g}:{point:{x:Mb(x.x+E.x)/2,y:Mb(x.y+E.y)/2},index:x.segment2}:{point:{x:Mb(x.x),y:Mb(x.y)},index:x.segment2}:null}(s,l)}function mT(s){return Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2))}function gT(s){return Math.atan((s[1].y-s[0].y)/(s[1].x-s[0].x))}function G_(s,l){var d=l[0],f=l[1],p={x:f.x-d.x,y:f.y-d.y},g=function(b,x,E){var k=[{n:b[0]-E[0],lambda:x[0]},{n:b[1]-E[1],lambda:x[1]}];return-(k[0].n*x[0]+k[1].n*x[1])/(k[0].lambda*x[0]+k[1].lambda*x[1])}([d.x,d.y],[p.x,p.y],[s.x,s.y]);return{x:d.x+g*p.x,y:d.y+g*p.y}}function vT(s,l){var d=G_(s,l);return mT({x:d.x-s.x,y:d.y-s.y})}function Hp(s,l){return mT({x:s.x-l.x,y:s.y-l.y})}var Y_="djs-bendpoint",yT="djs-segment-dragger";function Q_(s,l,d){var f=function(p,g){var b,x=Xd(g),E=p._container.getBoundingClientRect();b={x:E.left,y:E.top};var k=p.viewbox();return{x:k.x+(x.x-b.x)/k.scale,y:k.y+(x.y-b.y)/k.scale}}(s,d);return U_(l,f)}function K_(s,l){var d=ot("g");ne(d).add(Y_),ct(s,d);var f=ot("circle");ut(f,{cx:0,cy:0,r:4}),ne(f).add("djs-visual"),ct(d,f);var p=ot("circle");return ut(p,{cx:0,cy:0,r:10}),ne(p).add("djs-hit"),ct(d,p),l&&ne(d).add(l),d}function Y3(s,l,d,f){var p=ot("g");ct(s,p);var g=function(E,k,P){var C=k.x-E.x,M=k.y-E.y;return xT(P==="h"?C:M)}(l,d,f),b=ot("rect");ut(b,{x:-9,y:-3,width:18,height:6}),ne(b).add("djs-visual"),ct(p,b);var x=ot("rect");return ut(x,{x:-g/2,y:-8.5,width:g,height:17}),ne(x).add("djs-hit"),ct(p,x),o_(p,f==="v"?90:0),p}function bT(s,l,d){var f=ot("g"),p=P0(l,d),g=Mu(l,d);return ct(s,f),Y3(f,l,d,g),ne(f).add(yT),ne(f).add(g==="h"?"horizontal":"vertical"),Co(f,p.x,p.y),f}function xT(s){return Math.abs(Math.round(2*s/3))}function Q3(s,l){var d=function(f,p){for(var g,b=p.waypoints,x=1/0,E=0;E<b.length-1;E++){var k=vT(f,[b[E],b[E+1]]);k<x&&(x=k,g=E)}return[b[g],b[g+1]]}(s,l);return G_(s,d)}function wT(s,l,d,f,p){function g(j,H){var Y,q=H.waypoints,W=Q_(l,q,j);if(W)return Y=function(ee,ie){var oe,ke,Pe=ee.waypoints;return ie.index<=0||ie.bendpoint?null:(ke=Mu((oe={start:Pe[ie.index-1],end:Pe[ie.index]}).start,oe.end))?xT(ke==="h"?oe.end.x-oe.start.x:oe.end.y-oe.start.y)/2:null}(H,W),function(ee,ie,oe){var ke,Pe,Oe,Le,Qt,ft,Be=ee.index,et=ee.point;return!(Be<=0||ee.bendpoint)&&(Oe=P0(ke=ie[Be-1],Pe=ie[Be]),Le=Mu(ke,Pe),Qt=Math.abs(et.x-Oe.x),ft=Math.abs(et.y-Oe.y),Le&&Qt<=oe&&ft<=oe)}(W,q,Y)?p.start(j,H,W.index):f.start(j,H,W.index,!W.bendpoint),!0}function b(j,H,Y){_t.bind(j,H,function(q){d.triggerMouseEvent(H,q,Y),q.stopPropagation()})}function x(j,H){var Y=l.getLayer("overlays"),q=Pn('.djs-bendpoints[data-element-id="'+lh(j.id)+'"]',Y);return!q&&H&&(ut(q=ot("g"),{"data-element-id":j.id}),ne(q).add("djs-bendpoints"),ct(Y,q),b(q,"mousedown",j),b(q,"click",j),b(q,"dblclick",j)),q}function E(j,H){return Pn('.djs-segment-dragger[data-segment-idx="'+j+'"]',H)}function k(j,H){H.waypoints.forEach(function(Y,q){var W=K_(j);ct(j,W),Co(W,Y.x,Y.y)}),K_(j,"floating")}function P(j,H){for(var Y,q,W,ee=H.waypoints,ie=1;ie<ee.length;ie++)Mu(Y=ee[ie-1],q=ee[ie])&&(ut(W=bT(j,Y,q),{"data-segment-idx":ie}),b(W,"mousemove",H))}function C(j){var H=x(j);return H||(k(H=x(j,!0),j),P(H,j)),H}function M(j){var H=x(j);H&&(function(Y){R($n("."+yT,Y),function(q){Ee(q)})}(H),function(Y){R($n("."+Y_,Y),function(q){Ee(q)})}(H),P(H,j),k(H,j))}function $(j,H,Y){var q,W,ee=E(H.index,j),ie=Y[H.index-1],oe=Y[H.index],ke=H.point,Pe=P0(ie,oe),Oe=Mu(ie,oe);ee&&(q=function(Le){return Pn(".djs-visual",Le)}(ee),W={x:ke.x-Pe.x,y:ke.y-Pe.y},Oe==="v"&&(W={x:W.y,y:W.x}),Co(q,W.x,W.y))}s.on("connection.changed",function(j){M(j.element)}),s.on("connection.remove",function(j){var H=x(j.element);H&&Ee(H)}),s.on("element.marker.update",function(j){var H,Y=j.element;Y.waypoints&&(H=C(Y),j.add?ne(H).add(j.marker):ne(H).remove(j.marker))}),s.on("element.mousemove",function(j){var H,Y,q=j.element,W=q.waypoints;if(W){if(H=x(q,!0),!(Y=Q_(l,W,j.originalEvent)))return;(function(ee,ie){var oe=Pn(".floating",ee),ke=ie.point;oe&&Co(oe,ke.x,ke.y)})(H,Y),Y.bendpoint||$(H,Y,W)}}),s.on("element.mousedown",function(j){if(ju(j)){var H=j.originalEvent,Y=j.element;if(Y.waypoints)return g(H,Y)}}),s.on("selection.changed",function(j){var H=j.newSelection[0];H&&H.waypoints&&C(H)}),s.on("element.hover",function(j){var H=j.element;H.waypoints&&(C(H),d.registerEvent(j.gfx,"mousemove","element.mousemove"))}),s.on("element.out",function(j){d.unregisterEvent(j.gfx,"mousemove","element.mousemove")}),s.on("element.updateId",function(j){var H=j.element,Y=j.newId;if(H.waypoints){var q=x(H);q&&ut(q,{"data-element-id":Y})}}),this.addHandles=C,this.updateHandles=M,this.getBendpointsContainer=x,this.getSegmentDragger=E}wT.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var X_=Math.round,mh="reconnectStart",Yc="reconnectEnd",Pv="updateWaypoints";function Z_(s,l,d,f,p,g){this._injector=s,this.start=function(b,x,E,k){var P,C=d.getGraphics(x),M=x.source,$=x.target,j=x.waypoints,H=(P=k||E!==0?k||E!==j.length-1?Pv:Yc:mh)===Pv?"connection.updateWaypoints":"connection.reconnect",Y=p.allowed(H,{connection:x,source:M,target:$});Y===!1&&(Y=p.allowed(H,{connection:x,source:$,target:M})),Y!==!1&&f.init(b,"bendpoint.move",{data:{connection:x,connectionGfx:C,context:{allowed:Y,bendpointIndex:E,connection:x,source:M,target:$,insert:k,type:P}}})},l.on("bendpoint.move.hover",function(b){var x,E=b.context,k=E.connection,P=k.source,C=k.target,M=b.hover,$=E.type;if(E.hover=M,M){var j=$===Pv?"connection.updateWaypoints":"connection.reconnect";if(x=E.allowed=p.allowed(j,{connection:k,source:$===mh?M:P,target:$===Yc?M:C}))return E.source=$===mh?M:P,void(E.target=$===Yc?M:C);x===!1&&(x=E.allowed=p.allowed(j,{connection:k,source:$===Yc?M:C,target:$===mh?M:P})),x&&(E.source=$===Yc?M:C,E.target=$===mh?M:P)}}),l.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(b){var x=b.context,E=x.type;x.hover=null,x.source=null,x.target=null,E!==Pv&&(x.allowed=!1)}),l.on("bendpoint.move.end",function(b){var x=b.context,E=x.allowed,k=x.bendpointIndex,P=x.connection,C=x.insert,M=P.waypoints.slice(),$=x.source,j=x.target,H=x.type,Y=x.hints||{},q={x:X_(b.x),y:X_(b.y)};if(!E)return!1;H===Pv?(C?M.splice(k,0,q):M[k]=q,Y.bendpointMove={insert:C,bendpointIndex:k},M=this.cropWaypoints(P,M),g.updateWaypoints(P,function(W){W=W.slice();for(var ee,ie,oe,ke=0;W[ke];)ee=W[ke],ie=W[ke-1],Ac(ee,oe=W[ke+1])===0||T0(ie,oe,ee)?W.splice(ke,1):ke++;return W}(M),Y)):(H===mh?(Y.docking="source",Db(x)&&(Y.docking="target",Y.newWaypoints=M.reverse())):H===Yc&&(Y.docking="target",Db(x)&&(Y.docking="source",Y.newWaypoints=M.reverse())),g.reconnect(P,$,j,q,Y))},this)}function Db(s){var l=s.hover,d=s.source,f=s.target,p=s.type;return p===mh?l&&f&&l===f&&d!==f:p===Yc?l&&d&&l===d&&d!==f:void 0}Z_.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],Z_.prototype.cropWaypoints=function(s,l){var d=this._injector.get("connectionDocking",!1);if(!d)return l;var f=s.waypoints;return s.waypoints=l,s.waypoints=d.getCroppedWaypoints(s),l=s.waypoints,s.waypoints=f,l};var _T="updateWaypoints",Av="connect-ok",Nb="connect-not-ok",ET="connect-hover",ST="djs-updating",kT="djs-dragging";function CT(s,l,d,f){this._injector=l;var p=l.get("connectionPreview",!1);d.on("bendpoint.move.start",function(g){var b=g.context,x=b.bendpointIndex,E=b.connection,k=b.insert,P=E.waypoints,C=P.slice();b.waypoints=P,k&&C.splice(x,0,{x:g.x,y:g.y}),E.waypoints=C,ne(b.draggerGfx=K_(f.getLayer("overlays"))).add("djs-dragging"),f.addMarker(E,kT),f.addMarker(E,ST)}),d.on("bendpoint.move.hover",function(g){var b=g.context,x=b.allowed,E=b.hover,k=b.type;if(E){if(f.addMarker(E,ET),k===_T)return;x?(f.removeMarker(E,Nb),f.addMarker(E,Av)):x===!1&&(f.removeMarker(E,Av),f.addMarker(E,Nb))}}),d.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(g){var b=g.context,x=b.hover,E=b.target;x&&(f.removeMarker(x,ET),f.removeMarker(x,E?Av:Nb))}),d.on("bendpoint.move.move",function(g){var b=g.context,x=b.allowed,E=b.bendpointIndex,k=b.draggerGfx,P=b.hover,C=b.type,M=b.connection,$=M.source,j=M.target,H=M.waypoints.slice(),Y={x:g.x,y:g.y},q=b.hints||{},W={};p&&(q.connectionStart&&(W.connectionStart=q.connectionStart),q.connectionEnd&&(W.connectionEnd=q.connectionEnd),C==="reconnectStart"?Db(b)?(W.connectionEnd=W.connectionEnd||Y,W.source=j,W.target=P||$,H=H.reverse()):(W.connectionStart=W.connectionStart||Y,W.source=P||$,W.target=j):C==="reconnectEnd"?Db(b)?(W.connectionStart=W.connectionStart||Y,W.source=P||j,W.target=$,H=H.reverse()):(W.connectionEnd=W.connectionEnd||Y,W.source=$,W.target=P||j):(W.noCropping=!0,W.noLayout=!0,H[E]=Y),C===_T&&(H=s.cropWaypoints(M,H)),W.waypoints=H,p.drawPreview(b,x,W)),Co(k,g.x,g.y)},this),d.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(g){var b=g.context,x=b.connection,E=b.draggerGfx,k=b.hover,P=b.target,C=b.waypoints;x.waypoints=C,Ee(E),f.removeMarker(x,ST),f.removeMarker(x,kT),k&&(f.removeMarker(k,Av),f.removeMarker(k,P?Av:Nb)),p&&p.cleanUp(b)})}CT.$inject=["bendpointMove","injector","eventBus","canvas"];var OT="connect-hover",TT="djs-updating";function PT(s,l,d){return J_(s,l,s[l]+d)}function J_(s,l,d){return{x:l==="x"?d:s.x,y:l==="y"?d:s.y}}function AT(s){return s==="x"?"y":"x"}function RT(s,l,d){var f,p;return s.original?s.original:(f=Xt(l),J_(s,p=AT(d),f[p]))}function eE(s,l,d,f,p,g){var b=s.get("connectionDocking",!1);function x(P,C){if(!b)return C;var M,$=P.waypoints;return P.waypoints=C,M=b.getCroppedWaypoints(P),P.waypoints=$,M}function E(P){p.update("connection",P.connection,P.connectionGfx)}function k(P,C,M){var $=P.newWaypoints,j=function(H,Y,q,W){var ee=Math.max(Y[W],q[W]),ie=Math.min(Y[W],q[W]);return J_(Y,W,Math.min(Math.max(ie+20,H[W]),ee-20))}(M,$[P.segmentStartIndex+C],$[P.segmentEndIndex+C],AT(P.axis));Co(P.draggerGfx,j.x,j.y)}this.start=function(P,C,M){var $,j,H,Y,q=d.getGraphics(C),W=M-1,ee=M,ie=C.waypoints,oe=ie[W],ke=ie[ee],Pe=Q_(d,ie,P);(j=Mu(oe,ke))&&(H=j==="v"?"x":"y",W===0&&(oe=RT(oe,C.source,H)),ee===ie.length-1&&(ke=RT(ke,C.target,H)),$={connection:C,segmentStartIndex:W,segmentEndIndex:ee,segmentStart:oe,segmentEnd:ke,axis:H,dragPosition:Y=Pe?Pe.point:{x:(oe.x+ke.x)/2,y:(oe.y+ke.y)/2}},f.init(P,Y,"connectionSegment.move",{cursor:H==="x"?"resize-ew":"resize-ns",data:{connection:C,connectionGfx:q,context:$}}))},l.on("connectionSegment.move.start",function(P){var C=P.context,M=P.connection,$=d.getLayer("overlays");C.originalWaypoints=M.waypoints.slice(),C.draggerGfx=bT($,C.segmentStart,C.segmentEnd),ne(C.draggerGfx).add("djs-dragging"),d.addMarker(M,TT)}),l.on("connectionSegment.move.move",function(P){var C,M,$=P.context,j=$.connection,H=$.segmentStartIndex,Y=$.segmentEndIndex,q=$.segmentStart,W=$.segmentEnd,ee=$.axis,ie=$.originalWaypoints.slice(),oe=PT(q,ee,P["d"+ee]),ke=PT(W,ee,P["d"+ee]),Pe=ie.length,Oe=0;ie[H]=oe,ie[Y]=ke,H<2&&(C=rs(j.source,oe),H===1?C==="intersect"&&(ie.shift(),ie[0]=oe,Oe--):C!=="intersect"&&(ie.unshift(q),Oe++)),Y>Pe-3&&(M=rs(j.target,ke),Y===Pe-2?M==="intersect"&&(ie.pop(),ie[ie.length-1]=ke):M!=="intersect"&&ie.push(W)),$.newWaypoints=j.waypoints=x(j,ie),k($,Oe,P),$.newSegmentStartIndex=H+Oe,E(P)}),l.on("connectionSegment.move.hover",function(P){P.context.hover=P.hover,d.addMarker(P.hover,OT)}),l.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(P){var C=P.context.hover;C&&d.removeMarker(C,OT)}),l.on("connectionSegment.move.cleanup",function(P){var C=P.context,M=C.connection;C.draggerGfx&&Ee(C.draggerGfx),d.removeMarker(M,TT)}),l.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(P){var C=P.context;C.connection.waypoints=C.originalWaypoints,E(P)}),l.on("connectionSegment.move.end",function(P){var C=P.context,M=C.connection,$=C.newWaypoints,j=C.newSegmentStartIndex;$=$.map(function(ee){return{original:ee.original,x:Math.round(ee.x),y:Math.round(ee.y)}});var H=function(ee,ie){var oe=0,ke=ee.filter(function(Pe,Oe){return!T0(ee[Oe-1],ee[Oe+1],Pe)||(oe=Oe<=ie?oe-1:oe,!1)});return{waypoints:ke,segmentOffset:oe}}($,j),Y=x(M,H.waypoints),q=H.segmentOffset,W={segmentMove:{segmentStartIndex:C.segmentStartIndex,newSegmentStartIndex:j+q}};g.updateWaypoints(M,Y,W)})}eE.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var MT=Math.abs,DT=Math.round;function NT(s){return{x:s.x,y:s.y}}function IT(s){return{x:s.x+s.width,y:s.y+s.height}}function ul(s,l){return!s||isNaN(s.x)||isNaN(s.y)?l:{x:DT(s.x+s.width/2),y:DT(s.y+s.height/2)}}function qu(s,l){var d=s.snapped;return!!d&&(typeof l=="string"?d[l]:d.x&&d.y)}function Ji(s,l,d){if(typeof l!="string")throw new Error("axis must be in [x, y]");if(typeof d!="number"&&d!==!1)throw new Error("value must be Number or false");var f,p=s[l],g=s.snapped=s.snapped||{};return d===!1?g[l]=!1:(g[l]=!0,f=d-p,s[l]+=f,s["d"+l]+=f),p}function FT(s){return s.children||[]}var K3=Math.abs,LT=Math.round;function $T(s){function l(f,p){if(y(f)){for(var g=f.length;g--;)if(K3(f[g]-p)<=10)return f[g]}else{var b=p%(f=+f);if(b<10)return p-b;if(b>f-10)return p-b+f}return p}function d(f,p){return f.waypoints?Q3(p,f):f.width?{x:LT(f.width/2+f.x),y:LT(f.height/2+f.y)}:void 0}s.on("connectionSegment.move.move",1500,function(f){var p,g,b=function(C){var M=C.context,$=M.snapPoints,j=M.connection,H=j.waypoints,Y=M.segmentStart,q=M.segmentStartIndex,W=M.segmentEnd,ee=M.segmentEndIndex,ie=M.axis;if($)return $;var oe=[H[q-1],Y,W,H[ee+1]];return q<2&&oe.unshift(d(j.source,C)),ee>H.length-3&&oe.unshift(d(j.target,C)),M.snapPoints=$={horizontal:[],vertical:[]},R(oe,function(ke){ke&&(ke=ke.original||ke,ie==="y"&&$.horizontal.push(ke.y),ie==="x"&&$.vertical.push(ke.x))}),$}(f),x=f.x,E=f.y;if(b){var k=x-(p=l(b.vertical,x)),P=E-(g=l(b.horizontal,E));le(f,{dx:f.dx-k,dy:f.dy-P,x:p,y:g}),(k||b.vertical.indexOf(x)!==-1)&&Ji(f,"x",p),(P||b.horizontal.indexOf(E)!==-1)&&Ji(f,"y",g)}}),s.on(["connect.hover","connect.move","connect.end"],1500,function(f){var p=f.context.hover,g=p&&d(p,f);Dr(p)&&g&&g.x&&g.y&&(Ji(f,"x",g.x),Ji(f,"y",g.y))}),s.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(f){var p,g,b=f.context,x=function(j){var H=j.snapPoints,Y=j.connection.waypoints,q=j.bendpointIndex;if(H)return H;var W=[Y[q-1],Y[q+1]];return j.snapPoints=H={horizontal:[],vertical:[]},R(W,function(ee){ee&&(ee=ee.original||ee,H.horizontal.push(ee.y),H.vertical.push(ee.x))}),H}(b),E=b.hover,k=E&&d(E,f),P=f.x,C=f.y;if(x){var M=P-(p=l(k?x.vertical.concat([k.x]):x.vertical,P)),$=C-(g=l(k?x.horizontal.concat([k.y]):x.horizontal,C));le(f,{dx:f.dx-M,dy:f.dy-$,x:f.x-M,y:f.y-$}),(M||x.vertical.indexOf(P)!==-1)&&Ji(f,"x",p),($||x.horizontal.indexOf(C)!==-1)&&Ji(f,"y",g)}})}$T.$inject=["eventBus"];var X3={__depends__:[Wu,Gc],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",wT],bendpointMove:["type",Z_],bendpointMovePreview:["type",CT],connectionSegmentMove:["type",eE],bendpointSnapping:["type",$T]};function jT(s,l,d,f){function p(g,b){return f.allowed("connection.create",{source:g,target:b})}s.on("connect.hover",function(g){var b,x=g.context,E=x.start,k=g.hover;if(x.hover=k,!m(b=x.canExecute=p(E,k))){if(b!==!1)return x.source=E,void(x.target=k);m(b=x.canExecute=p(k,E))||b!==!1&&(x.source=k,x.target=E)}}),s.on(["connect.out","connect.cleanup"],function(g){var b=g.context;b.hover=null,b.source=null,b.target=null,b.canExecute=!1}),s.on("connect.end",function(g){var b=g.context,x=b.canExecute,E=b.connectionStart,k={x:g.x,y:g.y},P=b.source,C=b.target;if(!x)return!1;var M=null,$={connectionStart:tE(b)?k:E,connectionEnd:tE(b)?E:k};w(x)&&(M=x),b.connection=d.connect(P,C,M,$)}),this.start=function(g,b,x,E){w(x)||(E=x,x=Xt(b)),l.init(g,"connect",{autoActivate:E,data:{shape:b,context:{start:b,connectionStart:x}}})}}function tE(s){var l=s.hover,d=s.source,f=s.target;return l&&d&&l===d&&d!==f}jT.$inject=["eventBus","dragging","modeling","rules"];var BT="connect-ok",VT="connect-not-ok";function zT(s,l,d){var f=s.get("connectionPreview",!1);f&&l.on("connect.move",function(p){var g=p.context,b=g.canExecute,x=g.hover,E=g.source,k=g.start,P=g.startPosition,C=g.target,M=g.connectionStart||P,$=g.connectionEnd||{x:p.x,y:p.y},j=M,H=$;tE(g)&&(j=$,H=M),f.drawPreview(g,b,{source:E||k,target:C||x,connectionStart:j,connectionEnd:H})}),l.on("connect.hover",900,function(p){var g=p.context,b=p.hover,x=g.canExecute;x!==null&&d.addMarker(b,x?BT:VT)}),l.on(["connect.out","connect.cleanup"],1100,function(p){var g=p.hover;g&&(d.removeMarker(g,BT),d.removeMarker(g,VT))}),f&&l.on("connect.cleanup",function(p){f.cleanUp(p.context)})}zT.$inject=["injector","eventBus","canvas"];var Wp={__depends__:[$c,Gc,Wu],__init__:["connectPreview"],connect:["type",jT],connectPreview:["type",zT]};function Uu(s,l,d,f){this._canvas=l,this._graphicsFactory=d,this._elementFactory=f,this._connectionDocking=s.get("connectionDocking",!1),this._layouter=s.get("layouter",!1)}Uu.$inject=["injector","canvas","graphicsFactory","elementFactory"],Uu.prototype.drawPreview=function(s,l,d){d=d||{};var f,p,g,b=s.connectionPreviewGfx,x=s.getConnection,E=d.source,k=d.target,P=d.waypoints,C=d.connectionStart,M=d.connectionEnd,$=d.noLayout,j=d.noCropping,H=d.noNoop,Y=this;b||(b=s.connectionPreviewGfx=this.createConnectionPreviewGfx()),qe(b),x||(x=s.getConnection=(p=function(q,W,ee){return Y.getConnection(q,W,ee)},g={},function(q){var W=JSON.stringify(q),ee=g[W];return ee||(ee=g[W]=p.apply(null,arguments)),ee})),l&&(f=x(l,E,k)),f?(f.waypoints=P||[],this._layouter&&!$&&(f.waypoints=this._layouter.layoutConnection(f,{source:E,target:k,connectionStart:C,connectionEnd:M,waypoints:d.waypoints||f.waypoints})),f.waypoints&&f.waypoints.length||(f.waypoints=[E?Xt(E):C,k?Xt(k):M]),this._connectionDocking&&(E||k)&&!j&&(f.waypoints=this._connectionDocking.getCroppedWaypoints(f,E,k)),this._graphicsFactory.drawConnection(b,f,{stroke:"var(--element-dragger-color)"})):!H&&this.drawNoopPreview(b,d)},Uu.prototype.drawNoopPreview=function(s,l){var d=l.source,f=l.target,p=l.connectionStart||Xt(d),g=l.connectionEnd||Xt(f),b=this.cropWaypoints(p,g,d,f);ct(s,this.createNoopConnection(b[0],b[1]))},Uu.prototype.cropWaypoints=function(s,l,d,f){var p=this._graphicsFactory,g=d&&p.getShapePath(d),b=f&&p.getShapePath(f),x=p.getConnectionPath({waypoints:[s,l]});return[s=d&&M0(g,x,!0)||s,l=f&&M0(b,x,!1)||l]},Uu.prototype.cleanUp=function(s){s&&s.connectionPreviewGfx&&Ee(s.connectionPreviewGfx)},Uu.prototype.getConnection=function(s){var l=function(d){return w(d)?d:{}}(s);return this._elementFactory.createConnection(l)},Uu.prototype.createConnectionPreviewGfx=function(){var s=ot("g");return ut(s,{pointerEvents:"none"}),ne(s).add("djs-dragger"),ct(this._canvas.getActiveLayer(),s),s},Uu.prototype.createNoopConnection=function(s,l){return Hg([s,l],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};var HT={__init__:["connectionPreview"],connectionPreview:["type",Uu]},WT=["marker-start","marker-mid","marker-end"],nE=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Gu(s,l,d,f){this._elementRegistry=s,this._canvas=d,this._styles=f,this._clonedMarkers={};var p=this;l.on("drag.cleanup",function(){p.cleanUp()})}Gu.$inject=["elementRegistry","eventBus","canvas","styles"],Gu.prototype.cleanUp=function(){R(this._clonedMarkers,function(s){Ee(s)}),this._clonedMarkers={}},Gu.prototype.getGfx=function(s){return this._elementRegistry.getGraphics(s)},Gu.prototype.addDragger=function(s,l,d,f="djs-dragger"){var p=wt(d=d||this.getGfx(s)),g=d.getBoundingClientRect();return this._cloneMarkers(Nu(p),f),ut(p,this._styles.cls(f,[],{x:g.top,y:g.left})),ct(l,p),ut(p,"data-preview-support-element-id",s.id),p},Gu.prototype.addFrame=function(s,l){var d=ot("rect",{class:"djs-resize-overlay",width:s.width,height:s.height,x:s.x,y:s.y});return ct(l,d),ut(d,"data-preview-support-element-id",s.id),d},Gu.prototype._cloneMarkers=function(s,l="djs-dragger"){var d=this;if(s.childNodes)for(var f=0;f<s.childNodes.length;f++)d._cloneMarkers(s.childNodes[f],l);(function(p){return nE.indexOf(p.nodeName)!==-1})(s)&&WT.forEach(function(p){if(ut(s,p)){var g=function(b,x,E){var k=(P=ut(b,x),P.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]),P;return Pn("marker#"+k,E||document)}(s,p,d._canvas.getContainer());d._cloneMarker(s,g,p,l)}})},Gu.prototype._cloneMarker=function(s,l,d,f="djs-dragger"){var p=l.id+"-"+f,g=this._clonedMarkers[p];if(!g){var b=p+"-clone";(g=wt(l)).id=b,ne(g).add(f),this._clonedMarkers[p]=g;var x=Pn("defs",this._canvas._svg);x||(x=ot("defs"),ct(this._canvas._svg,x)),ct(x,g)}ut(s,d,"url(#"+this._clonedMarkers[p].id+")")};var gh={__init__:["previewSupport"],previewSupport:["type",Gu]};const Rv="complex-preview";class rE{constructor(l,d,f){this._canvas=l,this._graphicsFactory=d,this._previewSupport=f,this._markers=[]}create(l){this.cleanUp();const{created:d=[],moved:f=[],removed:p=[],resized:g=[]}=l,b=this._canvas.getLayer(Rv);d.filter(x=>!function(E){return E.hidden}(x)).forEach(x=>{let E;Dr(x)?(E=this._graphicsFactory._createContainer("connection",ot("g")),this._graphicsFactory.drawConnection(Nu(E),x)):(E=this._graphicsFactory._createContainer("shape",ot("g")),this._graphicsFactory.drawShape(Nu(E),x),Co(E,x.x,x.y)),this._previewSupport.addDragger(x,b,E)}),f.forEach(({element:x,delta:E})=>{this._previewSupport.addDragger(x,b,void 0,"djs-dragging"),this._canvas.addMarker(x,"djs-element-hidden"),this._markers.push([x,"djs-element-hidden"]);const k=this._previewSupport.addDragger(x,b);Dr(x)?Co(k,E.x,E.y):Co(k,x.x+E.x,x.y+E.y)}),p.forEach(x=>{this._previewSupport.addDragger(x,b,void 0,"djs-dragging"),this._canvas.addMarker(x,"djs-element-hidden"),this._markers.push([x,"djs-element-hidden"])}),g.forEach(({shape:x,bounds:E})=>{this._canvas.addMarker(x,"djs-hidden"),this._markers.push([x,"djs-hidden"]),this._previewSupport.addDragger(x,b,void 0,"djs-dragging");const k=this._graphicsFactory._createContainer("shape",ot("g"));this._graphicsFactory.drawShape(Nu(k),x,{width:E.width,height:E.height}),Co(k,E.x,E.y),this._previewSupport.addDragger(x,b,k)})}cleanUp(){qe(this._canvas.getLayer(Rv)),this._markers.forEach(([l,d])=>this._canvas.removeMarker(l,d)),this._markers=[],this._previewSupport.cleanUp()}show(){this._canvas.showLayer(Rv)}hide(){this._canvas.hideLayer(Rv)}}rE.$inject=["canvas","graphicsFactory","previewSupport"];var Z3={__depends__:[gh],__init__:["complexPreview"],complexPreview:["type",rE]},iE=["top","bottom","left","right"],Ib=10;function qp(s,l){function d(f){if(Q0(f)){var p=function(g){var b=Xt(g.label),x=Xt(g),E=Mv(x,b);if(k=E,iE.indexOf(k)!==-1){var k,P=function($){var j=Xt($),H=[].concat($.incoming.map(function(Y){return Y.waypoints[Y.waypoints.length-2]}),$.outgoing.map(function(Y){return Y.waypoints[1]})).map(function(Y){return Mv(j,Y)});return H}(g);if(g.host){var C=function($){var j,H=$.host,Y=Xt($),q=rs(Y,H);j=q.indexOf("-")>=0?q.split("-"):[q];var W=iE.filter(function(ee){return j.indexOf(ee)===-1});return W}(g);P=P.concat(C)}var M=iE.filter(function($){return P.indexOf($)===-1});if(M.indexOf(E)===-1)return M[0]}}(f);p&&function(g,b){var x=Xt(g),E=g.label,k=Xt(E);if(E.parent){var P,C=nn(g);switch(b){case"top":P={x:x.x,y:C.top-Ib-E.height/2};break;case"left":P={x:C.left-Ib-E.width/2,y:x.y};break;case"bottom":P={x:x.x,y:C.bottom+Ib+E.height/2};break;case"right":P={x:C.right+Ib+E.width/2,y:x.y}}var M=Gl(P,k);l.moveShape(E,M)}}(f,p)}}lt.call(this,s),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(f){var p=f.context,g=p.connection,b=g.source,x=g.target;(p.hints||{}).createElementsBehavior!==!1&&(d(b),d(x))}),this.postExecuted(["label.create"],function(f){var p=f.context,g=p.shape;(p.hints||{}).createElementsBehavior!==!1&&d(g.labelTarget)}),this.postExecuted(["elements.create"],function(f){var p=f.context,g=p.elements;(p.hints||{}).createElementsBehavior!==!1&&g.forEach(function(b){d(b)})})}function Mv(s,l){return rs(l,s,5)}function oE(s){lt.call(this,s),this.preExecute("shape.append",function(l){var d=l.source,f=l.shape;l.position||(Q(f,"bpmn:TextAnnotation")?l.position={x:d.x+d.width/2+75,y:d.y-50-f.height/2}:l.position={x:d.x+d.width+80+f.width/2,y:d.y+d.height/2})},!0)}function sE(s,l){s.invoke(lt,this),this.postExecute("shape.move",function(d){var f=d.newParent,p=d.shape;R(I(p.incoming.concat(p.outgoing),function(g){return Q(g,"bpmn:Association")}),function(g){l.moveConnection(g,{x:0,y:0},f)})},!0)}t(qp,lt),qp.$inject=["eventBus","modeling"],t(oE,lt),oE.$inject=["eventBus"],t(sE,lt),sE.$inject=["injector","modeling"];function Up(s,l){l.invoke(lt,this),this._bpmnReplace=s;var d=this;this.postExecuted("elements.create",500,function(f){var p=f.elements;(p=p.filter(function(g){return aE(g,g.host)})).length===1&&p.map(function(g){return p.indexOf(g)}).forEach(function(g){var b=p[g];f.elements[g]=d._replaceShape(p[g],b)})},!0),this.preExecute("elements.move",500,function(f){var p=f.shapes,g=f.newHost;if(p.length===1){var b=p[0];aE(b,g)&&(f.shapes=[d._replaceShape(b,g)])}},!0)}function aE(s,l){return!Zn(s)&&Dn(s,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!l}function lE(s,l){function d(f){return I(f.attachers,function(p){return Q(p,"bpmn:BoundaryEvent")})}lt.call(this,s),this.postExecute("connection.create",function(f){var p=f.context.source,g=f.context.target,b=d(g);Q(p,"bpmn:EventBasedGateway")&&Q(g,"bpmn:ReceiveTask")&&b.length>0&&l.removeElements(b)}),this.postExecute("connection.reconnect",function(f){var p=f.context.oldSource,g=f.context.newSource;Q(p,"bpmn:Gateway")&&Q(g,"bpmn:EventBasedGateway")&&R(g.outgoing,function(b){var x=b.target,E=d(x);Q(x,"bpmn:ReceiveTask")&&E.length>0&&l.removeElements(E)})})}function cE(s,l,d){function f(g){l.updateProperties(g,{isForCompensation:!0})}function p(g){l.updateProperties(g,{isForCompensation:void 0})}lt.call(this,s),this.preExecute("shape.replace",function(g){const{newData:b,oldShape:x}=g;if(Gp(g.oldShape)&&b.eventDefinitionType!=="bpmn:CompensateEventDefinition"||b.type!=="bpmn:BoundaryEvent"){const E=x.outgoing.find(({target:k})=>Dv(k));E&&E.target&&(g._connectionTarget=E.target)}else if(!Gp(g.oldShape)&&b.eventDefinitionType==="bpmn:CompensateEventDefinition"&&b.type==="bpmn:BoundaryEvent"){const E=x.outgoing.find(({target:k})=>Fb(k));E&&E.target&&(g._connectionTarget=E.target),function(k){const P=k.outgoing.filter(C=>Q(C,"bpmn:SequenceFlow"));l.removeElements(P)}(x)}},!0),this.postExecuted("shape.replace",function(g){const{_connectionTarget:b,newShape:x}=g;b&&l.connect(x,b)},!0),this.preExecute("connection.create",function(g){const b=g.connection,x=g.source,E=g.target;Gp(x)&&Fb(E)&&(f(E),function(k,P){k.outgoing.filter($=>Q($,"bpmn:Association")).filter($=>Dv($.target)&&!P.includes($)).forEach($=>l.removeConnection($))}(x,[b]))},!0),this.postExecuted("connection.delete",function(g){const b=g.source,x=g.target;Gp(b)&&Dv(x)&&p(x)},!0),this.postExecuted("connection.reconnect",function(g){const b=g.newTarget,x=g.oldSource,E=g.oldTarget;if(E!==b){const k=x;Dv(E)&&p(E),Gp(k)&&Fb(b)&&f(b)}},!0),this.postExecuted("element.updateProperties",function(g){const{element:b}=g;Dv(b)?(function(x){for(const E of x.incoming)d.canConnect(E.source,x)||l.removeConnection(E);for(const E of x.outgoing)d.canConnect(x,E.target)||l.removeConnection(E)}(b),function(x){const E=x.attachers.slice();E.length&&l.removeElements(E)}(b)):Fb(b)&&function(x){const E=x.incoming.filter(k=>Gp(k.source));l.removeElements(E)}(b)},!0)}function Dv(s){const l=dt(s);return l&&l.get("isForCompensation")}function Gp(s){return s&&Q(s,"bpmn:BoundaryEvent")&&lv(s,"bpmn:CompensateEventDefinition")}function Fb(s){return s&&Q(s,"bpmn:Activity")&&!ss(s)}function uE(s){s.invoke(lt,this),this.preExecute("shape.create",1500,function(l){var d=l.context,f=d.parent,p=d.shape;Q(f,"bpmn:Lane")&&!Q(p,"bpmn:Lane")&&(d.parent=Hs(f,"bpmn:Participant"))})}function dE(s,l){lt.call(this,s),this.preExecute("shape.create",function(d){var f=d.context.shape;if(Q(f,"bpmn:DataObjectReference")&&f.type!=="label"){var p=l.create("bpmn:DataObject");f.businessObject.dataObjectRef=p}})}Up.$inject=["bpmnReplace","injector"],t(Up,lt),Up.prototype._replaceShape=function(s,l){var d,f=(d=dt(s).eventDefinitions)&&d[0],p={type:"bpmn:BoundaryEvent",host:l};return f&&(p.eventDefinitionType=f.$type),this._bpmnReplace.replaceElement(s,p,{layoutConnection:!1})},lE.$inject=["eventBus","modeling"],t(lE,lt),t(cE,lt),cE.$inject=["eventBus","modeling","bpmnRules"],uE.$inject=["injector"],t(uE,lt),dE.$inject=["eventBus","bpmnFactory"],t(dE,lt);var fE=20,hE=20,qT=30,Lb=2e3;function pE(s,l,d){function f(){var p=s.getRootElement();return Q(p,"bpmn:Collaboration")?p:d.makeCollaboration()}lt.call(this,l),l.on(["create.start","shape.move.start"],Lb,function(p){var g=p.context,b=g.shape,x=s.getRootElement();if(Q(b,"bpmn:Participant")&&Q(x,"bpmn:Process")&&x.children.length){var E=x.children.filter(function(C){return!Q(C,"bpmn:Group")&&!Zn(C)&&!Dr(C)});if(E.length){var k=Fi(E),P=function(C,M){M={width:M.width+2*fE+qT,height:M.height+2*hE};var $=Math.max(C.width,M.width),j=Math.max(C.height,M.height);return{x:-$/2,y:-j/2,width:$,height:j}}(b,k);le(b,P),g.createConstraints=function(C,M){return M=nn(M),{bottom:M.top+C.height/2-hE,left:M.right-C.width/2+fE,top:M.bottom-C.height/2+hE,right:M.left+C.width/2-fE-qT}}(b,k)}}}),l.on("create.start",Lb,function(p){var g=p.context.shape,b=s.getRootElement(),x=s.getGraphics(b);function E(k){k.element=b,k.gfx=x}Q(g,"bpmn:Participant")&&Q(b,"bpmn:Process")&&(l.on("element.hover",Lb,E),l.once("create.cleanup",function(){l.off("element.hover",E)}))}),this.preExecute("elements.create",Lb,function(p){var g,b=p.elements,x=p.parent,E=function(k){return D(k,function(P){return Q(P,"bpmn:Participant")})}(b);E&&Q(x,"bpmn:Process")&&(p.parent=f(),(g=p.hints=p.hints||{}).participant=E,g.process=x,g.processRef=dt(E).get("processRef"))},!0),this.preExecute("shape.create",function(p){var g=p.parent,b=p.shape;Q(b,"bpmn:Participant")&&Q(g,"bpmn:Process")&&(p.parent=f(),p.process=g,p.processRef=dt(b).get("processRef"))},!0),this.execute("shape.create",function(p){var g=p.hints||{},b=p.process||g.process,x=p.shape,E=g.participant;!b||E&&x!==E||dt(x).set("processRef",dt(b))},!0),this.revert("shape.create",function(p){var g=p.hints||{},b=p.process||g.process,x=p.processRef||g.processRef,E=p.shape,k=g.participant;!b||k&&E!==k||dt(E).set("processRef",x)},!0),this.postExecute("shape.create",function(p){var g=p.hints||{},b=p.process||p.hints.process,x=p.shape,E=g.participant;if(b){var k=b.children.slice();E?x===E&&d.moveElements(k,{x:0,y:0},E):d.moveElements(k,{x:0,y:0},x)}},!0)}pE.$inject=["canvas","eventBus","modeling"],t(pE,lt);var dl="__targetRef_placeholder";function mE(s,l){function d(g,b){var x=g.get("properties"),E=D(x,function(k){return k.name===dl});return!E&&b&&$i(x,E=l.create("bpmn:Property",{name:dl})),E}function f(g,b){var x=d(g);x&&(function(E,k,P){return D(E.get("dataInputAssociations"),function(C){return C!==P&&C.targetRef===k})}(g,x,b)||Li(g.get("properties"),x))}function p(g){var b,x=g.context,E=x.connection,k=E.businessObject,P=E.target,C=P&&P.businessObject,M=x.newTarget,$=M&&M.businessObject,j=x.oldTarget||x.target,H=j&&j.businessObject,Y=E.businessObject;H&&H!==C&&f(H,k),$&&$!==C&&f($,k),C?(b=d(C,!0),Y.targetRef=b):Y.targetRef=null}lt.call(this,s),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],UT(p)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],UT(p))}function UT(s){return function(l){if(Q(l.context.connection,"bpmn:DataInputAssociation"))return s(l)}}function Qc(s){this._bpmnUpdater=s}function Nn(s,l,d,f){function p(b){return b.children.filter(function(x){return Q(x,"bpmn:DataStoreReference")&&!x.labelTarget})}function g(b,x){var E=b.businessObject||b;if(x=x||d.filter(function(P){return Q(P,"bpmn:Participant")&&dt(P).processRef})[0]){var k=x.businessObject||x;l.execute("dataStore.updateContainment",{dataStoreBo:E,dataStoreDi:fr(b),newSemanticParent:k.processRef||k,newDiParent:fr(x)})}}lt.call(this,f),l.registerHandler("dataStore.updateContainment",Qc),this.preExecute("shape.create",function(b){var x=b.context,E=x.shape;Q(E,"bpmn:DataStoreReference")&&E.type!=="label"&&(x.hints||(x.hints={}),x.hints.autoResize=!1)}),this.preExecute("elements.move",function(b){var x=b.context,E=x.shapes;E.filter(function(k){return Q(k,"bpmn:DataStoreReference")}).length&&(x.hints||(x.hints={}),x.hints.autoResize=E.filter(function(k){return!Q(k,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(b){var x=b.context.shape,E=x.parent;Q(x,"bpmn:DataStoreReference")&&x.type!=="label"&&Q(E,"bpmn:Collaboration")&&g(x)}),this.postExecute("shape.move",function(b){var x=b.context,E=x.shape,k=x.oldParent,P=E.parent;Q(k,"bpmn:Collaboration")||Q(E,"bpmn:DataStoreReference")&&E.type!=="label"&&Q(P,"bpmn:Collaboration")&&g(E,Q(k,"bpmn:Participant")?k:function(C,M){for(;C.parent;){if(Q(C.parent,M))return C.parent;C=C.parent}}(k,"bpmn:Participant"))}),this.postExecute("shape.delete",function(b){var x=b.context.shape,E=s.getRootElement();Dn(x,["bpmn:Participant","bpmn:SubProcess"])&&Q(E,"bpmn:Collaboration")&&p(E).filter(function(k){return function(P,C){for(var M=P.businessObject||P,$=C.businessObject||C;M.$parent;){if(M.$parent===$.processRef||$)return!0;M=M.$parent}return!1}(k,x)}).forEach(function(k){g(k)})}),this.postExecute("canvas.updateRoot",function(b){var x=b.context,E=x.oldRoot,k=x.newRoot;p(E).forEach(function(P){Q(k,"bpmn:Process")&&g(P,k)})})}mE.$inject=["eventBus","bpmnFactory"],t(mE,lt),Qc.$inject=["bpmnUpdater"],Qc.prototype.execute=function(s){var l=s.dataStoreBo,d=s.dataStoreDi,f=s.newSemanticParent,p=s.newDiParent;return s.oldSemanticParent=l.$parent,s.oldDiParent=d.$parent,this._bpmnUpdater.updateSemanticParent(l,f),this._bpmnUpdater.updateDiParent(d,p),[]},Qc.prototype.revert=function(s){var l=s.dataStoreBo,d=s.dataStoreDi,f=s.oldSemanticParent,p=s.oldDiParent;return this._bpmnUpdater.updateSemanticParent(l,f),this._bpmnUpdater.updateDiParent(d,p),[]},Nn.$inject=["canvas","commandStack","elementRegistry","eventBus"],t(Nn,lt);var $b=Math.max,cs=Math.min,ao=20;function GT(s,l){return{top:s.top-l.top,right:s.right-l.right,bottom:s.bottom-l.bottom,left:s.left-l.left}}function Kl(s,l,d){var f=l[s],p=d.min&&d.min[s],g=d.max&&d.max[s];return S(p)&&(f=(/top|left/.test(s)?cs:$b)(f,p)),S(g)&&(f=(/top|left/.test(s)?$b:cs)(f,g)),f}function Nv(s,l){return s!==void 0?s:ao}function J3(s){return!s.waypoints&&s.type!=="label"}function YT(s,l){var d;if((d=s.length===void 0?I(s.children,J3):s).length)return function(f,p){var g,b,x,E;return typeof p=="object"?(g=Nv(p.left),b=Nv(p.right),x=Nv(p.top),E=Nv(p.bottom)):g=b=x=E=Nv(p),{x:f.x-g,y:f.y-x,width:f.width+g+b,height:f.height+x+E}}(Fi(d),l)}var jb=Math.abs,e5=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],af=30;function Bb(s,l){return l=l||[],s.children.filter(function(d){Q(d,"bpmn:Lane")&&(Bb(d,l),l.push(d))}),l}function Ws(s){return s.children.filter(function(l){return Q(l,"bpmn:Lane")})}function Da(s){return Hs(s,e5)||s}function Vb(s,l){var d=Da(s),f=Bb(d,Q(d,"bpmn:Process")?[]:[d]),p=nn(s),g=nn(l),b=function(E,k){return GT(nn(k),nn(E))}(s,l),x=[];return f.forEach(function(E){if(E!==s){var k,P,C=0,M=b.right,$=0,j=b.left,H=nn(E);b.top&&(jb(H.bottom-p.top)<10&&($=g.top-H.bottom),jb(H.top-p.top)<5&&(C=g.top-H.top)),b.bottom&&(jb(H.top-p.bottom)<10&&(C=g.bottom-H.top),jb(H.bottom-p.bottom)<5&&($=g.bottom-H.bottom)),(C||M||$||j)&&x.push({shape:E,newBounds:(k=E,P={top:C,right:M,bottom:$,left:j},{x:k.x+(P.left||0),y:k.y+(P.top||0),width:k.width-(P.left||0)+(P.right||0),height:k.height-(P.top||0)+(P.bottom||0)})})}}),x}function xi(s,l){lt.call(this,s),this.postExecuted("shape.delete",500,function(d){var f=d.context,p=f.hints,g=f.shape,b=f.oldParent;Q(g,"bpmn:Lane")&&(p&&p.nested||function(x,E){var k,P,C,M=Ws(E),$=[],j=[];zd(M,function(H){return H.y>x.y?j.push(H):$.push(H),H.children}),M.length&&(k=j.length&&$.length?x.height/2:x.height,$.length&&(P=l.calculateAdjustments($,"y",k,x.y-10),l.makeSpace(P.movingShapes,P.resizingShapes,{x:0,y:k},"s")),j.length&&(C=l.calculateAdjustments(j,"y",-k,x.y+x.height+10),l.makeSpace(C.movingShapes,C.resizingShapes,{x:0,y:-k},"n")))}(g,b))})}xi.$inject=["eventBus","spaceTool"],t(xi,lt);function wi(s,l){l.invoke(lt,this),this._bpmnReplace=s;var d=this;this.postExecuted("elements.create",500,function(f){var p=f.elements;p.filter(function(g){return gE(g,g.host)}).map(function(g){return p.indexOf(g)}).forEach(function(g){f.elements[g]=d._replaceShape(p[g])})},!0),this.preExecute("elements.move",500,function(f){var p=f.shapes,g=f.newHost;p.forEach(function(b,x){var E,k=b.host;gE(b,(E=k,p.indexOf(E)!==-1?k:g))&&(p[x]=d._replaceShape(b))})},!0)}function gE(s,l){return!Zn(s)&&Q(s,"bpmn:BoundaryEvent")&&!l}function vE(s,l,d){function f(p,g,b){var x,E,k,P,C,M,$,j,H=g.waypoints,Y=p.outgoing.slice(),q=p.incoming.slice(),W=U_(H,j=S(b.width)?Xt(b):b);if(W){if(x=H.slice(0,W.index),E=H.slice(W.index+(W.bendpoint?1:0)),!x.length||!E.length)return;k=W.bendpoint?H[W.index]:j,x.length!==1&&QT(p,x[x.length-1])||x.push(KT(k)),E.length!==1&&QT(p,E[0])||E.unshift(KT(k))}P=g.source,C=g.target,l.canConnect(P,p,g)&&(d.reconnectEnd(g,p,x||j),M=g),l.canConnect(p,C,g)&&(M?$=d.connect(p,C,{type:g.type,waypoints:E}):(d.reconnectStart(g,p,E||j),$=g));var ee=[].concat(M&&I(q,function(ie){return ie.source===M.source})||[],$&&I(Y,function(ie){return ie.target===$.target})||[]);ee.length&&d.removeElements(ee)}lt.call(this,s),this.preExecute("elements.move",function(p){var g=p.newParent,b=p.shapes,x=p.delta,E=b[0];if(E&&g){g&&g.waypoints&&(p.newParent=g=g.parent);var k=Xt(E),P={x:k.x+x.x,y:k.y+x.y},C=D(g.children,function(M){return l.canInsert(b,M)&&U_(M.waypoints,P)});C&&(p.targetFlow=C,p.position=P)}},!0),this.postExecuted("elements.move",function(p){var g=p.shapes,b=p.targetFlow,x=p.position;b&&f(g[0],b,x)},!0),this.preExecute("shape.create",function(p){var g=p.parent,b=p.shape;l.canInsert(b,g)&&(p.targetFlow=g,p.parent=g.parent)},!0),this.postExecuted("shape.create",function(p){var g=p.shape,b=p.targetFlow,x=p.position;b&&f(g,b,x)},!0)}function QT(s,l){var d=l.x,f=l.y;return d>=s.x&&d<=s.x+s.width&&f>=s.y&&f<=s.y+s.height}function KT(s){return le({},s)}function yE(s,l){lt.call(this,s),this.preExecuted("connection.create",function(d){var f=d.context,p=f.connection,g=f.source,b=f.target,x=f.hints;(!x||x.createElementsBehavior!==!1)&&Yp(p)&&(Q(g,"bpmn:EventBasedGateway")?b.incoming.filter(E=>E!==p&&Yp(E)):b.incoming.filter(E=>E!==p&&Yp(E)&&Q(E.source,"bpmn:EventBasedGateway"))).forEach(function(E){l.removeConnection(E)})}),this.preExecuted("shape.replace",function(d){var f=d.context.newShape;Q(f,"bpmn:EventBasedGateway")&&f.outgoing.filter(Yp).reduce(function(p,g){return p.includes(g.target)?p:p.concat(g.target)},[]).forEach(function(p){p.incoming.filter(Yp).forEach(function(g){const b=p.incoming.filter(Yp).filter(function(x){return x.source===f});(g.source!==f||b.length>1)&&l.removeConnection(g)})})})}function Yp(s){return Q(s,"bpmn:SequenceFlow")}wi.$inject=["bpmnReplace","injector"],t(wi,lt),wi.prototype._replaceShape=function(s){var l,d,f=(d=dt(s).eventDefinitions)&&d[0];return l=f?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:f.$type}:{type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(s,l,{layoutConnection:!1})},t(vE,lt),vE.$inject=["eventBus","bpmnRules","modeling"],yE.$inject=["eventBus","modeling"],t(yE,lt);var zb=1500;function bE(s,l,d){l.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],zb,function(f){var p=f.context.shape||f.shape,g=f.hover;Q(g,"bpmn:Lane")&&!Dn(p,["bpmn:Lane","bpmn:Participant"])&&(f.hover=Da(g),f.hoverGfx=s.getGraphics(f.hover));var b=d.getRootElement();g!==b&&(p.labelTarget||Q(p,"bpmn:Group"))&&(f.hover=b,f.hoverGfx=s.getGraphics(f.hover))}),l.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],zb,function(f){var p=f.hover;Q(p,"bpmn:Lane")&&(f.hover=Da(p)||p,f.hoverGfx=s.getGraphics(f.hover))}),l.on(["bendpoint.move.hover"],zb,function(f){var p=f.context,g=f.hover,b=p.type;Q(g,"bpmn:Lane")&&/reconnect/.test(b)&&(f.hover=Da(g)||g,f.hoverGfx=s.getGraphics(f.hover))}),l.on(["connect.start"],zb,function(f){var p=f.context,g=p.start;Q(g,"bpmn:Lane")&&(p.start=Da(g)||g)}),l.on("shape.move.start",2e3,function(f){var p=f.shape;Q(p,"bpmn:Lane")&&(f.shape=Da(p)||p)}),l.on("spaceTool.move",2e3,function(f){var p=f.hover;p&&Q(p,"bpmn:Lane")&&(f.hover=Da(p))})}bE.$inject=["elementRegistry","eventBus","canvas"];function vh(s,l,d,f,p,g){function b(C,M,$){var j=d.filter(function(H){return Q(H,"bpmn:Group")}).filter(function(H){return H.businessObject!==$});M&&!function(H,Y){return H.some(function(q){var W=dt(q);return(W.categoryValueRef&&W.categoryValueRef.$parent)===Y})}(j,M)&&function(H){var Y=H.$parent;Y&&(Li(Y.get("rootElements"),H),H.$parent=null)}(M),C&&!function(H,Y){return H.some(function(q){return dt(q).categoryValueRef===Y})}(j,C)&&function(H){var Y=H.$parent;Y&&(Li(Y.get("categoryValue"),H),H.$parent=null)}(C)}function x(C,M){return function($,j,H){return $i(j.get("categoryValue"),$),$.$parent=j,$i(H.get("rootElements"),j),j.$parent=H,$}(C,M,l.getDefinitions())}function E(C,M){var $=dt(C),j=$.categoryValueRef;j||(j=$.categoryValueRef=M.categoryValue=M.categoryValue||function(Y){return Y.create("bpmn:CategoryValue")}(s));var H=j.$parent;H||(H=j.$parent=M.category=M.category||function(Y){return Y.create("bpmn:Category")}(s)),x(j,H,l.getDefinitions())}function k(C,M){var $=M.category,j=M.categoryValue,H=dt(C);j?(H.categoryValueRef=null,b(j,$,H)):b(null,H.categoryValueRef.$parent,H)}function P(C,M){var $=s.create(C.$type);return g.copyElement(C,$,null,M)}p.invoke(lt,this),this.execute("label.create",function(C){var M=C.context,$=M.labelTarget;Q($,"bpmn:Group")&&E($,M)}),this.revert("label.create",function(C){var M=C.context,$=M.labelTarget;Q($,"bpmn:Group")&&k($,M)}),this.execute("shape.delete",function(C){var M=C.context,$=M.shape,j=dt($);if(Q($,"bpmn:Group")&&!$.labelTarget){var H=M.categoryValue=j.categoryValueRef;H&&(b(H,M.category=H.$parent,j),j.categoryValueRef=null)}}),this.reverted("shape.delete",function(C){var M=C.context,$=M.shape;if(Q($,"bpmn:Group")&&!$.labelTarget){var j=M.category,H=M.categoryValue,Y=dt($);H&&(Y.categoryValueRef=H,x(H,j))}}),this.execute("shape.create",function(C){var M=C.context,$=M.shape;Q($,"bpmn:Group")&&!$.labelTarget&&dt($).categoryValueRef&&E($,M)}),this.reverted("shape.create",function(C){var M=C.context,$=M.shape;Q($,"bpmn:Group")&&!$.labelTarget&&dt($).categoryValueRef&&k($,M)}),f.on("copyPaste.copyElement",770,function(C){var M=C.descriptor,$=C.element;if(Q($,"bpmn:Group")&&!$.labelTarget){var j=dt($);if(j.categoryValueRef){var H=j.categoryValueRef;M.categoryValue=P(H,!0),H.$parent&&(M.category=P(H.$parent,!0))}}}),f.on("copyPaste.pasteElement",770,function(C){var M=C.descriptor,$=M.businessObject,j=M.categoryValue,H=M.category;j&&(j=$.categoryValueRef=P(j)),H&&(j.$parent=P(H)),delete M.category,delete M.categoryValue})}function Iv(s,l,d,f){var p,g,b,x;return(p=(f.y-d.y)*(l.x-s.x)-(f.x-d.x)*(l.y-s.y))==0?null:(g=s.y-d.y,b=s.x-d.x,x=((f.x-d.x)*g-(f.y-d.y)*b)/p,{x:Math.round(s.x+x*(l.x-s.x)),y:Math.round(s.y+x*(l.y-s.y))})}function XT(s){function l(d,f,p){var g,b={x:p.x,y:p.y-50},x={x:p.x-50,y:p.y},E=Iv(d,f,p,b),k=Iv(d,f,p,x);g=E&&k?xE(E,p)>xE(k,p)?k:E:E||k,d.original=g}s.on("bpmnElement.added",function(d){var f,p,g=d.element;g.waypoints&&(l((p=(f=g).waypoints)[0],p[1],Xt(f.source)),l(p[p.length-1],p[p.length-2],Xt(f.target)))})}function xE(s,l){return Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2))}function Qp(s){lt.call(this,s);var l=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(d){var f=d.context.shape,p=dt(f),g=fr(f);if(Dn(p,l)){var b=g.get("isHorizontal");b===void 0&&(b=!0),g.set("isHorizontal",b)}})}vh.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],t(vh,lt),XT.$inject=["eventBus"],Qp.$inject=["eventBus"],t(Qp,lt);var na=Math.sqrt,yh=Math.min,t5=Math.max,ZT=Math.abs;function JT(s){return Math.pow(s,2)}function Fv(s,l){return na(JT(s.x-l.x)+JT(s.y-l.y))}function n5(s,l,d,f){var p=l.x-s.x,g=l.y-s.y,b=d.x-s.x,x=d.y-s.y,E=p*p+g*g,k=(p*b+g*x)/E,P=k*k-(b*b+x*x-f*f)/E;if(P<0&&P>-1e-6&&(P=0),P<0)return[];var C=na(P),M=-k+C,$=-k-C,j={x:s.x-p*M,y:s.y-g*M};return P===0?[j]:[j,{x:s.x-p*$,y:s.y-g*$}].filter(function(H){return function(Y,q,W){return wE(Y.x,q.x,W.x)&&wE(Y.y,q.y,W.y)}(H,s,l)})}function wE(s,l,d){return s>=yh(l,d)-fl&&s<=t5(l,d)+fl}var fl=.1;function Wn(s,l){return ZT(s.x-l.x)<=fl&&ZT(s.y-l.y)<=fl}function _E(s,l,d,f){var p=0,g=0,b={point:s,delta:{x:0,y:0}},x=function(Le,Qt){var ft,Be,et,xn,un,hn,Tn,Wr,Ir,Qr,vr,lr,It=0;for(It=0;It<Qt.length-1;It++){if(Wn(ft=Qt[It],Be=Qt[It+1])?hn=[ft]:(et=Fv(Le,ft),xn=Fv(Le,Be),hn=n5(ft,Be,Le,yh(et,xn))),hn.length<1)throw new Error("expected between [1, 2] circle -> line intersections");hn.length===1&&(Tn={type:"bendpoint",position:hn[0],segmentIndex:It,bendpointIndex:Wn(ft,hn[0])?It:It+1}),hn.length===2&&(vr=hn[0],lr=hn[1],Tn={type:"segment",position:un={x:(vr.x+lr.x)/2,y:(vr.y+lr.y)/2},segmentIndex:It,relativeLocation:Fv(ft,un)/Fv(ft,Be)}),Wr=Fv(Tn.position,Le),(!Qr||Ir>Wr)&&(Qr=Tn,Ir=Wr)}return Qr}(s,d),E=x.segmentIndex,k=function(Le,Qt,ft,Be){var et=ft.segmentIndex,xn=Qt.length-Le.length;if(Be.segmentMove){var un=Be.segmentMove.segmentStartIndex,hn=Be.segmentMove.newSegmentStartIndex;return et===un?hn:et>=hn?et+xn<hn?hn:et+xn:et}if(Be.bendpointMove){var Tn,Wr=Be.bendpointMove.insert,Ir=Be.bendpointMove.bendpointIndex;return xn===0?et:(et>=Ir&&(Tn=Wr?et+1:et-1),et<Ir&&(Tn=et,Wr&&ft.type!=="bendpoint"&&Ir-1===et&&Na(Qt,Ir)<ft.relativeLocation&&Tn++),Tn)}return xn===0?et:Be.connectionStart&&et===0?0:Be.connectionEnd&&et===Le.length-2?Qt.length-2:Math.floor((Qt.length-2)/2)}(d,l,x,f);if(k<0||k>l.length-2||k===null)return b;var P,C,M=EE(d,E),$=EE(l,k),j=x.position,H=function(Le,Qt){var ft=Hp(Le[0],Le[1]),Be=Hp(Le[0],Qt);return ft===0?0:Be/ft}(M,j),Y=(P=$,C=gT(M),gT(P)-C);if(x.type==="bendpoint"){var q=l.length-d.length,W=x.bendpointIndex,ee=d[W];if(l.indexOf(ee)!==-1)return b;if(q===0){var ie=l[W];return{delta:{x:p=ie.x-x.position.x,y:g=ie.y-x.position.y},point:{x:s.x+p,y:s.y+g}}}q<0&&W!==0&&W<d.length-1&&(H=Na(d,W))}var oe,ke,Pe={x:($[1].x-$[0].x)*H+$[0].x,y:($[1].y-$[0].y)*H+$[0].y},Oe=(oe={x:s.x-j.x,y:s.y-j.y},(ke=Y)?{x:Math.cos(ke)*oe.x-Math.sin(ke)*oe.y,y:Math.sin(ke)*oe.x+Math.cos(ke)*oe.y}:oe);return p=Pe.x+Oe.x-s.x,g=Pe.y+Oe.y-s.y,{point:Du(Pe),delta:Du({x:p,y:g})}}function Na(s,l){var d=Hp(s[l-1],s[l]);return d/(d+Hp(s[l],s[l+1]))}function EE(s,l){return[s[l],s[l+1]]}function Lv(s,l,d){var f=ll(l),p=ll(d),g=Gl(s,f),b=g.x*(d.width/l.width),x=g.y*(d.height/l.height);return Du({x:p.x+b,y:p.y+x})}function Nr(s,l,d){var f=ll(s),p=ll(l),g=ll(d),b=Gl(s,f),x=Gl(f,p),E=function($,j,H){var Y=nn(j),q=nn(H);if(function(ke,Pe){return function(Oe,Le){return Oe.right!==Le.right&&Oe.left!==Le.left}(ke,Pe)||function(Oe,Le){return Oe.top!==Le.top&&Oe.bottom!==Le.bottom}(ke,Pe)}(Y,q))return null;var W,ee,ie,oe=rs(j,$);if(oe==="top")W={x:0,y:q.bottom-Y.bottom};else if(oe==="bottom")W={x:0,y:q.top-Y.top};else if(oe==="right")W={x:q.left-Y.left,y:0};else{if(oe!=="left")return null;W={x:q.right-Y.right,y:0}}return ee={x:$.x+W.x,y:$.y+W.y},ie=rs(H,ee),ie!==oe?null:W}(f,l,d);if(E)return E;var k=x.x*(d.width/l.width),P=x.y*(d.height/l.height),C=g.x+k,M=g.y+P;return Du({x:C+b.x-s.x,y:M+b.y-s.y})}var eP="name",SE="text";function Kp(s,l,d,f){function p(b){var x=b.context,E=x.element,k=x.properties;if(eP in k&&l.updateLabel(E,k[eP]),SE in k&&Q(E,"bpmn:TextAnnotation")){var P=f.getTextAnnotationBounds({x:E.x,y:E.y,width:E.width,height:E.height},k[SE]||"");l.updateLabel(E,k.text,P)}}function g(b){var x=b.context,E=x.connection,k=E.label,P=le({},x.hints),C=x.newWaypoints||E.waypoints,M=x.oldWaypoints;return P.startChanged===void 0&&(P.startChanged=!!P.connectionStart),P.endChanged===void 0&&(P.endChanged=!!P.connectionEnd),function($,j,H,Y){return _E(Xt($),j,H,Y).delta}(k,C,M,P)}lt.call(this,s),this.postExecute("element.updateProperties",p),this.postExecute("element.updateModdleProperties",b=>{dt(b.context.element)===b.context.moddleElement&&p(b)}),this.postExecute(["shape.create","connection.create"],function(b){var x=b.context;if((x.hints||{}).createElementsBehavior!==!1){var E=x.shape||x.connection;!Zn(E)&&ih(E)&&mo(E)&&l.updateLabel(E,mo(E))}}),this.postExecute("shape.delete",function(b){var x=b.context,E=x.labelTarget,k=x.hints||{};E&&k.unsetLabel!==!1&&l.updateLabel(E,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(b){var x=b.context;if((x.hints||{}).labelBehavior!==!1){var E,k=x.connection.label;k&&k.parent&&(E=g(b),l.moveShape(k,E))}}),this.postExecute(["shape.replace"],function(b){var x=b.context,E=x.newShape,k=x.oldShape,P=dt(E);P&&ih(P)&&k.label&&E.label&&(E.label.x=k.label.x,E.label.y=k.label.y)}),this.postExecute("shape.resize",function(b){var x,E=b.context,k=E.shape,P=E.newBounds,C=E.oldBounds;if(Q0(k)){var M=k.label,$=function(H,Y){if(Y.length){var q=function(W,ee){var ie=ee.map(function(oe){return{line:oe,distance:vT(W,oe)}});return Ce(ie,"distance")[0].line}(H,Y);return G_(H,q)}}(Xt(M),[[{x:(x=C).x,y:x.y},{x:x.x+(x.width||0),y:x.y}],[{x:x.x+(x.width||0),y:x.y},{x:x.x+(x.width||0),y:x.y+(x.height||0)}],[{x:x.x,y:x.y+(x.height||0)},{x:x.x+(x.width||0),y:x.y+(x.height||0)}],[{x:x.x,y:x.y},{x:x.x,y:x.y+(x.height||0)}]]),j=r5($,C,P);l.moveShape(M,j)}})}function r5(s,l,d){return Du(Gl(Lv(s,l,d),s))}function kE(s,l){function d(f,p){var g=f.context,b=g.connection,x=le({},g.hints),E=g.newWaypoints||b.waypoints,k=g.oldWaypoints;return x.startChanged===void 0&&(x.startChanged=!!x.connectionStart),x.endChanged===void 0&&(x.endChanged=!!x.connectionEnd),function(P,C,M,$){return _E(P,C,M,$).point}(p,E,k,x)}lt.call(this,s),this.postExecute(["connection.layout","connection.updateWaypoints"],function(f){var p=f.context.connection,g=p.outgoing;p.incoming.forEach(function(b){var x=b.waypoints[b.waypoints.length-1],E=d(f,x),k=[].concat(b.waypoints.slice(0,-1),[E]);l.updateWaypoints(b,k)}),g.forEach(function(b){var x=b.waypoints[0],E=d(f,x),k=[].concat([E],b.waypoints.slice(1));l.updateWaypoints(b,k)})}),this.postExecute(["connection.move"],function(f){var p=f.context,g=p.connection,b=g.outgoing,x=g.incoming,E=p.delta;x.forEach(function(k){var P=k.waypoints[k.waypoints.length-1],C={x:P.x+E.x,y:P.y+E.y},M=[].concat(k.waypoints.slice(0,-1),[C]);l.updateWaypoints(k,M)}),b.forEach(function(k){var P=k.waypoints[0],C={x:P.x+E.x,y:P.y+E.y},M=[].concat([C],k.waypoints.slice(1));l.updateWaypoints(k,M)})})}function Hb(s,l,d){var f=qb(s),p=nP(f,l),g=f[0];return p.length?p[p.length-1]:Lv(g.original||g,d,l)}function Wb(s,l,d){var f=qb(s),p=nP(f,l),g=f[f.length-1];return p.length?p[0]:Lv(g.original||g,d,l)}function CE(s,l,d){var f=qb(s),p=tP(l,d),g=f[0];return Lv(g.original||g,p,l)}function OE(s,l,d){var f=qb(s),p=tP(l,d),g=f[f.length-1];return Lv(g.original||g,p,l)}function tP(s,l){return{x:s.x-l.x,y:s.y-l.y,width:s.width,height:s.height}}function qb(s){var l=s.waypoints;if(!l.length)throw new Error("connection#"+s.id+": no waypoints");return l}function nP(s,l){return I(ge(s,i5),function(d){return function(f,p){return rs(p,f,1)==="intersect"}(d,l)})}function i5(s){return s.original||s}function TE(s,l){lt.call(this,s),this.postExecute("shape.replace",function(d){var f=d.oldShape,p=d.newShape;if(function(P,C){return Q(P,"bpmn:Participant")&&Hn(P)&&Q(C,"bpmn:Participant")&&!Hn(C)}(f,p)){var g,b,x,E,k=(b=Hd([g=f],!1),x=[],E=[],b.forEach(function(P){P!==g&&(P.incoming.forEach(function(C){Q(C,"bpmn:MessageFlow")&&x.push(C)}),P.outgoing.forEach(function(C){Q(C,"bpmn:MessageFlow")&&E.push(C)}))},[]),{incoming:x,outgoing:E});k.incoming.forEach(function(P){var C=Wb(P,p,f);l.reconnectEnd(P,p,C)}),k.outgoing.forEach(function(P){var C=Hb(P,p,f);l.reconnectStart(P,p,C)})}},!0)}t(Kp,lt),Kp.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],t(kE,lt),kE.$inject=["eventBus","modeling"],TE.$inject=["eventBus","modeling"],t(TE,lt);const o5=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function rP(s){const l=dt(s);if(!(Q(l,"bpmn:BoundaryEvent")||Q(l,"bpmn:StartEvent")&&ss(l.$parent)))return!1;const d=l.get("eventDefinitions");return!(!d||!d.length)&&o5.some(f=>Q(d[0],f))}function Ub(s){return Q(s,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function PE(s,l){s.invoke(lt,this),this.postExecuted("shape.replace",function(d){const f=d.context.oldShape,p=d.context.newShape,g=d.context.hints;if(!rP(p))return;const b=Ub(p);if(g.targetElement&&g.targetElement[b]!==void 0)return;const x=dt(f).get(b);x!==dt(p).get(b)&&l.updateProperties(p,{[b]:x})})}function $v(s,l){lt.call(this,s),this.preExecute("shape.resize",function(d){var f=d.shape,p=fr(f),g=p&&p.get("label");g&&g.get("bounds")&&l.updateModdleProperties(f,g,{bounds:void 0})},!0)}function AE(s,l,d){lt.call(this,s),this.preExecute("shape.delete",function(f){var p=f.context.shape;if(p.incoming.length===1&&p.outgoing.length===1){var g=p.incoming[0],b=p.outgoing[0];if(Q(g,"bpmn:SequenceFlow")&&Q(b,"bpmn:SequenceFlow")&&l.canConnect(g.source,b.target,g)){var x=function(E,k){var P=Iv(Xp(E[E.length-2]),Xp(E[E.length-1]),Xp(k[1]),Xp(k[0]));return P?[].concat(E.slice(0,E.length-1),[P],k.slice(1)):[Xp(E[0]),Xp(k[k.length-1])]}(g.waypoints,b.waypoints);d.reconnectEnd(g,b.target,x)}}})}function Xp(s){return s.original||s}function RE(s,l){lt.call(this,s),this.preExecute("shape.delete",function(d){var f=d.shape,p=f.parent;Q(f,"bpmn:Participant")&&(d.collaborationRoot=p)},!0),this.postExecute("shape.delete",function(d){var f=d.collaborationRoot;f&&!f.businessObject.participants.length&&l.makeProcess()},!0)}function vo(s,l,d,f){lt.call(this,s);var p=f.get("dragging",!1);function g(b){var x,E,k=b.source,P=b.target;b.parent&&(Q(b,"bpmn:SequenceFlow")&&(d.canConnectSequenceFlow(k,P)||(E=!0),d.canConnectMessageFlow(k,P)&&(x="bpmn:MessageFlow")),Q(b,"bpmn:MessageFlow")&&(d.canConnectMessageFlow(k,P)||(E=!0),d.canConnectSequenceFlow(k,P)&&(x="bpmn:SequenceFlow")),E&&l.removeConnection(b),x&&l.connect(k,P,{type:x,waypoints:b.waypoints.slice()}))}this.postExecuted("elements.move",function(b){R(b.closure.allConnections,g)},!0),this.preExecute("connection.reconnect",function(b){var x,E,k=b.context,P=k.connection,C=k.newSource||P.source,M=k.newTarget||P.target;(x=d.canConnect(C,M))&&x.type!==P.type&&(E=l.connect(C,M,{type:x.type,associationDirection:x.associationDirection,waypoints:P.waypoints.slice()}),P.parent&&l.removeConnection(P),k.connection=E,p&&function($,j){var H,Y=p.context(),q=Y&&Y.payload.previousSelection;!q||!q.length||(H=q.indexOf($))!==-1&&q.splice(H,1,j)}(P,E))}),this.postExecuted("element.updateProperties",function(b){var x,E=b.context,k=E.properties,P=E.element,C=P.businessObject;k.default&&(x=D(P.outgoing,Ae({id:P.businessObject.default.id})))&&l.updateProperties(x,{conditionExpression:void 0}),k.conditionExpression&&C.sourceRef.default===C&&l.updateProperties(P.source,{default:void 0})})}function us(s,l,d,f,p,g){f.invoke(lt,this),this._bpmnReplace=s,this._elementRegistry=d,this._selection=g,this.postExecuted(["elements.create"],500,function(b){var x=b.context,E=x.parent,k=x.elements,P=X(k,function(C,M){var $=l.canReplace([M],M.host||M.parent||E);return $?C.concat($.replacements):C},[]);P.length&&this._replaceElements(k,P)},this),this.postExecuted(["elements.move"],500,function(b){var x=b.context,E=x.newParent,k=x.newHost,P=[];R(x.closure.topLevel,function(M){P=ss(M)?P.concat(M.children):P.concat(M)}),P.length===1&&k&&(E=k);var C=l.canReplace(P,E);C&&this._replaceElements(P,C.replacements,k)},this),this.postExecute(["shape.replace"],1500,function(b){var x,E=b.context,k=E.oldShape,P=E.newShape,C=k.attachers;C&&C.length&&(x=l.canReplace(C,P),this._replaceElements(C,x.replacements))},this),this.postExecuted(["shape.replace"],1500,function(b){var x=b.context,E=x.oldShape,k=x.newShape;p.unclaimId(E.businessObject.id,E.businessObject),p.updateProperties(k,{id:E.id})})}PE.$inject=["injector","modeling"],t(PE,lt),t($v,lt),$v.$inject=["eventBus","modeling"],t(AE,lt),AE.$inject=["eventBus","bpmnRules","modeling"],RE.$inject=["eventBus","modeling"],t(RE,lt),t(vo,lt),vo.$inject=["eventBus","modeling","bpmnRules","injector"],t(us,lt),us.prototype._replaceElements=function(s,l){var d=this._elementRegistry,f=this._bpmnReplace,p=this._selection;R(l,function(g){var b={type:g.newElementType},x=d.get(g.oldElementId),E=s.indexOf(x);s[E]=f.replaceElement(x,b,{select:!1})}),l&&p.select(s)},us.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var s5={width:140,height:120},bh={width:300,height:60},jv={width:300,height:150},ME={width:140,height:120},iP={width:50,height:30};function oP(s){s.on("resize.start",1500,function(l){var d=l.context,f=d.shape,p=d.direction,g=d.balanced;(Q(f,"bpmn:Lane")||Q(f,"bpmn:Participant"))&&(d.resizeConstraints=function(b,x,E){var k=Da(b),P=!0,C=!0,M=Bb(k,[k]),$=nn(b),j={},H={};/e/.test(x)?H.right=$.left+bh.width:/w/.test(x)&&(H.left=$.right-bh.width),M.forEach(function(q){var W=nn(q);/n/.test(x)&&(W.top<$.top-10&&(P=!1),E&&Gb($.top-W.bottom)<10&&Bv(j,"top",W.top+bh.height),Gb($.top-W.top)<5&&Yb(H,"top",W.bottom-bh.height)),/s/.test(x)&&(W.bottom>$.bottom+10&&(C=!1),E&&Gb($.bottom-W.top)<10&&Yb(j,"bottom",W.bottom-bh.height),Gb($.bottom-W.bottom)<5&&Bv(H,"bottom",W.top+bh.height))});var Y=k.children.filter(function(q){return!q.hidden&&!q.waypoints&&(Q(q,"bpmn:FlowElement")||Q(q,"bpmn:Artifact"))});return Y.forEach(function(q){var W=nn(q);P&&/n/.test(x)&&Yb(H,"top",W.top-c5),/e/.test(x)&&Bv(H,"right",W.right+lP),C&&/s/.test(x)&&Bv(H,"bottom",W.bottom+u5),/w/.test(x)&&Yb(H,"left",W.left-l5)}),{min:H,max:j}}(f,p,g)),Q(f,"bpmn:Participant")&&(d.minDimensions=jv),Q(f,"bpmn:SubProcess")&&Hn(f)&&(d.minDimensions=ME),Q(f,"bpmn:TextAnnotation")&&(d.minDimensions=iP)})}oP.$inject=["eventBus"];var Gb=Math.abs,sP=Math.min,a5=Math.max;function aP(s,l,d,f){var p=s[l];s[l]=p===void 0?d:f(d,p)}function Yb(s,l,d){return aP(s,l,d,sP)}function Bv(s,l,d){return aP(s,l,d,a5)}var lP=20,l5=50,c5=20,u5=20;function cP(s,l){s.on("resize.start",1501,function(d){var f=d.context,p=f.shape;(Q(p,"bpmn:Lane")||Q(p,"bpmn:Participant"))&&(f.balanced=!Zi(d))}),s.on("resize.end",1001,function(d){var f=d.context,p=f.shape,g=f.canExecute,b=f.newBounds;if(Q(p,"bpmn:Lane")||Q(p,"bpmn:Participant"))return g&&(b=t_(b),l.resizeLane(p,b,f.balanced)),!1})}cP.$inject=["eventBus","modeling"];function lf(s,l,d,f,p){function g(k){return Dn(k,["bpmn:ReceiveTask","bpmn:SendTask"])||function(P,C){return y(C)||(C=[C]),ae(C,function(M){return lv(P,M)})}(k,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function b(k){return!!D(s.getDefinitions().get("rootElements"),Ae({id:k.id}))}function x(k){return Q(k,"bpmn:ErrorEventDefinition")?"errorRef":Q(k,"bpmn:EscalationEventDefinition")?"escalationRef":Q(k,"bpmn:MessageEventDefinition")?"messageRef":Q(k,"bpmn:SignalEventDefinition")?"signalRef":void 0}function E(k){if(Dn(k,["bpmn:ReceiveTask","bpmn:SendTask"]))return k.get("messageRef");var P=k.get("eventDefinitions")[0];return P.get(x(P))}d.invoke(lt,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(k){var P=k.shape||k.element;if(g(P)){var C=E(dt(P));C&&!b(C)&&($i(s.getDefinitions().get("rootElements"),C),k.addedRootElement=C)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(k){var P=k.addedRootElement;P&&Li(s.getDefinitions().get("rootElements"),P)},!0),l.on("copyPaste.copyElement",function(k){var P=k.descriptor,C=k.element;if(!C.labelTarget&&g(C)){var M=E(dt(C));M&&(P.referencedRootElement=M)}}),l.on("copyPaste.pasteElement",500,function(k){var P=k.descriptor,C=P.businessObject,M=P.referencedRootElement;M&&(b(M)||(M=f.copyElement(M,p.create(M.$type))),function($,j){if(Dn($,["bpmn:ReceiveTask","bpmn:SendTask"]))return $.set("messageRef",j);var H=$.get("eventDefinitions")[0];H.set(x(H),j)}(C,M),delete P.referencedRootElement)})}lf.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],t(lf,lt);var d5=Math.max;function uP(s){s.on("spaceTool.getMinDimensions",function(l){var d=l.shapes,f=l.axis,p=l.start,g={};return R(d,function(b){var x=b.id;Q(b,"bpmn:Participant")&&(function(E){return E==="x"}(f)?g[x]=jv:g[x]={width:jv.width,height:f5(b,p)}),Q(b,"bpmn:SubProcess")&&Hn(b)&&(g[x]=ME),Q(b,"bpmn:TextAnnotation")&&(g[x]=iP),Q(b,"bpmn:Group")&&(g[x]=s5)}),g})}function f5(s,l){var d;return Ws(s).length?(d=function(f,p){var g,b=Ws(f);return g=dP(b,p),f.height-g.height+bh.height}(s,l),d5(jv.height,d)):jv.height}function dP(s,l){var d,f,p;for(d=0;d<s.length;d++)if(l>=(f=s[d]).y&&l<=f.y+f.height)return(p=Ws(f)).length?dP(p,l):f}uP.$inject=["eventBus"];var h5=180,fP=160;function Yu(s,l,d,f,p,g,b){lt.call(this,l),this._canvas=s,this._eventBus=l,this._modeling=d,this._elementFactory=f,this._bpmnFactory=p,this._bpmnjs=g,this._elementRegistry=b;var x=this;function E(C){return Q(C,"bpmn:SubProcess")&&!Hn(C)}function k(C){var M=C.shape,$=C.newRootElement,j=dt(M);$=x._addDiagram($||j),C.newRootElement=s.addRootElement($)}function P(C){var M=dt(C.shape);x._removeDiagram(M);var $=C.newRootElement=b.get(jc(M));s.removeRootElement($)}this.executed("shape.create",function(C){E(C.shape)&&k(C)},!0),this.postExecuted("shape.create",function(C){var M=C.shape,$=C.newRootElement;$&&M.children&&(x._showRecursively(M.children),x._moveChildrenToShape(M,$))},!0),this.reverted("shape.create",function(C){E(C.shape)&&P(C)},!0),this.preExecuted("shape.delete",function(C){var M=C.shape;if(E(M)){var $=b.get(jc(M));$&&d.removeElements($.children.slice())}},!0),this.executed("shape.delete",function(C){E(C.shape)&&P(C)},!0),this.reverted("shape.delete",function(C){E(C.shape)&&k(C)},!0),this.preExecuted("shape.replace",function(C){var M=C.oldShape,$=C.newShape;E(M)&&E($)&&(C.oldRoot=s.removeRootElement(jc(M)))},!0),this.postExecuted("shape.replace",function(C){var M=C.newShape,$=C.oldRoot,j=s.findRoot(jc(M));if($&&j){var H=$.children;d.moveElements(H,{x:0,y:0},j)}},!0),this.executed("element.updateProperties",function(C){var M=C.element;if(Q(M,"bpmn:SubProcess")){var $=C.properties,j=C.oldProperties.id,H=$.id;if(j!==H){if(g_(M))return b.updateId(M,Bc(H)),void b.updateId(j,H);b.get(Bc(j))&&b.updateId(Bc(j),Bc(H))}}},!0),this.reverted("element.updateProperties",function(C){var M=C.element;if(Q(M,"bpmn:SubProcess")){var $=C.properties,j=C.oldProperties.id,H=$.id;if(j!==H){if(g_(M))return b.updateId(M,Bc(j)),void b.updateId(H,j);var Y=b.get(Bc(H));Y&&b.updateId(Y,Bc(j))}}},!0),l.on("element.changed",function(C){var M=C.element;if(g_(M)){var $=M,j=b.get(m_($));j&&j!==$&&l.fire("element.changed",{element:j})}}),this.executed("shape.toggleCollapse",400,function(C){var M=C.shape;Q(M,"bpmn:SubProcess")&&(Hn(M)?P(C):(k(C),x._showRecursively(M.children)))},!0),this.reverted("shape.toggleCollapse",400,function(C){var M=C.shape;Q(M,"bpmn:SubProcess")&&(Hn(M)?P(C):(k(C),x._showRecursively(M.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(C){var M=C.shape;if(Q(M,"bpmn:SubProcess")){var $=C.newRootElement;$&&(Hn(M)?x._moveChildrenToShape($,M):x._moveChildrenToShape(M,$))}},!0),l.on("copyPaste.createTree",function(C){var M=C.element,$=C.children;if(E(M)){var j=jc(M),H=b.get(j);H&&$.push.apply($,H.children)}}),l.on("copyPaste.copyElement",function(C){var M=C.descriptor,$=C.element,j=C.elements,H=$.parent;if(Q(fr(H),"bpmndi:BPMNPlane")){var Y=m_(H),q=D(j,function(W){return W.id===Y});q&&(M.parent=q.id)}}),l.on("copyPaste.pasteElement",function(C){var M=C.descriptor;M.parent&&(E(M.parent)||M.parent.hidden)&&(M.hidden=!0)})}function DE(s,l){s.invoke(lt,this),this.postExecuted("shape.replace",function(d){var f=d.context.oldShape,p=d.context.newShape;if(Q(p,"bpmn:SubProcess")&&(Q(f,"bpmn:Task")||Q(f,"bpmn:CallActivity"))&&Hn(p)){var g,b={x:(g=p).x+g.width/6,y:g.y+g.height/2};l.createShape({type:"bpmn:StartEvent"},b,p)}})}function NE(s,l){lt.call(this,s),this.postExecuted("shape.toggleCollapse",1500,function(d){var f=d.shape;if(!Hn(f)){var p=Hd(f);p.forEach(function(b){var x=b.incoming.slice(),E=b.outgoing.slice();R(x,function(k){g(k,!0)}),R(E,function(k){g(k,!1)})})}function g(b,x){p.indexOf(b.source)!==-1&&p.indexOf(b.target)!==-1||(x?l.reconnectEnd(b,f,Xt(f)):l.reconnectStart(b,f,Xt(f)))}},!0)}t(Yu,lt),Yu.prototype._moveChildrenToShape=function(s,l){var d,f=this._modeling,p=s.children;if(p){var g=(p=p.concat(p.reduce(function(k,P){return P.label&&P.label.parent!==s?k.concat(P.label):k},[]))).filter(function(k){return!k.hidden});if(g.length){var b=Fi(g);if(l.x){var x=Xt(l),E=Xt(b);d={x:x.x-E.x,y:x.y-E.y}}else d={x:h5-b.x,y:fP-b.y};f.moveElements(p,d,l,{autoResize:!1})}else f.moveElements(p,{x:0,y:0},l,{autoResize:!1})}},Yu.prototype._showRecursively=function(s,l){var d=this,f=[];return s.forEach(function(p){p.hidden=!!l,f=f.concat(p),p.children&&(f=f.concat(d._showRecursively(p.children,p.collapsed||l)))}),f},Yu.prototype._addDiagram=function(s){var l=this._bpmnjs.getDefinitions().diagrams;return s.businessObject||(s=this._createNewDiagram(s)),l.push(s.di.$parent),s},Yu.prototype._createNewDiagram=function(s){var l=this._bpmnFactory,d=this._elementFactory,f=l.create("bpmndi:BPMNPlane",{bpmnElement:s}),p=l.create("bpmndi:BPMNDiagram",{plane:f});return f.$parent=p,d.createRoot({id:jc(s),type:s.$type,di:f,businessObject:s,collapsed:!0})},Yu.prototype._removeDiagram=function(s){var l=this._bpmnjs.getDefinitions().diagrams,d=D(l,function(f){return f.plane.bpmnElement.id===s.id});return l.splice(l.indexOf(d),1),d},Yu.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],DE.$inject=["injector","modeling"],t(DE,lt),t(NE,lt),NE.$inject=["eventBus","modeling"];function IE(s,l,d){lt.call(this,s),this.executed(["shape.toggleCollapse"],500,function(f){var p,g=f.context.shape;Q(g,"bpmn:SubProcess")&&(g.collapsed?fr(g).isExpanded=!1:((p=g.children).length&&p.forEach(function(b){b.type!=="label"||b.businessObject.name||(b.hidden=!0)}),fr(g).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(f){var p=f.context.shape;p.collapsed?fr(p).isExpanded=!1:fr(p).isExpanded=!0}),this.postExecuted(["shape.toggleCollapse"],500,function(f){var p,g=f.context.shape,b=l.getDefaultSize(g);p=g.collapsed?function(x,E){return{x:x.x+(x.width-E.width)/2,y:x.y+(x.height-E.height)/2,width:E.width,height:E.height}}(g,b):function(x,E){var k,P,C,M=x.children,$=E;return k=(C=M,C.filter(function(j){return!j.hidden})).concat([x]),(P=YT(k))?($.width=Math.max(P.width,$.width),$.height=Math.max(P.height,$.height),$.x=P.x+(P.width-$.width)/2,$.y=P.y+(P.height-$.height)/2):($.x=x.x+(x.width-$.width)/2,$.y=x.y+(x.height-$.height)/2),$}(g,b),d.resizeShape(g,p,null,{autoResize:!g.collapsed&&"nwse"})})}function FE(s,l,d,f){l.invoke(lt,this),this.preExecute("shape.delete",function(p){var g=p.context.shape,b=g.businessObject;Zn(g)||(Q(g,"bpmn:Participant")&&Hn(g)&&d.ids.unclaim(b.processRef.id),f.unclaimId(b.id,b))}),this.preExecute("connection.delete",function(p){var g=p.context.connection.businessObject;f.unclaimId(g.id,g)}),this.preExecute("canvas.updateRoot",function(){var p=s.getRootElement(),g=p.businessObject;Q(p,"bpmn:Collaboration")&&d.ids.unclaim(g.id)})}function LE(s,l){lt.call(this,s),this.preExecute("connection.delete",function(d){var f=d.context.connection,p=f.source;(function(g,b){if(!Q(g,"bpmn:SequenceFlow"))return!1;var x=dt(b),E=dt(g);return x.get("default")===E})(f,p)&&l.updateProperties(p,{default:null})})}t(IE,lt),IE.$inject=["eventBus","elementFactory","modeling"],t(FE,lt),FE.$inject=["canvas","injector","moddle","modeling"],t(LE,lt),LE.$inject=["eventBus","modeling"];function $E(s,l,d){var f;function p(){if(!f)throw new Error(d("out of bounds release"));return f}lt.call(this,s);var g=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(g,5e3,function(b){(f=f||new p5).enter()}),this.postExecuted(g,500,function(b){(function(){if(!f)throw new Error(d("out of bounds release"));var x=f.leave();x&&(l.updateLaneRefs(f.flowNodes,f.lanes),f=null)})()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(b){var x=b.context.shape,E=p();x.labelTarget||(Q(x,"bpmn:Lane")&&E.addLane(x),Q(x,"bpmn:FlowNode")&&E.addFlowNode(x))})}function p5(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(s){this.lanes.push(s)},this.addFlowNode=function(s){this.flowNodes.push(s)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}$E.$inject=["eventBus","modeling","translate"],t($E,lt);var m5={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",qp],appendBehavior:["type",oE],associationBehavior:["type",sE],attachEventBehavior:["type",Up],boundaryEventBehavior:["type",lE],compensateBoundaryEventBehaviour:["type",cE],createBehavior:["type",uE],createDataObjectBehavior:["type",dE],createParticipantBehavior:["type",pE],dataInputAssociationBehavior:["type",mE],dataStoreBehavior:["type",Nn],deleteLaneBehavior:["type",xi],detachEventBehavior:["type",wi],dropOnFlowBehavior:["type",vE],eventBasedGatewayBehavior:["type",yE],fixHoverBehavior:["type",bE],groupBehavior:["type",vh],importDockingFix:["type",XT],isHorizontalFix:["type",Qp],labelBehavior:["type",Kp],layoutConnectionBehavior:["type",kE],messageFlowBehavior:["type",TE],nonInterruptingBehavior:["type",PE],removeElementBehavior:["type",AE],removeEmbeddedLabelBoundsBehavior:["type",$v],removeParticipantBehavior:["type",RE],replaceConnectionBehavior:["type",vo],replaceElementBehaviour:["type",us],resizeBehavior:["type",oP],resizeLaneBehavior:["type",cP],rootElementReferenceBehavior:["type",lf],spaceToolBehavior:["type",uP],subProcessPlaneBehavior:["type",Yu],subProcessStartEventBehavior:["type",DE],toggleCollapseConnectionBehaviour:["type",NE],toggleElementCollapseBehaviour:["type",IE],unclaimIdBehavior:["type",FE],unsetDefaultFlowBehavior:["type",LE],updateFlowNodeRefsBehavior:["type",$E]};function hP(s,l){var d=rs(s,l,-15);return d!=="intersect"?d:null}function Ko(s){cl.call(this,s)}function jE(s){return!s||Zn(s)}function pP(s){do{if(Q(s,"bpmn:Process"))return dt(s);if(Q(s,"bpmn:Participant"))return dt(s).processRef||dt(s)}while(s=s.parent)}function BE(s){return Q(s,"bpmn:TextAnnotation")}function VE(s){return Q(s,"bpmn:Group")&&!s.labelTarget}function mP(s){return Q(s,"bpmn:BoundaryEvent")&&Kc(s,"bpmn:CompensateEventDefinition")}function Qb(s){return dt(s).isForCompensation}function gP(s){for(var l=s;l=l.parent;){if(Q(l,"bpmn:FlowElementsContainer"))return dt(l);if(Q(l,"bpmn:Participant"))return dt(l).processRef}return null}function vP(s,l){return gP(s)===gP(l)}function Kc(s,l){return!!D(dt(s).eventDefinitions||[],function(d){return Q(d,l)})}function yP(s,l){return(dt(s).eventDefinitions||[]).every(function(d){return Q(d,l)})}function zE(s,l){var d=function(f){for(var p=[];f;)(f=f.parent)&&p.push(f);return p}(l);return d.indexOf(s)!==-1}function Kb(s,l,d){if(jE(s)||jE(l))return null;if(!Q(d,"bpmn:DataAssociation")){if(qs(s,l))return{type:"bpmn:MessageFlow"};if(Zb(s,l))return{type:"bpmn:SequenceFlow"}}var f=qE(s,l);return f||(EP(s,l)?{type:"bpmn:Association",associationDirection:"One"}:!!_P(s,l)&&{type:"bpmn:Association",associationDirection:"None"})}function Zp(s,l){return!(!Zn(s)&&!VE(s))||!(Q(l,"bpmn:Participant")&&!Hn(l))&&(Q(s,"bpmn:Participant")?Q(l,"bpmn:Process")||Q(l,"bpmn:Collaboration"):Dn(s,["bpmn:DataInput","bpmn:DataOutput"])&&s.parent?l===s.parent:Q(s,"bpmn:Lane")?Q(l,"bpmn:Participant")||Q(l,"bpmn:Lane"):!(Q(s,"bpmn:BoundaryEvent")&&!function(d){return dt(d).cancelActivity&&(Xb(d)||HE(d))}(s))&&(Q(s,"bpmn:FlowElement")&&!Q(s,"bpmn:DataStoreReference")?Q(l,"bpmn:FlowElementsContainer")?Hn(l):Dn(l,["bpmn:Participant","bpmn:Lane"]):Q(s,"bpmn:DataStoreReference")&&Q(l,"bpmn:Collaboration")?ae(dt(l).get("participants"),function(d){return!!d.get("processRef")}):Dn(s,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Dn(l,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!Q(s,"bpmn:MessageFlow")&&(Q(l,"bpmn:Collaboration")||s.source.parent==l||s.target.parent==l)))}function g5(s){return Q(s,"bpmn:Lane")}function v5(s){return!!function(l){return!Zn(l)&&Q(l,"bpmn:BoundaryEvent")}(s)||!(!Q(s,"bpmn:IntermediateThrowEvent")||!Xb(s))||Q(s,"bpmn:IntermediateCatchEvent")&&HE(s)}function Xb(s){var l=dt(s);return l&&!(l.eventDefinitions&&l.eventDefinitions.length)}function HE(s){return WE(s,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function WE(s,l){return l.some(function(d){return Kc(s,d)})}function Vv(s,l,d,f){if(Array.isArray(s)||(s=[s]),s.length!==1)return!1;var p=s[0];return!Zn(p)&&!!v5(p)&&!ss(l)&&!(!Q(l,"bpmn:Activity")||Qb(l))&&!(f&&!hP(f,l))&&!function(g){return Q(g,"bpmn:ReceiveTask")&&D(g.incoming,function(b){return Q(b.source,"bpmn:EventBasedGateway")})}(l)&&"attach"}function bP(s,l,d){if(!l)return!1;var f={replacements:[]};return R(s,function(p){ss(l)||Q(p,"bpmn:StartEvent")&&p.type!=="label"&&Zp(p,l)&&(function(g){return g&&dt(g).isInterrupting!==!1}(p)||f.replacements.push({oldElementId:p.id,newElementType:"bpmn:StartEvent"}),(function(g){return lv(g,"bpmn:ErrorEventDefinition")}(p)||function(g){return lv(g,"bpmn:EscalationEventDefinition")}(p)||function(g){return lv(g,"bpmn:CompensateEventDefinition")}(p))&&f.replacements.push({oldElementId:p.id,newElementType:"bpmn:StartEvent"}),WE(p,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&Q(l,"bpmn:SubProcess")&&f.replacements.push({oldElementId:p.id,newElementType:"bpmn:StartEvent"})),Q(l,"bpmn:Transaction")||Kc(p,"bpmn:CancelEventDefinition")&&p.type!=="label"&&(Q(p,"bpmn:EndEvent")&&Zp(p,l)&&f.replacements.push({oldElementId:p.id,newElementType:"bpmn:EndEvent"}),Q(p,"bpmn:BoundaryEvent")&&Vv(p,l,0,d)&&f.replacements.push({oldElementId:p.id,newElementType:"bpmn:BoundaryEvent"}))}),!!f.replacements.length&&f}function xP(s,l){return!ae(s,g5)&&(!l||s.every(function(d){return Zp(d,l)}))}function zv(s,l,d,f){return!!l&&(!(!Zn(s)&&!VE(s))||!function(p,g){return p===g}(d,l)&&(!d||!zE(d,l))&&(Zp(s,l)||Jb(s,l)))}function wP(s,l){return Q(s,"bpmn:SubProcess")?Hn(s)&&(!l||l.width>=100&&l.height>=80):Q(s,"bpmn:Lane")?!l||l.width>=130&&l.height>=60:Q(s,"bpmn:Participant")?!l||l.width>=250&&l.height>=50:!!BE(s)||!!VE(s)}function _P(s,l){return!zE(l,s)&&!zE(s,l)&&(!!function(d,f){var p=BE(d),g=BE(f);return(p||g)&&p!==g}(s,l)||!!qE(s,l))}function EP(s,l){return vP(s,l)&&mP(s)&&Q(l,"bpmn:Activity")&&(d=s,!l.attachers.includes(d))&&!ss(l);var d}function qs(s,l){return!(kP(s)&&!kP(l))&&Q(d=s,"bpmn:InteractionNode")&&!Q(d,"bpmn:BoundaryEvent")&&(!Q(d,"bpmn:Event")||Q(d,"bpmn:ThrowEvent")&&yP(d,"bpmn:MessageEventDefinition"))&&function(f){return Q(f,"bpmn:InteractionNode")&&!Qb(f)&&(!Q(f,"bpmn:Event")||Q(f,"bpmn:CatchEvent")&&yP(f,"bpmn:MessageEventDefinition"))&&!(Q(f,"bpmn:BoundaryEvent")&&!Kc(f,"bpmn:MessageEventDefinition"))}(l)&&!function(f,p){return pP(f)===pP(p)}(s,l);var d}function Zb(s,l){return Q(d=s,"bpmn:FlowNode")&&!Q(d,"bpmn:EndEvent")&&!ss(d)&&!(Q(d,"bpmn:IntermediateThrowEvent")&&Kc(d,"bpmn:LinkEventDefinition"))&&!mP(d)&&!Qb(d)&&function(f){return Q(f,"bpmn:FlowNode")&&!Q(f,"bpmn:StartEvent")&&!Q(f,"bpmn:BoundaryEvent")&&!ss(f)&&!(Q(f,"bpmn:IntermediateCatchEvent")&&Kc(f,"bpmn:LinkEventDefinition"))&&!Qb(f)}(l)&&vP(s,l)&&!(Q(s,"bpmn:EventBasedGateway")&&!function(f){return Q(f,"bpmn:ReceiveTask")||Q(f,"bpmn:IntermediateCatchEvent")&&(Kc(f,"bpmn:MessageEventDefinition")||Kc(f,"bpmn:TimerEventDefinition")||Kc(f,"bpmn:ConditionalEventDefinition")||Kc(f,"bpmn:SignalEventDefinition"))}(l));var d}function qE(s,l){return Dn(s,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Dn(l,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Dn(l,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Dn(s,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function Jb(s,l,d){if(!l)return!1;if(Array.isArray(s)){if(s.length!==1)return!1;s=s[0]}return l.source!==s&&l.target!==s&&Dn(l,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!Zn(l)&&Q(s,"bpmn:FlowNode")&&!Q(s,"bpmn:BoundaryEvent")&&Zp(s,l.parent)}function SP(s,l){return!!Zn(l)||!(Q(l,"bpmn:Lane")&&!function(d,f){return d&&f&&d.indexOf(f)!==-1}(s,l.parent))}function kP(s){return Hs(s,"bpmn:Process")||Hs(s,"bpmn:Collaboration")}t(Ko,cl),Ko.$inject=["eventBus"],Ko.prototype.init=function(){this.addRule("connection.start",function(s){return function(l){return jE(l)?null:Dn(l,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(s.source)}),this.addRule("connection.create",function(s){var l=s.source,d=s.target,f=s.hints||{},p=f.targetParent;if(f.targetAttach)return!1;p&&(d.parent=p);try{return Kb(l,d)}finally{p&&(d.parent=null)}}),this.addRule("connection.reconnect",function(s){var l=s.connection;return Kb(s.source,s.target,l)}),this.addRule("connection.updateWaypoints",function(s){return{type:s.connection.type}}),this.addRule("shape.resize",function(s){return wP(s.shape,s.newBounds)}),this.addRule("elements.create",function(s){var l=s.elements,d=s.position,f=s.target;return!(Dr(f)&&!Jb(l,f))&&Z(l,function(p){return Dr(p)?Kb(p.source,p.target,p):p.host?Vv(p,p.host,null,d):zv(p,f,null)})}),this.addRule("elements.move",function(s){var l=s.target,d=s.shapes,f=s.position;return Vv(d,l,null,f)||bP(d,l,f)||xP(d,l)||Jb(d,l)}),this.addRule("shape.create",function(s){return zv(s.shape,s.target,s.source,s.position)}),this.addRule("shape.attach",function(s){return Vv(s.shape,s.target,null,s.position)}),this.addRule("element.copy",function(s){var l=s.element;return SP(s.elements,l)})},Ko.prototype.canConnectMessageFlow=qs,Ko.prototype.canConnectSequenceFlow=Zb,Ko.prototype.canConnectDataAssociation=qE,Ko.prototype.canConnectAssociation=_P,Ko.prototype.canConnectCompensationAssociation=EP,Ko.prototype.canMove=xP,Ko.prototype.canAttach=Vv,Ko.prototype.canReplace=bP,Ko.prototype.canDrop=Zp,Ko.prototype.canInsert=Jb,Ko.prototype.canCreate=zv,Ko.prototype.canConnect=Kb,Ko.prototype.canResize=wP,Ko.prototype.canCopy=SP;var UE={__depends__:[Gc],__init__:["bpmnRules"],bpmnRules:["type",Ko]};function CP(s,l){s.on("saveXML.start",2e3,function(){R(l.getRootElements(),function(d){var f,p=fr(d);f=ge(I(Hd([d],!1),function(g){return g!==d&&!g.labelTarget}),fr),p.set("planeElement",f)})})}CP.$inject=["eventBus","canvas"];var GE={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",CP]};function e1(s){lt.call(this,s);var l=this;this.preExecute(["shape.create","connection.create"],function(d){var f=d.context,p=f.shape||f.connection,g=f.parent,b=l.getOrdering(p,g);b&&(b.parent!==void 0&&(f.parent=b.parent),f.parentIndex=b.index)}),this.preExecute(["shape.move","connection.move"],function(d){var f=d.context,p=f.shape||f.connection,g=f.newParent||p.parent,b=l.getOrdering(p,g);b&&(b.parent!==void 0&&(f.newParent=b.parent),f.newParentIndex=b.index)})}function YE(s,l,d){e1.call(this,s);var f=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function p(g){var b=g.order;if(b||(g.order=b=function(x){if(x.labelTarget)return{level:10};var E=D(f,function(k){return Dn(x,[k.type])});return E&&E.order||{level:1}}(g)),!b)throw new Error("no order for <"+g.id+">");return b}this.getOrdering=function(g,b){if(g.labelTarget)return{parent:l.findRoot(b)||l.getRootElement(),index:-1};var x=p(g);x.containers&&(b=function(P,C,M){for(var $=C;$&&!Dn($,M);)$=$.parent;if(!$)throw new Error("no parent for <"+P.id+"> in <"+(C&&C.id)+">");return $}(g,b,x.containers));var E=b.children.indexOf(g),k=F(b.children,function(P){return!(!g.labelTarget&&P.labelTarget)&&x.level<p(P).level});return k!==-1&&E!==-1&&E<k&&(k-=1),{index:k,parent:b}}}e1.prototype.getOrdering=function(s,l){return null},t(e1,lt),YE.$inject=["eventBus","canvas","translate"],t(YE,e1);var y5={__depends__:[Ap],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",YE]};function Hv(){}Hv.prototype.get=function(){return this._data},Hv.prototype.set=function(s){this._data=s},Hv.prototype.clear=function(){var s=this._data;return delete this._data,s},Hv.prototype.isEmpty=function(){return!this._data};var OP={clipboard:["type",Hv]},b5="drop-ok",TP="drop-not-ok",PP="attach-ok",t1="new-parent",n1="create";function AP(s,l,d,f,p){function g(x,E){[PP,b5,TP,t1].forEach(function(k){k===E?s.addMarker(x,k):s.removeMarker(x,k)})}function b(){var x=l.context();x&&x.prefix===n1&&l.cancel()}d.on(["create.move","create.hover"],function(x){var E=x.context,k=E.elements,P=x.hover,C=E.source,M=E.hints||{};if(!P)return E.canExecute=!1,void(E.target=null);RP(x);var $={x:x.x,y:x.y},j=E.canExecute=P&&function(H,Y,q,W,ee){if(!Y)return!1;var ie=D(H=I(H,function(Le){var Qt=Le.labelTarget;return!(Le.parent||Zn(Le)&&H.indexOf(Qt)!==-1)}),function(Le){return!Dr(Le)}),oe=!1,ke=!1,Pe=!1;MP(H)&&(oe=p.allowed("shape.attach",{position:q,shape:ie,target:Y})),oe||(Pe=MP(H)?p.allowed("shape.create",{position:q,shape:ie,source:W,target:Y}):p.allowed("elements.create",{elements:H,position:q,target:Y}));var Oe=ee.connectionTarget;return Pe||oe?(ie&&W&&(ke=p.allowed("connection.create",{source:Oe===W?ie:W,target:Oe===W?W:ie,hints:{targetParent:Y,targetAttach:oe}})),{attach:oe,connect:ke}):(Pe===null||oe===null)&&null}(k,P,$,C,M);P&&j!==null&&(E.target=P,j&&j.attach?g(P,PP):g(P,j?t1:TP))}),d.on(["create.end","create.out","create.cleanup"],function(x){var E=x.hover;E&&g(E,null)}),d.on("create.end",function(x){var E=x.context,k=E.source,P=E.shape,C=E.elements,M=E.target,$=E.canExecute,j=$&&$.attach,H=$&&$.connect,Y=E.hints||{};if($===!1||!M)return!1;RP(x);var q={x:x.x,y:x.y};P=H?f.appendShape(k,P,q,M,{attach:j,connection:H===!0?{}:H,connectionTarget:Y.connectionTarget}):D(C=f.createElements(C,q,M,le({},Y,{attach:j})),function(W){return!Dr(W)}),le(E,{elements:C,shape:P}),le(x,{elements:C,shape:P})}),d.on("create.init",function(){d.on("elements.changed",b),d.once(["create.cancel","create.end"],2e3,function(){d.off("elements.changed",b)})}),this.start=function(x,E,k){y(E)||(E=[E]);var P=D(E,function(M){return!Dr(M)});if(P){k=le({elements:E,hints:{},shape:P},k||{}),R(E,function(M){S(M.x)||(M.x=0),S(M.y)||(M.y=0)});var C=Fi(I(E,function(M){return!M.hidden}));R(E,function(M){Dr(M)&&(M.waypoints=ge(M.waypoints,function($){return{x:$.x-C.x-C.width/2,y:$.y-C.y-C.height/2}})),le(M,{x:M.x-C.x-C.width/2,y:M.y-C.y-C.height/2})}),l.init(x,n1,{cursor:"grabbing",autoActivate:!0,data:{shape:P,elements:E,context:k}})}}}function RP(s){var l=s.context.createConstraints;l&&(l.left&&(s.x=Math.max(s.x,l.left)),l.right&&(s.x=Math.min(s.x,l.right)),l.top&&(s.y=Math.max(s.y,l.top)),l.bottom&&(s.y=Math.min(s.y,l.bottom)))}function MP(s){return s&&s.length===1&&!Dr(s[0])}AP.$inject=["canvas","dragging","eventBus","modeling","rules"];function DP(s,l,d,f,p){l.on("create.move",750,function(g){var b=g.hover,x=g.context,E=x.elements,k=x.dragGroup;k||(k=x.dragGroup=function(P){var C=ot("g");ut(C,p.cls("djs-drag-group",["no-events"]));var M=ot("g");return P.forEach(function($){var j;$.hidden||($.waypoints?(j=d._createContainer("connection",M),d.drawConnection(Nu(j),$)):(j=d._createContainer("shape",M),d.drawShape(Nu(j),$),Co(j,$.x,$.y)),f.addDragger($,C,j))}),C}(E)),b?(k.parentNode||ct(s.getActiveLayer(),k),Co(k,g.x,g.y)):Ee(k)}),l.on("create.cleanup",function(g){var b=g.context.dragGroup;b&&Ee(b)})}DP.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var r1={__depends__:[Wu,gh,Gc,$c],__init__:["create","createPreview"],create:["type",AP],createPreview:["type",DP]};function QE(s){var l=this;function d(f){l._lastMoveEvent=f}this._lastMoveEvent=null,s.on("canvas.init",function(f){(l._svg=f.svg).addEventListener("mousemove",d)}),s.on("canvas.destroy",function(){l._lastMouseEvent=null,l._svg.removeEventListener("mousemove",d)})}QE.$inject=["eventBus"],QE.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function(s,l){var d=document.createEvent("MouseEvent"),f=s,p=l,g=s,b=l;return d.initMouseEvent&&d.initMouseEvent("mousemove",!0,!0,window,0,f,p,g,b,!1,!1,!1,!1,0,null),d}(0,0)};var Wv={__init__:["mouse"],mouse:["type",QE]};function Xl(s,l,d,f,p,g,b,x){this._canvas=s,this._create=l,this._clipboard=d,this._elementFactory=f,this._eventBus=p,this._modeling=g,this._mouse=b,this._rules=x,p.on("copyPaste.copyElement",function(E){var k=E.descriptor,P=E.element,C=E.elements;k.priority=1,k.id=P.id;var M=D(C,function($){return $===P.parent});M&&(k.parent=P.parent.id),function($){return!!$.host}(P)&&(k.priority=2,k.host=P.host.id),Dr(P)&&(k.priority=3,k.source=P.source.id,k.target=P.target.id,k.waypoints=function($){return ge($.waypoints,function(j){return(j=NP(j)).original&&(j.original=NP(j.original)),j})}(P)),Zn(P)&&(k.priority=4,k.labelTarget=P.labelTarget.id),R(["x","y","width","height"],function($){S(P[$])&&(k[$]=P[$])}),k.hidden=P.hidden,k.collapsed=P.collapsed}),p.on("copyPaste.pasteElements",function(E){le(E.hints,{createElementsBehavior:!1})})}function NP(s){return le({},s)}function IP(s,l){var d=l.indexOf(s);return d===-1?l:l.splice(d,1)}Xl.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],Xl.prototype.copy=function(s){var l,d;return y(s)||(s=s?[s]:[]),d=(l=this._eventBus.fire("copyPaste.canCopyElements",{elements:s}))===!1?{}:this.createTree(y(l)?l:s),this._clipboard.set(d),this._eventBus.fire("copyPaste.elementsCopied",{elements:s,tree:d}),d},Xl.prototype.paste=function(s){var l=this._clipboard.get();if(!this._clipboard.isEmpty()){var d=s&&s.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:d});var f=this._createElements(l);if(s&&s.element&&s.point)return this._paste(f,s.element,s.point,d);this._create.start(this._mouse.getLastMoveEvent(),f,{hints:d||{}})}},Xl.prototype._paste=function(s,l,d,f){R(s,function(g){S(g.x)||(g.x=0),S(g.y)||(g.y=0)});var p=Fi(s);return R(s,function(g){Dr(g)&&(g.waypoints=ge(g.waypoints,function(b){return{x:b.x-p.x-p.width/2,y:b.y-p.y-p.height/2}})),le(g,{x:g.x-p.x-p.width/2,y:g.y-p.y-p.height/2})}),this._modeling.createElements(s,d,l,le({},f))},Xl.prototype._createElements=function(s){var l=this,d=this._eventBus,f={},p=[];return R(s,function(g,b){R(g=Ce(g,"priority"),function(x){var E,k=le({},Qe(x,["priority"]));return f[x.parent]?k.parent=f[x.parent]:delete k.parent,d.fire("copyPaste.pasteElement",{cache:f,descriptor:k}),Dr(k)?(k.source=f[x.source],k.target=f[x.target],E=f[x.id]=l.createConnection(k),void p.push(E)):Zn(k)?(k.labelTarget=f[k.labelTarget],E=f[x.id]=l.createLabel(k),void p.push(E)):(k.host&&(k.host=f[k.host]),E=f[x.id]=l.createShape(k),void p.push(E))})}),p},Xl.prototype.createConnection=function(s){return this._elementFactory.createConnection(Qe(s,["id"]))},Xl.prototype.createLabel=function(s){return this._elementFactory.createLabel(Qe(s,["id"]))},Xl.prototype.createShape=function(s){return this._elementFactory.createShape(Qe(s,["id"]))},Xl.prototype.hasRelations=function(s,l){var d,f;return!(Dr(s)&&(d=D(l,Ae({id:s.source.id})),f=D(l,Ae({id:s.target.id})),!d||!f))&&!(Zn(s)&&!D(l,Ae({id:s.labelTarget.id})))},Xl.prototype.createTree=function(s){var l=this._rules,d=this,f={},p=[];function g(b,x){var E=D(p,function(k){return b===k.element});E?E.depth<x&&(p=function(k,P){var C=P.indexOf(k);return C!==-1&&P.splice(C,1),P}(E,p),p.push({element:E.element,depth:x})):p.push({element:b,depth:x})}return zd(Wg(s),function(b,x,E){if(!Zn(b)){R(b.labels,function(P){g(P,E)}),R([b.attachers,b.incoming,b.outgoing],function(P){P&&P.length&&R(P,function(C){R(C.labels,function(M){g(M,E)}),g(C,E)})}),g(b,E);var k=[];return b.children&&(k=b.children.slice()),d._eventBus.fire("copyPaste.createTree",{element:b,children:k}),k}}),s=ge(p,function(b){return b.element}),p=ge(p,function(b){return b.descriptor={},d._eventBus.fire("copyPaste.copyElement",{descriptor:b.descriptor,element:b.element,elements:s}),b}),p=Ce(p,function(b){return b.descriptor.priority}),s=ge(p,function(b){return b.element}),R(p,function(b){var x=b.depth;d.hasRelations(b.element,s)&&function(E,k){return l.allowed("element.copy",{element:E,elements:k})}(b.element,s)?(f[x]||(f[x]=[]),f[x].push(b.descriptor)):IP(b.element,s)}),f};var x5={__depends__:[OP,r1,Wv,Gc],__init__:["copyPaste"],copyPaste:["type",Xl]};function KE(s,l,d){y(d)||(d=[d]),R(d,function(f){u(s[f])||(l[f]=s[f])})}function FP(s,l,d){function f(g,b){var x=s.create(g.$type);return d.copyElement(g,x,null,b)}l.on("copyPaste.copyElement",750,function(g){var b=g.descriptor,x=g.element,E=dt(x);if(Zn(x))return b;var k=b.businessObject=f(E,!0),P=b.di=f(fr(x),!0);P.bpmnElement=k,KE(k,b,"name"),KE(P,b,"isExpanded"),E.default&&(b.default=E.default.id)});var p="-bpmn-js-refs";l.on("copyPaste.pasteElement",function(g){var b=g.cache,x=g.descriptor,E=x.businessObject,k=x.di;if(Zn(x))return x.businessObject=dt(b[x.labelTarget]),void(x.di=fr(b[x.labelTarget]));E=x.businessObject=f(E),(k=x.di=f(k)).bpmnElement=E,KE(x,E,["isExpanded","name"]),x.type=E.$type}),l.on("copyPaste.copyElement",750,function(g){var b=g.descriptor,x=g.element;if(Q(x,"bpmn:Participant")){var E=dt(x);E.processRef&&(b.processRef=f(E.processRef,!0))}}),l.on("copyPaste.pasteElement",function(g){var b=g.descriptor,x=b.processRef;x&&(b.processRef=f(x))}),l.on("copyPaste.pasteElement",750,function(g){var b=g.cache;(function(x,E){x[p]=E})(b,function(x,E,k){var P=dt(x);return x.default&&(k[x.default]={element:P,property:"default"}),x.host&&(dt(x).attachedToRef=dt(E[x.host])),Qe(k,X(k,function(C,M,$){var j=M.element,H=M.property;return $===x.id&&(j.set(H,P),C.push(x.id)),C},[]))}(g.descriptor,b,function(x){return x[p]=x[p]||{}}(b)))})}FP.$inject=["bpmnFactory","eventBus","moddleCopy"];var w5=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function qv(s,l,d){this._bpmnFactory=l,this._eventBus=s,this._moddle=d,s.on("moddleCopy.canCopyProperties",function(f){var p=f.propertyNames;if(p&&p.length)return Ce(p,function(g){return g==="extensionElements"})}),s.on("moddleCopy.canCopyProperty",function(f){var p=f.parent,g=w(p)&&p.$descriptor,b=f.propertyName;return(!b||w5.indexOf(b)===-1)&&!(b&&g&&!D(g.properties,Ae({name:b})))&&void 0}),s.on("moddleCopy.canSetCopiedProperty",function(f){var p,g,b=f.property;if(g="bpmn:ExtensionElements",(p=b)&&T(p.$instanceOf)&&p.$instanceOf(g)&&(!b.values||!b.values.length))return!1})}function XE(s,l){return X(s.properties,function(d,f){return l&&f.default?d:d.concat(f.name)},[])}qv.$inject=["eventBus","bpmnFactory","moddle"],qv.prototype.copyElement=function(s,l,d,f=!1){var p=this;d&&!y(d)&&(d=[d]),d=d||XE(s.$descriptor);var g=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:d,sourceElement:s,targetElement:l,clone:f});return g===!1||(y(g)&&(d=g),R(d,function(b){var x;N(s,b)&&(x=s.get(b));var E=p.copyProperty(x,l,b,f);h(E)&&p._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:l,property:E,propertyName:b})!==!1&&l.set(b,E)})),l},qv.prototype.copyProperty=function(s,l,d,f=!1){var p=this,g=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:l,property:s,propertyName:d,clone:f});if(g!==!1){if(g)return w(g)&&g.$type&&!g.$parent&&(g.$parent=l),g;var b=this._moddle.getPropertyDescriptor(l,d);if(!b.isReference)return b.isId?s&&this._copyId(s,l,f):y(s)?X(s,function(x,E){return(g=p.copyProperty(E,l,d,f))?x.concat(g):x},[]):w(s)&&s.$type?this._moddle.getElementDescriptor(s).isGeneric?void 0:((g=p._bpmnFactory.create(s.$type)).$parent=l,g=p.copyElement(s,g,null,f)):s}},qv.prototype._copyId=function(s,l,d=!1){return d?s:this._moddle.ids.assigned(s)?void 0:(this._moddle.ids.claim(s,l),s)};var LP={__depends__:[x5],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",FP],moddleCopy:["type",qv]},$P=Math.round;function ZE(s,l){this._modeling=s,this._eventBus=l}function jP(s,l){l.on("replace.end",500,function(d){const{newElement:f,hints:p={}}=d;p.select!==!1&&s.select(f)})}ZE.$inject=["modeling","eventBus"],ZE.prototype.replaceElement=function(s,l,d){if(s.waypoints)return null;var f=this._modeling,p=this._eventBus;p.fire("replace.start",{element:s,attrs:l,hints:d});var g=l.width||s.width,b=l.height||s.height,x=l.x||s.x,E=l.y||s.y,k=$P(x+g/2),P=$P(E+b/2),C=f.replaceShape(s,le({},l,{x:k,y:P,width:g,height:b}),d);return p.fire("replace.end",{element:s,newElement:C,hints:d}),C},jP.$inject=["selection","eventBus"];var _5={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",jP],replace:["type",ZE]},v=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function _(s,l,d,f,p,g){this.replaceElement=function(b,x,E){E=E||{};var k=x.type,P=b.businessObject;if(A(P)&&k==="bpmn:SubProcess"&&function(Y,q){var W=Y&&N(Y,"collapsed")?Y.collapsed:!Hn(Y);return W!==(q&&(N(q,"collapsed")||N(q,"isExpanded"))?N(q,"collapsed")?q.collapsed:!q.isExpanded:W)}(b,x))return f.toggleCollapse(b),b;var C=s.create(k),M={type:k,businessObject:C,di:{}};(function(Y,q,W){y(W)||(W=[W]),R(W,function(ee){u(Y[ee])||(q[ee]=Y[ee])})})(b.di,M.di,["fill","stroke","background-color","border-color","color"]);var $=function(Y,q){return Y.filter(function(W){return q.includes(W)})}(XE(P.$descriptor),XE(C.$descriptor,!0));le(C,Ze(x,v));var j=I($,function(Y){return Y==="eventDefinitions"?V(b,x.eventDefinitionType):Y==="loopCharacteristics"?!ss(C):!N(C,Y)&&(Y!=="processRef"||x.isExpanded!==!1)&&Y!=="triggeredByEvent"&&(Y!=="isForCompensation"||!ss(C))});if(C=d.copyElement(P,C,j),x.eventDefinitionType&&(V(C,x.eventDefinitionType)||(M.eventDefinitionType=x.eventDefinitionType,M.eventDefinitionAttrs=x.eventDefinitionAttrs)),Q(P,"bpmn:Activity")){if(A(P))M.isExpanded=Hn(b);else if(x&&N(x,"isExpanded")){M.isExpanded=x.isExpanded;var H=l.getDefaultSize(C,{isExpanded:M.isExpanded});M.width=H.width,M.height=H.height,M.x=b.x-(M.width-b.width)/2,M.y=b.y-(M.height-b.height)/2}Hn(b)&&!Q(P,"bpmn:Task")&&M.isExpanded&&(M.width=b.width,M.height=b.height)}return A(P)&&!A(C)&&(E.moveChildren=!1),Q(P,"bpmn:Participant")&&(x.isExpanded===!0?C.processRef=s.create("bpmn:Process"):E.moveChildren=!1,M.width=b.width,M.height=l.getDefaultSize(M).height),g.allowed("shape.resize",{shape:C})||(M.height=l.getDefaultSize(M).height,M.width=l.getDefaultSize(M).width),C.name=P.name,Dn(P,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Dn(C,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(C.default=P.default),x.host&&!Q(P,"bpmn:BoundaryEvent")&&Q(C,"bpmn:BoundaryEvent")&&(M.host=x.host),M.type!=="bpmn:DataStoreReference"&&M.type!=="bpmn:DataObjectReference"||(M.x=b.x+(b.width-M.width)/2),p.replaceElement(b,M,{...E,targetElement:x})}}function A(s){return Q(s,"bpmn:SubProcess")}function V(s,l){var d=dt(s);return l&&d.get("eventDefinitions").some(function(f){return Q(f,l)})}_.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];var K={__depends__:[LP,_5,$c],bpmnReplace:["type",_]};function se(s,l){this._eventBus=s,this._dragging=l,this._tools=[],this._active=null}se.$inject=["eventBus","dragging"],se.prototype.registerTool=function(s,l){var d=this._tools;if(!l)throw new Error(`A tool has to be registered with it's "events"`);d.push(s),this.bindEvents(s,l)},se.prototype.isActive=function(s){return s&&this._active===s},se.prototype.length=function(s){return this._tools.length},se.prototype.setActive=function(s){var l=this._eventBus;this._active!==s&&(this._active=s,l.fire("tool-manager.update",{tool:s}))},se.prototype.bindEvents=function(s,l){var d=this._eventBus,f=this._dragging,p=[];d.on(l.tool+".init",function(g){if(!g.context.reactivate&&this.isActive(s))return this.setActive(null),void f.cancel();this.setActive(s)},this),R(l,function(g){p.push(g+".ended"),p.push(g+".canceled")}),d.on(p,250,function(g){this._active&&(function(b){var x=b.originalEvent&&b.originalEvent.target;return x&&je(x,'.group[data-group="tools"]')}(g)||this.setActive(null))},this)};var me={__depends__:[Wu],__init__:["toolManager"],toolManager:["type",se]};function we(s,l){return s.indexOf(l)!==-1}var Ie=Math.abs,nt=Math.round,Ke={x:"width",y:"height"},st="crosshair",St={n:"top",w:"left",s:"bottom",e:"right"},an=1500,vn={n:"s",w:"e",s:"n",e:"w"},Bn=20;function rn(s,l,d,f,p,g,b){this._canvas=s,this._dragging=l,this._eventBus=d,this._modeling=f,this._rules=p,this._toolManager=g,this._mouse=b;var x=this;g.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),d.on("spaceTool.selection.end",function(E){d.once("spaceTool.selection.ended",function(){x.activateMakeSpace(E.originalEvent)})}),d.on("spaceTool.move",an,function(E){var k=E.context,P=k.initialized;P||(P=k.initialized=x.init(E,k)),P&&mr(E)}),d.on("spaceTool.end",function(E){var k=E.context,P=k.axis,C=k.direction,M=k.movingShapes,$=k.resizingShapes,j=k.start;if(k.initialized){mr(E);var H={x:0,y:0};H[P]=nt(E["d"+P]),x.makeSpace(M,$,H,C,j),d.once("spaceTool.ended",function(Y){x.activateSelection(Y.originalEvent,!0,!0)})}})}function ar(s){return{top:s.top-Bn,right:s.right+Bn,bottom:s.bottom+Bn,left:s.left-Bn}}function mr(s){var l,d,f=s.context.spaceToolConstraints;f&&(S(f.left)&&(l=Math.max(s.x,f.left),s.dx=s.dx+l-s.x,s.x=l),S(f.right)&&(l=Math.min(s.x,f.right),s.dx=s.dx+l-s.x,s.x=l),S(f.top)&&(d=Math.max(s.y,f.top),s.dy=s.dy+d-s.y,s.y=d),S(f.bottom)&&(d=Math.min(s.y,f.bottom),s.dy=s.dy+d-s.y,s.y=d))}function Mo(s,l){return s.indexOf(l)!==-1}rn.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],rn.prototype.activateSelection=function(s,l,d){this._dragging.init(s,"spaceTool.selection",{autoActivate:l,cursor:st,data:{context:{reactivate:d}},trapClick:!1})},rn.prototype.activateMakeSpace=function(s){this._dragging.init(s,"spaceTool",{autoActivate:!0,cursor:st,data:{context:{}}})},rn.prototype.makeSpace=function(s,l,d,f,p){return this._modeling.createSpace(s,l,d,f,p)},rn.prototype.init=function(s,l){var d=Ie(s.dx)>Ie(s.dy)?"x":"y",f=s["d"+d],p=s[d]-f;if(Ie(f)<5)return!1;f<0&&(f*=-1),Zi(s)&&(f*=-1);var g=function(P,C){if(P==="x"){if(C>0)return"e";if(C<0)return"w"}if(P==="y"){if(C>0)return"s";if(C<0)return"n"}return null}(d,f),b=this._canvas.getRootElement();!hv(s)&&s.hover&&(b=s.hover);var x=[...Hd(b,!0),...b.attachers||[]],E=this.calculateAdjustments(x,d,f,p),k=function(P,C,M,$,j){var H=P.movingShapes,Y=P.resizingShapes;if(Y.length){var q,W,ee={};return R(Y,function(ie){var oe,ke,Pe,Oe,Le,Qt,ft=ie.attachers,Be=ie.children,et=nn(ie),xn=I(Be,function(Ir){return!(Dr(Ir)||Zn(Ir)||Mo(H,Ir)||Mo(Y,Ir))}),un=I(Be,function(Ir){return!Dr(Ir)&&!Zn(Ir)&&Mo(H,Ir)}),hn=[],Tn=[];xn.length&&(ke=ar(nn(Fi(xn))),oe=$-et[St[M]]+ke[St[M]],M==="n"?ee.bottom=W=S(W)?Math.min(W,oe):oe:M==="w"?ee.right=W=S(W)?Math.min(W,oe):oe:M==="s"?ee.top=q=S(q)?Math.max(q,oe):oe:M==="e"&&(ee.left=q=S(q)?Math.max(q,oe):oe)),un.length&&(Pe=ar(nn(Fi(un))),oe=$-Pe[St[vn[M]]]+et[St[vn[M]]],M==="n"?ee.bottom=W=S(W)?Math.min(W,oe):oe:M==="w"?ee.right=W=S(W)?Math.min(W,oe):oe:M==="s"?ee.top=q=S(q)?Math.max(q,oe):oe:M==="e"&&(ee.left=q=S(q)?Math.max(q,oe):oe)),ft&&ft.length&&(ft.forEach(function(Ir){Mo(H,Ir)?hn.push(Ir):Tn.push(Ir)}),hn.length&&(Oe=nn(Fi(hn.map(Xt))),Le=et[St[vn[M]]]-(Oe[St[vn[M]]]-$)),Tn.length&&(Qt=nn(Fi(Tn.map(Xt)))[St[M]]-(et[St[M]]-$)),M==="n"?(oe=Math.min(Le||1/0,Qt||1/0),ee.bottom=W=S(W)?Math.min(W,oe):oe):M==="w"?(oe=Math.min(Le||1/0,Qt||1/0),ee.right=W=S(W)?Math.min(W,oe):oe):M==="s"?(oe=Math.max(Le||-1/0,Qt||-1/0),ee.top=q=S(q)?Math.max(q,oe):oe):M==="e"&&(oe=Math.max(Le||-1/0,Qt||-1/0),ee.left=q=S(q)?Math.max(q,oe):oe));var Wr=j&&j[ie.id];Wr&&(M==="n"?(oe=$+ie[Ke[C]]-Wr[Ke[C]],ee.bottom=W=S(W)?Math.min(W,oe):oe):M==="w"?(oe=$+ie[Ke[C]]-Wr[Ke[C]],ee.right=W=S(W)?Math.min(W,oe):oe):M==="s"?(oe=$-ie[Ke[C]]+Wr[Ke[C]],ee.top=q=S(q)?Math.max(q,oe):oe):M==="e"&&(oe=$-ie[Ke[C]]+Wr[Ke[C]],ee.left=q=S(q)?Math.max(q,oe):oe))}),ee}}(E,d,g,p,this._eventBus.fire("spaceTool.getMinDimensions",{axis:d,direction:g,shapes:E.resizingShapes,start:p}));return le(l,E,{axis:d,direction:g,spaceToolConstraints:k,start:p}),Mp("resize-"+(d==="x"?"ew":"ns")),!0},rn.prototype.calculateAdjustments=function(s,l,d,f){var p=this._rules,g=[],b=[],x=[],E=[];function k(C){g.includes(C)||g.push(C);var M=C.label;M&&!g.includes(M)&&g.push(M)}R(s,function(C){if(C.parent&&!Zn(C))if(Dr(C))E.push(C);else{var M=C[l],$=M+C[Ke[l]];if(function(H){return!!H.host}(C)&&(d>0&&Xt(C)[l]>f||d<0&&Xt(C)[l]<f))x.push(C);else{var j;if(!(d>0&&M>f||d<0&&$<f))return M<f&&$>f&&p.allowed("shape.resize",{shape:C})?(j=C,void(b.includes(j)||b.push(j))):void 0;k(C)}}}),R(g,function(C){var M=C.attachers;M&&R(M,function($){k($)})});var P=g.concat(b);return R(x,function(C){var M=C.host;Mo(P,M)&&k(C)}),P=g.concat(b),R(E,function(C){var M=C.source,$=C.target,j=C.label;Mo(P,M)&&Mo(P,$)&&j&&k(j)}),{movingShapes:g,resizingShapes:b}},rn.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var s=this._mouse.getLastMoveEvent();this.activateSelection(s,!!s)},rn.prototype.isActive=function(){var s=this._dragging.context();return!!s&&/^spaceTool/.test(s.prefix)};var ds="djs-dragging",ra="djs-resizing",Ai=Math.max;function hl(s,l,d,f,p){function g(b,x){R(b,function(E){p.addDragger(E,x),d.addMarker(E,ds)})}s.on("spaceTool.selection.start",function(b){var x=d.getLayer("space"),E=b.context,k="M 0,-10000 L 0,10000",P="M -10000,0 L 10000,0",C=ot("g");ut(C,f.cls("djs-crosshair-group",["no-events"])),ct(x,C);var M=ot("path");ut(M,"d",k),ne(M).add("djs-crosshair"),ct(C,M);var $=ot("path");ut($,"d",P),ne($).add("djs-crosshair"),ct(C,$),E.crosshairGroup=C}),s.on("spaceTool.selection.move",function(b){Co(b.context.crosshairGroup,b.x,b.y)}),s.on("spaceTool.selection.cleanup",function(b){var x=b.context.crosshairGroup;x&&Ee(x)}),s.on("spaceTool.move",250,function(b){var x=b.context,E=x.line,k=x.axis,P=x.movingShapes,C=x.resizingShapes;if(x.initialized){if(!x.dragGroup){var M=d.getLayer("space");ut(E=ot("path"),"d","M0,0 L0,0"),ne(E).add("djs-crosshair"),ct(M,E),x.line=E;var $=ot("g");ut($,f.cls("djs-drag-group",["no-events"])),ct(d.getActiveLayer(),$),g(P,$),g(x.movingConnections=l.filter(function(q){var W=!1;R(P,function(ke){R(ke.outgoing,function(Pe){q===Pe&&(W=!0)})});var ee=!1;R(P,function(ke){R(ke.incoming,function(Pe){q===Pe&&(ee=!0)})});var ie=!1;R(C,function(ke){R(ke.outgoing,function(Pe){q===Pe&&(ie=!0)})});var oe=!1;return R(C,function(ke){R(ke.incoming,function(Pe){q===Pe&&(oe=!0)})}),Dr(q)&&(W||ie)&&(ee||oe)}),$),x.dragGroup=$}if(!x.frameGroup){var j=ot("g");ut(j,f.cls("djs-frame-group",["no-events"])),ct(d.getActiveLayer(),j);var H=[];R(C,function(q){var W=p.addFrame(q,j),ee=W.getBBox();H.push({element:W,initialBounds:ee}),d.addMarker(q,ra)}),x.frameGroup=j,x.frames=H}ut(E,{d:{x:"M"+b.x+", -10000 L"+b.x+", 10000",y:"M -10000, "+b.y+" L 10000, "+b.y}[k]});var Y={x:b.dx,y:b.dy};Y[{x:"y",y:"x"}[x.axis]]=0,Co(x.dragGroup,Y.x,Y.y),R(x.frames,function(q){var W,ee,ie=q.element,oe=q.initialBounds;x.direction==="e"?ut(ie,{width:Ai(oe.width+Y.x,5)}):ut(ie,{width:W=Ai(oe.width-Y.x,5),x:oe.x+oe.width-W}),x.direction==="s"?ut(ie,{height:Ai(oe.height+Y.y,5)}):ut(ie,{height:ee=Ai(oe.height-Y.y,5),y:oe.y+oe.height-ee})})}}),s.on("spaceTool.cleanup",function(b){var x=b.context,E=x.movingShapes,k=x.movingConnections,P=x.resizingShapes,C=x.line,M=x.dragGroup,$=x.frameGroup;R(E,function(j){d.removeMarker(j,ds)}),R(k,function(j){d.removeMarker(j,ds)}),M&&(Ee(C),Ee(M)),R(P,function(j){d.removeMarker(j,ra)}),$&&Ee($)})}hl.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var Qu={__init__:["spaceToolPreview"],__depends__:[Wu,Gc,me,gh,Wv],spaceTool:["type",rn],spaceToolPreview:["type",hl]};function Uv(s){s.invoke(rn,this)}Uv.$inject=["injector"],t(Uv,rn),Uv.prototype.calculateAdjustments=function(s,l,d,f){var p=rn.prototype.calculateAdjustments.call(this,s,l,d,f);return p.resizingShapes=p.resizingShapes.filter(function(g){return!Q(g,"bpmn:TextAnnotation")&&(l!=="y"||!function(b){return Q(b,"bpmn:Participant")&&!dt(b).processRef}(g))}),p};var FV={__depends__:[Qu],spaceTool:["type",Uv]};function Bi(s,l){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=l,this._eventBus=s,this._uid=1,s.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Bi.$inject=["eventBus","injector"],Bi.prototype.execute=function(s,l){if(!s)throw new Error("command required");this._currentExecution.trigger="execute";const d={command:s,context:l};this._pushAction(d),this._internalExecute(d),this._popAction()},Bi.prototype.canExecute=function(s,l){const d={command:s,context:l},f=this._getHandler(s);let p=this._fire(s,"canExecute",d);if(p===void 0){if(!f)return!1;f.canExecute&&(p=f.canExecute(l))}return p},Bi.prototype.clear=function(s){this._stack.length=0,this._stackIdx=-1,s!==!1&&this._fire("changed",{trigger:"clear"})},Bi.prototype.undo=function(){let s,l=this._getUndoAction();if(l){for(this._currentExecution.trigger="undo",this._pushAction(l);l&&(this._internalUndo(l),s=this._getUndoAction(),s&&s.id===l.id);)l=s;this._popAction()}},Bi.prototype.redo=function(){let s,l=this._getRedoAction();if(l){for(this._currentExecution.trigger="redo",this._pushAction(l);l&&(this._internalExecute(l,!0),s=this._getRedoAction(),s&&s.id===l.id);)l=s;this._popAction()}},Bi.prototype.register=function(s,l){this._setHandler(s,l)},Bi.prototype.registerHandler=function(s,l){if(!s||!l)throw new Error("command and handlerCls must be defined");const d=this._injector.instantiate(l);this.register(s,d)},Bi.prototype.canUndo=function(){return!!this._getUndoAction()},Bi.prototype.canRedo=function(){return!!this._getRedoAction()},Bi.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Bi.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Bi.prototype._internalUndo=function(s){const l=s.command,d=s.context,f=this._getHandler(l);this._atomicDo(()=>{this._fire(l,"revert",s),f.revert&&this._markDirty(f.revert(d)),this._revertedAction(s),this._fire(l,"reverted",s)})},Bi.prototype._fire=function(s,l,d){arguments.length<3&&(d=l,l=null);const f=l?[s+"."+l,l]:[s];let p;d=this._eventBus.createEvent(d);for(const g of f)if(p=this._eventBus.fire("commandStack."+g,d),d.cancelBubble)break;return p},Bi.prototype._createId=function(){return this._uid++},Bi.prototype._atomicDo=function(s){const l=this._currentExecution;l.atomic=!0;try{s()}finally{l.atomic=!1}},Bi.prototype._internalExecute=function(s,l){const d=s.command,f=s.context,p=this._getHandler(d);if(!p)throw new Error("no command handler registered for <"+d+">");this._pushAction(s),l||(this._fire(d,"preExecute",s),p.preExecute&&p.preExecute(f),this._fire(d,"preExecuted",s)),this._atomicDo(()=>{this._fire(d,"execute",s),p.execute&&this._markDirty(p.execute(f)),this._executedAction(s,l),this._fire(d,"executed",s)}),l||(this._fire(d,"postExecute",s),p.postExecute&&p.postExecute(f),this._fire(d,"postExecuted",s)),this._popAction()},Bi.prototype._pushAction=function(s){const l=this._currentExecution,d=l.actions,f=d[0];if(l.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+s.command+")");s.id||(s.id=f&&f.id||this._createId()),d.push(s)},Bi.prototype._popAction=function(){const s=this._currentExecution,l=s.trigger,d=s.actions,f=s.dirty;d.pop(),d.length||(this._eventBus.fire("elements.changed",{elements:fe("id",f.reverse())}),f.length=0,this._fire("changed",{trigger:l}),s.trigger=null)},Bi.prototype._markDirty=function(s){const l=this._currentExecution;s&&(s=y(s)?s:[s],l.dirty=l.dirty.concat(s))},Bi.prototype._executedAction=function(s,l){const d=++this._stackIdx;l||this._stack.splice(d,this._stack.length,s)},Bi.prototype._revertedAction=function(s){this._stackIdx--},Bi.prototype._getHandler=function(s){return this._handlerMap[s]},Bi.prototype._setHandler=function(s,l){if(!s||!l)throw new Error("command and handler required");if(this._handlerMap[s])throw new Error("overriding handler for command <"+s+">");this._handlerMap[s]=l};var jhe={commandStack:["type",Bi]};function Jp(s,l){if(typeof l!="function")throw new Error("removeFn iterator must be a function");if(s){for(var d;d=s[0];)l(d);return s}}function E5(s,l,d){lt.call(this,l);var f=s.get("movePreview",!1);l.on("shape.move.start",1400,function(p){var g=p.context,b=g.shapes,x=g.validatedShapes;g.shapes=LV(b),g.validatedShapes=LV(x)}),f&&l.on("shape.move.start",250,function(p){var g=p.context,b=g.shapes,x=[];R(b,function(E){R(E.labels,function(k){k.hidden||g.shapes.indexOf(k)!==-1||x.push(k),E.labelTarget&&x.push(E)})}),R(x,function(E){f.makeDraggable(g,E,!0)})}),this.preExecuted("elements.move",1400,function(p){var g=p.context.closure,b=g.enclosedElements,x=[];R(b,function(E){R(E.labels,function(k){b[k.id]||x.push(k)})}),g.addAll(x)}),this.preExecute(["connection.delete","shape.delete"],function(p){var g=p.context;Jp((g.connection||g.shape).labels,function(b){d.removeShape(b,{nested:!0})})}),this.execute("shape.delete",function(p){var g=p.context,b=g.shape,x=b.labelTarget;x&&(g.labelTargetIndex=qg(x.labels,b),g.labelTarget=x,b.labelTarget=null)}),this.revert("shape.delete",function(p){var g=p.context,b=g.shape,x=g.labelTarget,E=g.labelTargetIndex;x&&($i(x.labels,b,E),b.labelTarget=x)})}function LV(s){return I(s,function(l){return s.indexOf(l.labelTarget)===-1})}t(E5,lt),E5.$inject=["injector","eventBus","modeling"];var Bhe={__init__:["labelSupport"],labelSupport:["type",E5]},$V="attach-ok";function S5(s,l,d,f,p){lt.call(this,l);var g=s.get("movePreview",!1);l.on("shape.move.start",1401,function(b){var x,E,k=b.context,P=k.shapes,C=k.validatedShapes;k.shapes=(E=k5(x=P),pe("id",x,E)),k.validatedShapes=function(M){var $=he(M,"id");return I(M,function(j){for(;j;){if(j.host&&$[j.host.id])return!1;j=j.parent}return!0})}(C)}),g&&l.on("shape.move.start",251,function(b){var x=b.context;R(k5(x.shapes),function(E){g.makeDraggable(x,E,!0),R(E.labels,function(k){g.makeDraggable(x,k,!0)})})}),g&&l.on("shape.move.start",function(b){var x=b.context.shapes;if(x.length===1){var E=x[0].host;E&&(d.addMarker(E,$V),l.once(["shape.move.out","shape.move.cleanup"],function(){d.removeMarker(E,$V)}))}}),this.preExecuted("elements.move",1401,function(b){var x=b.context,E=x.closure;R(k5(x.shapes),function(k){E.add(k,E.topLevel[k.host.id])})}),this.postExecuted("elements.move",function(b){var x=b.context,E=x.shapes,k=x.newHost;k&&E.length!==1||R(k?E:I(E,function(P){var C,M=P.host;return function($){return!!$.host}(P)&&(C=M,E.indexOf(C)===-1)}),function(P){p.updateAttachment(P,k)})}),this.postExecuted("elements.move",function(b){R(b.context.shapes,function(x){R(x.attachers,function(E){R(E.outgoing.slice(),function(k){f.allowed("connection.reconnect",{connection:k,source:k.source,target:k.target})||p.removeConnection(k)}),R(E.incoming.slice(),function(k){f.allowed("connection.reconnect",{connection:k,source:k.source,target:k.target})||p.removeConnection(k)})})})}),this.postExecute("shape.create",function(b){var x=b.context,E=x.shape,k=x.host;k&&p.updateAttachment(E,k)}),this.postExecute("shape.replace",function(b){var x=b.context,E=x.oldShape,k=x.newShape;Jp(E.attachers,function(P){f.allowed("elements.move",{target:k,shapes:[P]})==="attach"?p.updateAttachment(P,k):p.removeShape(P)}),k.attachers.length&&R(k.attachers,function(P){var C=Nr(P,E,k);p.moveShape(P,C,P.parent)})}),this.postExecute("shape.resize",function(b){var x=b.context,E=x.shape,k=x.oldBounds,P=x.newBounds,C=E.attachers;(x.hints||{}).attachSupport!==!1&&R(C,function(M){var $=Nr(M,k,P);p.moveShape(M,$,M.parent),R(M.labels,function(j){p.moveShape(j,$,j.parent)})})}),this.preExecute("shape.delete",function(b){var x=b.context.shape;Jp(x.attachers,function(E){p.removeShape(E)}),x.host&&p.updateAttachment(x,null)})}function k5(s){return o(ge(s,function(l){return l.attachers||[]}))}t(S5,lt),S5.$inject=["injector","eventBus","canvas","rules","modeling"];var Vhe={__depends__:[Gc],__init__:["attachSupport"],attachSupport:["type",S5]};function Xc(s){this._model=s}function pl(s,l,d,f){lt.call(this,s),this._bpmnFactory=l,this._translate=f;var p=this;function g(C){R(C.context.oldRoot.children,function(M){Q(M,"bpmn:BaseElement")&&p.updateParent(M)})}function b(C){var M=C.context.shape;Q(M,"bpmn:BaseElement")&&p.updateBounds(M)}function x(C){p.updateConnection(C.context)}function E(C){p.updateConnectionWaypoints(C.context.connection)}function k(C){p.updateAttachment(C.context)}function P(C){const{element:M}=C.context,$=mo(M),j=fr(M),H=j&&j.get("label");ih(M)||($&&!H?j.set("label",l.create("bpmndi:BPMNLabel")):!$&&H&&j.set("label",void 0))}this.executed(["connection.layout","connection.create"],function(C){var M,$=C.context,j=$.hints||{};$.cropped||j.createElementsBehavior===!1||((M=$.connection).waypoints=d.getCroppedWaypoints(M),$.cropped=!0)}),this.reverted(["connection.layout"],function(C){delete C.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],ml(function(C){var M=C.context;p.updateParent(M.shape||M.connection,M.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],ml(function(C){var M=C.context,$=M.shape||M.connection,j=M.parent||M.newParent;p.updateParent($,j)})),this.executed(["canvas.updateRoot"],g),this.reverted(["canvas.updateRoot"],g),this.executed(["shape.move","shape.create","shape.resize"],ml(function(C){C.context.shape.type!=="label"&&b(C)})),this.reverted(["shape.move","shape.create","shape.resize"],ml(function(C){C.context.shape.type!=="label"&&b(C)})),s.on("shape.changed",function(C){C.element.type==="label"&&b({context:{shape:C.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],ml(x)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],ml(x)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],ml(E)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],ml(E)),this.executed("connection.reconnect",ml(function(C){var M=C.context,$=M.connection,j=M.oldSource,H=M.newSource,Y=dt($),q=dt(j),W=dt(H);Y.conditionExpression&&!Dn(W,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(M.oldConditionExpression=Y.conditionExpression,delete Y.conditionExpression),j!==H&&q.default===Y&&(M.oldDefault=q.default,delete q.default)})),this.reverted("connection.reconnect",ml(function(C){var M=C.context,$=M.connection,j=M.oldSource,H=M.newSource,Y=dt($),q=dt(j),W=dt(H);M.oldConditionExpression&&(Y.conditionExpression=M.oldConditionExpression),M.oldDefault&&(q.default=M.oldDefault,delete W.default)})),this.executed(["element.updateAttachment"],ml(k)),this.reverted(["element.updateAttachment"],ml(k)),this.executed("element.updateLabel",ml(P)),this.reverted("element.updateLabel",ml(P))}function ml(s){return function(l){var d=l.context;Q(d.shape||d.connection||d.element,"bpmn:BaseElement")&&s(l)}}function em(s,l,d){Wl.call(this),this._bpmnFactory=s,this._moddle=l,this._translate=d}function jV(s,l,d){return l[d]===void 0?l:(s[d]=l[d],Qe(l,[d]))}function BP(s,l){this._modeling=s,this._canvas=l}function VP(s){this._modeling=s}function zP(s,l){this._canvas=s,this._layouter=l}Xc.$inject=["moddle"],Xc.prototype._needsId=function(s){return Dn(s,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Xc.prototype._ensureId=function(s){var l;s.id?this._model.ids.claim(s.id,s):(l=Q(s,"bpmn:Activity")?"Activity":Q(s,"bpmn:Event")?"Event":Q(s,"bpmn:Gateway")?"Gateway":Dn(s,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(s.$type||"").replace(/^[^:]*:/g,""),l+="_",!s.id&&this._needsId(s)&&(s.id=this._model.ids.nextPrefixed(l,s)))},Xc.prototype.create=function(s,l){var d=this._model.create(s,l||{});return this._ensureId(d),d},Xc.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Xc.prototype.createDiShape=function(s,l){return this.create("bpmndi:BPMNShape",le({bpmnElement:s,bounds:this.createDiBounds()},l))},Xc.prototype.createDiBounds=function(s){return this.create("dc:Bounds",s)},Xc.prototype.createDiWaypoints=function(s){var l=this;return ge(s,function(d){return l.createDiWaypoint(d)})},Xc.prototype.createDiWaypoint=function(s){return this.create("dc:Point",Ze(s,["x","y"]))},Xc.prototype.createDiEdge=function(s,l){return this.create("bpmndi:BPMNEdge",le({bpmnElement:s,waypoint:this.createDiWaypoints([])},l))},Xc.prototype.createDiPlane=function(s,l){return this.create("bpmndi:BPMNPlane",le({bpmnElement:s},l))},t(pl,lt),pl.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],pl.prototype.updateAttachment=function(s){var l=s.shape,d=l.businessObject,f=l.host;d.attachedToRef=f&&f.businessObject},pl.prototype.updateParent=function(s,l){if(!(Zn(s)||Q(s,"bpmn:DataStoreReference")&&s.parent&&Q(s.parent,"bpmn:Collaboration"))){var d=s.parent,f=s.businessObject,p=fr(s),g=d&&d.businessObject,b=fr(d);Q(s,"bpmn:FlowNode")&&this.updateFlowNodeRefs(f,g,l&&l.businessObject),Q(s,"bpmn:DataOutputAssociation")&&(g=s.source?s.source.businessObject:null),Q(s,"bpmn:DataInputAssociation")&&(g=s.target?s.target.businessObject:null),this.updateSemanticParent(f,g),Q(s,"bpmn:DataObjectReference")&&f.dataObjectRef&&this.updateSemanticParent(f.dataObjectRef,g),this.updateDiParent(p,b)}},pl.prototype.updateBounds=function(s){var l=fr(s),d=function(b){if(Q(b,"bpmn:Activity")){var x=fr(b);if(x){var E=x.get("label");if(E)return E.get("bounds")}}}(s);if(d){var f=Gl(d,l.get("bounds"));le(d,{x:s.x+f.x,y:s.y+f.y})}var p=Zn(s)?this._getLabel(l):l,g=p.bounds;g||(g=this._bpmnFactory.createDiBounds(),p.set("bounds",g)),le(g,{x:s.x,y:s.y,width:s.width,height:s.height})},pl.prototype.updateFlowNodeRefs=function(s,l,d){d!==l&&(Q(d,"bpmn:Lane")&&Li(d.get("flowNodeRef"),s),Q(l,"bpmn:Lane")&&$i(l.get("flowNodeRef"),s))},pl.prototype.updateDiConnection=function(s,l,d){var f=fr(s),p=fr(l),g=fr(d);f.sourceElement&&f.sourceElement.bpmnElement!==dt(l)&&(f.sourceElement=l&&p),f.targetElement&&f.targetElement.bpmnElement!==dt(d)&&(f.targetElement=d&&g)},pl.prototype.updateDiParent=function(s,l){if(l&&!Q(l,"bpmndi:BPMNPlane")&&(l=l.$parent),s.$parent!==l){var d=(l||s.$parent).get("planeElement");l?(d.push(s),s.$parent=l):(Li(d,s),s.$parent=null)}},pl.prototype.getLaneSet=function(s){var l,d;return Q(s,"bpmn:Lane")?((l=s.childLaneSet)||(l=this._bpmnFactory.create("bpmn:LaneSet"),s.childLaneSet=l,l.$parent=s),l):(Q(s,"bpmn:Participant")&&(s=s.processRef),(l=(d=s.get("laneSets"))[0])||((l=this._bpmnFactory.create("bpmn:LaneSet")).$parent=s,d.push(l)),l)},pl.prototype.updateSemanticParent=function(s,l,d){var f,p=this._translate;if(s.$parent!==l&&(!Q(s,"bpmn:DataInput")&&!Q(s,"bpmn:DataOutput")||(Q(l,"bpmn:Participant")&&"processRef"in l&&(l=l.processRef),!("ioSpecification"in l)||l.ioSpecification!==s.$parent))){if(Q(s,"bpmn:Lane"))l&&(l=this.getLaneSet(l)),f="lanes";else if(Q(s,"bpmn:FlowElement")){if(l){if(Q(l,"bpmn:Participant"))l=l.processRef;else if(Q(l,"bpmn:Lane"))do l=l.$parent.$parent;while(Q(l,"bpmn:Lane"))}f="flowElements"}else if(Q(s,"bpmn:Artifact")){for(;l&&!Q(l,"bpmn:Process")&&!Q(l,"bpmn:SubProcess")&&!Q(l,"bpmn:Collaboration");){if(Q(l,"bpmn:Participant")){l=l.processRef;break}l=l.$parent}f="artifacts"}else if(Q(s,"bpmn:MessageFlow"))f="messageFlows";else if(Q(s,"bpmn:Participant")){f="participants";var g,b=s.processRef;b&&(g=function(k){for(;k&&!Q(k,"bpmn:Definitions");)k=k.$parent;return k}(s.$parent||l),s.$parent&&(Li(g.get("rootElements"),b),b.$parent=null),l&&($i(g.get("rootElements"),b),b.$parent=g))}else Q(s,"bpmn:DataOutputAssociation")?f="dataOutputAssociations":Q(s,"bpmn:DataInputAssociation")&&(f="dataInputAssociations");if(!f)throw new Error(p("no parent for {element} in {parent}",{element:s.id,parent:l.id}));var x;if(s.$parent&&Li(x=s.$parent.get(f),s),l?((x=l.get(f)).push(s),s.$parent=l):s.$parent=null,d){var E=d.get(f);Li(x,s),l&&(E||(E=[],l.set(f,E)),E.push(s))}}},pl.prototype.updateConnectionWaypoints=function(s){fr(s).set("waypoint",this._bpmnFactory.createDiWaypoints(s.waypoints))},pl.prototype.updateConnection=function(s){var l,d=s.connection,f=dt(d),p=d.source,g=dt(p),b=d.target,x=dt(d.target);if(Q(f,"bpmn:DataAssociation"))Q(f,"bpmn:DataInputAssociation")?(f.get("sourceRef")[0]=g,l=s.parent||s.newParent||x,this.updateSemanticParent(f,x,l)):Q(f,"bpmn:DataOutputAssociation")&&(l=s.parent||s.newParent||g,this.updateSemanticParent(f,g,l),f.targetRef=x);else{var E=Q(f,"bpmn:SequenceFlow");f.sourceRef!==g&&(E&&(Li(f.sourceRef&&f.sourceRef.get("outgoing"),f),g&&g.get("outgoing")&&g.get("outgoing").push(f)),f.sourceRef=g),f.targetRef!==x&&(E&&(Li(f.targetRef&&f.targetRef.get("incoming"),f),x&&x.get("incoming")&&x.get("incoming").push(f)),f.targetRef=x)}this.updateConnectionWaypoints(d),this.updateDiConnection(d,p,b)},pl.prototype._getLabel=function(s){return s.label||(s.label=this._bpmnFactory.createDiLabel()),s.label},t(em,Wl),em.$inject=["bpmnFactory","moddle","translate"],em.prototype._baseCreate=Wl.prototype.create,em.prototype.create=function(s,l){if(s==="label"){var d=l.di||this._bpmnFactory.createDiLabel();return this._baseCreate(s,le({type:"label",di:d},cv,l))}return this.createElement(s,l)},em.prototype.createElement=function(s,l){var d,f,p,g=this._translate,b=(l=le({},l||{})).businessObject,x=l.di;if(!b){if(!l.type)throw new Error(g("no shape type specified"));q0(b=this._bpmnFactory.create(l.type))}if(!Dn(x,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var E=le({},x||{},{id:b.id+"_di"});x=s==="root"?this._bpmnFactory.createDiPlane(b,E):s==="connection"?this._bpmnFactory.createDiEdge(b,E):this._bpmnFactory.createDiShape(b,E)}return Q(b,"bpmn:Group")&&(l=le({isFrame:!0},l)),l=function(k,P,C){return R(C,function(M){P=jV(k,P,M)}),P}(b,l,["processRef","isInterrupting","associationDirection","isForCompensation"]),l.isExpanded&&(l=jV(x,l,"isExpanded")),Q(b,"bpmn:SubProcess")&&(l.collapsed=!Hn(b,x)),Q(b,"bpmn:ExclusiveGateway")&&(x.isMarkerVisible=!0),h(l.triggeredByEvent)&&(b.triggeredByEvent=l.triggeredByEvent,delete l.triggeredByEvent),h(l.cancelActivity)&&(b.cancelActivity=l.cancelActivity,delete l.cancelActivity),l.eventDefinitionType&&(f=b.get("eventDefinitions")||[],p=this._bpmnFactory.create(l.eventDefinitionType,l.eventDefinitionAttrs),l.eventDefinitionType==="bpmn:ConditionalEventDefinition"&&(p.condition=this._bpmnFactory.create("bpmn:FormalExpression")),f.push(p),p.$parent=b,b.eventDefinitions=f,delete l.eventDefinitionType),d=this.getDefaultSize(b,x),l=le({id:b.id},d,l,{businessObject:b,di:x}),this._baseCreate(s,l)},em.prototype.getDefaultSize=function(s,l){var d=dt(s);return l=l||fr(s),Q(d,"bpmn:SubProcess")?Hn(d,l)?{width:350,height:200}:{width:100,height:80}:Q(d,"bpmn:Task")?{width:100,height:80}:Q(d,"bpmn:Gateway")?{width:50,height:50}:Q(d,"bpmn:Event")?{width:36,height:36}:Q(d,"bpmn:Participant")?Hn(d,l)?{width:600,height:250}:{width:400,height:60}:Q(d,"bpmn:Lane")?{width:400,height:100}:Q(d,"bpmn:DataObjectReference")?{width:36,height:50}:Q(d,"bpmn:DataStoreReference")?{width:50,height:50}:Q(d,"bpmn:TextAnnotation")?{width:100,height:30}:Q(d,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},em.prototype.createParticipantShape=function(s){return w(s)||(s={isExpanded:s}),(s=le({type:"bpmn:Participant"},s||{})).isExpanded!==!1&&(s.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(s)},BP.$inject=["modeling","canvas"],BP.prototype.preExecute=function(s){var l=this._modeling,d=s.elements,f=s.alignment;R(d,function(p){var g={x:0,y:0};h(f.left)?g.x=f.left-p.x:h(f.right)?g.x=f.right-p.width-p.x:h(f.center)?g.x=f.center-Math.round(p.width/2)-p.x:h(f.top)?g.y=f.top-p.y:h(f.bottom)?g.y=f.bottom-p.height-p.y:h(f.middle)&&(g.y=f.middle-Math.round(p.height/2)-p.y),l.moveElements([p],g,p.parent)})},BP.prototype.postExecute=function(s){},VP.$inject=["modeling"],VP.prototype.preExecute=function(s){var l=s.source;if(!l)throw new Error("source required");var d=s.target||l.parent,f=s.shape,p=s.hints||{};f=s.shape=this._modeling.createShape(f,s.position,d,{attach:p.attach}),s.shape=f},VP.prototype.postExecute=function(s){var l,d,f=s.hints||{};l=s.source,d=s.shape,ae(l.outgoing,function(p){return p.target===d})||(f.connectionTarget===s.source?this._modeling.connect(s.shape,s.source,s.connection):this._modeling.connect(s.source,s.shape,s.connection))},zP.$inject=["canvas","layouter"],zP.prototype.execute=function(s){var l=s.connection,d=s.source,f=s.target,p=s.parent,g=s.parentIndex,b=s.hints;if(!d||!f)throw new Error("source and target required");if(!p)throw new Error("parent required");return l.source=d,l.target=f,l.waypoints||(l.waypoints=this._layouter.layoutConnection(l,b)),this._canvas.addConnection(l,p,g),l},zP.prototype.revert=function(s){var l=s.connection;return this._canvas.removeConnection(l),l.source=null,l.target=null,l};var HP=Math.round;function C5(s){this._modeling=s}C5.$inject=["modeling"],C5.prototype.preExecute=function(s){var l=s.elements,d=s.parent,f=s.parentIndex,p=s.position,g=s.hints,b=this._modeling;R(l,function(P){S(P.x)||(P.x=0),S(P.y)||(P.y=0)});var x=Fi(I(l,function(P){return!P.hidden}));R(l,function(P){Dr(P)&&(P.waypoints=ge(P.waypoints,function(C){return{x:HP(C.x-x.x-x.width/2+p.x),y:HP(C.y-x.y-x.height/2+p.y)}})),le(P,{x:HP(P.x-x.x-x.width/2+p.x),y:HP(P.y-x.y-x.height/2+p.y)})});var E=Wg(l),k={};R(l,function(P){if(Dr(P))k[P.id]=S(f)?b.createConnection(k[P.source.id],k[P.target.id],f,P,P.parent||d,g):b.createConnection(k[P.source.id],k[P.target.id],P,P.parent||d,g);else{var C=le({},g);E.indexOf(P)===-1&&(C.autoResize=!1),Zn(P)&&(C=Qe(C,["attach"])),k[P.id]=S(f)?b.createShape(P,Ze(P,["x","y","width","height"]),P.parent||d,f,C):b.createShape(P,Ze(P,["x","y","width","height"]),P.parent||d,C)}}),s.elements=be(k)};var BV=Math.round;function tm(s){this._canvas=s}function JE(s){tm.call(this,s)}tm.$inject=["canvas"],tm.prototype.execute=function(s){var l=s.shape,d=s.position,f=s.parent,p=s.parentIndex;if(!f)throw new Error("parent required");if(!d)throw new Error("position required");return d.width!==void 0?le(l,d):le(l,{x:d.x-BV(l.width/2),y:d.y-BV(l.height/2)}),this._canvas.addShape(l,f,p),l},tm.prototype.revert=function(s){var l=s.shape;return this._canvas.removeShape(l),l},t(JE,tm),JE.$inject=["canvas"];var zhe=tm.prototype.execute;JE.prototype.execute=function(s){var l=s.shape;return function(d){["width","height"].forEach(function(f){d[f]===void 0&&(d[f]=0)})}(l),l.labelTarget=s.labelTarget,zhe.call(this,s)};var Hhe=tm.prototype.revert;function eS(s,l){this._canvas=s,this._modeling=l}function O5(s,l){this._modeling=s,this._elementRegistry=l}function tS(s,l){this._canvas=s,this._modeling=l}function WP(s){this._modeling=s}JE.prototype.revert=function(s){return s.shape.labelTarget=null,Hhe.call(this,s)},eS.$inject=["canvas","modeling"],eS.prototype.preExecute=function(s){var l=this._modeling,d=s.connection;Jp(d.incoming,function(f){l.removeConnection(f,{nested:!0})}),Jp(d.outgoing,function(f){l.removeConnection(f,{nested:!0})})},eS.prototype.execute=function(s){var l=s.connection,d=l.parent;return s.parent=d,s.parentIndex=qg(d.children,l),s.source=l.source,s.target=l.target,this._canvas.removeConnection(l),l.source=null,l.target=null,l},eS.prototype.revert=function(s){var l=s.connection,d=s.parent,f=s.parentIndex;return l.source=s.source,l.target=s.target,$i(d.children,l,f),this._canvas.addConnection(l,d),l},O5.$inject=["modeling","elementRegistry"],O5.prototype.postExecute=function(s){var l=this._modeling,d=this._elementRegistry;R(s.elements,function(f){d.get(f.id)&&(f.waypoints?l.removeConnection(f):l.removeShape(f))})},tS.$inject=["canvas","modeling"],tS.prototype.preExecute=function(s){var l=this._modeling,d=s.shape;Jp(d.incoming,function(f){l.removeConnection(f,{nested:!0})}),Jp(d.outgoing,function(f){l.removeConnection(f,{nested:!0})}),Jp(d.children,function(f){Dr(f)?l.removeConnection(f,{nested:!0}):l.removeShape(f,{nested:!0})})},tS.prototype.execute=function(s){var l=this._canvas,d=s.shape,f=d.parent;return s.oldParent=f,s.oldParentIndex=qg(f.children,d),l.removeShape(d),d},tS.prototype.revert=function(s){var l=this._canvas,d=s.shape,f=s.oldParent,p=s.oldParentIndex;return $i(f.children,d,p),l.addShape(d,f),d},WP.$inject=["modeling"];var VV={x:"y",y:"x"};function qP(s,l){this._layouter=s,this._canvas=l}function T5(){}function P5(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function nS(s){this._modeling=s}function UP(s){this._helper=new nS(s)}function Gv(s){this._modeling=s,this._helper=new nS(s)}function rS(s){this._modeling=s}function zV(s){return s.original||s}function xh(s,l){this._modeling=s,this._rules=l}function iS(s){this._modeling=s}function nm(s){this._modeling=s}function HV(s){return le({},s)}function WV(s){switch(s){case"n":case"s":return"y";case"w":case"e":return"x"}}function qV(s,l,d){var f=WV(d);return/e|s/.test(d)?s[f]>l:/n|w/.test(d)?s[f]<l:void 0}function rm(s,l){return s.indexOf(l)!==-1}function GP(s){this._modeling=s}function UV(s){var l={};return R(s,function(d){l[d.id]=d.hidden,d.children&&(l=le({},l,UV(d.children)))}),l}function GV(s,l){var d=[];return R(s,function(f){f.hidden=l,d=d.concat(f),f.children&&(d=d.concat(GV(f.children,f.collapsed||l)))}),d}function YV(s,l){var d=[];return R(s,function(f){f.hidden=l[f.id],d=d.concat(f),f.children&&(d=d.concat(YV(f.children,l)))}),d}function YP(s){this._modeling=s}function QV(s,l){return Li(s&&s.attachers,l)}function KV(s,l,d){if(s){var f=s.attachers;f||(s.attachers=f=[]),$i(f,l,d)}}function A5(){}function Yr(s,l,d){this._eventBus=s,this._elementFactory=l,this._commandStack=d;var f=this;s.on("diagram.init",function(){f.registerHandlers(d)})}function oS(s){this._elementRegistry=s}function XV(s,l){R(l,function(d,f){s.set(f,d)})}WP.prototype.preExecute=function(s){var l=this._modeling,d=s.groups,f=s.axis,p=s.dimension;function g(H,Y){H.range.min=Math.min(Y[f],H.range.min),H.range.max=Math.max(Y[f]+Y[p],H.range.max)}function b(H){return H[f]+H[p]/2}function x(H){return H.length-1}function E(H){return H.max-H.min}var k,P,C=d[0],M=x(d),$=d[M],j=0;R(d,function(H,Y){var q,W,ee;H.elements.length<2?Y&&Y!==d.length-1&&(g(H,H.elements[0]),j+=E(H.range)):(W=(q=Ce(H.elements,f))[0],Y===M&&(W=q[x(q)]),ee=b(W),H.range=null,R(q,function(ie){(function(oe,ke){var Pe={y:0};Pe[f]=oe-b(ke),Pe[f]&&(Pe[VV[f]]=0,l.moveElements([ke],Pe,ke.parent))})(ee,ie),H.range!==null?g(H,ie):H.range={min:ie[f],max:ie[f]+ie[p]}}),Y&&Y!==d.length-1&&(j+=E(H.range)))}),P=Math.abs($.range.min-C.range.max),(k=Math.round((P-j)/(d.length-1)))<d.length-1||R(d,function(H,Y){var q,W={};H!==C&&H!==$&&(q=d[Y-1],H.range.max=0,R(H.elements,function(ee,ie){W[VV[f]]=0,W[f]=q.range.max-ee[f]+k,H.range.min!==ee[f]&&(W[f]+=ee[f]-H.range.min),W[f]&&l.moveElements([ee],W,ee.parent),H.range.max=Math.max(ee[f]+ee[p],ie?H.range.max:0)}))})},WP.prototype.postExecute=function(s){},qP.$inject=["layouter","canvas"],qP.prototype.execute=function(s){var l=s.connection;return le(s,{oldWaypoints:l.waypoints}),l.waypoints=this._layouter.layoutConnection(l,s.hints),l},qP.prototype.revert=function(s){var l=s.connection;return l.waypoints=s.oldWaypoints,l},T5.prototype.execute=function(s){var l=s.connection,d=s.delta,f=s.newParent||l.parent,p=s.newParentIndex,g=l.parent;return s.oldParent=g,s.oldParentIndex=Li(g.children,l),$i(f.children,l,p),l.parent=f,R(l.waypoints,function(b){b.x+=d.x,b.y+=d.y,b.original&&(b.original.x+=d.x,b.original.y+=d.y)}),l},T5.prototype.revert=function(s){var l=s.connection,d=l.parent,f=s.oldParent,p=s.oldParentIndex,g=s.delta;return Li(d.children,l),$i(f.children,l,p),l.parent=f,R(l.waypoints,function(b){b.x-=g.x,b.y-=g.y,b.original&&(b.original.x-=g.x,b.original.y-=g.y)}),l},P5.prototype.add=function(s,l){return this.addAll([s],l)},P5.prototype.addAll=function(s,l){var d=function(f,p,g){u(p)&&(p=!0),w(p)&&(g=p,p=!0);var b=vp((g=g||{}).allShapes),x=vp(g.allConnections),E=vp(g.enclosedElements),k=vp(g.enclosedConnections),P=vp(g.topLevel,p&&he(f,function(M){return M.id}));function C(M){P[M.source.id]&&P[M.target.id]&&(P[M.id]=[M]),b[M.source.id]&&b[M.target.id]&&(k[M.id]=E[M.id]=M),x[M.id]=M}return zd(f,function(M){if(E[M.id]=M,!M.waypoints)return b[M.id]=M,R(M.incoming,C),R(M.outgoing,C),M.children;k[M.id]=x[M.id]=M}),{allShapes:b,allConnections:x,topLevel:P,enclosedConnections:k,enclosedElements:E}}(s,!!l,this);return le(this,d),this},nS.prototype.moveRecursive=function(s,l,d){return s?this.moveClosure(this.getClosure(s),l,d):[]},nS.prototype.moveClosure=function(s,l,d,f,p){var g=this._modeling,b=s.allShapes,x=s.allConnections,E=s.enclosedConnections,k=s.topLevel,P=!1;p&&p.parent===d&&(P=!0),R(b,function(C){g.moveShape(C,l,k[C.id]&&!P&&d,{recurse:!1,layout:!1})}),R(x,function(C){var M=!!b[C.source.id],$=!!b[C.target.id];E[C.id]&&M&&$?g.moveConnection(C,l,k[C.id]&&!P&&d):g.layoutConnection(C,{connectionStart:M&&CE(C,C.source,l),connectionEnd:$&&OE(C,C.target,l)})})},nS.prototype.getClosure=function(s){return new P5().addAll(s,!0)},UP.$inject=["modeling"],UP.prototype.preExecute=function(s){s.closure=this._helper.getClosure(s.shapes)},UP.prototype.postExecute=function(s){var l,d=s.hints;d&&d.primaryShape&&(l=d.primaryShape,d.oldParent=l.parent),this._helper.moveClosure(s.closure,s.delta,s.newParent,s.newHost,l)},Gv.$inject=["modeling"],Gv.prototype.execute=function(s){var l=s.shape,d=s.delta,f=s.newParent||l.parent,p=s.newParentIndex,g=l.parent;return s.oldBounds=Ze(l,["x","y","width","height"]),s.oldParent=g,s.oldParentIndex=Li(g.children,l),$i(f.children,l,p),le(l,{parent:f,x:l.x+d.x,y:l.y+d.y}),l},Gv.prototype.postExecute=function(s){var l=s.shape,d=s.delta,f=s.hints,p=this._modeling;f.layout!==!1&&(R(l.incoming,function(g){p.layoutConnection(g,{connectionEnd:OE(g,l,d)})}),R(l.outgoing,function(g){p.layoutConnection(g,{connectionStart:CE(g,l,d)})})),f.recurse!==!1&&this.moveChildren(s)},Gv.prototype.revert=function(s){var l=s.shape,d=s.oldParent,f=s.oldParentIndex,p=s.delta;return $i(d.children,l,f),le(l,{parent:d,x:l.x-p.x,y:l.y-p.y}),l},Gv.prototype.moveChildren=function(s){var l=s.delta,d=s.shape;this._helper.moveRecursive(d.children,l,null)},Gv.prototype.getNewParent=function(s){return s.newParent||s.shape.parent},rS.$inject=["modeling"],rS.prototype.execute=function(s){var l=s.newSource,d=s.newTarget,f=s.connection,p=s.dockingOrPoints;if(!l&&!d)throw new Error("newSource or newTarget required");return y(p)&&(s.oldWaypoints=f.waypoints,f.waypoints=p),l&&(s.oldSource=f.source,f.source=l),d&&(s.oldTarget=f.target,f.target=d),f},rS.prototype.postExecute=function(s){var l=s.connection,d=s.newSource,f=s.newTarget,p=s.dockingOrPoints,g=s.hints||{},b={};g.connectionStart&&(b.connectionStart=g.connectionStart),g.connectionEnd&&(b.connectionEnd=g.connectionEnd),g.layoutConnection!==!1&&(!d||f&&g.docking!=="source"||(b.connectionStart=b.connectionStart||zV(y(p)?p[0]:p)),!f||d&&g.docking!=="target"||(b.connectionEnd=b.connectionEnd||zV(y(p)?p[p.length-1]:p)),g.newWaypoints&&(b.waypoints=g.newWaypoints),this._modeling.layoutConnection(l,b))},rS.prototype.revert=function(s){var l=s.oldSource,d=s.oldTarget,f=s.oldWaypoints,p=s.connection;return l&&(p.source=l),d&&(p.target=d),f&&(p.waypoints=f),p},xh.$inject=["modeling","rules"],xh.prototype.preExecute=function(s){var l,d=this,f=this._modeling,p=this._rules,g=s.oldShape,b=s.newData,x=s.hints||{};function E(j,H,Y){return p.allowed("connection.reconnect",{connection:Y,source:j,target:H})}var k,P={x:b.x,y:b.y},C={x:g.x,y:g.y,width:g.width,height:g.height};l=s.newShape=s.newShape||d.createShape(b,P,g.parent,x),g.host&&f.updateAttachment(l,g.host),x.moveChildren!==!1&&(k=g.children.slice(),f.moveElements(k,{x:0,y:0},l,x));var M=g.incoming.slice(),$=g.outgoing.slice();R(M,function(j){E(j.source,l,j)&&d.reconnectEnd(j,l,Wb(j,l,C),x)}),R($,function(j){var H=j.target;E(l,H,j)&&d.reconnectStart(j,l,Hb(j,l,C),x)})},xh.prototype.postExecute=function(s){var l=s.oldShape;this._modeling.removeShape(l)},xh.prototype.execute=function(s){},xh.prototype.revert=function(s){},xh.prototype.createShape=function(s,l,d,f){return this._modeling.createShape(s,l,d,f)},xh.prototype.reconnectStart=function(s,l,d,f){this._modeling.reconnectStart(s,l,d,f)},xh.prototype.reconnectEnd=function(s,l,d,f){this._modeling.reconnectEnd(s,l,d,f)},iS.$inject=["modeling"],iS.prototype.execute=function(s){var l=s.shape,d=s.newBounds,f=s.minBounds;if(d.x===void 0||d.y===void 0||d.width===void 0||d.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(f&&(d.width<f.width||d.height<f.height))throw new Error("width and height cannot be less than minimum height and width");if(!f&&d.width<10||d.height<10)throw new Error("width and height cannot be less than 10px");return s.oldBounds={width:l.width,height:l.height,x:l.x,y:l.y},le(l,{width:d.width,height:d.height,x:d.x,y:d.y}),l},iS.prototype.postExecute=function(s){var l=this._modeling,d=s.shape,f=s.oldBounds;(s.hints||{}).layout!==!1&&(R(d.incoming,function(p){l.layoutConnection(p,{connectionEnd:Wb(p,d,f)})}),R(d.outgoing,function(p){l.layoutConnection(p,{connectionStart:Hb(p,d,f)})}))},iS.prototype.revert=function(s){var l=s.shape,d=s.oldBounds;return le(l,{width:d.width,height:d.height,x:d.x,y:d.y}),l},nm.$inject=["modeling"],nm.prototype.preExecute=function(s){var l=s.delta,d=s.direction,f=s.movingShapes,p=s.resizingShapes,g=s.start,b={};this.moveShapes(f,l),R(p,function(x){b[x.id]=function(E){return{x:E.x,y:E.y,height:E.height,width:E.width}}(x)}),this.resizeShapes(p,l,d),this.updateConnectionWaypoints(function(x,E){var k=[];return R(x.concat(E),function(P){var C=P.incoming,M=P.outgoing;R(C.concat(M),function($){var j=$.source,H=$.target;(we(x,j)||we(x,H)||we(E,j)||we(E,H))&&(we(k,$)||k.push($))})}),k}(f,p),l,d,g,f,p,b)},nm.prototype.execute=function(){},nm.prototype.revert=function(){},nm.prototype.moveShapes=function(s,l){var d=this;R(s,function(f){d._modeling.moveShape(f,l,null,{autoResize:!1,layout:!1,recurse:!1})})},nm.prototype.resizeShapes=function(s,l,d){var f=this;R(s,function(p){var g=function(b,x,E){var k=b.x,P=b.y,C=b.width,M=b.height,$=E.x,j=E.y;switch(x){case"n":return{x:k,y:P+j,width:C,height:M-j};case"s":return{x:k,y:P,width:C,height:M+j};case"w":return{x:k+$,y:P,width:C-$,height:M};case"e":return{x:k,y:P,width:C+$,height:M};default:throw new Error("unknown direction: "+x)}}(p,d,l);f._modeling.resizeShape(p,g,null,{attachSupport:!1,autoResize:!1,layout:!1})})},nm.prototype.updateConnectionWaypoints=function(s,l,d,f,p,g,b){var x=this,E=p.concat(g);R(s,function(k){var P=k.source,C=k.target,M=function(H){return ge(H.waypoints,function(Y){return(Y=HV(Y)).original&&(Y.original=HV(Y.original)),Y})}(k),$=WV(d),j={};rm(E,P)&&rm(E,C)?(M=ge(M,function(H){return qV(H,f,d)&&(H[$]=H[$]+l[$]),H.original&&qV(H.original,f,d)&&(H.original[$]=H.original[$]+l[$]),H}),x._modeling.updateWaypoints(k,M,{labelBehavior:!1})):(rm(E,P)||rm(E,C))&&(rm(p,P)?j.connectionStart=CE(k,P,l):rm(p,C)?j.connectionEnd=OE(k,C,l):rm(g,P)?j.connectionStart=Hb(k,P,b[P.id]):rm(g,C)&&(j.connectionEnd=Wb(k,C,b[C.id])),x._modeling.layoutConnection(k,j))})},GP.$inject=["modeling"],GP.prototype.execute=function(s){var l=s.shape,d=l.children;s.oldChildrenVisibility=UV(d),l.collapsed=!l.collapsed;var f=GV(d,l.collapsed);return[l].concat(f)},GP.prototype.revert=function(s){var l=s.shape,d=s.oldChildrenVisibility,f=YV(l.children,d);return l.collapsed=!l.collapsed,[l].concat(f)},YP.$inject=["modeling"],YP.prototype.execute=function(s){var l=s.shape,d=s.newHost,f=l.host;return s.oldHost=f,s.attacherIdx=QV(f,l),KV(d,l),l.host=d,l},YP.prototype.revert=function(s){var l=s.shape,d=s.newHost,f=s.oldHost,p=s.attacherIdx;return l.host=f,QV(d,l),KV(f,l,p),l},A5.prototype.execute=function(s){var l=s.connection,d=s.newWaypoints;return s.oldWaypoints=l.waypoints,l.waypoints=d,l},A5.prototype.revert=function(s){var l=s.connection,d=s.oldWaypoints;return l.waypoints=d,l},Yr.$inject=["eventBus","elementFactory","commandStack"],Yr.prototype.getHandlers=function(){return{"shape.append":VP,"shape.create":tm,"shape.delete":tS,"shape.move":Gv,"shape.resize":iS,"shape.replace":xh,"shape.toggleCollapse":GP,spaceTool:nm,"label.create":JE,"connection.create":zP,"connection.delete":eS,"connection.move":T5,"connection.layout":qP,"connection.updateWaypoints":A5,"connection.reconnect":rS,"elements.create":C5,"elements.move":UP,"elements.delete":O5,"elements.distribute":WP,"elements.align":BP,"element.updateAttachment":YP}},Yr.prototype.registerHandlers=function(s){R(this.getHandlers(),function(l,d){s.registerHandler(d,l)})},Yr.prototype.moveShape=function(s,l,d,f,p){typeof f=="object"&&(p=f,f=null);var g={shape:s,delta:l,newParent:d,newParentIndex:f,hints:p||{}};this._commandStack.execute("shape.move",g)},Yr.prototype.updateAttachment=function(s,l){var d={shape:s,newHost:l};this._commandStack.execute("element.updateAttachment",d)},Yr.prototype.moveElements=function(s,l,d,f){var p,g=(f=f||{}).attach,b=d;g===!0?(p=d,b=d.parent):g===!1&&(p=null);var x={shapes:s,delta:l,newParent:b,newHost:p,hints:f};this._commandStack.execute("elements.move",x)},Yr.prototype.moveConnection=function(s,l,d,f,p){typeof f=="object"&&(p=f,f=void 0);var g={connection:s,delta:l,newParent:d,newParentIndex:f,hints:p||{}};this._commandStack.execute("connection.move",g)},Yr.prototype.layoutConnection=function(s,l){var d={connection:s,hints:l||{}};this._commandStack.execute("connection.layout",d)},Yr.prototype.createConnection=function(s,l,d,f,p,g){typeof d=="object"&&(g=p,p=f,f=d,d=void 0);var b={source:s,target:l,parent:p,parentIndex:d,connection:f=this._create("connection",f),hints:g};return this._commandStack.execute("connection.create",b),b.connection},Yr.prototype.createShape=function(s,l,d,f,p){typeof f!="number"&&(p=f,f=void 0);var g,b,x=(p=p||{}).attach;s=this._create("shape",s),x?(g=d.parent,b=d):g=d;var E={position:l,shape:s,parent:g,parentIndex:f,host:b,hints:p};return this._commandStack.execute("shape.create",E),E.shape},Yr.prototype.createElements=function(s,l,d,f,p){y(s)||(s=[s]),typeof f!="number"&&(p=f,f=void 0);var g={position:l,elements:s,parent:d,parentIndex:f,hints:p=p||{}};return this._commandStack.execute("elements.create",g),g.elements},Yr.prototype.createLabel=function(s,l,d,f){d=this._create("label",d);var p={labelTarget:s,position:l,parent:f||s.parent,shape:d};return this._commandStack.execute("label.create",p),p.shape},Yr.prototype.appendShape=function(s,l,d,f,p){p=p||{};var g={source:s,position:d,target:f,shape:l=this._create("shape",l),connection:p.connection,connectionParent:p.connectionParent,hints:p};return this._commandStack.execute("shape.append",g),g.shape},Yr.prototype.removeElements=function(s){var l={elements:s};this._commandStack.execute("elements.delete",l)},Yr.prototype.distributeElements=function(s,l,d){var f={groups:s,axis:l,dimension:d};this._commandStack.execute("elements.distribute",f)},Yr.prototype.removeShape=function(s,l){var d={shape:s,hints:l||{}};this._commandStack.execute("shape.delete",d)},Yr.prototype.removeConnection=function(s,l){var d={connection:s,hints:l||{}};this._commandStack.execute("connection.delete",d)},Yr.prototype.replaceShape=function(s,l,d){var f={oldShape:s,newData:l,hints:d||{}};return this._commandStack.execute("shape.replace",f),f.newShape},Yr.prototype.alignElements=function(s,l){var d={elements:s,alignment:l};this._commandStack.execute("elements.align",d)},Yr.prototype.resizeShape=function(s,l,d,f){var p={shape:s,newBounds:l,minBounds:d,hints:f};this._commandStack.execute("shape.resize",p)},Yr.prototype.createSpace=function(s,l,d,f,p){var g={delta:d,direction:f,movingShapes:s,resizingShapes:l,start:p};this._commandStack.execute("spaceTool",g)},Yr.prototype.updateWaypoints=function(s,l,d){var f={connection:s,newWaypoints:l,hints:d||{}};this._commandStack.execute("connection.updateWaypoints",f)},Yr.prototype.reconnect=function(s,l,d,f,p){var g={connection:s,newSource:l,newTarget:d,dockingOrPoints:f,hints:p||{}};this._commandStack.execute("connection.reconnect",g)},Yr.prototype.reconnectStart=function(s,l,d,f){f||(f={}),this.reconnect(s,l,s.target,d,le(f,{docking:"source"}))},Yr.prototype.reconnectEnd=function(s,l,d,f){f||(f={}),this.reconnect(s,s.source,l,d,le(f,{docking:"target"}))},Yr.prototype.connect=function(s,l,d,f){return this.createConnection(s,l,d||{},s.parent,f)},Yr.prototype._create=function(s,l){return l instanceof Zf?l:this._elementFactory.create(s,l)},Yr.prototype.toggleCollapse=function(s,l){var d={shape:s,hints:l||{}};this._commandStack.execute("shape.toggleCollapse",d)},oS.$inject=["elementRegistry"],oS.prototype.execute=function(s){var l=s.element,d=s.moddleElement,f=s.properties;if(!d)throw new Error("<moddleElement> required");var p=s.changed||this._getVisualReferences(d).concat(l),g=s.oldProperties||function(b,x){return X(x,function(E,k){return E[k]=b.get(k),E},{})}(d,_e(f));return XV(d,f),s.oldProperties=g,s.changed=p,p},oS.prototype.revert=function(s){var l=s.oldProperties,d=s.moddleElement,f=s.changed;return XV(d,l),f},oS.prototype._getVisualReferences=function(s){var l=this._elementRegistry;return Q(s,"bpmn:DataObject")?function(d,f){return f.filter(function(p){return Q(p,"bpmn:DataObjectReference")&&dt(p).dataObjectRef===d})}(s,l):[]};var sS="default",wh="id",ZV="di",Whe={width:0,height:0};function aS(s,l,d,f,p){this._elementRegistry=s,this._moddle=l,this._translate=d,this._modeling=f,this._textRenderer=p}function JV(s,l){return wh in s&&s[wh]!==l[wh]}function ez(s,l){var d=s.businessObject,f=fr(s);R(l,function(p,g){g!==ZV?d.set(g,p):f&&function(b,x){R(x,function(E,k){b.set(k,E)})}(f,p)})}aS.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],aS.prototype.execute=function(s){var l=s.element,d=[l],f=this._translate;if(!l)throw new Error(f("element required"));var p=this._elementRegistry,g=this._moddle.ids,b=l.businessObject,x=function(k){var P=le({},k);return qhe.forEach(function(C){C in k&&(P[C]=dt(P[C]))}),P}(s.properties),E=s.oldProperties||function(k,P){var C=_e(P),M=k.businessObject,$=fr(k);return X(C,function(j,H){return j[H]=H!==ZV?M.get(H):function(Y,q){return X(q,function(W,ee){return W[ee]=Y&&Y.get(ee),W},{})}($,_e(P.di)),j},{})}(l,x);return JV(x,b)&&(g.unclaim(b[wh]),p.updateId(l,x[wh]),g.claim(x[wh],b)),sS in x&&(x[sS]&&d.push(p.get(x[sS].id)),b[sS]&&d.push(p.get(b[sS].id))),ez(l,x),s.oldProperties=E,s.changed=d,d},aS.prototype.postExecute=function(s){var l=s.element.label,d=l&&dt(l).name;if(d){var f=this._textRenderer.getExternalLabelBounds(l,d);this._modeling.resizeShape(l,f,Whe)}},aS.prototype.revert=function(s){var l=s.element,d=s.properties,f=s.oldProperties,p=l.businessObject,g=this._elementRegistry,b=this._moddle.ids;return ez(l,f),JV(d,p)&&(b.unclaim(d[wh]),g.updateId(l,f[wh]),b.claim(f[wh],p)),s.changed};var qhe=["default"];function QP(s,l){this._canvas=s,this._modeling=l}function R5(s,l){this._modeling=s,this._spaceTool=l}function M5(s,l){this._modeling=s,this._translate=l}function lS(s,l){this._modeling=s,this._spaceTool=l}QP.$inject=["canvas","modeling"],QP.prototype.execute=function(s){var l=this._canvas,d=s.newRoot,f=d.businessObject,p=l.getRootElement(),g=p.businessObject,b=g.$parent,x=fr(p);return l.setRootElement(d),l.removeRootElement(p),$i(b.rootElements,f),f.$parent=b,Li(b.rootElements,g),g.$parent=null,p.di=null,x.bpmnElement=f,d.di=x,s.oldRoot=p,[]},QP.prototype.revert=function(s){var l=this._canvas,d=s.newRoot,f=d.businessObject,p=s.oldRoot,g=p.businessObject,b=f.$parent,x=fr(d);return l.setRootElement(p),l.removeRootElement(d),Li(b.rootElements,f),f.$parent=null,$i(b.rootElements,g),g.$parent=b,d.di=null,x.bpmnElement=g,p.di=x,[]},R5.$inject=["modeling","spaceTool"],R5.prototype.preExecute=function(s){var l=this._spaceTool,d=this._modeling,f=s.shape,p=s.location,g=Da(f),b=g===f,x=b?f:f.parent;Ws(x).length||d.createShape({type:"bpmn:Lane"},{x:f.x+af,y:f.y,width:f.width-af,height:f.height},x);var E=[];zd(g,function(j){return E.push(j),j.label&&E.push(j.label),j===f?[]:I(j.children,function(H){return H!==f})});var k=p==="top"?-120:120,P=p==="top"?f.y:f.y+f.height,C=P+(p==="top"?10:-10),M=p==="top"?"n":"s",$=l.calculateAdjustments(E,"y",k,C);l.makeSpace($.movingShapes,$.resizingShapes,{x:0,y:k},M,C),s.newLane=d.createShape({type:"bpmn:Lane"},{x:f.x+(b?af:0),y:P-(p==="top"?120:0),width:f.width-(b?af:0),height:120},x)},M5.$inject=["modeling","translate"],M5.prototype.preExecute=function(s){var l=this._modeling,d=this._translate,f=s.shape,p=s.count,g=Ws(f),b=g.length;if(b>p)throw new Error(d("more than {count} child lanes",{count:p}));var x,E,k,P,C,M=Math.round(f.height/p);for(C=0;C<p;C++)x=f.y+C*M,E=C===p-1?f.height-M*C:M,k={x:f.x+af,y:x,width:f.width-af,height:E},C<b?l.resizeShape(g[C],k):(P={type:"bpmn:Lane"},l.createShape(P,k,f))},lS.$inject=["modeling","spaceTool"],lS.prototype.preExecute=function(s){var l=s.shape,d=s.newBounds;s.balanced!==!1?this.resizeBalanced(l,d):this.resizeSpace(l,d)},lS.prototype.resizeBalanced=function(s,l){var d=this._modeling,f=Vb(s,l);d.resizeShape(s,l),f.forEach(function(p){d.resizeShape(p.shape,p.newBounds)})},lS.prototype.resizeSpace=function(s,l){var d,f,p,g,b,x=this._spaceTool,E=nn(s),k=GT(nn(l),E),P=Da(s),C=[],M=[];zd(P,function($){return C.push($),(Q($,"bpmn:Lane")||Q($,"bpmn:Participant"))&&M.push($),$.children}),(k.bottom||k.top)&&(d=k.bottom||k.top,f=s.y+(k.bottom?s.height:0)+(k.bottom?-10:10),p=k.bottom?"s":"n",g=k.top>0||k.bottom<0?-d:d,b=x.calculateAdjustments(C,"y",g,f),x.makeSpace(b.movingShapes,b.resizingShapes,{x:0,y:d},p)),(k.left||k.right)&&(d=k.right||k.left,f=s.x+(k.right?s.width:0)+(k.right?-10:100),p=k.right?"e":"w",g=k.left>0||k.right<0?-d:d,b=x.calculateAdjustments(M,"x",g,f),x.makeSpace(b.movingShapes,b.resizingShapes,{x:d,y:0},p))};var cS="flowNodeRef",D5="lanes";function uS(s){this._elementRegistry=s}function KP(s){this._moddle=s}uS.$inject=["elementRegistry"],uS.prototype._computeUpdates=function(s,l){var d=[],f=[],p={},g=[];function b(E){d.indexOf(E)===-1&&(g.push(E),d.push(E))}function x(E){if(!E.parent)return[];var k=function(P){var C=Da(P);return p[C.id]||(p[C.id]=Bb(C)),p[C.id]}(E);return k.filter(function(P){return C=E,M=nn(P),$=C.x+C.width/2,j=C.y+C.height/2,$>M.left&&$<M.right&&j>M.top&&j<M.bottom;var C,M,$,j}).map(function(P){return P.businessObject})}return l.forEach(function(E){var k=Da(E);if(k&&d.indexOf(k)===-1){var P=k.children.filter(function(C){return Q(C,"bpmn:FlowNode")});P.forEach(b),d.push(k)}}),s.forEach(b),g.forEach(function(E){var k=E.businessObject,P=k.get(D5).slice(),C=x(E);f.push({flowNode:k,remove:P,add:C})}),l.forEach(function(E){var k=E.businessObject;E.parent||k.get(cS).forEach(function(P){f.push({flowNode:P,remove:[k],add:[]})})}),f},uS.prototype.execute=function(s){var l=s.updates;return l||(l=s.updates=this._computeUpdates(s.flowNodeShapes,s.laneShapes)),l.forEach(function(d){var f=d.flowNode,p=f.get(D5);d.remove.forEach(function(g){Li(p,g),Li(g.get(cS),f)}),d.add.forEach(function(g){$i(p,g),$i(g.get(cS),f)})}),[]},uS.prototype.revert=function(s){return s.updates.forEach(function(l){var d=l.flowNode,f=d.get(D5);l.add.forEach(function(p){Li(f,p),Li(p.get(cS),d)}),l.remove.forEach(function(p){$i(f,p),$i(p.get(cS),d)})}),[]},KP.$inject=["moddle"],KP.prototype.execute=function(s){var l=this._moddle.ids,d=s.id,f=s.element;return s.claiming?l.claim(d,f):l.unclaim(d),[]},KP.prototype.revert=function(s){var l=this._moddle.ids,d=s.id,f=s.element;return s.claiming?l.unclaim(d):l.claim(d,f),[]};var Uhe={fill:void 0,stroke:void 0};function N5(s){this._commandStack=s,this._normalizeColor=function(l){if(l){if(O(l)){var d=function(f){var p=document.createElement("canvas").getContext("2d");return p.fillStyle="transparent",p.fillStyle=f,/^#[0-9a-fA-F]{6}$/.test(p.fillStyle)?p.fillStyle:null}(l);if(d)return d}throw new Error("invalid color value: "+l)}}}N5.$inject=["commandStack"],N5.prototype.postExecute=function(s){var l=s.elements,d=s.colors||Uhe,f=this,p={};"fill"in d&&le(p,{"background-color":this._normalizeColor(d.fill)}),"stroke"in d&&le(p,{"border-color":this._normalizeColor(d.stroke)}),R(l,function(g){var b=Dr(g)?Ze(p,["border-color"]):p,x=fr(g);if(function(E){"border-color"in E&&(E.stroke=E["border-color"]),"background-color"in E&&(E.fill=E["background-color"])}(b),Zn(g))f._commandStack.execute("element.updateModdleProperties",{element:g,moddleElement:x.label,properties:{color:p["border-color"]}});else{if(!Dn(x,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;f._commandStack.execute("element.updateProperties",{element:g,properties:{di:b}})}})};var Ghe={width:0,height:0};function tz(s,l,d){function f(p,g){var b=p.label||p,x=p.labelTarget||p;return function(E,k){var P=E.businessObject,C=xO(P);C&&(C==="categoryValueRef"?P.categoryValueRef.value=k:P[C]=k)}(b,g),[b,x]}this.preExecute=function(p){var g=p.element,b=g.businessObject,x=p.newLabel;if(!Zn(g)&&ih(g)&&!Q0(g)&&!nz(x)){var E=c_(g);E={x:E.x,y:E.y+7},s.createLabel(g,E,{id:b.id+"_label",businessObject:b,di:g.di})}},this.execute=function(p){return p.oldLabel=mo(p.element),f(p.element,p.newLabel)},this.revert=function(p){return f(p.element,p.oldLabel)},this.postExecute=function(p){var g=p.element,b=g.label||g,x=p.newLabel,E=p.newBounds,k=p.hints||{};if(Zn(b)||Q(b,"bpmn:TextAnnotation"))if(Zn(b)&&nz(x))k.removeShape!==!1&&s.removeShape(b,{unsetLabel:!1});else{var P=mo(g);E===void 0&&(E=l.getExternalLabelBounds(b,P)),E&&s.resizeShape(b,E,Ghe)}}}function nz(s){return!s||!s.trim()}function Us(s,l,d,f){Yr.call(this,s,l,d),this._bpmnRules=f}function rz(){}tz.$inject=["modeling","textRenderer","bpmnFactory"],t(Us,Yr),Us.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],Us.prototype.getHandlers=function(){var s=Yr.prototype.getHandlers.call(this);return s["element.updateModdleProperties"]=oS,s["element.updateProperties"]=aS,s["canvas.updateRoot"]=QP,s["lane.add"]=R5,s["lane.resize"]=lS,s["lane.split"]=M5,s["lane.updateRefs"]=uS,s["id.updateClaim"]=KP,s["element.setColor"]=N5,s["element.updateLabel"]=tz,s},Us.prototype.updateLabel=function(s,l,d,f){this._commandStack.execute("element.updateLabel",{element:s,newLabel:l,newBounds:d,hints:f||{}})},Us.prototype.connect=function(s,l,d,f){var p=this._bpmnRules;if(d||(d=p.canConnect(s,l)),d)return this.createConnection(s,l,d,s.parent,f)},Us.prototype.updateModdleProperties=function(s,l,d){this._commandStack.execute("element.updateModdleProperties",{element:s,moddleElement:l,properties:d})},Us.prototype.updateProperties=function(s,l){this._commandStack.execute("element.updateProperties",{element:s,properties:l})},Us.prototype.resizeLane=function(s,l,d){this._commandStack.execute("lane.resize",{shape:s,newBounds:l,balanced:d})},Us.prototype.addLane=function(s,l){var d={shape:s,location:l};return this._commandStack.execute("lane.add",d),d.newLane},Us.prototype.splitLane=function(s,l){this._commandStack.execute("lane.split",{shape:s,count:l})},Us.prototype.makeCollaboration=function(){var s=this._create("root",{type:"bpmn:Collaboration"}),l={newRoot:s};return this._commandStack.execute("canvas.updateRoot",l),s},Us.prototype.makeProcess=function(){var s={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",s)},Us.prototype.updateLaneRefs=function(s,l){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:s,laneShapes:l})},Us.prototype.claimId=function(s,l){this._commandStack.execute("id.updateClaim",{id:s,element:l,claiming:!0})},Us.prototype.unclaimId=function(s,l){this._commandStack.execute("id.updateClaim",{id:s,element:l})},Us.prototype.setColor=function(s,l){s.length||(s=[s]),this._commandStack.execute("element.setColor",{elements:s,colors:l})},rz.prototype.layoutConnection=function(s,l){return[(l=l||{}).connectionStart||Xt(l.source||s.source),l.connectionEnd||Xt(l.target||s.target)]};var XP=20,Yhe=5,ZP=Math.round,iz=20,Qhe={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function oz(s,l,d){var f,p,g,b=rs(l,s,Yhe),x=d.split(":")[0],E=ZP((l.x-s.x)/2+s.x),k=ZP((l.y-s.y)/2+s.y),P=(g=b,{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[x].test(g)),C=/h|r|l/.test(x),M=!1,$=!1;return P?(f=C?{x:E,y:s.y}:{x:s.x,y:k},p=C?"h:h":"v:v"):(M=function(j,H){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[H].test(j)}(b,x),p=C?"h:v":"v:h",M?C?($=k===s.y,f={x:s.x+XP*(/l/.test(x)?-1:1),y:$?k+XP:k}):f={x:($=E===s.x)?E+XP:E,y:s.y+XP*(/t/.test(x)?-1:1)}:f={x:E,y:k}),{waypoints:I5(s,f,p).concat(f),directions:p,turnNextDirections:$}}function sz(s){return s.split(":").reverse().join(":")}function I5(s,l,d){if(!function(b){return b&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(b)}(d=d||"h:h"))throw new Error("unknown directions: <"+d+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(lz(d)){var f=function(b,x,E){return oz(b,x,E)}(s,l,d),p=function(b,x,E){var k=oz(x,b,sz(E));return{waypoints:k.waypoints.slice().reverse(),directions:sz(k.directions),turnNextDirections:k.turnNextDirections}}(s,l,d),g=function(b,x){var E=b.directions.split(":")[1],k=x.directions.split(":")[0];b.turnNextDirections&&(E=E=="h"?"v":"h"),x.turnNextDirections&&(k=k=="h"?"v":"h");var P=E+":"+k;return{waypoints:I5(b.waypoints[b.waypoints.length-1],x.waypoints[0],P),directions:P}}(f,p);return[].concat(f.waypoints,g.waypoints,p.waypoints)}return function(b,x,E){var k=ZP((x.x-b.x)/2+b.x),P=ZP((x.y-b.y)/2+b.y);if(E==="h:v")return[{x:x.x,y:b.y}];if(E==="v:h")return[{x:b.x,y:x.y}];if(E==="h:h")return[{x:k,y:b.y},{x:k,y:x.y}];if(E==="v:v")return[{x:b.x,y:P},{x:x.x,y:P}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(s,l,d)}function Khe(s,l,d,f,p){var g=z(p&&p.preferredLayouts||[],"straight")[0]||"h:h",b=rs(s,l,Qhe[g]||0),x=function(P,C){if(lz(C))return C;switch(P){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return C}}(b,g);d=d||Xt(s),f=f||Xt(l);var E=x.split(":"),k=cz(d,s,E[0],function(P){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[P]}(b));return function(P,C,M){var $=I5(P,C,M);return $.unshift(P),$.push(C),uz($)}(k,cz(f,l,E[1],b),x)}function Xhe(s,l,d,f,p,g){var b;return y(d)&&(p=d,g=f,d=Xt(s),f=Xt(l)),p=p||[],b=(g=le({preferredLayouts:[]},g)).preferredLayouts.indexOf("straight")!==-1&&function(x,E,k,P,C){var M,$,j={};return $=rs(x,E),/^(top|bottom|left|right)$/.test($)?(/top|bottom/.test($)&&(M="x"),/left|right/.test($)&&(M="y"),C.preserveDocking==="target"?az(M,P,x)?(j[M]=P[M],[{x:j.x!==void 0?j.x:k.x,y:j.y!==void 0?j.y:k.y,original:{x:j.x!==void 0?j.x:k.x,y:j.y!==void 0?j.y:k.y}},{x:P.x,y:P.y}]):null:az(M,k,E)?(j[M]=k[M],[{x:k.x,y:k.y},{x:j.x!==void 0?j.x:P.x,y:j.y!==void 0?j.y:P.y,original:{x:j.x!==void 0?j.x:P.x,y:j.y!==void 0?j.y:P.y}}]):null):null}(s,l,d,f,g),b||(b=g.connectionEnd&&function(x,E,k,P){var C=P.slice().reverse();return C=F5(x,E,k,C),C?C.reverse():null}(l,s,f,p),b||(b=g.connectionStart&&F5(s,l,d,p))||(!g.connectionStart&&!g.connectionEnd&&p&&p.length?p:Khe(s,l,d,f,g)))}function az(s,l,d){return function(f,p,g){return f>=p&&f<=g}(l[s],d[s],d[s]+d[{x:"width",y:"height"}[s]])}function F5(s,l,d,f){if(function(x){return x.length<3||!(x.length>4)&&!!D(x,function(E,k){var P=x[k-1];return P&&Ac(E,P)<3})}(f))return null;var p,g=f[0],b=f.slice();return b[0]=d,b[1]=function(x,E,k){switch(Mu(E,x)){case"v":return{x:k.x,y:x.y};case"h":return{x:x.x,y:k.y}}return{x:x.x,y:x.y}}(b[1],g,d),p=function(x,E,k){var P;for(P=x.length-2;P!==0;P--)if(Qw(x[P],E,iz)||Qw(x[P],k,iz))return x.slice(P);return x}(b,s,l),p!==b&&(b=F5(s,l,d,p)),b&&Mu(b)?null:b}function lz(s){return s&&/t|r|b|l/.test(s)}function cz(s,l,d,f){if(d==="h"&&(d=/left/.test(f)?"l":"r"),d==="v"&&(d=/top/.test(f)?"t":"b"),d==="t")return{original:s,x:s.x,y:l.y};if(d==="r")return{original:s,x:l.x+l.width,y:s.y};if(d==="b")return{original:s,x:s.x,y:l.y+l.height};if(d==="l")return{original:s,x:l.x,y:s.y};throw new Error("unexpected dockingDirection: <"+d+">")}function uz(s){return s.reduce(function(l,d,f){return T0(l[l.length-1],s[f+1],d,0)||l.push(d),l},[])}var Zhe=-10,Jhe=40,L5={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},JP={top:"t",right:"r",bottom:"b",left:"l"};function $5(){}function epe(s,l){return Q(l,"bpmn:Participant")?"source":Q(s,"bpmn:Participant")?"target":dS(l)?"source":dS(s)||Q(l,"bpmn:Event")?"target":Q(s,"bpmn:Event")?"source":null}function tpe(s){return dS(s)?"target":"source"}function dz(s,l){return s?s.original||s:Xt(l)}function fz(s,l){return Q(l,"bpmn:Activity")&&Q(s,"bpmn:BoundaryEvent")&&l.businessObject.isForCompensation}function dS(s){return Q(s,"bpmn:SubProcess")&&Hn(s)}function fS(s,l){return s===l}function hS(s){var l=/right|left/.exec(s);return l&&l[0]}function Yv(s){var l=/top|bottom/.exec(s);return l&&l[0]}function j5(s){return s==="right"||s==="left"}function npe(s,l){var d=l.waypoints,f=d&&d.length&&rs(d[0],s);return f==="top"?["t:r"]:f==="right"?["r:b"]:f==="left"?["l:t"]:["b:l"]}function rpe(s,l,d){var f,p,g,b,x=Xt(s),E=Xt(l),k=(b=(g=s).host,rs(Xt(g),b,Zhe)),P=fS(s.host,l),C=["top","right","bottom","left"].indexOf(k)!==-1,M=rs(E,x,{x:s.width/2+l.width/2,y:s.height/2+l.height/2});return P?function($,j,H,Y,q){var W,ee=j?$:Yv($),ie=JP[ee];return W=j?j5($)?hz("y",H,Y,q)?"h":"b":hz("x",H,Y,q)?"v":"l":"v",[ie+":"+W]}(k,C,s,l,d):(f=function($,j,H){return H?JP[$]:fS(Yv($),Yv(j))||function(Y,q){return L5[Y]===q}(hS($),hS(j))?JP[Yv($)]:JP[hS($)]}(k,M,C),p=function($,j,H){return H?j5($)?function(Y,q){var W=hS(Y),ee=L5[W];return q.indexOf(ee)!==-1}($,j)||fS($,j)?"h":"v":function(Y,q){var W=Yv(Y),ee=L5[W];return q.indexOf(ee)!==-1}($,j)||fS($,j)?"v":"h":j5(j)||fS(Yv($),Yv(j))&&hS(j)?"h":"v"}(k,M,C),[f+":"+p])}function hz(s,l,d,f){var p=Jhe;return!(B5(s,f,d,p)||B5(s,f,{x:d.x+d.width,y:d.y+d.height},p)||B5(s,f,Xt(l),p))}function B5(s,l,d,f){return Math.abs(l[s]-d[s])<f}function pz(s){return le({original:s.point.original||s.point},s.actual)}function im(s,l){this._elementRegistry=s,this._graphicsFactory=l}t($5,rz),$5.prototype.layoutConnection=function(s,l){l||(l={});var d,f,p=l.source||s.source,g=l.target||s.target,b=l.waypoints||s.waypoints,x=l.connectionStart,E=l.connectionEnd;return x||(x=dz(b&&b[0],p)),E||(E=dz(b&&b[b.length-1],g)),(Q(s,"bpmn:Association")||Q(s,"bpmn:DataAssociation"))&&b&&!fz(p,g)?[].concat([x],b.slice(1,-1),[E]):(Q(s,"bpmn:MessageFlow")?d=function(k,P){return{preferredLayouts:["straight","v:v"],preserveDocking:epe(k,P)}}(p,g):(Q(s,"bpmn:SequenceFlow")||fz(p,g))&&(d=p===g?{preferredLayouts:npe(p,s)}:Q(p,"bpmn:BoundaryEvent")?{preferredLayouts:rpe(p,g,E)}:dS(p)||dS(g)?function(k){return{preferredLayouts:["straight","h:h"],preserveDocking:tpe(k)}}(p):Q(p,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:Q(g,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),d&&(f=uz(Xhe(p,g,x,E,b,d=le(d,l)))),f||[x,E])},im.$inject=["elementRegistry","graphicsFactory"],im.prototype.getCroppedWaypoints=function(s,l,d){l=l||s.source,d=d||s.target;var f=this.getDockingPoint(s,l,!0),p=this.getDockingPoint(s,d),g=s.waypoints.slice(f.idx+1,p.idx);return g.unshift(pz(f)),g.push(pz(p)),g},im.prototype.getDockingPoint=function(s,l,d){var f,p,g=s.waypoints;return{point:p=g[f=d?0:g.length-1],actual:this._getIntersection(l,s,d)||p,idx:f}},im.prototype._getIntersection=function(s,l,d){return M0(this._getShapePath(s),this._getConnectionPath(l),d)},im.prototype._getConnectionPath=function(s){return this._graphicsFactory.getConnectionPath(s)},im.prototype._getShapePath=function(s){return this._graphicsFactory.getShapePath(s)},im.prototype._getGfx=function(s){return this._elementRegistry.getGraphics(s)};var mz={__init__:["modeling","bpmnUpdater"],__depends__:[m5,UE,GE,y5,K,jhe,Bhe,Vhe,$c,rb,FV],bpmnFactory:["type",Xc],bpmnUpdater:["type",pl],elementFactory:["type",em],modeling:["type",Us],layouter:["type",$5],connectionDocking:["type",im]};const gz=Math.round;function eA(s,l,d,f,p,g){this._complexPreview=s,this._connectionDocking=l,this._elementFactory=d,this._eventBus=f,this._layouter=p,this._rules=g}eA.prototype.create=function(s,l,d){const f=this._complexPreview,p=this._connectionDocking,g=this._elementFactory,b=this._eventBus,x=this._layouter,E=this._rules,k=g.createShape(le({type:l},d)),P=b.fire("autoPlace",{source:s,shape:k});if(!P)return;le(k,{x:P.x-gz(k.width/2),y:P.y-gz(k.height/2)});const C=E.allowed("connection.create",{source:s,target:k,hints:{targetParent:s.parent}});let M=null;C&&(M=g.createConnection(C),M.waypoints=x.layoutConnection(M,{source:s,target:k}),M.waypoints=p.getCroppedWaypoints(M,s,k)),f.create({created:[k,M].filter($=>!m($))})},eA.prototype.cleanUp=function(){this._complexPreview.cleanUp()},eA.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];var ipe={__depends__:[Pb,Z3,mz],__init__:["appendPreview"],appendPreview:["type",eA]},vz=Math.min,yz=Math.max;function V5(s){s.preventDefault()}function pS(s){s.stopPropagation()}function Ku(s){this.container=s.container,this.parent=Ln('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Pn("[contenteditable]",this.parent),this.keyHandler=s.keyHandler||function(){},this.resizeHandler=s.resizeHandler||function(){},this.autoResize=Ue(this.autoResize,this),this.handlePaste=Ue(this.handlePaste,this)}function Zc(s,l){this._eventBus=s,this._providers=[],this._textbox=new Ku({container:l.getContainer(),keyHandler:Ue(this._handleKey,this),resizeHandler:Ue(this._handleResize,this)})}Ku.prototype.create=function(s,l,d,f){var p=this.parent,g=this.content,b=this.container;f=this.options=f||{};var x=Ze(l=this.style=l||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);le(p.style,{width:s.width+"px",height:s.height+"px",maxWidth:s.maxWidth+"px",maxHeight:s.maxHeight+"px",minWidth:s.minWidth+"px",minHeight:s.minHeight+"px",left:s.x+"px",top:s.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},x);var E=Ze(l,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return le(g.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},E),f.centerVertically&&le(g.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},E),g.innerText=d,_t.bind(g,"keydown",this.keyHandler),_t.bind(g,"mousedown",pS),_t.bind(g,"paste",this.handlePaste),f.autoResize&&_t.bind(g,"input",this.autoResize),f.resizable&&this.resizable(l),b.appendChild(p),this.setSelection(g.lastChild,g.lastChild&&g.lastChild.length),p},Ku.prototype.handlePaste=function(s){var l,d=this.options,f=this.style;if(s.preventDefault(),l=s.clipboardData?s.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(l),d.autoResize){var p=this.autoResize(f);p&&this.resizeHandler(p)}},Ku.prototype.insertText=function(s){s=s.replace(/\r\n|\r|\n/g,`
`),document.execCommand("insertText",!1,s)||this._insertTextIE(s)},Ku.prototype._insertTextIE=function(s){var l,d,f,p=this.getSelection(),g=p.startContainer,b=p.endContainer,x=p.startOffset,E=p.endOffset,k=p.commonAncestorContainer,P=(l=k.childNodes,[].slice.call(l));if(function(H){return H.nodeType===Node.TEXT_NODE}(k)){var C=g.textContent;g.textContent=C.substring(0,x)+s+C.substring(E),d=g,f=x+s.length}else if(g===this.content&&b===this.content){var M=document.createTextNode(s);this.content.insertBefore(M,P[x]),d=M,f=M.textContent.length}else{var $=P.indexOf(g),j=P.indexOf(b);P.forEach(function(H,Y){Y===$?H.textContent=g.textContent.substring(0,x)+s+b.textContent.substring(E):Y>$&&Y<=j&&Ur(H)}),d=g,f=x+s.length}d&&f!==void 0&&setTimeout(function(){self.setSelection(d,f)})},Ku.prototype.autoResize=function(){var s=this.parent,l=this.content,d=parseInt(this.style.fontSize)||12;if(l.scrollHeight>s.offsetHeight||l.scrollHeight<s.offsetHeight-d){var f=s.getBoundingClientRect(),p=l.scrollHeight;s.style.height=p+"px",this.resizeHandler({width:f.width,height:f.height,dx:0,dy:p-f.height})}},Ku.prototype.resizable=function(){var s=this,l=this.parent,d=this.resizeHandle,f=parseInt(this.style.minWidth)||0,p=parseInt(this.style.minHeight)||0,g=parseInt(this.style.maxWidth)||1/0,b=parseInt(this.style.maxHeight)||1/0;if(!d){var x,E,k,P;d=this.resizeHandle=Ln('<div class="djs-direct-editing-resize-handle"></div>');var C=function($){V5($),pS($);var j=vz(yz(k+$.clientX-x,f),g),H=vz(yz(P+$.clientY-E,p),b);l.style.width=j+"px",l.style.height=H+"px",s.resizeHandler({width:k,height:P,dx:$.clientX-x,dy:$.clientY-E})},M=function($){V5($),pS($),_t.unbind(document,"mousemove",C,!1),_t.unbind(document,"mouseup",M,!1)};_t.bind(d,"mousedown",function($){V5($),pS($),x=$.clientX,E=$.clientY;var j=l.getBoundingClientRect();k=j.width,P=j.height,_t.bind(document,"mousemove",C),_t.bind(document,"mouseup",M)})}le(d.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),l.appendChild(d)},Ku.prototype.destroy=function(){var s=this.parent,l=this.content,d=this.resizeHandle;l.innerText="",s.removeAttribute("style"),l.removeAttribute("style"),_t.unbind(l,"keydown",this.keyHandler),_t.unbind(l,"mousedown",pS),_t.unbind(l,"input",this.autoResize),_t.unbind(l,"paste",this.handlePaste),d&&(d.removeAttribute("style"),Ur(d)),Ur(s)},Ku.prototype.getValue=function(){return this.content.innerText.trim()},Ku.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Ku.prototype.setSelection=function(s,l){var d=document.createRange();s===null?d.selectNodeContents(this.content):(d.setStart(s,l),d.setEnd(s,l));var f=window.getSelection();f.removeAllRanges(),f.addRange(d)},Zc.$inject=["eventBus","canvas"],Zc.prototype.registerProvider=function(s){this._providers.push(s)},Zc.prototype.isActive=function(s){return!(!this._active||s&&this._active.element!==s)},Zc.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Zc.prototype._fire=function(s,l){this._eventBus.fire("directEditing."+s,l||{active:this._active})},Zc.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Zc.prototype.complete=function(){var s=this._active;if(s){var l,d=s.context.bounds,f=this.$textbox.getBoundingClientRect(),p=this.getValue();p===s.context.text&&f.height===d.height&&f.width===d.width||(l=this._textbox.container.getBoundingClientRect(),s.provider.update(s.element,p,s.context.text,{x:f.left-l.left,y:f.top-l.top,width:f.width,height:f.height})),this._fire("complete"),this.close()}},Zc.prototype.getValue=function(){return this._textbox.getValue()},Zc.prototype._handleKey=function(s){s.stopPropagation();var l=s.keyCode||s.charCode;return l===27?(s.preventDefault(),this.cancel()):l!==13||s.shiftKey?void 0:(s.preventDefault(),this.complete())},Zc.prototype._handleResize=function(s){this._fire("resize",s)},Zc.prototype.activate=function(s){var l;this.isActive()&&this.cancel();var d=D(this._providers,function(f){return(l=f.activate(s))?f:null});return l&&(this.$textbox=this._textbox.create(l.bounds,l.style,l.text,l.options),this._active={element:s,context:l,provider:d},l.options&&l.options.resizable&&(this.resizable=!0),this._fire("activate")),!!l};var bz={__depends__:[Zd],__init__:["directEditing"],directEditing:["type",Zc]};function xz(s){return function(l){var d=l.target,f=dt(s),p=f.eventDefinitions&&f.eventDefinitions[0],g=f.$type===d.type,b=(p&&p.$type)===d.eventDefinitionType,x=!!d.triggeredByEvent==!!f.triggeredByEvent,E=d.isExpanded===void 0||d.isExpanded===Hn(s);return!(g&&b&&x&&E)}}var ope=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],spe=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],ape=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],lpe=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],cpe=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],upe=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],wz=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],dpe=wz,_z=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],fpe=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],hpe=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],ppe=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],mpe=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],gpe=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],vpe=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(s){var l="Empty pool/participant";return s.children&&s.children.length&&(l+=" (removes content)"),l},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],Ez={"start-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(0 995.64)">
      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>
    </g>
  </svg>`,"intermediate-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">
        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>
        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>
     </g>
  </svg>`};function Zl(s,l,d,f,p,g,b,x){this._bpmnFactory=s,this._popupMenu=l,this._modeling=d,this._moddle=f,this._bpmnReplace=p,this._rules=g,this._translate=b,this._moddleCopy=x,this._register()}Zl.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],Zl.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Zl.prototype.getPopupMenuEntries=function(s){var l=s.businessObject,d=this._rules,f=[];if(y(s)||!d.allowed("shape.replace",{element:s}))return{};var p=xz(s);return Q(l,"bpmn:DataObjectReference")?this._createEntries(s,fpe):Q(l,"bpmn:DataStoreReference")&&!Q(s.parent,"bpmn:Collaboration")?this._createEntries(s,hpe):Q(l,"bpmn:StartEvent")&&!Q(l.$parent,"bpmn:SubProcess")?(f=I(ope,p),this._createEntries(s,f)):Q(l,"bpmn:Participant")?(f=I(vpe,function(g){return Hn(s)!==g.target.isExpanded}),this._createEntries(s,f)):Q(l,"bpmn:StartEvent")&&ss(l.$parent)?(f=I(mpe,function(g){var b=g.target.isInterrupting!==!1,x=l.isInterrupting===b;return p(g)||!p(g)&&!x}),this._createEntries(s,f)):Q(l,"bpmn:StartEvent")&&!ss(l.$parent)&&Q(l.$parent,"bpmn:SubProcess")?(f=I(spe,p),this._createEntries(s,f)):Q(l,"bpmn:EndEvent")?(f=I(lpe,function(g){return!(g.target.eventDefinitionType=="bpmn:CancelEventDefinition"&&!Q(l.$parent,"bpmn:Transaction"))&&p(g)}),this._createEntries(s,f)):Q(l,"bpmn:BoundaryEvent")?(f=I(ppe,function(g){var b=g.target;if(b.eventDefinitionType=="bpmn:CancelEventDefinition"&&!Q(l.attachedToRef,"bpmn:Transaction"))return!1;var x=b.cancelActivity!==!1,E=l.cancelActivity==x;return p(g)||!p(g)&&!E}),this._createEntries(s,f)):Q(l,"bpmn:IntermediateCatchEvent")||Q(l,"bpmn:IntermediateThrowEvent")?(f=I(ape,p),this._createEntries(s,f)):Q(l,"bpmn:Gateway")?(f=I(cpe,p),this._createEntries(s,f)):Q(l,"bpmn:Transaction")?(f=I(wz,p),this._createEntries(s,f)):ss(l)&&Hn(s)?(f=I(dpe,p),this._createEntries(s,f)):Q(l,"bpmn:SubProcess")&&Hn(s)?(f=I(upe,p),this._createEntries(s,f)):Q(l,"bpmn:AdHocSubProcess")&&!Hn(s)?(f=I(_z,function(g){var b=g.target,x=b.type==="bpmn:SubProcess",E=b.isExpanded===!0;return xz(b)&&(!x||E)}),this._createEntries(s,f)):Q(l,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(s,gpe):Q(l,"bpmn:FlowNode")?(f=I(_z,p),Q(l,"bpmn:SubProcess")&&!Hn(s)&&(f=I(f,function(g){return g.label!=="Sub-process (collapsed)"})),this._createEntries(s,f)):{}},Zl.prototype.getPopupMenuHeaderEntries=function(s){var l={};return Q(s,"bpmn:Activity")&&!ss(s)&&(l={...l,...this._getLoopCharacteristicsHeaderEntries(s)}),Q(s,"bpmn:DataObjectReference")&&(l={...l,...this._getCollectionHeaderEntries(s)}),Q(s,"bpmn:Participant")&&(l={...l,...this._getParticipantMultiplicityHeaderEntries(s)}),!Q(s,"bpmn:SubProcess")||Q(s,"bpmn:Transaction")||ss(s)||(l={...l,...this._getAdHocHeaderEntries(s)}),rP(s)&&(l={...l,...this._getNonInterruptingHeaderEntries(s)}),l},Zl.prototype._createEntries=function(s,l){var d={},f=this;return R(l,function(p){d[p.actionName]=f._createEntry(p,s)}),d},Zl.prototype._createSequenceFlowEntries=function(s,l){var d=dt(s),f={},p=this._modeling,g=this._moddle,b=this;return R(l,function(x){switch(x.actionName){case"replace-with-default-flow":d.sourceRef.default!==d&&(Q(d.sourceRef,"bpmn:ExclusiveGateway")||Q(d.sourceRef,"bpmn:InclusiveGateway")||Q(d.sourceRef,"bpmn:ComplexGateway")||Q(d.sourceRef,"bpmn:Activity"))&&(f={...f,[x.actionName]:b._createEntry(x,s,function(){p.updateProperties(s.source,{default:d})})});break;case"replace-with-conditional-flow":!d.conditionExpression&&Q(d.sourceRef,"bpmn:Activity")&&(f={...f,[x.actionName]:b._createEntry(x,s,function(){var E=g.create("bpmn:FormalExpression",{body:""});p.updateProperties(s,{conditionExpression:E})})});break;default:Q(d.sourceRef,"bpmn:Activity")&&d.conditionExpression&&(f={...f,[x.actionName]:b._createEntry(x,s,function(){p.updateProperties(s,{conditionExpression:void 0})})}),(Q(d.sourceRef,"bpmn:ExclusiveGateway")||Q(d.sourceRef,"bpmn:InclusiveGateway")||Q(d.sourceRef,"bpmn:ComplexGateway")||Q(d.sourceRef,"bpmn:Activity"))&&d.sourceRef.default===d&&(f={...f,[x.actionName]:b._createEntry(x,s,function(){p.updateProperties(s.source,{default:void 0})})})}}),f},Zl.prototype._createEntry=function(s,l,d){var f=this._translate,p=this._bpmnReplace.replaceElement,g=s.label;return g&&typeof g=="function"&&(g=g(l)),d=d||function(){return p(l,s.target)},{label:f(g),className:s.className,action:d}},Zl.prototype._getLoopCharacteristicsHeaderEntries=function(s){var l=this,d=this._translate;function f(E,k){if(k.active)return void l._modeling.updateProperties(s,{loopCharacteristics:void 0});const P=s.businessObject.get("loopCharacteristics"),C=l._moddle.create(k.options.loopCharacteristics);P&&l._moddleCopy.copyElement(P,C),C.set("isSequential",k.options.isSequential),l._modeling.updateProperties(s,{loopCharacteristics:C})}var p,g,b,x=dt(s).loopCharacteristics;return x&&(p=x.isSequential,g=x.isSequential===void 0,b=x.isSequential!==void 0&&!x.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:d("Parallel multi-instance"),active:b,action:f,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:d("Sequential multi-instance"),active:p,action:f,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:d("Loop"),active:g,action:f,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},Zl.prototype._getCollectionHeaderEntries=function(s){var l=this,d=this._translate,f=s.businessObject.dataObjectRef;if(!f)return{};var p=f.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:d("Collection"),active:p,action:function(g,b){l._modeling.updateModdleProperties(s,f,{isCollection:!b.active})}}}},Zl.prototype._getParticipantMultiplicityHeaderEntries=function(s){var l=this,d=this._bpmnFactory,f=this._translate,p=s.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:f("Participant multiplicity"),active:!!p,action:function(g,b){var x;b.active||(x=d.create("bpmn:ParticipantMultiplicity")),l._modeling.updateProperties(s,{participantMultiplicity:x})}}}},Zl.prototype._getAdHocHeaderEntries=function(s){var l=this._translate,d=Q(dt(s),"bpmn:AdHocSubProcess"),f=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:l("Ad-hoc"),active:d,action:function(p,g){return f(s,d?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}},Zl.prototype._getNonInterruptingHeaderEntries=function(s){const l=this._translate,d=dt(s),f=this,p=Ub(s),g=Q(s,"bpmn:BoundaryEvent")?Ez["intermediate-event-non-interrupting"]:Ez["start-event-non-interrupting"],b=!d[p];return{"toggle-non-interrupting":{imageHtml:g,title:l("Toggle non-interrupting"),active:b,action:function(){f._modeling.updateProperties(s,{[p]:!!b})}}}};var ype={__depends__:[V_,K,Pb],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Zl]};function mS(s,l,d,f,p,g,b,x,E,k,P,C,M){s=s||{},f.registerProvider(this),this._contextPad=f,this._modeling=p,this._elementFactory=g,this._connect=b,this._create=x,this._popupMenu=E,this._canvas=k,this._rules=P,this._translate=C,this._eventBus=d,this._appendPreview=M,s.autoPlace!==!1&&(this._autoPlace=l.get("autoPlace",!1)),d.on("create.end",250,function($){var j=$.context.shape;if(Zi($)&&f.isOpen(j)){var H=f.getEntries(j);H.replace&&H.replace.action.click($,j)}})}function Sz(s,l,d){var f=s.$instanceOf(l),p=!1;return R(s.eventDefinitions||[],function(g){g.$type===d&&(p=!0)}),f&&p}mS.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"],mS.prototype.getMultiElementContextPadEntries=function(s){var l=this._modeling,d={};return this._isDeleteAllowed(s)&&le(d,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(f,p){l.removeElements(p.slice())}}}}),d},mS.prototype._isDeleteAllowed=function(s){var l=this._rules.allowed("elements.delete",{elements:s});return y(l)?Z(l,function(d){return f=d,l.indexOf(f)!==-1;var f}):l},mS.prototype.getContextPadEntries=function(s){var l=this._contextPad,d=this._modeling,f=this._elementFactory,p=this._connect,g=this._create,b=this._popupMenu,x=this._rules,E=this._autoPlace,k=this._translate,P=this._appendPreview,C={};if(s.type==="label")return C;var M=s.businessObject;function $(W,ee){p.start(W,ee)}function j(W,ee,ie,oe){function ke(Le,Qt){var ft=f.createShape(le({type:W},oe));g.start(Le,ft,{source:Qt}),P.cleanUp()}var Pe=E?function(Le,Qt){var ft=f.createShape(le({type:W},oe));E.append(Qt,ft),P.cleanUp()}:ke,Oe=E?function(Le,Qt){return P.create(Qt,W,oe),()=>{P.cleanUp()}}:null;return{group:"model",className:ee,title:ie,action:{dragstart:ke,click:Pe,hover:Oe}}}function H(W){return function(ee,ie){d.splitLane(ie,W),l.open(ie,!0)}}if(Dn(M,["bpmn:Lane","bpmn:Participant"])&&Hn(s)){var Y=Ws(s);le(C,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:k("Add lane above"),action:{click:function(W,ee){d.addLane(ee,"top")}}}}),Y.length<2&&(s.height>=120&&le(C,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:k("Divide into two lanes"),action:{click:H(2)}}}),s.height>=180&&le(C,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:k("Divide into three lanes"),action:{click:H(3)}}})),le(C,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:k("Add lane below"),action:{click:function(W,ee){d.addLane(ee,"bottom")}}}})}Q(M,"bpmn:FlowNode")&&(Q(M,"bpmn:EventBasedGateway")?le(C,{"append.receive-task":j("bpmn:ReceiveTask","bpmn-icon-receive-task",k("Append receive task")),"append.message-intermediate-event":j("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",k("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":j("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",k("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":j("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",k("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":j("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",k("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):Sz(M,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?le(C,{"append.compensation-activity":j("bpmn:Task","bpmn-icon-task",k("Append compensation activity"),{isForCompensation:!0})}):Q(M,"bpmn:EndEvent")||M.isForCompensation||Sz(M,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||ss(M)||le(C,{"append.end-event":j("bpmn:EndEvent","bpmn-icon-end-event-none",k("Append end event")),"append.gateway":j("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",k("Append gateway")),"append.append-task":j("bpmn:Task","bpmn-icon-task",k("Append task")),"append.intermediate-event":j("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",k("Append intermediate/boundary event"))})),b.isEmpty(s,"bpmn-replace")||le(C,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:k("Change type"),action:{click:function(W,ee){var ie=le(function(oe){var ke=l.getPad(oe).html.getBoundingClientRect();return{x:ke.left,y:ke.bottom+5}}(ee),{cursor:{x:W.x,y:W.y}});b.open(ee,"bpmn-replace",ie,{title:k("Change element"),width:300,search:!0})}}}}),Q(M,"bpmn:SequenceFlow")&&le(C,{"append.text-annotation":j("bpmn:TextAnnotation","bpmn-icon-text-annotation",k("Append text annotation"))}),Dn(M,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&le(C,{"append.text-annotation":j("bpmn:TextAnnotation","bpmn-icon-text-annotation",k("Append text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:k("Connect using "+(M.isForCompensation?"":"sequence/message flow or ")+"association"),action:{click:$,dragstart:$}}}),Q(M,"bpmn:TextAnnotation")&&le(C,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:k("Connect using association"),action:{click:$,dragstart:$}}}),Dn(M,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&le(C,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:k("Connect using data input association"),action:{click:$,dragstart:$}}}),Q(M,"bpmn:Group")&&le(C,{"append.text-annotation":j("bpmn:TextAnnotation","bpmn-icon-text-annotation",k("Append text annotation"))});var q=x.allowed("elements.delete",{elements:[s]});return y(q)&&(q=q[0]===s),q&&le(C,{delete:{group:"edit",className:"bpmn-icon-trash",title:k("Remove"),action:{click:function(W,ee){d.removeElements([ee])}}}}),C};var bpe={__depends__:[ipe,bz,D_,$c,Wp,r1,ype],__init__:["contextPadProvider"],contextPadProvider:["type",mS]},xpe={horizontal:["x","width"],vertical:["y","height"]};function _h(s,l){this._modeling=s,this._filters=[],this.registerFilter(function(d){var f=l.allowed("elements.distribute",{elements:d});return y(f)?f:f?d:[]})}_h.$inject=["modeling","rules"],_h.prototype.registerFilter=function(s){if(typeof s!="function")throw new Error("the filter has to be a function");this._filters.push(s)},_h.prototype.trigger=function(s,l){var d,f,p=this._modeling;if(!(s.length<3||(this._setOrientation(l),f=this._filterElements(s),(d=this._createGroups(f)).length<=2)))return p.distributeElements(d,this._axis,this._dimension),d},_h.prototype._filterElements=function(s){var l=this._filters,d=this._axis,f=this._dimension,p=[].concat(s);return l.length?(R(l,function(g){p=g(p,d,f)}),p):s},_h.prototype._createGroups=function(s){var l=[],d=this,f=this._axis,p=this._dimension;if(!f)throw new Error('must have a defined "axis" and "dimension"');return R(Ce(s,f),function(g,b){var x,E=d._findRange(g,f,p),k=l[l.length-1];k&&d._hasIntersection(k.range,E)?l[l.length-1].elements.push(g):(x={range:E,elements:[g]},l.push(x))}),l},_h.prototype._setOrientation=function(s){var l=xpe[s];this._axis=l[0],this._dimension=l[1]},_h.prototype._hasIntersection=function(s,l){return Math.max(s.min,s.max)>=Math.min(l.min,l.max)&&Math.min(s.min,s.max)<=Math.max(l.min,l.max)},_h.prototype._findRange=function(s){var l=s[this._axis];return{min:l+5,max:l+s[this._dimension]-5}};var wpe={__init__:["distributeElements"],distributeElements:["type",_h]};function tA(s){cl.call(this,s)}tA.$inject=["eventBus"],t(tA,cl),tA.prototype.init=function(){this.addRule("elements.distribute",function(s){var l=s.elements;return!((l=Wg(l=I(l,function(d){var f=Dn(d,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(d.labelTarget||f)}))).length<3)&&l})};var kz={horizontal:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
              </svg>`,vertical:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
            </svg>`};function gS(s,l,d,f){this._distributeElements=l,this._translate=d,this._popupMenu=s,this._rules=f,s.registerProvider("align-elements",900,this)}gS.$inject=["popupMenu","distributeElements","translate","rules"],gS.prototype.getPopupMenuEntries=function(s){var l={};return this._isAllowed(s)&&le(l,this._getEntries(s)),l},gS.prototype._isAllowed=function(s){return this._rules.allowed("elements.distribute",{elements:s})},gS.prototype._getEntries=function(s){var l=this._distributeElements,d=this._translate,f=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:d("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:kz.horizontal,action:function(p,g){l.trigger(s,"horizontal"),f.close()}},"distribute-elements-vertical":{group:"distribute",title:d("Distribute elements vertically"),imageHtml:kz.vertical,action:function(p,g){l.trigger(s,"vertical"),f.close()}}}};var _pe={__depends__:[V_,wpe],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",tA],distributeElementsMenuProvider:["type",gS]},Cz="is not a registered action";function Jc(s,l){this._actions={};var d=this;s.on("diagram.init",function(){d._registerDefaultActions(l),s.fire("editorActions.init",{editorActions:d})})}function z5(s,l){return new Error(s+" "+l)}Jc.$inject=["eventBus","injector"],Jc.prototype._registerDefaultActions=function(s){var l=s.get("commandStack",!1),d=s.get("modeling",!1),f=s.get("selection",!1),p=s.get("zoomScroll",!1),g=s.get("copyPaste",!1),b=s.get("canvas",!1),x=s.get("rules",!1),E=s.get("keyboardMove",!1),k=s.get("keyboardMoveSelection",!1);l&&(this.register("undo",function(){l.undo()}),this.register("redo",function(){l.redo()})),g&&f&&this.register("copy",function(){var P=f.get();if(P.length)return g.copy(P)}),g&&this.register("paste",function(){g.paste()}),p&&this.register("stepZoom",function(P){p.stepZoom(P.value)}),b&&this.register("zoom",function(P){b.zoom(P.value)}),d&&f&&x&&this.register("removeSelection",function(){var P=f.get();if(P.length){var C,M=x.allowed("elements.delete",{elements:P});M!==!1&&(C=y(M)?M:P).length&&d.removeElements(C.slice())}}),E&&this.register("moveCanvas",function(P){E.moveCanvas(P)}),k&&this.register("moveSelection",function(P){k.moveSelection(P.direction,P.accelerated)})},Jc.prototype.trigger=function(s,l){if(!this._actions[s])throw z5(s,Cz);return this._actions[s](l)},Jc.prototype.register=function(s,l){var d=this;if(typeof s=="string")return this._registerAction(s,l);R(s,function(f,p){d._registerAction(p,f)})},Jc.prototype._registerAction=function(s,l){if(this.isRegistered(s))throw z5(s,"is already registered");this._actions[s]=l},Jc.prototype.unregister=function(s){if(!this.isRegistered(s))throw z5(s,Cz);this._actions[s]=void 0},Jc.prototype.getActions=function(){return Object.keys(this._actions)},Jc.prototype.isRegistered=function(s){return!!this._actions[s]};var Epe={__init__:["editorActions"],editorActions:["type",Jc]};function nA(s){s.invoke(Jc,this)}t(nA,Jc),nA.$inject=["injector"],nA.prototype._registerDefaultActions=function(s){Jc.prototype._registerDefaultActions.call(this,s);var l=s.get("canvas",!1),d=s.get("elementRegistry",!1),f=s.get("selection",!1),p=s.get("spaceTool",!1),g=s.get("lassoTool",!1),b=s.get("handTool",!1),x=s.get("globalConnect",!1),E=s.get("distributeElements",!1),k=s.get("alignElements",!1),P=s.get("directEditing",!1),C=s.get("searchPad",!1),M=s.get("modeling",!1),$=s.get("contextPad",!1);l&&d&&f&&this._registerAction("selectElements",function(){var j=l.getRootElement(),H=d.filter(function(Y){return Y!==j});return f.select(H),H}),p&&this._registerAction("spaceTool",function(){p.toggle()}),g&&this._registerAction("lassoTool",function(){g.toggle()}),b&&this._registerAction("handTool",function(){b.toggle()}),x&&this._registerAction("globalConnectTool",function(){x.toggle()}),f&&E&&this._registerAction("distributeElements",function(j){var H=f.get(),Y=j.type;H.length&&E.trigger(H,Y)}),f&&k&&this._registerAction("alignElements",function(j){var H=f.get(),Y=[],q=j.type;H.length&&(Y=I(H,function(W){return!Q(W,"bpmn:Lane")}),k.trigger(Y,q))}),f&&M&&this._registerAction("setColor",function(j){var H=f.get();H.length&&M.setColor(H,j)}),f&&P&&this._registerAction("directEditing",function(){var j=f.get();j.length&&P.activate(j[0])}),C&&this._registerAction("find",function(){C.toggle()}),l&&M&&this._registerAction("moveToOrigin",function(){var j,H,Y=l.getRootElement();j=Fi(H=Q(Y,"bpmn:Collaboration")?d.filter(function(q){return Q(q.parent,"bpmn:Collaboration")}):d.filter(function(q){return q!==Y&&!Q(q.parent,"bpmn:SubProcess")})),M.moveElements(H,{x:-j.x,y:-j.y},Y)}),f&&$&&this._registerAction("replaceElement",function(j){$.triggerEntry("replace","click",j)})};var Spe={__depends__:[Epe],editorActions:["type",nA]};function Oz(s){s.on(["create.init","shape.move.init"],function(l){var d=l.context;Dn(l.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(d.gridSnappingContext||(d.gridSnappingContext={}),d.gridSnappingContext.snapLocation="top-left")})}Oz.$inject=["eventBus"];function H5(s,l,d){return d||(d="round"),Math[d](s/l)*l}function om(s,l,d){var f=!d||d.active!==!1;this._eventBus=l;var p=this;l.on("diagram.init",800,function(){p.setActive(f)}),l.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(g){var b=g.originalEvent;if(!(!p.active||b&&Aa(b))){var x=g.context,E=x.gridSnappingContext;E||(E=x.gridSnappingContext={}),["x","y"].forEach(function(k){var P={},C=function($,j,H){var Y=$.context,q=$.shape,W=Y.gridSnappingContext,ee=W.snapLocation,ie=W.snapOffset;return ie&&S(ie[j])||(ie||(ie=W.snapOffset={}),S(ie[j])||(ie[j]=0),!q)||(H.get(q.id)||(rA(j)?ie[j]+=q[j]+q.width/2:ie[j]+=q[j]+q.height/2),!ee)||(j==="x"?/left/.test(ee)?ie[j]-=q.width/2:/right/.test(ee)&&(ie[j]+=q.width/2):/top/.test(ee)?ie[j]-=q.height/2:/bottom/.test(ee)&&(ie[j]+=q.height/2)),ie[j]}(g,k,s);C&&(P.offset=C);var M=function($,j){var H=$.context,Y=H.createConstraints,q=H.resizeConstraints||{},W=H.gridSnappingContext,ee=W.snapConstraints;if(ee&&ee[j])return ee[j];ee||(ee=W.snapConstraints={}),ee[j]||(ee[j]={});var ie=H.direction;Y&&(rA(j)?(ee.x.min=Y.left,ee.x.max=Y.right):(ee.y.min=Y.top,ee.y.max=Y.bottom));var oe=q.min,ke=q.max;return oe&&(rA(j)?Pz(ie)?ee.x.max=oe.left:ee.x.min=oe.right:Tz(ie)?ee.y.max=oe.top:ee.y.min=oe.bottom),ke&&(rA(j)?Pz(ie)?ee.x.min=ke.left:ee.x.max=ke.right:Tz(ie)?ee.y.min=ke.top:ee.y.max=ke.bottom),ee[j]}(g,k);M&&le(P,M),qu(g,k)||p.snapEvent(g,k,P)})}})}function rA(s){return s==="x"}function Tz(s){return s.indexOf("n")!==-1}function Pz(s){return s.indexOf("w")!==-1}function Qv(s,l){lt.call(this,s),this._gridSnapping=l;var d=this;this.preExecute("shape.resize",function(f){var p=f.context,g=(p.hints||{}).autoResize;if(g){var b=p.shape,x=p.newBounds;O(g)?p.newBounds=d.snapComplex(x,g):p.newBounds=d.snapSimple(b,x)}})}om.prototype.snapEvent=function(s,l,d){Ji(s,l,this.snapValue(s[l],d))},om.prototype.getGridSpacing=function(){return 10},om.prototype.snapValue=function(s,l){var d,f,p=0;return l&&l.offset&&(p=l.offset),s=H5(s+=p,10),l&&l.min&&S(d=l.min)&&(d=H5(d+p,10,"ceil"),s=Math.max(s,d)),l&&l.max&&S(f=l.max)&&(f=H5(f+p,10,"floor"),s=Math.min(s,f)),s-=p},om.prototype.isActive=function(){return this.active},om.prototype.setActive=function(s){this.active=s,this._eventBus.fire("gridSnapping.toggle",{active:s})},om.prototype.toggleActive=function(){this.setActive(!this.active)},om.$inject=["elementRegistry","eventBus","config.gridSnapping"],Qv.$inject=["eventBus","gridSnapping","modeling"],t(Qv,lt),Qv.prototype.snapSimple=function(s,l){var d=this._gridSnapping;return l.width=d.snapValue(l.width,{min:l.width}),l.height=d.snapValue(l.height,{min:l.height}),l.x=s.x+s.width/2-l.width/2,l.y=s.y+s.height/2-l.height/2,l},Qv.prototype.snapComplex=function(s,l){return/w|e/.test(l)&&(s=this.snapHorizontally(s,l)),/n|s/.test(l)&&(s=this.snapVertically(s,l)),s},Qv.prototype.snapHorizontally=function(s,l){var d=this._gridSnapping,f=/w/.test(l),p=/e/.test(l),g={};return g.width=d.snapValue(s.width,{min:s.width}),p&&(f?(g.x=d.snapValue(s.x,{max:s.x}),g.width+=d.snapValue(s.x-g.x,{min:s.x-g.x})):s.x=s.x+s.width-g.width),le(s,g),s},Qv.prototype.snapVertically=function(s,l){var d=this._gridSnapping,f=/n/.test(l),p=/s/.test(l),g={};return g.height=d.snapValue(s.height,{min:s.height}),f&&(p?(g.y=d.snapValue(s.y,{max:s.y}),g.height+=d.snapValue(s.y-g.y,{min:s.y-g.y})):s.y=s.y+s.height-g.height),le(s,g),s};function Az(s,l){s.on(["spaceTool.move","spaceTool.end"],2e3,function(d){var f,p=d.context;p.initialized&&(p.axis==="x"?(f=l.snapValue(d.dx),d.x=d.x+f-d.dx,d.dx=f):(f=l.snapValue(d.dy),d.y=d.y+f-d.dy,d.dy=f))})}Az.$inject=["eventBus","gridSnapping"];var kpe={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",Qv],gridSnappingSpaceToolBehavior:["type",Az]}],__init__:["gridSnapping"],gridSnapping:["type",om]};function Rz(s,l){s.on("autoPlace",2e3,function(d){var f=d.source,p=Xt(f),g=d.shape,b=cT(f,g);return["x","y"].forEach(function(x){var E={};b[x]!==p[x]&&(b[x]>p[x]?E.min=b[x]:E.max=b[x],Q(g,"bpmn:TextAnnotation")&&(function(k){return k==="x"}(x)?E.offset=-g.width/2:E.offset=-g.height/2),b[x]=l.snapValue(b[x],E))}),b})}Rz.$inject=["eventBus","gridSnapping"];function Mz(s,l,d){l.on(["create.start","shape.move.start"],1750,function(f){var p=f.context,g=p.shape,b=s.getRootElement();Q(g,"bpmn:Participant")&&Q(b,"bpmn:Process")&&b.children.length&&p.createConstraints&&(g.width=d.snapValue(g.width,{min:g.width}),g.height=d.snapValue(g.height,{min:g.height}))})}Mz.$inject=["canvas","eventBus","gridSnapping"];function iA(s,l,d){lt.call(this,s),this._gridSnapping=l;var f=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(p){var g=p.context,b=g.connection,x=g.hints||{},E=b.waypoints;x.connectionStart||x.connectionEnd||x.createElementsBehavior===!1||function(k){return k.length>3}(E)&&d.updateWaypoints(b,f.snapMiddleSegments(E))})}function Cpe(s,l,d){var f=Mu(l,d),p={};return function(g){return g==="h"}(f)&&(p.y=s.snapValue(l.y)),function(g){return g==="v"}(f)&&(p.x=s.snapValue(l.x)),("x"in p||"y"in p)&&(l=le({},l,p),d=le({},d,p)),[l,d]}iA.$inject=["eventBus","gridSnapping","modeling"],t(iA,lt),iA.prototype.snapMiddleSegments=function(s){var l,d=this._gridSnapping;s=s.slice();for(var f=1;f<s.length-2;f++)l=Cpe(d,s[f],s[f+1]),s[f]=l[0],s[f+1]=l[1];return s};var Ope={__depends__:[kpe,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",Rz],gridSnappingParticipantBehavior:["type",Mz],gridSnappingLayoutConnectionBehavior:["type",iA]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",Oz]};function vS(s,l){this._interactionEvents=l;var d=this;s.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(f){var p=f.element,g=f.gfx;return Q(p,"bpmn:Lane")?d._createParticipantHit(p,g):Q(p,"bpmn:Participant")?Hn(p)?d._createParticipantHit(p,g):d._createDefaultHit(p,g):Q(p,"bpmn:SubProcess")?Hn(p)?d._createSubProcessHit(p,g):d._createDefaultHit(p,g):void 0})}vS.$inject=["eventBus","interactionEvents"],vS.prototype._createDefaultHit=function(s,l){return this._interactionEvents.removeHits(l),this._interactionEvents.createDefaultHit(s,l),!0},vS.prototype._createParticipantHit=function(s,l){return this._interactionEvents.removeHits(l),this._interactionEvents.createBoxHit(l,"no-move",{width:s.width,height:s.height}),this._interactionEvents.createBoxHit(l,"click-stroke",{width:s.width,height:s.height}),this._interactionEvents.createBoxHit(l,"all",{width:30,height:s.height}),!0},vS.prototype._createSubProcessHit=function(s,l){return this._interactionEvents.removeHits(l),this._interactionEvents.createBoxHit(l,"no-move",{width:s.width,height:s.height}),this._interactionEvents.createBoxHit(l,"click-stroke",{width:s.width,height:s.height}),this._interactionEvents.createBoxHit(l,"all",{width:s.width,height:30}),!0};var Tpe={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",vS]};function oA(s){s.invoke(Qo,this)}t(oA,Qo),oA.$inject=["injector"],oA.prototype.registerBindings=function(s,l){function d(f,p){l.isRegistered(f)&&s.addListener(p)}Qo.prototype.registerBindings.call(this,s,l),d("selectElements",function(f){var p=f.keyEvent;if(s.isKey(["a","A"],p)&&s.isCmd(p))return l.trigger("selectElements"),!0}),d("find",function(f){var p=f.keyEvent;if(s.isKey(["f","F"],p)&&s.isCmd(p))return l.trigger("find"),!0}),d("spaceTool",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["s","S"],p)?(l.trigger("spaceTool"),!0):void 0}),d("lassoTool",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["l","L"],p)?(l.trigger("lassoTool"),!0):void 0}),d("handTool",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["h","H"],p)?(l.trigger("handTool"),!0):void 0}),d("globalConnectTool",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["c","C"],p)?(l.trigger("globalConnectTool"),!0):void 0}),d("directEditing",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["e","E"],p)?(l.trigger("directEditing"),!0):void 0}),d("replaceElement",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["r","R"],p)?(l.trigger("replaceElement",p),!0):void 0})};var Ppe={__depends__:[zc],__init__:["keyboardBindings"],keyboardBindings:["type",oA]},Ape={moveSpeed:1,moveSpeedAccelerated:10},Dz="left",Nz="right",Iz="down",Rpe={ArrowLeft:Dz,Left:Dz,ArrowUp:"up",Up:"up",ArrowRight:Nz,Right:Nz,ArrowDown:Iz,Down:Iz},Mpe={left:function(s){return{x:-s,y:0}},up:function(s){return{x:0,y:-s}},right:function(s){return{x:s,y:0}},down:function(s){return{x:0,y:s}}};function Fz(s,l,d,f,p){var g=this;this._config=le({},Ape,s||{}),l.addListener(1500,function(b){var x=b.keyEvent,E=Rpe[x.key];if(E&&!l.isCmd(x)){var k=l.isShift(x);return g.moveSelection(E,k),!0}}),this.moveSelection=function(b,x){var E=p.get();if(E.length){var k=this._config[x?"moveSpeedAccelerated":"moveSpeed"],P=Mpe[b](k);f.allowed("elements.move",{shapes:E})&&d.moveElements(E,P)}}}Fz.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var Dpe={__depends__:[zc,$c],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",Fz]};function yS(s,l,d,f){this._dragging=f,this._rules=l;var p=this;function g(b,x){var E,k=b.shape,P=b.direction,C=b.resizeConstraints;b.delta=x,E=function(M,$,j){var H=j.x,Y=j.y,q={x:M.x,y:M.y,width:M.width,height:M.height};return $.indexOf("n")!==-1?(q.y=M.y+Y,q.height=M.height-Y):$.indexOf("s")!==-1&&(q.height=M.height+Y),$.indexOf("e")!==-1?q.width=M.width+H:$.indexOf("w")!==-1&&(q.x=M.x+H,q.width=M.width-H),q}(k,P,x),b.newBounds=function(M,$){if(!$)return M;var j=nn(M);return Cs({top:Kl("top",j,$),right:Kl("right",j,$),bottom:Kl("bottom",j,$),left:Kl("left",j,$)})}(E,C),b.canExecute=p.canResize(b)}s.on("resize.start",function(b){var x,E,k;x=b.context,E=x.resizeConstraints,k=x.minBounds,E===void 0&&(k===void 0&&(k=p.computeMinResizeBox(x)),x.resizeConstraints={min:nn(k)})}),s.on("resize.move",function(b){var x={x:b.dx,y:b.dy};g(b.context,x)}),s.on("resize.end",function(b){(function(x){var E=x.shape,k=x.canExecute,P=x.newBounds;if(k){if(!function(C,M){return C.x!==M.x||C.y!==M.y||C.width!==M.width||C.height!==M.height}(E,P=t_(P)))return;d.resizeShape(E,P)}})(b.context)})}function Lz(s,l){var d=Xt(s),f=nn(s),p={x:d.x,y:d.y};return l.indexOf("n")!==-1?p.y=f.top:l.indexOf("s")!==-1&&(p.y=f.bottom),l.indexOf("e")!==-1?p.x=f.right:l.indexOf("w")!==-1&&(p.x=f.left),p}function Npe(s){var l="resize-";return s==="n"||s==="s"?l+"ns":s==="e"||s==="w"?l+"ew":s==="nw"||s==="se"?l+"nwse":l+"nesw"}yS.prototype.canResize=function(s){var l=this._rules,d=Ze(s,["newBounds","shape","delta","direction"]);return l.allowed("shape.resize",d)},yS.prototype.activate=function(s,l,d){var f,p,g=this._dragging;if(typeof d=="string"&&(d={direction:d}),!(p=(f=le({shape:l},d)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");g.init(s,Lz(l,p),"resize",{autoActivate:!0,cursor:Npe(p),data:{shape:l,context:f}})},yS.prototype.computeMinResizeBox=function(s){var l=s.shape;return function(d,f,p,g){var b=nn(f),x={top:/n/.test(d)?b.bottom-p.height:b.top,left:/w/.test(d)?b.right-p.width:b.left,bottom:/s/.test(d)?b.top+p.height:b.bottom,right:/e/.test(d)?b.left+p.width:b.right},E=g?nn(g):x;return Cs({top:cs(x.top,E.top),left:cs(x.left,E.left),bottom:$b(x.bottom,E.bottom),right:$b(x.right,E.right)})}(s.direction,l,s.minDimensions||{width:10,height:10},YT(l,s.childrenBoxPadding))},yS.$inject=["eventBus","rules","modeling","dragging"];var $z="djs-resizing",jz="resize-not-ok";function Bz(s,l,d){s.on("resize.move",500,function(f){var p,g,b,x;p=f.context,g=p.shape,b=p.newBounds,(x=p.frame)||(x=p.frame=d.addFrame(g,l.getActiveLayer()),l.addMarker(g,$z)),b.width>5&&ut(x,{x:b.x,width:b.width}),b.height>5&&ut(x,{y:b.y,height:b.height}),p.canExecute?ne(x).remove(jz):ne(x).add(jz)}),s.on("resize.cleanup",function(f){var p,g;p=f.context,g=p.shape,p.frame&&Ee(p.frame),l.removeMarker(g,$z)})}Bz.$inject=["eventBus","canvas","previewSupport"];var Vz=-6,bS="djs-resizer",Ipe=["n","w","s","e","nw","ne","se","sw"];function sm(s,l,d,f){this._resize=f,this._canvas=l;var p=this;s.on("selection.changed",function(g){var b=g.newSelection;p.removeResizers(),b.length===1&&R(b,Ue(p.addResizer,p))}),s.on("shape.changed",function(g){var b=g.element;d.isSelected(b)&&(p.removeResizers(),p.addResizer(b))})}sm.prototype.makeDraggable=function(s,l,d){var f=this._resize;function p(g){ju(g)&&f.activate(g,s,d)}_t.bind(l,"mousedown",p),_t.bind(l,"touchstart",p)},sm.prototype._createResizer=function(s,l,d,f){var p=this._getResizersParent(),g=function(k){var P={x:0,y:0};return k.indexOf("e")!==-1?P.x=6:k.indexOf("w")!==-1&&(P.x=Vz),k.indexOf("s")!==-1?P.y=6:k.indexOf("n")!==-1&&(P.y=Vz),P}(f),b=ot("g");ne(b).add(bS),ne(b).add(bS+"-"+s.id),ne(b).add(bS+"-"+f),ct(p,b);var x=ot("rect");ut(x,{x:-4+g.x,y:-4+g.y,width:8,height:8}),ne(x).add(bS+"-visual"),ct(b,x);var E=ot("rect");return ut(E,{x:-10+g.x,y:-10+g.y,width:20,height:20}),ne(E).add(bS+"-hit"),ct(b,E),Yd(b,l,d),b},sm.prototype.createResizer=function(s,l){var d=Lz(s,l),f=this._createResizer(s,d.x,d.y,l);this.makeDraggable(s,f,l)},sm.prototype.addResizer=function(s){var l=this;!Dr(s)&&this._resize.canResize({shape:s})&&R(Ipe,function(d){l.createResizer(s,d)})},sm.prototype.removeResizers=function(){qe(this._getResizersParent())},sm.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},sm.$inject=["eventBus","canvas","selection","resize"];var zz={__depends__:[Gc,Wu,gh],__init__:["resize","resizePreview","resizeHandles"],resize:["type",yS],resizePreview:["type",Bz],resizeHandles:["type",sm]};function xS(s,l,d,f,p,g,b){function x(E,k){(k||Dn(E,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||W5(E))&&f.activate(E)}this._bpmnFactory=l,this._canvas=d,this._modeling=p,this._textRenderer=b,f.registerProvider(this),s.on("element.dblclick",function(E){x(E.element,!0)}),s.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){f.isActive()&&f.complete()}),s.on(["shape.remove","connection.remove"],2e3,function(E){f.isActive(E.element)&&f.cancel()}),s.on(["commandStack.changed"],function(E){f.isActive()&&f.cancel()}),s.on("directEditing.activate",function(E){g.removeResizers()}),s.on("create.end",500,function(E){var k=E.context,P=k.shape,C=E.context.canExecute;E.isTouch||C&&(k.hints&&k.hints.createElementsBehavior===!1||x(P))}),s.on("autoPlace.end",500,function(E){x(E.shape)})}function W5(s){return Q(s,"bpmn:SubProcess")&&!Hn(s)}xS.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],xS.prototype.activate=function(s){var l=mo(s);if(l!==void 0){var d={text:l};le(d,this.getEditingBBox(s));var f={};return(Dn(s,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||W5(s))&&le(f,{centerVertically:!0}),ih(s)&&le(f,{autoResize:!0}),Q(s,"bpmn:TextAnnotation")&&le(f,{resizable:!0,autoResize:!0}),le(d,{options:f}),d}},xS.prototype.getEditingBBox=function(s){var l=this._canvas,d=s.label||s,f=l.getAbsoluteBBox(d),p=f.x+f.width/2,g=f.y+f.height/2,b={x:f.x,y:f.y},x=l.zoom(),E=this._textRenderer.getDefaultStyle(),k=this._textRenderer.getExternalStyle(),P=k.fontSize*x,C=k.lineHeight,M=E.fontSize*x,$=E.lineHeight,j={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(Q(s,"bpmn:Lane")||function(Pe){return Q(Pe,"bpmn:Participant")&&Hn(Pe)}(s)){var H=Y0(s);le(b,H?{width:f.height,height:30*x,x:f.x-f.height/2+15*x,y:g-30*x/2}:{width:f.width,height:30*x}),le(j,{fontSize:M+"px",lineHeight:$,paddingTop:7*x+"px",paddingBottom:7*x+"px",paddingLeft:5*x+"px",paddingRight:5*x+"px",transform:H?"rotate(-90deg)":null})}if(function(Pe){return Q(Pe,"bpmn:Participant")&&!Hn(Pe)}(s)){var Y=Y0(s);le(b,Y?{width:f.width,height:f.height}:{width:f.height,height:f.width,x:p-f.height/2,y:g-f.width/2}),le(j,{fontSize:M+"px",lineHeight:$,paddingTop:7*x+"px",paddingBottom:7*x+"px",paddingLeft:5*x+"px",paddingRight:5*x+"px",transform:Y?null:"rotate(-90deg)"})}(Dn(s,["bpmn:Task","bpmn:CallActivity"])||W5(s))&&(le(b,{width:f.width,height:f.height}),le(j,{fontSize:M+"px",lineHeight:$,paddingTop:7*x+"px",paddingBottom:7*x+"px",paddingLeft:5*x+"px",paddingRight:5*x+"px"})),function(Pe){return Q(Pe,"bpmn:SubProcess")&&Hn(Pe)}(s)&&(le(b,{width:f.width,x:f.x}),le(j,{fontSize:M+"px",lineHeight:$,paddingTop:7*x+"px",paddingBottom:7*x+"px",paddingLeft:5*x+"px",paddingRight:5*x+"px"}));var q=90*x,W=7*x,ee=4*x;if(d.labelTarget&&(le(b,{width:q,height:f.height+W+ee,x:p-q/2,y:f.y-W}),le(j,{fontSize:P+"px",lineHeight:C,paddingTop:W+"px",paddingBottom:ee+"px"})),ih(d)&&!Q0(d)&&!Zn(d)){var ie=c_(s),oe=l.getAbsoluteBBox({x:ie.x,y:ie.y,width:0,height:0}),ke=P+W+ee;le(b,{width:q,height:ke,x:oe.x-q/2,y:oe.y-ke/2}),le(j,{fontSize:P+"px",lineHeight:C,paddingTop:W+"px",paddingBottom:ee+"px"})}return Q(s,"bpmn:TextAnnotation")&&(le(b,{width:f.width,height:f.height,minWidth:30*x,minHeight:10*x}),le(j,{textAlign:"left",paddingTop:5*x+"px",paddingBottom:7*x+"px",paddingLeft:7*x+"px",paddingRight:5*x+"px",fontSize:M+"px",lineHeight:$})),{bounds:b,style:j}},xS.prototype.update=function(s,l,d,f){var p,g,b;Q(s,"bpmn:TextAnnotation")&&(g=this._canvas.getAbsoluteBBox(s),p={x:s.x,y:s.y,width:s.width/g.width*f.width,height:s.height/g.height*f.height}),(b=l)&&b.trim()||(l=null),this._modeling.updateLabel(s,l,p)};var Hz="djs-element-hidden",Wz="djs-label-hidden";function qz(s,l,d){var f,p,g,b=this,x=l.getDefaultLayer();s.on("directEditing.activate",function(E){var k=E.active;if(Q(f=k.element.label||k.element,"bpmn:TextAnnotation")){p=l.getAbsoluteBBox(f),g=ot("g");var P=d.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:f.width,containerHeight:f.height,position:{mx:0,my:0}}),C=b.path=ot("path");ut(C,{d:P,strokeWidth:2,stroke:Fpe(f)}),ct(g,C),ct(x,g),Co(g,f.x,f.y)}Q(f,"bpmn:TextAnnotation")||f.labelTarget?l.addMarker(f,Hz):(Q(f,"bpmn:Task")||Q(f,"bpmn:CallActivity")||Q(f,"bpmn:SubProcess")||Q(f,"bpmn:Participant"))&&l.addMarker(f,Wz)}),s.on("directEditing.resize",function(E){if(Q(f,"bpmn:TextAnnotation")){var k=E.height,P=E.dy,C=Math.max(f.height/p.height*(k+P),0),M=d.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:f.width,containerHeight:C,position:{mx:0,my:0}});ut(b.path,{d:M})}}),s.on(["directEditing.complete","directEditing.cancel"],function(E){var k=E.active;k&&(l.removeMarker(k.element.label||k.element,Hz),l.removeMarker(f,Wz)),f=void 0,p=void 0,g&&(Ee(g),g=void 0)})}function Fpe(s,l){return fr(s).get("stroke")||l||"black"}qz.$inject=["eventBus","canvas","pathMap"];var Lpe={__depends__:[rb,zz,bz],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",xS],labelEditingPreview:["type",qz]},$pe=new ah("tt");function q5(s,l){s.style.display=l===!1?"none":""}var Uz="djs-tooltip",U5="."+Uz;function Ia(s,l){var d,f;this._eventBus=s,this._canvas=l,this._ids=$pe,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(d=l.getContainer(),jt(f=Ln('<div class="djs-tooltip-container" />'),{position:"absolute",width:"0",height:"0"}),d.insertBefore(f,d.firstChild),f);var p=this;Rr.bind(this._tooltipRoot,U5,"mousedown",function(g){g.stopPropagation()}),Rr.bind(this._tooltipRoot,U5,"mouseover",function(g){p.trigger("mouseover",g)}),Rr.bind(this._tooltipRoot,U5,"mouseout",function(g){p.trigger("mouseout",g)}),this._init()}Ia.$inject=["eventBus","canvas"],Ia.prototype.add=function(s){if(!s.position)throw new Error("must specifiy tooltip position");if(!s.html)throw new Error("must specifiy tooltip html");var l=this._ids.next();return s=le({},this._tooltipDefaults,s,{id:l}),this._addTooltip(s),s.timeout&&this.setTimeout(s),l},Ia.prototype.trigger=function(s,l){var d=l.delegateTarget||l.target,f=this.get(Ht(d,"data-tooltip-id"));f&&(s==="mouseover"&&f.timeout&&this.clearTimeout(f),s==="mouseout"&&f.timeout&&(f.timeout=1e3,this.setTimeout(f)))},Ia.prototype.get=function(s){return typeof s!="string"&&(s=s.id),this._tooltips[s]},Ia.prototype.clearTimeout=function(s){if(s=this.get(s)){var l=s.removeTimer;l&&(clearTimeout(l),s.removeTimer=null)}},Ia.prototype.setTimeout=function(s){if(s=this.get(s)){this.clearTimeout(s);var l=this;s.removeTimer=setTimeout(function(){l.remove(s)},s.timeout)}},Ia.prototype.remove=function(s){var l=this.get(s);l&&(Ur(l.html),Ur(l.htmlContainer),delete l.htmlContainer,delete this._tooltips[l.id])},Ia.prototype.show=function(){q5(this._tooltipRoot)},Ia.prototype.hide=function(){q5(this._tooltipRoot,!1)},Ia.prototype._updateRoot=function(s){var l=s.scale||1,d=s.scale||1,f="matrix("+l+",0,0,"+d+","+-1*s.x*l+","+-1*s.y*d+")";this._tooltipRoot.style.transform=f,this._tooltipRoot.style["-ms-transform"]=f},Ia.prototype._addTooltip=function(s){var l,d=s.id,f=s.html,p=this._tooltipRoot;f.get&&f.constructor.prototype.jquery&&(f=f.get(0)),O(f)&&(f=Ln(f)),jt(l=Ln('<div data-tooltip-id="'+d+'" class="'+Uz+'">'),{position:"absolute"}),l.appendChild(f),s.type&&kn(l).add("djs-tooltip-"+s.type),s.className&&kn(l).add(s.className),s.htmlContainer=l,p.appendChild(l),this._tooltips[d]=s,this._updateTooltip(s)},Ia.prototype._updateTooltip=function(s){var l=s.position;(function(d,f,p){jt(d,{left:f+"px",top:p+"px"})})(s.htmlContainer,l.x,l.y)},Ia.prototype._updateTooltipVisibilty=function(s){R(this._tooltips,function(l){var d=l.show,f=l.htmlContainer,p=!0;d&&((d.minZoom>s.scale||d.maxZoom<s.scale)&&(p=!1),q5(f,p))})},Ia.prototype._init=function(){var s=this;this._eventBus.on("canvas.viewbox.changing",function(l){s.hide()}),this._eventBus.on("canvas.viewbox.changed",function(l){var d;d=l.viewbox,s._updateRoot(d),s._updateTooltipVisibilty(d),s.show()})};var jpe={__init__:["tooltips"],tooltips:["type",Ia]};function Gz(s,l,d){s.on(["shape.move.rejected","create.rejected"],function(f){var p,g,b=f.context,x=b.shape;Q(b.target,"bpmn:Collaboration")&&Q(x,"bpmn:FlowNode")&&(p=f,g=d("flow elements must be children of pools/participants"),l.add({position:{x:p.x+5,y:p.y+5},type:"error",timeout:2e3,html:"<div>"+g+"</div>"}))})}Gz.$inject=["eventBus","tooltips","translate"];var Bpe={__depends__:[jpe],__init__:["modelingFeedback"],modelingFeedback:["type",Gz]},sA=Math.round;function Yz(s,l,d,f,p){function g(x,E,k,P){return p.allowed("elements.move",{shapes:x,delta:E,position:k,target:P})}function b(x,E,k,P){if(w(k)&&(P=k,k=!1),!E.waypoints&&E.parent&&!ne(x.target).has("djs-hit-no-move")){var C=function(M){return{x:M.x+sA(M.width/2),y:M.y+sA(M.height/2)}}(E);return l.init(x,C,"shape.move",{cursor:"grabbing",autoActivate:k,data:{shape:E,context:P||{}}}),!0}}s.on("shape.move.start",1500,function(x){var E=x.context,k=x.shape,P=f.get().slice();P.indexOf(k)===-1&&(P=[k]),P=function(C){var M=he(C,"id");return I(C,function($){for(;$=$.parent;)if(M[$.id])return!1;return!0})}(P),le(E,{shapes:P,validatedShapes:P,shape:k})}),s.on("shape.move.start",1250,function(x){var E=x.context,k=E.validatedShapes;if(!(E.canExecute=g(k)))return!1}),s.on("shape.move.move",500,function(x){var E,k=x.context,P=k.validatedShapes,C=x.hover,M={x:x.dx,y:x.dy};E=g(P,M,{x:x.x,y:x.y},C),k.delta=M,k.canExecute=E,k.target=E!==null?C:null}),s.on("shape.move.end",function(x){var E=x.context,k=E.delta,P=E.canExecute,C=P==="attach",M=E.shapes;if(P===!1)return!1;k.x=sA(k.x),k.y=sA(k.y),k.x===0&&k.y===0||d.moveElements(M,k,E.target,{primaryShape:E.shape,attach:C})}),s.on("element.mousedown",function(x){if(ju(x)){var E=Oa(x);if(!E)throw new Error("must supply DOM mousedown event");return b(E,x.element)}}),this.start=b}Yz.$inject=["eventBus","dragging","modeling","selection","rules"];var G5="djs-dragging",Qz="drop-ok",Kz="drop-not-ok",Xz="new-parent",Zz="attach-ok";function Jz(s,l,d,f){function p(x){var E=function(k){var P=I(k,function(C){return!Dr(C)||D(k,Ae({id:C.source.id}))&&D(k,Ae({id:C.target.id}))});return P}(g(x));return E}function g(x){var E=Hd(x,!0),k=ge(E,function(P){return(P.incoming||[]).concat(P.outgoing||[])});return o(E.concat(k))}function b(x,E){[Zz,Qz,Kz,Xz].forEach(function(k){k===E?l.addMarker(x,k):l.removeMarker(x,k)})}s.on("shape.move.start",499,function(x){var E,k=x.context,P=k.shapes,C=k.allDraggedElements,M=p(P);if(!k.dragGroup){var $=ot("g");ut($,d.cls("djs-drag-group",["no-events"])),ct(l.getActiveLayer(),$),k.dragGroup=$}M.forEach(function(j){f.addDragger(j,k.dragGroup)}),R(C=C?o([C,g(P)]):g(P),function(j){l.addMarker(j,G5)}),k.allDraggedElements=C,k.differentParents=(E=he(P,function(j){return j.parent&&j.parent.id}),_e(E).length!==1)}),s.on("shape.move.move",499,function(x){var E=x.context,k=E.dragGroup,P=E.target,C=E.shape.parent,M=E.canExecute;P&&(M==="attach"?b(P,Zz):E.canExecute&&P&&P.id!==C.id?b(P,Xz):b(P,E.canExecute?Qz:Kz)),Co(k,x.dx,x.dy)}),s.on(["shape.move.out","shape.move.cleanup"],function(x){var E=x.context.target;E&&b(E,null)}),s.on("shape.move.cleanup",function(x){var E=x.context,k=E.allDraggedElements,P=E.dragGroup;R(k,function(C){l.removeMarker(C,G5)}),P&&Ee(P)}),this.makeDraggable=function(x,E,k){f.addDragger(E,x.dragGroup),k&&l.addMarker(E,G5),x.allDraggedElements?x.allDraggedElements.push(E):x.allDraggedElements=[E]}}Jz.$inject=["eventBus","canvas","styles","previewSupport"];var Vpe={__depends__:[Zd,$c,J0,Gc,Wu,gh],__init__:["move","movePreview"],move:["type",Yz],movePreview:["type",Jz]};const zpe={width:36,height:50},Hpe={width:50,height:50};function eH(s,l,d){return ot("path",{d:s,strokeWidth:2,transform:`translate(${l.x}, ${l.y})`,...d})}function aA(s,l){this._styles=l,s.registerProvider(this)}function tH(s,l){var d;return l==="bpmn:DataObjectReference"?d=zpe:l==="bpmn:DataStoreReference"&&(d=Hpe),s.width===d.width&&s.height===d.height}aA.$inject=["outline","styles"],aA.prototype.getOutline=function(s){const l=this._styles.cls("djs-outline",["no-fill"]);var d;if(!Zn(s))return Q(s,"bpmn:Gateway")?(le((d=ot("rect")).style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),ut(d,le({x:2,y:2,rx:4,width:s.width-4,height:s.height-4},l))):Dn(s,["bpmn:Task","bpmn:SubProcess","bpmn:Group"])?ut(d=ot("rect"),le({x:-5,y:-5,rx:14,width:s.width+10,height:s.height+10},l)):Q(s,"bpmn:EndEvent")?ut(d=ot("circle"),le({cx:s.width/2,cy:s.height/2,r:s.width/2+5+1},l)):Q(s,"bpmn:Event")?ut(d=ot("circle"),le({cx:s.width/2,cy:s.height/2,r:s.width/2+5},l)):Q(s,"bpmn:DataObjectReference")&&tH(s,"bpmn:DataObjectReference")?d=eH("M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",{x:-6,y:-6},l):Q(s,"bpmn:DataStoreReference")&&tH(s,"bpmn:DataStoreReference")&&(d=eH("M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",{x:-6,y:-6},l)),d},aA.prototype.updateOutline=function(s,l){if(!Zn(s))return Dn(s,["bpmn:SubProcess","bpmn:Group"])?(ut(l,{width:s.width+10,height:s.height+10}),!0):!!Dn(s,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};var Wpe={__depends__:[J0],__init__:["outlineProvider"],outlineProvider:["type",aA]},nH=".djs-palette-toggle",rH=".entry",qpe=nH+", "+rH,Y5="djs-palette-",Q5="open",iH="two-column";function yo(s,l){this._eventBus=s,this._canvas=l;var d=this;s.on("tool-manager.update",function(f){var p=f.tool;d.updateToolHighlight(p)}),s.on("i18n.changed",function(){d._update()}),s.on("diagram.init",function(){d._diagramInitialized=!0,d._rebuild()})}function Upe(s,l){var d=l.getPaletteEntries();return T(d)?d(s):(R(d,function(f,p){s[p]=f}),s)}yo.$inject=["eventBus","canvas"],yo.prototype.registerProvider=function(s,l){l||(l=s,s=1e3),this._eventBus.on("palette.getProviders",s,function(d){d.providers.push(l)}),this._rebuild()},yo.prototype.getEntries=function(){return this._getProviders().reduce(Upe,{})},yo.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},yo.prototype._init=function(){var s=this,l=this._eventBus,d=this._getParentContainer(),f=this._container=Ln(yo.HTML_MARKUP);d.appendChild(f),kn(d).add(Y5+"shown"),Rr.bind(f,qpe,"click",function(p){if(Re(p.delegateTarget,nH))return s.toggle();s.trigger("click",p)}),_t.bind(f,"mousedown",function(p){p.stopPropagation()}),Rr.bind(f,rH,"dragstart",function(p){s.trigger("dragstart",p)}),l.on("canvas.resized",this._layoutChanged,this),l.fire("palette.create",{container:f})},yo.prototype._getProviders=function(s){var l=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(l),l.providers},yo.prototype._toggleState=function(s){s=s||{};var l,d=this._getParentContainer(),f=this._container,p=this._eventBus,g=kn(f),b=kn(d);l="twoColumn"in s?s.twoColumn:this._needsCollapse(d.clientHeight,this._entries||{}),g.toggle(iH,l),b.toggle(Y5+iH,l),"open"in s&&(g.toggle(Q5,s.open),b.toggle(Y5+Q5,s.open)),p.fire("palette.changed",{twoColumn:l,open:this.isOpen()})},yo.prototype._update=function(){var s=Pn(".djs-palette-entries",this._container),l=this._entries=this.getEntries();ve(s),R(l,function(d,f){var p=d.group||"default",g=Pn("[data-group="+lh(p)+"]",s);g||(Ht(g=Ln('<div class="group"></div>'),"data-group",p),s.appendChild(g));var b=d.html||(d.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),x=Ln(b);if(g.appendChild(x),!d.separator&&(Ht(x,"data-action",f),d.title&&Ht(x,"title",d.title),d.className&&function(k,P){var C=kn(k);(y(P)?P:P.split(/\s+/g)).forEach(function(M){C.add(M)})}(x,d.className),d.imageUrl)){var E=Ln("<img>");Ht(E,"src",d.imageUrl),x.appendChild(E)}}),this.open()},yo.prototype.trigger=function(s,l,d){var f,p,g=l.delegateTarget||l.target;return g?(f=Ht(g,"data-action"),p=l.originalEvent||l,this.triggerEntry(f,s,p,d)):l.preventDefault()},yo.prototype.triggerEntry=function(s,l,d,f){var p,g;if((p=this._entries[s])&&(g=p.action,this._eventBus.fire("palette.trigger",{entry:p,event:d})!==!1)){if(T(g)){if(l==="click")return g(d,f)}else if(g[l])return g[l](d,f);d.preventDefault()}},yo.prototype._layoutChanged=function(){this._toggleState({})},yo.prototype._needsCollapse=function(s,l){return s<46*Object.keys(l).length+50},yo.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},yo.prototype.open=function(){this._toggleState({open:!0})},yo.prototype.toggle=function(){this.isOpen()?this.close():this.open()},yo.prototype.isActiveTool=function(s){return s&&this._activeTool===s},yo.prototype.updateToolHighlight=function(s){var l;this._toolsContainer||(l=Pn(".djs-palette-entries",this._container),this._toolsContainer=Pn("[data-group=tools]",l)),R(this._toolsContainer.children,function(d){var f=d.getAttribute("data-action");if(f){var p=kn(d);f=f.replace("-tool",""),p.contains("entry")&&f===s?p.add("highlighted-entry"):p.remove("highlighted-entry")}})},yo.prototype.isOpen=function(){return kn(this._container).has(Q5)},yo.prototype._getParentContainer=function(){return this._canvas.getContainer()},yo.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var Gpe={__init__:["palette"],palette:["type",yo]},oH="crosshair";function Kv(s,l,d,f,p,g,b){this._selection=p,this._dragging=d,this._mouse=b;var x=this,E=function(C){var M,$=l.getActiveLayer();ut(M=C.frame=ot("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),ct($,M)},k=function(C){var M=C.frame,$=C.bbox;ut(M,{x:$.x,y:$.y,width:$.width,height:$.height})},P=function(C){C.frame&&Ee(C.frame)};g.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),s.on("lasso.selection.end",function(C){var M=C.originalEvent.target;(C.hover||M instanceof SVGElement)&&s.once("lasso.selection.ended",function(){x.activateLasso(C.originalEvent,!0)})}),s.on("lasso.end",function(C){var M=K5(C),$=f.filter(function(j){return j});x.select($,M)}),s.on("lasso.start",function(C){var M=C.context;M.bbox=K5(C),E(M)}),s.on("lasso.move",function(C){var M=C.context;M.bbox=K5(C),k(M)}),s.on("lasso.cleanup",function(C){var M=C.context;P(M)}),s.on("element.mousedown",1500,function(C){if(hv(C))return x.activateLasso(C.originalEvent),!0})}function K5(s){var l={x:s.x-s.dx,y:s.y-s.dy},d={x:s.x,y:s.y};return l.x<=d.x&&l.y<d.y||l.x<d.x&&l.y<=d.y?{x:l.x,y:l.y,width:d.x-l.x,height:d.y-l.y}:l.x>=d.x&&l.y<d.y||l.x>d.x&&l.y<=d.y?{x:d.x,y:l.y,width:l.x-d.x,height:d.y-l.y}:l.x<=d.x&&l.y>d.y||l.x<d.x&&l.y>=d.y?{x:l.x,y:d.y,width:d.x-l.x,height:l.y-d.y}:l.x>=d.x&&l.y>d.y||l.x>d.x&&l.y>=d.y?{x:d.x,y:d.y,width:l.x-d.x,height:l.y-d.y}:{x:d.x,y:d.y,width:0,height:0}}Kv.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],Kv.prototype.activateLasso=function(s,l){this._dragging.init(s,"lasso",{autoActivate:l,cursor:oH,data:{context:{}}})},Kv.prototype.activateSelection=function(s,l){this._dragging.init(s,"lasso.selection",{trapClick:!1,autoActivate:l,cursor:oH,data:{context:{}}})},Kv.prototype.select=function(s,l){var d=function(f,p){var g={};return R(f,function(b){var x=b;x.waypoints&&(x=Fi(x)),!S(p.y)&&x.x>p.x&&(g[b.id]=b),!S(p.x)&&x.y>p.y&&(g[b.id]=b),x.x>p.x&&x.y>p.y&&(S(p.width)&&S(p.height)&&x.width+x.x<p.width+p.x&&x.height+x.y<p.height+p.y?g[b.id]=b:S(p.width)&&S(p.height)||(g[b.id]=b))}),g}(s,l);this._selection.select(be(d))},Kv.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var s=this._mouse.getLastMoveEvent();this.activateSelection(s,!!s)},Kv.prototype.isActive=function(){var s=this._dragging.context();return s&&/^lasso/.test(s.prefix)};var Ype={__depends__:[me,Wv],__init__:["lassoTool"],lassoTool:["type",Kv]},X5=1500,sH="grab";function i1(s,l,d,f,p,g){this._dragging=d,this._mouse=g;var b=this,x=f.get("keyboard",!1);p.registerTool("hand",{tool:"hand",dragging:"hand.move"}),s.on("element.mousedown",X5,function(E){if(Zi(E))return b.activateMove(E.originalEvent,!0),!1}),x&&x.addListener(X5,function(E){if(aH(E.keyEvent)&&!b.isActive()){var k=b._mouse.getLastMoveEvent();b.activateMove(k,!!k)}},"keyboard.keydown"),x&&x.addListener(X5,function(E){aH(E.keyEvent)&&b.isActive()&&b.toggle()},"keyboard.keyup"),s.on("hand.end",function(E){var k=E.originalEvent.target;if(!(E.hover||k instanceof SVGElement))return!1;s.once("hand.ended",function(){b.activateMove(E.originalEvent,{reactivate:!0})})}),s.on("hand.move.move",function(E){var k=l.viewbox().scale;l.scroll({dx:E.dx*k,dy:E.dy*k})}),s.on("hand.move.end",function(E){var k=E.context.reactivate;return!Zi(E)&&k&&s.once("hand.move.ended",function(P){b.activateHand(P.originalEvent,!0,!0)}),!1})}function aH(s){return zr("Space",s)}i1.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],i1.prototype.activateMove=function(s,l,d){typeof l=="object"&&(d=l,l=!1),this._dragging.init(s,"hand.move",{autoActivate:l,cursor:sH,data:{context:d||{}}})},i1.prototype.activateHand=function(s,l,d){this._dragging.init(s,"hand",{trapClick:!1,autoActivate:l,cursor:sH,data:{context:{reactivate:d}}})},i1.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var s=this._mouse.getLastMoveEvent();this.activateHand(s,!!s)},i1.prototype.isActive=function(){var s=this._dragging.context();return!!s&&/^(hand|hand\.move)$/.test(s.prefix)};var Qpe={__depends__:[me,Wv],__init__:["handTool"],handTool:["type",i1]},lH="connect-ok",cH="connect-not-ok";function o1(s,l,d,f,p,g,b){var x=this;this._dragging=l,this._rules=g,this._mouse=b,p.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),s.on("global-connect.hover",function(E){var k=E.context,P=E.hover,C=k.canStartConnect=x.canStartConnect(P);C!==null&&(k.startTarget=P,f.addMarker(P,C?lH:cH))}),s.on(["global-connect.out","global-connect.cleanup"],function(E){var k=E.context.startTarget,P=E.context.canStartConnect;k&&f.removeMarker(k,P?lH:cH)}),s.on(["global-connect.ended"],function(E){var k=E.context.startTarget,P={x:E.x,y:E.y};if(x.canStartConnect(k))return s.once("element.out",function(){s.once(["connect.ended","connect.canceled"],function(){s.fire("global-connect.drag.ended")}),d.start(null,k,P)}),!1})}o1.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],o1.prototype.start=function(s,l){this._dragging.init(s,"global-connect",{autoActivate:l,trapClick:!1,data:{context:{}}})},o1.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var s=this._mouse.getLastMoveEvent();return this.start(s,!!s)},o1.prototype.isActive=function(){var s=this._dragging.context();return s&&/^global-connect/.test(s.prefix)},o1.prototype.canStartConnect=function(s){return this._rules.allowed("connection.start",{source:s})};var Kpe={__depends__:[Wp,Gc,Wu,me,Wv],globalConnect:["type",o1]};function Z5(s,l,d,f,p,g,b,x){this._palette=s,this._create=l,this._elementFactory=d,this._spaceTool=f,this._lassoTool=p,this._handTool=g,this._globalConnect=b,this._translate=x,s.registerProvider(this)}Z5.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],Z5.prototype.getPaletteEntries=function(){var s={},l=this._create,d=this._elementFactory,f=this._spaceTool,p=this._lassoTool,g=this._handTool,b=this._globalConnect,x=this._translate;function E(C,M,$,j,H){function Y(q){var W=d.createShape(le({type:C},H));l.start(q,W)}return{group:M,className:$,title:j,action:{dragstart:Y,click:Y}}}function k(C){var M=d.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),$=d.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:M});l.start(C,[M,$],{hints:{autoSelect:[M]}})}function P(C){l.start(C,d.createParticipantShape())}return le(s,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:x("Activate hand tool"),action:{click:function(C){g.activateHand(C)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:x("Activate lasso tool"),action:{click:function(C){p.activateSelection(C)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:x("Activate create/remove space tool"),action:{click:function(C){f.activateSelection(C)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:x("Activate global connect tool"),action:{click:function(C){b.start(C)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":E("bpmn:StartEvent","event","bpmn-icon-start-event-none",x("Create start event")),"create.intermediate-event":E("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",x("Create intermediate/boundary event")),"create.end-event":E("bpmn:EndEvent","event","bpmn-icon-end-event-none",x("Create end event")),"create.exclusive-gateway":E("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",x("Create gateway")),"create.task":E("bpmn:Task","activity","bpmn-icon-task",x("Create task")),"create.data-object":E("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",x("Create data object reference")),"create.data-store":E("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",x("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:x("Create expanded sub-process"),action:{dragstart:k,click:k}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:x("Create pool/participant"),action:{dragstart:P,click:P}},"create.group":E("bpmn:Group","artifact","bpmn-icon-group",x("Create group"))}),s};var Xpe={__depends__:[Gpe,r1,FV,Ype,Qpe,Kpe,Ap],__init__:["paletteProvider"],paletteProvider:["type",Z5]};function J5(s,l,d,f,p){lt.call(this,s),s.on("shape.move.move",250,function(g){var b=g.context,x=b.canExecute;b.visualReplacements||(b.visualReplacements={}),x&&x.replacements?function(E){R(E.canExecute.replacements,function(k){var P=k.oldElementId,C={type:k.newElementType};if(!E.visualReplacements[P]){var M=l.get(P);le(C,{x:M.x,y:M.y});var $=d.createShape(C);f.addShape($,M.parent);var j=Pn('[data-element-id="'+lh(M.id)+'"]',E.dragGroup);j&&ut(j,{display:"none"});var H=p.addDragger($,E.dragGroup);E.visualReplacements[P]=H,f.removeShape($)}})}(b):function(E){var k=E.visualReplacements;R(k,function(P,C){var M=Pn('[data-element-id="'+lh(C)+'"]',E.dragGroup);M&&ut(M,{display:"inline"}),P.remove(),k[C]&&delete k[C]})}(b)})}J5.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],t(J5,lt);var Zpe={__depends__:[gh],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",J5]},eF=40,Jpe=20,eme=10,uH=20,dH=["x","y"],tme=Math.abs;function fH(s){s.on(["connect.hover","connect.move","connect.end"],1250,function(l){var d=l.context,f=d.canExecute,p=d.start,g=d.hover,b=d.source,x=d.target;l.originalEvent&&Aa(l.originalEvent)||(d.initialConnectionStart||(d.initialConnectionStart=d.connectionStart),f&&g&&function(E,k,P){dH.forEach(function(C){var M=mH(C,k);E[C]<k[C]+P?Ji(E,C,k[C]+P):E[C]>k[C]+M-P&&Ji(E,C,k[C]+M-P)})}(l,g,function(E){return Q(E,"bpmn:Task")?eme:Jpe}(g)),g&&function(E,k){return ae(k,function(P){return pH(E,P)})}(f,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(d.connectionStart=ul(p),Dn(g,["bpmn:Event","bpmn:Gateway"])&&hH(l,ul(g)),Dn(g,["bpmn:Task","bpmn:SubProcess"])&&function(E,k){var P=ul(k);dH.forEach(function(C){(function(M,$,j){return M[j]>$[j]+uH&&M[j]<$[j]+mH(j,$)-uH})(E,k,C)&&Ji(E,C,P[C])})}(l,g),Q(b,"bpmn:BoundaryEvent")&&x===b.host&&function(E){var k=E.context,P=k.source,C=k.target;if(!function(H){var Y=H.hover,q=H.source;return Y&&q&&Y===q}(k)){var M=ul(P),$=rs(M,C,-10),j=[];/top|bottom/.test($)&&j.push("x"),/left|right/.test($)&&j.push("y"),j.forEach(function(H){var Y,q=E[H];tme(q-M[H])<eF&&(Y=q>M[H]?M[H]+eF:M[H]-eF,Ji(E,H,Y))})}}(l)):pH(f,"bpmn:MessageFlow")?(Q(p,"bpmn:Event")&&(d.connectionStart=ul(p)),Q(g,"bpmn:Event")&&hH(l,ul(g))):d.connectionStart=d.initialConnectionStart)})}function hH(s,l){Ji(s,"x",l.x),Ji(s,"y",l.y)}function pH(s,l){return s&&s.type===l}function mH(s,l){return s==="x"?l.width:l.height}function am(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function lA(){this._snapValues={}}fH.$inject=["eventBus"],am.prototype.getSnapOrigin=function(s){return this._snapOrigins[s]},am.prototype.setSnapOrigin=function(s,l){this._snapOrigins[s]=l,this._snapLocations.indexOf(s)===-1&&this._snapLocations.push(s)},am.prototype.addDefaultSnap=function(s,l){var d=this._defaultSnaps[s];d||(d=this._defaultSnaps[s]=[]),d.push(l)},am.prototype.getSnapLocations=function(){return this._snapLocations},am.prototype.setSnapLocations=function(s){this._snapLocations=s},am.prototype.pointsForTarget=function(s){var l=s.id||s,d=this._targets[l];return d||(d=this._targets[l]=new lA).initDefaults(this._defaultSnaps),d},lA.prototype.add=function(s,l){var d=this._snapValues[s];d||(d=this._snapValues[s]={x:[],y:[]}),d.x.indexOf(l.x)===-1&&d.x.push(l.x),d.y.indexOf(l.y)===-1&&d.y.push(l.y)},lA.prototype.snap=function(s,l,d,f){var p=this._snapValues[l];return p&&function(g,b,x){var E,k;for(x=x===void 0?10:x,E=0;E<b.length;E++)if(k=b[E],MT(k-g)<=x)return k}(s[d],p[d],f)},lA.prototype.initDefaults=function(s){var l=this;R(s||{},function(d,f){R(d,function(p){l.add(f,p)})})};var nme=1250;function cf(s,l,d){var f=this;this._elementRegistry=s,l.on(["create.start","shape.move.start"],function(p){f.initSnap(p)}),l.on(["create.move","create.end","shape.move.move","shape.move.end"],nme,function(p){var g=p.context,b=g.shape,x=g.snapContext,E=g.target;if((!p.originalEvent||!Aa(p.originalEvent))&&!qu(p)&&E){var k=x.pointsForTarget(E);k.initialized||((k=f.addSnapTargetPoints(k,b,E)).initialized=!0),d.snap(p,k)}}),l.on(["create.cleanup","shape.move.cleanup"],function(){d.hide()})}cf.$inject=["elementRegistry","eventBus","snapping"],cf.prototype.initSnap=function(s){var l,d=this._elementRegistry,f=s.context,p=f.shape,g=f.snapContext;g||(g=f.snapContext=new am);var b=(l=d.get(p.id)?ul(p,s):{x:s.x+ul(p).x,y:s.y+ul(p).y}).x-p.width/2,x=l.y-p.height/2,E=l.x+p.width/2,k=l.y+p.height/2;return g.setSnapOrigin("mid",{x:l.x-s.x,y:l.y-s.y}),Zn(p)||(g.setSnapOrigin("top-left",{x:b-s.x,y:x-s.y}),g.setSnapOrigin("bottom-right",{x:E-s.x,y:k-s.y})),g},cf.prototype.addSnapTargetPoints=function(s,l,d){return R(this.getSnapTargets(l,d),function(f){if(Zn(f))Zn(l)&&s.add("mid",ul(f));else if(Dr(f)){if(f.waypoints.length<3)return;R(f.waypoints.slice(1,-1),function(p){s.add("mid",p)})}else s.add("mid",ul(f))}),S(l.x)&&S(l.y)&&this._elementRegistry.get(l.id)&&s.add("mid",ul(l)),s},cf.prototype.getSnapTargets=function(s,l){return FT(l).filter(function(d){return!d.hidden})};function s1(s,l){l.invoke(cf,this),s.on(["create.move","create.end"],1500,rme),s.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(d){var f=d.context,p=f.canExecute,g=f.target;p&&(p==="attach"||p.attach)&&!qu(d)&&function(b,x){var E,k=nn(x),P=hP(b,x),C=b.context,M=C.shape;E=M.parent?{x:0,y:0}:Xt(M),/top/.test(P)?Ji(b,"y",k.top-E.y):/bottom/.test(P)&&Ji(b,"y",k.bottom-E.y),/left/.test(P)?Ji(b,"x",k.left-E.x):/right/.test(P)&&Ji(b,"x",k.right-E.x)}(d,g)})}function rme(s){var l=s.context.createConstraints;if(l){var d=l.top,f=l.right,p=l.bottom,g=l.left;(g&&g>=s.x||f&&f<=s.x)&&Ji(s,"x",s.x),(d&&d>=s.y||p&&p<=s.y)&&Ji(s,"y",s.y)}}function gH(s,l){return s.indexOf(l)!==-1}function vH(s,l,d){return l?{x:s.x-d.x,y:s.y-d.y}:{x:s.x,y:s.y}}t(s1,cf),s1.$inject=["eventBus","injector"],s1.prototype.initSnap=function(s){var l=cf.prototype.initSnap.call(this,s),d=s.shape,f=!!this._elementRegistry.get(d.id);return R(d.outgoing,function(p){var g=p.waypoints[0];g=g.original||g,l.setSnapOrigin(p.id+"-docking",vH(g,f,s))}),R(d.incoming,function(p){var g=p.waypoints[p.waypoints.length-1];g=g.original||g,l.setSnapOrigin(p.id+"-docking",vH(g,f,s))}),Q(d,"bpmn:Participant")&&l.setSnapLocations(["top-left","bottom-right","mid"]),l},s1.prototype.addSnapTargetPoints=function(s,l,d){cf.prototype.addSnapTargetPoints.call(this,s,l,d);var f=this.getSnapTargets(l,d);R(f,function(g){var b;(function(x){return Q(x,"bpmn:SubProcess")&&Hn(x)?!0:Q(x,"bpmn:Participant")}(g)||(b="bpmn:TextAnnotation",[l,g].every(function(x){return Q(x,b)})))&&(s.add("top-left",NT(g)),s.add("bottom-right",IT(g)))});var p=this._elementRegistry;return R(l.incoming,function(g){if(p.get(l.id)){gH(f,g.source)||s.add("mid",Xt(g.source));var b=g.waypoints[0];s.add(g.id+"-docking",b.original||b)}}),R(l.outgoing,function(g){if(p.get(l.id)){gH(f,g.target)||s.add("mid",Xt(g.target));var b=g.waypoints[g.waypoints.length-1];s.add(g.id+"-docking",b.original||b)}}),Q(d,"bpmn:SequenceFlow")&&(s=this.addSnapTargetPoints(s,l,d.parent)),s},s1.prototype.getSnapTargets=function(s,l){return cf.prototype.getSnapTargets.call(this,s,l).filter(function(d){return!Q(d,"bpmn:Lane")})};function wS(s,l){var d=this;s.on(["resize.start"],function(f){d.initSnap(f)}),s.on(["resize.move","resize.end"],1250,function(f){var p=f.context,g=p.shape,b=g.parent,x=p.direction,E=p.snapContext;if(!(f.originalEvent&&Aa(f.originalEvent)||qu(f))){var k=E.pointsForTarget(b);k.initialized||((k=d.addSnapTargetPoints(k,g,b,x)).initialized=!0),function(P){return P==="n"||P==="s"}(x)&&Ji(f,"x",f.x),function(P){return P==="e"||P==="w"}(x)&&Ji(f,"y",f.y),l.snap(f,k)}}),s.on(["resize.cleanup"],function(){l.hide()})}function yH(s,l){var d=Xt(s),f=nn(s),p={x:d.x,y:d.y};return l.indexOf("n")!==-1?p.y=f.top:l.indexOf("s")!==-1&&(p.y=f.bottom),l.indexOf("e")!==-1?p.x=f.right:l.indexOf("w")!==-1&&(p.x=f.left),p}wS.prototype.initSnap=function(s){var l=s.context,d=l.shape,f=l.direction,p=l.snapContext;p||(p=l.snapContext=new am);var g=yH(d,f);return p.setSnapOrigin("corner",{x:g.x-s.x,y:g.y-s.y}),p},wS.prototype.addSnapTargetPoints=function(s,l,d,f){return R(this.getSnapTargets(l,d),function(p){s.add("corner",IT(p)),s.add("corner",NT(p))}),s.add("corner",yH(l,f)),s},wS.$inject=["eventBus","snapping"],wS.prototype.getSnapTargets=function(s,l){return FT(l).filter(function(d){return f=d,p=s,!(f.host===p||Dr(d)||function(g){return!!g.hidden}(d)||Zn(d));var f,p})};function lm(s){this._canvas=s,this._asyncHide=Ne(Ue(this.hide,this),1e3)}lm.$inject=["canvas"],lm.prototype.snap=function(s,l){var d=s.context.snapContext,f=d.getSnapLocations(),p={x:qu(s,"x"),y:qu(s,"y")};R(f,function(g){var b=d.getSnapOrigin(g),x={x:s.x+b.x,y:s.y+b.y};if(R(["x","y"],function(E){var k;p[E]||(k=l.snap(x,g,E,7))!==void 0&&(p[E]={value:k,originValue:k-b[E]})}),p.x&&p.y)return!1}),this.showSnapLine("vertical",p.x&&p.x.value),this.showSnapLine("horizontal",p.y&&p.y.value),R(["x","y"],function(g){var b=p[g];w(b)&&Ji(s,g,b.originValue)})},lm.prototype._createLine=function(s){var l=this._canvas.getLayer("snap"),d=ot("path");return ut(d,{d:"M0,0 L0,0"}),ne(d).add("djs-snap-line"),ct(l,d),{update:function(f){S(f)?ut(d,s==="horizontal"?{d:"M-100000,"+f+" L+100000,"+f,display:""}:{d:"M "+f+",-100000 L "+f+", +100000",display:""}):ut(d,{display:"none"})}}},lm.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},lm.prototype.showSnapLine=function(s,l){var d=this.getSnapLine(s);d&&d.update(l),this._asyncHide()},lm.prototype.getSnapLine=function(s){return this._snapLines||this._createSnapLines(),this._snapLines[s]},lm.prototype.hide=function(){R(this._snapLines,function(s){s.update()})};var ime={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",cf],resizeSnapping:["type",wS],snapping:["type",lm]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",fH],createMoveSnapping:["type",s1]};function Sn(s,l,d,f){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=s,this._eventBus=l,this._overlays=d,this._selection=f,this._container=Ln(Sn.BOX_HTML),this._searchInput=Pn(Sn.INPUT_SELECTOR,this._container),this._resultsContainer=Pn(Sn.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),l.on(["canvas.destroy","diagram.destroy"],this.close,this)}function bH(s,l,d){var f=function(g){var b="";return g.forEach(function(x){x.matched?b+='<strong class="'+Sn.RESULT_HIGHLIGHT_CLASS+'">'+pv(x.matched)+"</strong>":b+=pv(x.normal)}),b!==""?b:null}(l),p=Ln(d);p.innerHTML=f,s.appendChild(p)}Sn.$inject=["canvas","eventBus","overlays","selection"],Sn.prototype._bindEvents=function(){var s=this;function l(d,f,p,g){s._eventMaps.push({el:d,type:p,listener:Rr.bind(d,f,p,g)})}l(document,"html","click",function(d){s.close()}),l(this._container,Sn.INPUT_SELECTOR,"click",function(d){d.stopPropagation(),d.delegateTarget.focus()}),l(this._container,Sn.RESULT_SELECTOR,"mouseover",function(d){d.stopPropagation(),s._scrollToNode(d.delegateTarget),s._preselect(d.delegateTarget)}),l(this._container,Sn.RESULT_SELECTOR,"click",function(d){d.stopPropagation(),s._select(d.delegateTarget)}),l(this._container,Sn.INPUT_SELECTOR,"keydown",function(d){zr("ArrowUp",d)&&d.preventDefault(),zr("ArrowDown",d)&&d.preventDefault()}),l(this._container,Sn.INPUT_SELECTOR,"keyup",function(d){if(zr("Escape",d))return s.close();if(zr("Enter",d)){var f=s._getCurrentResult();return f?s._select(f):s.close()}return zr("ArrowUp",d)?s._scrollToDirection(!0):zr("ArrowDown",d)?s._scrollToDirection():void(zr(["ArrowLeft","ArrowRight"],d)||s._search(d.delegateTarget.value))})},Sn.prototype._unbindEvents=function(){this._eventMaps.forEach(function(s){Rr.unbind(s.el,s.type,s.listener)})},Sn.prototype._search=function(s){var l=this;if(this._clearResults(),s&&s!==""){var d=this._searchProvider.find(s);if(d.length){d.forEach(function(p){var g=p.element.id,b=l._createResultNode(p,g);l._results[g]={element:p.element,node:b}});var f=Pn(Sn.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(f),this._preselect(f)}}},Sn.prototype._scrollToDirection=function(s){var l=this._getCurrentResult();if(l){var d=s?l.previousElementSibling:l.nextElementSibling;d&&(this._scrollToNode(d),this._preselect(d))}},Sn.prototype._scrollToNode=function(s){if(s&&s!==this._getCurrentResult()){var l=s.offsetTop,d=this._resultsContainer.scrollTop,f=l-this._resultsContainer.clientHeight+s.clientHeight;l<d?this._resultsContainer.scrollTop=l:d<f&&(this._resultsContainer.scrollTop=f)}},Sn.prototype._clearResults=function(){ve(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},Sn.prototype._getCurrentResult=function(){return Pn(Sn.RESULT_SELECTED_SELECTOR,this._resultsContainer)},Sn.prototype._createResultNode=function(s,l){var d=Ln(Sn.RESULT_HTML);return s.primaryTokens.length>0&&bH(d,s.primaryTokens,Sn.RESULT_PRIMARY_HTML),bH(d,s.secondaryTokens,Sn.RESULT_SECONDARY_HTML),Ht(d,Sn.RESULT_ID_ATTRIBUTE,l),this._resultsContainer.appendChild(d),d},Sn.prototype.registerProvider=function(s){this._searchProvider=s},Sn.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,kn(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},Sn.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,kn(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},Sn.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Sn.prototype.isOpen=function(){return this._open},Sn.prototype._preselect=function(s){var l=this._getCurrentResult();if(s!==l){l&&kn(l).remove(Sn.RESULT_SELECTED_CLASS);var d=Ht(s,Sn.RESULT_ID_ATTRIBUTE),f=this._results[d].element;kn(s).add(Sn.RESULT_SELECTED_CLASS),this._resetOverlay(f),this._canvas.scrollToElement(f,{top:400}),this._selection.select(f),this._eventBus.fire("searchPad.preselected",f)}},Sn.prototype._select=function(s){var l=Ht(s,Sn.RESULT_ID_ATTRIBUTE),d=this._results[l].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(d,{top:400}),this._selection.select(d),this._eventBus.fire("searchPad.selected",d)},Sn.prototype._resetOverlay=function(s){if(this._overlayId&&this._overlays.remove(this._overlayId),s){var l=function(d){var f=6,p=d.width+2*f,g=d.height+2*f,b={width:p+"px",height:g+"px"},x=Ln('<div class="'+Sn.OVERLAY_CLASS+'"></div>');return jt(x,b),{position:{bottom:g-f,right:p-f},show:!0,html:x}}(Fi(s));this._overlayId=this._overlays.add(s,l)}},Sn.CONTAINER_SELECTOR=".djs-search-container",Sn.INPUT_SELECTOR=".djs-search-input input",Sn.RESULTS_CONTAINER_SELECTOR=".djs-search-results",Sn.RESULT_SELECTOR=".djs-search-result",Sn.RESULT_SELECTED_CLASS="djs-search-result-selected",Sn.RESULT_SELECTED_SELECTOR="."+Sn.RESULT_SELECTED_CLASS,Sn.RESULT_ID_ATTRIBUTE="data-result-id",Sn.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",Sn.OVERLAY_CLASS="djs-search-overlay",Sn.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',Sn.RESULT_HTML='<div class="djs-search-result"></div>',Sn.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',Sn.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var ome={__depends__:[tb,$c],searchPad:["type",Sn]};function tF(s,l,d){this._elementRegistry=s,this._canvas=d,l.registerProvider(this)}function xH(s){return I(s,function(l){return!!l.matched}).length>0}function wH(s,l){var d=[],f=s;if(!s)return d;s=s.toLowerCase(),l=l.toLowerCase();var p=s.indexOf(l);return p>-1?(p!==0&&d.push({normal:f.substr(0,p)}),d.push({matched:f.substr(p,l.length)}),l.length+p<s.length&&d.push({normal:f.substr(l.length+p,s.length)})):d.push({normal:f}),d}tF.$inject=["elementRegistry","searchPad","canvas"],tF.prototype.find=function(s){var l=this._canvas.getRootElement(),d=this._elementRegistry.filter(function(f){return!f.labelTarget});return d=I(d,function(f){return f!==l}),d=Ce(d=I(d=ge(d,function(f){return{primaryTokens:wH(mo(f),s),secondaryTokens:wH(f.id,s),element:f}}),function(f){return xH(f.primaryTokens)||xH(f.secondaryTokens)}),function(f){return mo(f.element)+f.element.id})};var sme={__depends__:[ome],__init__:["bpmnSearch"],bpmnSearch:["type",tF]};function uf(s){ql.call(this,s)}return t(uf,ql),uf.Viewer=tf,uf.NavigatedViewer=Dp,uf.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},uf.prototype._interactionModules=[gv,k_,VO,O_],uf.prototype._modelingModules=[iT,Pb,U3,W_,X3,Wp,HT,bpe,LP,r1,_pe,Spe,Ope,Tpe,Ppe,Dpe,Lpe,mz,Bpe,Vpe,Wpe,Xpe,Zpe,zz,ime,sme],uf.prototype._modules=[].concat(tf.prototype._modules,uf.prototype._interactionModules,uf.prototype._modelingModules),uf})})(Mre);var jEe=Mre.exports;const BEe=l2(jEe),UA=`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                  xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" 
                  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" 
                  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" 
                  xmlns:di="http://www.omg.org/spec/DD/20100524/DI" 
                  id="Definitions_1" 
                  targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_1" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="173" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`,VEe=n=>!n||typeof n!="string"?!1:n.includes("<?xml")&&n.includes("<bpmn:definitions")&&n.includes("</bpmn:definitions>"),Dre=({initialXml:n,onChange:e,readOnly:t=!1})=>{const r=U.useRef(null),i=U.useRef(null),[o,a]=U.useState(null);return U.useEffect(()=>{if(!r.current)return;i.current&&i.current.destroy();const c=new BEe({container:r.current,keyboard:{bindTo:document},propertiesPanel:{parent:"#properties-panel"}});return t&&c.get("editorActions").register({toggleMode:()=>{c.get("canvas").setDefaultLayer("readonly"),c.get("contextPad").close(),c.get("palette").close()}}),i.current=c,a(null),()=>{i.current&&(i.current.destroy(),i.current=null)}},[]),U.useEffect(()=>{if(!i.current)return;const c=i.current,u=n&&VEe(n)?n:UA;c.importXML(u).then(()=>{a(null),t&&c.get("editorActions").trigger("toggleMode"),c.get("canvas").zoom("fit-viewport"),!n&&e&&e(UA)}).catch(h=>{console.error("Erro ao importar BPMN XML",h),a("Falha ao carregar o diagrama BPMN. Utilizando diagrama padro."),c.importXML(UA).then(()=>{t&&c.get("editorActions").trigger("toggleMode"),c.get("canvas").zoom("fit-viewport"),e&&e(UA)}).catch(()=>{a("Erro crtico ao carregar o diagrama. Por favor, atualize a pgina.")})})},[n,t]),U.useEffect(()=>{if(!i.current||!e)return;const c=i.current,u=c.get("eventBus"),h=()=>{c.saveXML({format:!0}).then(({xml:m})=>{e(m)}).catch(m=>{console.error("Erro ao salvar BPMN XML",m)})};return u.on("commandStack.changed",h),()=>{u.off("commandStack.changed",h)}},[e]),L.jsxs("div",{className:"relative h-full",children:[o&&L.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 z-10",children:L.jsxs("div",{className:"text-center text-destructive p-4 bg-destructive/10 rounded-md border border-destructive",children:[L.jsx("p",{className:"mb-2 text-lg font-bold",children:"Erro"}),L.jsx("p",{children:o})]})}),L.jsx("div",{ref:r,className:"bpmn-container h-full"})]})},f9=U.forwardRef(({className:n,type:e,...t},r)=>L.jsx("input",{type:e,className:dr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));f9.displayName="Input";const h9=U.forwardRef(({className:n,...e},t)=>L.jsx("textarea",{className:dr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));h9.displayName="Textarea";var Ar;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const o={};for(const a of i)o[a]=a;return o},n.getValidEnumValues=i=>{const o=n.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),a={};for(const c of o)a[c]=i[c];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(o){return i[o]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},n.find=(i,o)=>{for(const a of i)if(o(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Ar||(Ar={}));var U$;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(U$||(U$={}));const Yt=Ar.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tm=n=>{switch(typeof n){case"undefined":return Yt.undefined;case"string":return Yt.string;case"number":return isNaN(n)?Yt.nan:Yt.number;case"boolean":return Yt.boolean;case"function":return Yt.function;case"bigint":return Yt.bigint;case"symbol":return Yt.symbol;case"object":return Array.isArray(n)?Yt.array:n===null?Yt.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Yt.promise:typeof Map<"u"&&n instanceof Map?Yt.map:typeof Set<"u"&&n instanceof Set?Yt.set:typeof Date<"u"&&n instanceof Date?Yt.date:Yt.object;default:return Yt.unknown}},xt=Ar.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),zEe=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class bc extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let c=r,u=0;for(;u<a.path.length;){const h=a.path[u];u===a.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(t(a))):c[h]=c[h]||{_errors:[]},c=c[h],u++}}};return i(this),r}static assert(e){if(!(e instanceof bc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ar.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}bc.create=n=>new bc(n);const zx=(n,e)=>{let t;switch(n.code){case xt.invalid_type:n.received===Yt.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case xt.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ar.jsonStringifyReplacer)}`;break;case xt.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ar.joinValues(n.keys,", ")}`;break;case xt.invalid_union:t="Invalid input";break;case xt.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ar.joinValues(n.options)}`;break;case xt.invalid_enum_value:t=`Invalid enum value. Expected ${Ar.joinValues(n.options)}, received '${n.received}'`;break;case xt.invalid_arguments:t="Invalid function arguments";break;case xt.invalid_return_type:t="Invalid function return type";break;case xt.invalid_date:t="Invalid date";break;case xt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ar.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case xt.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case xt.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case xt.custom:t="Invalid input";break;case xt.invalid_intersection_types:t="Intersection results could not be merged";break;case xt.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case xt.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ar.assertNever(n)}return{message:t}};let Nre=zx;function HEe(n){Nre=n}function hD(){return Nre}const pD=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,o=[...t,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const u=r.filter(h=>!!h).slice().reverse();for(const h of u)c=h(a,{data:e,defaultError:c}).message;return{...i,path:o,message:c}},WEe=[];function Bt(n,e){const t=hD(),r=pD({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===zx?void 0:zx].filter(i=>!!i)});n.common.issues.push(r)}class va{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Mn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const o=await i.key,a=await i.value;r.push({key:o,value:a})}return va.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return Mn;o.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[o.value]=a.value)}return{status:e.value,value:r}}}const Mn=Object.freeze({status:"aborted"}),z1=n=>({status:"dirty",value:n}),Ya=n=>({status:"valid",value:n}),G$=n=>n.status==="aborted",Y$=n=>n.status==="dirty",_C=n=>n.status==="valid",EC=n=>typeof Promise<"u"&&n instanceof Promise;function mD(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function Ire(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var mn;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(mn||(mn={}));var pk,mk;class zf{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gq=(n,e)=>{if(_C(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new bc(n.common.issues);return this._error=t,this._error}}};function Kn(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,c)=>{var u,h;const{message:m}=n;return a.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(u=m??r)!==null&&u!==void 0?u:c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:(h=m??t)!==null&&h!==void 0?h:c.defaultError}},description:i}}class ur{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Tm(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Tm(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new va,ctx:{common:e.parent.common,data:e.data,parsedType:Tm(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(EC(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tm(e)},o=this._parseSync({data:e,path:i.path,parent:i});return Gq(i,o)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tm(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(EC(i)?i:Promise.resolve(i));return Gq(r,o)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,o)=>{const a=e(i),c=()=>o.addIssue({code:xt.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Pd({schema:this,typeName:Rn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return $f.create(this,this._def)}nullable(){return wg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sd.create(this,this._def)}promise(){return Wx.create(this,this._def)}or(e){return OC.create([this,e],this._def)}and(e){return TC.create(this,e,this._def)}transform(e){return new Pd({...Kn(this._def),schema:this,typeName:Rn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new DC({...Kn(this._def),innerType:this,defaultValue:t,typeName:Rn.ZodDefault})}brand(){return new p9({typeName:Rn.ZodBranded,type:this,...Kn(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new NC({...Kn(this._def),innerType:this,catchValue:t,typeName:Rn.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return _2.create(this,e)}readonly(){return IC.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qEe=/^c[^\s-]{8,}$/i,UEe=/^[0-9a-z]+$/,GEe=/^[0-9A-HJKMNP-TV-Z]{26}$/,YEe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QEe=/^[a-z0-9_-]{21}$/i,KEe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XEe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ZEe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rL;const JEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eSe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,tSe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Fre="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nSe=new RegExp(`^${Fre}$`);function Lre(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function rSe(n){return new RegExp(`^${Lre(n)}$`)}function $re(n){let e=`${Fre}T${Lre(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function iSe(n,e){return!!((e==="v4"||!e)&&JEe.test(n)||(e==="v6"||!e)&&eSe.test(n))}class gd extends ur{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Yt.string){const o=this._getOrReturnCtx(e);return Bt(o,{code:xt.invalid_type,expected:Yt.string,received:o.parsedType}),Mn}const r=new va;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const a=e.data.length>o.value,c=e.data.length<o.value;(a||c)&&(i=this._getOrReturnCtx(e,i),a?Bt(i,{code:xt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&Bt(i,{code:xt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")XEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"email",code:xt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")rL||(rL=new RegExp(ZEe,"u")),rL.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"emoji",code:xt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")YEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"uuid",code:xt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")QEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"nanoid",code:xt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")qEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"cuid",code:xt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")UEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"cuid2",code:xt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")GEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"ulid",code:xt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Bt(i,{validation:"url",code:xt.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"regex",code:xt.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?$re(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?nSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?rSe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?KEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"duration",code:xt.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?iSe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"ip",code:xt.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?tSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Bt(i,{validation:"base64",code:xt.invalid_string,message:o.message}),r.dirty()):Ar.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:xt.invalid_string,...mn.errToObj(r)})}_addCheck(e){return new gd({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...mn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...mn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...mn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...mn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...mn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...mn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...mn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...mn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...mn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...mn.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...mn.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...mn.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...mn.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...mn.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...mn.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...mn.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...mn.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...mn.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...mn.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...mn.errToObj(t)})}nonempty(e){return this.min(1,mn.errToObj(e))}trim(){return new gd({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gd({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gd({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}gd.create=n=>{var e;return new gd({checks:[],typeName:Rn.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Kn(n)})};function oSe(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,o=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return o%a/Math.pow(10,i)}class yg extends ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Yt.number){const o=this._getOrReturnCtx(e);return Bt(o,{code:xt.invalid_type,expected:Yt.number,received:o.parsedType}),Mn}let r;const i=new va;for(const o of this._def.checks)o.kind==="int"?Ar.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Bt(r,{code:xt.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Bt(r,{code:xt.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Bt(r,{code:xt.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?oSe(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Bt(r,{code:xt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Bt(r,{code:xt.not_finite,message:o.message}),i.dirty()):Ar.assertNever(o);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,mn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,mn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,mn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,mn.toString(t))}setLimit(e,t,r,i){return new yg({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:mn.toString(i)}]})}_addCheck(e){return new yg({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:mn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:mn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:mn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:mn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:mn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:mn.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:mn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:mn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:mn.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ar.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}yg.create=n=>new yg({checks:[],typeName:Rn.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Kn(n)});class bg extends ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Yt.bigint){const o=this._getOrReturnCtx(e);return Bt(o,{code:xt.invalid_type,expected:Yt.bigint,received:o.parsedType}),Mn}let r;const i=new va;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Bt(r,{code:xt.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Bt(r,{code:xt.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Bt(r,{code:xt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Ar.assertNever(o);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,mn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,mn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,mn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,mn.toString(t))}setLimit(e,t,r,i){return new bg({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:mn.toString(i)}]})}_addCheck(e){return new bg({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:mn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:mn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:mn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:mn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:mn.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}bg.create=n=>{var e;return new bg({checks:[],typeName:Rn.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Kn(n)})};class SC extends ur{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Yt.boolean){const r=this._getOrReturnCtx(e);return Bt(r,{code:xt.invalid_type,expected:Yt.boolean,received:r.parsedType}),Mn}return Ya(e.data)}}SC.create=n=>new SC({typeName:Rn.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Kn(n)});class Zy extends ur{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Yt.date){const o=this._getOrReturnCtx(e);return Bt(o,{code:xt.invalid_type,expected:Yt.date,received:o.parsedType}),Mn}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Bt(o,{code:xt.invalid_date}),Mn}const r=new va;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),Bt(i,{code:xt.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ar.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zy({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:mn.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:mn.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Zy.create=n=>new Zy({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Rn.ZodDate,...Kn(n)});class gD extends ur{_parse(e){if(this._getType(e)!==Yt.symbol){const r=this._getOrReturnCtx(e);return Bt(r,{code:xt.invalid_type,expected:Yt.symbol,received:r.parsedType}),Mn}return Ya(e.data)}}gD.create=n=>new gD({typeName:Rn.ZodSymbol,...Kn(n)});class kC extends ur{_parse(e){if(this._getType(e)!==Yt.undefined){const r=this._getOrReturnCtx(e);return Bt(r,{code:xt.invalid_type,expected:Yt.undefined,received:r.parsedType}),Mn}return Ya(e.data)}}kC.create=n=>new kC({typeName:Rn.ZodUndefined,...Kn(n)});class CC extends ur{_parse(e){if(this._getType(e)!==Yt.null){const r=this._getOrReturnCtx(e);return Bt(r,{code:xt.invalid_type,expected:Yt.null,received:r.parsedType}),Mn}return Ya(e.data)}}CC.create=n=>new CC({typeName:Rn.ZodNull,...Kn(n)});class Hx extends ur{constructor(){super(...arguments),this._any=!0}_parse(e){return Ya(e.data)}}Hx.create=n=>new Hx({typeName:Rn.ZodAny,...Kn(n)});class jy extends ur{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ya(e.data)}}jy.create=n=>new jy({typeName:Rn.ZodUnknown,...Kn(n)});class op extends ur{_parse(e){const t=this._getOrReturnCtx(e);return Bt(t,{code:xt.invalid_type,expected:Yt.never,received:t.parsedType}),Mn}}op.create=n=>new op({typeName:Rn.ZodNever,...Kn(n)});class vD extends ur{_parse(e){if(this._getType(e)!==Yt.undefined){const r=this._getOrReturnCtx(e);return Bt(r,{code:xt.invalid_type,expected:Yt.void,received:r.parsedType}),Mn}return Ya(e.data)}}vD.create=n=>new vD({typeName:Rn.ZodVoid,...Kn(n)});class Sd extends ur{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==Yt.array)return Bt(t,{code:xt.invalid_type,expected:Yt.array,received:t.parsedType}),Mn;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,c=t.data.length<i.exactLength.value;(a||c)&&(Bt(t,{code:a?xt.too_big:xt.too_small,minimum:c?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Bt(t,{code:xt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Bt(t,{code:xt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,c)=>i.type._parseAsync(new zf(t,a,t.path,c)))).then(a=>va.mergeArray(r,a));const o=[...t.data].map((a,c)=>i.type._parseSync(new zf(t,a,t.path,c)));return va.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new Sd({...this._def,minLength:{value:e,message:mn.toString(t)}})}max(e,t){return new Sd({...this._def,maxLength:{value:e,message:mn.toString(t)}})}length(e,t){return new Sd({...this._def,exactLength:{value:e,message:mn.toString(t)}})}nonempty(e){return this.min(1,e)}}Sd.create=(n,e)=>new Sd({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Rn.ZodArray,...Kn(e)});function O1(n){if(n instanceof lo){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=$f.create(O1(r))}return new lo({...n._def,shape:()=>e})}else return n instanceof Sd?new Sd({...n._def,type:O1(n.element)}):n instanceof $f?$f.create(O1(n.unwrap())):n instanceof wg?wg.create(O1(n.unwrap())):n instanceof Hf?Hf.create(n.items.map(e=>O1(e))):n}class lo extends ur{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ar.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Yt.object){const h=this._getOrReturnCtx(e);return Bt(h,{code:xt.invalid_type,expected:Yt.object,received:h.parsedType}),Mn}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof op&&this._def.unknownKeys==="strip"))for(const h in i.data)a.includes(h)||c.push(h);const u=[];for(const h of a){const m=o[h],y=i.data[h];u.push({key:{status:"valid",value:h},value:m._parse(new zf(i,y,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof op){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)u.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(h==="strict")c.length>0&&(Bt(i,{code:xt.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const y=i.data[m];u.push({key:{status:"valid",value:m},value:h._parse(new zf(i,y,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of u){const y=await m.key,w=await m.value;h.push({key:y,value:w,alwaysSet:m.alwaysSet})}return h}).then(h=>va.mergeObjectSync(r,h)):va.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return mn.errToObj,new lo({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,o,a,c;const u=(a=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=mn.errToObj(e).message)!==null&&c!==void 0?c:u}:{message:u}}}:{}})}strip(){return new lo({...this._def,unknownKeys:"strip"})}passthrough(){return new lo({...this._def,unknownKeys:"passthrough"})}extend(e){return new lo({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lo({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Rn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new lo({...this._def,catchall:e})}pick(e){const t={};return Ar.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new lo({...this._def,shape:()=>t})}omit(e){const t={};return Ar.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new lo({...this._def,shape:()=>t})}deepPartial(){return O1(this)}partial(e){const t={};return Ar.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new lo({...this._def,shape:()=>t})}required(e){const t={};return Ar.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof $f;)o=o._def.innerType;t[r]=o}}),new lo({...this._def,shape:()=>t})}keyof(){return jre(Ar.objectKeys(this.shape))}}lo.create=(n,e)=>new lo({shape:()=>n,unknownKeys:"strip",catchall:op.create(),typeName:Rn.ZodObject,...Kn(e)});lo.strictCreate=(n,e)=>new lo({shape:()=>n,unknownKeys:"strict",catchall:op.create(),typeName:Rn.ZodObject,...Kn(e)});lo.lazycreate=(n,e)=>new lo({shape:n,unknownKeys:"strip",catchall:op.create(),typeName:Rn.ZodObject,...Kn(e)});class OC extends ur{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const a=o.map(c=>new bc(c.ctx.common.issues));return Bt(t,{code:xt.invalid_union,unionErrors:a}),Mn}if(t.common.async)return Promise.all(r.map(async o=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let o;const a=[];for(const u of r){const h={...t,common:{...t.common,issues:[]},parent:null},m=u._parseSync({data:t.data,path:t.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const c=a.map(u=>new bc(u));return Bt(t,{code:xt.invalid_union,unionErrors:c}),Mn}}get options(){return this._def.options}}OC.create=(n,e)=>new OC({options:n,typeName:Rn.ZodUnion,...Kn(e)});const Ph=n=>n instanceof AC?Ph(n.schema):n instanceof Pd?Ph(n.innerType()):n instanceof RC?[n.value]:n instanceof xg?n.options:n instanceof MC?Ar.objectValues(n.enum):n instanceof DC?Ph(n._def.innerType):n instanceof kC?[void 0]:n instanceof CC?[null]:n instanceof $f?[void 0,...Ph(n.unwrap())]:n instanceof wg?[null,...Ph(n.unwrap())]:n instanceof p9||n instanceof IC?Ph(n.unwrap()):n instanceof NC?Ph(n._def.innerType):[];class nI extends ur{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Yt.object)return Bt(t,{code:xt.invalid_type,expected:Yt.object,received:t.parsedType}),Mn;const r=this.discriminator,i=t.data[r],o=this.optionsMap.get(i);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(Bt(t,{code:xt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Mn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const o of t){const a=Ph(o.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,o)}}return new nI({typeName:Rn.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Kn(r)})}}function Q$(n,e){const t=Tm(n),r=Tm(e);if(n===e)return{valid:!0,data:n};if(t===Yt.object&&r===Yt.object){const i=Ar.objectKeys(e),o=Ar.objectKeys(n).filter(c=>i.indexOf(c)!==-1),a={...n,...e};for(const c of o){const u=Q$(n[c],e[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(t===Yt.array&&r===Yt.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<n.length;o++){const a=n[o],c=e[o],u=Q$(a,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===Yt.date&&r===Yt.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class TC extends ur{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(o,a)=>{if(G$(o)||G$(a))return Mn;const c=Q$(o.value,a.value);return c.valid?((Y$(o)||Y$(a))&&t.dirty(),{status:t.value,value:c.data}):(Bt(r,{code:xt.invalid_intersection_types}),Mn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}TC.create=(n,e,t)=>new TC({left:n,right:e,typeName:Rn.ZodIntersection,...Kn(t)});class Hf extends ur{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.array)return Bt(r,{code:xt.invalid_type,expected:Yt.array,received:r.parsedType}),Mn;if(r.data.length<this._def.items.length)return Bt(r,{code:xt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mn;!this._def.rest&&r.data.length>this._def.items.length&&(Bt(r,{code:xt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new zf(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(o).then(a=>va.mergeArray(t,a)):va.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Hf({...this._def,rest:e})}}Hf.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hf({items:n,typeName:Rn.ZodTuple,rest:null,...Kn(e)})};class PC extends ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.object)return Bt(r,{code:xt.invalid_type,expected:Yt.object,received:r.parsedType}),Mn;const i=[],o=this._def.keyType,a=this._def.valueType;for(const c in r.data)i.push({key:o._parse(new zf(r,c,r.path,c)),value:a._parse(new zf(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?va.mergeObjectAsync(t,i):va.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ur?new PC({keyType:e,valueType:t,typeName:Rn.ZodRecord,...Kn(r)}):new PC({keyType:gd.create(),valueType:e,typeName:Rn.ZodRecord,...Kn(t)})}}class yD extends ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.map)return Bt(r,{code:xt.invalid_type,expected:Yt.map,received:r.parsedType}),Mn;const i=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([c,u],h)=>({key:i._parse(new zf(r,c,r.path,[h,"key"])),value:o._parse(new zf(r,u,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const h=await u.key,m=await u.value;if(h.status==="aborted"||m.status==="aborted")return Mn;(h.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(h.value,m.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const u of a){const h=u.key,m=u.value;if(h.status==="aborted"||m.status==="aborted")return Mn;(h.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(h.value,m.value)}return{status:t.value,value:c}}}}yD.create=(n,e,t)=>new yD({valueType:e,keyType:n,typeName:Rn.ZodMap,...Kn(t)});class Jy extends ur{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.set)return Bt(r,{code:xt.invalid_type,expected:Yt.set,received:r.parsedType}),Mn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Bt(r,{code:xt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Bt(r,{code:xt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const o=this._def.valueType;function a(u){const h=new Set;for(const m of u){if(m.status==="aborted")return Mn;m.status==="dirty"&&t.dirty(),h.add(m.value)}return{status:t.value,value:h}}const c=[...r.data.values()].map((u,h)=>o._parse(new zf(r,u,r.path,h)));return r.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(e,t){return new Jy({...this._def,minSize:{value:e,message:mn.toString(t)}})}max(e,t){return new Jy({...this._def,maxSize:{value:e,message:mn.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Jy.create=(n,e)=>new Jy({valueType:n,minSize:null,maxSize:null,typeName:Rn.ZodSet,...Kn(e)});class sx extends ur{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Yt.function)return Bt(t,{code:xt.invalid_type,expected:Yt.function,received:t.parsedType}),Mn;function r(c,u){return pD({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,hD(),zx].filter(h=>!!h),issueData:{code:xt.invalid_arguments,argumentsError:u}})}function i(c,u){return pD({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,hD(),zx].filter(h=>!!h),issueData:{code:xt.invalid_return_type,returnTypeError:u}})}const o={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Wx){const c=this;return Ya(async function(...u){const h=new bc([]),m=await c._def.args.parseAsync(u,o).catch(S=>{throw h.addIssue(r(u,S)),h}),y=await Reflect.apply(a,this,m);return await c._def.returns._def.type.parseAsync(y,o).catch(S=>{throw h.addIssue(i(y,S)),h})})}else{const c=this;return Ya(function(...u){const h=c._def.args.safeParse(u,o);if(!h.success)throw new bc([r(u,h.error)]);const m=Reflect.apply(a,this,h.data),y=c._def.returns.safeParse(m,o);if(!y.success)throw new bc([i(m,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new sx({...this._def,args:Hf.create(e).rest(jy.create())})}returns(e){return new sx({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new sx({args:e||Hf.create([]).rest(jy.create()),returns:t||jy.create(),typeName:Rn.ZodFunction,...Kn(r)})}}class AC extends ur{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}AC.create=(n,e)=>new AC({getter:n,typeName:Rn.ZodLazy,...Kn(e)});class RC extends ur{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Bt(t,{received:t.data,code:xt.invalid_literal,expected:this._def.value}),Mn}return{status:"valid",value:e.data}}get value(){return this._def.value}}RC.create=(n,e)=>new RC({value:n,typeName:Rn.ZodLiteral,...Kn(e)});function jre(n,e){return new xg({values:n,typeName:Rn.ZodEnum,...Kn(e)})}class xg extends ur{constructor(){super(...arguments),pk.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Bt(t,{expected:Ar.joinValues(r),received:t.parsedType,code:xt.invalid_type}),Mn}if(mD(this,pk)||Ire(this,pk,new Set(this._def.values)),!mD(this,pk).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Bt(t,{received:t.data,code:xt.invalid_enum_value,options:r}),Mn}return Ya(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return xg.create(e,{...this._def,...t})}exclude(e,t=this._def){return xg.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}pk=new WeakMap;xg.create=jre;class MC extends ur{constructor(){super(...arguments),mk.set(this,void 0)}_parse(e){const t=Ar.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Yt.string&&r.parsedType!==Yt.number){const i=Ar.objectValues(t);return Bt(r,{expected:Ar.joinValues(i),received:r.parsedType,code:xt.invalid_type}),Mn}if(mD(this,mk)||Ire(this,mk,new Set(Ar.getValidEnumValues(this._def.values))),!mD(this,mk).has(e.data)){const i=Ar.objectValues(t);return Bt(r,{received:r.data,code:xt.invalid_enum_value,options:i}),Mn}return Ya(e.data)}get enum(){return this._def.values}}mk=new WeakMap;MC.create=(n,e)=>new MC({values:n,typeName:Rn.ZodNativeEnum,...Kn(e)});class Wx extends ur{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Yt.promise&&t.common.async===!1)return Bt(t,{code:xt.invalid_type,expected:Yt.promise,received:t.parsedType}),Mn;const r=t.parsedType===Yt.promise?t.data:Promise.resolve(t.data);return Ya(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Wx.create=(n,e)=>new Wx({type:n,typeName:Rn.ZodPromise,...Kn(e)});class Pd extends ur{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:a=>{Bt(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const a=i.transform(r.data,o);if(r.common.async)return Promise.resolve(a).then(async c=>{if(t.value==="aborted")return Mn;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?Mn:u.status==="dirty"||t.value==="dirty"?z1(u.value):u});{if(t.value==="aborted")return Mn;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?Mn:c.status==="dirty"||t.value==="dirty"?z1(c.value):c}}if(i.type==="refinement"){const a=c=>{const u=i.refinement(c,o);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Mn:(c.status==="dirty"&&t.dirty(),a(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Mn:(c.status==="dirty"&&t.dirty(),a(c.value).then(()=>({status:t.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_C(a))return a;const c=i.transform(a.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>_C(a)?Promise.resolve(i.transform(a.value,o)).then(c=>({status:t.value,value:c})):a);Ar.assertNever(i)}}Pd.create=(n,e,t)=>new Pd({schema:n,typeName:Rn.ZodEffects,effect:e,...Kn(t)});Pd.createWithPreprocess=(n,e,t)=>new Pd({schema:e,effect:{type:"preprocess",transform:n},typeName:Rn.ZodEffects,...Kn(t)});class $f extends ur{_parse(e){return this._getType(e)===Yt.undefined?Ya(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$f.create=(n,e)=>new $f({innerType:n,typeName:Rn.ZodOptional,...Kn(e)});class wg extends ur{_parse(e){return this._getType(e)===Yt.null?Ya(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wg.create=(n,e)=>new wg({innerType:n,typeName:Rn.ZodNullable,...Kn(e)});class DC extends ur{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Yt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}DC.create=(n,e)=>new DC({innerType:n,typeName:Rn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Kn(e)});class NC extends ur{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return EC(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new bc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}NC.create=(n,e)=>new NC({innerType:n,typeName:Rn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Kn(e)});class bD extends ur{_parse(e){if(this._getType(e)!==Yt.nan){const r=this._getOrReturnCtx(e);return Bt(r,{code:xt.invalid_type,expected:Yt.nan,received:r.parsedType}),Mn}return{status:"valid",value:e.data}}}bD.create=n=>new bD({typeName:Rn.ZodNaN,...Kn(n)});const sSe=Symbol("zod_brand");class p9 extends ur{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class _2 extends ur{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Mn:o.status==="dirty"?(t.dirty(),z1(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Mn:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new _2({in:e,out:t,typeName:Rn.ZodPipeline})}}class IC extends ur{_parse(e){const t=this._def.innerType._parse(e),r=i=>(_C(i)&&(i.value=Object.freeze(i.value)),i);return EC(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}IC.create=(n,e)=>new IC({innerType:n,typeName:Rn.ZodReadonly,...Kn(e)});function Bre(n,e={},t){return n?Hx.create().superRefine((r,i)=>{var o,a;if(!n(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(o=c.fatal)!==null&&o!==void 0?o:t)!==null&&a!==void 0?a:!0,h=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...h,fatal:u})}}):Hx.create()}const aSe={object:lo.lazycreate};var Rn;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Rn||(Rn={}));const lSe=(n,e={message:`Input not instance of ${n.name}`})=>Bre(t=>t instanceof n,e),Vre=gd.create,zre=yg.create,cSe=bD.create,uSe=bg.create,Hre=SC.create,dSe=Zy.create,fSe=gD.create,hSe=kC.create,pSe=CC.create,mSe=Hx.create,gSe=jy.create,vSe=op.create,ySe=vD.create,bSe=Sd.create,xSe=lo.create,wSe=lo.strictCreate,_Se=OC.create,ESe=nI.create,SSe=TC.create,kSe=Hf.create,CSe=PC.create,OSe=yD.create,TSe=Jy.create,PSe=sx.create,ASe=AC.create,RSe=RC.create,MSe=xg.create,DSe=MC.create,NSe=Wx.create,Yq=Pd.create,ISe=$f.create,FSe=wg.create,LSe=Pd.createWithPreprocess,$Se=_2.create,jSe=()=>Vre().optional(),BSe=()=>zre().optional(),VSe=()=>Hre().optional(),zSe={string:n=>gd.create({...n,coerce:!0}),number:n=>yg.create({...n,coerce:!0}),boolean:n=>SC.create({...n,coerce:!0}),bigint:n=>bg.create({...n,coerce:!0}),date:n=>Zy.create({...n,coerce:!0})},HSe=Mn;var qh=Object.freeze({__proto__:null,defaultErrorMap:zx,setErrorMap:HEe,getErrorMap:hD,makeIssue:pD,EMPTY_PATH:WEe,addIssueToContext:Bt,ParseStatus:va,INVALID:Mn,DIRTY:z1,OK:Ya,isAborted:G$,isDirty:Y$,isValid:_C,isAsync:EC,get util(){return Ar},get objectUtil(){return U$},ZodParsedType:Yt,getParsedType:Tm,ZodType:ur,datetimeRegex:$re,ZodString:gd,ZodNumber:yg,ZodBigInt:bg,ZodBoolean:SC,ZodDate:Zy,ZodSymbol:gD,ZodUndefined:kC,ZodNull:CC,ZodAny:Hx,ZodUnknown:jy,ZodNever:op,ZodVoid:vD,ZodArray:Sd,ZodObject:lo,ZodUnion:OC,ZodDiscriminatedUnion:nI,ZodIntersection:TC,ZodTuple:Hf,ZodRecord:PC,ZodMap:yD,ZodSet:Jy,ZodFunction:sx,ZodLazy:AC,ZodLiteral:RC,ZodEnum:xg,ZodNativeEnum:MC,ZodPromise:Wx,ZodEffects:Pd,ZodTransformer:Pd,ZodOptional:$f,ZodNullable:wg,ZodDefault:DC,ZodCatch:NC,ZodNaN:bD,BRAND:sSe,ZodBranded:p9,ZodPipeline:_2,ZodReadonly:IC,custom:Bre,Schema:ur,ZodSchema:ur,late:aSe,get ZodFirstPartyTypeKind(){return Rn},coerce:zSe,any:mSe,array:bSe,bigint:uSe,boolean:Hre,date:dSe,discriminatedUnion:ESe,effect:Yq,enum:MSe,function:PSe,instanceof:lSe,intersection:SSe,lazy:ASe,literal:RSe,map:OSe,nan:cSe,nativeEnum:DSe,never:vSe,null:pSe,nullable:FSe,number:zre,object:xSe,oboolean:VSe,onumber:BSe,optional:ISe,ostring:jSe,pipeline:$Se,preprocess:LSe,promise:NSe,record:CSe,set:TSe,strictObject:wSe,string:Vre,symbol:fSe,transformer:Yq,tuple:kSe,undefined:hSe,union:_Se,unknown:gSe,void:ySe,NEVER:HSe,ZodIssueCode:xt,quotelessJson:zEe,ZodError:bc}),E2=n=>n.type==="checkbox",Cy=n=>n instanceof Date,za=n=>n==null;const Wre=n=>typeof n=="object";var Vo=n=>!za(n)&&!Array.isArray(n)&&Wre(n)&&!Cy(n),qre=n=>Vo(n)&&n.target?E2(n.target)?n.target.checked:n.target.value:n,WSe=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,Ure=(n,e)=>n.has(WSe(e)),qSe=n=>{const e=n.constructor&&n.constructor.prototype;return Vo(e)&&e.hasOwnProperty("isPrototypeOf")},m9=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xl(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(m9&&(n instanceof Blob||n instanceof FileList))&&(t||Vo(n)))if(e=t?[]:{},!t&&!qSe(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=xl(n[r]));else return n;return e}var rI=n=>Array.isArray(n)?n.filter(Boolean):[],Eo=n=>n===void 0,Pt=(n,e,t)=>{if(!e||!Vo(n))return t;const r=rI(e.split(/[,[\].]+?/)).reduce((i,o)=>za(i)?i:i[o],n);return Eo(r)||r===n?Eo(n[e])?t:n[e]:r},su=n=>typeof n=="boolean",g9=n=>/^\w*$/.test(n),Gre=n=>rI(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ni=(n,e,t)=>{let r=-1;const i=g9(e)?[e]:Gre(e),o=i.length,a=o-1;for(;++r<o;){const c=i[r];let u=t;if(r!==a){const h=n[c];u=Vo(h)||Array.isArray(h)?h:isNaN(+i[r+1])?{}:[]}if(c==="__proto__")return;n[c]=u,n=n[c]}return n};const xD={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ch={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yre=rt.createContext(null),iI=()=>rt.useContext(Yre),USe=n=>{const{children:e,...t}=n;return rt.createElement(Yre.Provider,{value:t},e)};var Qre=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in n)Object.defineProperty(i,o,{get:()=>{const a=o;return e._proxyFormState[a]!==fd.all&&(e._proxyFormState[a]=!r||fd.all),t&&(t[a]=!0),n[a]}});return i},El=n=>Vo(n)&&!Object.keys(n).length,Kre=(n,e,t,r)=>{t(n);const{name:i,...o}=n;return El(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(a=>e[a]===(!r||fd.all))},Ik=n=>Array.isArray(n)?n:[n],Xre=(n,e,t)=>!n||!e||n===e||Ik(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function v9(n){const e=rt.useRef(n);e.current=n,rt.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function GSe(n){const e=iI(),{control:t=e.control,disabled:r,name:i,exact:o}=n||{},[a,c]=rt.useState(t._formState),u=rt.useRef(!0),h=rt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=rt.useRef(i);return m.current=i,v9({disabled:r,next:y=>u.current&&Xre(m.current,y.name,o)&&Kre(y,h.current,t._updateFormState)&&c({...t._formState,...y}),subject:t._subjects.state}),rt.useEffect(()=>(u.current=!0,h.current.isValid&&t._updateValid(!0),()=>{u.current=!1}),[t]),Qre(a,t,h.current,!1)}var Af=n=>typeof n=="string",Zre=(n,e,t,r,i)=>Af(n)?(r&&e.watch.add(n),Pt(t,n,i)):Array.isArray(n)?n.map(o=>(r&&e.watch.add(o),Pt(t,o))):(r&&(e.watchAll=!0),t);function YSe(n){const e=iI(),{control:t=e.control,name:r,defaultValue:i,disabled:o,exact:a}=n||{},c=rt.useRef(r);c.current=r,v9({disabled:o,subject:t._subjects.values,next:m=>{Xre(c.current,m.name,a)&&h(xl(Zre(c.current,t._names,m.values||t._formValues,!1,i)))}});const[u,h]=rt.useState(t._getWatch(r,i));return rt.useEffect(()=>t._removeUnmounted()),u}function QSe(n){const e=iI(),{name:t,disabled:r,control:i=e.control,shouldUnregister:o}=n,a=Ure(i._names.array,t),c=YSe({control:i,name:t,defaultValue:Pt(i._formValues,t,Pt(i._defaultValues,t,n.defaultValue)),exact:!0}),u=GSe({control:i,name:t,exact:!0}),h=rt.useRef(i.register(t,{...n.rules,value:c,...su(n.disabled)?{disabled:n.disabled}:{}}));return rt.useEffect(()=>{const m=i._options.shouldUnregister||o,y=(w,S)=>{const T=Pt(i._fields,w);T&&T._f&&(T._f.mount=S)};if(y(t,!0),m){const w=xl(Pt(i._options.defaultValues,t));ni(i._defaultValues,t,w),Eo(Pt(i._formValues,t))&&ni(i._formValues,t,w)}return()=>{(a?m&&!i._state.action:m)?i.unregister(t):y(t,!1)}},[t,i,a,o]),rt.useEffect(()=>{Pt(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:Pt(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:c,...su(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:rt.useCallback(m=>h.current.onChange({target:{value:qre(m),name:t},type:xD.CHANGE}),[t]),onBlur:rt.useCallback(()=>h.current.onBlur({target:{value:Pt(i._formValues,t),name:t},type:xD.BLUR}),[t,i]),ref:rt.useCallback(m=>{const y=Pt(i._fields,t);y&&m&&(y._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:w=>m.setCustomValidity(w),reportValidity:()=>m.reportValidity()})},[i._fields,t])},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pt(u.errors,t)},isDirty:{enumerable:!0,get:()=>!!Pt(u.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!Pt(u.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!Pt(u.validatingFields,t)},error:{enumerable:!0,get:()=>Pt(u.errors,t)}})}}const KSe=n=>n.render(QSe(n));var Jre=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},Qq=n=>({isOnSubmit:!n||n===fd.onSubmit,isOnBlur:n===fd.onBlur,isOnChange:n===fd.onChange,isOnAll:n===fd.all,isOnTouch:n===fd.onTouched}),Kq=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Fk=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const o=Pt(n,i);if(o){const{_f:a,...c}=o;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Fk(c,e))break}else if(Vo(c)&&Fk(c,e))break}}};var XSe=(n,e,t)=>{const r=Ik(Pt(n,t));return ni(r,"root",e[t]),ni(n,t,r),n},y9=n=>n.type==="file",Bh=n=>typeof n=="function",wD=n=>{if(!m9)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},fM=n=>Af(n),b9=n=>n.type==="radio",_D=n=>n instanceof RegExp;const Xq={value:!1,isValid:!1},Zq={value:!0,isValid:!0};var eie=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Eo(n[0].attributes.value)?Eo(n[0].value)||n[0].value===""?Zq:{value:n[0].value,isValid:!0}:Zq:Xq}return Xq};const Jq={isValid:!1,value:null};var tie=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Jq):Jq;function eU(n,e,t="validate"){if(fM(n)||Array.isArray(n)&&n.every(fM)||su(n)&&!n)return{type:t,message:fM(n)?n:"",ref:e}}var g1=n=>Vo(n)&&!_D(n)?n:{value:n,message:""},tU=async(n,e,t,r,i)=>{const{ref:o,refs:a,required:c,maxLength:u,minLength:h,min:m,max:y,pattern:w,validate:S,name:T,valueAsNumber:O,mount:N,disabled:D}=n._f,F=Pt(e,T);if(!N||D)return{};const I=a?a[0]:o,R=he=>{r&&I.reportValidity&&(I.setCustomValidity(su(he)?"":he||""),I.reportValidity())},z={},X=b9(o),Z=E2(o),ae=X||Z,ge=(O||y9(o))&&Eo(o.value)&&Eo(F)||wD(o)&&o.value===""||F===""||Array.isArray(F)&&!F.length,_e=Jre.bind(null,T,t,z),be=(he,fe,pe,Ce=Ch.maxLength,Ae=Ch.minLength)=>{const We=he?fe:pe;z[T]={type:he?Ce:Ae,message:We,ref:o,..._e(he?Ce:Ae,We)}};if(i?!Array.isArray(F)||!F.length:c&&(!ae&&(ge||za(F))||su(F)&&!F||Z&&!eie(a).isValid||X&&!tie(a).isValid)){const{value:he,message:fe}=fM(c)?{value:!!c,message:c}:g1(c);if(he&&(z[T]={type:Ch.required,message:fe,ref:I,..._e(Ch.required,fe)},!t))return R(fe),z}if(!ge&&(!za(m)||!za(y))){let he,fe;const pe=g1(y),Ce=g1(m);if(!za(F)&&!isNaN(F)){const Ae=o.valueAsNumber||F&&+F;za(pe.value)||(he=Ae>pe.value),za(Ce.value)||(fe=Ae<Ce.value)}else{const Ae=o.valueAsDate||new Date(F),We=Je=>new Date(new Date().toDateString()+" "+Je),xe=o.type=="time",$e=o.type=="week";Af(pe.value)&&F&&(he=xe?We(F)>We(pe.value):$e?F>pe.value:Ae>new Date(pe.value)),Af(Ce.value)&&F&&(fe=xe?We(F)<We(Ce.value):$e?F<Ce.value:Ae<new Date(Ce.value))}if((he||fe)&&(be(!!he,pe.message,Ce.message,Ch.max,Ch.min),!t))return R(z[T].message),z}if((u||h)&&!ge&&(Af(F)||i&&Array.isArray(F))){const he=g1(u),fe=g1(h),pe=!za(he.value)&&F.length>+he.value,Ce=!za(fe.value)&&F.length<+fe.value;if((pe||Ce)&&(be(pe,he.message,fe.message),!t))return R(z[T].message),z}if(w&&!ge&&Af(F)){const{value:he,message:fe}=g1(w);if(_D(he)&&!F.match(he)&&(z[T]={type:Ch.pattern,message:fe,ref:o,..._e(Ch.pattern,fe)},!t))return R(fe),z}if(S){if(Bh(S)){const he=await S(F,e),fe=eU(he,I);if(fe&&(z[T]={...fe,..._e(Ch.validate,fe.message)},!t))return R(fe.message),z}else if(Vo(S)){let he={};for(const fe in S){if(!El(he)&&!t)break;const pe=eU(await S[fe](F,e),I,fe);pe&&(he={...pe,..._e(fe,pe.message)},R(pe.message),t&&(z[T]=he))}if(!El(he)&&(z[T]={ref:I,...he},!t))return z}}return R(!0),z};function ZSe(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Eo(n)?r++:n[e[r++]];return n}function JSe(n){for(const e in n)if(n.hasOwnProperty(e)&&!Eo(n[e]))return!1;return!0}function fs(n,e){const t=Array.isArray(e)?e:g9(e)?[e]:Gre(e),r=t.length===1?n:ZSe(n,t),i=t.length-1,o=t[i];return r&&delete r[o],i!==0&&(Vo(r)&&El(r)||Array.isArray(r)&&JSe(r))&&fs(n,t.slice(0,-1)),n}var iL=()=>{let n=[];return{get observers(){return n},next:i=>{for(const o of n)o.next&&o.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(o=>o!==i)}}),unsubscribe:()=>{n=[]}}},K$=n=>za(n)||!Wre(n);function Pm(n,e){if(K$(n)||K$(e))return n===e;if(Cy(n)&&Cy(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const o=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Cy(o)&&Cy(a)||Vo(o)&&Vo(a)||Array.isArray(o)&&Array.isArray(a)?!Pm(o,a):o!==a)return!1}}return!0}var nie=n=>n.type==="select-multiple",eke=n=>b9(n)||E2(n),oL=n=>wD(n)&&n.isConnected,rie=n=>{for(const e in n)if(Bh(n[e]))return!0;return!1};function ED(n,e={}){const t=Array.isArray(n);if(Vo(n)||t)for(const r in n)Array.isArray(n[r])||Vo(n[r])&&!rie(n[r])?(e[r]=Array.isArray(n[r])?[]:{},ED(n[r],e[r])):za(n[r])||(e[r]=!0);return e}function iie(n,e,t){const r=Array.isArray(n);if(Vo(n)||r)for(const i in n)Array.isArray(n[i])||Vo(n[i])&&!rie(n[i])?Eo(e)||K$(t[i])?t[i]=Array.isArray(n[i])?ED(n[i],[]):{...ED(n[i])}:iie(n[i],za(e)?{}:e[i],t[i]):t[i]=!Pm(n[i],e[i]);return t}var FS=(n,e)=>iie(n,e,ED(e)),oie=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Eo(n)?n:e?n===""?NaN:n&&+n:t&&Af(n)?new Date(n):r?r(n):n;function sL(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return y9(e)?e.files:b9(e)?tie(n.refs).value:nie(e)?[...e.selectedOptions].map(({value:t})=>t):E2(e)?eie(n.refs).value:oie(Eo(e.value)?n.ref.value:e.value,n)}var tke=(n,e,t,r)=>{const i={};for(const o of n){const a=Pt(e,o);a&&ni(i,o,a._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},LS=n=>Eo(n)?n:_D(n)?n.source:Vo(n)?_D(n.value)?n.value.source:n.value:n;const nU="AsyncFunction";var nke=n=>(!n||!n.validate)&&!!(Bh(n.validate)&&n.validate.constructor.name===nU||Vo(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===nU)),rke=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function rU(n,e,t){const r=Pt(n,t);if(r||g9(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const o=i.join("."),a=Pt(e,o),c=Pt(n,o);if(a&&!Array.isArray(a)&&t!==o)return{name:t};if(c&&c.type)return{name:o,error:c};i.pop()}return{name:t}}var ike=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,oke=(n,e)=>!rI(Pt(n,e)).length&&fs(n,e);const ske={mode:fd.onSubmit,reValidateMode:fd.onChange,shouldFocusError:!0};function ake(n={}){let e={...ske,...n},t={submitCount:0,isDirty:!1,isLoading:Bh(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Vo(e.defaultValues)||Vo(e.values)?xl(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:xl(i),a={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={values:iL(),array:iL(),state:iL()},w=Qq(e.mode),S=Qq(e.reValidateMode),T=e.criteriaMode===fd.all,O=ve=>Re=>{clearTimeout(h),h=setTimeout(ve,Re)},N=async ve=>{if(!n.disabled&&(m.isValid||ve)){const Re=e.resolver?El((await ae()).errors):await _e(r,!0);Re!==t.isValid&&y.state.next({isValid:Re})}},D=(ve,Re)=>{!n.disabled&&(m.isValidating||m.validatingFields)&&((ve||Array.from(c.mount)).forEach(je=>{je&&(Re?ni(t.validatingFields,je,Re):fs(t.validatingFields,je))}),y.state.next({validatingFields:t.validatingFields,isValidating:!El(t.validatingFields)}))},F=(ve,Re=[],je,at,ht=!0,it=!0)=>{if(at&&je&&!n.disabled){if(a.action=!0,it&&Array.isArray(Pt(r,ve))){const zt=je(Pt(r,ve),at.argA,at.argB);ht&&ni(r,ve,zt)}if(it&&Array.isArray(Pt(t.errors,ve))){const zt=je(Pt(t.errors,ve),at.argA,at.argB);ht&&ni(t.errors,ve,zt),oke(t.errors,ve)}if(m.touchedFields&&it&&Array.isArray(Pt(t.touchedFields,ve))){const zt=je(Pt(t.touchedFields,ve),at.argA,at.argB);ht&&ni(t.touchedFields,ve,zt)}m.dirtyFields&&(t.dirtyFields=FS(i,o)),y.state.next({name:ve,isDirty:he(ve,Re),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ni(o,ve,Re)},I=(ve,Re)=>{ni(t.errors,ve,Re),y.state.next({errors:t.errors})},R=ve=>{t.errors=ve,y.state.next({errors:t.errors,isValid:!1})},z=(ve,Re,je,at)=>{const ht=Pt(r,ve);if(ht){const it=Pt(o,ve,Eo(je)?Pt(i,ve):je);Eo(it)||at&&at.defaultChecked||Re?ni(o,ve,Re?it:sL(ht._f)):Ce(ve,it),a.mount&&N()}},X=(ve,Re,je,at,ht)=>{let it=!1,zt=!1;const tn={name:ve};if(!n.disabled){const _t=!!(Pt(r,ve)&&Pt(r,ve)._f&&Pt(r,ve)._f.disabled);if(!je||at){m.isDirty&&(zt=t.isDirty,t.isDirty=tn.isDirty=he(),it=zt!==tn.isDirty);const or=_t||Pm(Pt(i,ve),Re);zt=!!(!_t&&Pt(t.dirtyFields,ve)),or||_t?fs(t.dirtyFields,ve):ni(t.dirtyFields,ve,!0),tn.dirtyFields=t.dirtyFields,it=it||m.dirtyFields&&zt!==!or}if(je){const or=Pt(t.touchedFields,ve);or||(ni(t.touchedFields,ve,je),tn.touchedFields=t.touchedFields,it=it||m.touchedFields&&or!==je)}it&&ht&&y.state.next(tn)}return it?tn:{}},Z=(ve,Re,je,at)=>{const ht=Pt(t.errors,ve),it=m.isValid&&su(Re)&&t.isValid!==Re;if(n.delayError&&je?(u=O(()=>I(ve,je)),u(n.delayError)):(clearTimeout(h),u=null,je?ni(t.errors,ve,je):fs(t.errors,ve)),(je?!Pm(ht,je):ht)||!El(at)||it){const zt={...at,...it&&su(Re)?{isValid:Re}:{},errors:t.errors,name:ve};t={...t,...zt},y.state.next(zt)}},ae=async ve=>{D(ve,!0);const Re=await e.resolver(o,e.context,tke(ve||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return D(ve),Re},ge=async ve=>{const{errors:Re}=await ae(ve);if(ve)for(const je of ve){const at=Pt(Re,je);at?ni(t.errors,je,at):fs(t.errors,je)}else t.errors=Re;return Re},_e=async(ve,Re,je={valid:!0})=>{for(const at in ve){const ht=ve[at];if(ht){const{_f:it,...zt}=ht;if(it){const tn=c.array.has(it.name),_t=ht._f&&nke(ht._f);_t&&m.validatingFields&&D([at],!0);const or=await tU(ht,o,T,e.shouldUseNativeValidation&&!Re,tn);if(_t&&m.validatingFields&&D([at]),or[it.name]&&(je.valid=!1,Re))break;!Re&&(Pt(or,it.name)?tn?XSe(t.errors,or,it.name):ni(t.errors,it.name,or[it.name]):fs(t.errors,it.name))}!El(zt)&&await _e(zt,Re,je)}}return je.valid},be=()=>{for(const ve of c.unMount){const Re=Pt(r,ve);Re&&(Re._f.refs?Re._f.refs.every(je=>!oL(je)):!oL(Re._f.ref))&&Ct(ve)}c.unMount=new Set},he=(ve,Re)=>!n.disabled&&(ve&&Re&&ni(o,ve,Re),!Pm(Ne(),i)),fe=(ve,Re,je)=>Zre(ve,c,{...a.mount?o:Eo(Re)?i:Af(ve)?{[ve]:Re}:Re},je,Re),pe=ve=>rI(Pt(a.mount?o:i,ve,n.shouldUnregister?Pt(i,ve,[]):[])),Ce=(ve,Re,je={})=>{const at=Pt(r,ve);let ht=Re;if(at){const it=at._f;it&&(!it.disabled&&ni(o,ve,oie(Re,it)),ht=wD(it.ref)&&za(Re)?"":Re,nie(it.ref)?[...it.ref.options].forEach(zt=>zt.selected=ht.includes(zt.value)):it.refs?E2(it.ref)?it.refs.length>1?it.refs.forEach(zt=>(!zt.defaultChecked||!zt.disabled)&&(zt.checked=Array.isArray(ht)?!!ht.find(tn=>tn===zt.value):ht===zt.value)):it.refs[0]&&(it.refs[0].checked=!!ht):it.refs.forEach(zt=>zt.checked=zt.value===ht):y9(it.ref)?it.ref.value="":(it.ref.value=ht,it.ref.type||y.values.next({name:ve,values:{...o}})))}(je.shouldDirty||je.shouldTouch)&&X(ve,ht,je.shouldTouch,je.shouldDirty,!0),je.shouldValidate&&Je(ve)},Ae=(ve,Re,je)=>{for(const at in Re){const ht=Re[at],it=`${ve}.${at}`,zt=Pt(r,it);(c.array.has(ve)||Vo(ht)||zt&&!zt._f)&&!Cy(ht)?Ae(it,ht,je):Ce(it,ht,je)}},We=(ve,Re,je={})=>{const at=Pt(r,ve),ht=c.array.has(ve),it=xl(Re);ni(o,ve,it),ht?(y.array.next({name:ve,values:{...o}}),(m.isDirty||m.dirtyFields)&&je.shouldDirty&&y.state.next({name:ve,dirtyFields:FS(i,o),isDirty:he(ve,it)})):at&&!at._f&&!za(it)?Ae(ve,it,je):Ce(ve,it,je),Kq(ve,c)&&y.state.next({...t}),y.values.next({name:a.mount?ve:void 0,values:{...o}})},xe=async ve=>{a.mount=!0;const Re=ve.target;let je=Re.name,at=!0;const ht=Pt(r,je),it=()=>Re.type?sL(ht._f):qre(ve),zt=tn=>{at=Number.isNaN(tn)||Cy(tn)&&isNaN(tn.getTime())||Pm(tn,Pt(o,je,tn))};if(ht){let tn,_t;const or=it(),Oi=ve.type===xD.BLUR||ve.type===xD.FOCUS_OUT,Rr=!rke(ht._f)&&!e.resolver&&!Pt(t.errors,je)&&!ht._f.deps||ike(Oi,Pt(t.touchedFields,je),t.isSubmitted,S,w),Ss=Kq(je,c,Oi);ni(o,je,or),Oi?(ht._f.onBlur&&ht._f.onBlur(ve),u&&u(0)):ht._f.onChange&&ht._f.onChange(ve);const js=X(je,or,Oi,!1),pr=!El(js)||Ss;if(!Oi&&y.values.next({name:je,type:ve.type,values:{...o}}),Rr)return m.isValid&&(n.mode==="onBlur"?Oi&&N():N()),pr&&y.state.next({name:je,...Ss?{}:js});if(!Oi&&Ss&&y.state.next({...t}),e.resolver){const{errors:Ln}=await ae([je]);if(zt(or),at){const Pn=rU(t.errors,r,je),$n=rU(Ln,r,Pn.name||je);tn=$n.error,je=$n.name,_t=El(Ln)}}else D([je],!0),tn=(await tU(ht,o,T,e.shouldUseNativeValidation))[je],D([je]),zt(or),at&&(tn?_t=!1:m.isValid&&(_t=await _e(r,!0)));at&&(ht._f.deps&&Je(ht._f.deps),Z(je,_t,tn,js))}},$e=(ve,Re)=>{if(Pt(t.errors,Re)&&ve.focus)return ve.focus(),1},Je=async(ve,Re={})=>{let je,at;const ht=Ik(ve);if(e.resolver){const it=await ge(Eo(ve)?ve:ht);je=El(it),at=ve?!ht.some(zt=>Pt(it,zt)):je}else ve?(at=(await Promise.all(ht.map(async it=>{const zt=Pt(r,it);return await _e(zt&&zt._f?{[it]:zt}:zt)}))).every(Boolean),!(!at&&!t.isValid)&&N()):at=je=await _e(r);return y.state.next({...!Af(ve)||m.isValid&&je!==t.isValid?{}:{name:ve},...e.resolver||!ve?{isValid:je}:{},errors:t.errors}),Re.shouldFocus&&!at&&Fk(r,$e,ve?ht:c.mount),at},Ne=ve=>{const Re={...a.mount?o:i};return Eo(ve)?Re:Af(ve)?Pt(Re,ve):ve.map(je=>Pt(Re,je))},Ue=(ve,Re)=>({invalid:!!Pt((Re||t).errors,ve),isDirty:!!Pt((Re||t).dirtyFields,ve),error:Pt((Re||t).errors,ve),isValidating:!!Pt(t.validatingFields,ve),isTouched:!!Pt((Re||t).touchedFields,ve)}),le=ve=>{ve&&Ik(ve).forEach(Re=>fs(t.errors,Re)),y.state.next({errors:ve?t.errors:{}})},Ze=(ve,Re,je)=>{const at=(Pt(r,ve,{_f:{}})._f||{}).ref,ht=Pt(t.errors,ve)||{},{ref:it,message:zt,type:tn,..._t}=ht;ni(t.errors,ve,{..._t,...Re,ref:at}),y.state.next({name:ve,errors:t.errors,isValid:!1}),je&&je.shouldFocus&&at&&at.focus&&at.focus()},Qe=(ve,Re)=>Bh(ve)?y.values.subscribe({next:je=>ve(fe(void 0,Re),je)}):fe(ve,Re,!0),Ct=(ve,Re={})=>{for(const je of ve?Ik(ve):c.mount)c.mount.delete(je),c.array.delete(je),Re.keepValue||(fs(r,je),fs(o,je)),!Re.keepError&&fs(t.errors,je),!Re.keepDirty&&fs(t.dirtyFields,je),!Re.keepTouched&&fs(t.touchedFields,je),!Re.keepIsValidating&&fs(t.validatingFields,je),!e.shouldUnregister&&!Re.keepDefaultValue&&fs(i,je);y.values.next({values:{...o}}),y.state.next({...t,...Re.keepDirty?{isDirty:he()}:{}}),!Re.keepIsValid&&N()},Et=({disabled:ve,name:Re,field:je,fields:at,value:ht})=>{if(su(ve)&&a.mount||ve){const it=ve?void 0:Eo(ht)?sL(je?je._f:Pt(at,Re)._f):ht;ni(o,Re,it),X(Re,it,!1,!1,!0)}},on=(ve,Re={})=>{let je=Pt(r,ve);const at=su(Re.disabled)||su(n.disabled);return ni(r,ve,{...je||{},_f:{...je&&je._f?je._f:{ref:{name:ve}},name:ve,mount:!0,...Re}}),c.mount.add(ve),je?Et({field:je,disabled:su(Re.disabled)?Re.disabled:n.disabled,name:ve,value:Re.value}):z(ve,!0,Re.value),{...at?{disabled:Re.disabled||n.disabled}:{},...e.progressive?{required:!!Re.required,min:LS(Re.min),max:LS(Re.max),minLength:LS(Re.minLength),maxLength:LS(Re.maxLength),pattern:LS(Re.pattern)}:{},name:ve,onChange:xe,onBlur:xe,ref:ht=>{if(ht){on(ve,Re),je=Pt(r,ve);const it=Eo(ht.value)&&ht.querySelectorAll&&ht.querySelectorAll("input,select,textarea")[0]||ht,zt=eke(it),tn=je._f.refs||[];if(zt?tn.find(_t=>_t===it):it===je._f.ref)return;ni(r,ve,{_f:{...je._f,...zt?{refs:[...tn.filter(oL),it,...Array.isArray(Pt(i,ve))?[{}]:[]],ref:{type:it.type,name:ve}}:{ref:it}}}),z(ve,!1,void 0,it)}else je=Pt(r,ve,{}),je._f&&(je._f.mount=!1),(e.shouldUnregister||Re.shouldUnregister)&&!(Ure(c.array,ve)&&a.action)&&c.unMount.add(ve)}}},zn=()=>e.shouldFocusError&&Fk(r,$e,c.mount),ze=ve=>{su(ve)&&(y.state.next({disabled:ve}),Fk(r,(Re,je)=>{const at=Pt(r,je);at&&(Re.disabled=at._f.disabled||ve,Array.isArray(at._f.refs)&&at._f.refs.forEach(ht=>{ht.disabled=at._f.disabled||ve}))},0,!1))},mt=(ve,Re)=>async je=>{let at;je&&(je.preventDefault&&je.preventDefault(),je.persist&&je.persist());let ht=xl(o);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:it,values:zt}=await ae();t.errors=it,ht=zt}else await _e(r);if(fs(t.errors,"root"),El(t.errors)){y.state.next({errors:{}});try{await ve(ht,je)}catch(it){at=it}}else Re&&await Re({...t.errors},je),zn(),setTimeout(zn);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:El(t.errors)&&!at,submitCount:t.submitCount+1,errors:t.errors}),at)throw at},gt=(ve,Re={})=>{Pt(r,ve)&&(Eo(Re.defaultValue)?We(ve,xl(Pt(i,ve))):(We(ve,Re.defaultValue),ni(i,ve,xl(Re.defaultValue))),Re.keepTouched||fs(t.touchedFields,ve),Re.keepDirty||(fs(t.dirtyFields,ve),t.isDirty=Re.defaultValue?he(ve,xl(Pt(i,ve))):he()),Re.keepError||(fs(t.errors,ve),m.isValid&&N()),y.state.next({...t}))},jt=(ve,Re={})=>{const je=ve?xl(ve):i,at=xl(je),ht=El(ve),it=ht?i:at;if(Re.keepDefaultValues||(i=je),!Re.keepValues){if(Re.keepDirtyValues){const zt=new Set([...c.mount,...Object.keys(FS(i,o))]);for(const tn of Array.from(zt))Pt(t.dirtyFields,tn)?ni(it,tn,Pt(o,tn)):We(tn,Pt(it,tn))}else{if(m9&&Eo(ve))for(const zt of c.mount){const tn=Pt(r,zt);if(tn&&tn._f){const _t=Array.isArray(tn._f.refs)?tn._f.refs[0]:tn._f.ref;if(wD(_t)){const or=_t.closest("form");if(or){or.reset();break}}}}r={}}o=n.shouldUnregister?Re.keepDefaultValues?xl(i):{}:xl(it),y.array.next({values:{...it}}),y.values.next({values:{...it}})}c={mount:Re.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!m.isValid||!!Re.keepIsValid||!!Re.keepDirtyValues,a.watch=!!n.shouldUnregister,y.state.next({submitCount:Re.keepSubmitCount?t.submitCount:0,isDirty:ht?!1:Re.keepDirty?t.isDirty:!!(Re.keepDefaultValues&&!Pm(ve,i)),isSubmitted:Re.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ht?{}:Re.keepDirtyValues?Re.keepDefaultValues&&o?FS(i,o):t.dirtyFields:Re.keepDefaultValues&&ve?FS(i,ve):Re.keepDirty?t.dirtyFields:{},touchedFields:Re.keepTouched?t.touchedFields:{},errors:Re.keepErrors?t.errors:{},isSubmitSuccessful:Re.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ht=(ve,Re)=>jt(Bh(ve)?ve(o):ve,Re);return{control:{register:on,unregister:Ct,getFieldState:Ue,handleSubmit:mt,setError:Ze,_executeSchema:ae,_getWatch:fe,_getDirty:he,_updateValid:N,_removeUnmounted:be,_updateFieldArray:F,_updateDisabledField:Et,_getFieldArray:pe,_reset:jt,_resetDefaultValues:()=>Bh(e.defaultValues)&&e.defaultValues().then(ve=>{Ht(ve,e.resetOptions),y.state.next({isLoading:!1})}),_updateFormState:ve=>{t={...t,...ve}},_disableForm:ze,_subjects:y,_proxyFormState:m,_setErrors:R,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(ve){a=ve},get _defaultValues(){return i},get _names(){return c},set _names(ve){c=ve},get _formState(){return t},set _formState(ve){t=ve},get _options(){return e},set _options(ve){e={...e,...ve}}},trigger:Je,register:on,handleSubmit:mt,watch:Qe,setValue:We,getValues:Ne,reset:Ht,resetField:gt,clearErrors:le,unregister:Ct,setError:Ze,setFocus:(ve,Re={})=>{const je=Pt(r,ve),at=je&&je._f;if(at){const ht=at.refs?at.refs[0]:at.ref;ht.focus&&(ht.focus(),Re.shouldSelect&&ht.select())}},getFieldState:Ue}}function x9(n={}){const e=rt.useRef(),t=rt.useRef(),[r,i]=rt.useState({isDirty:!1,isValidating:!1,isLoading:Bh(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Bh(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...ake(n),formState:r});const o=e.current.control;return o._options=n,v9({subject:o._subjects.state,next:a=>{Kre(a,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),rt.useEffect(()=>o._disableForm(n.disabled),[o,n.disabled]),rt.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),rt.useEffect(()=>{n.values&&!Pm(n.values,t.current)?(o._reset(n.values,o._options.resetOptions),t.current=n.values,i(a=>({...a}))):o._resetDefaultValues()},[n.values,o]),rt.useEffect(()=>{n.errors&&o._setErrors(n.errors)},[n.errors,o]),rt.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),rt.useEffect(()=>{n.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[n.shouldUnregister,o]),rt.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=Qre(r,o),e.current}const iU=(n,e,t)=>{if(n&&"reportValidity"in n){const r=Pt(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},sie=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?iU(r.ref,t,n):r.refs&&r.refs.forEach(i=>iU(i,t,n))}},lke=(n,e)=>{e.shouldUseNativeValidation&&sie(n,e);const t={};for(const r in n){const i=Pt(e.fields,r),o=Object.assign(n[r]||{},{ref:i&&i.ref});if(cke(e.names||Object.keys(n),r)){const a=Object.assign({},Pt(t,r));ni(a,"root",o),ni(t,r,a)}else ni(t,r,o)}return t},cke=(n,e)=>n.some(t=>t.startsWith(e+"."));var uke=function(n,e){for(var t={};n.length;){var r=n[0],i=r.code,o=r.message,a=r.path.join(".");if(!t[a])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];t[a]={message:c.message,type:c.code}}else t[a]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(m){return m.errors.forEach(function(y){return n.push(y)})}),e){var u=t[a].types,h=u&&u[r.code];t[a]=Jre(a,e,t,i,h?[].concat(h,r.message):r.message)}n.shift()}return t},w9=function(n,e,t){return t===void 0&&(t={}),function(r,i,o){try{return Promise.resolve(function(a,c){try{var u=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(h){return o.shouldUseNativeValidation&&sie({},o),{errors:{},values:t.raw?r:h}})}catch(h){return c(h)}return u&&u.then?u.then(void 0,c):u}(0,function(a){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(a))return{values:{},errors:lke(uke(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}}},dke="Label",aie=U.forwardRef((n,e)=>L.jsx(Br.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));aie.displayName=dke;var lie=aie;const fke=B8("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cie=U.forwardRef(({className:n,...e},t)=>L.jsx(lie,{ref:t,className:dr(fke(),n),...e}));cie.displayName=lie.displayName;const _9=USe,uie=U.createContext({}),qx=({...n})=>L.jsx(uie.Provider,{value:{name:n.name},children:L.jsx(KSe,{...n})}),oI=()=>{const n=U.useContext(uie),e=U.useContext(die),{getFieldState:t,formState:r}=iI(),i=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:n.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},die=U.createContext({}),e0=U.forwardRef(({className:n,...e},t)=>{const r=U.useId();return L.jsx(die.Provider,{value:{id:r},children:L.jsx("div",{ref:t,className:dr("space-y-2",n),...e})})});e0.displayName="FormItem";const t0=U.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:i}=oI();return L.jsx(cie,{ref:t,className:dr(r&&"text-destructive",n),htmlFor:i,...e})});t0.displayName="FormLabel";const n0=U.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:o}=oI();return L.jsx(hg,{ref:e,id:r,"aria-describedby":t?`${i} ${o}`:`${i}`,"aria-invalid":!!t,...n})});n0.displayName="FormControl";const hke=U.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=oI();return L.jsx("p",{ref:t,id:r,className:dr("text-sm text-muted-foreground",n),...e})});hke.displayName="FormDescription";const r0=U.forwardRef(({className:n,children:e,...t},r)=>{const{error:i,formMessageId:o}=oI(),a=i?String(i==null?void 0:i.message):e;return a?L.jsx("p",{ref:r,id:o,className:dr("text-sm font-medium text-destructive",n),...t,children:a}):null});r0.displayName="FormMessage";const aL=768;function fie(){const[n,e]=U.useState(void 0);return U.useEffect(()=>{const t=window.matchMedia(`(max-width: ${aL-1}px)`),r=()=>{e(window.innerWidth<aL)};return t.addEventListener("change",r),e(window.innerWidth<aL),()=>t.removeEventListener("change",r)},[]),!!n}const pke=qh.object({name:qh.string().min(2,{message:"O nome deve ter pelo menos 2 caracteres"}),description:qh.string().min(5,{message:"A descrio deve ter pelo menos 5 caracteres"})}),oU=()=>{const n=Dg(),{id:e}=m2(),t=Rg(),r=!!e,i=fie(),[o,a]=U.useState(""),c=x9({resolver:w9(pke),defaultValues:{name:"",description:""}}),{data:u,isLoading:h}=bs({queryKey:["process",e],queryFn:()=>Ff.getProcessById(e),enabled:r});U.useEffect(()=>{u&&(c.reset({name:u.name,description:u.description}),a(u.xml))},[u,c]);const m=tp({mutationFn:T=>Ff.createProcess(T),onSuccess:()=>{t.invalidateQueries({queryKey:["processes"]}),Lo.success("Processo criado com sucesso"),n("/processes")},onError:()=>{Lo.error("Falha ao criar processo")}}),y=tp({mutationFn:({id:T,data:O})=>Ff.updateProcess(T,O),onSuccess:()=>{t.invalidateQueries({queryKey:["processes"]}),t.invalidateQueries({queryKey:["process",e]}),Lo.success("Processo atualizado com sucesso"),n("/processes")},onError:()=>{Lo.error("Falha ao atualizar processo")}}),w=T=>{a(T)},S=T=>{if(!o){Lo.error("O diagrama BPMN  obrigatrio");return}const O={name:T.name,description:T.description,xml:o};r&&e?y.mutate({id:e,data:O}):m.mutate(O)};return L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(hr,{variant:"outline",size:"icon",onClick:()=>n("/processes"),children:L.jsx(b2,{className:"h-4 w-4"})}),L.jsx("h2",{className:"ml-4 text-3xl font-bold",children:r?"Editar Processo":"Novo Processo"})]}),L.jsxs("div",{className:"grid gap-6",children:[L.jsxs($o,{className:`h-[calc(100vh-250px)] ${i||!i&&window.innerWidth<1280?"w-full":""}`,children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:"Diagrama do Processo"}),L.jsx(Ec,{children:"Desenhe seu diagrama BPMN usando o modelador abaixo"})]}),L.jsx(Bo,{className:"h-[calc(100%-130px)]",children:h&&r?L.jsx("div",{className:"flex h-full w-full items-center justify-center",children:L.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):L.jsx(Dre,{initialXml:o,onChange:w})})]}),L.jsxs($o,{className:`${i||!i&&window.innerWidth<1280?"w-full":""}`,children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:"Detalhes do Processo"}),L.jsx(Ec,{children:"Insira as informaes bsicas sobre seu processo BPMN"})]}),L.jsx(Bo,{children:L.jsx(_9,{...c,children:L.jsxs("form",{onSubmit:c.handleSubmit(S),className:"space-y-4",children:[L.jsx(qx,{control:c.control,name:"name",render:({field:T})=>L.jsxs(e0,{children:[L.jsx(t0,{children:"Nome"}),L.jsx(n0,{children:L.jsx(f9,{placeholder:"Digite o nome do processo",...T})}),L.jsx(r0,{})]})}),L.jsx(qx,{control:c.control,name:"description",render:({field:T})=>L.jsxs(e0,{children:[L.jsx(t0,{children:"Descrio"}),L.jsx(n0,{children:L.jsx(h9,{placeholder:"Digite a descrio do processo",rows:4,...T})}),L.jsx(r0,{})]})}),L.jsxs(hr,{type:"submit",className:"w-full",disabled:h||m.isPending||y.isPending,children:[L.jsx(H8,{className:"mr-2 h-4 w-4"}),r?"Atualizar Processo":"Salvar Processo"]})]})})})]})]})]})},mke=()=>{const n=Dg(),{id:e}=m2(),{data:t,isLoading:r}=bs({queryKey:["process",e],queryFn:()=>Ff.getProcessById(e),enabled:!!e}),{data:i}=bs({queryKey:["integration","byProcess",e],queryFn:()=>ig.getIntegrationByProcessId(e),enabled:!!e}),{data:o,isLoading:a}=bs({queryKey:["form",i==null?void 0:i.formId],queryFn:()=>Lf.getFormById(i==null?void 0:i.formId),enabled:!!(i!=null&&i.formId)});return r?L.jsx("div",{className:"flex h-[calc(100vh-120px)] items-center justify-center",children:L.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):t?L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(hr,{variant:"outline",size:"icon",onClick:()=>n("/processes"),children:L.jsx(b2,{className:"h-4 w-4"})}),L.jsx("h2",{className:"ml-4 text-3xl font-bold",children:t.name})]}),L.jsxs("div",{className:"mt-4 flex space-x-2 md:mt-0",children:[L.jsx(hr,{asChild:!0,variant:"outline",children:L.jsxs("span",{onClick:()=>n(`/processes/${e}/edit`),children:[L.jsx(x2,{className:"mr-2 h-4 w-4"}),"Editar Processo"]})}),i?L.jsx(hr,{asChild:!0,variant:"outline",children:L.jsxs("span",{onClick:()=>n(`/integration/${i.id}`),children:[L.jsx(sD,{className:"mr-2 h-4 w-4"}),"Ver Integrao"]})}):L.jsx(hr,{asChild:!0,children:L.jsxs("span",{onClick:()=>n(`/integration?processId=${e}`),children:[L.jsx(sD,{className:"mr-2 h-4 w-4"}),"Vincular ao Formulrio"]})})]})]}),L.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[L.jsxs($o,{className:"lg:col-span-1",children:[L.jsx(jo,{children:L.jsx(Ls,{children:"Detalhes do Processo"})}),L.jsxs(Bo,{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Descrio"}),L.jsx("p",{children:t.description})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Criado"}),L.jsx("p",{children:ip(new Date(t.createdAt),"PPP 's' pp")})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"ltima Atualizao"}),L.jsx("p",{children:ip(new Date(t.updatedAt),"PPP 's' pp")})]})]}),L.jsx(Ng,{className:"border-t p-4",children:L.jsxs("div",{className:"w-full",children:[L.jsx("h3",{className:"mb-2 text-sm font-medium text-muted-foreground",children:"Formulrio Vinculado"}),o?L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{children:o.name}),L.jsx(hr,{variant:"outline",size:"sm",onClick:()=>n(`/forms/${o.id}`),children:"Ver Formulrio"})]}):L.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum formulrio vinculado a este processo"})]})})]}),L.jsxs($o,{className:"h-[calc(100vh-250px)] lg:col-span-2",children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:"Diagrama do Processo"}),L.jsx(Ec,{children:"Visualizao do diagrama BPMN (somente leitura)"})]}),L.jsx(Bo,{className:"h-[calc(100%-130px)]",children:L.jsx(Dre,{initialXml:t.xml,readOnly:!0})})]})]})]}):L.jsx("div",{className:"flex h-[calc(100vh-120px)] items-center justify-center",children:L.jsxs("div",{className:"text-center",children:[L.jsx("h2",{className:"text-2xl font-bold",children:"Processo no encontrado"}),L.jsx("p",{className:"text-muted-foreground",children:"O processo solicitado no existe"}),L.jsx(hr,{onClick:()=>n("/processes"),className:"mt-4",children:"Voltar para processos"})]})})},gke=()=>L.jsx("div",{className:"flex h-[calc(100vh-160px)] items-center justify-center",children:L.jsxs("div",{className:"mx-auto flex max-w-md flex-col items-center justify-center text-center",children:[L.jsx("div",{className:"mb-4 rounded-full bg-primary/10 p-3",children:L.jsx(V8,{className:"h-10 w-10 text-primary"})}),L.jsx("h2",{className:"text-2xl font-bold",children:"No forms found"}),L.jsx("p",{className:"mt-2 text-muted-foreground",children:"Create your first dynamic form to start collecting data for your processes."}),L.jsx(hr,{asChild:!0,className:"mt-6",children:L.jsxs(Ks,{to:"/forms/new",children:[L.jsx(mw,{className:"mr-2 h-4 w-4"}),"Create Form"]})})]})}),vke=()=>L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl font-bold",children:"Dynamic Forms"}),L.jsx("p",{className:"text-muted-foreground",children:"Manage your dynamic forms"})]})}),L.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((n,e)=>L.jsxs($o,{children:[L.jsxs(jo,{children:[L.jsx("div",{className:"h-6 w-2/3 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"})]}),L.jsx(Bo,{children:L.jsxs("div",{className:"space-y-2",children:[L.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-md bg-muted"})]})}),L.jsxs(Ng,{className:"flex justify-between",children:[L.jsxs("div",{className:"flex gap-2",children:[L.jsx("div",{className:"h-9 w-16 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"h-9 w-16 animate-pulse rounded-md bg-muted"})]}),L.jsx("div",{className:"h-9 w-20 animate-pulse rounded-md bg-muted"})]})]},e))})]}),yke=()=>{const n=Rg(),{data:e=[],isLoading:t}=bs({queryKey:["forms"],queryFn:()=>Lf.getAllForms()}),r=tp({mutationFn:o=>Lf.deleteForm(o),onSuccess:()=>{n.invalidateQueries({queryKey:["forms"]}),Lo.success("Formulrio excludo com sucesso")},onError:o=>{Lo.error("Falha ao excluir o formulrio"),console.error(o)}}),i=o=>{r.mutate(o)};return t?L.jsx(vke,{}):e.length===0?L.jsx(gke,{}):L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl font-bold",children:"Formulrios Dinmicos"}),L.jsx("p",{className:"text-muted-foreground",children:"Gerencie seus formulrios interativos"})]}),L.jsx(hr,{asChild:!0,className:"mt-4 sm:mt-0",children:L.jsxs(Ks,{to:"/forms/new",children:[L.jsx(mw,{className:"mr-2 h-4 w-4"}),"Novo Formulrio"]})})]}),L.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(o=>{var a,c;return L.jsxs($o,{children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:o.name}),L.jsx(Ec,{children:o.description})]}),L.jsx(Bo,{children:L.jsxs("div",{className:"text-sm text-muted-foreground",children:[L.jsxs("p",{children:["Criado: ",ip(new Date(o.createdAt),"PPP")]}),L.jsxs("p",{children:["ltima atualizao: ",ip(new Date(o.updatedAt),"PPP")]}),L.jsxs("p",{className:"mt-2",children:["Campos: ",((c=(a=o.schema.components)==null?void 0:a.filter(u=>u.key))==null?void 0:c.length)||0]})]})}),L.jsxs(Ng,{className:"flex justify-between",children:[L.jsxs("div",{className:"flex gap-2",children:[L.jsx(hr,{asChild:!0,variant:"outline",size:"sm",children:L.jsxs(Ks,{to:`/forms/${o.id}`,children:[L.jsx(Ute,{className:"mr-2 h-4 w-4"}),"Visualizar"]})}),L.jsx(hr,{asChild:!0,variant:"outline",size:"sm",children:L.jsxs(Ks,{to:`/forms/${o.id}/edit`,children:[L.jsx(x2,{className:"mr-2 h-4 w-4"}),"Editar"]})})]}),L.jsxs(u9,{children:[L.jsx(d9,{asChild:!0,children:L.jsxs(hr,{variant:"destructive",size:"sm",children:[L.jsx(W8,{className:"mr-2 h-4 w-4"}),"Excluir"]})}),L.jsxs(YN,{children:[L.jsxs(QN,{children:[L.jsx(XN,{children:"Confirmar excluso"}),L.jsx(ZN,{children:"Tem certeza que deseja excluir este formulrio? Esta ao no pode ser desfeita."})]}),L.jsxs(KN,{children:[L.jsx(eI,{children:"Cancelar"}),L.jsx(JN,{onClick:()=>i(o.id),children:"Excluir"})]})]})]})]})]},o.id)})})]})};function bke(n,e){return e={exports:{}},n(e,e.exports),e.exports}var xke=bke(function(n){var e=n.exports=function(t,r){if(r||(r=16),t===void 0&&(t=128),t<=0)return"0";for(var i=Math.log(Math.pow(2,t))/Math.log(r),o=2;i===1/0;o*=2)i=Math.log(Math.pow(2,t/o))/Math.log(r)*o;for(var a=i-Math.floor(i),c="",o=0;o<Math.floor(i);o++){var u=Math.floor(Math.random()*r).toString(r);c=u+c}if(a){var h=Math.pow(r,a),u=Math.floor(Math.random()*h).toString(r);c=u+c}var m=parseInt(c,r);return m!==1/0&&m>=Math.pow(2,t)?e(t,r):c};e.rack=function(t,r,i){var o=function(c){var u=0;do{if(u++>10)if(i)t+=i;else throw new Error("too many ID collisions, use more bits");var h=e(t,r)}while(Object.hasOwnProperty.call(a,h));return a[h]=c,h},a=o.hats={};return o.get=function(c){return o.hats[c]},o.set=function(c,u){return o.hats[c]=u,o},o.bits=t||128,o.base=r||16,o}});function Nl(n){if(!(this instanceof Nl))return new Nl(n);n=n||[128,36,1],this._seed=n.length?xke.rack(n[0],n[1],n[2]):n}Nl.prototype.next=function(n){return this._seed(n||!0)};Nl.prototype.nextPrefixed=function(n,e){var t;do t=n+this.next(!0);while(this.assigned(t));return this.claim(t,e),t};Nl.prototype.claim=function(n,e){this._seed.set(n,e||!0)};Nl.prototype.assigned=function(n){return this._seed.get(n)||!1};Nl.prototype.unclaim=function(n){delete this._seed.hats[n]};Nl.prototype.clear=function(){var n=this._seed.hats,e;for(e in n)this.unclaim(e)};const S2=Object.prototype.toString,wke=Object.prototype.hasOwnProperty;function dd(n){return n===void 0}function E9(n){return n!==void 0}function fp(n){return n==null}function Ho(n){return S2.call(n)==="[object Array]"}function ku(n){return S2.call(n)==="[object Object]"}function pa(n){return S2.call(n)==="[object Number]"}function yi(n){const e=S2.call(n);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function Ii(n){return S2.call(n)==="[object String]"}function _ke(n){if(!Ho(n))throw new Error("must supply array")}function S9(n,e){return!fp(n)&&wke.call(n,e)}function Eke(n,e){const t=k9(e);let r;return Gf(n,function(i,o){if(t(i,o))return r=i,!1}),r}function Ske(n,e){const t=k9(e);let r=Ho(n)?-1:void 0;return Gf(n,function(i,o){if(t(i,o))return r=o,!1}),r}function Gf(n,e){let t,r;if(dd(n))return;const i=Ho(n)?Tke:Oke;for(let o in n)if(S9(n,o)&&(t=n[o],r=e(t,i(o)),r===!1))return t}function X$(n,e){if(dd(n))return[];_ke(n);const t=k9(e);return n.filter(function(r,i){return!t(r,i)})}function hie(n,e,t){return Gf(n,function(r,i){t=e(t,r,i)}),t}function kke(n,e){return!!Eke(n,e)}function pie(n,e){let t=[];return Gf(n,function(r,i){t.push(e(r,i))}),t}function Cke(n){return pie(n,e=>e)}function mie(n,e,t={}){return e=vie(e),Gf(n,function(r){let i=e(r)||"_",o=t[i];o||(o=t[i]=[]),o.push(r)}),t}function gie(n,...e){n=vie(n);let t={};return Gf(e,i=>mie(i,n,t)),pie(t,function(i,o){return i[0]})}function vie(n){return yi(n)?n:e=>e[n]}function k9(n){return yi(n)?n:e=>e===n}function Oke(n){return n}function Tke(n){return Number(n)}function Pke(n,e){let t,r,i,o;function a(y){let w=Date.now(),S=y?0:o+e-w;if(S>0)return c(S);n.apply(i,r),u()}function c(y){t=setTimeout(a,y)}function u(){t&&clearTimeout(t),t=o=r=i=void 0}function h(){t&&a(!0),u()}function m(...y){o=Date.now(),r=y,i=this,t||c(e)}return m.flush=h,m.cancel=u,m}function yie(n,e){return n.bind(e)}function C9(n,...e){return Object.assign(n,...e)}function eo(n,e,t){let r=n;return Gf(e,function(i,o){if(typeof i!="number"&&typeof i!="string")throw new Error("illegal key type: "+typeof i+". Key should be of type number or string.");if(i==="constructor")throw new Error("illegal key: constructor");if(i==="__proto__")throw new Error("illegal key: __proto__");let a=e[o+1],c=r[i];E9(a)&&fp(c)&&(c=r[i]=isNaN(+a)?{}:[]),dd(a)?dd(t)?delete r[i]:r[i]=t:r=c}),n}function Xe(n,e,t){let r=n;return Gf(e,function(i){if(fp(r))return r=void 0,!1;r=r[i]}),dd(r)?t:r}var Ake=20,Rke=1,i0=1e6,sU=1e6,Mke=-7,Dke=21,Nke=!1,k2="[big.js] ",b0=k2+"Invalid ",sI=b0+"decimal places",Ike=b0+"rounding mode",bie=k2+"Division by zero",pi={},jf=void 0,Fke=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function xie(){function n(e){var t=this;if(!(t instanceof n))return e===jf?xie():new n(e);if(e instanceof n)t.s=e.s,t.e=e.e,t.c=e.c.slice();else{if(typeof e!="string"){if(n.strict===!0&&typeof e!="bigint")throw TypeError(b0+"value");e=e===0&&1/e<0?"-0":String(e)}Lke(t,e)}t.constructor=n}return n.prototype=pi,n.DP=Ake,n.RM=Rke,n.NE=Mke,n.PE=Dke,n.strict=Nke,n.roundDown=0,n.roundHalfUp=1,n.roundHalfEven=2,n.roundUp=3,n}function Lke(n,e){var t,r,i;if(!Fke.test(e))throw Error(b0+"number");for(n.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)n.c=[n.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(n.e=t-r-1,n.c=[],t=0;r<=i;)n.c[t++]=+e.charAt(r++)}return n}function x0(n,e,t,r){var i=n.c;if(t===jf&&(t=n.constructor.RM),t!==0&&t!==1&&t!==2&&t!==3)throw Error(Ike);if(e<1)r=t===3&&(r||!!i[0])||e===0&&(t===1&&i[0]>=5||t===2&&(i[0]>5||i[0]===5&&(r||i[1]!==jf))),i.length=1,r?(n.e=n.e-e+1,i[0]=1):i[0]=n.e=0;else if(e<i.length){if(r=t===1&&i[e]>=5||t===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==jf||i[e-1]&1))||t===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++n.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return n}function w0(n,e,t){var r=n.e,i=n.c.join(""),o=i.length;if(e)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>o)for(r-=o;r--;)i+="0";else r<o&&(i=i.slice(0,r)+"."+i.slice(r));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return n.s<0&&t?"-"+i:i}pi.abs=function(){var n=new this.constructor(this);return n.s=1,n};pi.cmp=function(n){var e,t=this,r=t.c,i=(n=new t.constructor(n)).c,o=t.s,a=n.s,c=t.e,u=n.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-a:0;if(o!=a)return o;if(e=o<0,c!=u)return c>u^e?1:-1;for(a=(c=r.length)<(u=i.length)?c:u,o=-1;++o<a;)if(r[o]!=i[o])return r[o]>i[o]^e?1:-1;return c==u?0:c>u^e?1:-1};pi.div=function(n){var e=this,t=e.constructor,r=e.c,i=(n=new t(n)).c,o=e.s==n.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>i0)throw Error(sI);if(!i[0])throw Error(bie);if(!r[0])return n.s=o,n.c=[n.e=0],n;var c,u,h,m,y,w=i.slice(),S=c=i.length,T=r.length,O=r.slice(0,c),N=O.length,D=n,F=D.c=[],I=0,R=a+(D.e=e.e-n.e)+1;for(D.s=o,o=R<0?0:R,w.unshift(0);N++<c;)O.push(0);do{for(h=0;h<10;h++){if(c!=(N=O.length))m=c>N?1:-1;else for(y=-1,m=0;++y<c;)if(i[y]!=O[y]){m=i[y]>O[y]?1:-1;break}if(m<0){for(u=N==c?i:w;N;){if(O[--N]<u[N]){for(y=N;y&&!O[--y];)O[y]=9;--O[y],O[N]+=10}O[N]-=u[N]}for(;!O[0];)O.shift()}else break}F[I++]=m?h:++h,O[0]&&m?O[N]=r[S]||0:O=[r[S]]}while((S++<T||O[0]!==jf)&&o--);return!F[0]&&I!=1&&(F.shift(),D.e--,R--),I>R&&x0(D,R,t.RM,O[0]!==jf),D};pi.eq=function(n){return this.cmp(n)===0};pi.gt=function(n){return this.cmp(n)>0};pi.gte=function(n){return this.cmp(n)>-1};pi.lt=function(n){return this.cmp(n)<0};pi.lte=function(n){return this.cmp(n)<1};pi.minus=pi.sub=function(n){var e,t,r,i,o=this,a=o.constructor,c=o.s,u=(n=new a(n)).s;if(c!=u)return n.s=-u,o.plus(n);var h=o.c.slice(),m=o.e,y=n.c,w=n.e;if(!h[0]||!y[0])return y[0]?n.s=-u:h[0]?n=new a(o):n.s=1,n;if(c=m-w){for((i=c<0)?(c=-c,r=h):(w=m,r=y),r.reverse(),u=c;u--;)r.push(0);r.reverse()}else for(t=((i=h.length<y.length)?h:y).length,c=u=0;u<t;u++)if(h[u]!=y[u]){i=h[u]<y[u];break}if(i&&(r=h,h=y,y=r,n.s=-n.s),(u=(t=y.length)-(e=h.length))>0)for(;u--;)h[e++]=0;for(u=e;t>c;){if(h[--t]<y[t]){for(e=t;e&&!h[--e];)h[e]=9;--h[e],h[t]+=10}h[t]-=y[t]}for(;h[--u]===0;)h.pop();for(;h[0]===0;)h.shift(),--w;return h[0]||(n.s=1,h=[w=0]),n.c=h,n.e=w,n};pi.mod=function(n){var e,t=this,r=t.constructor,i=t.s,o=(n=new r(n)).s;if(!n.c[0])throw Error(bie);return t.s=n.s=1,e=n.cmp(t)==1,t.s=i,n.s=o,e?new r(t):(i=r.DP,o=r.RM,r.DP=r.RM=0,t=t.div(n),r.DP=i,r.RM=o,this.minus(t.times(n)))};pi.neg=function(){var n=new this.constructor(this);return n.s=-n.s,n};pi.plus=pi.add=function(n){var e,t,r,i=this,o=i.constructor;if(n=new o(n),i.s!=n.s)return n.s=-n.s,i.minus(n);var a=i.e,c=i.c,u=n.e,h=n.c;if(!c[0]||!h[0])return h[0]||(c[0]?n=new o(i):n.s=i.s),n;if(c=c.slice(),e=a-u){for(e>0?(u=a,r=h):(e=-e,r=c),r.reverse();e--;)r.push(0);r.reverse()}for(c.length-h.length<0&&(r=h,h=c,c=r),e=h.length,t=0;e;c[e]%=10)t=(c[--e]=c[e]+h[e]+t)/10|0;for(t&&(c.unshift(t),++u),e=c.length;c[--e]===0;)c.pop();return n.c=c,n.e=u,n};pi.pow=function(n){var e=this,t=new e.constructor("1"),r=t,i=n<0;if(n!==~~n||n<-sU||n>sU)throw Error(b0+"exponent");for(i&&(n=-n);n&1&&(r=r.times(e)),n>>=1,!!n;)e=e.times(e);return i?t.div(r):r};pi.prec=function(n,e){if(n!==~~n||n<1||n>i0)throw Error(b0+"precision");return x0(new this.constructor(this),n,e)};pi.round=function(n,e){if(n===jf)n=0;else if(n!==~~n||n<-i0||n>i0)throw Error(sI);return x0(new this.constructor(this),n+this.e+1,e)};pi.sqrt=function(){var n,e,t,r=this,i=r.constructor,o=r.s,a=r.e,c=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error(k2+"No square root");o=Math.sqrt(+w0(r,!0,!0)),o===0||o===1/0?(e=r.c.join(""),e.length+a&1||(e+="0"),o=Math.sqrt(e),a=((a+1)/2|0)-(a<0||a&1),n=new i((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):n=new i(o+""),a=n.e+(i.DP+=4);do t=n,n=c.times(t.plus(r.div(t)));while(t.c.slice(0,a).join("")!==n.c.slice(0,a).join(""));return x0(n,(i.DP-=4)+n.e+1,i.RM)};pi.times=pi.mul=function(n){var e,t=this,r=t.constructor,i=t.c,o=(n=new r(n)).c,a=i.length,c=o.length,u=t.e,h=n.e;if(n.s=t.s==n.s?1:-1,!i[0]||!o[0])return n.c=[n.e=0],n;for(n.e=u+h,a<c&&(e=i,i=o,o=e,h=a,a=c,c=h),e=new Array(h=a+c);h--;)e[h]=0;for(u=c;u--;){for(c=0,h=a+u;h>u;)c=e[h]+o[u]*i[h-u-1]+c,e[h--]=c%10,c=c/10|0;e[h]=c}for(c?++n.e:e.shift(),u=e.length;!e[--u];)e.pop();return n.c=e,n};pi.toExponential=function(n,e){var t=this,r=t.c[0];if(n!==jf){if(n!==~~n||n<0||n>i0)throw Error(sI);for(t=x0(new t.constructor(t),++n,e);t.c.length<n;)t.c.push(0)}return w0(t,!0,!!r)};pi.toFixed=function(n,e){var t=this,r=t.c[0];if(n!==jf){if(n!==~~n||n<0||n>i0)throw Error(sI);for(t=x0(new t.constructor(t),n+t.e+1,e),n=n+t.e+1;t.c.length<n;)t.c.push(0)}return w0(t,!1,!!r)};pi[Symbol.for("nodejs.util.inspect.custom")]=pi.toJSON=pi.toString=function(){var n=this,e=n.constructor;return w0(n,n.e<=e.NE||n.e>=e.PE,!!n.c[0])};pi.toNumber=function(){var n=+w0(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(n.toString()))throw Error(k2+"Imprecise conversion");return n};pi.toPrecision=function(n,e){var t=this,r=t.constructor,i=t.c[0];if(n!==jf){if(n!==~~n||n<1||n>i0)throw Error(b0+"precision");for(t=x0(new r(t),n,e);t.c.length<n;)t.c.push(0)}return w0(t,n<=t.e||t.e<=r.NE||t.e>=r.PE,!!i)};pi.valueOf=function(){var n=this,e=n.constructor;if(e.strict===!0)throw Error(k2+"valueOf disallowed");return w0(n,n.e<=e.NE||n.e>=e.PE,!0)};var Ns=xie(),wie={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var c in o)e.call(o,c)&&o[c]&&(a=i(a,c));return a}function i(o,a){return a?o?o+" "+a:o+a:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(wie);var $ke=wie.exports;const gn=l2($ke);var aI,ir,_ie,yy,aU,Eie,Sie,kie,O9,Z$,J$,Cie,FC={},Oie=[],jke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,C2=Array.isArray;function Vh(n,e){for(var t in e)n[t]=e[t];return n}function T9(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function tt(n,e,t){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?aI.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)a[o]==null&&(a[o]=n.defaultProps[o]);return hM(n,a,r,i,null)}function hM(n,e,t,r,i){var o={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++_ie,__i:-1,__u:0};return i==null&&ir.vnode!=null&&ir.vnode(o),o}function ki(n){return n.children}function Uh(n,e){this.props=n,this.context=e}function Ux(n,e){if(e==null)return n.__?Ux(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Ux(n):null}function Tie(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Tie(n)}}function ej(n){(!n.__d&&(n.__d=!0)&&yy.push(n)&&!SD.__r++||aU!=ir.debounceRendering)&&((aU=ir.debounceRendering)||Eie)(SD)}function SD(){for(var n,e,t,r,i,o,a,c=1;yy.length;)yy.length>c&&yy.sort(Sie),n=yy.shift(),c=yy.length,n.__d&&(t=void 0,i=(r=(e=n).__v).__e,o=[],a=[],e.__P&&((t=Vh({},r)).__v=r.__v+1,ir.vnode&&ir.vnode(t),P9(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,o,i??Ux(r),!!(32&r.__u),a),t.__v=r.__v,t.__.__k[t.__i]=t,Rie(o,t,a),t.__e!=i&&Tie(t)));SD.__r=0}function Pie(n,e,t,r,i,o,a,c,u,h,m){var y,w,S,T,O,N,D=r&&r.__k||Oie,F=e.length;for(u=Bke(t,e,D,u,F),y=0;y<F;y++)(S=t.__k[y])!=null&&(w=S.__i==-1?FC:D[S.__i]||FC,S.__i=y,N=P9(n,S,w,i,o,a,c,u,h,m),T=S.__e,S.ref&&w.ref!=S.ref&&(w.ref&&A9(w.ref,null,S),m.push(S.ref,S.__c||T,S)),O==null&&T!=null&&(O=T),4&S.__u||w.__k===S.__k?u=Aie(S,u,n):typeof S.type=="function"&&N!==void 0?u=N:T&&(u=T.nextSibling),S.__u&=-7);return t.__e=O,u}function Bke(n,e,t,r,i){var o,a,c,u,h,m=t.length,y=m,w=0;for(n.__k=new Array(i),o=0;o<i;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(u=o+w,(a=n.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?hM(null,a,null,null,null):C2(a)?hM(ki,{children:a},null,null,null):a.constructor==null&&a.__b>0?hM(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=n,a.__b=n.__b+1,c=null,(h=a.__i=Vke(a,t,u,y))!=-1&&(y--,(c=t[h])&&(c.__u|=2)),c==null||c.__v==null?(h==-1&&(i>m?w--:i<m&&w++),typeof a.type!="function"&&(a.__u|=4)):h!=u&&(h==u-1?w--:h==u+1?w++:(h>u?w--:w++,a.__u|=4))):n.__k[o]=null;if(y)for(o=0;o<m;o++)(c=t[o])!=null&&!(2&c.__u)&&(c.__e==r&&(r=Ux(c)),Die(c,c));return r}function Aie(n,e,t){var r,i;if(typeof n.type=="function"){for(r=n.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=n,e=Aie(r[i],e,t));return e}n.__e!=e&&(e&&n.type&&!t.contains(e)&&(e=Ux(n)),t.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function kD(n,e){return e=e||[],n==null||typeof n=="boolean"||(C2(n)?n.some(function(t){kD(t,e)}):e.push(n)),e}function Vke(n,e,t,r){var i,o,a=n.key,c=n.type,u=e[t];if(u===null&&n.key==null||u&&a==u.key&&c==u.type&&!(2&u.__u))return t;if(r>(u!=null&&!(2&u.__u)?1:0))for(i=t-1,o=t+1;i>=0||o<e.length;){if(i>=0){if((u=e[i])&&!(2&u.__u)&&a==u.key&&c==u.type)return i;i--}if(o<e.length){if((u=e[o])&&!(2&u.__u)&&a==u.key&&c==u.type)return o;o++}}return-1}function lU(n,e,t){e[0]=="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||jke.test(e)?t:t+"px"}function GA(n,e,t,r,i){var o;e:if(e=="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||lU(n.style,e,"");if(t)for(e in t)r&&t[e]==r[e]||lU(n.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(kie,"$1")),e=e.toLowerCase()in n||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?r?t.u=r.u:(t.u=O9,n.addEventListener(e,o?J$:Z$,o)):n.removeEventListener(e,o?J$:Z$,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function cU(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=O9++;else if(e.t<t.u)return;return t(ir.event?ir.event(e):e)}}}function P9(n,e,t,r,i,o,a,c,u,h){var m,y,w,S,T,O,N,D,F,I,R,z,X,Z,ae,ge,_e,be=e.type;if(e.constructor!=null)return null;128&t.__u&&(u=!!(32&t.__u),o=[c=e.__e=t.__e]),(m=ir.__b)&&m(e);e:if(typeof be=="function")try{if(D=e.props,F="prototype"in be&&be.prototype.render,I=(m=be.contextType)&&r[m.__c],R=m?I?I.props.value:m.__:r,t.__c?N=(y=e.__c=t.__c).__=y.__E:(F?e.__c=y=new be(D,R):(e.__c=y=new Uh(D,R),y.constructor=be,y.render=Hke),I&&I.sub(y),y.props=D,y.state||(y.state={}),y.context=R,y.__n=r,w=y.__d=!0,y.__h=[],y._sb=[]),F&&y.__s==null&&(y.__s=y.state),F&&be.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=Vh({},y.__s)),Vh(y.__s,be.getDerivedStateFromProps(D,y.__s))),S=y.props,T=y.state,y.__v=e,w)F&&be.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),F&&y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(F&&be.getDerivedStateFromProps==null&&D!==S&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(D,R),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(D,y.__s,R)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(y.props=D,y.state=y.__s,y.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(he){he&&(he.__=e)}),z=0;z<y._sb.length;z++)y.__h.push(y._sb[z]);y._sb=[],y.__h.length&&a.push(y);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(D,y.__s,R),F&&y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(S,T,O)})}if(y.context=R,y.props=D,y.__P=n,y.__e=!1,X=ir.__r,Z=0,F){for(y.state=y.__s,y.__d=!1,X&&X(e),m=y.render(y.props,y.state,y.context),ae=0;ae<y._sb.length;ae++)y.__h.push(y._sb[ae]);y._sb=[]}else do y.__d=!1,X&&X(e),m=y.render(y.props,y.state,y.context),y.state=y.__s;while(y.__d&&++Z<25);y.state=y.__s,y.getChildContext!=null&&(r=Vh(Vh({},r),y.getChildContext())),F&&!w&&y.getSnapshotBeforeUpdate!=null&&(O=y.getSnapshotBeforeUpdate(S,T)),ge=m,m!=null&&m.type===ki&&m.key==null&&(ge=Mie(m.props.children)),c=Pie(n,C2(ge)?ge:[ge],e,t,r,i,o,a,c,u,h),y.base=e.__e,e.__u&=-161,y.__h.length&&a.push(y),N&&(y.__E=y.__=null)}catch(he){if(e.__v=null,u||o!=null)if(he.then){for(e.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,e.__e=c}else for(_e=o.length;_e--;)T9(o[_e]);else e.__e=t.__e,e.__k=t.__k;ir.__e(he,e,t)}else o==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):c=e.__e=zke(t.__e,e,t,r,i,o,a,u,h);return(m=ir.diffed)&&m(e),128&e.__u?void 0:c}function Rie(n,e,t){for(var r=0;r<t.length;r++)A9(t[r],t[++r],t[++r]);ir.__c&&ir.__c(e,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(o){o.call(i)})}catch(o){ir.__e(o,i.__v)}})}function Mie(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:C2(n)?n.map(Mie):Vh({},n)}function zke(n,e,t,r,i,o,a,c,u){var h,m,y,w,S,T,O,N=t.props,D=e.props,F=e.type;if(F=="svg"?i="http://www.w3.org/2000/svg":F=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(h=0;h<o.length;h++)if((S=o[h])&&"setAttribute"in S==!!F&&(F?S.localName==F:S.nodeType==3)){n=S,o[h]=null;break}}if(n==null){if(F==null)return document.createTextNode(D);n=document.createElementNS(i,F,D.is&&D),c&&(ir.__m&&ir.__m(e,o),c=!1),o=null}if(F==null)N===D||c&&n.data==D||(n.data=D);else{if(o=o&&aI.call(n.childNodes),N=t.props||FC,!c&&o!=null)for(N={},h=0;h<n.attributes.length;h++)N[(S=n.attributes[h]).name]=S.value;for(h in N)if(S=N[h],h!="children"){if(h=="dangerouslySetInnerHTML")y=S;else if(!(h in D)){if(h=="value"&&"defaultValue"in D||h=="checked"&&"defaultChecked"in D)continue;GA(n,h,null,S,i)}}for(h in D)S=D[h],h=="children"?w=S:h=="dangerouslySetInnerHTML"?m=S:h=="value"?T=S:h=="checked"?O=S:c&&typeof S!="function"||N[h]===S||GA(n,h,S,N[h],i);if(m)c||y&&(m.__html==y.__html||m.__html==n.innerHTML)||(n.innerHTML=m.__html),e.__k=[];else if(y&&(n.innerHTML=""),Pie(e.type=="template"?n.content:n,C2(w)?w:[w],e,t,r,F=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:t.__k&&Ux(t,0),c,u),o!=null)for(h=o.length;h--;)T9(o[h]);c||(h="value",F=="progress"&&T==null?n.removeAttribute("value"):T!=null&&(T!==n[h]||F=="progress"&&!T||F=="option"&&T!=N[h])&&GA(n,h,T,N[h],i),h="checked",O!=null&&O!=n[h]&&GA(n,h,O,N[h],i))}return n}function A9(n,e,t){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(i){ir.__e(i,t)}}function Die(n,e,t){var r,i;if(ir.unmount&&ir.unmount(n),(r=n.ref)&&(r.current&&r.current!=n.__e||A9(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){ir.__e(o,e)}r.base=r.__P=null}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&Die(r[i],e,t||typeof n.type!="function");t||T9(n.__e),n.__c=n.__=n.__e=void 0}function Hke(n,e,t){return this.constructor(n,t)}function sp(n,e,t){var r,i,o,a;e==document&&(e=document.documentElement),ir.__&&ir.__(n,e),i=(r=typeof t=="function")?null:e.__k,o=[],a=[],P9(e,n=(!r&&t||e).__k=tt(ki,null,[n]),i||FC,FC,e.namespaceURI,!r&&t?[t]:i?null:e.firstChild?aI.call(e.childNodes):null,o,!r&&t?t:i?i.__e:e.firstChild,r,a),Rie(o,n,a)}function $l(n){function e(t){var r,i;return this.getChildContext||(r=new Set,(i={})[e.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&r.forEach(function(a){a.__e=!0,ej(a)})},this.sub=function(o){r.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),a&&a.call(o)}}),t.children}return e.__c="__cC"+Cie++,e.__=n,e.Provider=e.__l=(e.Consumer=function(t,r){return t.children(r)}).contextType=e,e}aI=Oie.slice,ir={__e:function(n,e,t,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(n)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,r||{}),a=i.__d),a)return i.__E=i}catch(c){n=c}throw n}},_ie=0,Uh.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Vh({},this.state),typeof n=="function"&&(n=n(Vh({},t),this.props)),n&&Vh(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),ej(this))},Uh.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),ej(this))},Uh.prototype.render=ki,yy=[],Eie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Sie=function(n,e){return n.__v.__b-e.__v.__b},SD.__r=0,kie=/(PointerCapture)$|Capture$/i,O9=0,Z$=cU(!1),J$=cU(!0),Cie=0;var Wke=0;function B(n,e,t,r,i,o){e||(e={});var a,c,u=e;if("ref"in u)for(c in u={},e)c=="ref"?a=e[c]:u[c]=e[c];var h={type:n,props:u,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Wke,__i:-1,__u:0,__source:i,__self:o};if(typeof n=="function"&&(a=n.defaultProps))for(c in a)u[c]===void 0&&(u[c]=a[c]);return ir.vnode&&ir.vnode(h),h}var o0,to,lL,uU,LC=0,Nie=[],Do=ir,dU=Do.__b,fU=Do.__r,hU=Do.diffed,pU=Do.__c,mU=Do.unmount,gU=Do.__;function O2(n,e){Do.__h&&Do.__h(to,n,LC||e),LC=0;var t=to.__H||(to.__H={__:[],__h:[]});return n>=t.__.length&&t.__.push({}),t.__[n]}function Nt(n){return LC=1,qke(Iie,n)}function qke(n,e,t){var r=O2(o0++,2);if(r.t=n,!r.__c&&(r.__=[t?t(e):Iie(void 0,e),function(c){var u=r.__N?r.__N[0]:r.__[0],h=r.t(u,c);u!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=to,!to.__f)){var i=function(c,u,h){if(!r.__c.__H)return!0;var m=r.__c.__H.__.filter(function(w){return!!w.__c});if(m.every(function(w){return!w.__N}))return!o||o.call(this,c,u,h);var y=r.__c.props!==c;return m.forEach(function(w){if(w.__N){var S=w.__[0];w.__=w.__N,w.__N=void 0,S!==w.__[0]&&(y=!0)}}),o&&o.call(this,c,u,h)||y};to.__f=!0;var o=to.shouldComponentUpdate,a=to.componentWillUpdate;to.componentWillUpdate=function(c,u,h){if(this.__e){var m=o;o=void 0,i(c,u,h),o=m}a&&a.call(this,c,u,h)},to.shouldComponentUpdate=i}return r.__N||r.__}function kt(n,e){var t=O2(o0++,3);!Do.__s&&R9(t.__H,e)&&(t.__=n,t.u=e,to.__H.__h.push(t))}function s0(n,e){var t=O2(o0++,4);!Do.__s&&R9(t.__H,e)&&(t.__=n,t.u=e,to.__h.push(t))}function dn(n){return LC=5,Jt(function(){return{current:n}},[])}function Jt(n,e){var t=O2(o0++,7);return R9(t.__H,e)&&(t.__=n(),t.__H=e,t.__h=n),t.__}function ln(n,e){return LC=8,Jt(function(){return n},e)}function _r(n){var e=to.context[n.__c],t=O2(o0++,9);return t.c=n,e?(t.__==null&&(t.__=!0,e.sub(to)),e.props.value):n.__}function Uke(){for(var n;n=Nie.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(pM),n.__H.__h.forEach(tj),n.__H.__h=[]}catch(e){n.__H.__h=[],Do.__e(e,n.__v)}}Do.__b=function(n){to=null,dU&&dU(n)},Do.__=function(n,e){n&&e.__k&&e.__k.__m&&(n.__m=e.__k.__m),gU&&gU(n,e)},Do.__r=function(n){fU&&fU(n),o0=0;var e=(to=n.__c).__H;e&&(lL===to?(e.__h=[],to.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(pM),e.__h.forEach(tj),e.__h=[],o0=0)),lL=to},Do.diffed=function(n){hU&&hU(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(Nie.push(e)!==1&&uU===Do.requestAnimationFrame||((uU=Do.requestAnimationFrame)||Gke)(Uke)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),lL=to=null},Do.__c=function(n,e){e.some(function(t){try{t.__h.forEach(pM),t.__h=t.__h.filter(function(r){return!r.__||tj(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Do.__e(r,t.__v)}}),pU&&pU(n,e)},Do.unmount=function(n){mU&&mU(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{pM(r)}catch(i){e=i}}),t.__H=void 0,e&&Do.__e(e,t.__v))};var vU=typeof requestAnimationFrame=="function";function Gke(n){var e,t=function(){clearTimeout(r),vU&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);vU&&(e=requestAnimationFrame(t))}function pM(n){var e=to,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),to=e}function tj(n){var e=to;n.__c=n.__(),to=e}function R9(n,e){return!n||n.length!==e.length||e.some(function(t,r){return t!==n[r]})}function Iie(n,e){return typeof e=="function"?e(n):e}function Yke(){this.__data__=[],this.size=0}var Qke=Yke;function Kke(n,e){return n===e||n!==n&&e!==e}var Fie=Kke,Xke=Fie;function Zke(n,e){for(var t=n.length;t--;)if(Xke(n[t][0],e))return t;return-1}var lI=Zke,Jke=lI,eCe=Array.prototype,tCe=eCe.splice;function nCe(n){var e=this.__data__,t=Jke(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():tCe.call(e,t,1),--this.size,!0}var rCe=nCe,iCe=lI;function oCe(n){var e=this.__data__,t=iCe(e,n);return t<0?void 0:e[t][1]}var sCe=oCe,aCe=lI;function lCe(n){return aCe(this.__data__,n)>-1}var cCe=lCe,uCe=lI;function dCe(n,e){var t=this.__data__,r=uCe(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var fCe=dCe,hCe=Qke,pCe=rCe,mCe=sCe,gCe=cCe,vCe=fCe;function bw(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}bw.prototype.clear=hCe;bw.prototype.delete=pCe;bw.prototype.get=mCe;bw.prototype.has=gCe;bw.prototype.set=vCe;var cI=bw,yCe=cI;function bCe(){this.__data__=new yCe,this.size=0}var xCe=bCe;function wCe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var _Ce=wCe;function ECe(n){return this.__data__.get(n)}var SCe=ECe;function kCe(n){return this.__data__.has(n)}var CCe=kCe,OCe=typeof Sf=="object"&&Sf&&Sf.Object===Object&&Sf,Lie=OCe,TCe=Lie,PCe=typeof self=="object"&&self&&self.Object===Object&&self,ACe=TCe||PCe||Function("return this")(),hp=ACe,RCe=hp,MCe=RCe.Symbol,M9=MCe,yU=M9,$ie=Object.prototype,DCe=$ie.hasOwnProperty,NCe=$ie.toString,$S=yU?yU.toStringTag:void 0;function ICe(n){var e=DCe.call(n,$S),t=n[$S];try{n[$S]=void 0;var r=!0}catch{}var i=NCe.call(n);return r&&(e?n[$S]=t:delete n[$S]),i}var FCe=ICe,LCe=Object.prototype,$Ce=LCe.toString;function jCe(n){return $Ce.call(n)}var BCe=jCe,bU=M9,VCe=FCe,zCe=BCe,HCe="[object Null]",WCe="[object Undefined]",xU=bU?bU.toStringTag:void 0;function qCe(n){return n==null?n===void 0?WCe:HCe:xU&&xU in Object(n)?VCe(n):zCe(n)}var uI=qCe;function UCe(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var jie=UCe,GCe=uI,YCe=jie,QCe="[object AsyncFunction]",KCe="[object Function]",XCe="[object GeneratorFunction]",ZCe="[object Proxy]";function JCe(n){if(!YCe(n))return!1;var e=GCe(n);return e==KCe||e==XCe||e==QCe||e==ZCe}var Bie=JCe,e2e=hp,t2e=e2e["__core-js_shared__"],n2e=t2e,cL=n2e,wU=function(){var n=/[^.]+$/.exec(cL&&cL.keys&&cL.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r2e(n){return!!wU&&wU in n}var i2e=r2e,o2e=Function.prototype,s2e=o2e.toString;function a2e(n){if(n!=null){try{return s2e.call(n)}catch{}try{return n+""}catch{}}return""}var Vie=a2e,l2e=Bie,c2e=i2e,u2e=jie,d2e=Vie,f2e=/[\\^$.*+?()[\]{}|]/g,h2e=/^\[object .+?Constructor\]$/,p2e=Function.prototype,m2e=Object.prototype,g2e=p2e.toString,v2e=m2e.hasOwnProperty,y2e=RegExp("^"+g2e.call(v2e).replace(f2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b2e(n){if(!u2e(n)||c2e(n))return!1;var e=l2e(n)?y2e:h2e;return e.test(d2e(n))}var x2e=b2e;function w2e(n,e){return n==null?void 0:n[e]}var _2e=w2e,E2e=x2e,S2e=_2e;function k2e(n,e){var t=S2e(n,e);return E2e(t)?t:void 0}var xw=k2e,C2e=xw,O2e=hp,T2e=C2e(O2e,"Map"),D9=T2e,P2e=xw,A2e=P2e(Object,"create"),dI=A2e,_U=dI;function R2e(){this.__data__=_U?_U(null):{},this.size=0}var M2e=R2e;function D2e(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var N2e=D2e,I2e=dI,F2e="__lodash_hash_undefined__",L2e=Object.prototype,$2e=L2e.hasOwnProperty;function j2e(n){var e=this.__data__;if(I2e){var t=e[n];return t===F2e?void 0:t}return $2e.call(e,n)?e[n]:void 0}var B2e=j2e,V2e=dI,z2e=Object.prototype,H2e=z2e.hasOwnProperty;function W2e(n){var e=this.__data__;return V2e?e[n]!==void 0:H2e.call(e,n)}var q2e=W2e,U2e=dI,G2e="__lodash_hash_undefined__";function Y2e(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=U2e&&e===void 0?G2e:e,this}var Q2e=Y2e,K2e=M2e,X2e=N2e,Z2e=B2e,J2e=q2e,eOe=Q2e;function ww(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ww.prototype.clear=K2e;ww.prototype.delete=X2e;ww.prototype.get=Z2e;ww.prototype.has=J2e;ww.prototype.set=eOe;var tOe=ww,EU=tOe,nOe=cI,rOe=D9;function iOe(){this.size=0,this.__data__={hash:new EU,map:new(rOe||nOe),string:new EU}}var oOe=iOe;function sOe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var aOe=sOe,lOe=aOe;function cOe(n,e){var t=n.__data__;return lOe(e)?t[typeof e=="string"?"string":"hash"]:t.map}var fI=cOe,uOe=fI;function dOe(n){var e=uOe(this,n).delete(n);return this.size-=e?1:0,e}var fOe=dOe,hOe=fI;function pOe(n){return hOe(this,n).get(n)}var mOe=pOe,gOe=fI;function vOe(n){return gOe(this,n).has(n)}var yOe=vOe,bOe=fI;function xOe(n,e){var t=bOe(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var wOe=xOe,_Oe=oOe,EOe=fOe,SOe=mOe,kOe=yOe,COe=wOe;function _w(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_w.prototype.clear=_Oe;_w.prototype.delete=EOe;_w.prototype.get=SOe;_w.prototype.has=kOe;_w.prototype.set=COe;var zie=_w,OOe=cI,TOe=D9,POe=zie,AOe=200;function ROe(n,e){var t=this.__data__;if(t instanceof OOe){var r=t.__data__;if(!TOe||r.length<AOe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new POe(r)}return t.set(n,e),this.size=t.size,this}var MOe=ROe,DOe=cI,NOe=xCe,IOe=_Ce,FOe=SCe,LOe=CCe,$Oe=MOe;function Ew(n){var e=this.__data__=new DOe(n);this.size=e.size}Ew.prototype.clear=NOe;Ew.prototype.delete=IOe;Ew.prototype.get=FOe;Ew.prototype.has=LOe;Ew.prototype.set=$Oe;var jOe=Ew,BOe="__lodash_hash_undefined__";function VOe(n){return this.__data__.set(n,BOe),this}var zOe=VOe;function HOe(n){return this.__data__.has(n)}var WOe=HOe,qOe=zie,UOe=zOe,GOe=WOe;function CD(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new qOe;++e<t;)this.add(n[e])}CD.prototype.add=CD.prototype.push=UOe;CD.prototype.has=GOe;var YOe=CD;function QOe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var KOe=QOe;function XOe(n,e){return n.has(e)}var ZOe=XOe,JOe=YOe,eTe=KOe,tTe=ZOe,nTe=1,rTe=2;function iTe(n,e,t,r,i,o){var a=t&nTe,c=n.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var h=o.get(n),m=o.get(e);if(h&&m)return h==e&&m==n;var y=-1,w=!0,S=t&rTe?new JOe:void 0;for(o.set(n,e),o.set(e,n);++y<c;){var T=n[y],O=e[y];if(r)var N=a?r(O,T,y,e,n,o):r(T,O,y,n,e,o);if(N!==void 0){if(N)continue;w=!1;break}if(S){if(!eTe(e,function(D,F){if(!tTe(S,F)&&(T===D||i(T,D,t,r,o)))return S.push(F)})){w=!1;break}}else if(!(T===O||i(T,O,t,r,o))){w=!1;break}}return o.delete(n),o.delete(e),w}var Hie=iTe,oTe=hp,sTe=oTe.Uint8Array,aTe=sTe;function lTe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var cTe=lTe;function uTe(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var dTe=uTe,SU=M9,kU=aTe,fTe=Fie,hTe=Hie,pTe=cTe,mTe=dTe,gTe=1,vTe=2,yTe="[object Boolean]",bTe="[object Date]",xTe="[object Error]",wTe="[object Map]",_Te="[object Number]",ETe="[object RegExp]",STe="[object Set]",kTe="[object String]",CTe="[object Symbol]",OTe="[object ArrayBuffer]",TTe="[object DataView]",CU=SU?SU.prototype:void 0,uL=CU?CU.valueOf:void 0;function PTe(n,e,t,r,i,o,a){switch(t){case TTe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case OTe:return!(n.byteLength!=e.byteLength||!o(new kU(n),new kU(e)));case yTe:case bTe:case _Te:return fTe(+n,+e);case xTe:return n.name==e.name&&n.message==e.message;case ETe:case kTe:return n==e+"";case wTe:var c=pTe;case STe:var u=r&gTe;if(c||(c=mTe),n.size!=e.size&&!u)return!1;var h=a.get(n);if(h)return h==e;r|=vTe,a.set(n,e);var m=hTe(c(n),c(e),r,i,o,a);return a.delete(n),m;case CTe:if(uL)return uL.call(n)==uL.call(e)}return!1}var ATe=PTe;function RTe(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var MTe=RTe,DTe=Array.isArray,N9=DTe,NTe=MTe,ITe=N9;function FTe(n,e,t){var r=e(n);return ITe(n)?r:NTe(r,t(n))}var LTe=FTe;function $Te(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var a=n[t];e(a,t,n)&&(o[i++]=a)}return o}var jTe=$Te;function BTe(){return[]}var VTe=BTe,zTe=jTe,HTe=VTe,WTe=Object.prototype,qTe=WTe.propertyIsEnumerable,OU=Object.getOwnPropertySymbols,UTe=OU?function(n){return n==null?[]:(n=Object(n),zTe(OU(n),function(e){return qTe.call(n,e)}))}:HTe,GTe=UTe;function YTe(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var QTe=YTe;function KTe(n){return n!=null&&typeof n=="object"}var hI=KTe,XTe=uI,ZTe=hI,JTe="[object Arguments]";function ePe(n){return ZTe(n)&&XTe(n)==JTe}var tPe=ePe,TU=tPe,nPe=hI,Wie=Object.prototype,rPe=Wie.hasOwnProperty,iPe=Wie.propertyIsEnumerable,oPe=TU(function(){return arguments}())?TU:function(n){return nPe(n)&&rPe.call(n,"callee")&&!iPe.call(n,"callee")},sPe=oPe,OD={exports:{}};function aPe(){return!1}var lPe=aPe;OD.exports;(function(n,e){var t=hp,r=lPe,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===i,c=a?t.Buffer:void 0,u=c?c.isBuffer:void 0,h=u||r;n.exports=h})(OD,OD.exports);var qie=OD.exports,cPe=9007199254740991,uPe=/^(?:0|[1-9]\d*)$/;function dPe(n,e){var t=typeof n;return e=e??cPe,!!e&&(t=="number"||t!="symbol"&&uPe.test(n))&&n>-1&&n%1==0&&n<e}var fPe=dPe,hPe=9007199254740991;function pPe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=hPe}var Uie=pPe,mPe=uI,gPe=Uie,vPe=hI,yPe="[object Arguments]",bPe="[object Array]",xPe="[object Boolean]",wPe="[object Date]",_Pe="[object Error]",EPe="[object Function]",SPe="[object Map]",kPe="[object Number]",CPe="[object Object]",OPe="[object RegExp]",TPe="[object Set]",PPe="[object String]",APe="[object WeakMap]",RPe="[object ArrayBuffer]",MPe="[object DataView]",DPe="[object Float32Array]",NPe="[object Float64Array]",IPe="[object Int8Array]",FPe="[object Int16Array]",LPe="[object Int32Array]",$Pe="[object Uint8Array]",jPe="[object Uint8ClampedArray]",BPe="[object Uint16Array]",VPe="[object Uint32Array]",Hi={};Hi[DPe]=Hi[NPe]=Hi[IPe]=Hi[FPe]=Hi[LPe]=Hi[$Pe]=Hi[jPe]=Hi[BPe]=Hi[VPe]=!0;Hi[yPe]=Hi[bPe]=Hi[RPe]=Hi[xPe]=Hi[MPe]=Hi[wPe]=Hi[_Pe]=Hi[EPe]=Hi[SPe]=Hi[kPe]=Hi[CPe]=Hi[OPe]=Hi[TPe]=Hi[PPe]=Hi[APe]=!1;function zPe(n){return vPe(n)&&gPe(n.length)&&!!Hi[mPe(n)]}var HPe=zPe;function WPe(n){return function(e){return n(e)}}var qPe=WPe,TD={exports:{}};TD.exports;(function(n,e){var t=Lie,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,a=o&&t.process,c=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();n.exports=c})(TD,TD.exports);var UPe=TD.exports,GPe=HPe,YPe=qPe,PU=UPe,AU=PU&&PU.isTypedArray,QPe=AU?YPe(AU):GPe,Gie=QPe,KPe=QTe,XPe=sPe,ZPe=N9,JPe=qie,eAe=fPe,tAe=Gie,nAe=Object.prototype,rAe=nAe.hasOwnProperty;function iAe(n,e){var t=ZPe(n),r=!t&&XPe(n),i=!t&&!r&&JPe(n),o=!t&&!r&&!i&&tAe(n),a=t||r||i||o,c=a?KPe(n.length,String):[],u=c.length;for(var h in n)(e||rAe.call(n,h))&&!(a&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||eAe(h,u)))&&c.push(h);return c}var oAe=iAe,sAe=Object.prototype;function aAe(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||sAe;return n===t}var lAe=aAe;function cAe(n,e){return function(t){return n(e(t))}}var uAe=cAe,dAe=uAe,fAe=dAe(Object.keys,Object),hAe=fAe,pAe=lAe,mAe=hAe,gAe=Object.prototype,vAe=gAe.hasOwnProperty;function yAe(n){if(!pAe(n))return mAe(n);var e=[];for(var t in Object(n))vAe.call(n,t)&&t!="constructor"&&e.push(t);return e}var bAe=yAe,xAe=Bie,wAe=Uie;function _Ae(n){return n!=null&&wAe(n.length)&&!xAe(n)}var EAe=_Ae,SAe=oAe,kAe=bAe,CAe=EAe;function OAe(n){return CAe(n)?SAe(n):kAe(n)}var TAe=OAe,PAe=LTe,AAe=GTe,RAe=TAe;function MAe(n){return PAe(n,RAe,AAe)}var DAe=MAe,RU=DAe,NAe=1,IAe=Object.prototype,FAe=IAe.hasOwnProperty;function LAe(n,e,t,r,i,o){var a=t&NAe,c=RU(n),u=c.length,h=RU(e),m=h.length;if(u!=m&&!a)return!1;for(var y=u;y--;){var w=c[y];if(!(a?w in e:FAe.call(e,w)))return!1}var S=o.get(n),T=o.get(e);if(S&&T)return S==e&&T==n;var O=!0;o.set(n,e),o.set(e,n);for(var N=a;++y<u;){w=c[y];var D=n[w],F=e[w];if(r)var I=a?r(F,D,w,e,n,o):r(D,F,w,n,e,o);if(!(I===void 0?D===F||i(D,F,t,r,o):I)){O=!1;break}N||(N=w=="constructor")}if(O&&!N){var R=n.constructor,z=e.constructor;R!=z&&"constructor"in n&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof z=="function"&&z instanceof z)&&(O=!1)}return o.delete(n),o.delete(e),O}var $Ae=LAe,jAe=xw,BAe=hp,VAe=jAe(BAe,"DataView"),zAe=VAe,HAe=xw,WAe=hp,qAe=HAe(WAe,"Promise"),UAe=qAe,GAe=xw,YAe=hp,QAe=GAe(YAe,"Set"),KAe=QAe,XAe=xw,ZAe=hp,JAe=XAe(ZAe,"WeakMap"),eRe=JAe,nj=zAe,rj=D9,ij=UAe,oj=KAe,sj=eRe,Yie=uI,Sw=Vie,MU="[object Map]",tRe="[object Object]",DU="[object Promise]",NU="[object Set]",IU="[object WeakMap]",FU="[object DataView]",nRe=Sw(nj),rRe=Sw(rj),iRe=Sw(ij),oRe=Sw(oj),sRe=Sw(sj),py=Yie;(nj&&py(new nj(new ArrayBuffer(1)))!=FU||rj&&py(new rj)!=MU||ij&&py(ij.resolve())!=DU||oj&&py(new oj)!=NU||sj&&py(new sj)!=IU)&&(py=function(n){var e=Yie(n),t=e==tRe?n.constructor:void 0,r=t?Sw(t):"";if(r)switch(r){case nRe:return FU;case rRe:return MU;case iRe:return DU;case oRe:return NU;case sRe:return IU}return e});var aRe=py,dL=jOe,lRe=Hie,cRe=ATe,uRe=$Ae,LU=aRe,$U=N9,jU=qie,dRe=Gie,fRe=1,BU="[object Arguments]",VU="[object Array]",YA="[object Object]",hRe=Object.prototype,zU=hRe.hasOwnProperty;function pRe(n,e,t,r,i,o){var a=$U(n),c=$U(e),u=a?VU:LU(n),h=c?VU:LU(e);u=u==BU?YA:u,h=h==BU?YA:h;var m=u==YA,y=h==YA,w=u==h;if(w&&jU(n)){if(!jU(e))return!1;a=!0,m=!1}if(w&&!m)return o||(o=new dL),a||dRe(n)?lRe(n,e,t,r,i,o):cRe(n,e,u,t,r,i,o);if(!(t&fRe)){var S=m&&zU.call(n,"__wrapped__"),T=y&&zU.call(e,"__wrapped__");if(S||T){var O=S?n.value():n,N=T?e.value():e;return o||(o=new dL),i(O,N,t,r,o)}}return w?(o||(o=new dL),uRe(n,e,t,r,i,o)):!1}var mRe=pRe,gRe=mRe,HU=hI;function Qie(n,e,t,r,i){return n===e?!0:n==null||e==null||!HU(n)&&!HU(e)?n!==n&&e!==e:gRe(n,e,t,r,Qie,i)}var vRe=Qie,yRe=vRe;function bRe(n,e){return yRe(n,e)}var xRe=bRe;const kw=l2(xRe);class _0 extends Error{}class wRe extends _0{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class _Re extends _0{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class ERe extends _0{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class H1 extends _0{}class Kie extends _0{constructor(e){super(`Invalid unit ${e}`)}}class la extends _0{}class gm extends _0{constructor(){super("Zone is an abstract class")}}const Ft="numeric",Ad="short",xc="long",PD={year:Ft,month:Ft,day:Ft},Xie={year:Ft,month:Ad,day:Ft},SRe={year:Ft,month:Ad,day:Ft,weekday:Ad},Zie={year:Ft,month:xc,day:Ft},Jie={year:Ft,month:xc,day:Ft,weekday:xc},eoe={hour:Ft,minute:Ft},toe={hour:Ft,minute:Ft,second:Ft},noe={hour:Ft,minute:Ft,second:Ft,timeZoneName:Ad},roe={hour:Ft,minute:Ft,second:Ft,timeZoneName:xc},ioe={hour:Ft,minute:Ft,hourCycle:"h23"},ooe={hour:Ft,minute:Ft,second:Ft,hourCycle:"h23"},soe={hour:Ft,minute:Ft,second:Ft,hourCycle:"h23",timeZoneName:Ad},aoe={hour:Ft,minute:Ft,second:Ft,hourCycle:"h23",timeZoneName:xc},loe={year:Ft,month:Ft,day:Ft,hour:Ft,minute:Ft},coe={year:Ft,month:Ft,day:Ft,hour:Ft,minute:Ft,second:Ft},uoe={year:Ft,month:Ad,day:Ft,hour:Ft,minute:Ft},doe={year:Ft,month:Ad,day:Ft,hour:Ft,minute:Ft,second:Ft},kRe={year:Ft,month:Ad,day:Ft,weekday:Ad,hour:Ft,minute:Ft},foe={year:Ft,month:xc,day:Ft,hour:Ft,minute:Ft,timeZoneName:Ad},hoe={year:Ft,month:xc,day:Ft,hour:Ft,minute:Ft,second:Ft,timeZoneName:Ad},poe={year:Ft,month:xc,day:Ft,weekday:xc,hour:Ft,minute:Ft,timeZoneName:xc},moe={year:Ft,month:xc,day:Ft,weekday:xc,hour:Ft,minute:Ft,second:Ft,timeZoneName:xc};class T2{get type(){throw new gm}get name(){throw new gm}get ianaName(){return this.name}get isUniversal(){throw new gm}offsetName(e,t){throw new gm}formatOffset(e,t){throw new gm}offset(e){throw new gm}equals(e){throw new gm}get isValid(){throw new gm}}let fL=null;class Il extends T2{static get instance(){return fL===null&&(fL=new Il),fL}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return Coe(e,t,r)}formatOffset(e,t){return Lk(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const aj=new Map;function CRe(n){let e=aj.get(n);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),aj.set(n,e)),e}const ORe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function TRe(n,e){const t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,o,a,c,u,h,m]=r;return[a,i,o,c,u,h,m]}function PRe(n,e){const t=n.formatToParts(e),r=[];for(let i=0;i<t.length;i++){const{type:o,value:a}=t[i],c=ORe[o];o==="era"?r[c]=a:Fn(c)||(r[c]=parseInt(a,10))}return r}const hL=new Map;class ap extends T2{static create(e){let t=hL.get(e);return t===void 0&&hL.set(e,t=new ap(e)),t}static resetCache(){hL.clear(),aj.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ap.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return Coe(e,t,r,this.name)}formatOffset(e,t){return Lk(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const r=CRe(this.name);let[i,o,a,c,u,h,m]=r.formatToParts?PRe(r,t):TRe(r,t);c==="BC"&&(i=-Math.abs(i)+1);const w=mI({year:i,month:o,day:a,hour:u===24?0:u,minute:h,second:m,millisecond:0});let S=+t;const T=S%1e3;return S-=T>=0?T:1e3+T,(w-S)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let WU={};function ARe(n,e={}){const t=JSON.stringify([n,e]);let r=WU[t];return r||(r=new Intl.ListFormat(n,e),WU[t]=r),r}const lj=new Map;function cj(n,e={}){const t=JSON.stringify([n,e]);let r=lj.get(t);return r===void 0&&(r=new Intl.DateTimeFormat(n,e),lj.set(t,r)),r}const uj=new Map;function RRe(n,e={}){const t=JSON.stringify([n,e]);let r=uj.get(t);return r===void 0&&(r=new Intl.NumberFormat(n,e),uj.set(t,r)),r}const dj=new Map;function MRe(n,e={}){const{base:t,...r}=e,i=JSON.stringify([n,r]);let o=dj.get(i);return o===void 0&&(o=new Intl.RelativeTimeFormat(n,e),dj.set(i,o)),o}let gk=null;function DRe(){return gk||(gk=new Intl.DateTimeFormat().resolvedOptions().locale,gk)}const fj=new Map;function goe(n){let e=fj.get(n);return e===void 0&&(e=new Intl.DateTimeFormat(n).resolvedOptions(),fj.set(n,e)),e}const hj=new Map;function NRe(n){let e=hj.get(n);if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...voe,...e}),hj.set(n,e)}return e}function IRe(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let r,i;try{r=cj(n).resolvedOptions(),i=n}catch{const u=n.substring(0,t);r=cj(u).resolvedOptions(),i=u}const{numberingSystem:o,calendar:a}=r;return[i,o,a]}}function FRe(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function LRe(n){const e=[];for(let t=1;t<=12;t++){const r=_n.utc(2009,t,1);e.push(n(r))}return e}function $Re(n){const e=[];for(let t=1;t<=7;t++){const r=_n.utc(2016,11,13+t);e.push(n(r))}return e}function QA(n,e,t,r){const i=n.listingMode();return i==="error"?null:i==="en"?t(e):r(e)}function jRe(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||goe(n.locale).numberingSystem==="latn"}class BRe{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:o,...a}=r;if(!t||Object.keys(a).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=RRe(e,c)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):j9(e,3);return Zo(t,this.padTo)}}}class VRe{constructor(e,t,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),c=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&ap.create(c).valid?(i=c,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=cj(t,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:r}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class zRe{constructor(e,t,r){this.opts={style:"long",...r},!t&&Soe()&&(this.rtf=MRe(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):uMe(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const voe={firstDay:1,minimalDays:4,weekend:[6,7]};class ri{static fromOpts(e){return ri.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,i,o=!1){const a=e||wo.defaultLocale,c=a||(o?"en-US":DRe()),u=t||wo.defaultNumberingSystem,h=r||wo.defaultOutputCalendar,m=mj(i)||wo.defaultWeekSettings;return new ri(c,u,h,m,a)}static resetCache(){gk=null,lj.clear(),uj.clear(),dj.clear(),fj.clear(),hj.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:i}={}){return ri.create(e,t,r,i)}constructor(e,t,r,i,o){const[a,c,u]=IRe(e);this.locale=a,this.numberingSystem=t||c||null,this.outputCalendar=r||u||null,this.weekSettings=i,this.intl=FRe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=jRe(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ri.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,mj(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return QA(this,e,Poe,()=>{const r=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=LRe(o=>this.extract(o,r,"month"))),this.monthsCache[i][e]})}weekdays(e,t=!1){return QA(this,e,Moe,()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=$Re(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return QA(this,void 0,()=>Doe,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[_n.utc(2016,11,13,9),_n.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return QA(this,e,Noe,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[_n.utc(-40,1,1),_n.utc(2017,1,1)].map(r=>this.extract(r,t,"era"))),this.eraCache[e]})}extract(e,t,r){const i=this.dtFormatter(e,t),o=i.formatToParts(),a=o.find(c=>c.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new BRe(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new VRe(e,this.intl,t)}relFormatter(e={}){return new zRe(this.intl,this.isEnglish(),e)}listFormatter(e={}){return ARe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||goe(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:koe()?NRe(this.locale):voe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let pL=null;class ys extends T2{static get utcInstance(){return pL===null&&(pL=new ys(0)),pL}static instance(e){return e===0?ys.utcInstance:new ys(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ys(gI(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Lk(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Lk(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Lk(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class HRe extends T2{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Am(n,e){if(Fn(n)||n===null)return e;if(n instanceof T2)return n;if(QRe(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Il.instance:t==="utc"||t==="gmt"?ys.utcInstance:ys.parseSpecifier(t)||ap.create(n)}else return og(n)?ys.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new HRe(n)}const I9={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},qU={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},WRe=I9.hanidec.replace(/[\[|\]]/g,"").split("");function qRe(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);if(n[t].search(I9.hanidec)!==-1)e+=WRe.indexOf(n[t]);else for(const i in qU){const[o,a]=qU[i];r>=o&&r<=a&&(e+=r-o)}}return parseInt(e,10)}else return e}const pj=new Map;function URe(){pj.clear()}function ed({numberingSystem:n},e=""){const t=n||"latn";let r=pj.get(t);r===void 0&&(r=new Map,pj.set(t,r));let i=r.get(e);return i===void 0&&(i=new RegExp(`${I9[t]}${e}`),r.set(e,i)),i}let UU=()=>Date.now(),GU="system",YU=null,QU=null,KU=null,XU=60,ZU,JU=null;class wo{static get now(){return UU}static set now(e){UU=e}static set defaultZone(e){GU=e}static get defaultZone(){return Am(GU,Il.instance)}static get defaultLocale(){return YU}static set defaultLocale(e){YU=e}static get defaultNumberingSystem(){return QU}static set defaultNumberingSystem(e){QU=e}static get defaultOutputCalendar(){return KU}static set defaultOutputCalendar(e){KU=e}static get defaultWeekSettings(){return JU}static set defaultWeekSettings(e){JU=mj(e)}static get twoDigitCutoffYear(){return XU}static set twoDigitCutoffYear(e){XU=e%100}static get throwOnInvalid(){return ZU}static set throwOnInvalid(e){ZU=e}static resetCaches(){ri.resetCache(),ap.resetCache(),_n.resetCache(),URe()}}class vd{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const yoe=[0,31,59,90,120,151,181,212,243,273,304,334],boe=[0,31,60,91,121,152,182,213,244,274,305,335];function fu(n,e){return new vd("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function F9(n,e,t){const r=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function xoe(n,e,t){return t+(P2(n)?boe:yoe)[e-1]}function woe(n,e){const t=P2(n)?boe:yoe,r=t.findIndex(o=>o<e),i=e-t[r];return{month:r+1,day:i}}function L9(n,e){return(n-e+7)%7+1}function AD(n,e=4,t=1){const{year:r,month:i,day:o}=n,a=xoe(r,i,o),c=L9(F9(r,i,o),t);let u=Math.floor((a-c+14-e)/7),h;return u<1?(h=r-1,u=$C(h,e,t)):u>$C(r,e,t)?(h=r+1,u=1):h=r,{weekYear:h,weekNumber:u,weekday:c,...vI(n)}}function eG(n,e=4,t=1){const{weekYear:r,weekNumber:i,weekday:o}=n,a=L9(F9(r,1,e),t),c=ax(r);let u=i*7+o-a-7+e,h;u<1?(h=r-1,u+=ax(h)):u>c?(h=r+1,u-=ax(r)):h=r;const{month:m,day:y}=woe(h,u);return{year:h,month:m,day:y,...vI(n)}}function mL(n){const{year:e,month:t,day:r}=n,i=xoe(e,t,r);return{year:e,ordinal:i,...vI(n)}}function tG(n){const{year:e,ordinal:t}=n,{month:r,day:i}=woe(e,t);return{year:e,month:r,day:i,...vI(n)}}function nG(n,e){if(!Fn(n.localWeekday)||!Fn(n.localWeekNumber)||!Fn(n.localWeekYear)){if(!Fn(n.weekday)||!Fn(n.weekNumber)||!Fn(n.weekYear))throw new H1("Cannot mix locale-based week fields with ISO-based week fields");return Fn(n.localWeekday)||(n.weekday=n.localWeekday),Fn(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),Fn(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function GRe(n,e=4,t=1){const r=pI(n.weekYear),i=hu(n.weekNumber,1,$C(n.weekYear,e,t)),o=hu(n.weekday,1,7);return r?i?o?!1:fu("weekday",n.weekday):fu("week",n.weekNumber):fu("weekYear",n.weekYear)}function YRe(n){const e=pI(n.year),t=hu(n.ordinal,1,ax(n.year));return e?t?!1:fu("ordinal",n.ordinal):fu("year",n.year)}function _oe(n){const e=pI(n.year),t=hu(n.month,1,12),r=hu(n.day,1,RD(n.year,n.month));return e?t?r?!1:fu("day",n.day):fu("month",n.month):fu("year",n.year)}function Eoe(n){const{hour:e,minute:t,second:r,millisecond:i}=n,o=hu(e,0,23)||e===24&&t===0&&r===0&&i===0,a=hu(t,0,59),c=hu(r,0,59),u=hu(i,0,999);return o?a?c?u?!1:fu("millisecond",i):fu("second",r):fu("minute",t):fu("hour",e)}function Fn(n){return typeof n>"u"}function og(n){return typeof n=="number"}function pI(n){return typeof n=="number"&&n%1===0}function QRe(n){return typeof n=="string"}function KRe(n){return Object.prototype.toString.call(n)==="[object Date]"}function Soe(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function koe(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function XRe(n){return Array.isArray(n)?n:[n]}function rG(n,e,t){if(n.length!==0)return n.reduce((r,i)=>{const o=[e(i),i];return r&&t(r[0],o[0])===r[0]?r:o},null)[1]}function ZRe(n,e){return e.reduce((t,r)=>(t[r]=n[r],t),{})}function Gx(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function mj(n){if(n==null)return null;if(typeof n!="object")throw new la("Week settings must be an object");if(!hu(n.firstDay,1,7)||!hu(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!hu(e,1,7)))throw new la("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function hu(n,e,t){return pI(n)&&n>=e&&n<=t}function JRe(n,e){return n-e*Math.floor(n/e)}function Zo(n,e=2){const t=n<0;let r;return t?r="-"+(""+-n).padStart(e,"0"):r=(""+n).padStart(e,"0"),r}function Em(n){if(!(Fn(n)||n===null||n===""))return parseInt(n,10)}function ny(n){if(!(Fn(n)||n===null||n===""))return parseFloat(n)}function $9(n){if(!(Fn(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function j9(n,e,t=!1){const r=10**e;return(t?Math.trunc:Math.round)(n*r)/r}function P2(n){return n%4===0&&(n%100!==0||n%400===0)}function ax(n){return P2(n)?366:365}function RD(n,e){const t=JRe(e-1,12)+1,r=n+(e-t)/12;return t===2?P2(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function mI(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function iG(n,e,t){return-L9(F9(n,1,e),t)+e-1}function $C(n,e=4,t=1){const r=iG(n,e,t),i=iG(n+1,e,t);return(ax(n)-r+i)/7}function gj(n){return n>99?n:n>wo.twoDigitCutoffYear?1900+n:2e3+n}function Coe(n,e,t,r=null){const i=new Date(n),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const a={timeZoneName:e,...o},c=new Intl.DateTimeFormat(t,a).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return c?c.value:null}function gI(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function Ooe(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new la(`Invalid unit value ${n}`);return e}function MD(n,e){const t={};for(const r in n)if(Gx(n,r)){const i=n[r];if(i==null)continue;t[e(r)]=Ooe(i)}return t}function Lk(n,e){const t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return`${i}${Zo(t,2)}:${Zo(r,2)}`;case"narrow":return`${i}${t}${r>0?`:${r}`:""}`;case"techie":return`${i}${Zo(t,2)}${Zo(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function vI(n){return ZRe(n,["hour","minute","second","millisecond"])}const eMe=["January","February","March","April","May","June","July","August","September","October","November","December"],Toe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tMe=["J","F","M","A","M","J","J","A","S","O","N","D"];function Poe(n){switch(n){case"narrow":return[...tMe];case"short":return[...Toe];case"long":return[...eMe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Aoe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Roe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],nMe=["M","T","W","T","F","S","S"];function Moe(n){switch(n){case"narrow":return[...nMe];case"short":return[...Roe];case"long":return[...Aoe];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Doe=["AM","PM"],rMe=["Before Christ","Anno Domini"],iMe=["BC","AD"],oMe=["B","A"];function Noe(n){switch(n){case"narrow":return[...oMe];case"short":return[...iMe];case"long":return[...rMe];default:return null}}function sMe(n){return Doe[n.hour<12?0:1]}function aMe(n,e){return Moe(e)[n.weekday-1]}function lMe(n,e){return Poe(e)[n.month-1]}function cMe(n,e){return Noe(e)[n.year<0?0:1]}function uMe(n,e,t="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&o){const y=n==="days";switch(e){case 1:return y?"tomorrow":`next ${i[n][0]}`;case-1:return y?"yesterday":`last ${i[n][0]}`;case 0:return y?"today":`this ${i[n][0]}`}}const a=Object.is(e,-0)||e<0,c=Math.abs(e),u=c===1,h=i[n],m=r?u?h[1]:h[2]||h[1]:u?i[n][0]:n;return a?`${c} ${m} ago`:`in ${c} ${m}`}function oG(n,e){let t="";for(const r of n)r.literal?t+=r.val:t+=e(r.val);return t}const dMe={D:PD,DD:Xie,DDD:Zie,DDDD:Jie,t:eoe,tt:toe,ttt:noe,tttt:roe,T:ioe,TT:ooe,TTT:soe,TTTT:aoe,f:loe,ff:uoe,fff:foe,ffff:poe,F:coe,FF:doe,FFF:hoe,FFFF:moe};class fa{static create(e,t={}){return new fa(e,t)}static parseFormat(e){let t=null,r="",i=!1;const o=[];for(let a=0;a<e.length;a++){const c=e.charAt(a);c==="'"?(r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),t=null,r="",i=!i):i||c===t?r+=c:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=c,t=c)}return r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(e){return dMe[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Zo(e,t);const r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(S,T)=>this.loc.extract(e,S,T),a=S=>e.isOffsetFixed&&e.offset===0&&S.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,S.format):"",c=()=>r?sMe(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(S,T)=>r?lMe(e,S):o(T?{month:S}:{month:S,day:"numeric"},"month"),h=(S,T)=>r?aMe(e,S):o(T?{weekday:S}:{weekday:S,month:"long",day:"numeric"},"weekday"),m=S=>{const T=fa.macroTokenToFormatOpts(S);return T?this.formatWithSystemDefault(e,T):S},y=S=>r?cMe(e,S):o({era:S},"era"),w=S=>{switch(S){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return i?o({day:"numeric"},"day"):this.num(e.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(e.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(e.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return y("short");case"GG":return y("long");case"GGGGG":return y("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return m(S)}};return oG(fa.parseFormat(t),w)}formatDurationFromString(e,t){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>h=>{const m=r(h);return m?this.num(u.get(m),h.length):h},o=fa.parseFormat(t),a=o.reduce((u,{literal:h,val:m})=>h?u:u.concat(m),[]),c=e.shiftTo(...a.map(r).filter(u=>u));return oG(o,i(c))}}const Ioe=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Cw(...n){const e=n.reduce((t,r)=>t+r.source,"");return RegExp(`^${e}$`)}function Ow(...n){return e=>n.reduce(([t,r,i],o)=>{const[a,c,u]=o(e,i);return[{...t,...a},c||r,u]},[{},null,1]).slice(0,2)}function Tw(n,...e){if(n==null)return[null,null];for(const[t,r]of e){const i=t.exec(n);if(i)return r(i)}return[null,null]}function Foe(...n){return(e,t)=>{const r={};let i;for(i=0;i<n.length;i++)r[n[i]]=Em(e[t+i]);return[r,null,t+i]}}const Loe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,fMe=`(?:${Loe.source}?(?:\\[(${Ioe.source})\\])?)?`,B9=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,$oe=RegExp(`${B9.source}${fMe}`),V9=RegExp(`(?:T${$oe.source})?`),hMe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,pMe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,mMe=/(\d{4})-?(\d{3})/,gMe=Foe("weekYear","weekNumber","weekDay"),vMe=Foe("year","ordinal"),yMe=/(\d{4})-(\d\d)-(\d\d)/,joe=RegExp(`${B9.source} ?(?:${Loe.source}|(${Ioe.source}))?`),bMe=RegExp(`(?: ${joe.source})?`);function lx(n,e,t){const r=n[e];return Fn(r)?t:Em(r)}function xMe(n,e){return[{year:lx(n,e),month:lx(n,e+1,1),day:lx(n,e+2,1)},null,e+3]}function Pw(n,e){return[{hours:lx(n,e,0),minutes:lx(n,e+1,0),seconds:lx(n,e+2,0),milliseconds:$9(n[e+3])},null,e+4]}function A2(n,e){const t=!n[e]&&!n[e+1],r=gI(n[e+1],n[e+2]),i=t?null:ys.instance(r);return[{},i,e+3]}function R2(n,e){const t=n[e]?ap.create(n[e]):null;return[{},t,e+1]}const wMe=RegExp(`^T?${B9.source}$`),_Me=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function EMe(n){const[e,t,r,i,o,a,c,u,h]=n,m=e[0]==="-",y=u&&u[0]==="-",w=(S,T=!1)=>S!==void 0&&(T||S&&m)?-S:S;return[{years:w(ny(t)),months:w(ny(r)),weeks:w(ny(i)),days:w(ny(o)),hours:w(ny(a)),minutes:w(ny(c)),seconds:w(ny(u),u==="-0"),milliseconds:w($9(h),y)}]}const SMe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function z9(n,e,t,r,i,o,a){const c={year:e.length===2?gj(Em(e)):Em(e),month:Toe.indexOf(t)+1,day:Em(r),hour:Em(i),minute:Em(o)};return a&&(c.second=Em(a)),n&&(c.weekday=n.length>3?Aoe.indexOf(n)+1:Roe.indexOf(n)+1),c}const kMe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function CMe(n){const[,e,t,r,i,o,a,c,u,h,m,y]=n,w=z9(e,i,r,t,o,a,c);let S;return u?S=SMe[u]:h?S=0:S=gI(m,y),[w,new ys(S)]}function OMe(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const TMe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,PMe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,AMe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function sG(n){const[,e,t,r,i,o,a,c]=n;return[z9(e,i,r,t,o,a,c),ys.utcInstance]}function RMe(n){const[,e,t,r,i,o,a,c]=n;return[z9(e,c,t,r,i,o,a),ys.utcInstance]}const MMe=Cw(hMe,V9),DMe=Cw(pMe,V9),NMe=Cw(mMe,V9),IMe=Cw($oe),Boe=Ow(xMe,Pw,A2,R2),FMe=Ow(gMe,Pw,A2,R2),LMe=Ow(vMe,Pw,A2,R2),$Me=Ow(Pw,A2,R2);function jMe(n){return Tw(n,[MMe,Boe],[DMe,FMe],[NMe,LMe],[IMe,$Me])}function BMe(n){return Tw(OMe(n),[kMe,CMe])}function VMe(n){return Tw(n,[TMe,sG],[PMe,sG],[AMe,RMe])}function zMe(n){return Tw(n,[_Me,EMe])}const HMe=Ow(Pw);function WMe(n){return Tw(n,[wMe,HMe])}const qMe=Cw(yMe,bMe),UMe=Cw(joe),GMe=Ow(Pw,A2,R2);function YMe(n){return Tw(n,[qMe,Boe],[UMe,GMe])}const aG="Invalid Duration",Voe={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},QMe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Voe},eu=146097/400,v1=146097/4800,KMe={years:{quarters:4,months:12,weeks:eu/7,days:eu,hours:eu*24,minutes:eu*24*60,seconds:eu*24*60*60,milliseconds:eu*24*60*60*1e3},quarters:{months:3,weeks:eu/28,days:eu/4,hours:eu*24/4,minutes:eu*24*60/4,seconds:eu*24*60*60/4,milliseconds:eu*24*60*60*1e3/4},months:{weeks:v1/7,days:v1,hours:v1*24,minutes:v1*24*60,seconds:v1*24*60*60,milliseconds:v1*24*60*60*1e3},...Voe},Oy=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],XMe=Oy.slice(0).reverse();function vm(n,e,t=!1){const r={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new rr(r)}function zoe(n,e){let t=e.milliseconds??0;for(const r of XMe.slice(1))e[r]&&(t+=e[r]*n[r].milliseconds);return t}function lG(n,e){const t=zoe(n,e)<0?-1:1;Oy.reduceRight((r,i)=>{if(Fn(e[i]))return r;if(r){const o=e[r]*t,a=n[i][r],c=Math.floor(o/a);e[i]+=c*t,e[r]-=c*a*t}return i},null),Oy.reduce((r,i)=>{if(Fn(e[i]))return r;if(r){const o=e[r]%1;e[r]-=o,e[i]+=o*n[r][i]}return i},null)}function ZMe(n){const e={};for(const[t,r]of Object.entries(n))r!==0&&(e[t]=r);return e}class rr{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let r=t?KMe:QMe;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||ri.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return rr.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new la(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new rr({values:MD(e,rr.normalizeUnit),loc:ri.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(og(e))return rr.fromMillis(e);if(rr.isDuration(e))return e;if(typeof e=="object")return rr.fromObject(e);throw new la(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=zMe(e);return r?rr.fromObject(r,t):rr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=WMe(e);return r?rr.fromObject(r,t):rr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new la("need to specify a reason the Duration is invalid");const r=e instanceof vd?e:new vd(e,t);if(wo.throwOnInvalid)throw new ERe(r);return new rr({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Kie(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?fa.create(this.loc,r).formatDurationFromString(this,e):aG}toHuman(e={}){if(!this.isValid)return aG;const t=Oy.map(r=>{const i=this.values[r];return Fn(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=j9(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},_n.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?zoe(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=rr.fromDurationLike(e),r={};for(const i of Oy)(Gx(t.values,i)||Gx(this.values,i))&&(r[i]=t.get(i)+this.get(i));return vm(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=rr.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=Ooe(e(this.values[r],r));return vm(this,{values:t},!0)}get(e){return this[rr.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...MD(e,rr.normalizeUnit)};return vm(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:r};return vm(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return lG(this.matrix,e),vm(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=ZMe(this.normalize().shiftToAll().toObject());return vm(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>rr.normalizeUnit(a));const t={},r={},i=this.toObject();let o;for(const a of Oy)if(e.indexOf(a)>=0){o=a;let c=0;for(const h in r)c+=this.matrix[h][a]*r[h],r[h]=0;og(i[a])&&(c+=i[a]);const u=Math.trunc(c);t[a]=u,r[a]=(c*1e3-u*1e3)/1e3}else og(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(t[o]+=a===o?r[a]:r[a]/this.matrix[o][a]);return lG(this.matrix,t),vm(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return vm(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Oy)if(!t(this.values[r],e.values[r]))return!1;return!0}}const y1="Invalid Interval";function JMe(n,e){return!n||!n.isValid?xo.invalid("missing or invalid start"):!e||!e.isValid?xo.invalid("missing or invalid end"):e<n?xo.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class xo{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new la("need to specify a reason the Interval is invalid");const r=e instanceof vd?e:new vd(e,t);if(wo.throwOnInvalid)throw new _Re(r);return new xo({invalid:r})}static fromDateTimes(e,t){const r=jS(e),i=jS(t),o=JMe(r,i);return o??new xo({start:r,end:i})}static after(e,t){const r=rr.fromDurationLike(t),i=jS(e);return xo.fromDateTimes(i,i.plus(r))}static before(e,t){const r=rr.fromDurationLike(t),i=jS(e);return xo.fromDateTimes(i.minus(r),i)}static fromISO(e,t){const[r,i]=(e||"").split("/",2);if(r&&i){let o,a;try{o=_n.fromISO(r,t),a=o.isValid}catch{a=!1}let c,u;try{c=_n.fromISO(i,t),u=c.isValid}catch{u=!1}if(a&&u)return xo.fromDateTimes(o,c);if(a){const h=rr.fromISO(i,t);if(h.isValid)return xo.after(o,h)}else if(u){const h=rr.fromISO(r,t);if(h.isValid)return xo.before(c,h)}}return xo.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const r=this.start.startOf(e,t);let i;return t!=null&&t.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,t),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?xo.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(jS).filter(a=>this.contains(a)).sort((a,c)=>a.toMillis()-c.toMillis()),r=[];let{s:i}=this,o=0;for(;i<this.e;){const a=t[o]||this.e,c=+a>+this.e?this.e:a;r.push(xo.fromDateTimes(i,c)),i=c,o+=1}return r}splitBy(e){const t=rr.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:r}=this,i=1,o;const a=[];for(;r<this.e;){const c=this.start.plus(t.mapUnits(u=>u*i));o=+c>+this.e?this.e:c,a.push(xo.fromDateTimes(r,o)),r=o,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:xo.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return xo.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort((i,o)=>i.s-o.s).reduce(([i,o],a)=>o?o.overlaps(a)||o.abutsStart(a)?[i,o.union(a)]:[i.concat([o]),a]:[i,a],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const i=[],o=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...o),c=a.sort((u,h)=>u.time-h.time);for(const u of c)r+=u.type==="s"?1:-1,r===1?t=u.time:(t&&+t!=+u.time&&i.push(xo.fromDateTimes(t,u.time)),t=null);return xo.merge(i)}difference(...e){return xo.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:y1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=PD,t={}){return this.isValid?fa.create(this.s.loc.clone(t),e).formatInterval(this):y1}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:y1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:y1}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:y1}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:y1}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):rr.invalid(this.invalidReason)}mapEndpoints(e){return xo.fromDateTimes(e(this.s),e(this.e))}}class W1{static hasDST(e=wo.defaultZone){const t=_n.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return ap.isValidZone(e)}static normalizeZone(e){return Am(e,wo.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||ri.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||ri.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||ri.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||ri.create(t,r,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||ri.create(t,r,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||ri.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||ri.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ri.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ri.create(t,null,"gregory").eras(e)}static features(){return{relative:Soe(),localeWeek:koe()}}}function cG(n,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=t(e)-t(n);return Math.floor(rr.fromMillis(r).as("days"))}function eDe(n,e,t){const r=[["years",(u,h)=>h.year-u.year],["quarters",(u,h)=>h.quarter-u.quarter+(h.year-u.year)*4],["months",(u,h)=>h.month-u.month+(h.year-u.year)*12],["weeks",(u,h)=>{const m=cG(u,h);return(m-m%7)/7}],["days",cG]],i={},o=n;let a,c;for(const[u,h]of r)t.indexOf(u)>=0&&(a=u,i[u]=h(n,e),c=o.plus(i),c>e?(i[u]--,n=o.plus(i),n>e&&(c=n,i[u]--,n=o.plus(i))):n=c);return[n,i,c,a]}function tDe(n,e,t,r){let[i,o,a,c]=eDe(n,e,t);const u=e-i,h=t.filter(y=>["hours","minutes","seconds","milliseconds"].indexOf(y)>=0);h.length===0&&(a<e&&(a=i.plus({[c]:1})),a!==i&&(o[c]=(o[c]||0)+u/(a-i)));const m=rr.fromObject(o,r);return h.length>0?rr.fromMillis(u,r).shiftTo(...h).plus(m):m}const nDe="missing Intl.DateTimeFormat.formatToParts support";function Xr(n,e=t=>t){return{regex:n,deser:([t])=>e(qRe(t))}}const rDe="",Hoe=`[ ${rDe}]`,Woe=new RegExp(Hoe,"g");function iDe(n){return n.replace(/\./g,"\\.?").replace(Woe,Hoe)}function uG(n){return n.replace(/\./g,"").replace(Woe," ").toLowerCase()}function td(n,e){return n===null?null:{regex:RegExp(n.map(iDe).join("|")),deser:([t])=>n.findIndex(r=>uG(t)===uG(r))+e}}function dG(n,e){return{regex:n,deser:([,t,r])=>gI(t,r),groups:e}}function KA(n){return{regex:n,deser:([e])=>e}}function oDe(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function sDe(n,e){const t=ed(e),r=ed(e,"{2}"),i=ed(e,"{3}"),o=ed(e,"{4}"),a=ed(e,"{6}"),c=ed(e,"{1,2}"),u=ed(e,"{1,3}"),h=ed(e,"{1,6}"),m=ed(e,"{1,9}"),y=ed(e,"{2,4}"),w=ed(e,"{4,6}"),S=N=>({regex:RegExp(oDe(N.val)),deser:([D])=>D,literal:!0}),O=(N=>{if(n.literal)return S(N);switch(N.val){case"G":return td(e.eras("short"),0);case"GG":return td(e.eras("long"),0);case"y":return Xr(h);case"yy":return Xr(y,gj);case"yyyy":return Xr(o);case"yyyyy":return Xr(w);case"yyyyyy":return Xr(a);case"M":return Xr(c);case"MM":return Xr(r);case"MMM":return td(e.months("short",!0),1);case"MMMM":return td(e.months("long",!0),1);case"L":return Xr(c);case"LL":return Xr(r);case"LLL":return td(e.months("short",!1),1);case"LLLL":return td(e.months("long",!1),1);case"d":return Xr(c);case"dd":return Xr(r);case"o":return Xr(u);case"ooo":return Xr(i);case"HH":return Xr(r);case"H":return Xr(c);case"hh":return Xr(r);case"h":return Xr(c);case"mm":return Xr(r);case"m":return Xr(c);case"q":return Xr(c);case"qq":return Xr(r);case"s":return Xr(c);case"ss":return Xr(r);case"S":return Xr(u);case"SSS":return Xr(i);case"u":return KA(m);case"uu":return KA(c);case"uuu":return Xr(t);case"a":return td(e.meridiems(),0);case"kkkk":return Xr(o);case"kk":return Xr(y,gj);case"W":return Xr(c);case"WW":return Xr(r);case"E":case"c":return Xr(t);case"EEE":return td(e.weekdays("short",!1),1);case"EEEE":return td(e.weekdays("long",!1),1);case"ccc":return td(e.weekdays("short",!0),1);case"cccc":return td(e.weekdays("long",!0),1);case"Z":case"ZZ":return dG(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return dG(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return KA(/[a-z_+-/]{1,256}?/i);case" ":return KA(/[^\S\n\r]/);default:return S(N)}})(n)||{invalidReason:nDe};return O.token=n,O}const aDe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function lDe(n,e,t){const{type:r,value:i}=n;if(r==="literal"){const u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}const o=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=t.hour12?"hour12":"hour24");let c=aDe[a];if(typeof c=="object"&&(c=c[o]),c)return{literal:!1,val:c}}function cDe(n){return[`^${n.map(t=>t.regex).reduce((t,r)=>`${t}(${r.source})`,"")}$`,n]}function uDe(n,e,t){const r=n.match(e);if(r){const i={};let o=1;for(const a in t)if(Gx(t,a)){const c=t[a],u=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(r.slice(o,o+u))),o+=u}return[r,i]}else return[r,{}]}function dDe(n){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,r;return Fn(n.z)||(t=ap.create(n.z)),Fn(n.Z)||(t||(t=new ys(n.Z)),r=n.Z),Fn(n.q)||(n.M=(n.q-1)*3+1),Fn(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Fn(n.u)||(n.S=$9(n.u)),[Object.keys(n).reduce((o,a)=>{const c=e(a);return c&&(o[c]=n[a]),o},{}),t,r]}let gL=null;function fDe(){return gL||(gL=_n.fromMillis(1555555555555)),gL}function hDe(n,e){if(n.literal)return n;const t=fa.macroTokenToFormatOpts(n.val),r=Yoe(t,e);return r==null||r.includes(void 0)?n:r}function qoe(n,e){return Array.prototype.concat(...n.map(t=>hDe(t,e)))}class Uoe{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=qoe(fa.parseFormat(t),e),this.units=this.tokens.map(r=>sDe(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=cDe(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[t,r]=uDe(e,this.regex,this.handlers),[i,o,a]=r?dDe(r):[null,null,void 0];if(Gx(r,"a")&&Gx(r,"H"))throw new H1("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:r,result:i,zone:o,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Goe(n,e,t){return new Uoe(n,t).explainFromTokens(e)}function pDe(n,e,t){const{result:r,zone:i,specificOffset:o,invalidReason:a}=Goe(n,e,t);return[r,i,o,a]}function Yoe(n,e){if(!n)return null;const r=fa.create(e,n).dtFormatter(fDe()),i=r.formatToParts(),o=r.resolvedOptions();return i.map(a=>lDe(a,n,o))}const vL="Invalid DateTime",fG=864e13;function vk(n){return new vd("unsupported zone",`the zone "${n.name}" is not supported`)}function yL(n){return n.weekData===null&&(n.weekData=AD(n.c)),n.weekData}function bL(n){return n.localWeekData===null&&(n.localWeekData=AD(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function ry(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new _n({...t,...e,old:t})}function Qoe(n,e,t){let r=n-e*60*1e3;const i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const o=t.offset(r);return i===o?[r,i]:[n-Math.min(i,o)*60*1e3,Math.max(i,o)]}function XA(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function mM(n,e,t){return Qoe(mI(n),e,t)}function hG(n,e){const t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...n.c,year:r,month:i,day:Math.min(n.c.day,RD(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=rr.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=mI(o);let[u,h]=Qoe(c,t,n.zone);return a!==0&&(u+=a,h=n.zone.offset(u)),{ts:u,o:h}}function b1(n,e,t,r,i,o){const{setZone:a,zone:c}=t;if(n&&Object.keys(n).length!==0||e){const u=e||c,h=_n.fromObject(n,{...t,zone:u,specificOffset:o});return a?h:h.setZone(c)}else return _n.invalid(new vd("unparsable",`the input "${i}" can't be parsed as ${r}`))}function ZA(n,e,t=!0){return n.isValid?fa.create(ri.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function xL(n,e){const t=n.c.year>9999||n.c.year<0;let r="";return t&&n.c.year>=0&&(r+="+"),r+=Zo(n.c.year,t?6:4),e?(r+="-",r+=Zo(n.c.month),r+="-",r+=Zo(n.c.day)):(r+=Zo(n.c.month),r+=Zo(n.c.day)),r}function pG(n,e,t,r,i,o){let a=Zo(n.c.hour);return e?(a+=":",a+=Zo(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(a+=":")):a+=Zo(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(a+=Zo(n.c.second),(n.c.millisecond!==0||!r)&&(a+=".",a+=Zo(n.c.millisecond,3))),i&&(n.isOffsetFixed&&n.offset===0&&!o?a+="Z":n.o<0?(a+="-",a+=Zo(Math.trunc(-n.o/60)),a+=":",a+=Zo(Math.trunc(-n.o%60))):(a+="+",a+=Zo(Math.trunc(n.o/60)),a+=":",a+=Zo(Math.trunc(n.o%60)))),o&&(a+="["+n.zone.ianaName+"]"),a}const Koe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},mDe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},gDe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Xoe=["year","month","day","hour","minute","second","millisecond"],vDe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],yDe=["year","ordinal","hour","minute","second","millisecond"];function bDe(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Kie(n);return e}function mG(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return bDe(n)}}function xDe(n){if(yk===void 0&&(yk=wo.now()),n.type!=="iana")return n.offset(yk);const e=n.name;let t=vj.get(e);return t===void 0&&(t=n.offset(yk),vj.set(e,t)),t}function gG(n,e){const t=Am(e.zone,wo.defaultZone);if(!t.isValid)return _n.invalid(vk(t));const r=ri.fromObject(e);let i,o;if(Fn(n.year))i=wo.now();else{for(const u of Xoe)Fn(n[u])&&(n[u]=Koe[u]);const a=_oe(n)||Eoe(n);if(a)return _n.invalid(a);const c=xDe(t);[i,o]=mM(n,c,t)}return new _n({ts:i,zone:t,loc:r,o})}function vG(n,e,t){const r=Fn(t.round)?!0:t.round,i=(a,c)=>(a=j9(a,r||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(a,c)),o=a=>t.calendary?e.hasSame(n,a)?0:e.startOf(a).diff(n.startOf(a),a).get(a):e.diff(n,a).get(a);if(t.unit)return i(o(t.unit),t.unit);for(const a of t.units){const c=o(a);if(Math.abs(c)>=1)return i(c,a)}return i(n>e?-0:0,t.units[t.units.length-1])}function yG(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}let yk;const vj=new Map;class _n{constructor(e){const t=e.zone||wo.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new vd("invalid input"):null)||(t.isValid?null:vk(t));this.ts=Fn(e.ts)?wo.now():e.ts;let i=null,o=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,o]=[e.old.c,e.old.o];else{const c=og(e.o)&&!e.old?e.o:t.offset(this.ts);i=XA(this.ts,c),r=Number.isNaN(i.year)?new vd("invalid input"):null,i=r?null:i,o=r?null:c}this._zone=t,this.loc=e.loc||ri.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new _n({})}static local(){const[e,t]=yG(arguments),[r,i,o,a,c,u,h]=t;return gG({year:r,month:i,day:o,hour:a,minute:c,second:u,millisecond:h},e)}static utc(){const[e,t]=yG(arguments),[r,i,o,a,c,u,h]=t;return e.zone=ys.utcInstance,gG({year:r,month:i,day:o,hour:a,minute:c,second:u,millisecond:h},e)}static fromJSDate(e,t={}){const r=KRe(e)?e.valueOf():NaN;if(Number.isNaN(r))return _n.invalid("invalid input");const i=Am(t.zone,wo.defaultZone);return i.isValid?new _n({ts:r,zone:i,loc:ri.fromObject(t)}):_n.invalid(vk(i))}static fromMillis(e,t={}){if(og(e))return e<-fG||e>fG?_n.invalid("Timestamp out of range"):new _n({ts:e,zone:Am(t.zone,wo.defaultZone),loc:ri.fromObject(t)});throw new la(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(og(e))return new _n({ts:e*1e3,zone:Am(t.zone,wo.defaultZone),loc:ri.fromObject(t)});throw new la("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const r=Am(t.zone,wo.defaultZone);if(!r.isValid)return _n.invalid(vk(r));const i=ri.fromObject(t),o=MD(e,mG),{minDaysInFirstWeek:a,startOfWeek:c}=nG(o,i),u=wo.now(),h=Fn(t.specificOffset)?r.offset(u):t.specificOffset,m=!Fn(o.ordinal),y=!Fn(o.year),w=!Fn(o.month)||!Fn(o.day),S=y||w,T=o.weekYear||o.weekNumber;if((S||m)&&T)throw new H1("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&m)throw new H1("Can't mix ordinal dates with month/day");const O=T||o.weekday&&!S;let N,D,F=XA(u,h);O?(N=vDe,D=mDe,F=AD(F,a,c)):m?(N=yDe,D=gDe,F=mL(F)):(N=Xoe,D=Koe);let I=!1;for(const _e of N){const be=o[_e];Fn(be)?I?o[_e]=D[_e]:o[_e]=F[_e]:I=!0}const R=O?GRe(o,a,c):m?YRe(o):_oe(o),z=R||Eoe(o);if(z)return _n.invalid(z);const X=O?eG(o,a,c):m?tG(o):o,[Z,ae]=mM(X,h,r),ge=new _n({ts:Z,zone:r,o:ae,loc:i});return o.weekday&&S&&e.weekday!==ge.weekday?_n.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${ge.toISO()}`):ge.isValid?ge:_n.invalid(ge.invalid)}static fromISO(e,t={}){const[r,i]=jMe(e);return b1(r,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,i]=BMe(e);return b1(r,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,i]=VMe(e);return b1(r,i,t,"HTTP",t)}static fromFormat(e,t,r={}){if(Fn(e)||Fn(t))throw new la("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=r,a=ri.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[c,u,h,m]=pDe(a,e,t);return m?_n.invalid(m):b1(c,u,r,`format ${t}`,e,h)}static fromString(e,t,r={}){return _n.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,i]=YMe(e);return b1(r,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new la("need to specify a reason the DateTime is invalid");const r=e instanceof vd?e:new vd(e,t);if(wo.throwOnInvalid)throw new wRe(r);return new _n({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const r=Yoe(e,ri.fromObject(t));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return qoe(fa.parseFormat(e),ri.fromObject(t)).map(i=>i.val).join("")}static resetCache(){yk=void 0,vj.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?yL(this).weekYear:NaN}get weekNumber(){return this.isValid?yL(this).weekNumber:NaN}get weekday(){return this.isValid?yL(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?bL(this).weekday:NaN}get localWeekNumber(){return this.isValid?bL(this).weekNumber:NaN}get localWeekYear(){return this.isValid?bL(this).weekYear:NaN}get ordinal(){return this.isValid?mL(this.c).ordinal:NaN}get monthShort(){return this.isValid?W1.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?W1.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?W1.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?W1.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,r=mI(this.c),i=this.zone.offset(r-e),o=this.zone.offset(r+e),a=this.zone.offset(r-i*t),c=this.zone.offset(r-o*t);if(a===c)return[this];const u=r-a*t,h=r-c*t,m=XA(u,a),y=XA(h,c);return m.hour===y.hour&&m.minute===y.minute&&m.second===y.second&&m.millisecond===y.millisecond?[ry(this,{ts:u}),ry(this,{ts:h})]:[this]}get isInLeapYear(){return P2(this.year)}get daysInMonth(){return RD(this.year,this.month)}get daysInYear(){return this.isValid?ax(this.year):NaN}get weeksInWeekYear(){return this.isValid?$C(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?$C(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:r,calendar:i}=fa.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(ys.instance(e),t)}toLocal(){return this.setZone(wo.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if(e=Am(e,wo.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||r){const o=e.offset(this.ts),a=this.toObject();[i]=mM(a,o,e)}return ry(this,{ts:i,zone:e})}else return _n.invalid(vk(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r});return ry(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=MD(e,mG),{minDaysInFirstWeek:r,startOfWeek:i}=nG(t,this.loc),o=!Fn(t.weekYear)||!Fn(t.weekNumber)||!Fn(t.weekday),a=!Fn(t.ordinal),c=!Fn(t.year),u=!Fn(t.month)||!Fn(t.day),h=c||u,m=t.weekYear||t.weekNumber;if((h||a)&&m)throw new H1("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new H1("Can't mix ordinal dates with month/day");let y;o?y=eG({...AD(this.c,r,i),...t},r,i):Fn(t.ordinal)?(y={...this.toObject(),...t},Fn(t.day)&&(y.day=Math.min(RD(y.year,y.month),y.day))):y=tG({...mL(this.c),...t});const[w,S]=mM(y,this.o,this.zone);return ry(this,{ts:w,o:S})}plus(e){if(!this.isValid)return this;const t=rr.fromDurationLike(e);return ry(this,hG(this,t))}minus(e){if(!this.isValid)return this;const t=rr.fromDurationLike(e).negate();return ry(this,hG(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const r={},i=rr.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(t){const o=this.loc.getStartOfWeek(),{weekday:a}=this;a<o&&(r.weekNumber=this.weekNumber-1),r.weekday=o}else r.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);r.month=(o-1)*3+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?fa.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):vL}toLocaleString(e=PD,t={}){return this.isValid?fa.create(this.loc.clone(t),e).formatDateTime(this):vL}toLocaleParts(e={}){return this.isValid?fa.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const a=e==="extended";let c=xL(this,a);return c+="T",c+=pG(this,a,t,r,i,o),c}toISODate({format:e="extended"}={}){return this.isValid?xL(this,e==="extended"):null}toISOWeekDate(){return ZA(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:o=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+pG(this,a==="extended",t,e,r,o):null}toRFC2822(){return ZA(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ZA(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?xL(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(r&&(i+=" "),t?i+="z":e&&(i+="ZZ")),ZA(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():vL}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return rr.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=XRe(t).map(rr.normalizeUnit),a=e.valueOf()>this.valueOf(),c=a?this:e,u=a?e:this,h=tDe(c,u,o,i);return a?h.negate():h}diffNow(e="milliseconds",t={}){return this.diff(_n.now(),e,t)}until(e){return this.isValid?xo.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;const i=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,r)<=i&&i<=o.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||_n.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(i=e.unit,o=void 0),vG(t,this.plus(r),{...e,numeric:"always",units:i,unit:o})}toRelativeCalendar(e={}){return this.isValid?vG(e.base||_n.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(_n.isDateTime))throw new la("min requires all arguments be DateTimes");return rG(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(_n.isDateTime))throw new la("max requires all arguments be DateTimes");return rG(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:i=null,numberingSystem:o=null}=r,a=ri.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return Goe(a,e,t)}static fromStringExplain(e,t,r={}){return _n.fromFormatExplain(e,t,r)}static buildFormatParser(e,t={}){const{locale:r=null,numberingSystem:i=null}=t,o=ri.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new Uoe(o,e)}static fromFormatParser(e,t,r={}){if(Fn(e)||Fn(t))throw new la("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:o=null}=r,a=ri.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!a.equals(t.locale))throw new la(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${t.locale}`);const{result:c,zone:u,specificOffset:h,invalidReason:m}=t.explainFromTokens(e);return m?_n.invalid(m):b1(c,u,r,`format ${t.format}`,e,h)}static get DATE_SHORT(){return PD}static get DATE_MED(){return Xie}static get DATE_MED_WITH_WEEKDAY(){return SRe}static get DATE_FULL(){return Zie}static get DATE_HUGE(){return Jie}static get TIME_SIMPLE(){return eoe}static get TIME_WITH_SECONDS(){return toe}static get TIME_WITH_SHORT_OFFSET(){return noe}static get TIME_WITH_LONG_OFFSET(){return roe}static get TIME_24_SIMPLE(){return ioe}static get TIME_24_WITH_SECONDS(){return ooe}static get TIME_24_WITH_SHORT_OFFSET(){return soe}static get TIME_24_WITH_LONG_OFFSET(){return aoe}static get DATETIME_SHORT(){return loe}static get DATETIME_SHORT_WITH_SECONDS(){return coe}static get DATETIME_MED(){return uoe}static get DATETIME_MED_WITH_SECONDS(){return doe}static get DATETIME_MED_WITH_WEEKDAY(){return kRe}static get DATETIME_FULL(){return foe}static get DATETIME_FULL_WITH_SECONDS(){return hoe}static get DATETIME_HUGE(){return poe}static get DATETIME_HUGE_WITH_SECONDS(){return moe}}function jS(n){if(_n.isDateTime(n))return n;if(n&&n.valueOf&&og(n.valueOf()))return _n.fromJSDate(n);if(n&&typeof n=="object")return _n.fromObject(n);throw new la(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var wL=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],cx={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},jC={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Sl=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},tu=function(n){return n===!0?1:0};function bG(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var _L=function(n){return n instanceof Array?n:[n]};function La(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Zr(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function JA(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Zoe(n,e){if(e(n))return n;if(n.parentNode)return Zoe(n.parentNode,e)}function eR(n,e){var t=Zr("div","numInputWrapper"),r=Zr("input","numInput "+n),i=Zr("span","arrowUp"),o=Zr("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var a in e)r.setAttribute(a,e[a]);return t.appendChild(r),t.appendChild(i),t.appendChild(o),t}function tc(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var EL=function(){},DD=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},wDe={D:EL,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*tu(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:EL,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:EL,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},by={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},$k={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[$k.w(n,e,t)]},F:function(n,e,t){return DD($k.n(n,e,t)-1,!1,e)},G:function(n,e,t){return Sl($k.h(n,e,t))},H:function(n){return Sl(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[tu(n.getHours()>11)]},M:function(n,e){return DD(n.getMonth(),!0,e)},S:function(n){return Sl(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return Sl(n.getFullYear(),4)},d:function(n){return Sl(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Sl(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return Sl(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Joe=function(n){var e=n.config,t=e===void 0?cx:e,r=n.l10n,i=r===void 0?jC:r,o=n.isMobile,a=o===void 0?!1:o;return function(c,u,h){var m=h||i;return t.formatDate!==void 0&&!a?t.formatDate(c,u,m):u.split("").map(function(y,w,S){return $k[y]&&S[w-1]!=="\\"?$k[y](c,m,t):y!=="\\"?y:""}).join("")}},yj=function(n){var e=n.config,t=e===void 0?cx:e,r=n.l10n,i=r===void 0?jC:r;return function(o,a,c,u){if(!(o!==0&&!o)){var h=u||i,m,y=o;if(o instanceof Date)m=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)m=new Date(o);else if(typeof o=="string"){var w=a||(t||cx).dateFormat,S=String(o).trim();if(S==="today")m=new Date,c=!0;else if(t&&t.parseDate)m=t.parseDate(o,w);else if(/Z$/.test(S)||/GMT$/.test(S))m=new Date(o);else{for(var T=void 0,O=[],N=0,D=0,F="";N<w.length;N++){var I=w[N],R=I==="\\",z=w[N-1]==="\\"||R;if(by[I]&&!z){F+=by[I];var X=new RegExp(F).exec(o);X&&(T=!0)&&O[I!=="Y"?"push":"unshift"]({fn:wDe[I],val:X[++D]})}else R||(F+=".")}m=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),O.forEach(function(Z){var ae=Z.fn,ge=Z.val;return m=ae(m,ge,h)||m}),m=T?m:void 0}}if(!(m instanceof Date&&!isNaN(m.getTime()))){t.errorHandler(new Error("Invalid date provided: "+y));return}return c===!0&&m.setHours(0,0,0,0),m}}};function oc(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var _De=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},SL=function(n,e,t){return n*3600+e*60+t},EDe=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},SDe={DAY:864e5};function kL(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),o=n.minDate.getMinutes(),a=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<o&&(t=o),e===i&&t===o&&r<a&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var c=n.maxDate.getHours(),u=n.maxDate.getMinutes();e=Math.min(e,c),e===c&&(t=Math.min(u,t)),e===c&&t===u&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(c){c&&Object.keys(c).forEach(function(u){return n[u]=c[u]})},i=0,o=e;i<o.length;i++){var a=o[i];r(a)}return n});var ca=function(){return ca=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ca.apply(this,arguments)},xG=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r},kDe=300;function CDe(n,e){var t={config:ca(ca({},cx),Jo.defaultConfig),l10n:jC};t.parseDate=yj({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=O,t._setHoursFromDate=w,t._positionCalendar=Re,t.changeMonth=Ne,t.changeYear=Et,t.clear=Ue,t.close=le,t.onMouseOver=gt,t._createElement=Zr,t.createDay=X,t.destroy=Ze,t.isEnabled=on,t.jumpToDate=F,t.updateValue=mi,t.open=Ht,t.redraw=ht,t.set=_t,t.setDate=Oi,t.toggle=Pn;function r(){t.utils={getDaysInMonth:function(ne,ce){return ne===void 0&&(ne=t.currentMonth),ce===void 0&&(ce=t.currentYear),ne===1&&(ce%4===0&&ce%100!==0||ce%400===0)?29:t.l10n.daysInMonth[ne]}}}function i(){t.element=t.input=n,t.isOpen=!1,kn(),ve(),js(),Ss(),r(),t.isMobile||z(),D(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&w(t.config.noCalendar?t.latestSelectedDateObj:void 0),mi(!1)),c();var ne=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&ne&&Re(),$n("onReady")}function o(){var ne;return((ne=t.calendarContainer)===null||ne===void 0?void 0:ne.getRootNode()).activeElement||document.activeElement}function a(ne){return ne.bind(t)}function c(){var ne=t.config;ne.weekNumbers===!1&&ne.showMonths===1||ne.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var ce=(t.days.offsetWidth+1)*ne.showMonths;t.daysContainer.style.width=ce+"px",t.calendarContainer.style.width=ce+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function u(ne){if(t.selectedDates.length===0){var ce=t.config.minDate===void 0||oc(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Ee=kL(t.config);ce.setHours(Ee.hours,Ee.minutes,Ee.seconds,ce.getMilliseconds()),t.selectedDates=[ce],t.latestSelectedDateObj=ce}ne!==void 0&&ne.type!=="blur"&&Oc(ne);var qe=t._input.value;y(),mi(),t._input.value!==qe&&t._debouncedChange()}function h(ne,ce){return ne%12+12*tu(ce===t.l10n.amPM[1])}function m(ne){switch(ne%24){case 0:case 12:return 12;default:return ne%12}}function y(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var ne=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,ce=(parseInt(t.minuteElement.value,10)||0)%60,Ee=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(ne=h(ne,t.amPM.textContent));var qe=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&oc(t.latestSelectedDateObj,t.config.minDate,!0)===0,wt=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&oc(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var At=SL(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),An=SL(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),qt=SL(ne,ce,Ee);if(qt>An&&qt<At){var ot=EDe(At);ne=ot[0],ce=ot[1],Ee=ot[2]}}else{if(wt){var Ot=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;ne=Math.min(ne,Ot.getHours()),ne===Ot.getHours()&&(ce=Math.min(ce,Ot.getMinutes())),ce===Ot.getMinutes()&&(Ee=Math.min(Ee,Ot.getSeconds()))}if(qe){var pn=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;ne=Math.max(ne,pn.getHours()),ne===pn.getHours()&&ce<pn.getMinutes()&&(ce=pn.getMinutes()),ce===pn.getMinutes()&&(Ee=Math.max(Ee,pn.getSeconds()))}}S(ne,ce,Ee)}}function w(ne){var ce=ne||t.latestSelectedDateObj;ce&&ce instanceof Date&&S(ce.getHours(),ce.getMinutes(),ce.getSeconds())}function S(ne,ce,Ee){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(ne%24,ce,Ee||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Sl(t.config.time_24hr?ne:(12+ne)%12+12*tu(ne%12===0)),t.minuteElement.value=Sl(ce),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[tu(ne>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Sl(Ee)))}function T(ne){var ce=tc(ne),Ee=parseInt(ce.value)+(ne.delta||0);(Ee/1e3>1||ne.key==="Enter"&&!/[^\d]/.test(Ee.toString()))&&Et(Ee)}function O(ne,ce,Ee,qe){if(ce instanceof Array)return ce.forEach(function(wt){return O(ne,wt,Ee,qe)});if(ne instanceof Array)return ne.forEach(function(wt){return O(wt,ce,Ee,qe)});ne.addEventListener(ce,Ee,qe),t._handlers.push({remove:function(){return ne.removeEventListener(ce,Ee,qe)}})}function N(){$n("onChange")}function D(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Ee){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Ee+"]"),function(qe){return O(qe,"click",t[Ee])})}),t.isMobile){Ln();return}var ne=bG(jt,50);if(t._debouncedChange=bG(N,kDe),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&O(t.daysContainer,"mouseover",function(Ee){t.config.mode==="range"&&gt(tc(Ee))}),O(t._input,"keydown",mt),t.calendarContainer!==void 0&&O(t.calendarContainer,"keydown",mt),!t.config.inline&&!t.config.static&&O(window,"resize",ne),window.ontouchstart!==void 0?O(window.document,"touchstart",Ct):O(window.document,"mousedown",Ct),O(window.document,"focus",Ct,{capture:!0}),t.config.clickOpens===!0&&(O(t._input,"focus",t.open),O(t._input,"click",t.open)),t.daysContainer!==void 0&&(O(t.monthNav,"click",ut),O(t.monthNav,["keyup","increment"],T),O(t.daysContainer,"click",zt)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var ce=function(Ee){return tc(Ee).select()};O(t.timeContainer,["increment"],u),O(t.timeContainer,"blur",u,{capture:!0}),O(t.timeContainer,"click",I),O([t.hourElement,t.minuteElement],["focus","click"],ce),t.secondElement!==void 0&&O(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&O(t.amPM,"click",function(Ee){u(Ee)})}t.config.allowInput&&O(t._input,"blur",ze)}function F(ne,ce){var Ee=ne!==void 0?t.parseDate(ne):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),qe=t.currentYear,wt=t.currentMonth;try{Ee!==void 0&&(t.currentYear=Ee.getFullYear(),t.currentMonth=Ee.getMonth())}catch(At){At.message="Invalid date supplied: "+Ee,t.config.errorHandler(At)}ce&&t.currentYear!==qe&&($n("onYearChange"),fe()),ce&&(t.currentYear!==qe||t.currentMonth!==wt)&&$n("onMonthChange"),t.redraw()}function I(ne){var ce=tc(ne);~ce.className.indexOf("arrow")&&R(ne,ce.classList.contains("arrowUp")?1:-1)}function R(ne,ce,Ee){var qe=ne&&tc(ne),wt=Ee||qe&&qe.parentNode&&qe.parentNode.firstChild,At=Ur("increment");At.delta=ce,wt&&wt.dispatchEvent(At)}function z(){var ne=window.document.createDocumentFragment();if(t.calendarContainer=Zr("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(ne.appendChild(Ae()),t.innerContainer=Zr("div","flatpickr-innerContainer"),t.config.weekNumbers){var ce=Je(),Ee=ce.weekWrapper,qe=ce.weekNumbers;t.innerContainer.appendChild(Ee),t.weekNumbers=qe,t.weekWrapper=Ee}t.rContainer=Zr("div","flatpickr-rContainer"),t.rContainer.appendChild(xe()),t.daysContainer||(t.daysContainer=Zr("div","flatpickr-days"),t.daysContainer.tabIndex=-1),he(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),ne.appendChild(t.innerContainer)}t.config.enableTime&&ne.appendChild(We()),La(t.calendarContainer,"rangeMode",t.config.mode==="range"),La(t.calendarContainer,"animate",t.config.animate===!0),La(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(ne);var wt=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!wt&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var At=Zr("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(At,t.element),At.appendChild(t.element),t.altInput&&At.appendChild(t.altInput),At.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function X(ne,ce,Ee,qe){var wt=on(ce,!0),At=Zr("span",ne,ce.getDate().toString());return At.dateObj=ce,At.$i=qe,At.setAttribute("aria-label",t.formatDate(ce,t.config.ariaDateFormat)),ne.indexOf("hidden")===-1&&oc(ce,t.now)===0&&(t.todayDateElem=At,At.classList.add("today"),At.setAttribute("aria-current","date")),wt?(At.tabIndex=-1,wa(ce)&&(At.classList.add("selected"),t.selectedDateElem=At,t.config.mode==="range"&&(La(At,"startRange",t.selectedDates[0]&&oc(ce,t.selectedDates[0],!0)===0),La(At,"endRange",t.selectedDates[1]&&oc(ce,t.selectedDates[1],!0)===0),ne==="nextMonthDay"&&At.classList.add("inRange")))):At.classList.add("flatpickr-disabled"),t.config.mode==="range"&&ct(ce)&&!wa(ce)&&At.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&ne!=="prevMonthDay"&&qe%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(ce)+"</span>"),$n("onDayCreate",At),At}function Z(ne){ne.focus(),t.config.mode==="range"&&gt(ne)}function ae(ne){for(var ce=ne>0?0:t.config.showMonths-1,Ee=ne>0?t.config.showMonths:-1,qe=ce;qe!=Ee;qe+=ne)for(var wt=t.daysContainer.children[qe],At=ne>0?0:wt.children.length-1,An=ne>0?wt.children.length:-1,qt=At;qt!=An;qt+=ne){var ot=wt.children[qt];if(ot.className.indexOf("hidden")===-1&&on(ot.dateObj))return ot}}function ge(ne,ce){for(var Ee=ne.className.indexOf("Month")===-1?ne.dateObj.getMonth():t.currentMonth,qe=ce>0?t.config.showMonths:-1,wt=ce>0?1:-1,At=Ee-t.currentMonth;At!=qe;At+=wt)for(var An=t.daysContainer.children[At],qt=Ee-t.currentMonth===At?ne.$i+ce:ce<0?An.children.length-1:0,ot=An.children.length,Ot=qt;Ot>=0&&Ot<ot&&Ot!=(ce>0?ot:-1);Ot+=wt){var pn=An.children[Ot];if(pn.className.indexOf("hidden")===-1&&on(pn.dateObj)&&Math.abs(ne.$i-Ot)>=Math.abs(ce))return Z(pn)}t.changeMonth(wt),_e(ae(wt),0)}function _e(ne,ce){var Ee=o(),qe=zn(Ee||document.body),wt=ne!==void 0?ne:qe?Ee:t.selectedDateElem!==void 0&&zn(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&zn(t.todayDateElem)?t.todayDateElem:ae(ce>0?1:-1);wt===void 0?t._input.focus():qe?ge(wt,ce):Z(wt)}function be(ne,ce){for(var Ee=(new Date(ne,ce,1).getDay()-t.l10n.firstDayOfWeek+7)%7,qe=t.utils.getDaysInMonth((ce-1+12)%12,ne),wt=t.utils.getDaysInMonth(ce,ne),At=window.document.createDocumentFragment(),An=t.config.showMonths>1,qt=An?"prevMonthDay hidden":"prevMonthDay",ot=An?"nextMonthDay hidden":"nextMonthDay",Ot=qe+1-Ee,pn=0;Ot<=qe;Ot++,pn++)At.appendChild(X("flatpickr-day "+qt,new Date(ne,ce-1,Ot),Ot,pn));for(Ot=1;Ot<=wt;Ot++,pn++)At.appendChild(X("flatpickr-day",new Date(ne,ce,Ot),Ot,pn));for(var Er=wt+1;Er<=42-Ee&&(t.config.showMonths===1||pn%7!==0);Er++,pn++)At.appendChild(X("flatpickr-day "+ot,new Date(ne,ce+1,Er%wt),Er,pn));var ko=Zr("div","dayContainer");return ko.appendChild(At),ko}function he(){if(t.daysContainer!==void 0){JA(t.daysContainer),t.weekNumbers&&JA(t.weekNumbers);for(var ne=document.createDocumentFragment(),ce=0;ce<t.config.showMonths;ce++){var Ee=new Date(t.currentYear,t.currentMonth,1);Ee.setMonth(t.currentMonth+ce),ne.appendChild(be(Ee.getFullYear(),Ee.getMonth()))}t.daysContainer.appendChild(ne),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&gt()}}function fe(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var ne=function(qe){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&qe<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&qe>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var ce=0;ce<12;ce++)if(ne(ce)){var Ee=Zr("option","flatpickr-monthDropdown-month");Ee.value=new Date(t.currentYear,ce).getMonth().toString(),Ee.textContent=DD(ce,t.config.shorthandCurrentMonth,t.l10n),Ee.tabIndex=-1,t.currentMonth===ce&&(Ee.selected=!0),t.monthsDropdownContainer.appendChild(Ee)}}}function pe(){var ne=Zr("div","flatpickr-month"),ce=window.document.createDocumentFragment(),Ee;t.config.showMonths>1||t.config.monthSelectorType==="static"?Ee=Zr("span","cur-month"):(t.monthsDropdownContainer=Zr("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),O(t.monthsDropdownContainer,"change",function(An){var qt=tc(An),ot=parseInt(qt.value,10);t.changeMonth(ot-t.currentMonth),$n("onMonthChange")}),fe(),Ee=t.monthsDropdownContainer);var qe=eR("cur-year",{tabindex:"-1"}),wt=qe.getElementsByTagName("input")[0];wt.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&wt.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(wt.setAttribute("max",t.config.maxDate.getFullYear().toString()),wt.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var At=Zr("div","flatpickr-current-month");return At.appendChild(Ee),At.appendChild(qe),ce.appendChild(At),ne.appendChild(ce),{container:ne,yearElement:wt,monthElement:Ee}}function Ce(){JA(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var ne=t.config.showMonths;ne--;){var ce=pe();t.yearElements.push(ce.yearElement),t.monthElements.push(ce.monthElement),t.monthNav.appendChild(ce.container)}t.monthNav.appendChild(t.nextMonthNav)}function Ae(){return t.monthNav=Zr("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Zr("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Zr("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Ce(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(ne){t.__hidePrevMonthArrow!==ne&&(La(t.prevMonthNav,"flatpickr-disabled",ne),t.__hidePrevMonthArrow=ne)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(ne){t.__hideNextMonthArrow!==ne&&(La(t.nextMonthNav,"flatpickr-disabled",ne),t.__hideNextMonthArrow=ne)}}),t.currentYearElement=t.yearElements[0],Xn(),t.monthNav}function We(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var ne=kL(t.config);t.timeContainer=Zr("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var ce=Zr("span","flatpickr-time-separator",":"),Ee=eR("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Ee.getElementsByTagName("input")[0];var qe=eR("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=qe.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Sl(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?ne.hours:m(ne.hours)),t.minuteElement.value=Sl(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():ne.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Ee),t.timeContainer.appendChild(ce),t.timeContainer.appendChild(qe),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var wt=eR("flatpickr-second");t.secondElement=wt.getElementsByTagName("input")[0],t.secondElement.value=Sl(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():ne.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Zr("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(wt)}return t.config.time_24hr||(t.amPM=Zr("span","flatpickr-am-pm",t.l10n.amPM[tu((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function xe(){t.weekdayContainer?JA(t.weekdayContainer):t.weekdayContainer=Zr("div","flatpickr-weekdays");for(var ne=t.config.showMonths;ne--;){var ce=Zr("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(ce)}return $e(),t.weekdayContainer}function $e(){if(t.weekdayContainer){var ne=t.l10n.firstDayOfWeek,ce=xG(t.l10n.weekdays.shorthand);ne>0&&ne<ce.length&&(ce=xG(ce.splice(ne,ce.length),ce.splice(0,ne)));for(var Ee=t.config.showMonths;Ee--;)t.weekdayContainer.children[Ee].innerHTML=`
      <span class='flatpickr-weekday'>
        `+ce.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Je(){t.calendarContainer.classList.add("hasWeeks");var ne=Zr("div","flatpickr-weekwrapper");ne.appendChild(Zr("span","flatpickr-weekday",t.l10n.weekAbbreviation));var ce=Zr("div","flatpickr-weeks");return ne.appendChild(ce),{weekWrapper:ne,weekNumbers:ce}}function Ne(ne,ce){ce===void 0&&(ce=!0);var Ee=ce?ne:ne-t.currentMonth;Ee<0&&t._hidePrevMonthArrow===!0||Ee>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Ee,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,$n("onYearChange"),fe()),he(),$n("onMonthChange"),Xn())}function Ue(ne,ce){if(ne===void 0&&(ne=!0),ce===void 0&&(ce=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,ce===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Ee=kL(t.config),qe=Ee.hours,wt=Ee.minutes,At=Ee.seconds;S(qe,wt,At)}t.redraw(),ne&&$n("onChange")}function le(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),$n("onClose")}function Ze(){t.config!==void 0&&$n("onDestroy");for(var ne=t._handlers.length;ne--;)t._handlers[ne].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var ce=t.calendarContainer.parentNode;if(ce.lastChild&&ce.removeChild(ce.lastChild),ce.parentNode){for(;ce.firstChild;)ce.parentNode.insertBefore(ce.firstChild,ce);ce.parentNode.removeChild(ce)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Ee){try{delete t[Ee]}catch{}})}function Qe(ne){return t.calendarContainer.contains(ne)}function Ct(ne){if(t.isOpen&&!t.config.inline){var ce=tc(ne),Ee=Qe(ce),qe=ce===t.input||ce===t.altInput||t.element.contains(ce)||ne.path&&ne.path.indexOf&&(~ne.path.indexOf(t.input)||~ne.path.indexOf(t.altInput)),wt=!qe&&!Ee&&!Qe(ne.relatedTarget),At=!t.config.ignoredFocusElements.some(function(An){return An.contains(ce)});wt&&At&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&u(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Et(ne){if(!(!ne||t.config.minDate&&ne<t.config.minDate.getFullYear()||t.config.maxDate&&ne>t.config.maxDate.getFullYear())){var ce=ne,Ee=t.currentYear!==ce;t.currentYear=ce||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Ee&&(t.redraw(),$n("onYearChange"),fe())}}function on(ne,ce){var Ee;ce===void 0&&(ce=!0);var qe=t.parseDate(ne,void 0,ce);if(t.config.minDate&&qe&&oc(qe,t.config.minDate,ce!==void 0?ce:!t.minDateHasTime)<0||t.config.maxDate&&qe&&oc(qe,t.config.maxDate,ce!==void 0?ce:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(qe===void 0)return!1;for(var wt=!!t.config.enable,At=(Ee=t.config.enable)!==null&&Ee!==void 0?Ee:t.config.disable,An=0,qt=void 0;An<At.length;An++){if(qt=At[An],typeof qt=="function"&&qt(qe))return wt;if(qt instanceof Date&&qe!==void 0&&qt.getTime()===qe.getTime())return wt;if(typeof qt=="string"){var ot=t.parseDate(qt,void 0,!0);return ot&&ot.getTime()===qe.getTime()?wt:!wt}else if(typeof qt=="object"&&qe!==void 0&&qt.from&&qt.to&&qe.getTime()>=qt.from.getTime()&&qe.getTime()<=qt.to.getTime())return wt}return!wt}function zn(ne){return t.daysContainer!==void 0?ne.className.indexOf("hidden")===-1&&ne.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(ne):!1}function ze(ne){var ce=ne.target===t._input,Ee=t._input.value.trimEnd()!==sr();ce&&Ee&&!(ne.relatedTarget&&Qe(ne.relatedTarget))&&t.setDate(t._input.value,!0,ne.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function mt(ne){var ce=tc(ne),Ee=t.config.wrap?n.contains(ce):ce===t._input,qe=t.config.allowInput,wt=t.isOpen&&(!qe||!Ee),At=t.config.inline&&Ee&&!qe;if(ne.keyCode===13&&Ee){if(qe)return t.setDate(t._input.value,!0,ce===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),ce.blur();t.open()}else if(Qe(ce)||wt||At){var An=!!t.timeContainer&&t.timeContainer.contains(ce);switch(ne.keyCode){case 13:An?(ne.preventDefault(),u(),it()):zt(ne);break;case 27:ne.preventDefault(),it();break;case 8:case 46:Ee&&!t.config.allowInput&&(ne.preventDefault(),t.clear());break;case 37:case 39:if(!An&&!Ee){ne.preventDefault();var qt=o();if(t.daysContainer!==void 0&&(qe===!1||qt&&zn(qt))){var ot=ne.keyCode===39?1:-1;ne.ctrlKey?(ne.stopPropagation(),Ne(ot),_e(ae(1),0)):_e(void 0,ot)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:ne.preventDefault();var Ot=ne.keyCode===40?1:-1;t.daysContainer&&ce.$i!==void 0||ce===t.input||ce===t.altInput?ne.ctrlKey?(ne.stopPropagation(),Et(t.currentYear-Ot),_e(ae(1),0)):An||_e(void 0,Ot*7):ce===t.currentYearElement?Et(t.currentYear-Ot):t.config.enableTime&&(!An&&t.hourElement&&t.hourElement.focus(),u(ne),t._debouncedChange());break;case 9:if(An){var pn=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(ho){return ho}),Er=pn.indexOf(ce);if(Er!==-1){var ko=pn[Er+(ne.shiftKey?-1:1)];ne.preventDefault(),(ko||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(ce)&&ne.shiftKey&&(ne.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&ce===t.amPM)switch(ne.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],y(),mi();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],y(),mi();break}(Ee||Qe(ce))&&$n("onKeyDown",ne)}function gt(ne,ce){if(ce===void 0&&(ce="flatpickr-day"),!(t.selectedDates.length!==1||ne&&(!ne.classList.contains(ce)||ne.classList.contains("flatpickr-disabled")))){for(var Ee=ne?ne.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),qe=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),wt=Math.min(Ee,t.selectedDates[0].getTime()),At=Math.max(Ee,t.selectedDates[0].getTime()),An=!1,qt=0,ot=0,Ot=wt;Ot<At;Ot+=SDe.DAY)on(new Date(Ot),!0)||(An=An||Ot>wt&&Ot<At,Ot<qe&&(!qt||Ot>qt)?qt=Ot:Ot>qe&&(!ot||Ot<ot)&&(ot=Ot));var pn=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+ce));pn.forEach(function(Er){var ko=Er.dateObj,ho=ko.getTime(),Tc=qt>0&&ho<qt||ot>0&&ho>ot;if(Tc){Er.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(qo){Er.classList.remove(qo)});return}else if(An&&!Tc)return;["startRange","inRange","endRange","notAllowed"].forEach(function(qo){Er.classList.remove(qo)}),ne!==void 0&&(ne.classList.add(Ee<=t.selectedDates[0].getTime()?"startRange":"endRange"),qe<Ee&&ho===qe?Er.classList.add("startRange"):qe>Ee&&ho===qe&&Er.classList.add("endRange"),ho>=qt&&(ot===0||ho<=ot)&&_De(ho,qe,Ee)&&Er.classList.add("inRange"))})}}function jt(){t.isOpen&&!t.config.static&&!t.config.inline&&Re()}function Ht(ne,ce){if(ce===void 0&&(ce=t._positionElement),t.isMobile===!0){if(ne){ne.preventDefault();var Ee=tc(ne);Ee&&Ee.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),$n("onOpen");return}else if(t._input.disabled||t.config.inline)return;var qe=t.isOpen;t.isOpen=!0,qe||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),$n("onOpen"),Re(ce)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(ne===void 0||!t.timeContainer.contains(ne.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function qn(ne){return function(ce){var Ee=t.config["_"+ne+"Date"]=t.parseDate(ce,t.config.dateFormat),qe=t.config["_"+(ne==="min"?"max":"min")+"Date"];Ee!==void 0&&(t[ne==="min"?"minDateHasTime":"maxDateHasTime"]=Ee.getHours()>0||Ee.getMinutes()>0||Ee.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(wt){return on(wt)}),!t.selectedDates.length&&ne==="min"&&w(Ee),mi()),t.daysContainer&&(ht(),Ee!==void 0?t.currentYearElement[ne]=Ee.getFullYear().toString():t.currentYearElement.removeAttribute(ne),t.currentYearElement.disabled=!!qe&&Ee!==void 0&&qe.getFullYear()===Ee.getFullYear())}}function kn(){var ne=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ce=ca(ca({},JSON.parse(JSON.stringify(n.dataset||{}))),e),Ee={};t.config.parseDate=ce.parseDate,t.config.formatDate=ce.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(pn){t.config._enable=Rr(pn)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(pn){t.config._disable=Rr(pn)}});var qe=ce.mode==="time";if(!ce.dateFormat&&(ce.enableTime||qe)){var wt=Jo.defaultConfig.dateFormat||cx.dateFormat;Ee.dateFormat=ce.noCalendar||qe?"H:i"+(ce.enableSeconds?":S":""):wt+" H:i"+(ce.enableSeconds?":S":"")}if(ce.altInput&&(ce.enableTime||qe)&&!ce.altFormat){var At=Jo.defaultConfig.altFormat||cx.altFormat;Ee.altFormat=ce.noCalendar||qe?"h:i"+(ce.enableSeconds?":S K":" K"):At+(" h:i"+(ce.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:qn("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:qn("max")});var An=function(pn){return function(Er){t.config[pn==="min"?"_minTime":"_maxTime"]=t.parseDate(Er,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:An("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:An("max")}),ce.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Ee,ce);for(var qt=0;qt<ne.length;qt++)t.config[ne[qt]]=t.config[ne[qt]]===!0||t.config[ne[qt]]==="true";wL.filter(function(pn){return t.config[pn]!==void 0}).forEach(function(pn){t.config[pn]=_L(t.config[pn]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var qt=0;qt<t.config.plugins.length;qt++){var ot=t.config.plugins[qt](t)||{};for(var Ot in ot)wL.indexOf(Ot)>-1?t.config[Ot]=_L(ot[Ot]).map(a).concat(t.config[Ot]):typeof ce[Ot]>"u"&&(t.config[Ot]=ot[Ot])}ce.altInputClass||(t.config.altInputClass=En().className+" "+t.config.altInputClass),$n("onParseConfig")}function En(){return t.config.wrap?n.querySelector("[data-input]"):n}function ve(){typeof t.config.locale!="object"&&typeof Jo.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=ca(ca({},Jo.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Jo.l10ns[t.config.locale]:void 0),by.D="("+t.l10n.weekdays.shorthand.join("|")+")",by.l="("+t.l10n.weekdays.longhand.join("|")+")",by.M="("+t.l10n.months.shorthand.join("|")+")",by.F="("+t.l10n.months.longhand.join("|")+")",by.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var ne=ca(ca({},e),JSON.parse(JSON.stringify(n.dataset||{})));ne.time_24hr===void 0&&Jo.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Joe(t),t.parseDate=yj({config:t.config,l10n:t.l10n})}function Re(ne){if(typeof t.config.position=="function")return void t.config.position(t,ne);if(t.calendarContainer!==void 0){$n("onPreCalendarPosition");var ce=ne||t._positionElement,Ee=Array.prototype.reduce.call(t.calendarContainer.children,function(Ut,Mr){return Ut+Mr.offsetHeight},0),qe=t.calendarContainer.offsetWidth,wt=t.config.position.split(" "),At=wt[0],An=wt.length>1?wt[1]:null,qt=ce.getBoundingClientRect(),ot=window.innerHeight-qt.bottom,Ot=At==="above"||At!=="below"&&ot<Ee&&qt.top>Ee,pn=window.pageYOffset+qt.top+(Ot?-Ee-2:ce.offsetHeight+2);if(La(t.calendarContainer,"arrowTop",!Ot),La(t.calendarContainer,"arrowBottom",Ot),!t.config.inline){var Er=window.pageXOffset+qt.left,ko=!1,ho=!1;An==="center"?(Er-=(qe-qt.width)/2,ko=!0):An==="right"&&(Er-=qe-qt.width,ho=!0),La(t.calendarContainer,"arrowLeft",!ko&&!ho),La(t.calendarContainer,"arrowCenter",ko),La(t.calendarContainer,"arrowRight",ho);var Tc=window.document.body.offsetWidth-(window.pageXOffset+qt.right),qo=Er+qe>window.document.body.offsetWidth,Bd=Tc+qe>window.document.body.offsetWidth;if(La(t.calendarContainer,"rightMost",qo),!t.config.static)if(t.calendarContainer.style.top=pn+"px",!qo)t.calendarContainer.style.left=Er+"px",t.calendarContainer.style.right="auto";else if(!Bd)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=Tc+"px";else{var Au=je();if(Au===void 0)return;var Vd=window.document.body.offsetWidth,gp=Math.max(0,Vd/2-qe/2),Ru=".flatpickr-calendar.centerMost:before",cn=".flatpickr-calendar.centerMost:after",Te=Au.cssRules.length,pt="{left:"+qt.left+"px;right:auto;}";La(t.calendarContainer,"rightMost",!1),La(t.calendarContainer,"centerMost",!0),Au.insertRule(Ru+","+cn+pt,Te),t.calendarContainer.style.left=gp+"px",t.calendarContainer.style.right="auto"}}}}function je(){for(var ne=null,ce=0;ce<document.styleSheets.length;ce++){var Ee=document.styleSheets[ce];if(Ee.cssRules){try{Ee.cssRules}catch{continue}ne=Ee;break}}return ne??at()}function at(){var ne=document.createElement("style");return document.head.appendChild(ne),ne.sheet}function ht(){t.config.noCalendar||t.isMobile||(fe(),Xn(),he())}function it(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function zt(ne){ne.preventDefault(),ne.stopPropagation();var ce=function(pn){return pn.classList&&pn.classList.contains("flatpickr-day")&&!pn.classList.contains("flatpickr-disabled")&&!pn.classList.contains("notAllowed")},Ee=Zoe(tc(ne),ce);if(Ee!==void 0){var qe=Ee,wt=t.latestSelectedDateObj=new Date(qe.dateObj.getTime()),At=(wt.getMonth()<t.currentMonth||wt.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=qe,t.config.mode==="single")t.selectedDates=[wt];else if(t.config.mode==="multiple"){var An=wa(wt);An?t.selectedDates.splice(parseInt(An),1):t.selectedDates.push(wt)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=wt,t.selectedDates.push(wt),oc(wt,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(pn,Er){return pn.getTime()-Er.getTime()}));if(y(),At){var qt=t.currentYear!==wt.getFullYear();t.currentYear=wt.getFullYear(),t.currentMonth=wt.getMonth(),qt&&($n("onYearChange"),fe()),$n("onMonthChange")}if(Xn(),he(),mi(),!At&&t.config.mode!=="range"&&t.config.showMonths===1?Z(qe):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var ot=t.config.mode==="single"&&!t.config.enableTime,Ot=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(ot||Ot)&&it()}N()}}var tn={locale:[ve,$e],showMonths:[Ce,c,xe],minDate:[F],maxDate:[F],positionElement:[pr],clickOpens:[function(){t.config.clickOpens===!0?(O(t._input,"focus",t.open),O(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function _t(ne,ce){if(ne!==null&&typeof ne=="object"){Object.assign(t.config,ne);for(var Ee in ne)tn[Ee]!==void 0&&tn[Ee].forEach(function(qe){return qe()})}else t.config[ne]=ce,tn[ne]!==void 0?tn[ne].forEach(function(qe){return qe()}):wL.indexOf(ne)>-1&&(t.config[ne]=_L(ce));t.redraw(),mi(!0)}function or(ne,ce){var Ee=[];if(ne instanceof Array)Ee=ne.map(function(qe){return t.parseDate(qe,ce)});else if(ne instanceof Date||typeof ne=="number")Ee=[t.parseDate(ne,ce)];else if(typeof ne=="string")switch(t.config.mode){case"single":case"time":Ee=[t.parseDate(ne,ce)];break;case"multiple":Ee=ne.split(t.config.conjunction).map(function(qe){return t.parseDate(qe,ce)});break;case"range":Ee=ne.split(t.l10n.rangeSeparator).map(function(qe){return t.parseDate(qe,ce)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ne)));t.selectedDates=t.config.allowInvalidPreload?Ee:Ee.filter(function(qe){return qe instanceof Date&&on(qe,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(qe,wt){return qe.getTime()-wt.getTime()})}function Oi(ne,ce,Ee){if(ce===void 0&&(ce=!1),Ee===void 0&&(Ee=t.config.dateFormat),ne!==0&&!ne||ne instanceof Array&&ne.length===0)return t.clear(ce);or(ne,Ee),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),F(void 0,ce),w(),t.selectedDates.length===0&&t.clear(!1),mi(ce),ce&&$n("onChange")}function Rr(ne){return ne.slice().map(function(ce){return typeof ce=="string"||typeof ce=="number"||ce instanceof Date?t.parseDate(ce,void 0,!0):ce&&typeof ce=="object"&&ce.from&&ce.to?{from:t.parseDate(ce.from,void 0),to:t.parseDate(ce.to,void 0)}:ce}).filter(function(ce){return ce})}function Ss(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var ne=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);ne&&or(ne,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function js(){if(t.input=En(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Zr(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),pr()}function pr(){t._positionElement=t.config.positionElement||t._input}function Ln(){var ne=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Zr("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=ne,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=ne==="datetime-local"?"Y-m-d\\TH:i:S":ne==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}O(t.mobileInput,"change",function(ce){t.setDate(tc(ce).value,!1,t.mobileFormatStr),$n("onChange"),$n("onClose")})}function Pn(ne){if(t.isOpen===!0)return t.close();t.open(ne)}function $n(ne,ce){if(t.config!==void 0){var Ee=t.config[ne];if(Ee!==void 0&&Ee.length>0)for(var qe=0;Ee[qe]&&qe<Ee.length;qe++)Ee[qe](t.selectedDates,t.input.value,t,ce);ne==="onChange"&&(t.input.dispatchEvent(Ur("change")),t.input.dispatchEvent(Ur("input")))}}function Ur(ne){var ce=document.createEvent("Event");return ce.initEvent(ne,!0,!0),ce}function wa(ne){for(var ce=0;ce<t.selectedDates.length;ce++){var Ee=t.selectedDates[ce];if(Ee instanceof Date&&oc(Ee,ne)===0)return""+ce}return!1}function ct(ne){return t.config.mode!=="range"||t.selectedDates.length<2?!1:oc(ne,t.selectedDates[0])>=0&&oc(ne,t.selectedDates[1])<=0}function Xn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(ne,ce){var Ee=new Date(t.currentYear,t.currentMonth,1);Ee.setMonth(t.currentMonth+ce),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[ce].textContent=DD(Ee.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Ee.getMonth().toString(),ne.value=Ee.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function sr(ne){var ce=ne||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Ee){return t.formatDate(Ee,ce)}).filter(function(Ee,qe,wt){return t.config.mode!=="range"||t.config.enableTime||wt.indexOf(Ee)===qe}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function mi(ne){ne===void 0&&(ne=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=sr(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=sr(t.config.altFormat)),ne!==!1&&$n("onValueUpdate")}function ut(ne){var ce=tc(ne),Ee=t.prevMonthNav.contains(ce),qe=t.nextMonthNav.contains(ce);Ee||qe?Ne(Ee?-1:1):t.yearElements.indexOf(ce)>=0?ce.select():ce.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):ce.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Oc(ne){ne.preventDefault();var ce=ne.type==="keydown",Ee=tc(ne),qe=Ee;t.amPM!==void 0&&Ee===t.amPM&&(t.amPM.textContent=t.l10n.amPM[tu(t.amPM.textContent===t.l10n.amPM[0])]);var wt=parseFloat(qe.getAttribute("min")),At=parseFloat(qe.getAttribute("max")),An=parseFloat(qe.getAttribute("step")),qt=parseInt(qe.value,10),ot=ne.delta||(ce?ne.which===38?1:-1:0),Ot=qt+An*ot;if(typeof qe.value<"u"&&qe.value.length===2){var pn=qe===t.hourElement,Er=qe===t.minuteElement;Ot<wt?(Ot=At+Ot+tu(!pn)+(tu(pn)&&tu(!t.amPM)),Er&&R(void 0,-1,t.hourElement)):Ot>At&&(Ot=qe===t.hourElement?Ot-At-tu(!t.amPM):wt,Er&&R(void 0,1,t.hourElement)),t.amPM&&pn&&(An===1?Ot+qt===23:Math.abs(Ot-qt)>An)&&(t.amPM.textContent=t.l10n.amPM[tu(t.amPM.textContent===t.l10n.amPM[0])]),qe.value=Sl(Ot)}}return i(),t}function ux(n,e){for(var t=Array.prototype.slice.call(n).filter(function(a){return a instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var o=t[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=CDe(o,e||{}),r.push(o._flatpickr)}catch(a){console.error(a)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return ux(this,n)},HTMLElement.prototype.flatpickr=function(n){return ux([this],n)});var Jo=function(n,e){return typeof n=="string"?ux(window.document.querySelectorAll(n),e):n instanceof Node?ux([n],e):ux(n,e)};Jo.defaultConfig={};Jo.l10ns={en:ca({},jC),default:ca({},jC)};Jo.localize=function(n){Jo.l10ns.default=ca(ca({},Jo.l10ns.default),n)};Jo.setDefaults=function(n){Jo.defaultConfig=ca(ca({},Jo.defaultConfig),n)};Jo.parseDate=yj({});Jo.formatDate=Joe({});Jo.compareDates=oc;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return ux(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Jo);function ese(n,e){for(var t in e)n[t]=e[t];return n}function wG(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function _G(n,e){this.props=n,this.context=e}(_G.prototype=new Uh).isPureReactComponent=!0,_G.prototype.shouldComponentUpdate=function(n,e){return wG(this.props,n)||wG(this.state,e)};var EG=ir.__b;ir.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),EG&&EG(n)};var ODe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ig(n){function e(t){var r=ese({},t);return delete r.ref,n(r,t.ref||null)}return e.$$typeof=ODe,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(n.displayName||n.name)+")",e}var TDe=ir.__e;ir.__e=function(n,e,t,r){if(n.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(n,e)}TDe(n,e,t,r)};var SG=ir.unmount;function tse(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=ese({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return tse(r,e,t)})),n}function nse(n,e,t){return n&&t&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return nse(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=t)),n}function CL(){this.__u=0,this.o=null,this.__b=null}function rse(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function tR(){this.i=null,this.l=null}ir.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&32&n.__u&&(n.type=null),SG&&SG(n)},(CL.prototype=new Uh).__c=function(n,e){var t=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(t);var i=rse(r.__v),o=!1,a=function(){o||(o=!0,t.__R=null,i?i(c):c())};t.__R=a;var c=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=nse(u,u.__c.__P,u.__c.__O)}var h;for(r.setState({__a:r.__b=null});h=r.o.pop();)h.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(a,a)},CL.prototype.componentWillUnmount=function(){this.o=[]},CL.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=tse(this.__b,t,r.__O=r.__P)}this.__b=null}var i=e.__a&&tt(ki,null,n.fallback);return i&&(i.__u&=-33),[tt(ki,null,e.__a?null:n.children),i]};var kG=function(n,e,t){if(++t[1]===t[0]&&n.l.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.l.size))for(t=n.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.i=t=t[2]}};function PDe(n){return this.getChildContext=function(){return n.context},n.children}function ADe(n){var e=this,t=n.h;if(e.componentWillUnmount=function(){sp(null,e.v),e.v=null,e.h=null},e.h&&e.h!==t&&e.componentWillUnmount(),!e.v){for(var r=e.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;e.h=t,e.v={nodeType:1,parentNode:t,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),e.h.appendChild(i)},insertBefore:function(i,o){this.childNodes.push(i),e.h.insertBefore(i,o)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.h.removeChild(i)}}}sp(tt(PDe,{context:e.context},n.__v),e.v)}function yI(n,e){var t=tt(ADe,{__v:n,h:e});return t.containerInfo=e,t}(tR.prototype=new Uh).__a=function(n){var e=this,t=rse(e.__v),r=e.l.get(n);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),kG(e,n,r)):i()};t?t(o):o()}},tR.prototype.render=function(n){this.i=null,this.l=new Map;var e=kD(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return n.children},tR.prototype.componentDidUpdate=tR.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(e,t){kG(n,t,e)})};var RDe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,MDe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,DDe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,NDe=/[A-Z0-9]/g,IDe=typeof document<"u",FDe=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};Uh.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Uh.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var CG=ir.event;function LDe(){}function $De(){return this.cancelBubble}function jDe(){return this.defaultPrevented}ir.event=function(n){return CG&&(n=CG(n)),n.persist=LDe,n.isPropagationStopped=$De,n.isDefaultPrevented=jDe,n.nativeEvent=n};var BDe={enumerable:!1,configurable:!0,get:function(){return this.class}},OG=ir.vnode;ir.vnode=function(n){typeof n.type=="string"&&function(e){var t=e.props,r=e.type,i={},o=r.indexOf("-")===-1;for(var a in t){var c=t[a];if(!(a==="value"&&"defaultValue"in t&&c==null||IDe&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var u=a.toLowerCase();a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&c===!0?c="":u==="translate"&&c==="no"?c=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?a="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||FDe(t.type)?u==="onfocus"?a="onfocusin":u==="onblur"?a="onfocusout":DDe.test(a)&&(a=u):u=a="oninput":o&&MDe.test(a)?a=a.replace(NDe,"-$&").toLowerCase():c===null&&(c=void 0),u==="oninput"&&i[a=u]&&(a="oninputCapture"),i[a]=c}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=kD(t.children).forEach(function(h){h.props.selected=i.value.indexOf(h.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=kD(t.children).forEach(function(h){h.props.selected=i.multiple?i.defaultValue.indexOf(h.props.value)!=-1:i.defaultValue==h.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",BDe)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(n),n.$$typeof=RDe,OG&&OG(n)};var TG=ir.__r;ir.__r=function(n){TG&&TG(n),n.__c};var PG=ir.diffed;ir.diffed=function(n){PG&&PG(n);var e=n.props,t=n.__e;t!=null&&n.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value)};/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:ise,setPrototypeOf:AG,isFrozen:VDe,getPrototypeOf:zDe,getOwnPropertyDescriptor:HDe}=Object;let{freeze:Qa,seal:Cu,create:ose}=Object,{apply:bj,construct:xj}=typeof Reflect<"u"&&Reflect;Qa||(Qa=function(e){return e});Cu||(Cu=function(e){return e});bj||(bj=function(e,t,r){return e.apply(t,r)});xj||(xj=function(e,t){return new e(...t)});const nR=Ka(Array.prototype.forEach),WDe=Ka(Array.prototype.lastIndexOf),RG=Ka(Array.prototype.pop),BS=Ka(Array.prototype.push),qDe=Ka(Array.prototype.splice),gM=Ka(String.prototype.toLowerCase),OL=Ka(String.prototype.toString),MG=Ka(String.prototype.match),VS=Ka(String.prototype.replace),UDe=Ka(String.prototype.indexOf),GDe=Ka(String.prototype.trim),id=Ka(Object.prototype.hasOwnProperty),$a=Ka(RegExp.prototype.test),zS=YDe(TypeError);function Ka(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return bj(n,e,r)}}function YDe(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return xj(n,t)}}function yr(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gM;AG&&AG(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=t(i);o!==i&&(VDe(e)||(e[r]=o),i=o)}n[i]=!0}return n}function QDe(n){for(let e=0;e<n.length;e++)id(n,e)||(n[e]=null);return n}function my(n){const e=ose(null);for(const[t,r]of ise(n))id(n,t)&&(Array.isArray(r)?e[t]=QDe(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=my(r):e[t]=r);return e}function HS(n,e){for(;n!==null;){const r=HDe(n,e);if(r){if(r.get)return Ka(r.get);if(typeof r.value=="function")return Ka(r.value)}n=zDe(n)}function t(){return null}return t}const DG=Qa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),TL=Qa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),PL=Qa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KDe=Qa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),AL=Qa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XDe=Qa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),NG=Qa(["#text"]),IG=Qa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),RL=Qa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),FG=Qa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rR=Qa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ZDe=Cu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),JDe=Cu(/<%[\w\W]*|[\w\W]*%>/gm),eNe=Cu(/\$\{[\w\W]*/gm),tNe=Cu(/^data-[\-\w.\u00B7-\uFFFF]+$/),nNe=Cu(/^aria-[\-\w]+$/),sse=Cu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rNe=Cu(/^(?:\w+script|data):/i),iNe=Cu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ase=Cu(/^html$/i),oNe=Cu(/^[a-z][.\w]*(-[.\w]+)+$/i);var LG=Object.freeze({__proto__:null,ARIA_ATTR:nNe,ATTR_WHITESPACE:iNe,CUSTOM_ELEMENT:oNe,DATA_ATTR:tNe,DOCTYPE_NAME:ase,ERB_EXPR:JDe,IS_ALLOWED_URI:sse,IS_SCRIPT_OR_DATA:rNe,MUSTACHE_EXPR:ZDe,TMPLIT_EXPR:eNe});const WS={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},sNe=function(){return typeof window>"u"?null:window},aNe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},$G=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function lse(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sNe();const e=cn=>lse(cn);if(e.version="3.2.5",e.removed=[],!n||!n.document||n.document.nodeType!==WS.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:c,Element:u,NodeFilter:h,NamedNodeMap:m=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:y,DOMParser:w,trustedTypes:S}=n,T=u.prototype,O=HS(T,"cloneNode"),N=HS(T,"remove"),D=HS(T,"nextSibling"),F=HS(T,"childNodes"),I=HS(T,"parentNode");if(typeof a=="function"){const cn=t.createElement("template");cn.content&&cn.content.ownerDocument&&(t=cn.content.ownerDocument)}let R,z="";const{implementation:X,createNodeIterator:Z,createDocumentFragment:ae,getElementsByTagName:ge}=t,{importNode:_e}=r;let be=$G();e.isSupported=typeof ise=="function"&&typeof I=="function"&&X&&X.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:he,ERB_EXPR:fe,TMPLIT_EXPR:pe,DATA_ATTR:Ce,ARIA_ATTR:Ae,IS_SCRIPT_OR_DATA:We,ATTR_WHITESPACE:xe,CUSTOM_ELEMENT:$e}=LG;let{IS_ALLOWED_URI:Je}=LG,Ne=null;const Ue=yr({},[...DG,...TL,...PL,...AL,...NG]);let le=null;const Ze=yr({},[...IG,...RL,...FG,...rR]);let Qe=Object.seal(ose(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ct=null,Et=null,on=!0,zn=!0,ze=!1,mt=!0,gt=!1,jt=!0,Ht=!1,qn=!1,kn=!1,En=!1,ve=!1,Re=!1,je=!0,at=!1;const ht="user-content-";let it=!0,zt=!1,tn={},_t=null;const or=yr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Oi=null;const Rr=yr({},["audio","video","img","source","image","track"]);let Ss=null;const js=yr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pr="http://www.w3.org/1998/Math/MathML",Ln="http://www.w3.org/2000/svg",Pn="http://www.w3.org/1999/xhtml";let $n=Pn,Ur=!1,wa=null;const ct=yr({},[pr,Ln,Pn],OL);let Xn=yr({},["mi","mo","mn","ms","mtext"]),sr=yr({},["annotation-xml"]);const mi=yr({},["title","style","font","a","script"]);let ut=null;const Oc=["application/xhtml+xml","text/html"],ne="text/html";let ce=null,Ee=null;const qe=t.createElement("form"),wt=function(Te){return Te instanceof RegExp||Te instanceof Function},At=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ee&&Ee===Te)){if((!Te||typeof Te!="object")&&(Te={}),Te=my(Te),ut=Oc.indexOf(Te.PARSER_MEDIA_TYPE)===-1?ne:Te.PARSER_MEDIA_TYPE,ce=ut==="application/xhtml+xml"?OL:gM,Ne=id(Te,"ALLOWED_TAGS")?yr({},Te.ALLOWED_TAGS,ce):Ue,le=id(Te,"ALLOWED_ATTR")?yr({},Te.ALLOWED_ATTR,ce):Ze,wa=id(Te,"ALLOWED_NAMESPACES")?yr({},Te.ALLOWED_NAMESPACES,OL):ct,Ss=id(Te,"ADD_URI_SAFE_ATTR")?yr(my(js),Te.ADD_URI_SAFE_ATTR,ce):js,Oi=id(Te,"ADD_DATA_URI_TAGS")?yr(my(Rr),Te.ADD_DATA_URI_TAGS,ce):Rr,_t=id(Te,"FORBID_CONTENTS")?yr({},Te.FORBID_CONTENTS,ce):or,Ct=id(Te,"FORBID_TAGS")?yr({},Te.FORBID_TAGS,ce):{},Et=id(Te,"FORBID_ATTR")?yr({},Te.FORBID_ATTR,ce):{},tn=id(Te,"USE_PROFILES")?Te.USE_PROFILES:!1,on=Te.ALLOW_ARIA_ATTR!==!1,zn=Te.ALLOW_DATA_ATTR!==!1,ze=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,mt=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,gt=Te.SAFE_FOR_TEMPLATES||!1,jt=Te.SAFE_FOR_XML!==!1,Ht=Te.WHOLE_DOCUMENT||!1,En=Te.RETURN_DOM||!1,ve=Te.RETURN_DOM_FRAGMENT||!1,Re=Te.RETURN_TRUSTED_TYPE||!1,kn=Te.FORCE_BODY||!1,je=Te.SANITIZE_DOM!==!1,at=Te.SANITIZE_NAMED_PROPS||!1,it=Te.KEEP_CONTENT!==!1,zt=Te.IN_PLACE||!1,Je=Te.ALLOWED_URI_REGEXP||sse,$n=Te.NAMESPACE||Pn,Xn=Te.MATHML_TEXT_INTEGRATION_POINTS||Xn,sr=Te.HTML_INTEGRATION_POINTS||sr,Qe=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&wt(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Qe.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&wt(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Qe.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Qe.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),gt&&(zn=!1),ve&&(En=!0),tn&&(Ne=yr({},NG),le=[],tn.html===!0&&(yr(Ne,DG),yr(le,IG)),tn.svg===!0&&(yr(Ne,TL),yr(le,RL),yr(le,rR)),tn.svgFilters===!0&&(yr(Ne,PL),yr(le,RL),yr(le,rR)),tn.mathMl===!0&&(yr(Ne,AL),yr(le,FG),yr(le,rR))),Te.ADD_TAGS&&(Ne===Ue&&(Ne=my(Ne)),yr(Ne,Te.ADD_TAGS,ce)),Te.ADD_ATTR&&(le===Ze&&(le=my(le)),yr(le,Te.ADD_ATTR,ce)),Te.ADD_URI_SAFE_ATTR&&yr(Ss,Te.ADD_URI_SAFE_ATTR,ce),Te.FORBID_CONTENTS&&(_t===or&&(_t=my(_t)),yr(_t,Te.FORBID_CONTENTS,ce)),it&&(Ne["#text"]=!0),Ht&&yr(Ne,["html","head","body"]),Ne.table&&(yr(Ne,["tbody"]),delete Ct.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw zS('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw zS('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=Te.TRUSTED_TYPES_POLICY,z=R.createHTML("")}else R===void 0&&(R=aNe(S,i)),R!==null&&typeof z=="string"&&(z=R.createHTML(""));Qa&&Qa(Te),Ee=Te}},An=yr({},[...TL,...PL,...KDe]),qt=yr({},[...AL,...XDe]),ot=function(Te){let pt=I(Te);(!pt||!pt.tagName)&&(pt={namespaceURI:$n,tagName:"template"});const Ut=gM(Te.tagName),Mr=gM(pt.tagName);return wa[Te.namespaceURI]?Te.namespaceURI===Ln?pt.namespaceURI===Pn?Ut==="svg":pt.namespaceURI===pr?Ut==="svg"&&(Mr==="annotation-xml"||Xn[Mr]):!!An[Ut]:Te.namespaceURI===pr?pt.namespaceURI===Pn?Ut==="math":pt.namespaceURI===Ln?Ut==="math"&&sr[Mr]:!!qt[Ut]:Te.namespaceURI===Pn?pt.namespaceURI===Ln&&!sr[Mr]||pt.namespaceURI===pr&&!Xn[Mr]?!1:!qt[Ut]&&(mi[Ut]||!An[Ut]):!!(ut==="application/xhtml+xml"&&wa[Te.namespaceURI]):!1},Ot=function(Te){BS(e.removed,{element:Te});try{I(Te).removeChild(Te)}catch{N(Te)}},pn=function(Te,pt){try{BS(e.removed,{attribute:pt.getAttributeNode(Te),from:pt})}catch{BS(e.removed,{attribute:null,from:pt})}if(pt.removeAttribute(Te),Te==="is")if(En||ve)try{Ot(pt)}catch{}else try{pt.setAttribute(Te,"")}catch{}},Er=function(Te){let pt=null,Ut=null;if(kn)Te="<remove></remove>"+Te;else{const Qi=MG(Te,/^[\r\n\t ]+/);Ut=Qi&&Qi[0]}ut==="application/xhtml+xml"&&$n===Pn&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const Mr=R?R.createHTML(Te):Te;if($n===Pn)try{pt=new w().parseFromString(Mr,ut)}catch{}if(!pt||!pt.documentElement){pt=X.createDocument($n,"template",null);try{pt.documentElement.innerHTML=Ur?z:Mr}catch{}}const Uo=pt.body||pt.documentElement;return Te&&Ut&&Uo.insertBefore(t.createTextNode(Ut),Uo.childNodes[0]||null),$n===Pn?ge.call(pt,Ht?"html":"body")[0]:Ht?pt.documentElement:Uo},ko=function(Te){return Z.call(Te.ownerDocument||Te,Te,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},ho=function(Te){return Te instanceof y&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof m)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},Tc=function(Te){return typeof c=="function"&&Te instanceof c};function qo(cn,Te,pt){nR(cn,Ut=>{Ut.call(e,Te,pt,Ee)})}const Bd=function(Te){let pt=null;if(qo(be.beforeSanitizeElements,Te,null),ho(Te))return Ot(Te),!0;const Ut=ce(Te.nodeName);if(qo(be.uponSanitizeElement,Te,{tagName:Ut,allowedTags:Ne}),Te.hasChildNodes()&&!Tc(Te.firstElementChild)&&$a(/<[/\w!]/g,Te.innerHTML)&&$a(/<[/\w!]/g,Te.textContent)||Te.nodeType===WS.progressingInstruction||jt&&Te.nodeType===WS.comment&&$a(/<[/\w]/g,Te.data))return Ot(Te),!0;if(!Ne[Ut]||Ct[Ut]){if(!Ct[Ut]&&Vd(Ut)&&(Qe.tagNameCheck instanceof RegExp&&$a(Qe.tagNameCheck,Ut)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck(Ut)))return!1;if(it&&!_t[Ut]){const Mr=I(Te)||Te.parentNode,Uo=F(Te)||Te.childNodes;if(Uo&&Mr){const Qi=Uo.length;for(let ks=Qi-1;ks>=0;--ks){const _a=O(Uo[ks],!0);_a.__removalCount=(Te.__removalCount||0)+1,Mr.insertBefore(_a,D(Te))}}}return Ot(Te),!0}return Te instanceof u&&!ot(Te)||(Ut==="noscript"||Ut==="noembed"||Ut==="noframes")&&$a(/<\/no(script|embed|frames)/i,Te.innerHTML)?(Ot(Te),!0):(gt&&Te.nodeType===WS.text&&(pt=Te.textContent,nR([he,fe,pe],Mr=>{pt=VS(pt,Mr," ")}),Te.textContent!==pt&&(BS(e.removed,{element:Te.cloneNode()}),Te.textContent=pt)),qo(be.afterSanitizeElements,Te,null),!1)},Au=function(Te,pt,Ut){if(je&&(pt==="id"||pt==="name")&&(Ut in t||Ut in qe))return!1;if(!(zn&&!Et[pt]&&$a(Ce,pt))){if(!(on&&$a(Ae,pt))){if(!le[pt]||Et[pt]){if(!(Vd(Te)&&(Qe.tagNameCheck instanceof RegExp&&$a(Qe.tagNameCheck,Te)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck(Te))&&(Qe.attributeNameCheck instanceof RegExp&&$a(Qe.attributeNameCheck,pt)||Qe.attributeNameCheck instanceof Function&&Qe.attributeNameCheck(pt))||pt==="is"&&Qe.allowCustomizedBuiltInElements&&(Qe.tagNameCheck instanceof RegExp&&$a(Qe.tagNameCheck,Ut)||Qe.tagNameCheck instanceof Function&&Qe.tagNameCheck(Ut))))return!1}else if(!Ss[pt]){if(!$a(Je,VS(Ut,xe,""))){if(!((pt==="src"||pt==="xlink:href"||pt==="href")&&Te!=="script"&&UDe(Ut,"data:")===0&&Oi[Te])){if(!(ze&&!$a(We,VS(Ut,xe,"")))){if(Ut)return!1}}}}}}return!0},Vd=function(Te){return Te!=="annotation-xml"&&MG(Te,$e)},gp=function(Te){qo(be.beforeSanitizeAttributes,Te,null);const{attributes:pt}=Te;if(!pt||ho(Te))return;const Ut={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let Mr=pt.length;for(;Mr--;){const Uo=pt[Mr],{name:Qi,namespaceURI:ks,value:_a}=Uo,Kf=ce(Qi);let Go=Qi==="value"?_a:GDe(_a);if(Ut.attrName=Kf,Ut.attrValue=Go,Ut.keepAttr=!0,Ut.forceKeepAttr=void 0,qo(be.uponSanitizeAttribute,Te,Ut),Go=Ut.attrValue,at&&(Kf==="id"||Kf==="name")&&(pn(Qi,Te),Go=ht+Go),jt&&$a(/((--!?|])>)|<\/(style|title)/i,Go)){pn(Qi,Te);continue}if(Ut.forceKeepAttr||(pn(Qi,Te),!Ut.keepAttr))continue;if(!mt&&$a(/\/>/i,Go)){pn(Qi,Te);continue}gt&&nR([he,fe,pe],Vl=>{Go=VS(Go,Vl," ")});const Ea=ce(Te.nodeName);if(Au(Ea,Kf,Go)){if(R&&typeof S=="object"&&typeof S.getAttributeType=="function"&&!ks)switch(S.getAttributeType(Ea,Kf)){case"TrustedHTML":{Go=R.createHTML(Go);break}case"TrustedScriptURL":{Go=R.createScriptURL(Go);break}}try{ks?Te.setAttributeNS(ks,Qi,Go):Te.setAttribute(Qi,Go),ho(Te)?Ot(Te):RG(e.removed)}catch{}}}qo(be.afterSanitizeAttributes,Te,null)},Ru=function cn(Te){let pt=null;const Ut=ko(Te);for(qo(be.beforeSanitizeShadowDOM,Te,null);pt=Ut.nextNode();)qo(be.uponSanitizeShadowNode,pt,null),Bd(pt),gp(pt),pt.content instanceof o&&cn(pt.content);qo(be.afterSanitizeShadowDOM,Te,null)};return e.sanitize=function(cn){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pt=null,Ut=null,Mr=null,Uo=null;if(Ur=!cn,Ur&&(cn="<!-->"),typeof cn!="string"&&!Tc(cn))if(typeof cn.toString=="function"){if(cn=cn.toString(),typeof cn!="string")throw zS("dirty is not a string, aborting")}else throw zS("toString is not a function");if(!e.isSupported)return cn;if(qn||At(Te),e.removed=[],typeof cn=="string"&&(zt=!1),zt){if(cn.nodeName){const _a=ce(cn.nodeName);if(!Ne[_a]||Ct[_a])throw zS("root node is forbidden and cannot be sanitized in-place")}}else if(cn instanceof c)pt=Er("<!---->"),Ut=pt.ownerDocument.importNode(cn,!0),Ut.nodeType===WS.element&&Ut.nodeName==="BODY"||Ut.nodeName==="HTML"?pt=Ut:pt.appendChild(Ut);else{if(!En&&!gt&&!Ht&&cn.indexOf("<")===-1)return R&&Re?R.createHTML(cn):cn;if(pt=Er(cn),!pt)return En?null:Re?z:""}pt&&kn&&Ot(pt.firstChild);const Qi=ko(zt?cn:pt);for(;Mr=Qi.nextNode();)Bd(Mr),gp(Mr),Mr.content instanceof o&&Ru(Mr.content);if(zt)return cn;if(En){if(ve)for(Uo=ae.call(pt.ownerDocument);pt.firstChild;)Uo.appendChild(pt.firstChild);else Uo=pt;return(le.shadowroot||le.shadowrootmode)&&(Uo=_e.call(r,Uo,!0)),Uo}let ks=Ht?pt.outerHTML:pt.innerHTML;return Ht&&Ne["!doctype"]&&pt.ownerDocument&&pt.ownerDocument.doctype&&pt.ownerDocument.doctype.name&&$a(ase,pt.ownerDocument.doctype.name)&&(ks="<!DOCTYPE "+pt.ownerDocument.doctype.name+`>
`+ks),gt&&nR([he,fe,pe],_a=>{ks=VS(ks,_a," ")}),R&&Re?R.createHTML(ks):ks},e.setConfig=function(){let cn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};At(cn),qn=!0},e.clearConfig=function(){Ee=null,qn=!1},e.isValidAttribute=function(cn,Te,pt){Ee||At({});const Ut=ce(cn),Mr=ce(Te);return Au(Ut,Mr,pt)},e.addHook=function(cn,Te){typeof Te=="function"&&BS(be[cn],Te)},e.removeHook=function(cn,Te){if(Te!==void 0){const pt=WDe(be[cn],Te);return pt===-1?void 0:qDe(be[cn],pt,1)[0]}return RG(be[cn])},e.removeHooks=function(cn){be[cn]=[]},e.removeAllHooks=function(){be=$G()},e}var lNe=lse(),ND={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ND.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,m="__lodash_placeholder__",y=1,w=2,S=4,T=1,O=2,N=1,D=2,F=4,I=8,R=16,z=32,X=64,Z=128,ae=256,ge=512,_e=30,be="...",he=800,fe=16,pe=1,Ce=2,Ae=3,We=1/0,xe=9007199254740991,$e=17976931348623157e292,Je=NaN,Ne=4294967295,Ue=Ne-1,le=Ne>>>1,Ze=[["ary",Z],["bind",N],["bindKey",D],["curry",I],["curryRight",R],["flip",ge],["partial",z],["partialRight",X],["rearg",ae]],Qe="[object Arguments]",Ct="[object Array]",Et="[object AsyncFunction]",on="[object Boolean]",zn="[object Date]",ze="[object DOMException]",mt="[object Error]",gt="[object Function]",jt="[object GeneratorFunction]",Ht="[object Map]",qn="[object Number]",kn="[object Null]",En="[object Object]",ve="[object Promise]",Re="[object Proxy]",je="[object RegExp]",at="[object Set]",ht="[object String]",it="[object Symbol]",zt="[object Undefined]",tn="[object WeakMap]",_t="[object WeakSet]",or="[object ArrayBuffer]",Oi="[object DataView]",Rr="[object Float32Array]",Ss="[object Float64Array]",js="[object Int8Array]",pr="[object Int16Array]",Ln="[object Int32Array]",Pn="[object Uint8Array]",$n="[object Uint8ClampedArray]",Ur="[object Uint16Array]",wa="[object Uint32Array]",ct=/\b__p \+= '';/g,Xn=/\b(__p \+=) '' \+/g,sr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mi=/&(?:amp|lt|gt|quot|#39);/g,ut=/[&<>"']/g,Oc=RegExp(mi.source),ne=RegExp(ut.source),ce=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,qe=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,An=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qt=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(qt.source),Ot=/^\s+/,pn=/\s/,Er=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ko=/\{\n\/\* \[wrapped with (.+)\] \*/,ho=/,? & /,Tc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qo=/[()=,{}\[\]\/\s]/,Bd=/\\(\\)?/g,Au=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vd=/\w*$/,gp=/^[-+]0x[0-9a-f]+$/i,Ru=/^0b[01]+$/i,cn=/^\[object .+?Constructor\]$/,Te=/^0o[0-7]+$/i,pt=/^(?:0|[1-9]\d*)$/,Ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mr=/($^)/,Uo=/['\n\r\u2028\u2029\\]/g,Qi="\\ud800-\\udfff",ks="\\u0300-\\u036f",_a="\\ufe20-\\ufe2f",Kf="\\u20d0-\\u20ff",Go=ks+_a+Kf,Ea="\\u2700-\\u27bf",Vl="a-z\\xdf-\\xf6\\xf8-\\xff",qw="\\xac\\xb1\\xd7\\xf7",t3="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",C0="\\u2000-\\u206f",Uw=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hg="A-Z\\xc0-\\xd6\\xd8-\\xde",Gw="\\ufe0e\\ufe0f",Wg=qw+t3+C0+Uw,O0="[']",Y2="["+Qi+"]",zd="["+Wg+"]",Hd="["+Go+"]",Fi="\\d+",Q2="["+Ea+"]",Yw="["+Vl+"]",vp="[^"+Qi+Wg+Fi+Ea+Vl+Hg+"]",Pc="\\ud83c[\\udffb-\\udfff]",n3="(?:"+Hd+"|"+Pc+")",Li="[^"+Qi+"]",$i="(?:\\ud83c[\\udde6-\\uddff]){2}",qg="[\\ud800-\\udbff][\\udc00-\\udfff]",Ac="["+Hg+"]",T0="\\u200d",K2="(?:"+Yw+"|"+vp+")",Mu="(?:"+Ac+"|"+vp+")",X2="(?:"+O0+"(?:d|ll|m|re|s|t|ve))?",Qw="(?:"+O0+"(?:D|LL|M|RE|S|T|VE))?",P0=n3+"?",Z2="["+Gw+"]?",J2="(?:"+T0+"(?:"+[Li,$i,qg].join("|")+")"+Z2+P0+")*",Ki="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zl=Z2+P0+J2,Rc="(?:"+[Q2,$i,qg].join("|")+")"+zl,eO="(?:"+[Li+Hd+"?",Hd,$i,qg,Y2].join("|")+")",qd=RegExp(O0,"g"),r3=RegExp(Hd,"g"),Kw=RegExp(Pc+"(?="+Pc+")|"+eO+zl,"g"),A0=RegExp([Ac+"?"+Yw+"+"+X2+"(?="+[zd,Ac,"$"].join("|")+")",Mu+"+"+Qw+"(?="+[zd,Ac+K2,"$"].join("|")+")",Ac+"?"+K2+"+"+X2,Ac+"+"+Qw,Wd,Ki,Fi,Rc].join("|"),"g"),Xw=RegExp("["+T0+Qi+Go+Gw+"]"),Ug=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zw=-1,gi={};gi[Rr]=gi[Ss]=gi[js]=gi[pr]=gi[Ln]=gi[Pn]=gi[$n]=gi[Ur]=gi[wa]=!0,gi[Qe]=gi[Ct]=gi[or]=gi[on]=gi[Oi]=gi[zn]=gi[mt]=gi[gt]=gi[Ht]=gi[qn]=gi[En]=gi[je]=gi[at]=gi[ht]=gi[tn]=!1;var Gr={};Gr[Qe]=Gr[Ct]=Gr[or]=Gr[Oi]=Gr[on]=Gr[zn]=Gr[Rr]=Gr[Ss]=Gr[js]=Gr[pr]=Gr[Ln]=Gr[Ht]=Gr[qn]=Gr[En]=Gr[je]=Gr[at]=Gr[ht]=Gr[it]=Gr[Pn]=Gr[$n]=Gr[Ur]=Gr[wa]=!0,Gr[mt]=Gr[gt]=Gr[tn]=!1;var tO={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},nO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ud={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rO={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},iO=parseFloat,i3=parseInt,Gg=typeof Sf=="object"&&Sf&&Sf.Object===Object&&Sf,o3=typeof self=="object"&&self&&self.Object===Object&&self,Yo=Gg||o3||Function("return this")(),Jw=e&&!e.nodeType&&e,Gd=Jw&&!0&&n&&!n.nodeType&&n,Yg=Gd&&Gd.exports===Jw,R0=Yg&&Gg.process,Sa=function(){try{var Me=Gd&&Gd.require&&Gd.require("util").types;return Me||R0&&R0.binding&&R0.binding("util")}catch{}}(),e_=Sa&&Sa.isArrayBuffer,Dr=Sa&&Sa.isDate,Zn=Sa&&Sa.isMap,t_=Sa&&Sa.isRegExp,Du=Sa&&Sa.isSet,nn=Sa&&Sa.isTypedArray;function Cs(Me,Ge,He){switch(He.length){case 0:return Me.call(Ge);case 1:return Me.call(Ge,He[0]);case 2:return Me.call(Ge,He[0],He[1]);case 3:return Me.call(Ge,He[0],He[1],He[2])}return Me.apply(Ge,He)}function s3(Me,Ge,He,Wt){for(var Cn=-1,Or=Me==null?0:Me.length;++Cn<Or;){var Xi=Me[Cn];Ge(Wt,Xi,He(Xi),Me)}return Wt}function Xt(Me,Ge){for(var He=-1,Wt=Me==null?0:Me.length;++He<Wt&&Ge(Me[He],He,Me)!==!1;);return Me}function rs(Me,Ge){for(var He=Me==null?0:Me.length;He--&&Ge(Me[He],He,Me)!==!1;);return Me}function M0(Me,Ge){for(var He=-1,Wt=Me==null?0:Me.length;++He<Wt;)if(!Ge(Me[He],He,Me))return!1;return!0}function Hl(Me,Ge){for(var He=-1,Wt=Me==null?0:Me.length,Cn=0,Or=[];++He<Wt;){var Xi=Me[He];Ge(Xi,He,Me)&&(Or[Cn++]=Xi)}return Or}function Qg(Me,Ge){var He=Me==null?0:Me.length;return!!He&&Xf(Me,Ge,0)>-1}function D0(Me,Ge,He){for(var Wt=-1,Cn=Me==null?0:Me.length;++Wt<Cn;)if(He(Ge,Me[Wt]))return!0;return!1}function Ti(Me,Ge){for(var He=-1,Wt=Me==null?0:Me.length,Cn=Array(Wt);++He<Wt;)Cn[He]=Ge(Me[He],He,Me);return Cn}function fn(Me,Ge){for(var He=-1,Wt=Ge.length,Cn=Me.length;++He<Wt;)Me[Cn+He]=Ge[He];return Me}function N0(Me,Ge,He,Wt){var Cn=-1,Or=Me==null?0:Me.length;for(Wt&&Or&&(He=Me[++Cn]);++Cn<Or;)He=Ge(He,Me[Cn],Cn,Me);return He}function bp(Me,Ge,He,Wt){var Cn=Me==null?0:Me.length;for(Wt&&Cn&&(He=Me[--Cn]);Cn--;)He=Ge(He,Me[Cn],Cn,Me);return He}function Bs(Me,Ge){for(var He=-1,Wt=Me==null?0:Me.length;++He<Wt;)if(Ge(Me[He],He,Me))return!0;return!1}var oO=I0("length");function el(Me){return Me.split("")}function n_(Me){return Me.match(Tc)||[]}function r_(Me,Ge,He){var Wt;return He(Me,function(Cn,Or,Xi){if(Ge(Cn,Or,Xi))return Wt=Or,!1}),Wt}function Kg(Me,Ge,He,Wt){for(var Cn=Me.length,Or=He+(Wt?1:-1);Wt?Or--:++Or<Cn;)if(Ge(Me[Or],Or,Me))return Or;return-1}function Xf(Me,Ge,He){return Ge===Ge?Ca(Me,Ge,He):Kg(Me,Zf,He)}function sO(Me,Ge,He,Wt){for(var Cn=He-1,Or=Me.length;++Cn<Or;)if(Wt(Me[Cn],Ge))return Cn;return-1}function Zf(Me){return Me!==Me}function xp(Me,Ge){var He=Me==null?0:Me.length;return He?Wl(Me,Ge)/He:Je}function I0(Me){return function(Ge){return Ge==null?t:Ge[Me]}}function F0(Me){return function(Ge){return Me==null?t:Me[Ge]}}function i_(Me,Ge,He,Wt,Cn){return Cn(Me,function(Or,Xi,li){He=Wt?(Wt=!1,Or):Ge(He,Or,Xi,li)}),He}function a3(Me,Ge){var He=Me.length;for(Me.sort(Ge);He--;)Me[He]=Me[He].value;return Me}function Wl(Me,Ge){for(var He,Wt=-1,Cn=Me.length;++Wt<Cn;){var Or=Ge(Me[Wt]);Or!==t&&(He=He===t?Or:He+Or)}return He}function wp(Me,Ge){for(var He=-1,Wt=Array(Me);++He<Me;)Wt[He]=Ge(He);return Wt}function l3(Me,Ge){return Ti(Ge,function(He){return[He,Me[He]]})}function Vs(Me){return Me&&Me.slice(0,s_(Me)+1).replace(Ot,"")}function is(Me){return function(Ge){return Me(Ge)}}function Nu(Me,Ge){return Ti(Ge,function(He){return Me[He]})}function Yd(Me,Ge){return Me.has(Ge)}function Co(Me,Ge){for(var He=-1,Wt=Me.length;++He<Wt&&Xf(Ge,Me[He],0)>-1;);return He}function o_(Me,Ge){for(var He=Me.length;He--&&Xf(Ge,Me[He],0)>-1;);return He}function ka(Me,Ge){for(var He=Me.length,Wt=0;He--;)Me[He]===Ge&&++Wt;return Wt}var aO=F0(tO),c3=F0(nO);function u3(Me){return"\\"+rO[Me]}function _p(Me,Ge){return Me==null?t:Me[Ge]}function Qd(Me){return Xw.test(Me)}function lO(Me){return Ug.test(Me)}function d3(Me){for(var Ge,He=[];!(Ge=Me.next()).done;)He.push(Ge.value);return He}function L0(Me){var Ge=-1,He=Array(Me.size);return Me.forEach(function(Wt,Cn){He[++Ge]=[Cn,Wt]}),He}function $0(Me,Ge){return function(He){return Me(Ge(He))}}function Mc(Me,Ge){for(var He=-1,Wt=Me.length,Cn=0,Or=[];++He<Wt;){var Xi=Me[He];(Xi===Ge||Xi===m)&&(Me[He]=m,Or[Cn++]=He)}return Or}function Xg(Me){var Ge=-1,He=Array(Me.size);return Me.forEach(function(Wt){He[++Ge]=Wt}),He}function Os(Me){var Ge=-1,He=Array(Me.size);return Me.forEach(function(Wt){He[++Ge]=[Wt,Wt]}),He}function Ca(Me,Ge,He){for(var Wt=He-1,Cn=Me.length;++Wt<Cn;)if(Me[Wt]===Ge)return Wt;return-1}function Kd(Me,Ge,He){for(var Wt=He+1;Wt--;)if(Me[Wt]===Ge)return Wt;return Wt}function Jf(Me){return Qd(Me)?tl(Me):oO(Me)}function os(Me){return Qd(Me)?f3(Me):el(Me)}function s_(Me){for(var Ge=Me.length;Ge--&&pn.test(Me.charAt(Ge)););return Ge}var a_=F0(Ud);function tl(Me){for(var Ge=Kw.lastIndex=0;Kw.test(Me);)++Ge;return Ge}function f3(Me){return Me.match(Kw)||[]}function h3(Me){return Me.match(A0)||[]}var p3=function Me(Ge){Ge=Ge==null?Yo:Dc.defaults(Yo.Object(),Ge,Dc.pick(Yo,yp));var He=Ge.Array,Wt=Ge.Date,Cn=Ge.Error,Or=Ge.Function,Xi=Ge.Math,li=Ge.Object,Zg=Ge.RegExp,cO=Ge.String,nl=Ge.TypeError,Jg=He.prototype,uO=Or.prototype,Ep=li.prototype,eh=Ge["__core-js_shared__"],ev=uO.toString,Vr=Ep.hasOwnProperty,dO=0,Iu=function(){var v=/[^.]+$/.exec(eh&&eh.keys&&eh.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),rl=Ep.toString,m3=ev.call(li),tv=Yo._,l_=Zg("^"+ev.call(Vr).replace(qt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fu=Yg?Ge.Buffer:t,il=Ge.Symbol,Sp=Ge.Uint8Array,nv=Fu?Fu.allocUnsafe:t,Oo=$0(li.getPrototypeOf,li),j0=li.create,th=Ep.propertyIsEnumerable,kp=Jg.splice,fO=il?il.isConcatSpreadable:t,Cp=il?il.iterator:t,nh=il?il.toStringTag:t,B0=function(){try{var v=Uc(li,"defineProperty");return v({},"",{}),v}catch{}}(),hO=Ge.clearTimeout!==Yo.clearTimeout&&Ge.clearTimeout,pO=Wt&&Wt.now!==Yo.Date.now&&Wt.now,g3=Ge.setTimeout!==Yo.setTimeout&&Ge.setTimeout,V0=Xi.ceil,rv=Xi.floor,iv=li.getOwnPropertySymbols,rh=Fu?Fu.isBuffer:t,z0=Ge.isFinite,bi=Jg.join,H0=$0(li.keys,li),To=Xi.max,Ts=Xi.min,v3=Wt.now,W0=Ge.parseInt,mO=Xi.random,y3=Jg.reverse,Po=Uc(Ge,"DataView"),ov=Uc(Ge,"Map"),q0=Uc(Ge,"Promise"),po=Uc(Ge,"Set"),sv=Uc(Ge,"WeakMap"),Q=Uc(li,"create"),Dn=sv&&new sv,dt={},fr=sf(Po),b3=sf(ov),gO=sf(q0),Lu=sf(po),vO=sf(sv),av=il?il.prototype:t,Op=av?av.valueOf:t,yO=av?av.toString:t;function re(v){if(wi(v)&&!Nn(v)&&!(v instanceof sn)){if(v instanceof ol)return v;if(Vr.call(v,"__wrapped__"))return eT(v)}return new ol(v)}var Tp=function(){function v(){}return function(_){if(!xi(_))return{};if(j0)return j0(_);v.prototype=_;var A=new v;return v.prototype=t,A}}();function U0(){}function ol(v,_){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=t}re.templateSettings={escape:ce,evaluate:Ee,interpolate:qe,variable:"",imports:{_:re}},re.prototype=U0.prototype,re.prototype.constructor=re,ol.prototype=Tp(U0.prototype),ol.prototype.constructor=ol;function sn(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ne,this.__views__=[]}function G0(){var v=new sn(this.__wrapped__);return v.__actions__=zs(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=zs(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=zs(this.__views__),v}function x3(){if(this.__filtered__){var v=new sn(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function bO(){var v=this.__wrapped__.value(),_=this.__dir__,A=Nn(v),V=_<0,K=A?v.length:0,se=N3(0,K,this.__views__),me=se.start,we=se.end,Ie=we-me,nt=V?we:me-1,Ke=this.__iteratees__,st=Ke.length,St=0,an=Ts(Ie,this.__takeCount__);if(!A||!V&&K==Ie&&an==Ie)return BO(v,this.__actions__);var vn=[];e:for(;Ie--&&St<an;){nt+=_;for(var Bn=-1,rn=v[nt];++Bn<st;){var ar=Ke[Bn],mr=ar.iteratee,Mo=ar.type,ds=mr(rn);if(Mo==Ce)rn=ds;else if(!ds){if(Mo==pe)continue e;break e}}vn[St++]=rn}return vn}sn.prototype=Tp(U0.prototype),sn.prototype.constructor=sn;function ql(v){var _=-1,A=v==null?0:v.length;for(this.clear();++_<A;){var V=v[_];this.set(V[0],V[1])}}function Hn(){this.__data__=Q?Q(null):{},this.size=0}function Y0(v){var _=this.has(v)&&delete this.__data__[v];return this.size-=_?1:0,_}function ss(v){var _=this.__data__;if(Q){var A=_[v];return A===u?t:A}return Vr.call(_,v)?_[v]:t}function lv(v){var _=this.__data__;return Q?_[v]!==t:Vr.call(_,v)}function cv(v,_){var A=this.__data__;return this.size+=this.has(v)?0:1,A[v]=Q&&_===t?u:_,this}ql.prototype.clear=Hn,ql.prototype.delete=Y0,ql.prototype.get=ss,ql.prototype.has=lv,ql.prototype.set=cv;function Nc(v){var _=-1,A=v==null?0:v.length;for(this.clear();++_<A;){var V=v[_];this.set(V[0],V[1])}}function ih(){this.__data__=[],this.size=0}function Q0(v){var _=this.__data__,A=sh(_,v);if(A<0)return!1;var V=_.length-1;return A==V?_.pop():kp.call(_,A,1),--this.size,!0}function w3(v){var _=this.__data__,A=sh(_,v);return A<0?t:_[A][1]}function c_(v){return sh(this.__data__,v)>-1}function xO(v,_){var A=this.__data__,V=sh(A,v);return V<0?(++this.size,A.push([v,_])):A[V][1]=_,this}Nc.prototype.clear=ih,Nc.prototype.delete=Q0,Nc.prototype.get=w3,Nc.prototype.has=c_,Nc.prototype.set=xO;function mo(v){var _=-1,A=v==null?0:v.length;for(this.clear();++_<A;){var V=v[_];this.set(V[0],V[1])}}function u_(){this.size=0,this.__data__={hash:new ql,map:new(ov||Nc),string:new ql}}function _3(v){var _=gb(this,v).delete(v);return this.size-=_?1:0,_}function Ic(v){return gb(this,v).get(v)}function jn(v){return gb(this,v).has(v)}function Mt(v,_){var A=gb(this,v),V=A.size;return A.set(v,_),this.size+=A.size==V?0:1,this}mo.prototype.clear=u_,mo.prototype.delete=_3,mo.prototype.get=Ic,mo.prototype.has=jn,mo.prototype.set=Mt;function Ul(v){var _=-1,A=v==null?0:v.length;for(this.__data__=new mo;++_<A;)this.add(v[_])}function uv(v){return this.__data__.set(v,u),this}function sl(v){return this.__data__.has(v)}Ul.prototype.add=Ul.prototype.push=uv,Ul.prototype.has=sl;function Pi(v){var _=this.__data__=new Nc(v);this.size=_.size}function E3(){this.__data__=new Nc,this.size=0}function Pp(v){var _=this.__data__,A=_.delete(v);return this.size=_.size,A}function oh(v){return this.__data__.get(v)}function Jn(v){return this.__data__.has(v)}function S3(v,_){var A=this.__data__;if(A instanceof Nc){var V=A.__data__;if(!ov||V.length<i-1)return V.push([v,_]),this.size=++A.size,this;A=this.__data__=new mo(V)}return A.set(v,_),this.size=A.size,this}Pi.prototype.clear=E3,Pi.prototype.delete=Pp,Pi.prototype.get=oh,Pi.prototype.has=Jn,Pi.prototype.set=S3;function wO(v,_){var A=Nn(v),V=!A&&Qc(v),K=!A&&!V&&Kl(v),se=!A&&!V&&!K&&yh(v),me=A||V||K||se,we=me?wp(v.length,cO):[],Ie=we.length;for(var nt in v)(_||Vr.call(v,nt))&&!(me&&(nt=="length"||K&&(nt=="offset"||nt=="parent")||se&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||Hr(nt,Ie)))&&we.push(nt);return we}function _O(v){var _=v.length;return _?v[ib(0,_-1)]:t}function k3(v,_){return jp(zs(v),Fc(_,0,v.length))}function C3(v){return jp(zs(v))}function K0(v,_,A){(A!==t&&!dl(v[_],A)||A===t&&!(_ in v))&&$u(v,_,A)}function dv(v,_,A){var V=v[_];(!(Vr.call(v,_)&&dl(V,A))||A===t&&!(_ in v))&&$u(v,_,A)}function sh(v,_){for(var A=v.length;A--;)if(dl(v[A][0],_))return A;return-1}function EO(v,_,A,V){return Oa(v,function(K,se,me){_(V,K,A(K),me)}),V}function SO(v,_){return v&&Ra(_,vo(_),v)}function O3(v,_){return v&&Ra(_,us(_),v)}function $u(v,_,A){_=="__proto__"&&B0?B0(v,_,{configurable:!0,enumerable:!0,value:A,writable:!0}):v[_]=A}function Ap(v,_){for(var A=-1,V=_.length,K=He(V),se=v==null;++A<V;)K[A]=se?t:Ub(v,_[A]);return K}function Fc(v,_,A){return v===v&&(A!==t&&(v=v<=A?v:A),_!==t&&(v=v>=_?v:_)),v}function al(v,_,A,V,K,se){var me,we=_&y,Ie=_&w,nt=_&S;if(A&&(me=K?A(v,V,K,se):A(v)),me!==t)return me;if(!xi(v))return v;var Ke=Nn(v);if(Ke){if(me=I3(v),!we)return zs(v,me)}else{var st=as(v),St=st==gt||st==jt;if(Kl(v))return lb(v,we);if(st==En||st==Qe||St&&!K){if(me=Ie||St?{}:F_(v),!we)return Ie?A_(v,O3(me,v)):P_(v,SO(me,v))}else{if(!Gr[st])return K?v:{};me=YO(v,st,we)}}se||(se=new Pi);var an=se.get(v);if(an)return an;se.set(v,me),xE(v)?v.forEach(function(rn){me.add(al(rn,_,A,rn,v,se))}):gE(v)&&v.forEach(function(rn,ar){me.set(ar,al(rn,_,A,ar,v,se))});var vn=nt?Ie?mb:pb:Ie?us:vo,Bn=Ke?t:vn(v);return Xt(Bn||v,function(rn,ar){Bn&&(ar=rn,rn=v[ar]),dv(me,ar,al(rn,_,A,ar,v,se))}),me}function kO(v){var _=vo(v);return function(A){return Lc(A,v,_)}}function Lc(v,_,A){var V=A.length;if(v==null)return!V;for(v=li(v);V--;){var K=A[V],se=_[K],me=v[K];if(me===t&&!(K in v)||!se(me))return!1}return!0}function CO(v,_,A){if(typeof v!="function")throw new nl(a);return Sv(function(){v.apply(t,A)},_)}function Rp(v,_,A,V){var K=-1,se=Qg,me=!0,we=v.length,Ie=[],nt=_.length;if(!we)return Ie;A&&(_=Ti(_,is(A))),V?(se=D0,me=!1):_.length>=i&&(se=Yd,me=!1,_=new Ul(_));e:for(;++K<we;){var Ke=v[K],st=A==null?Ke:A(Ke);if(Ke=V||Ke!==0?Ke:0,me&&st===st){for(var St=nt;St--;)if(_[St]===st)continue e;Ie.push(Ke)}else se(_,st,V)||Ie.push(Ke)}return Ie}var Oa=VO(Ta),X0=VO(Z0,!0);function Xd(v,_){var A=!0;return Oa(v,function(V,K,se){return A=!!_(V,K,se),A}),A}function fv(v,_,A){for(var V=-1,K=v.length;++V<K;){var se=v[V],me=_(se);if(me!=null&&(we===t?me===me&&!na(me):A(me,we)))var we=me,Ie=se}return Ie}function OO(v,_,A,V){var K=v.length;for(A=Wn(A),A<0&&(A=-A>K?0:K+A),V=V===t||V>K?K:Wn(V),V<0&&(V+=K),V=A>V?0:_E(V);A<V;)v[A++]=_;return v}function ju(v,_){var A=[];return Oa(v,function(V,K,se){_(V,K,se)&&A.push(V)}),A}function Zi(v,_,A,V,K){var se=-1,me=v.length;for(A||(A=Lp),K||(K=[]);++se<me;){var we=v[se];_>0&&A(we)?_>1?Zi(we,_-1,A,V,K):fn(K,we):V||(K[K.length]=we)}return K}var hv=ub(),TO=ub(!0);function Ta(v,_){return v&&hv(v,_,vo)}function Z0(v,_){return v&&TO(v,_,vo)}function Zd(v,_){return Hl(_,function(A){return Ws(v[A])})}function Pa(v,_){_=ll(_,v);for(var A=0,V=_.length;v!=null&&A<V;)v=v[Ql(_[A++])];return A&&A==V?v:t}function J0(v,_,A){var V=_(v);return Nn(v)?V:fn(V,A(v))}function go(v){return v==null?v===t?zt:kn:nh&&nh in li(v)?GO(v):j_(v)}function eb(v,_){return v>_}function PO(v,_){return v!=null&&Vr.call(v,_)}function d_(v,_){return v!=null&&_ in li(v)}function AO(v,_,A){return v>=Ts(_,A)&&v<To(_,A)}function f_(v,_,A){for(var V=A?D0:Qg,K=v[0].length,se=v.length,me=se,we=He(se),Ie=1/0,nt=[];me--;){var Ke=v[me];me&&_&&(Ke=Ti(Ke,is(_))),Ie=Ts(Ke.length,Ie),we[me]=!A&&(_||K>=120&&Ke.length>=120)?new Ul(me&&Ke):t}Ke=v[0];var st=-1,St=we[0];e:for(;++st<K&&nt.length<Ie;){var an=Ke[st],vn=_?_(an):an;if(an=A||an!==0?an:0,!(St?Yd(St,vn):V(nt,vn,A))){for(me=se;--me;){var Bn=we[me];if(!(Bn?Yd(Bn,vn):V(v[me],vn,A)))continue e}St&&St.push(vn),nt.push(an)}}return nt}function $c(v,_,A,V){return Ta(v,function(K,se,me){_(V,A(K),se,me)}),V}function ah(v,_,A){_=ll(_,v),v=Ev(v,_);var V=v==null?v:v[Ql(Hs(_))];return V==null?t:Cs(V,v,A)}function RO(v){return wi(v)&&go(v)==Qe}function Ao(v){return wi(v)&&go(v)==or}function MO(v){return wi(v)&&go(v)==zn}function Jd(v,_,A,V,K){return v===_?!0:v==null||_==null||!wi(v)&&!wi(_)?v!==v&&_!==_:DO(v,_,A,V,Jd,K)}function DO(v,_,A,V,K,se){var me=Nn(v),we=Nn(_),Ie=me?Ct:as(v),nt=we?Ct:as(_);Ie=Ie==Qe?En:Ie,nt=nt==Qe?En:nt;var Ke=Ie==En,st=nt==En,St=Ie==nt;if(St&&Kl(v)){if(!Kl(_))return!1;me=!0,Ke=!1}if(St&&!Ke)return se||(se=new Pi),me||yh(v)?wv(v,_,A,V,K,se):fb(v,_,Ie,A,V,K,se);if(!(A&T)){var an=Ke&&Vr.call(v,"__wrapped__"),vn=st&&Vr.call(_,"__wrapped__");if(an||vn){var Bn=an?v.value():v,rn=vn?_.value():_;return se||(se=new Pi),K(Bn,rn,A,V,se)}}return St?(se||(se=new Pi),hb(v,_,A,V,K,se)):!1}function tb(v){return wi(v)&&as(v)==Ht}function nb(v,_,A,V){var K=A.length,se=K,me=!V;if(v==null)return!se;for(v=li(v);K--;){var we=A[K];if(me&&we[2]?we[1]!==v[we[0]]:!(we[0]in v))return!1}for(;++K<se;){we=A[K];var Ie=we[0],nt=v[Ie],Ke=we[1];if(me&&we[2]){if(nt===t&&!(Ie in v))return!1}else{var st=new Pi;if(V)var St=V(nt,Ke,Ie,v,_,st);if(!(St===t?Jd(Ke,nt,T|O,V,st):St))return!1}}return!0}function rb(v){if(!xi(v)||KO(v))return!1;var _=Ws(v)?l_:cn;return _.test(sf(v))}function lt(v){return wi(v)&&go(v)==je}function Bu(v){return wi(v)&&as(v)==at}function h_(v){return wi(v)&&Vb(v.length)&&!!gi[go(v)]}function NO(v){return typeof v=="function"?v:v==null?qs:typeof v=="object"?Nn(v)?jc(v[0],v[1]):m_(v):OP(v)}function lh(v){if(!$p(v))return H0(v);var _=[];for(var A in li(v))Vr.call(v,A)&&A!="constructor"&&_.push(A);return _}function T3(v){if(!xi(v))return Eb(v);var _=$p(v),A=[];for(var V in v)V=="constructor"&&(_||!Vr.call(v,V))||A.push(V);return A}function pv(v,_){return v<_}function p_(v,_){var A=-1,V=cs(v)?He(v.length):[];return Oa(v,function(K,se,me){V[++A]=_(K,se,me)}),V}function m_(v){var _=vb(v);return _.length==1&&_[0][2]?$_(_[0][0],_[0][1]):function(A){return A===v||nb(A,v,_)}}function jc(v,_){return wb(v)&&L_(_)?$_(Ql(v),_):function(A){var V=Ub(A,v);return V===t&&V===_?$v(A,v):Jd(_,V,T|O)}}function Bc(v,_,A,V,K){v!==_&&hv(_,function(se,me){if(K||(K=new Pi),xi(se))g_(v,_,me,A,Bc,V,K);else{var we=V?V(fh(v,me),se,me+"",v,_,K):t;we===t&&(we=se),K0(v,me,we)}},us)}function g_(v,_,A,V,K,se,me){var we=fh(v,A),Ie=fh(_,A),nt=me.get(Ie);if(nt){K0(v,A,nt);return}var Ke=se?se(we,Ie,A+"",v,_,me):t,st=Ke===t;if(st){var St=Nn(Ie),an=!St&&Kl(Ie),vn=!St&&!an&&yh(Ie);Ke=Ie,St||an||vn?Nn(we)?Ke=we:ao(we)?Ke=zs(we):an?(st=!1,Ke=lb(Ie,!0)):vn?(st=!1,Ke=O_(Ie,!0)):Ke=[]:vh(Ie)||Qc(Ie)?(Ke=we,Qc(we)?Ke=EE(we):(!xi(we)||Ws(we))&&(Ke=F_(Ie))):st=!1}st&&(me.set(Ie,Ke),K(Ke,Ie,V,se,me),me.delete(Ie)),K0(v,A,Ke)}function v_(v,_){var A=v.length;if(A)return _+=_<0?A:0,Hr(_,A)?v[_]:t}function y_(v,_,A){_.length?_=Ti(_,function(se){return Nn(se)?function(me){return Pa(me,se.length===1?se[0]:se)}:se}):_=[qs];var V=-1;_=Ti(_,is(yn()));var K=p_(v,function(se,me,we){var Ie=Ti(_,function(nt){return nt(se)});return{criteria:Ie,index:++V,value:se}});return a3(K,function(se,me){return M3(se,me,A)})}function IO(v,_){return FO(v,_,function(A,V){return $v(v,V)})}function FO(v,_,A){for(var V=-1,K=_.length,se={};++V<K;){var me=_[V],we=Pa(v,me);A(we,me)&&mv(se,ll(me,v),we)}return se}function P3(v){return function(_){return Pa(_,v)}}function b_(v,_,A,V){var K=V?sO:Xf,se=-1,me=_.length,we=v;for(v===_&&(_=zs(_)),A&&(we=Ti(v,is(A)));++se<me;)for(var Ie=0,nt=_[se],Ke=A?A(nt):nt;(Ie=K(we,Ke,Ie,V))>-1;)we!==v&&kp.call(we,Ie,1),kp.call(v,Ie,1);return v}function ef(v,_){for(var A=v?_.length:0,V=A-1;A--;){var K=_[A];if(A==V||K!==se){var se=K;Hr(K)?kp.call(v,K,1):w_(v,K)}}return v}function ib(v,_){return v+rv(mO()*(_-v+1))}function ob(v,_,A,V){for(var K=-1,se=To(V0((_-v)/(A||1)),0),me=He(se);se--;)me[V?se:++K]=v,v+=A;return me}function Vc(v,_){var A="";if(!v||_<1||_>xe)return A;do _%2&&(A+=v),_=rv(_/2),_&&(v+=v);while(_);return A}function er(v,_){return kb(Sb(v,_,qs),v+"")}function tf(v){return _O(lf(v))}function A3(v,_){var A=lf(v);return jp(A,Fc(_,0,A.length))}function mv(v,_,A,V){if(!xi(v))return v;_=ll(_,v);for(var K=-1,se=_.length,me=se-1,we=v;we!=null&&++K<se;){var Ie=Ql(_[K]),nt=A;if(Ie==="__proto__"||Ie==="constructor"||Ie==="prototype")return v;if(K!=me){var Ke=we[Ie];nt=V?V(Ke,Ie,we):t,nt===t&&(nt=xi(Ke)?Ke:Hr(_[K+1])?[]:{})}dv(we,Ie,nt),we=we[Ie]}return v}var LO=Dn?function(v,_){return Dn.set(v,_),v}:qs,$O=B0?function(v,_){return B0(v,"toString",{configurable:!0,enumerable:!1,value:zv(_),writable:!0})}:qs;function Aa(v){return jp(lf(v))}function zr(v,_,A){var V=-1,K=v.length;_<0&&(_=-_>K?0:K+_),A=A>K?K:A,A<0&&(A+=K),K=_>A?0:A-_>>>0,_>>>=0;for(var se=He(K);++V<K;)se[V]=v[V+_];return se}function x_(v,_){var A;return Oa(v,function(V,K,se){return A=_(V,K,se),!A}),!!A}function ch(v,_,A){var V=0,K=v==null?V:v.length;if(typeof _=="number"&&_===_&&K<=le){for(;V<K;){var se=V+K>>>1,me=v[se];me!==null&&!na(me)&&(A?me<=_:me<_)?V=se+1:K=se}return K}return sb(v,_,qs,A)}function sb(v,_,A,V){var K=0,se=v==null?0:v.length;if(se===0)return 0;_=A(_);for(var me=_!==_,we=_===null,Ie=na(_),nt=_===t;K<se;){var Ke=rv((K+se)/2),st=A(v[Ke]),St=st!==t,an=st===null,vn=st===st,Bn=na(st);if(me)var rn=V||vn;else nt?rn=vn&&(V||St):we?rn=vn&&St&&(V||!an):Ie?rn=vn&&St&&!an&&(V||!Bn):an||Bn?rn=!1:rn=V?st<=_:st<_;rn?K=Ke+1:se=Ke}return Ts(se,Ue)}function Ro(v,_){for(var A=-1,V=v.length,K=0,se=[];++A<V;){var me=v[A],we=_?_(me):me;if(!A||!dl(we,Ie)){var Ie=we;se[K++]=me===0?0:me}}return se}function jO(v){return typeof v=="number"?v:na(v)?Je:+v}function Qo(v){if(typeof v=="string")return v;if(Nn(v))return Ti(v,Qo)+"";if(na(v))return yO?yO.call(v):"";var _=v+"";return _=="0"&&1/v==-We?"-0":_}function zc(v,_,A){var V=-1,K=Qg,se=v.length,me=!0,we=[],Ie=we;if(A)me=!1,K=D0;else if(se>=i){var nt=_?null:WO(v);if(nt)return Xg(nt);me=!1,K=Yd,Ie=new Ul}else Ie=_?[]:we;e:for(;++V<se;){var Ke=v[V],st=_?_(Ke):Ke;if(Ke=A||Ke!==0?Ke:0,me&&st===st){for(var St=Ie.length;St--;)if(Ie[St]===st)continue e;_&&Ie.push(st),we.push(Ke)}else K(Ie,st,A)||(Ie!==we&&Ie.push(st),we.push(Ke))}return we}function w_(v,_){return _=ll(_,v),v=Ev(v,_),v==null||delete v[Ql(Hs(_))]}function __(v,_,A,V){return mv(v,_,A(Pa(v,_)),V)}function gv(v,_,A,V){for(var K=v.length,se=V?K:-1;(V?se--:++se<K)&&_(v[se],se,v););return A?zr(v,V?0:se,V?se+1:K):zr(v,V?se+1:0,V?K:se)}function BO(v,_){var A=v;return A instanceof sn&&(A=A.value()),N0(_,function(V,K){return K.func.apply(K.thisArg,fn([V],K.args))},A)}function Mp(v,_,A){var V=v.length;if(V<2)return V?zc(v[0]):[];for(var K=-1,se=He(V);++K<V;)for(var me=v[K],we=-1;++we<V;)we!=K&&(se[K]=Rp(se[K]||me,v[we],_,A));return zc(Zi(se,1),_,A)}function E_(v,_,A){for(var V=-1,K=v.length,se=_.length,me={};++V<K;){var we=V<se?_[V]:t;A(me,v[V],we)}return me}function S_(v){return ao(v)?v:[]}function ab(v){return typeof v=="function"?v:qs}function ll(v,_){return Nn(v)?v:wb(v,_)?[v]:Cb(Nr(v))}var Gl=er;function Vu(v,_,A){var V=v.length;return A=A===t?V:A,!_&&A>=V?v:zr(v,_,A)}var k_=hO||function(v){return Yo.clearTimeout(v)};function lb(v,_){if(_)return v.slice();var A=v.length,V=nv?nv(A):new v.constructor(A);return v.copy(V),V}function cb(v){var _=new v.constructor(v.byteLength);return new Sp(_).set(new Sp(v)),_}function R3(v,_){var A=_?cb(v.buffer):v.buffer;return new v.constructor(A,v.byteOffset,v.byteLength)}function C_(v){var _=new v.constructor(v.source,Vd.exec(v));return _.lastIndex=v.lastIndex,_}function Hc(v){return Op?li(Op.call(v)):{}}function O_(v,_){var A=_?cb(v.buffer):v.buffer;return new v.constructor(A,v.byteOffset,v.length)}function Dp(v,_){if(v!==_){var A=v!==t,V=v===null,K=v===v,se=na(v),me=_!==t,we=_===null,Ie=_===_,nt=na(_);if(!we&&!nt&&!se&&v>_||se&&me&&Ie&&!we&&!nt||V&&me&&Ie||!A&&Ie||!K)return 1;if(!V&&!se&&!nt&&v<_||nt&&A&&K&&!V&&!se||we&&A&&K||!me&&K||!Ie)return-1}return 0}function M3(v,_,A){for(var V=-1,K=v.criteria,se=_.criteria,me=K.length,we=A.length;++V<me;){var Ie=Dp(K[V],se[V]);if(Ie){if(V>=we)return Ie;var nt=A[V];return Ie*(nt=="desc"?-1:1)}}return v.index-_.index}function T_(v,_,A,V){for(var K=-1,se=v.length,me=A.length,we=-1,Ie=_.length,nt=To(se-me,0),Ke=He(Ie+nt),st=!V;++we<Ie;)Ke[we]=_[we];for(;++K<me;)(st||K<se)&&(Ke[A[K]]=v[K]);for(;nt--;)Ke[we++]=v[K++];return Ke}function nf(v,_,A,V){for(var K=-1,se=v.length,me=-1,we=A.length,Ie=-1,nt=_.length,Ke=To(se-we,0),st=He(Ke+nt),St=!V;++K<Ke;)st[K]=v[K];for(var an=K;++Ie<nt;)st[an+Ie]=_[Ie];for(;++me<we;)(St||K<se)&&(st[an+A[me]]=v[K++]);return st}function zs(v,_){var A=-1,V=v.length;for(_||(_=He(V));++A<V;)_[A]=v[A];return _}function Ra(v,_,A,V){var K=!A;A||(A={});for(var se=-1,me=_.length;++se<me;){var we=_[se],Ie=V?V(A[we],v[we],we,A,v):t;Ie===t&&(Ie=v[we]),K?$u(A,we,Ie):dv(A,we,Ie)}return A}function P_(v,_){return Ra(v,yb(v),_)}function A_(v,_){return Ra(v,bb(v),_)}function vv(v,_){return function(A,V){var K=Nn(A)?s3:EO,se=_?_():{};return K(A,v,yn(V,2),se)}}function rf(v){return er(function(_,A){var V=-1,K=A.length,se=K>1?A[K-1]:t,me=K>2?A[2]:t;for(se=v.length>3&&typeof se=="function"?(K--,se):t,me&&ls(A[0],A[1],me)&&(se=K<3?t:se,K=1),_=li(_);++V<K;){var we=A[V];we&&v(_,we,V,se)}return _})}function VO(v,_){return function(A,V){if(A==null)return A;if(!cs(A))return v(A,V);for(var K=A.length,se=_?K:-1,me=li(A);(_?se--:++se<K)&&V(me[se],se,me)!==!1;);return A}}function ub(v){return function(_,A,V){for(var K=-1,se=li(_),me=V(_),we=me.length;we--;){var Ie=me[v?we:++K];if(A(se[Ie],Ie,se)===!1)break}return _}}function zO(v,_,A){var V=_&N,K=Wc(v);function se(){var me=this&&this!==Yo&&this instanceof se?K:v;return me.apply(V?A:this,arguments)}return se}function R_(v){return function(_){_=Nr(_);var A=Qd(_)?os(_):t,V=A?A[0]:_.charAt(0),K=A?Vu(A,1).join(""):_.slice(1);return V[v]()+K}}function Np(v){return function(_){return N0(HE(Yu(_).replace(qd,"")),v,"")}}function Wc(v){return function(){var _=arguments;switch(_.length){case 0:return new v;case 1:return new v(_[0]);case 2:return new v(_[0],_[1]);case 3:return new v(_[0],_[1],_[2]);case 4:return new v(_[0],_[1],_[2],_[3]);case 5:return new v(_[0],_[1],_[2],_[3],_[4]);case 6:return new v(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new v(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var A=Tp(v.prototype),V=v.apply(A,_);return xi(V)?V:A}}function D3(v,_,A){var V=Wc(v);function K(){for(var se=arguments.length,me=He(se),we=se,Ie=uh(K);we--;)me[we]=arguments[we];var nt=se<3&&me[0]!==Ie&&me[se-1]!==Ie?[]:Mc(me,Ie);if(se-=nt.length,se<A)return D_(v,_,bv,K.placeholder,t,me,nt,t,t,A-se);var Ke=this&&this!==Yo&&this instanceof K?V:v;return Cs(Ke,this,me)}return K}function yv(v){return function(_,A,V){var K=li(_);if(!cs(_)){var se=yn(A,3);_=vo(_),A=function(we){return se(K[we],we,K)}}var me=v(_,A,V);return me>-1?K[se?_[me]:me]:t}}function Ps(v){return Ma(function(_){var A=_.length,V=A,K=ol.prototype.thru;for(v&&_.reverse();V--;){var se=_[V];if(typeof se!="function")throw new nl(a);if(K&&!me&&_v(se)=="wrapper")var me=new ol([],!0)}for(V=me?V:A;++V<A;){se=_[V];var we=_v(se),Ie=we=="wrapper"?Fp(se):t;Ie&&dh(Ie[0])&&Ie[1]==(Z|I|z|ae)&&!Ie[4].length&&Ie[9]==1?me=me[_v(Ie[0])].apply(me,Ie[3]):me=se.length==1&&dh(se)?me[we]():me.thru(se)}return function(){var nt=arguments,Ke=nt[0];if(me&&nt.length==1&&Nn(Ke))return me.plant(Ke).value();for(var st=0,St=A?_[st].apply(this,nt):Ke;++st<A;)St=_[st].call(this,St);return St}})}function bv(v,_,A,V,K,se,me,we,Ie,nt){var Ke=_&Z,st=_&N,St=_&D,an=_&(I|R),vn=_&ge,Bn=St?t:Wc(v);function rn(){for(var ar=arguments.length,mr=He(ar),Mo=ar;Mo--;)mr[Mo]=arguments[Mo];if(an)var ds=uh(rn),ra=ka(mr,ds);if(V&&(mr=T_(mr,V,K,an)),se&&(mr=nf(mr,se,me,an)),ar-=ra,an&&ar<nt){var Ai=Mc(mr,ds);return D_(v,_,bv,rn.placeholder,A,mr,Ai,we,Ie,nt-ar)}var hl=st?A:this,Qu=St?hl[v]:v;return ar=mr.length,we?mr=B_(mr,we):vn&&ar>1&&mr.reverse(),Ke&&Ie<ar&&(mr.length=Ie),this&&this!==Yo&&this instanceof rn&&(Qu=Bn||Wc(Qu)),Qu.apply(hl,mr)}return rn}function xv(v,_){return function(A,V){return $c(A,v,_(V),{})}}function In(v,_){return function(A,V){var K;if(A===t&&V===t)return _;if(A!==t&&(K=A),V!==t){if(K===t)return V;typeof A=="string"||typeof V=="string"?(A=Qo(A),V=Qo(V)):(A=jO(A),V=jO(V)),K=v(A,V)}return K}}function db(v){return Ma(function(_){return _=Ti(_,is(yn())),er(function(A){var V=this;return v(_,function(K){return Cs(K,V,A)})})})}function qc(v,_){_=_===t?" ":Qo(_);var A=_.length;if(A<2)return A?Vc(_,v):_;var V=Vc(_,V0(v/Jf(_)));return Qd(_)?Vu(os(V),0,v).join(""):V.slice(0,v)}function HO(v,_,A,V){var K=_&N,se=Wc(v);function me(){for(var we=-1,Ie=arguments.length,nt=-1,Ke=V.length,st=He(Ke+Ie),St=this&&this!==Yo&&this instanceof me?se:v;++nt<Ke;)st[nt]=V[nt];for(;Ie--;)st[nt++]=arguments[++we];return Cs(St,K?A:this,st)}return me}function M_(v){return function(_,A,V){return V&&typeof V!="number"&&ls(_,A,V)&&(A=V=t),_=fl(_),A===t?(A=_,_=0):A=fl(A),V=V===t?_<A?1:-1:fl(V),ob(_,A,V,v)}}function Ip(v){return function(_,A){return typeof _=="string"&&typeof A=="string"||(_=Na(_),A=Na(A)),v(_,A)}}function D_(v,_,A,V,K,se,me,we,Ie,nt){var Ke=_&I,st=Ke?me:t,St=Ke?t:me,an=Ke?se:t,vn=Ke?t:se;_|=Ke?z:X,_&=~(Ke?X:z),_&F||(_&=~(N|D));var Bn=[v,_,K,an,st,vn,St,we,Ie,nt],rn=A.apply(t,Bn);return dh(v)&&hh(rn,Bn),rn.placeholder=V,JO(rn,v,_)}function of(v){var _=Xi[v];return function(A,V){if(A=Na(A),V=V==null?0:Ts(Wn(V),292),V&&z0(A)){var K=(Nr(A)+"e").split("e"),se=_(K[0]+"e"+(+K[1]+V));return K=(Nr(se)+"e").split("e"),+(K[0]+"e"+(+K[1]-V))}return _(A)}}var WO=po&&1/Xg(new po([,-0]))[1]==We?function(v){return new po(v)}:GE;function qO(v){return function(_){var A=as(_);return A==Ht?L0(_):A==at?Os(_):l3(_,v(_))}}function Yl(v,_,A,V,K,se,me,we){var Ie=_&D;if(!Ie&&typeof v!="function")throw new nl(a);var nt=V?V.length:0;if(nt||(_&=~(z|X),V=K=t),me=me===t?me:To(Wn(me),0),we=we===t?we:Wn(we),nt-=K?K.length:0,_&X){var Ke=V,st=K;V=K=t}var St=Ie?t:Fp(v),an=[v,_,A,V,K,Ke,st,se,me,we];if(St&&ZO(an,St),v=an[0],_=an[1],A=an[2],V=an[3],K=an[4],we=an[9]=an[9]===t?Ie?0:v.length:To(an[9]-nt,0),!we&&_&(I|R)&&(_&=~(I|R)),!_||_==N)var vn=zO(v,_,A);else _==I||_==R?vn=D3(v,_,we):(_==z||_==(N|z))&&!K.length?vn=HO(v,_,A,V):vn=bv.apply(t,an);var Bn=St?LO:hh;return JO(Bn(vn,an),v,_)}function zu(v,_,A,V){return v===t||dl(v,Ep[A])&&!Vr.call(V,A)?_:v}function N_(v,_,A,V,K,se){return xi(v)&&xi(_)&&(se.set(_,v),Bc(v,_,t,N_,se),se.delete(_)),v}function UO(v){return vh(v)?t:v}function wv(v,_,A,V,K,se){var me=A&T,we=v.length,Ie=_.length;if(we!=Ie&&!(me&&Ie>we))return!1;var nt=se.get(v),Ke=se.get(_);if(nt&&Ke)return nt==_&&Ke==v;var st=-1,St=!0,an=A&O?new Ul:t;for(se.set(v,_),se.set(_,v);++st<we;){var vn=v[st],Bn=_[st];if(V)var rn=me?V(Bn,vn,st,_,v,se):V(vn,Bn,st,v,_,se);if(rn!==t){if(rn)continue;St=!1;break}if(an){if(!Bs(_,function(ar,mr){if(!Yd(an,mr)&&(vn===ar||K(vn,ar,A,V,se)))return an.push(mr)})){St=!1;break}}else if(!(vn===Bn||K(vn,Bn,A,V,se))){St=!1;break}}return se.delete(v),se.delete(_),St}function fb(v,_,A,V,K,se,me){switch(A){case Oi:if(v.byteLength!=_.byteLength||v.byteOffset!=_.byteOffset)return!1;v=v.buffer,_=_.buffer;case or:return!(v.byteLength!=_.byteLength||!se(new Sp(v),new Sp(_)));case on:case zn:case qn:return dl(+v,+_);case mt:return v.name==_.name&&v.message==_.message;case je:case ht:return v==_+"";case Ht:var we=L0;case at:var Ie=V&T;if(we||(we=Xg),v.size!=_.size&&!Ie)return!1;var nt=me.get(v);if(nt)return nt==_;V|=O,me.set(v,_);var Ke=wv(we(v),we(_),V,K,se,me);return me.delete(v),Ke;case it:if(Op)return Op.call(v)==Op.call(_)}return!1}function hb(v,_,A,V,K,se){var me=A&T,we=pb(v),Ie=we.length,nt=pb(_),Ke=nt.length;if(Ie!=Ke&&!me)return!1;for(var st=Ie;st--;){var St=we[st];if(!(me?St in _:Vr.call(_,St)))return!1}var an=se.get(v),vn=se.get(_);if(an&&vn)return an==_&&vn==v;var Bn=!0;se.set(v,_),se.set(_,v);for(var rn=me;++st<Ie;){St=we[st];var ar=v[St],mr=_[St];if(V)var Mo=me?V(mr,ar,St,_,v,se):V(ar,mr,St,v,_,se);if(!(Mo===t?ar===mr||K(ar,mr,A,V,se):Mo)){Bn=!1;break}rn||(rn=St=="constructor")}if(Bn&&!rn){var ds=v.constructor,ra=_.constructor;ds!=ra&&"constructor"in v&&"constructor"in _&&!(typeof ds=="function"&&ds instanceof ds&&typeof ra=="function"&&ra instanceof ra)&&(Bn=!1)}return se.delete(v),se.delete(_),Bn}function Ma(v){return kb(Sb(v,t,oT),v+"")}function pb(v){return J0(v,vo,yb)}function mb(v){return J0(v,us,bb)}var Fp=Dn?function(v){return Dn.get(v)}:GE;function _v(v){for(var _=v.name+"",A=dt[_],V=Vr.call(dt,_)?A.length:0;V--;){var K=A[V],se=K.func;if(se==null||se==v)return K.name}return _}function uh(v){var _=Vr.call(re,"placeholder")?re:v;return _.placeholder}function yn(){var v=re.iteratee||Zb;return v=v===Zb?NO:v,arguments.length?v(arguments[0],arguments[1]):v}function gb(v,_){var A=v.__data__;return so(_)?A[typeof _=="string"?"string":"hash"]:A.map}function vb(v){for(var _=vo(v),A=_.length;A--;){var V=_[A],K=v[V];_[A]=[V,K,L_(K)]}return _}function Uc(v,_){var A=_p(v,_);return rb(A)?A:t}function GO(v){var _=Vr.call(v,nh),A=v[nh];try{v[nh]=t;var V=!0}catch{}var K=rl.call(v);return V&&(_?v[nh]=A:delete v[nh]),K}var yb=iv?function(v){return v==null?[]:(v=li(v),Hl(iv(v),function(_){return th.call(v,_)}))}:t1,bb=iv?function(v){for(var _=[];v;)fn(_,yb(v)),v=Oo(v);return _}:t1,as=go;(Po&&as(new Po(new ArrayBuffer(1)))!=Oi||ov&&as(new ov)!=Ht||q0&&as(q0.resolve())!=ve||po&&as(new po)!=at||sv&&as(new sv)!=tn)&&(as=function(v){var _=go(v),A=_==En?v.constructor:t,V=A?sf(A):"";if(V)switch(V){case fr:return Oi;case b3:return Ht;case gO:return ve;case Lu:return at;case vO:return tn}return _});function N3(v,_,A){for(var V=-1,K=A.length;++V<K;){var se=A[V],me=se.size;switch(se.type){case"drop":v+=me;break;case"dropRight":_-=me;break;case"take":_=Ts(_,v+me);break;case"takeRight":v=To(v,_-me);break}}return{start:v,end:_}}function I_(v){var _=v.match(ko);return _?_[1].split(ho):[]}function xb(v,_,A){_=ll(_,v);for(var V=-1,K=_.length,se=!1;++V<K;){var me=Ql(_[V]);if(!(se=v!=null&&A(v,me)))break;v=v[me]}return se||++V!=K?se:(K=v==null?0:v.length,!!K&&Vb(K)&&Hr(me,K)&&(Nn(v)||Qc(v)))}function I3(v){var _=v.length,A=new v.constructor(_);return _&&typeof v[0]=="string"&&Vr.call(v,"index")&&(A.index=v.index,A.input=v.input),A}function F_(v){return typeof v.constructor=="function"&&!$p(v)?Tp(Oo(v)):{}}function YO(v,_,A){var V=v.constructor;switch(_){case or:return cb(v);case on:case zn:return new V(+v);case Oi:return R3(v,A);case Rr:case Ss:case js:case pr:case Ln:case Pn:case $n:case Ur:case wa:return O_(v,A);case Ht:return new V;case qn:case ht:return new V(v);case je:return C_(v);case at:return new V;case it:return Hc(v)}}function QO(v,_){var A=_.length;if(!A)return v;var V=A-1;return _[V]=(A>1?"& ":"")+_[V],_=_.join(A>2?", ":" "),v.replace(Er,`{
/* [wrapped with `+_+`] */
`)}function Lp(v){return Nn(v)||Qc(v)||!!(fO&&v&&v[fO])}function Hr(v,_){var A=typeof v;return _=_??xe,!!_&&(A=="number"||A!="symbol"&&pt.test(v))&&v>-1&&v%1==0&&v<_}function ls(v,_,A){if(!xi(A))return!1;var V=typeof _;return(V=="number"?cs(A)&&Hr(_,A.length):V=="string"&&_ in A)?dl(A[_],v):!1}function wb(v,_){if(Nn(v))return!1;var A=typeof v;return A=="number"||A=="symbol"||A=="boolean"||v==null||na(v)?!0:At.test(v)||!wt.test(v)||_!=null&&v in li(_)}function so(v){var _=typeof v;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?v!=="__proto__":v===null}function dh(v){var _=_v(v),A=re[_];if(typeof A!="function"||!(_ in sn.prototype))return!1;if(v===A)return!0;var V=Fp(A);return!!V&&v===V[0]}function KO(v){return!!Iu&&Iu in v}var _b=eh?Ws:n1;function $p(v){var _=v&&v.constructor,A=typeof _=="function"&&_.prototype||Ep;return v===A}function L_(v){return v===v&&!xi(v)}function $_(v,_){return function(A){return A==null?!1:A[v]===_&&(_!==t||v in li(A))}}function XO(v){var _=qp(v,function(V){return A.size===h&&A.clear(),V}),A=_.cache;return _}function ZO(v,_){var A=v[1],V=_[1],K=A|V,se=K<(N|D|Z),me=V==Z&&A==I||V==Z&&A==ae&&v[7].length<=_[8]||V==(Z|ae)&&_[7].length<=_[8]&&A==I;if(!(se||me))return v;V&N&&(v[2]=_[2],K|=A&N?0:F);var we=_[3];if(we){var Ie=v[3];v[3]=Ie?T_(Ie,we,_[4]):we,v[4]=Ie?Mc(v[3],m):_[4]}return we=_[5],we&&(Ie=v[5],v[5]=Ie?nf(Ie,we,_[6]):we,v[6]=Ie?Mc(v[5],m):_[6]),we=_[7],we&&(v[7]=we),V&Z&&(v[8]=v[8]==null?_[8]:Ts(v[8],_[8])),v[9]==null&&(v[9]=_[9]),v[0]=_[0],v[1]=K,v}function Eb(v){var _=[];if(v!=null)for(var A in li(v))_.push(A);return _}function j_(v){return rl.call(v)}function Sb(v,_,A){return _=To(_===t?v.length-1:_,0),function(){for(var V=arguments,K=-1,se=To(V.length-_,0),me=He(se);++K<se;)me[K]=V[_+K];K=-1;for(var we=He(_+1);++K<_;)we[K]=V[K];return we[_]=A(me),Cs(v,this,we)}}function Ev(v,_){return _.length<2?v:Pa(v,zr(_,0,-1))}function B_(v,_){for(var A=v.length,V=Ts(_.length,A),K=zs(v);V--;){var se=_[V];v[V]=Hr(se,A)?K[se]:t}return v}function fh(v,_){if(!(_==="constructor"&&typeof v[_]=="function")&&_!="__proto__")return v[_]}var hh=kv(LO),Sv=g3||function(v,_){return Yo.setTimeout(v,_)},kb=kv($O);function JO(v,_,A){var V=_+"";return kb(v,QO(V,Ob(I_(V),A)))}function kv(v){var _=0,A=0;return function(){var V=v3(),K=fe-(V-A);if(A=V,K>0){if(++_>=he)return arguments[0]}else _=0;return v.apply(t,arguments)}}function jp(v,_){var A=-1,V=v.length,K=V-1;for(_=_===t?V:_;++A<_;){var se=ib(A,K),me=v[se];v[se]=v[A],v[A]=me}return v.length=_,v}var Cb=XO(function(v){var _=[];return v.charCodeAt(0)===46&&_.push(""),v.replace(An,function(A,V,K,se){_.push(K?se.replace(Bd,"$1"):V||A)}),_});function Ql(v){if(typeof v=="string"||na(v))return v;var _=v+"";return _=="0"&&1/v==-We?"-0":_}function sf(v){if(v!=null){try{return ev.call(v)}catch{}try{return v+""}catch{}}return""}function Ob(v,_){return Xt(Ze,function(A){var V="_."+A[0];_&A[1]&&!Qg(v,V)&&v.push(V)}),v.sort()}function eT(v){if(v instanceof sn)return v.clone();var _=new ol(v.__wrapped__,v.__chain__);return _.__actions__=zs(v.__actions__),_.__index__=v.__index__,_.__values__=v.__values__,_}function F3(v,_,A){(A?ls(v,_,A):_===t)?_=1:_=To(Wn(_),0);var V=v==null?0:v.length;if(!V||_<1)return[];for(var K=0,se=0,me=He(V0(V/_));K<V;)me[se++]=zr(v,K,K+=_);return me}function L3(v){for(var _=-1,A=v==null?0:v.length,V=0,K=[];++_<A;){var se=v[_];se&&(K[V++]=se)}return K}function tT(){var v=arguments.length;if(!v)return[];for(var _=He(v-1),A=arguments[0],V=v;V--;)_[V-1]=arguments[V];return fn(Nn(A)?zs(A):[A],Zi(_,1))}var nT=er(function(v,_){return ao(v)?Rp(v,Zi(_,1,ao,!0)):[]}),ji=er(function(v,_){var A=Hs(_);return ao(A)&&(A=t),ao(v)?Rp(v,Zi(_,1,ao,!0),yn(A,2)):[]}),V_=er(function(v,_){var A=Hs(_);return ao(A)&&(A=t),ao(v)?Rp(v,Zi(_,1,ao,!0),t,A):[]});function rT(v,_,A){var V=v==null?0:v.length;return V?(_=A||_===t?1:Wn(_),zr(v,_<0?0:_,V)):[]}function Bp(v,_,A){var V=v==null?0:v.length;return V?(_=A||_===t?1:Wn(_),_=V-_,zr(v,0,_<0?0:_)):[]}function $3(v,_){return v&&v.length?gv(v,yn(_,3),!0,!0):[]}function Cv(v,_){return v&&v.length?gv(v,yn(_,3),!0):[]}function cl(v,_,A,V){var K=v==null?0:v.length;return K?(A&&typeof A!="number"&&ls(v,_,A)&&(A=0,V=K),OO(v,_,A,V)):[]}function Ov(v,_,A){var V=v==null?0:v.length;if(!V)return-1;var K=A==null?0:Wn(A);return K<0&&(K=To(V+K,0)),Kg(v,yn(_,3),K)}function iT(v,_,A){var V=v==null?0:v.length;if(!V)return-1;var K=V-1;return A!==t&&(K=Wn(A),K=A<0?To(V+K,0):Ts(K,V-1)),Kg(v,yn(_,3),K,!0)}function oT(v){var _=v==null?0:v.length;return _?Zi(v,1):[]}function sT(v){var _=v==null?0:v.length;return _?Zi(v,We):[]}function j3(v,_){var A=v==null?0:v.length;return A?(_=_===t?1:Wn(_),Zi(v,_)):[]}function z_(v){for(var _=-1,A=v==null?0:v.length,V={};++_<A;){var K=v[_];V[K[0]]=K[1]}return V}function Tb(v){return v&&v.length?v[0]:t}function B3(v,_,A){var V=v==null?0:v.length;if(!V)return-1;var K=A==null?0:Wn(A);return K<0&&(K=To(V+K,0)),Xf(v,_,K)}function H_(v){var _=v==null?0:v.length;return _?zr(v,0,-1):[]}var V3=er(function(v){var _=Ti(v,S_);return _.length&&_[0]===v[0]?f_(_):[]}),aT=er(function(v){var _=Hs(v),A=Ti(v,S_);return _===Hs(A)?_=t:A.pop(),A.length&&A[0]===v[0]?f_(A,yn(_,2)):[]}),lT=er(function(v){var _=Hs(v),A=Ti(v,S_);return _=typeof _=="function"?_:t,_&&A.pop(),A.length&&A[0]===v[0]?f_(A,t,_):[]});function z3(v,_){return v==null?"":bi.call(v,_)}function Hs(v){var _=v==null?0:v.length;return _?v[_-1]:t}function cT(v,_,A){var V=v==null?0:v.length;if(!V)return-1;var K=V;return A!==t&&(K=Wn(A),K=K<0?To(V+K,0):Ts(K,V-1)),_===_?Kd(v,_,K):Kg(v,Zf,K,!0)}function H3(v,_){return v&&v.length?v_(v,Wn(_)):t}var uT=er(Pb);function Pb(v,_){return v&&v.length&&_&&_.length?b_(v,_):v}function Hu(v,_,A){return v&&v.length&&_&&_.length?b_(v,_,yn(A,2)):v}function Ab(v,_,A){return v&&v.length&&_&&_.length?b_(v,_,t,A):v}var Tv=Ma(function(v,_){var A=v==null?0:v.length,V=Ap(v,_);return ef(v,Ti(_,function(K){return Hr(K,A)?+K:K}).sort(Dp)),V});function Rb(v,_){var A=[];if(!(v&&v.length))return A;var V=-1,K=[],se=v.length;for(_=yn(_,3);++V<se;){var me=v[V];_(me,V,v)&&(A.push(me),K.push(V))}return ef(v,K),A}function W_(v){return v==null?v:y3.call(v)}function dT(v,_,A){var V=v==null?0:v.length;return V?(A&&typeof A!="number"&&ls(v,_,A)?(_=0,A=V):(_=_==null?0:Wn(_),A=A===t?V:Wn(A)),zr(v,_,A)):[]}function W3(v,_){return ch(v,_)}function Vp(v,_,A){return sb(v,_,yn(A,2))}function fT(v,_){var A=v==null?0:v.length;if(A){var V=ch(v,_);if(V<A&&dl(v[V],_))return V}return-1}function ph(v,_){return ch(v,_,!0)}function hT(v,_,A){return sb(v,_,yn(A,2),!0)}function Wu(v,_){var A=v==null?0:v.length;if(A){var V=ch(v,_,!0)-1;if(dl(v[V],_))return V}return-1}function zp(v){return v&&v.length?Ro(v):[]}function q3(v,_){return v&&v.length?Ro(v,yn(_,2)):[]}function U3(v){var _=v==null?0:v.length;return _?zr(v,1,_):[]}function q_(v,_,A){return v&&v.length?(_=A||_===t?1:Wn(_),zr(v,0,_<0?0:_)):[]}function Gc(v,_,A){var V=v==null?0:v.length;return V?(_=A||_===t?1:Wn(_),_=V-_,zr(v,_<0?0:_,V)):[]}function Mb(v,_){return v&&v.length?gv(v,yn(_,3),!1,!0):[]}function G3(v,_){return v&&v.length?gv(v,yn(_,3)):[]}var pT=er(function(v){return zc(Zi(v,1,ao,!0))}),U_=er(function(v){var _=Hs(v);return ao(_)&&(_=t),zc(Zi(v,1,ao,!0),yn(_,2))}),mT=er(function(v){var _=Hs(v);return _=typeof _=="function"?_:t,zc(Zi(v,1,ao,!0),t,_)});function gT(v){return v&&v.length?zc(v):[]}function G_(v,_){return v&&v.length?zc(v,yn(_,2)):[]}function vT(v,_){return _=typeof _=="function"?_:t,v&&v.length?zc(v,t,_):[]}function Hp(v){if(!(v&&v.length))return[];var _=0;return v=Hl(v,function(A){if(ao(A))return _=To(A.length,_),!0}),wp(_,function(A){return Ti(v,I0(A))})}function Y_(v,_){if(!(v&&v.length))return[];var A=Hp(v);return _==null?A:Ti(A,function(V){return Cs(_,t,V)})}var yT=er(function(v,_){return ao(v)?Rp(v,_):[]}),Q_=er(function(v){return Mp(Hl(v,ao))}),K_=er(function(v){var _=Hs(v);return ao(_)&&(_=t),Mp(Hl(v,ao),yn(_,2))}),Y3=er(function(v){var _=Hs(v);return _=typeof _=="function"?_:t,Mp(Hl(v,ao),t,_)}),bT=er(Hp);function xT(v,_){return E_(v||[],_||[],dv)}function Q3(v,_){return E_(v||[],_||[],mv)}var wT=er(function(v){var _=v.length,A=_>1?v[_-1]:t;return A=typeof A=="function"?(v.pop(),A):t,Y_(v,A)});function X_(v){var _=re(v);return _.__chain__=!0,_}function mh(v,_){return _(v),v}function Yc(v,_){return _(v)}var Pv=Ma(function(v){var _=v.length,A=_?v[0]:0,V=this.__wrapped__,K=function(se){return Ap(se,v)};return _>1||this.__actions__.length||!(V instanceof sn)||!Hr(A)?this.thru(K):(V=V.slice(A,+A+(_?1:0)),V.__actions__.push({func:Yc,args:[K],thisArg:t}),new ol(V,this.__chain__).thru(function(se){return _&&!se.length&&se.push(t),se}))});function Z_(){return X_(this)}function Db(){return new ol(this.value(),this.__chain__)}function _T(){this.__values__===t&&(this.__values__=wE(this.value()));var v=this.__index__>=this.__values__.length,_=v?t:this.__values__[this.__index__++];return{done:v,value:_}}function Av(){return this}function Nb(v){for(var _,A=this;A instanceof U0;){var V=eT(A);V.__index__=0,V.__values__=t,_?K.__wrapped__=V:_=V;var K=V;A=A.__wrapped__}return K.__wrapped__=v,_}function ET(){var v=this.__wrapped__;if(v instanceof sn){var _=v;return this.__actions__.length&&(_=new sn(this)),_=_.reverse(),_.__actions__.push({func:Yc,args:[W_],thisArg:t}),new ol(_,this.__chain__)}return this.thru(W_)}function ST(){return BO(this.__wrapped__,this.__actions__)}var kT=vv(function(v,_,A){Vr.call(v,A)?++v[A]:$u(v,A,1)});function CT(v,_,A){var V=Nn(v)?M0:Xd;return A&&ls(v,_,A)&&(_=t),V(v,yn(_,3))}function OT(v,_){var A=Nn(v)?Hl:ju;return A(v,yn(_,3))}var TT=yv(Ov),PT=yv(iT);function J_(v,_){return Zi(qu(v,_),1)}function AT(v,_){return Zi(qu(v,_),We)}function RT(v,_,A){return A=A===t?1:Wn(A),Zi(qu(v,_),A)}function eE(v,_){var A=Nn(v)?Xt:Oa;return A(v,yn(_,3))}function MT(v,_){var A=Nn(v)?rs:X0;return A(v,yn(_,3))}var DT=vv(function(v,_,A){Vr.call(v,A)?v[A].push(_):$u(v,A,[_])});function NT(v,_,A,V){v=cs(v)?v:lf(v),A=A&&!V?Wn(A):0;var K=v.length;return A<0&&(A=To(K+A,0)),Qp(v)?A<=K&&v.indexOf(_,A)>-1:!!K&&Xf(v,_,A)>-1}var IT=er(function(v,_,A){var V=-1,K=typeof _=="function",se=cs(v)?He(v.length):[];return Oa(v,function(me){se[++V]=K?Cs(_,me,A):ah(me,_,A)}),se}),ul=vv(function(v,_,A){$u(v,A,_)});function qu(v,_){var A=Nn(v)?Ti:p_;return A(v,yn(_,3))}function Ji(v,_,A,V){return v==null?[]:(Nn(_)||(_=_==null?[]:[_]),A=V?t:A,Nn(A)||(A=A==null?[]:[A]),y_(v,_,A))}var FT=vv(function(v,_,A){v[A?0:1].push(_)},function(){return[[],[]]});function K3(v,_,A){var V=Nn(v)?N0:i_,K=arguments.length<3;return V(v,yn(_,4),A,K,Oa)}function LT(v,_,A){var V=Nn(v)?bp:i_,K=arguments.length<3;return V(v,yn(_,4),A,K,X0)}function $T(v,_){var A=Nn(v)?Hl:ju;return A(v,Mv(yn(_,3)))}function X3(v){var _=Nn(v)?_O:tf;return _(v)}function jT(v,_,A){(A?ls(v,_,A):_===t)?_=1:_=Wn(_);var V=Nn(v)?k3:A3;return V(v,_)}function tE(v){var _=Nn(v)?C3:Aa;return _(v)}function BT(v){if(v==null)return 0;if(cs(v))return Qp(v)?Jf(v):v.length;var _=as(v);return _==Ht||_==at?v.size:lh(v).length}function VT(v,_,A){var V=Nn(v)?Bs:x_;return A&&ls(v,_,A)&&(_=t),V(v,yn(_,3))}var zT=er(function(v,_){if(v==null)return[];var A=_.length;return A>1&&ls(v,_[0],_[1])?_=[]:A>2&&ls(_[0],_[1],_[2])&&(_=[_[0]]),y_(v,Zi(_,1),[])}),Wp=pO||function(){return Yo.Date.now()};function Uu(v,_){if(typeof _!="function")throw new nl(a);return v=Wn(v),function(){if(--v<1)return _.apply(this,arguments)}}function HT(v,_,A){return _=A?t:_,_=v&&_==null?v.length:_,Yl(v,Z,t,t,t,t,_)}function WT(v,_){var A;if(typeof _!="function")throw new nl(a);return v=Wn(v),function(){return--v>0&&(A=_.apply(this,arguments)),v<=1&&(_=t),A}}var nE=er(function(v,_,A){var V=N;if(A.length){var K=Mc(A,uh(nE));V|=z}return Yl(v,V,_,A,K)}),Gu=er(function(v,_,A){var V=N|D;if(A.length){var K=Mc(A,uh(Gu));V|=z}return Yl(_,V,v,A,K)});function gh(v,_,A){_=A?t:_;var V=Yl(v,I,t,t,t,t,t,_);return V.placeholder=gh.placeholder,V}function Rv(v,_,A){_=A?t:_;var V=Yl(v,R,t,t,t,t,t,_);return V.placeholder=Rv.placeholder,V}function rE(v,_,A){var V,K,se,me,we,Ie,nt=0,Ke=!1,st=!1,St=!0;if(typeof v!="function")throw new nl(a);_=Na(_)||0,xi(A)&&(Ke=!!A.leading,st="maxWait"in A,se=st?To(Na(A.maxWait)||0,_):se,St="trailing"in A?!!A.trailing:St);function an(Ai){var hl=V,Qu=K;return V=K=t,nt=Ai,me=v.apply(Qu,hl),me}function vn(Ai){return nt=Ai,we=Sv(ar,_),Ke?an(Ai):me}function Bn(Ai){var hl=Ai-Ie,Qu=Ai-nt,Uv=_-hl;return st?Ts(Uv,se-Qu):Uv}function rn(Ai){var hl=Ai-Ie,Qu=Ai-nt;return Ie===t||hl>=_||hl<0||st&&Qu>=se}function ar(){var Ai=Wp();if(rn(Ai))return mr(Ai);we=Sv(ar,Bn(Ai))}function mr(Ai){return we=t,St&&V?an(Ai):(V=K=t,me)}function Mo(){we!==t&&k_(we),nt=0,V=Ie=K=we=t}function ds(){return we===t?me:mr(Wp())}function ra(){var Ai=Wp(),hl=rn(Ai);if(V=arguments,K=this,Ie=Ai,hl){if(we===t)return vn(Ie);if(st)return k_(we),we=Sv(ar,_),an(Ie)}return we===t&&(we=Sv(ar,_)),me}return ra.cancel=Mo,ra.flush=ds,ra}var Z3=er(function(v,_){return CO(v,1,_)}),iE=er(function(v,_,A){return CO(v,Na(_)||0,A)});function Ib(v){return Yl(v,ge)}function qp(v,_){if(typeof v!="function"||_!=null&&typeof _!="function")throw new nl(a);var A=function(){var V=arguments,K=_?_.apply(this,V):V[0],se=A.cache;if(se.has(K))return se.get(K);var me=v.apply(this,V);return A.cache=se.set(K,me)||se,me};return A.cache=new(qp.Cache||mo),A}qp.Cache=mo;function Mv(v){if(typeof v!="function")throw new nl(a);return function(){var _=arguments;switch(_.length){case 0:return!v.call(this);case 1:return!v.call(this,_[0]);case 2:return!v.call(this,_[0],_[1]);case 3:return!v.call(this,_[0],_[1],_[2])}return!v.apply(this,_)}}function oE(v){return WT(2,v)}var sE=Gl(function(v,_){_=_.length==1&&Nn(_[0])?Ti(_[0],is(yn())):Ti(Zi(_,1),is(yn()));var A=_.length;return er(function(V){for(var K=-1,se=Ts(V.length,A);++K<se;)V[K]=_[K].call(this,V[K]);return Cs(v,this,V)})}),Up=er(function(v,_){var A=Mc(_,uh(Up));return Yl(v,z,t,_,A)}),aE=er(function(v,_){var A=Mc(_,uh(aE));return Yl(v,X,t,_,A)}),lE=Ma(function(v,_){return Yl(v,ae,t,t,t,_)});function cE(v,_){if(typeof v!="function")throw new nl(a);return _=_===t?_:Wn(_),er(v,_)}function Dv(v,_){if(typeof v!="function")throw new nl(a);return _=_==null?0:To(Wn(_),0),er(function(A){var V=A[_],K=Vu(A,0,_);return V&&fn(K,V),Cs(v,this,K)})}function Gp(v,_,A){var V=!0,K=!0;if(typeof v!="function")throw new nl(a);return xi(A)&&(V="leading"in A?!!A.leading:V,K="trailing"in A?!!A.trailing:K),rE(v,_,{leading:V,maxWait:_,trailing:K})}function Fb(v){return HT(v,1)}function uE(v,_){return Up(ab(_),v)}function dE(){if(!arguments.length)return[];var v=arguments[0];return Nn(v)?v:[v]}function fE(v){return al(v,S)}function hE(v,_){return _=typeof _=="function"?_:t,al(v,S,_)}function qT(v){return al(v,y|S)}function Lb(v,_){return _=typeof _=="function"?_:t,al(v,y|S,_)}function pE(v,_){return _==null||Lc(v,_,vo(_))}function dl(v,_){return v===_||v!==v&&_!==_}var mE=Ip(eb),UT=Ip(function(v,_){return v>=_}),Qc=RO(function(){return arguments}())?RO:function(v){return wi(v)&&Vr.call(v,"callee")&&!th.call(v,"callee")},Nn=He.isArray,$b=e_?is(e_):Ao;function cs(v){return v!=null&&Vb(v.length)&&!Ws(v)}function ao(v){return wi(v)&&cs(v)}function GT(v){return v===!0||v===!1||wi(v)&&go(v)==on}var Kl=rh||n1,Nv=Dr?is(Dr):MO;function J3(v){return wi(v)&&v.nodeType===1&&!vh(v)}function YT(v){if(v==null)return!0;if(cs(v)&&(Nn(v)||typeof v=="string"||typeof v.splice=="function"||Kl(v)||yh(v)||Qc(v)))return!v.length;var _=as(v);if(_==Ht||_==at)return!v.size;if($p(v))return!lh(v).length;for(var A in v)if(Vr.call(v,A))return!1;return!0}function jb(v,_){return Jd(v,_)}function e5(v,_,A){A=typeof A=="function"?A:t;var V=A?A(v,_):t;return V===t?Jd(v,_,t,A):!!V}function af(v){if(!wi(v))return!1;var _=go(v);return _==mt||_==ze||typeof v.message=="string"&&typeof v.name=="string"&&!vh(v)}function Bb(v){return typeof v=="number"&&z0(v)}function Ws(v){if(!xi(v))return!1;var _=go(v);return _==gt||_==jt||_==Et||_==Re}function Da(v){return typeof v=="number"&&v==Wn(v)}function Vb(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=xe}function xi(v){var _=typeof v;return v!=null&&(_=="object"||_=="function")}function wi(v){return v!=null&&typeof v=="object"}var gE=Zn?is(Zn):tb;function vE(v,_){return v===_||nb(v,_,vb(_))}function QT(v,_,A){return A=typeof A=="function"?A:t,nb(v,_,vb(_),A)}function KT(v){return bE(v)&&v!=+v}function yE(v){if(_b(v))throw new Cn(o);return rb(v)}function Yp(v){return v===null}function zb(v){return v==null}function bE(v){return typeof v=="number"||wi(v)&&go(v)==qn}function vh(v){if(!wi(v)||go(v)!=En)return!1;var _=Oo(v);if(_===null)return!0;var A=Vr.call(_,"constructor")&&_.constructor;return typeof A=="function"&&A instanceof A&&ev.call(A)==m3}var Iv=t_?is(t_):lt;function XT(v){return Da(v)&&v>=-xe&&v<=xe}var xE=Du?is(Du):Bu;function Qp(v){return typeof v=="string"||!Nn(v)&&wi(v)&&go(v)==ht}function na(v){return typeof v=="symbol"||wi(v)&&go(v)==it}var yh=nn?is(nn):h_;function t5(v){return v===t}function ZT(v){return wi(v)&&as(v)==tn}function JT(v){return wi(v)&&go(v)==_t}var Fv=Ip(pv),n5=Ip(function(v,_){return v<=_});function wE(v){if(!v)return[];if(cs(v))return Qp(v)?os(v):zs(v);if(Cp&&v[Cp])return d3(v[Cp]());var _=as(v),A=_==Ht?L0:_==at?Xg:lf;return A(v)}function fl(v){if(!v)return v===0?v:0;if(v=Na(v),v===We||v===-We){var _=v<0?-1:1;return _*$e}return v===v?v:0}function Wn(v){var _=fl(v),A=_%1;return _===_?A?_-A:_:0}function _E(v){return v?Fc(Wn(v),0,Ne):0}function Na(v){if(typeof v=="number")return v;if(na(v))return Je;if(xi(v)){var _=typeof v.valueOf=="function"?v.valueOf():v;v=xi(_)?_+"":_}if(typeof v!="string")return v===0?v:+v;v=Vs(v);var A=Ru.test(v);return A||Te.test(v)?i3(v.slice(2),A?2:8):gp.test(v)?Je:+v}function EE(v){return Ra(v,us(v))}function Lv(v){return v?Fc(Wn(v),-xe,xe):v===0?v:0}function Nr(v){return v==null?"":Qo(v)}var eP=rf(function(v,_){if($p(_)||cs(_)){Ra(_,vo(_),v);return}for(var A in _)Vr.call(_,A)&&dv(v,A,_[A])}),SE=rf(function(v,_){Ra(_,us(_),v)}),Kp=rf(function(v,_,A,V){Ra(_,us(_),v,V)}),r5=rf(function(v,_,A,V){Ra(_,vo(_),v,V)}),kE=Ma(Ap);function Hb(v,_){var A=Tp(v);return _==null?A:SO(A,_)}var Wb=er(function(v,_){v=li(v);var A=-1,V=_.length,K=V>2?_[2]:t;for(K&&ls(_[0],_[1],K)&&(V=1);++A<V;)for(var se=_[A],me=us(se),we=-1,Ie=me.length;++we<Ie;){var nt=me[we],Ke=v[nt];(Ke===t||dl(Ke,Ep[nt])&&!Vr.call(v,nt))&&(v[nt]=se[nt])}return v}),CE=er(function(v){return v.push(t,N_),Cs(ME,t,v)});function OE(v,_){return r_(v,yn(_,3),Ta)}function tP(v,_){return r_(v,yn(_,3),Z0)}function qb(v,_){return v==null?v:hv(v,yn(_,3),us)}function nP(v,_){return v==null?v:TO(v,yn(_,3),us)}function i5(v,_){return v&&Ta(v,yn(_,3))}function TE(v,_){return v&&Z0(v,yn(_,3))}function o5(v){return v==null?[]:Zd(v,vo(v))}function rP(v){return v==null?[]:Zd(v,us(v))}function Ub(v,_,A){var V=v==null?t:Pa(v,_);return V===t?A:V}function PE(v,_){return v!=null&&xb(v,_,PO)}function $v(v,_){return v!=null&&xb(v,_,d_)}var AE=xv(function(v,_,A){_!=null&&typeof _.toString!="function"&&(_=rl.call(_)),v[_]=A},zv(qs)),Xp=xv(function(v,_,A){_!=null&&typeof _.toString!="function"&&(_=rl.call(_)),Vr.call(v,_)?v[_].push(A):v[_]=[A]},yn),RE=er(ah);function vo(v){return cs(v)?wO(v):lh(v)}function us(v){return cs(v)?wO(v,!0):T3(v)}function s5(v,_){var A={};return _=yn(_,3),Ta(v,function(V,K,se){$u(A,_(V,K,se),V)}),A}function bh(v,_){var A={};return _=yn(_,3),Ta(v,function(V,K,se){$u(A,K,_(V,K,se))}),A}var jv=rf(function(v,_,A){Bc(v,_,A)}),ME=rf(function(v,_,A,V){Bc(v,_,A,V)}),iP=Ma(function(v,_){var A={};if(v==null)return A;var V=!1;_=Ti(_,function(se){return se=ll(se,v),V||(V=se.length>1),se}),Ra(v,mb(v),A),V&&(A=al(A,y|w|S,UO));for(var K=_.length;K--;)w_(A,_[K]);return A});function oP(v,_){return sP(v,Mv(yn(_)))}var Gb=Ma(function(v,_){return v==null?{}:IO(v,_)});function sP(v,_){if(v==null)return{};var A=Ti(mb(v),function(V){return[V]});return _=yn(_),FO(v,A,function(V,K){return _(V,K[0])})}function a5(v,_,A){_=ll(_,v);var V=-1,K=_.length;for(K||(K=1,v=t);++V<K;){var se=v==null?t:v[Ql(_[V])];se===t&&(V=K,se=A),v=Ws(se)?se.call(v):se}return v}function aP(v,_,A){return v==null?v:mv(v,_,A)}function Yb(v,_,A,V){return V=typeof V=="function"?V:t,v==null?v:mv(v,_,A,V)}var Bv=qO(vo),lP=qO(us);function l5(v,_,A){var V=Nn(v),K=V||Kl(v)||yh(v);if(_=yn(_,4),A==null){var se=v&&v.constructor;K?A=V?new se:[]:xi(v)?A=Ws(se)?Tp(Oo(v)):{}:A={}}return(K?Xt:Ta)(v,function(me,we,Ie){return _(A,me,we,Ie)}),A}function c5(v,_){return v==null?!0:w_(v,_)}function u5(v,_,A){return v==null?v:__(v,_,ab(A))}function cP(v,_,A,V){return V=typeof V=="function"?V:t,v==null?v:__(v,_,ab(A),V)}function lf(v){return v==null?[]:Nu(v,vo(v))}function d5(v){return v==null?[]:Nu(v,us(v))}function uP(v,_,A){return A===t&&(A=_,_=t),A!==t&&(A=Na(A),A=A===A?A:0),_!==t&&(_=Na(_),_=_===_?_:0),Fc(Na(v),_,A)}function f5(v,_,A){return _=fl(_),A===t?(A=_,_=0):A=fl(A),v=Na(v),AO(v,_,A)}function dP(v,_,A){if(A&&typeof A!="boolean"&&ls(v,_,A)&&(_=A=t),A===t&&(typeof _=="boolean"?(A=_,_=t):typeof v=="boolean"&&(A=v,v=t)),v===t&&_===t?(v=0,_=1):(v=fl(v),_===t?(_=v,v=0):_=fl(_)),v>_){var V=v;v=_,_=V}if(A||v%1||_%1){var K=mO();return Ts(v+K*(_-v+iO("1e-"+((K+"").length-1))),_)}return ib(v,_)}var h5=Np(function(v,_,A){return _=_.toLowerCase(),v+(A?fP(_):_)});function fP(v){return Xb(Nr(v).toLowerCase())}function Yu(v){return v=Nr(v),v&&v.replace(Ut,aO).replace(r3,"")}function DE(v,_,A){v=Nr(v),_=Qo(_);var V=v.length;A=A===t?V:Fc(Wn(A),0,V);var K=A;return A-=_.length,A>=0&&v.slice(A,K)==_}function NE(v){return v=Nr(v),v&&ne.test(v)?v.replace(ut,c3):v}function IE(v){return v=Nr(v),v&&ot.test(v)?v.replace(qt,"\\$&"):v}var FE=Np(function(v,_,A){return v+(A?"-":"")+_.toLowerCase()}),LE=Np(function(v,_,A){return v+(A?" ":"")+_.toLowerCase()}),$E=R_("toLowerCase");function p5(v,_,A){v=Nr(v),_=Wn(_);var V=_?Jf(v):0;if(!_||V>=_)return v;var K=(_-V)/2;return qc(rv(K),A)+v+qc(V0(K),A)}function m5(v,_,A){v=Nr(v),_=Wn(_);var V=_?Jf(v):0;return _&&V<_?v+qc(_-V,A):v}function hP(v,_,A){v=Nr(v),_=Wn(_);var V=_?Jf(v):0;return _&&V<_?qc(_-V,A)+v:v}function Ko(v,_,A){return A||_==null?_=0:_&&(_=+_),W0(Nr(v).replace(Ot,""),_||0)}function jE(v,_,A){return(A?ls(v,_,A):_===t)?_=1:_=Wn(_),Vc(Nr(v),_)}function pP(){var v=arguments,_=Nr(v[0]);return v.length<3?_:_.replace(v[1],v[2])}var BE=Np(function(v,_,A){return v+(A?"_":"")+_.toLowerCase()});function VE(v,_,A){return A&&typeof A!="number"&&ls(v,_,A)&&(_=A=t),A=A===t?Ne:A>>>0,A?(v=Nr(v),v&&(typeof _=="string"||_!=null&&!Iv(_))&&(_=Qo(_),!_&&Qd(v))?Vu(os(v),0,A):v.split(_,A)):[]}var mP=Np(function(v,_,A){return v+(A?" ":"")+Xb(_)});function Qb(v,_,A){return v=Nr(v),A=A==null?0:Fc(Wn(A),0,v.length),_=Qo(_),v.slice(A,A+_.length)==_}function gP(v,_,A){var V=re.templateSettings;A&&ls(v,_,A)&&(_=t),v=Nr(v),_=Kp({},_,V,zu);var K=Kp({},_.imports,V.imports,zu),se=vo(K),me=Nu(K,se),we,Ie,nt=0,Ke=_.interpolate||Mr,st="__p += '",St=Zg((_.escape||Mr).source+"|"+Ke.source+"|"+(Ke===qe?Au:Mr).source+"|"+(_.evaluate||Mr).source+"|$","g"),an="//# sourceURL="+(Vr.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zw+"]")+`
`;v.replace(St,function(rn,ar,mr,Mo,ds,ra){return mr||(mr=Mo),st+=v.slice(nt,ra).replace(Uo,u3),ar&&(we=!0,st+=`' +
__e(`+ar+`) +
'`),ds&&(Ie=!0,st+=`';
`+ds+`;
__p += '`),mr&&(st+=`' +
((__t = (`+mr+`)) == null ? '' : __t) +
'`),nt=ra+rn.length,rn}),st+=`';
`;var vn=Vr.call(_,"variable")&&_.variable;if(!vn)st=`with (obj) {
`+st+`
}
`;else if(qo.test(vn))throw new Cn(c);st=(Ie?st.replace(ct,""):st).replace(Xn,"$1").replace(sr,"$1;"),st="function("+(vn||"obj")+`) {
`+(vn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(we?", __e = _.escape":"")+(Ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+st+`return __p
}`;var Bn=WE(function(){return Or(se,an+"return "+st).apply(t,me)});if(Bn.source=st,af(Bn))throw Bn;return Bn}function vP(v){return Nr(v).toLowerCase()}function Kc(v){return Nr(v).toUpperCase()}function yP(v,_,A){if(v=Nr(v),v&&(A||_===t))return Vs(v);if(!v||!(_=Qo(_)))return v;var V=os(v),K=os(_),se=Co(V,K),me=o_(V,K)+1;return Vu(V,se,me).join("")}function zE(v,_,A){if(v=Nr(v),v&&(A||_===t))return v.slice(0,s_(v)+1);if(!v||!(_=Qo(_)))return v;var V=os(v),K=o_(V,os(_))+1;return Vu(V,0,K).join("")}function Kb(v,_,A){if(v=Nr(v),v&&(A||_===t))return v.replace(Ot,"");if(!v||!(_=Qo(_)))return v;var V=os(v),K=Co(V,os(_));return Vu(V,K).join("")}function Zp(v,_){var A=_e,V=be;if(xi(_)){var K="separator"in _?_.separator:K;A="length"in _?Wn(_.length):A,V="omission"in _?Qo(_.omission):V}v=Nr(v);var se=v.length;if(Qd(v)){var me=os(v);se=me.length}if(A>=se)return v;var we=A-Jf(V);if(we<1)return V;var Ie=me?Vu(me,0,we).join(""):v.slice(0,we);if(K===t)return Ie+V;if(me&&(we+=Ie.length-we),Iv(K)){if(v.slice(we).search(K)){var nt,Ke=Ie;for(K.global||(K=Zg(K.source,Nr(Vd.exec(K))+"g")),K.lastIndex=0;nt=K.exec(Ke);)var st=nt.index;Ie=Ie.slice(0,st===t?we:st)}}else if(v.indexOf(Qo(K),we)!=we){var St=Ie.lastIndexOf(K);St>-1&&(Ie=Ie.slice(0,St))}return Ie+V}function g5(v){return v=Nr(v),v&&Oc.test(v)?v.replace(mi,a_):v}var v5=Np(function(v,_,A){return v+(A?" ":"")+_.toUpperCase()}),Xb=R_("toUpperCase");function HE(v,_,A){return v=Nr(v),_=A?t:_,_===t?lO(v)?h3(v):n_(v):v.match(_)||[]}var WE=er(function(v,_){try{return Cs(v,t,_)}catch(A){return af(A)?A:new Cn(A)}}),Vv=Ma(function(v,_){return Xt(_,function(A){A=Ql(A),$u(v,A,nE(v[A],v))}),v});function bP(v){var _=v==null?0:v.length,A=yn();return v=_?Ti(v,function(V){if(typeof V[1]!="function")throw new nl(a);return[A(V[0]),V[1]]}):[],er(function(V){for(var K=-1;++K<_;){var se=v[K];if(Cs(se[0],this,V))return Cs(se[1],this,V)}})}function xP(v){return kO(al(v,y))}function zv(v){return function(){return v}}function wP(v,_){return v==null||v!==v?_:v}var _P=Ps(),EP=Ps(!0);function qs(v){return v}function Zb(v){return NO(typeof v=="function"?v:al(v,y))}function qE(v){return m_(al(v,y))}function Jb(v,_){return jc(v,al(_,y))}var SP=er(function(v,_){return function(A){return ah(A,v,_)}}),kP=er(function(v,_){return function(A){return ah(v,A,_)}});function UE(v,_,A){var V=vo(_),K=Zd(_,V);A==null&&!(xi(_)&&(K.length||!V.length))&&(A=_,_=v,v=this,K=Zd(_,vo(_)));var se=!(xi(A)&&"chain"in A)||!!A.chain,me=Ws(v);return Xt(K,function(we){var Ie=_[we];v[we]=Ie,me&&(v.prototype[we]=function(){var nt=this.__chain__;if(se||nt){var Ke=v(this.__wrapped__),st=Ke.__actions__=zs(this.__actions__);return st.push({func:Ie,args:arguments,thisArg:v}),Ke.__chain__=nt,Ke}return Ie.apply(v,fn([this.value()],arguments))})}),v}function CP(){return Yo._===this&&(Yo._=tv),this}function GE(){}function e1(v){return v=Wn(v),er(function(_){return v_(_,v)})}var YE=db(Ti),y5=db(M0),Hv=db(Bs);function OP(v){return wb(v)?I0(Ql(v)):P3(v)}function b5(v){return function(_){return v==null?t:Pa(v,_)}}var TP=M_(),PP=M_(!0);function t1(){return[]}function n1(){return!1}function AP(){return{}}function RP(){return""}function MP(){return!0}function DP(v,_){if(v=Wn(v),v<1||v>xe)return[];var A=Ne,V=Ts(v,Ne);_=yn(_),v-=Ne;for(var K=wp(V,_);++A<v;)_(A);return K}function r1(v){return Nn(v)?Ti(v,Ql):na(v)?[v]:zs(Cb(Nr(v)))}function QE(v){var _=++dO;return Nr(v)+_}var Wv=In(function(v,_){return v+_},0),Xl=of("ceil"),NP=In(function(v,_){return v/_},1),IP=of("floor");function x5(v){return v&&v.length?fv(v,qs,eb):t}function KE(v,_){return v&&v.length?fv(v,yn(_,2),eb):t}function FP(v){return xp(v,qs)}function w5(v,_){return xp(v,yn(_,2))}function qv(v){return v&&v.length?fv(v,qs,pv):t}function XE(v,_){return v&&v.length?fv(v,yn(_,2),pv):t}var LP=In(function(v,_){return v*_},1),$P=of("round"),ZE=In(function(v,_){return v-_},0);function jP(v){return v&&v.length?Wl(v,qs):0}function _5(v,_){return v&&v.length?Wl(v,yn(_,2)):0}return re.after=Uu,re.ary=HT,re.assign=eP,re.assignIn=SE,re.assignInWith=Kp,re.assignWith=r5,re.at=kE,re.before=WT,re.bind=nE,re.bindAll=Vv,re.bindKey=Gu,re.castArray=dE,re.chain=X_,re.chunk=F3,re.compact=L3,re.concat=tT,re.cond=bP,re.conforms=xP,re.constant=zv,re.countBy=kT,re.create=Hb,re.curry=gh,re.curryRight=Rv,re.debounce=rE,re.defaults=Wb,re.defaultsDeep=CE,re.defer=Z3,re.delay=iE,re.difference=nT,re.differenceBy=ji,re.differenceWith=V_,re.drop=rT,re.dropRight=Bp,re.dropRightWhile=$3,re.dropWhile=Cv,re.fill=cl,re.filter=OT,re.flatMap=J_,re.flatMapDeep=AT,re.flatMapDepth=RT,re.flatten=oT,re.flattenDeep=sT,re.flattenDepth=j3,re.flip=Ib,re.flow=_P,re.flowRight=EP,re.fromPairs=z_,re.functions=o5,re.functionsIn=rP,re.groupBy=DT,re.initial=H_,re.intersection=V3,re.intersectionBy=aT,re.intersectionWith=lT,re.invert=AE,re.invertBy=Xp,re.invokeMap=IT,re.iteratee=Zb,re.keyBy=ul,re.keys=vo,re.keysIn=us,re.map=qu,re.mapKeys=s5,re.mapValues=bh,re.matches=qE,re.matchesProperty=Jb,re.memoize=qp,re.merge=jv,re.mergeWith=ME,re.method=SP,re.methodOf=kP,re.mixin=UE,re.negate=Mv,re.nthArg=e1,re.omit=iP,re.omitBy=oP,re.once=oE,re.orderBy=Ji,re.over=YE,re.overArgs=sE,re.overEvery=y5,re.overSome=Hv,re.partial=Up,re.partialRight=aE,re.partition=FT,re.pick=Gb,re.pickBy=sP,re.property=OP,re.propertyOf=b5,re.pull=uT,re.pullAll=Pb,re.pullAllBy=Hu,re.pullAllWith=Ab,re.pullAt=Tv,re.range=TP,re.rangeRight=PP,re.rearg=lE,re.reject=$T,re.remove=Rb,re.rest=cE,re.reverse=W_,re.sampleSize=jT,re.set=aP,re.setWith=Yb,re.shuffle=tE,re.slice=dT,re.sortBy=zT,re.sortedUniq=zp,re.sortedUniqBy=q3,re.split=VE,re.spread=Dv,re.tail=U3,re.take=q_,re.takeRight=Gc,re.takeRightWhile=Mb,re.takeWhile=G3,re.tap=mh,re.throttle=Gp,re.thru=Yc,re.toArray=wE,re.toPairs=Bv,re.toPairsIn=lP,re.toPath=r1,re.toPlainObject=EE,re.transform=l5,re.unary=Fb,re.union=pT,re.unionBy=U_,re.unionWith=mT,re.uniq=gT,re.uniqBy=G_,re.uniqWith=vT,re.unset=c5,re.unzip=Hp,re.unzipWith=Y_,re.update=u5,re.updateWith=cP,re.values=lf,re.valuesIn=d5,re.without=yT,re.words=HE,re.wrap=uE,re.xor=Q_,re.xorBy=K_,re.xorWith=Y3,re.zip=bT,re.zipObject=xT,re.zipObjectDeep=Q3,re.zipWith=wT,re.entries=Bv,re.entriesIn=lP,re.extend=SE,re.extendWith=Kp,UE(re,re),re.add=Wv,re.attempt=WE,re.camelCase=h5,re.capitalize=fP,re.ceil=Xl,re.clamp=uP,re.clone=fE,re.cloneDeep=qT,re.cloneDeepWith=Lb,re.cloneWith=hE,re.conformsTo=pE,re.deburr=Yu,re.defaultTo=wP,re.divide=NP,re.endsWith=DE,re.eq=dl,re.escape=NE,re.escapeRegExp=IE,re.every=CT,re.find=TT,re.findIndex=Ov,re.findKey=OE,re.findLast=PT,re.findLastIndex=iT,re.findLastKey=tP,re.floor=IP,re.forEach=eE,re.forEachRight=MT,re.forIn=qb,re.forInRight=nP,re.forOwn=i5,re.forOwnRight=TE,re.get=Ub,re.gt=mE,re.gte=UT,re.has=PE,re.hasIn=$v,re.head=Tb,re.identity=qs,re.includes=NT,re.indexOf=B3,re.inRange=f5,re.invoke=RE,re.isArguments=Qc,re.isArray=Nn,re.isArrayBuffer=$b,re.isArrayLike=cs,re.isArrayLikeObject=ao,re.isBoolean=GT,re.isBuffer=Kl,re.isDate=Nv,re.isElement=J3,re.isEmpty=YT,re.isEqual=jb,re.isEqualWith=e5,re.isError=af,re.isFinite=Bb,re.isFunction=Ws,re.isInteger=Da,re.isLength=Vb,re.isMap=gE,re.isMatch=vE,re.isMatchWith=QT,re.isNaN=KT,re.isNative=yE,re.isNil=zb,re.isNull=Yp,re.isNumber=bE,re.isObject=xi,re.isObjectLike=wi,re.isPlainObject=vh,re.isRegExp=Iv,re.isSafeInteger=XT,re.isSet=xE,re.isString=Qp,re.isSymbol=na,re.isTypedArray=yh,re.isUndefined=t5,re.isWeakMap=ZT,re.isWeakSet=JT,re.join=z3,re.kebabCase=FE,re.last=Hs,re.lastIndexOf=cT,re.lowerCase=LE,re.lowerFirst=$E,re.lt=Fv,re.lte=n5,re.max=x5,re.maxBy=KE,re.mean=FP,re.meanBy=w5,re.min=qv,re.minBy=XE,re.stubArray=t1,re.stubFalse=n1,re.stubObject=AP,re.stubString=RP,re.stubTrue=MP,re.multiply=LP,re.nth=H3,re.noConflict=CP,re.noop=GE,re.now=Wp,re.pad=p5,re.padEnd=m5,re.padStart=hP,re.parseInt=Ko,re.random=dP,re.reduce=K3,re.reduceRight=LT,re.repeat=jE,re.replace=pP,re.result=a5,re.round=$P,re.runInContext=Me,re.sample=X3,re.size=BT,re.snakeCase=BE,re.some=VT,re.sortedIndex=W3,re.sortedIndexBy=Vp,re.sortedIndexOf=fT,re.sortedLastIndex=ph,re.sortedLastIndexBy=hT,re.sortedLastIndexOf=Wu,re.startCase=mP,re.startsWith=Qb,re.subtract=ZE,re.sum=jP,re.sumBy=_5,re.template=gP,re.times=DP,re.toFinite=fl,re.toInteger=Wn,re.toLength=_E,re.toLower=vP,re.toNumber=Na,re.toSafeInteger=Lv,re.toString=Nr,re.toUpper=Kc,re.trim=yP,re.trimEnd=zE,re.trimStart=Kb,re.truncate=Zp,re.unescape=g5,re.uniqueId=QE,re.upperCase=v5,re.upperFirst=Xb,re.each=eE,re.eachRight=MT,re.first=Tb,UE(re,function(){var v={};return Ta(re,function(_,A){Vr.call(re.prototype,A)||(v[A]=_)}),v}(),{chain:!1}),re.VERSION=r,Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){re[v].placeholder=re}),Xt(["drop","take"],function(v,_){sn.prototype[v]=function(A){A=A===t?1:To(Wn(A),0);var V=this.__filtered__&&!_?new sn(this):this.clone();return V.__filtered__?V.__takeCount__=Ts(A,V.__takeCount__):V.__views__.push({size:Ts(A,Ne),type:v+(V.__dir__<0?"Right":"")}),V},sn.prototype[v+"Right"]=function(A){return this.reverse()[v](A).reverse()}}),Xt(["filter","map","takeWhile"],function(v,_){var A=_+1,V=A==pe||A==Ae;sn.prototype[v]=function(K){var se=this.clone();return se.__iteratees__.push({iteratee:yn(K,3),type:A}),se.__filtered__=se.__filtered__||V,se}}),Xt(["head","last"],function(v,_){var A="take"+(_?"Right":"");sn.prototype[v]=function(){return this[A](1).value()[0]}}),Xt(["initial","tail"],function(v,_){var A="drop"+(_?"":"Right");sn.prototype[v]=function(){return this.__filtered__?new sn(this):this[A](1)}}),sn.prototype.compact=function(){return this.filter(qs)},sn.prototype.find=function(v){return this.filter(v).head()},sn.prototype.findLast=function(v){return this.reverse().find(v)},sn.prototype.invokeMap=er(function(v,_){return typeof v=="function"?new sn(this):this.map(function(A){return ah(A,v,_)})}),sn.prototype.reject=function(v){return this.filter(Mv(yn(v)))},sn.prototype.slice=function(v,_){v=Wn(v);var A=this;return A.__filtered__&&(v>0||_<0)?new sn(A):(v<0?A=A.takeRight(-v):v&&(A=A.drop(v)),_!==t&&(_=Wn(_),A=_<0?A.dropRight(-_):A.take(_-v)),A)},sn.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},sn.prototype.toArray=function(){return this.take(Ne)},Ta(sn.prototype,function(v,_){var A=/^(?:filter|find|map|reject)|While$/.test(_),V=/^(?:head|last)$/.test(_),K=re[V?"take"+(_=="last"?"Right":""):_],se=V||/^find/.test(_);K&&(re.prototype[_]=function(){var me=this.__wrapped__,we=V?[1]:arguments,Ie=me instanceof sn,nt=we[0],Ke=Ie||Nn(me),st=function(ar){var mr=K.apply(re,fn([ar],we));return V&&St?mr[0]:mr};Ke&&A&&typeof nt=="function"&&nt.length!=1&&(Ie=Ke=!1);var St=this.__chain__,an=!!this.__actions__.length,vn=se&&!St,Bn=Ie&&!an;if(!se&&Ke){me=Bn?me:new sn(this);var rn=v.apply(me,we);return rn.__actions__.push({func:Yc,args:[st],thisArg:t}),new ol(rn,St)}return vn&&Bn?v.apply(this,we):(rn=this.thru(st),vn?V?rn.value()[0]:rn.value():rn)})}),Xt(["pop","push","shift","sort","splice","unshift"],function(v){var _=Jg[v],A=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",V=/^(?:pop|shift)$/.test(v);re.prototype[v]=function(){var K=arguments;if(V&&!this.__chain__){var se=this.value();return _.apply(Nn(se)?se:[],K)}return this[A](function(me){return _.apply(Nn(me)?me:[],K)})}}),Ta(sn.prototype,function(v,_){var A=re[_];if(A){var V=A.name+"";Vr.call(dt,V)||(dt[V]=[]),dt[V].push({name:_,func:A})}}),dt[bv(t,D).name]=[{name:"wrapper",func:t}],sn.prototype.clone=G0,sn.prototype.reverse=x3,sn.prototype.value=bO,re.prototype.at=Pv,re.prototype.chain=Z_,re.prototype.commit=Db,re.prototype.next=_T,re.prototype.plant=Nb,re.prototype.reverse=ET,re.prototype.toJSON=re.prototype.valueOf=re.prototype.value=ST,re.prototype.first=re.prototype.head,Cp&&(re.prototype[Cp]=Av),re},Dc=p3();Gd?((Gd.exports=Dc)._=Dc,Jw._=Dc):Yo._=Dc}).call(Sf)})(ND,ND.exports);var cNe=ND.exports;const uNe=/^class[ {]/;function dNe(n){return uNe.test(n.toString())}function H9(n){return Array.isArray(n)}function ML(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function vM(...n){n.length===1&&H9(n[0])&&(n=n[0]),n=[...n];const e=n.pop();return e.$inject=n,e}const fNe=/constructor\s*[^(]*\(\s*([^)]*)\)/m,hNe=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,pNe=/\/\*([^*]*)\*\//m;function mNe(n){if(typeof n!="function")throw new Error(`Cannot annotate "${n}". Expected a function!`);const e=n.toString().match(dNe(n)?fNe:hNe);if(!e)return[];const t=e[1]||e[2];return t&&t.split(",").map(r=>{const i=r.match(pNe);return(i&&i[1]||r).trim()})||[]}function cse(n,e){const t=e||{get:function(I,R){if(r.push(I),R===!1)return null;throw c(`No provider for "${I}"!`)}},r=[],i=this._providers=Object.create(t._providers||null),o=this._instances=Object.create(null),a=o.injector=this,c=function(I){const R=r.join(" -> ");return r.length=0,new Error(R?`${I} (Resolving: ${R})`:I)};function u(I,R){if(!i[I]&&I.includes(".")){const z=I.split(".");let X=u(z.shift());for(;z.length;)X=X[z.shift()];return X}if(ML(o,I))return o[I];if(ML(i,I)){if(r.indexOf(I)!==-1)throw r.push(I),c("Cannot resolve circular dependency!");return r.push(I),o[I]=i[I][0](i[I][1]),r.pop(),o[I]}return t.get(I,R)}function h(I,R){if(typeof R>"u"&&(R={}),typeof I!="function")if(H9(I))I=vM(I.slice());else throw c(`Cannot invoke "${I}". Expected a function!`);const X=(I.$inject||mNe(I)).map(Z=>ML(R,Z)?R[Z]:u(Z));return{fn:I,dependencies:X}}function m(I){const{fn:R,dependencies:z}=h(I),X=Function.prototype.bind.call(R,null,...z);return new X}function y(I,R,z){const{fn:X,dependencies:Z}=h(I,z);return X.apply(R,Z)}function w(I){return vM(R=>I.get(R))}function S(I,R){if(R&&R.length){const z=Object.create(null),X=Object.create(null),Z=[],ae=[],ge=[];let _e,be,he,fe;for(let pe in i)_e=i[pe],R.indexOf(pe)!==-1&&(_e[2]==="private"?(be=Z.indexOf(_e[3]),be===-1?(he=_e[3].createChild([],R),fe=w(he),Z.push(_e[3]),ae.push(he),ge.push(fe),z[pe]=[fe,pe,"private",he]):z[pe]=[ge[be],pe,"private",ae[be]]):z[pe]=[_e[2],_e[1]],X[pe]=!0),(_e[2]==="factory"||_e[2]==="type")&&_e[1].$scope&&R.forEach(Ce=>{_e[1].$scope.indexOf(Ce)!==-1&&(z[pe]=[_e[2],_e[1]],X[Ce]=!0)});R.forEach(pe=>{if(!X[pe])throw new Error('No provider for "'+pe+'". Cannot use provider from the parent!')}),I.unshift(z)}return new cse(I,a)}const T={factory:y,type:m,value:function(I){return I}};function O(I,R){const z=I.__init__||[];return function(){z.forEach(X=>{typeof X=="string"?R.get(X):R.invoke(X)})}}function N(I){const R=I.__exports__;if(R){const z=I.__modules__,X=Object.keys(I).reduce((be,he)=>(he!=="__exports__"&&he!=="__modules__"&&he!=="__init__"&&he!=="__depends__"&&(be[he]=I[he]),be),Object.create(null)),Z=(z||[]).concat(X),ae=S(Z),ge=vM(function(be){return ae.get(be)});R.forEach(function(be){i[be]=[ge,be,"private",ae]});const _e=(I.__init__||[]).slice();return _e.unshift(function(){ae.init()}),I=Object.assign({},I,{__init__:_e}),O(I,ae)}return Object.keys(I).forEach(function(z){if(z==="__init__"||z==="__depends__")return;const X=I[z];if(X[2]==="private"){i[z]=X;return}const Z=X[0],ae=X[1];i[z]=[T[Z],gNe(Z,ae),Z]}),O(I,a)}function D(I,R){return I.indexOf(R)!==-1||(I=(R.__depends__||[]).reduce(D,I),I.indexOf(R)!==-1)?I:I.concat(R)}function F(I){const R=I.reduce(D,[]).map(N);let z=!1;return function(){z||(z=!0,R.forEach(X=>X()))}}this.get=u,this.invoke=y,this.instantiate=m,this.createChild=S,this.init=F(n)}function gNe(n,e){return n!=="value"&&H9(e)&&(e=vM(e.slice())),e}const use=1024;let vNe=0,pu=class{constructor(e,t){this.from=e,this.to=t}};class Vn{constructor(e={}){this.id=vNe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=xs.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Vn.closedBy=new Vn({deserialize:n=>n.split(" ")});Vn.openedBy=new Vn({deserialize:n=>n.split(" ")});Vn.group=new Vn({deserialize:n=>n.split(" ")});Vn.isolate=new Vn({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Vn.contextHash=new Vn({perNode:!0});Vn.lookAhead=new Vn({perNode:!0});Vn.mounted=new Vn({perNode:!0});class BC{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Vn.mounted.id]}}const yNe=Object.create(null);class xs{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):yNe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new xs(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Vn.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Vn.group),o=-1;o<(i?i.length:0);o++){let a=t[o<0?r.name:i[o]];if(a)return a}}}}xs.none=new xs("",Object.create(null),0,8);class M2{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let o of e){let a=o(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}t.push(i?new xs(r.name,i,r.id,r.flags):r)}return new M2(t)}}const iR=new WeakMap,jG=new WeakMap;var ro;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ro||(ro={}));class oi{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,c]of o)this.props[typeof a=="number"?a:a.id]=c}}toString(){let e=BC.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ID(this.topNode,e)}cursorAt(e,t=0,r=0){let i=iR.get(this)||this.topNode,o=new ID(i);return o.moveTo(e,t),iR.set(this,o._tree),o}get topNode(){return new Dl(this,0,0,null)}resolve(e,t=0){let r=VC(iR.get(this)||this.topNode,e,t,!1);return iR.set(this,r),r}resolveInner(e,t=0){let r=VC(jG.get(this)||this.topNode,e,t,!0);return jG.set(this,r),r}resolveStack(e,t=0){return wNe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,a=e.mode||0,c=(a&ro.IncludeAnonymous)>0;for(let u=this.cursor(a|ro.IncludeAnonymous);;){let h=!1;if(u.from<=o&&u.to>=i&&(!c&&u.type.isAnonymous||t(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&r&&(c||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:U9(xs.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new oi(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new oi(xs.none,t,r,i)))}static build(e){return _Ne(e)}}oi.empty=new oi(xs.none,[],[],0);class W9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new W9(this.buffer,this.index)}}class _g{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return xs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,t,r,i,o){let{buffer:a}=this,c=-1;for(let u=e;u!=t&&!(dse(o,i,a[u+1],a[u+2])&&(c=u,r>0));u=a[u+3]);return c}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),a=0;for(let c=e,u=0;c<t;){o[u++]=i[c++],o[u++]=i[c++]-r;let h=o[u++]=i[c++]-r;o[u++]=i[c++]-e,a=Math.max(a,h)}return new _g(o,a,this.set)}}function dse(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function VC(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof Dl&&n.index<0?null:n.parent;if(!a)return n;n=a}let o=r?0:ro.IgnoreOverlays;if(r)for(let a=n,c=a.parent;c;a=c,c=a.parent)a instanceof Dl&&a.index<0&&((i=c.enter(e,t,o))===null||i===void 0?void 0:i.from)!=a.from&&(n=c);for(;;){let a=n.enter(e,t,o);if(!a)return n;n=a}}class fse{cursor(e=0){return new ID(this,e)}getChild(e,t=null,r=null){let i=BG(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return BG(this,e,t,r)}resolve(e,t=0){return VC(this,e,t,!1)}resolveInner(e,t=0){return VC(this,e,t,!0)}matchContext(e){return wj(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Dl extends fse{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let a=this;;){for(let{children:c,positions:u}=a._tree,h=t>0?c.length:-1;e!=h;e+=t){let m=c[e],y=u[e]+a.from;if(dse(i,r,y,y+m.length)){if(m instanceof _g){if(o&ro.ExcludeBuffers)continue;let w=m.findChild(0,m.buffer.length,t,r-y,i);if(w>-1)return new qm(new bNe(a,m,e,y),null,w)}else if(o&ro.IncludeAnonymous||!m.type.isAnonymous||q9(m)){let w;if(!(o&ro.IgnoreMounts)&&(w=BC.get(m))&&!w.overlay)return new Dl(w.tree,y,e,a);let S=new Dl(m,y,e,a);return o&ro.IncludeAnonymous||!S.type.isAnonymous?S:S.nextChild(t<0?m.children.length-1:0,t,r,i)}}}if(o&ro.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&ro.IgnoreOverlays)&&(i=BC.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:a,to:c}of i.overlay)if((t>0?a<=o:a<o)&&(t<0?c>=o:c>o))return new Dl(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function BG(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let a=!1;!a;)if(a=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function wj(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class bNe{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class qm extends fse{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new qm(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&ro.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new qm(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new qm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new qm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let a=r.buffer[this.index+1];e.push(r.slice(i,o,a)),t.push(0)}return new oi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function hse(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let a=n[o];(a.from>t.from||a.to<t.to)&&(t=a,e=o)}let r=t instanceof Dl&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new xNe(i,t)}class xNe{constructor(e,t){this.heads=e,this.node=t}get next(){return hse(this.heads)}}function wNe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let o=r instanceof Dl?r:r.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(i||(i=[r])).push(a.resolve(e,t)),o=a}else{let a=BC.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let c=new Dl(a.tree,a.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(VC(c,e,t,!1))}}return i?hse(i):r}class ID{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Dl)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Dl?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&ro.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ro.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ro.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,a=e<0?-1:r._tree.children.length;o!=a;o+=e){let c=r._tree.children[o];if(this.mode&ro.IncludeAnonymous||c instanceof _g||!c.type.isAnonymous||q9(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;t=a,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new qm(this.buffer,t,this.stack[i]);return this.bufferNode=new qm(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return wj(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return wj(this._tree,e,i);let a=r[t.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function q9(n){return n.children.some(e=>e instanceof _g||!e.type.isAnonymous||q9(e))}function _Ne(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=use,reused:o=[],minRepeatType:a=r.types.length}=n,c=Array.isArray(t)?new W9(t,t.length):t,u=r.types,h=0,m=0;function y(z,X,Z,ae,ge,_e){let{id:be,start:he,end:fe,size:pe}=c,Ce=m,Ae=h;for(;pe<0;)if(c.next(),pe==-1){let Ne=o[be];Z.push(Ne),ae.push(he-z);return}else if(pe==-3){h=be;return}else if(pe==-4){m=be;return}else throw new RangeError(`Unrecognized record size: ${pe}`);let We=u[be],xe,$e,Je=he-z;if(fe-he<=i&&($e=N(c.pos-X,ge))){let Ne=new Uint16Array($e.size-$e.skip),Ue=c.pos-$e.size,le=Ne.length;for(;c.pos>Ue;)le=D($e.start,Ne,le);xe=new _g(Ne,fe-$e.start,r),Je=$e.start-z}else{let Ne=c.pos-pe;c.next();let Ue=[],le=[],Ze=be>=a?be:-1,Qe=0,Ct=fe;for(;c.pos>Ne;)Ze>=0&&c.id==Ze&&c.size>=0?(c.end<=Ct-i&&(T(Ue,le,he,Qe,c.end,Ct,Ze,Ce,Ae),Qe=Ue.length,Ct=c.end),c.next()):_e>2500?w(he,Ne,Ue,le):y(he,Ne,Ue,le,Ze,_e+1);if(Ze>=0&&Qe>0&&Qe<Ue.length&&T(Ue,le,he,Qe,he,Ct,Ze,Ce,Ae),Ue.reverse(),le.reverse(),Ze>-1&&Qe>0){let Et=S(We,Ae);xe=U9(We,Ue,le,0,Ue.length,0,fe-he,Et,Et)}else xe=O(We,Ue,le,fe-he,Ce-fe,Ae)}Z.push(xe),ae.push(Je)}function w(z,X,Z,ae){let ge=[],_e=0,be=-1;for(;c.pos>X;){let{id:he,start:fe,end:pe,size:Ce}=c;if(Ce>4)c.next();else{if(be>-1&&fe<be)break;be<0&&(be=pe-i),ge.push(he,fe,pe),_e++,c.next()}}if(_e){let he=new Uint16Array(_e*4),fe=ge[ge.length-2];for(let pe=ge.length-3,Ce=0;pe>=0;pe-=3)he[Ce++]=ge[pe],he[Ce++]=ge[pe+1]-fe,he[Ce++]=ge[pe+2]-fe,he[Ce++]=Ce;Z.push(new _g(he,ge[2]-fe,r)),ae.push(fe-z)}}function S(z,X){return(Z,ae,ge)=>{let _e=0,be=Z.length-1,he,fe;if(be>=0&&(he=Z[be])instanceof oi){if(!be&&he.type==z&&he.length==ge)return he;(fe=he.prop(Vn.lookAhead))&&(_e=ae[be]+he.length+fe)}return O(z,Z,ae,ge,_e,X)}}function T(z,X,Z,ae,ge,_e,be,he,fe){let pe=[],Ce=[];for(;z.length>ae;)pe.push(z.pop()),Ce.push(X.pop()+Z-ge);z.push(O(r.types[be],pe,Ce,_e-ge,he-_e,fe)),X.push(ge-Z)}function O(z,X,Z,ae,ge,_e,be){if(_e){let he=[Vn.contextHash,_e];be=be?[he].concat(be):[he]}if(ge>25){let he=[Vn.lookAhead,ge];be=be?[he].concat(be):[he]}return new oi(z,X,Z,ae,be)}function N(z,X){let Z=c.fork(),ae=0,ge=0,_e=0,be=Z.end-i,he={size:0,start:0,skip:0};e:for(let fe=Z.pos-z;Z.pos>fe;){let pe=Z.size;if(Z.id==X&&pe>=0){he.size=ae,he.start=ge,he.skip=_e,_e+=4,ae+=4,Z.next();continue}let Ce=Z.pos-pe;if(pe<0||Ce<fe||Z.start<be)break;let Ae=Z.id>=a?4:0,We=Z.start;for(Z.next();Z.pos>Ce;){if(Z.size<0)if(Z.size==-3)Ae+=4;else break e;else Z.id>=a&&(Ae+=4);Z.next()}ge=We,ae+=pe,_e+=Ae}return(X<0||ae==z)&&(he.size=ae,he.start=ge,he.skip=_e),he.size>4?he:void 0}function D(z,X,Z){let{id:ae,start:ge,end:_e,size:be}=c;if(c.next(),be>=0&&ae<a){let he=Z;if(be>4){let fe=c.pos-(be-4);for(;c.pos>fe;)Z=D(z,X,Z)}X[--Z]=he,X[--Z]=_e-z,X[--Z]=ge-z,X[--Z]=ae}else be==-3?h=ae:be==-4&&(m=ae);return Z}let F=[],I=[];for(;c.pos>0;)y(n.start||0,n.bufferStart||0,F,I,-1,0);let R=(e=n.length)!==null&&e!==void 0?e:F.length?I[0]+F[0].length:0;return new oi(u[n.topID],F.reverse(),I.reverse(),R)}const VG=new WeakMap;function yM(n,e){if(!n.isAnonymous||e instanceof _g||e.type!=n)return 1;let t=VG.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof oi)){t=1;break}t+=yM(n,r)}VG.set(e,t)}return t}function U9(n,e,t,r,i,o,a,c,u){let h=0;for(let T=r;T<i;T++)h+=yM(n,e[T]);let m=Math.ceil(h*1.5/8),y=[],w=[];function S(T,O,N,D,F){for(let I=N;I<D;){let R=I,z=O[I],X=yM(n,T[I]);for(I++;I<D;I++){let Z=yM(n,T[I]);if(X+Z>=m)break;X+=Z}if(I==R+1){if(X>m){let Z=T[R];S(Z.children,Z.positions,0,Z.children.length,O[R]+F);continue}y.push(T[R])}else{let Z=O[I-1]+T[I-1].length-z;y.push(U9(n,T,O,R,I,z,Z,null,u))}w.push(z+F-o)}}return S(e,t,r,i,0),(c||u)(y,w,a)}class Gh{constructor(e,t,r,i,o=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new Gh(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,a=e.length?e[0]:null;for(let c=0,u=0,h=0;;c++){let m=c<t.length?t[c]:null,y=m?m.fromA:1e9;if(y-u>=r)for(;a&&a.from<y;){let w=a;if(u>=w.from||y<=w.to||h){let S=Math.max(w.from,u)-h,T=Math.min(w.to,y)-h;w=S>=T?null:new Gh(S,T,w.tree,w.offset+h,c>0,!!m)}if(w&&i.push(w),a.to>y)break;a=o<e.length?e[o++]:null}if(!m)break;u=m.toA,h=m.toA-m.toB}return i}}class G9{startParse(e,t,r){return typeof e=="string"&&(e=new ENe(e)),r=r?r.length?r.map(i=>new pu(i.from,i.to)):[new pu(0,0)]:[new pu(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}}class ENe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function SNe(n){return(e,t,r,i)=>new CNe(e,n,t,r,i)}class zG{constructor(e,t,r,i,o){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=o}}function HG(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class kNe{constructor(e,t,r,i,o,a,c){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=o,this.target=a,this.prev=c,this.depth=0,this.ranges=[]}}const _j=new Vn({perNode:!0});class CNe{constructor(e,t,r,i,o){this.nest=t,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new oi(r.type,r.children,r.positions,r.length,r.propValues.concat([[_j,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Vn.mounted.id]=new BC(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new PNe(this.fragments),t=null,r=null,i=new ID(new Dl(this.baseTree,this.ranges[0].from,0,null),ro.IncludeAnonymous|ro.IgnoreMounts);e:for(let o,a;;){let c=!0,u;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)c=!1;else if(e.hasNode(i)){if(t){let h=t.mounts.find(m=>m.frag.from<=i.from&&m.frag.to>=i.to&&m.mount.overlay);if(h)for(let m of h.mount.overlay){let y=m.from+h.pos,w=m.to+h.pos;y>=i.from&&w<=i.to&&!t.ranges.some(S=>S.from<w&&S.to>y)&&t.ranges.push({from:y,to:w})}}c=!1}else if(r&&(a=ONe(r.ranges,i.from,i.to)))c=a!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||TNe(i);let h=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")t=new kNe(o.parser,o.overlay,h,this.inner.length,i.from,i.tree,t);else{let m=UG(this.ranges,o.overlay||(i.from<i.to?[new pu(i.from,i.to)]:[]));m.length&&HG(m),(m.length||!o.overlay)&&this.inner.push(new zG(o.parser,m.length?o.parser.startParse(this.input,GG(h,m),m):o.parser.startParse(""),o.overlay?o.overlay.map(y=>new pu(y.from-i.from,y.to-i.from)):null,i.tree,m.length?m[0].from:i.from)),o.overlay?m.length&&(r={ranges:m,depth:0,prev:r}):c=!1}}else if(t&&(u=t.predicate(i))&&(u===!0&&(u=new pu(i.from,i.to)),u.from<u.to)){let h=t.ranges.length-1;h>=0&&t.ranges[h].to==u.from?t.ranges[h]={from:t.ranges[h].from,to:u.to}:t.ranges.push(u)}if(c&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let h=UG(this.ranges,t.ranges);h.length&&(HG(h),this.inner.splice(t.index,0,new zG(t.parser,t.parser.startParse(this.input,GG(t.mounts,h),h),t.ranges.map(m=>new pu(m.from-t.start,m.to-t.start)),t.target,h[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function ONe(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function WG(n,e,t,r,i,o){if(e<t){let a=n.buffer[e+1];r.push(n.slice(e,t,a)),i.push(a-o)}}function TNe(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,o=i.children.indexOf(r),a=i.children[o],c=a.buffer,u=[o];function h(m,y,w,S,T,O){let N=t[O],D=[],F=[];WG(a,m,N,D,F,S);let I=c[N+1],R=c[N+2];u.push(D.length);let z=O?h(N+4,c[N+3],a.set.types[c[N]],I,R-I,O-1):e.toTree();return D.push(z),F.push(I-S),WG(a,c[N+3],y,D,F,S),new oi(w,D,F,T)}i.children[o]=h(0,c.length,xs.none,0,a.length,t.length-1);for(let m of u){let y=n.tree.children[m],w=n.tree.positions[m];n.yield(new Dl(y,w+n.from,m,n._tree))}}class qG{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(ro.IncludeAnonymous|ro.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,ro.IgnoreOverlays|ro.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof oi)t=t.children[0];else break}return!1}}let PNe=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(_j))!==null&&t!==void 0?t:r.to,this.inner=new qG(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(_j))!==null&&e!==void 0?e:t.to,this.inner=new qG(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let a=(r=o.tree)===null||r===void 0?void 0:r.prop(Vn.mounted);if(a&&a.parser==t)for(let c=this.fragI;c<this.fragments.length;c++){let u=this.fragments[c];if(u.from>=o.to)break;u.tree==this.curFrag.tree&&i.push({frag:u,pos:o.from-u.offset,mount:a})}}}return i}};function UG(n,e){let t=null,r=e;for(let i=1,o=0;i<n.length;i++){let a=n[i-1].to,c=n[i].from;for(;o<r.length;o++){let u=r[o];if(u.from>=c)break;u.to<=a||(t||(r=t=e.slice()),u.from<a?(t[o]=new pu(u.from,a),u.to>c&&t.splice(o+1,0,new pu(c,u.to))):u.to>c?t[o--]=new pu(c,u.to):t.splice(o--,1))}}return r}function ANe(n,e,t,r){let i=0,o=0,a=!1,c=!1,u=-1e9,h=[];for(;;){let m=i==n.length?1e9:a?n[i].to:n[i].from,y=o==e.length?1e9:c?e[o].to:e[o].from;if(a!=c){let w=Math.max(u,t),S=Math.min(m,y,r);w<S&&h.push(new pu(w,S))}if(u=Math.min(m,y),u==1e9)break;m==u&&(a?(a=!1,i++):a=!0),y==u&&(c?(c=!1,o++):c=!0)}return h}function GG(n,e){let t=[];for(let{pos:r,mount:i,frag:o}of n){let a=r+(i.overlay?i.overlay[0].from:0),c=a+i.tree.length,u=Math.max(o.from,a),h=Math.min(o.to,c);if(i.overlay){let m=i.overlay.map(w=>new pu(w.from+r,w.to+r)),y=ANe(e,m,u,h);for(let w=0,S=u;;w++){let T=w==y.length,O=T?h:y[w].from;if(O>S&&t.push(new Gh(S,O,i.tree,-a,o.from>=S||o.openStart,o.to<=O||o.openEnd)),T)break;S=y[w].to}}else t.push(new Gh(u,h,i.tree,-a,o.from>=a||o.openStart,o.to<=c||o.openEnd))}return t}var YG={};class FD{constructor(e,t,r,i,o,a,c,u,h,m=0,y){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=a,this.buffer=c,this.bufferBase=u,this.curContext=h,this.lookAhead=m,this.parent=y}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new FD(e,[],t,r,r,0,[],0,i?new QG(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:o}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let c=o.dynamicPrecedence(i);if(c&&(this.score+=c),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),h=u?this.stack[u-2]:this.p.ranges[0].from,m=this.reducePos-h;m>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=m):this.p.lastBigReductionSize<m&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=m));let y=u?this.stack[u-1]:0,w=this.bufferBase+this.buffer.length-y;if(i<o.minRepeatTerm||e&131072){let S=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,S,w+4,!0)}if(e&262144)this.state=this.stack[u];else{let S=this.stack[u-3];this.state=o.getGoto(S,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,c=this.buffer.length;if(c==0&&a.parent&&(c=a.bufferBase-a.parent.bufferBase,a=a.parent),c>0&&a.buffer[c-4]==0&&a.buffer[c-1]>-1){if(t==r)return;if(a.buffer[c-2]>=t){a.buffer[c-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,t,r,i);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0){let c=!1;for(let u=a;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){c=!0;break}if(c)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let o=e,{parser:a}=this.p;(i>this.pos||t<=a.maxNode)&&(this.pos=i,a.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(t,r),t<=a.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new FD(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new RNe(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let o=0,a;o<t.length;o+=2)(a=t[o+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(t[o],a);if(this.stack.length<120)for(let o=0;i.length<8&&o<t.length;o+=2){let a=t[o+1];i.some((c,u)=>u&1&&c==a)||i.push(t[o],a)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let o=t[i+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[i],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,o)=>{if(!t.includes(i))return t.push(i),e.allActions(i,a=>{if(!(a&393216))if(a&65536){let c=(a>>19)-o;if(c>1){let u=a&65535,h=this.stack.length-c*3;if(h>=0&&e.getGoto(this.stack[h],u,!1)>=0)return c<<19|65536|u}}else{let c=r(a,o+1);if(c!=null)return c}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new QG(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class QG{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class RNe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class LD{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new LD(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new LD(this.stack,this.pos,this.index)}}function oR(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let o=0;for(;;){let a=n.charCodeAt(r++),c=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;let u=a-32;if(u>=46&&(u-=46,c=!0),o+=u,c)break;o*=46}t?t[i++]=o:t=new e(o)}return t}class bM{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const KG=new bM;class MNe{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=KG,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let a=this.ranges[--i];o-=r.from-a.to,r=a}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];o+=a.from-r.to,r=a}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=KG,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class dx{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;DNe(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}dx.prototype.contextual=dx.prototype.fallback=dx.prototype.extend=!1;dx.prototype.fallback=dx.prototype.extend=!1;class Aw{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function DNe(n,e,t,r,i,o){let a=0,c=1<<r,{dialect:u}=t.p.parser;e:for(;c&n[a];){let h=n[a+1];for(let S=a+3;S<h;S+=2)if((n[S+1]&c)>0){let T=n[S];if(u.allows(T)&&(e.token.value==-1||e.token.value==T||NNe(T,e.token.value,i,o))){e.acceptToken(T);break}}let m=e.next,y=0,w=n[a+2];if(e.next<0&&w>y&&n[h+w*3-3]==65535){a=n[h+w*3-1];continue e}for(;y<w;){let S=y+w>>1,T=h+S+(S<<1),O=n[T],N=n[T+1]||65536;if(m<O)w=S;else if(m>=N)y=S+1;else{a=n[T+2],e.advance();continue e}}break}}function XG(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function NNe(n,e,t,r){let i=XG(t,r,e);return i<0||XG(t,r,n)<i}const nc=typeof process<"u"&&YG&&/\bparse\b/.test(YG.LOG);let DL=null;function ZG(n,e,t){let r=n.cursor(ro.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}let INe=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?ZG(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?ZG(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],a=this.start[t]+r.positions[i];if(a>e)return this.nextStart=a,null;if(o instanceof oi){if(a==e){if(a<this.safeFrom)return null;let c=a+o.length;if(c<=this.safeTo){let u=o.prop(Vn.lookAhead);if(!u||c+u<this.fragment.to)return o}}this.index[t]++,a+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+o.length}}};class FNe{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new bM)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,a=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,u=0;for(let h=0;h<o.length;h++){if(!(1<<h&a))continue;let m=o[h],y=this.tokens[h];if(!(r&&!m.fallback)&&((m.contextual||y.start!=e.pos||y.mask!=a||y.context!=c)&&(this.updateCachedToken(y,m,e),y.mask=a,y.context=c),y.lookAhead>y.end+25&&(u=Math.max(y.lookAhead,u)),y.value!=0)){let w=t;if(y.extended>-1&&(t=this.addActions(e,y.extended,y.end,t)),t=this.addActions(e,y.value,y.end,t),!m.extend&&(r=y,t>w))break}}for(;this.actions.length>t;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new bM,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new bM,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==e.value){let c=o.specializers[a](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){c&1?e.extended=c>>1:e.value=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:o}=e,{parser:a}=e.p,{data:c}=a;for(let u=0;u<2;u++)for(let h=a.stateSlot(o,u?2:1);;h+=3){if(c[h]==65535)if(c[h+1]==1)h=Dh(c,h+2);else{i==0&&c[h+1]==2&&(i=this.putAction(Dh(c,h+2),t,r,i));break}c[h]==t&&(i=this.putAction(Dh(c,h+1),t,r,i))}return i}}class LNe{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new MNe(t,i),this.tokens=new FNe(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[FD.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new INe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let c=e[a];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{i||(i=[],o=[]),i.push(c);let u=this.tokens.getMainToken(c);o.push(u.value,u.end)}}break}}if(!r.length){let a=i&&BNe(i);if(a)return nc&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw nc&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(a)return nc&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((c,u)=>u.score-c.score);r.length>a;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let c=r[a];for(let u=a+1;u<r.length;u++){let h=r[u];if(c.sameState(h)||c.buffer.length>500&&h.buffer.length>500)if((c.score-h.score||c.buffer.length-h.buffer.length)>0)r.splice(u--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:o}=this,a=nc?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,m=h?e.curContext.hash:0;for(let y=this.fragments.nodeAt(i);y;){let w=this.parser.nodeSet.types[y.type.id]==y.type?o.getGoto(e.state,y.type.id):-1;if(w>-1&&y.length&&(!h||(y.prop(Vn.contextHash)||0)==m))return e.useNode(y,w),nc&&console.log(a+this.stackID(e)+` (via reuse of ${o.getName(y.type.id)})`),!0;if(!(y instanceof oi)||y.children.length==0||y.positions[0]>0)break;let S=y.children[0];if(S instanceof oi&&y.positions[0]==0)y=S;else break}}let c=o.stateSlot(e.state,4);if(c>0)return e.reduce(c),nc&&console.log(a+this.stackID(e)+` (via always-reduce ${o.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let h=0;h<u.length;){let m=u[h++],y=u[h++],w=u[h++],S=h==u.length||!r,T=S?e:e.split(),O=this.tokens.mainToken;if(T.apply(m,y,O?O.start:T.pos,w),nc&&console.log(a+this.stackID(T)+` (via ${m&65536?`reduce of ${o.getName(m&65535)}`:"shift"} for ${o.getName(y)} @ ${i}${T==e?"":", split"})`),S)return!0;T.pos>i?t.push(T):r.push(T)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return JG(e,t),!0}}runRecovery(e,t,r){let i=null,o=!1;for(let a=0;a<e.length;a++){let c=e[a],u=t[a<<1],h=t[(a<<1)+1],m=nc?this.stackID(c)+" -> ":"";if(c.deadEnd&&(o||(o=!0,c.restart(),nc&&console.log(m+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let y=c.split(),w=m;for(let S=0;y.forceReduce()&&S<10&&(nc&&console.log(w+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,r));S++)nc&&(w=this.stackID(y)+" -> ");for(let S of c.recoverByInsert(u))nc&&console.log(m+this.stackID(S)+" (via recover-insert)"),this.advanceFully(S,r);this.stream.end>c.pos?(h==c.pos&&(h++,u=0),c.recoverByDelete(u,h),nc&&console.log(m+this.stackID(c)+` (via recover-delete ${this.parser.getName(u)})`),JG(c,r)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),oi.build({buffer:LD.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(DL||(DL=new WeakMap)).get(e);return t||DL.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function JG(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class $Ne{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const NL=n=>n;class jNe{constructor(e){this.start=e.start,this.shift=e.shift||NL,this.reduce=e.reduce||NL,this.reuse=e.reuse||NL,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class zC extends G9{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function o(c,u,h){i[c].push([u,u.deserialize(String(h))])}if(e.nodeProps)for(let c of e.nodeProps){let u=c[0];typeof u=="string"&&(u=Vn[u]);for(let h=1;h<c.length;){let m=c[h++];if(m>=0)o(m,u,c[h++]);else{let y=c[h+-m];for(let w=-m;w>0;w--)o(c[h++],u,y);h++}}}this.nodeSet=new M2(t.map((c,u)=>xs.define({name:u>=this.minRepeatTerm?void 0:c,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=use;let a=oR(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(eY),this.states=oR(e.states,Uint32Array),this.data=oR(e.stateData),this.goto=oR(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new dx(a,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new LNe(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let o=i[t+1];;){let a=i[o++],c=a&1,u=i[o++];if(c&&r)return u;for(let h=o+(a>>1);o<h;o++)if(i[o]==e)return u;if(c)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),a;;o+=3){if((a=r[o])==65535)if(r[o+1]==1)a=r[o=Dh(r,o+2)];else{if(r[o+1]==2)return Dh(r,o+2);break}if(a==t||a==0)return Dh(r,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Dh(this.data,o+2);else break;i=t(Dh(this.data,o+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Dh(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((o,a)=>a&1&&o==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(zC.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(c=>c.from==r.external);if(!o)return r;let a=Object.assign(Object.assign({},r),{external:o.to});return t.specializers[i]=eY(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let o of e.split(" ")){let a=t.indexOf(o);a>=0&&(r[a]=!0)}let i=null;for(let o=0;o<t.length;o++)if(!r[o])for(let a=this.dialects[t[o]],c;(c=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new $Ne(e,r,i)}static deserialize(e){return new zC(e)}}function Dh(n,e){return n[e]|n[e+1]<<16}function BNe(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function eY(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let VNe=0;class dc{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=VNe++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof dc&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new dc(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new $D(e);return r=>r.modified.indexOf(t)>-1?r:$D.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}}let zNe=0;class $D{constructor(e){this.name=e,this.instances=[],this.id=zNe++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&HNe(t,c.modified));if(r)return r;let i=[],o=new dc(e.name,i,e,t);for(let c of t)c.instances.push(o);let a=WNe(t);for(let c of e.set)if(!c.modified.length)for(let u of a)i.push($D.get(c,u));return o}}function HNe(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function WNe(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function D2(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],a=2,c=i;for(let y=0;;){if(c=="..."&&y>0&&y+3==i.length){a=1;break}let w=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!w)throw new RangeError("Invalid path: "+i);if(o.push(w[0]=="*"?"":w[0][0]=='"'?JSON.parse(w[0]):w[0]),y+=w[0].length,y==i.length)break;let S=i[y++];if(y==i.length&&S=="!"){a=0;break}if(S!="/")throw new RangeError("Invalid path: "+i);c=i.slice(y)}let u=o.length-1,h=o[u];if(!h)throw new RangeError("Invalid path: "+i);let m=new jD(r,a,u>0?o.slice(0,u):null);e[h]=m.sort(e[h])}}return pse.add(e)}const pse=new Vn;class jD{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}jD.empty=new jD([],2,null);function mse(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let a of o.tag)t[a.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let a=i;for(let c of o)for(let u of c.set){let h=t[u.id];if(h){a=a?a+" "+h:h;break}}return a},scope:r}}function qNe(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function UNe(n,e,t,r=0,i=n.length){let o=new GNe(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}class GNe{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:a,from:c,to:u}=e;if(c>=r||u<=t)return;a.isTop&&(o=this.highlighters.filter(S=>!S.scope||S.scope(a)));let h=i,m=YNe(e)||jD.empty,y=qNe(o,m.tags);if(y&&(h&&(h+=" "),h+=y,m.mode==1&&(i+=(i?" ":"")+y)),this.startSpan(Math.max(t,c),h),m.opaque)return;let w=e.tree&&e.tree.prop(Vn.mounted);if(w&&w.overlay){let S=e.node.enter(w.overlay[0].from+c,1),T=this.highlighters.filter(N=>!N.scope||N.scope(w.tree.type)),O=e.firstChild();for(let N=0,D=c;;N++){let F=N<w.overlay.length?w.overlay[N]:null,I=F?F.from+c:u,R=Math.max(t,D),z=Math.min(r,I);if(R<z&&O)for(;e.from<z&&(this.highlightRange(e,R,z,i,o),this.startSpan(Math.min(z,e.to),h),!(e.to>=I||!e.nextSibling())););if(!F||I>r)break;D=F.to+c,D>t&&(this.highlightRange(S.cursor(),Math.max(t,F.from+c),Math.min(r,D),"",T),this.startSpan(Math.min(r,D),h))}O&&e.parent()}else if(e.firstChild()){w&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),h)}while(e.nextSibling());e.parent()}}}function YNe(n){let e=n.type.prop(pse);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Dt=dc.define,sR=Dt(),Sm=Dt(),tY=Dt(Sm),nY=Dt(Sm),km=Dt(),aR=Dt(km),IL=Dt(km),mf=Dt(),iy=Dt(mf),ff=Dt(),hf=Dt(),Ej=Dt(),qS=Dt(Ej),lR=Dt(),ue={comment:sR,lineComment:Dt(sR),blockComment:Dt(sR),docComment:Dt(sR),name:Sm,variableName:Dt(Sm),typeName:tY,tagName:Dt(tY),propertyName:nY,attributeName:Dt(nY),className:Dt(Sm),labelName:Dt(Sm),namespace:Dt(Sm),macroName:Dt(Sm),literal:km,string:aR,docString:Dt(aR),character:Dt(aR),attributeValue:Dt(aR),number:IL,integer:Dt(IL),float:Dt(IL),bool:Dt(km),regexp:Dt(km),escape:Dt(km),color:Dt(km),url:Dt(km),keyword:ff,self:Dt(ff),null:Dt(ff),atom:Dt(ff),unit:Dt(ff),modifier:Dt(ff),operatorKeyword:Dt(ff),controlKeyword:Dt(ff),definitionKeyword:Dt(ff),moduleKeyword:Dt(ff),operator:hf,derefOperator:Dt(hf),arithmeticOperator:Dt(hf),logicOperator:Dt(hf),bitwiseOperator:Dt(hf),compareOperator:Dt(hf),updateOperator:Dt(hf),definitionOperator:Dt(hf),typeOperator:Dt(hf),controlOperator:Dt(hf),punctuation:Ej,separator:Dt(Ej),bracket:qS,angleBracket:Dt(qS),squareBracket:Dt(qS),paren:Dt(qS),brace:Dt(qS),content:mf,heading:iy,heading1:Dt(iy),heading2:Dt(iy),heading3:Dt(iy),heading4:Dt(iy),heading5:Dt(iy),heading6:Dt(iy),contentSeparator:Dt(mf),list:Dt(mf),quote:Dt(mf),emphasis:Dt(mf),strong:Dt(mf),link:Dt(mf),monospace:Dt(mf),strikethrough:Dt(mf),inserted:Dt(),deleted:Dt(),changed:Dt(),invalid:Dt(),meta:lR,documentMeta:Dt(lR),annotation:Dt(lR),processingInstruction:Dt(lR),definition:dc.defineModifier("definition"),constant:dc.defineModifier("constant"),function:dc.defineModifier("function"),standard:dc.defineModifier("standard"),local:dc.defineModifier("local"),special:dc.defineModifier("special")};for(let n in ue){let e=ue[n];e instanceof dc&&(e.name=n)}mse([{tag:ue.link,class:"tok-link"},{tag:ue.heading,class:"tok-heading"},{tag:ue.emphasis,class:"tok-emphasis"},{tag:ue.strong,class:"tok-strong"},{tag:ue.keyword,class:"tok-keyword"},{tag:ue.atom,class:"tok-atom"},{tag:ue.bool,class:"tok-bool"},{tag:ue.url,class:"tok-url"},{tag:ue.labelName,class:"tok-labelName"},{tag:ue.inserted,class:"tok-inserted"},{tag:ue.deleted,class:"tok-deleted"},{tag:ue.literal,class:"tok-literal"},{tag:ue.string,class:"tok-string"},{tag:ue.number,class:"tok-number"},{tag:[ue.regexp,ue.escape,ue.special(ue.string)],class:"tok-string2"},{tag:ue.variableName,class:"tok-variableName"},{tag:ue.local(ue.variableName),class:"tok-variableName tok-local"},{tag:ue.definition(ue.variableName),class:"tok-variableName tok-definition"},{tag:ue.special(ue.variableName),class:"tok-variableName2"},{tag:ue.definition(ue.propertyName),class:"tok-propertyName tok-definition"},{tag:ue.typeName,class:"tok-typeName"},{tag:ue.namespace,class:"tok-namespace"},{tag:ue.className,class:"tok-className"},{tag:ue.macroName,class:"tok-macroName"},{tag:ue.propertyName,class:"tok-propertyName"},{tag:ue.operator,class:"tok-operator"},{tag:ue.comment,class:"tok-comment"},{tag:ue.meta,class:"tok-meta"},{tag:ue.invalid,class:"tok-invalid"},{tag:ue.punctuation,class:"tok-punctuation"}]);var Yx={};const QNe=121,Y9=122,gse=123,KNe=124,rY=128,XNe=4,ZNe=131,JNe=7,eIe=8,tIe=9,nIe=10,rIe=139,vse=19,iIe=140,oIe=23,sIe=141,aIe=27,lIe=37,cIe=41,uIe=145,dIe=146,fIe=147,hIe=148,pIe=47,mIe=68,yse=154,bse=70,xse=155,wse=72,gIe=156,vIe=76,yIe=161,bIe=79,xIe=80,wIe=81,_Ie=167,_se=89,EIe=90,SIe=169,kIe=97,CIe=171,OIe=98,TIe=100,PIe=101,Q9=typeof process<"u"&&Yx&&/\bfparse(:dbg)?\b/.test(Yx.LOG),K9=typeof process<"u"&&Yx&&/\bfparse:dbg\b/.test(Yx.LOG),Oh=typeof process<"u"&&Yx&&/\bcontext\b/.test(Yx.LOG),Ese=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],AIe=Sse(`
\r`),iY=42,RIe=Sse("'./-+*^");function Sse(n){return Array.from(n).map(e=>e.charCodeAt(0))}function MIe(n){return n===63||n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=55296&&n<=56319||n>=56320&&n<=57343}function DIe(n){return RIe.includes(n)}function NIe(n){return n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}function IIe(n){return Ese.includes(n)}function oY(n,e){return e.concat(n.split(/\n/g).join(`
`+e))}function FIe(n,e=0){const t=n.peek(e);return t===iY&&n.peek(e+1)===iY?{offset:2,token:"**"}:DIe(t)?{offset:1,token:String.fromCharCode(t)}:null}function bI(n,e=0,t=!1){for(let r=!1,i=[],o=0;;o++){const a=n.peek(e+o);if(MIe(a)||(r||t)&&NIe(a))r||(r=!0),i.push(a);else return i.length?{token:String.fromCharCode(...i),offset:o}:null}}function kse(n,e){for(let t=!1,r=0;;r++){let i=n.peek(e+r);if(IIe(i))t||(t=!0);else return t?{token:" ",offset:r}:null}}function LIe(n,e){const t=e.contextKeys(),r=e.tokens;for(let i=0,o=[],a=null;;){const c=r.length+o.length>0,u=o.length>0,h=bI(n,i,c)||c&&FIe(n,i)||u&&kse(n,i);if(!h)return a;const{token:m,offset:y}=h;if(i+=y,m===" ")continue;o=[...o,m];const w=[...r,...o].join(" ");if(t.some(S=>S===w)){const S=o[0];a={token:S,offset:S.length,term:gse}}if(!t.some(S=>S.startsWith(w))){if(sY.some(S=>S===w)){const S=o[0];a={token:S,offset:S.length,term:Y9}}if(!sY.some(S=>S.startsWith(w)))return a}}}const $Ie={[Y9]:"identifier",[gse]:"nameIdentifier"},jIe=new Aw((n,e)=>{K9&&console.log("%s: T <identifier | nameIdentifier>",n.pos);const t=LIe(n,e.context),r=e.context.tokens,i=t||bI(n,0,r.length>0);i&&(n.advance(i.offset),n.acceptToken(t?t.term:Y9),Q9&&console.log("%s: MATCH <%s> <%s>",n.pos,t?$Ie[t.term]:"identifier",i.token))},{contextual:!0}),BIe=new Aw((n,e)=>{K9&&console.log("%s: T <propertyIdentifier>",n.pos);const t=e.context.tokens,r=bI(n,0,t.length>0);r&&(n.advance(r.offset),n.acceptToken(QNe),Q9&&console.log("%s: MATCH <propertyIdentifier> <%s>",n.pos,r.token))}),VIe=new Aw((n,e)=>{K9&&console.log("%s: T <insertSemi>",n.pos);let t,r=!1;for(t=0;;t++){const i=n.peek(t);if(!Ese.includes(i)){AIe.includes(i)&&(r=!0);break}}if(r){const i=bI(n,t+1);if(kse(n,t+1)||i&&/^(then|else|return|satisfies)$/.test(i.token))return;Q9&&console.log("%s: MATCH <insertSemi>",n.pos),n.acceptToken(KNe)}}),zIe={[gIe]:"FunctionInvocation",[xse]:"FilterExpression",[yse]:"PathExpression"},HIe={[CIe]:"Context",[SIe]:"FunctionDefinition",[ZNe]:"ForExpression",[_Ie]:"List",[iIe]:"IfExpression",[sIe]:"QuantifiedExpression"},WIe={[kIe]:"Context",[EIe]:"FunctionDefinition",[XNe]:"ForExpression",[_se]:"List",[vse]:"IfExpression",[oIe]:"QuantifiedExpression",[mIe]:"PathExpression",[wse]:"FunctionInvocation",[bse]:"FilterExpression",[cIe]:"ArithmeticExpression"};class Qx{constructor(e){this.fn=e}get(e){return this.fn(e)}static of(e){return new Qx(e)}}const qIe={"date and time":1,date:1,time:1,duration:1},sY=Object.keys(qIe);class UIe{constructor(e={}){this.value=e}getKeys(){return Object.keys(this.value)}get(e){const t=this.value[e],r=this.constructor;return r.isAtomic(t)?t:r.of(t)}set(e,t){return this.constructor.of({...this.value,[e]:t})}merge(e){const t=this.constructor;return new t(t.__merge(this.value,e))}static isAtomic(e){return!e||e instanceof this||e instanceof Qx||typeof e!="object"}static of(...e){return e.reduce((t,r)=>t.merge(r),new this({}))}static __unwrap(e){return e?e instanceof this?e.value:typeof e!="object"?{}:{...e}:{}}static __merge(e,t){return hie(this.__unwrap(t),(r,i,o)=>i instanceof Qx?{...r,[o]:i}:(i=this.__unwrap(i),S9(r,o)&&(i=this.__merge(this.__unwrap(r[o]),i)),{...r,[o]:i}),this.__unwrap(e))}}class jk{constructor({name:e="Expressions",tokens:t=[],children:r=[],parent:i=null,context:o,value:a,raw:c}){this.name=e,this.tokens=t,this.children=r,this.parent=i,this.context=o,this.value=a,this.raw=c}enterScope(e){const t=this.of({name:e,parent:this});return Oh&&console.log("[%s] enter",t.path,t.context),t}exitScope(e){return this.parent?(Oh&&console.log(`[%s] exit %o
%s`,this.path,this.context,oY(e,"  ")),this.parent.pushChild(this)):(Oh&&console.log(`[%s] NO exit %o
%s`,this.path,this.context,oY(e,"  ")),this)}token(e){return Oh&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),e),this.assign({tokens:[...this.tokens,e]})}literal(e){return Oh&&console.log("[%s] literal %o",this.path,e),this.pushChild(this.of({name:"Literal",value:e}))}computedValue(){for(let e=this;;e=T1(e.children)){if(!e)return null;if(e.value)return e.value}}contextKeys(){return this.context.getKeys().map(sg)}get path(){var e,t;return((t=(e=this.parent)==null?void 0:e.path)==null?void 0:t.concat(" > ",this.name))||this.name}get(e){const t=[e,e&&sg(e)],r=this.context.getKeys().find(o=>t.includes(sg(o)));if(typeof r>"u")return;const i=this.context.get(r);return i instanceof Qx?i.get(this):i}resolveName(){const e=this.tokens.join(" "),t=[],r=this.assign({tokens:t}),i=this.of({name:"VariableName",parent:r,value:this.get(e),raw:e});return Oh&&console.log("[%s] resolve name <%s=%s>",i.path,e,this.get(e)),r.pushChild(i)}pushChild(e){if(!e)return this;const t=this.assign({children:[...this.children,e]});return e.parent=t,t}pushChildren(e){let t=this;for(const r of e)t=t.pushChild(r);return t}declareName(){if(this.tokens.length===0)throw Error("no tokens to declare name");const e=this.tokens.join(" ");return Oh&&console.log("[%s] declareName <%s>",this.path,e),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:e}))}define(e,t){if(typeof e!="string")return Oh&&console.log("[%s] no define <%s=%s>",this.path,e,t),this;Oh&&console.log("[%s] define <%s=%s>",this.path,e,t);const r=this.context.set(e,t);return this.assign({context:r})}assign(e={}){return jk.of({...this,...e})}of(e={}){const t={context:this.context,parent:this.parent};return jk.of({...t,...e})}static of(e){const{name:t,tokens:r=[],children:i=[],parent:o=null,context:a,value:c,raw:u}=e;if(!a)throw new Error("must provide <context>");return new jk({name:t,tokens:[...r],children:[...i],context:a,parent:o,value:c,raw:u})}}function sg(n){return n.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function aY(n,e,t){const r=n.children.filter(h=>h.name!==e),i=n.children.filter(h=>h.name===e),o=r[0],a=r[Math.max(1,r.length-1)],c=o==null?void 0:o.computedValue(),u=(a==null?void 0:a.computedValue())||null;return n.assign({children:i}).enterScope(e).pushChildren(r).exitScope(t).define(c,u)}function Rw(n={},e=UIe){const t=jk.of({context:e.of(n)});return new jNe({start:t,reduce(r,i,o,a){if(i===vse){const[y,w]=r.children.slice(-2);r=r.assign({value:e.of(y==null?void 0:y.computedValue(),w==null?void 0:w.computedValue())})}if(i===_se&&(r=r.assign({value:e.of(...r.children.map(y=>y==null?void 0:y.computedValue()))})),i===bse){const[y,w]=r.children.slice(-2);r=r.assign({value:y==null?void 0:y.computedValue()})}if(i===wse){const[y,...w]=r.children;(y==null?void 0:y.raw)==="get value"&&(r=YIe(r,w))}const c=HIe[i];if(c)return r.enterScope(c);const u=zIe[i];if(u){const{children:y,context:w}=r,S=y.slice(0,-1),T=T1(y);let O=null;return i===yse&&(O=e.of(T==null?void 0:T.computedValue())),i===xse&&(O=e.of(w,T==null?void 0:T.computedValue()).set("item",T==null?void 0:T.computedValue())),r.assign({children:S}).enterScope(u).pushChild(T).assign({context:O||w})}const h=a.read(a.pos,o.pos);if(WIe[i])return r.exitScope(h);if(i===OIe){const y=r.children.filter(T=>T.name!=="ContextEntry"),w=y[0],S=T1(y);return aY(r,"ContextEntry",h).assign({value:e.of(r.value).set(w==null?void 0:w.computedValue(),S==null?void 0:S.computedValue())})}if(i===JNe||i===aIe)return aY(r,"InExpression",h);if(i===rIe)return r.define("partial",Qx.of(y=>{var w;return(w=T1(y.children))==null?void 0:w.computedValue()}));if(i===vIe){const y=T1(r.children).computedValue();return r.define(y,1)}if(i===uIe||i===dIe||i===fIe){const y=r.children.slice(0,-1),w=T1(r.children);return r.assign({children:y}).enterScope("ArithmeticExpression").pushChild(w)}if(i===hIe)return r.enterScope("ArithmeticExpression");if(i===tIe||i===nIe||i===PIe)return r.token(h);if(i===xIe)return r.literal(h.replace(/^"|"$/g,""));if(i===wIe)return r.literal(h==="true");if(i===bIe)return r.literal(parseFloat(h));if(i===yIe)return r.literal(null);if(i===pIe)return r.resolveName();if(i===eIe||i===TIe)return r.declareName();if((i===rY||i===lIe)&&r.tokens.length>0)throw new Error("uncleared name");if(i===rY){let y=r;for(;y.parent;)y=y.exitScope(h);return y}return r}})}const GIe=Rw({});function YIe(n,e){if(!e.length)return n.assign({value:null});if(e[0].name==="Name"&&(e=QIe(e,["m","key"])),e.length!==2)return n.assign({value:null});const[t,r]=e,i=r==null?void 0:r.computedValue(),o=t==null?void 0:t.computedValue();return!o||typeof o!="object"||typeof i!="string"?n.assign({value:null}):n.assign({value:[sg(i),i].reduce((a,c)=>o.get(c)||a,null)})}function QIe(n,e){const t={};for(let r=0;r<n.length;r+=2){const[i,o]=n.slice(r,r+2);t[i.value]=o}return e.map(r=>t[r])}function T1(n){return n[n.length-1]}const KIe=D2({StringLiteral:ue.string,NumericLiteral:ue.number,BooleanLiteral:ue.bool,"AtLiteral!":ue.special(ue.string),CompareOp:ue.compareOperator,ArithOp:ue.arithmeticOperator,"for if then else some every satisfies between return":ue.controlKeyword,"in instance of and or":ue.operatorKeyword,function:ue.definitionKeyword,as:ue.keyword,"Type/...":ue.typeName,Wildcard:ue.special(ue.variableName),null:ue.null,LineComment:ue.lineComment,BlockComment:ue.blockComment,'VariableName! "?"':ue.variableName,"DateTimeConstructor! SpecialFunctionName!":ue.function(ue.special(ue.variableName)),"List Interval":ue.list,Context:ue.definition(ue.literal),"Name!":ue.definition(ue.variableName),"Key/Name! ContextEntryType/Name!":ue.definition(ue.propertyName),"PathExpression/VariableName!":ue.function(ue.propertyName),"FormalParameter/ParameterName!":ue.function(ue.definition(ue.variableName)),"( )":ue.paren,"[ ]":ue.squareBracket,"{ }":ue.brace,".":ue.derefOperator,", ;":ue.separator,"..":ue.punctuation}),XIe={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:101,time:103,duration:105,years:107,months:109,date:111,list:117,context:123,function:130,null:156,true:330,false:330,"?":170,external:186,not:211},Mw=zC.deserialize({version:14,states:"C|O`QYOOO`QYOOO$sQYOOOOQU'#Ce'#CeO$}QYO'#C`O&WQYO'#FQOOQQ'#Ff'#FfO&bQYO'#FfO`QYO'#DVOOQU'#En'#EnO(UQ^O'#D]OOQU'#D^'#D^OOQU'#D]'#D]OOQO'#Fn'#FnO*RQWO'#DvOOQQ'#D}'#D}OOQQ'#EO'#EOOOQQ'#EP'#EPO*WOWO'#ESO*RQWO'#EQOOQQ'#EQ'#EQOOQQ'#Ft'#FtOOQQ'#Fr'#FrOOQQ'#Fy'#FyOOQQ'#EU'#EUO`QYO'#EWOOQQ'#FS'#FSO*]Q^O'#FSO,SQYO'#EXO,ZQWO'#EYOOQP'#F}'#F}O,`QXO'#EaOOQQ'#Fz'#FzOOQQ'#FR'#FRQOQWOOOOQQ'#FT'#FTOOQQ'#F^'#F^O`QYO'#CoOOQQ'#F_'#F_O$}QYO'#CsO,kQYO'#DwOOQQ'#Fs'#FsO,pQYO'#EROOQO'#ER'#ERO`QYO'#EVO`QYO'#EUOOQO'#F{'#F{Q,xQWOOO,}QYO'#DRO-tQWO'#FbOOQO'#DT'#DTO.PQYO'#FfO.WQWOOO.}QYO'#CdO/[QYO'#FVOOQQ'#Cc'#CcO/aQYO'#FUOOQQ'#Cb'#CbO/iQYO,58zO`QYO,59iOOQQ'#Fc'#FcOOQQ'#Fd'#FdOOQQ'#Fe'#FeO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fl'#FlO/nQYO,5:^OOQQ'#Fm'#FmO`QYO,5:`O`QYO,59eO`QYO,59gO`QYO,59iO1jQYO,59iO1qQYO,59rOOQQ,5:i,5:iO1vQYO,59qOOQU-E8l-E8lO3jQYO'#FoOOQQ,5:b,5:bOOQQ,5:n,5:nOOQQ,5:l,5:lO3qQYO,5:rOOQQ,5;n,5;nO3{QYO,5:qO4YQWO,5:sO4_QYO,5:tOOQP'#Ee'#EeO5UQXO'#EdOOQO'#Ec'#EcO5]QWO'#EbO5bQWO'#GOO5jQWO,5:{O5oQYO,59ZO/[QYO'#FaOOQQ'#Cw'#CwO5vQYO'#F`OOQQ'#Cv'#CvO6OQYO,59_O6TQYO,5:cO6YQYO,5:mO3tQYO,5:qO6_QYO,5:pO`QYO'#EwQ,xQWOOO`QYO'#EmO7UQWO,5;|O`QYOOOOQR'#Cf'#CfOOQQ'#Ej'#EjO8OQYO,59OO`QYO,5;qOOQQ'#FY'#FYO$}QYO'#EkO8`QYO,5;pO`QYO1G.fOOQQ'#F]'#F]O9VQYO1G/TO;|QYO1G/]O<WQYO1G/]O<bQYO1G/]OOQQ1G/x1G/xO>UQYO1G/zO>]QYO1G/PO?fQYO1G/RO@oQYO1G/TO`QYO1G/TOOQQ1G/T1G/TOAVQYO1G/^OAtQ^O'#CdOCWQYO'#FqOOQO'#Dz'#DzOCbQWO'#DyOCgQWO'#FpOOQO'#Dx'#DxOOQO'#D{'#D{OCoQWO,5<ZOOQQ1G0^1G0^O`QYO1G0]O`QYO'#EsOCtQWO,5<]OOQQ1G0_1G0_ODPQWO'#E[OD[QWO'#F|OOQO'#EZ'#EZODdQWO1G0`OOQP'#Eu'#EuODiQXO,5;OO`QYO,5:|ODpQXO'#EvODxQWO,5<jOOQQ1G0g1G0gO`QYO1G.uO`QYO,5;{O$}QYO'#ElOEQQYO,5;zO`QYO1G.yOEYQYO1G/}OOQO1G0X1G0XOOQO,5;c,5;cOOQO-E8u-E8uOOQO,5;X,5;XOOQO-E8k-E8kOE_QWOOOOQQ-E8h-E8hOEdQYO'#CmOOQQ1G1]1G1]OOQQ,5;V,5;VOOQQ-E8i-E8iOEqQYO7+$QOOQQ7+%f7+%fO`QYO7+$oOFhQYO,5:rOFuQWO7+$oOFzQYO'#D[OOQQ'#DZ'#DZOHnQYO'#D_OHsQYO'#D_OHxQYO'#D_OH}Q`O'#DgOISQ`O'#DjOIXQ`O'#DnOOQQ7+$x7+$xO`QYO,5:eO$}QYO'#ErOI^QWO,5<[OOQQ1G1u1G1uOJdQYO7+%wOJqQYO,5;_OOQO-E8q-E8qOAVQYO,5:vO$}QYO'#EtOKOQWO,5<hOKWQYO7+%zOOQP-E8s-E8sOK_QYO1G0hOOQO,5;b,5;bOOQO-E8t-E8tOKiQYO7+$aOKpQYO1G1gOOQQ,5;W,5;WOOQQ-E8j-E8jOKzQYO7+$eOOQO7+%i7+%iO`QYO,59XOLqQYO<<HZOOQQ<<HZ<<HZO/nQYO'#EoOMzQYO,59vO! nQYO,59yO! sQYO,59yO! xQYO,59yO! }QYO,5:RO$}QYO,5:UO!!lQbO,5:YO!!sQYO1G0POOQO,5;^,5;^OOQO-E8p-E8pO!!}QYO<<IcOOQQ<<Ic<<IcOOQO1G0b1G0bOOQO,5;`,5;`OOQO-E8r-E8rO!%|QYO'#E^OOQQ<<If<<IfO`QYO<<IfO`QYO<<G{O!&sQYO1G.sOOQQ,5;Z,5;ZOOQQ-E8m-E8mO!&}QYO1G/eOOQQ1G/e1G/eO!'SQbO'#D]O!'eQ`O'#D[O!'pQ`O1G/mO!'uQWO'#DmO!'zQ`O'#FhOOQO'#Dl'#DlO!(SQ`O1G/pOOQO'#Dq'#DqO!(XQ`O'#FjOOQO'#Dp'#DpO!(aQ`O1G/tOOQQAN?QAN?QO!(fQYOAN=gOOQQ7+%P7+%PO!)]Q`O,59vOOQQ7+%X7+%XO! }QYO,5:XO$}QYO'#EpO!)hQ`O,5<SOOQQ7+%[7+%[O! }QYO'#EqO!)pQ`O,5<UO!)xQ`O7+%`OOQO1G/s1G/sOOQO,5;[,5;[OOQO-E8n-E8nOOQO,5;],5;]OOQO-E8o-E8oOAVQYO<<HzOOQQAN>fAN>fO/nQYO'#EoO! }QYO<<HzO!)}Q`O7+%`O!*SQ`O1G/tO!!lQbO,5:YO!*XQ`O'#Dn",stateData:"!*h~O#rOS#sOSPOSQOS~OTsOZVO[UOdtOhvOivOr}Os}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OTsO[UOdtOhvOivOr}Os}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OZ!TO#]!UO~P#SO#nRO#oRO~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO!i!fO#z!dOv$bX~O#l#tX$s#tX~P%VO$i!mOT$YXZ$YX[$YXd$YXh$YXi$YXr$YXs$YXv$YX!T$YX!U$YX!V$YX!X$YX!c$YX!g$YX!i$YX!p$YX!w$YX#S$YX#n$YX#o$YX$Z$YX$j$YX$k$YX$l$YX~O#nRO#oROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!i!PX#l!PX#p!PX#z!PX$s!PX$O!PXx!PX#}!PX!g!PXe!PXb!PX#R!PXf!PXl!PX~Ov!pO~O$j`O~O#p!uOZ#vX[#vX]#vX^#vX_#vX`#vXn#vXp#vXr#vXs#vXt#vXv#vX{#vX!i#vX#l#vX#z#vX$s#vX$O#vXx#vX#}#vX!g#vXe#vXb#vX#R#vXf#vXl#vX~O!g$eP~P`Ov!xO~O#m!yO$j`O#R$rP~Op#VO~Op#WOv!uX~O$s#ZO~O#luX$OuX$suXxuX#}uX!guXeuXbuX#RuXfuXluX~P%VO$O#]O#l$UXx$UX~O#l#[X~P&bOv#_O~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O$]WX~O`WXxWX$OWX~P.]O`#dO~O$O#eOb#xX~Ob#hO~O#nRO#oRO$ZZO~OTsOZVO[UOdtOhvOivOr}Os}O!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~Ov#rO~P/yO|#tO~O{!lO!i!fO#z!dOZya[ya]ya^ya_ya`yanyapyaryasyatyav$bX#lya$sya$Oyaxya#}ya!gyaeyabya#Ryafyalya~Ox$eP~P`Ox#}O#}$OO~P%VO#}$OO$O$PO!g$eX~P%VO!g$RO~O#nRO#oROx$pP~OZ#`O[#`O]#`O^#`O_#`O#m!yO#z#`O#{#`O~O$]#WX~P4jO$]$YO~O$O$ZO#R$rX~O#R$]O~Oe$^O~P%VO$O$`Ol$SX~Ol$bO~O!W$cO~O!T$dO~O#l!xa$s!xa$O!xax!xa#}!xa!g!xae!xab!xa#R!xaf!xal!xa~P%VO$O#]O#l$Uax$Ua~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O~O`Wa$]WaxWa$OWa~P7aO$O#eOb#xa~OZ!^O[!^O]!_O^!_O_!`O{!lO!i!fO#z!dOv$bX~O`qinqipqirqisqitqi#lqi$sqi$Oqixqi#}qi!gqieqibqi#Rqifqilqi~P8hO_!`O{!lO!i!fO#z!dOZyi[yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O]!_O^!_O~P:`O]yi^yi~P:`O{!lO!i!fO#z!dOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O!g$pO~P%VO`!kOp!iOr!]Os!]Ot!jOnmi#lmi$smi$Omixmi#}mi!gmiemibmi#Rmifmilmi~P8hO`!kOr!]Os!]Ot!jOnoipoi#loi$soi$Ooixoi#}oi!goieoiboi#Roifoiloi~P8hO`!kOn!hOp$qOr!]Os!]Ot!jO~P8hO!S$vO!V$wO!X$xO![$yO!_$zO!c${O#nRO#oRO$ZZO~OZ#bX[#bX]#bX^#bX_#bX`#bXn#bXp#bXr#bXs#bXt#bXv#bXx#bX{#bX!i#bX#n#bX#o#bX#p#bX#z#bX$O#bX~P.]O$O$POx$eX~P%VO$]$}O~O$O%OOx$dX~Ox%QO~O$O$PO!g$eax$ea~O$]%UOx#OX$O#OX~O$O%VOx$pX~Ox%XO~O$]#Wa~P4jO#m!yO$j`O~O$O$ZO#R$ra~O$O$`Ol$Sa~O!U%cO~OxrO~O#}%dObaX$OaX~P%VO#lSq$sSq$OSqxSq#}Sq!gSqeSqbSq#RSqfSqlSq~P%VOx#}O#}$OO$OuX~P%VOx%fO~O#z%gOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!i!OX#l!OX$s!OX$O!OXx!OX#}!OX!g!OXe!OXb!OX#R!OXf!OXl!OX~Op%iO~Op%jO~Op%kO~O!]%lO~O!]%mO~O!]%nO~O$O%OOx$da~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO#z!dOv$bX~Ox%sO!g%sO!i%rO~PIfO!g#ga$O#gax#ga~P%VO$O%VOx$pa~O#P%yO~P`O#R#Ui$O#Ui~P%VOf%zO~P%VOl$Ti$O$Ti~P%VO#lgq$sgq$Ogqxgq#}gq!ggqegqbgq#Rgqfgqlgq~P%VO`qynqypqyrqysqytqy#lqy$sqy$Oqyxqy#}qy!gqyeqybqy#Rqyfqylqy~P8hO#z%gOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!i!Oa#l!Oa$s!Oa$O!Oax!Oa#}!Oa!g!Oae!Oab!Oa#R!Oaf!Oal!Oa~O!T&OO~O!W&OO~O!T&PO~O!S$vO!V$wO!X$xO![$yO!_$zO!c&uO#nRO#oRO$ZZO~O!Y$^P~P! }Ox!mi$O!mi~P%VOT$aXZ$aX[$aX]!yy^!yy_!yy`!yyd$aXh$aXi$aXn!yyp!yyr$aXs$aXt!yyv$aX{!yy!T$aX!U$aX!V$aX!X$aX!c$aX!g$aX!i$aX!p$aX!w$aX#S$aX#l!yy#n$aX#o$aX#z!yy$Z$aX$i$aX$j$aX$k$aX$l$aX$s!yy$O!yyx!yy#}!yye!yyb!yy#R!yyf!yyl!yy~O#l#QX$s#QX$O#QXx#QX#}#QX!g#QXe#QXb#QX#R#QXf#QXl#QX~P%VObai$Oai~P%VO!U&_O~O#nRO#oRO!Y!PX#z!PX$O!PX~O#z&pO!Y!OX$O!OX~O!Y&aO~O$]&bO~O$O&cO!Y$[X~O!Y&eO~O$O&fO!Y$^X~O!Y&hO~O#lc!R$sc!R$Oc!Rxc!R#}c!R!gc!Rec!Rbc!R#Rc!Rfc!Rlc!R~P%VO#z&pO!Y!Oa$O!Oa~O$O&cO!Y$[a~O$O&fO!Y$^a~O$_&nO~O$_&qO~O!Y&rO~O!]&tO~O$Z~QP_^$i]#z~",goto:"E|$sPPPP$tP%m%p%v&Y'sPPPPPP'|P$tPPP$tPP(P(SP$tP$tP$tPPP(YP(eP$t$tPP(n)T)`*m)TPPPPPPP)TPP)TP+r+u)TP+{,R$tP$tP$t,Y-R-U-[-RP-d.]-d-d/]0UP$t0}$t1v1v2o2rP2xPP1v3O3U/X3YPP3bP3e3l3r3x4O5Z5e5k5q5w6O6U6[6bPPPPPPPP6h6q8x9q:j:mPP:qPP:w:z;s<l<o<s<x=g>V>vP?oP?rP?v@iA[BTBZB^$tBdBdPPPPC]8xDUD}EQEy!mjOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR![SQ!YSR$m#eS!WS#eS#Qw$`W#w!p!x%O%VT&T%m&c#WXOPQWYilu|}!]!a!b!c!e!g!h!i!j!k#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&Q&b&f&n&p&q&tb!VSw!x#e$`%O%V%m&cU#a!V#b#uR#u!pU#a!V#b#uT$W!z$XR$l#cR#UwQ#SwR%`$`U!RQ#_#rQ#s!kR$g#]QrQQ$i#_R$s#rQ$|#tQ%t%UQ&S%lU&X%n&f&tQ&i&bT&o&n&qc$u#t%U%l%n&b&f&n&q&t!lkOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ#m!eU$t#t%U&nS%|%g&p]&R%l%n&b&f&q&t#V[OPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&b&f&n&p&q&tR&W%mQ&U%mR&j&cQ&[%nR&s&tS&Y%n&tR&l&f!m]OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#|!pQ#y!pR%p%OS#x!p%OT$S!x%V!meOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!leOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!rbT!{o$Z!mcOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mdOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mhOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mpOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$V!xQ$T!xR%u%VQ%x%XR&]%yQ!}oR%[$ZT!|o$ZS!zo$ZT$W!z$XRrQS#b!V#uR$j#bQ#f!YR$n#fQ$a#SR%a$aQ#^!RR$h#^!vYOPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%y%z&nS!oY&Q_&Q%l%n&b&f&p&q&tQ%h$tS%}%h&`R&`&RQ&d&UR&k&dQ&g&YR&m&gQ%P#yR%q%PS$Q!v#vR%T$QQ%W$TR%v%WQ$X!zR%Y$XQ$[!}R%]$[Q#[!PR$f#[QrOQ!PPR$e#ZUTOP#ZW!QQ!k#]#_Q!nWQ!tiQ!vlQ#PuQ#X|Q#Y}Q#i!]Q#j!aQ#k!bQ#l!cQ#n!gQ#o!hQ#p!iQ#q!jQ#v!pQ$k#cQ$o#gQ$r#rQ%R$OQ%S$PQ%Z$YQ%^$^Q%_$_Q%b$bQ%e$qQ%o$}S%w%X%yQ%{%dR&^%z!mqOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mSOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR!ZST!XS#eQ#c!WR$_#QR#g![!muOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mwOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#TwT#Rw$`V!SQ#_#r!X!aT!Q!t!v#P#X#Y#i#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!Z!bT!Q!t!v#P#X#Y#i#j#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!]!cT!Q!t!v#P#X#Y#i#j#k#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!mWOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR&V%mT&Z%n&t!a!eT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!a!gT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!m^OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!q^R!scR#z!pQ!wlR#{!p!mfOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mlOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mmOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$U!x!moOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#Oo",nodeNames:" LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName BacktickIdentifier SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:173,context:GIe,nodeProps:[["group",-17,4,19,23,29,31,33,41,42,68,70,72,85,86,88,89,90,97,"Expr",47,"Expr Expr",-5,78,79,80,81,82,"Expr Literal"],["closedBy",38,")",71,"]",96,"}"],["openedBy",40,"(",69,"[",95,"{"]],propSources:[KIe],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:".Z~RvXY#iYZ$^Z[#i]^$^pq#iqr$crs$nwx&fxy&kyz&pz{&u{|'S|}'X}!O'^!O!P'k!P!Q(u!Q![*p![!]+X!]!^+^!^!_+c!_!`$i!`!a+r!b!c+|!}#O,R#P#Q,W#Q#R&}#S#T,]#o#p.P#q#r.U$f$g#i#BY#BZ#i$IS$I_#i$I|$I}$^$I}$JO$^$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~#nY#r~XY#iZ[#ipq#i$f$g#i#BY#BZ#i$IS$I_#i$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~$cO#s~~$fP!_!`$i~$nOr~~$sW$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`<%lO$n~%bO$j~~%eRO;'S$n;'S;=`%n;=`O$n~%sX$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`;=`<%l$n<%lO$n~&cP;=`<%l$n~&kO#{~~&pOv~~&uOx~~&zP^~z{&}~'SO_~~'XO[~~'^O$O~R'cPZP!`!a'fQ'kO$_Q~'pQ#z~!O!P'v!Q!['{~'{O#}~~(QR$i~!Q!['{!g!h(Z#X#Y(Z~(^R{|(g}!O(g!Q![(m~(jP!Q![(m~(rP$i~!Q![(m~(zQ]~z{)Q!P!Q*X~)TTOz)Qz{)d{;'S)Q;'S;=`*R<%lO)Q~)gVOz)Qz{)d{!P)Q!P!Q)|!Q;'S)Q;'S;=`*R<%lO)Q~*ROQ~~*UP;=`<%l)Q~*^SP~OY*XZ;'S*X;'S;=`*j<%lO*X~*mP;=`<%l*X~*uS$i~!O!P+R!Q![*p!g!h(Z#X#Y(Z~+UP!Q!['{~+^O$]~~+cO$s~R+jP!]QsP!_!`+mP+rOsPR+yP!YQsP!_!`+m~,RO$l~~,WO!i~~,]O!g~~,`WOY,]Z#O,]#O#P,x#P#S,]#S#T-t#T;'S,];'S;=`-y<%lO,]~,{RO;'S,];'S;=`-U;=`O,]~-XXOY,]Z#O,]#O#P,x#P#S,]#S#T-t#T;'S,];'S;=`-y;=`<%l,]<%lO,]~-yO$Z~~-|P;=`<%l,]~.UO#S~~.ZO#R~",tokenizers:[BIe,jIe,VIe,0,1],topRules:{Expression:[0,3],Expressions:[1,102],UnaryTests:[2,103]},dialects:{camunda:2544},dynamicPrecedences:{31:-1,68:1,72:-1,74:-1},specialized:[{term:122,get:n=>XIe[n]||-1}],tokenPrec:2546});function ZIe(n){return Object.getPrototypeOf(n)===Object.prototype}function fc(n){return _n.isDateTime(n)}function nd(n){return rr.isDuration(n)}function hd(n){return Array.isArray(n)}function JIe(n){return typeof n=="boolean"}function gs(n){return n==null?"nil":JIe(n)?"boolean":Nh(n)?"number":gy(n)?"string":ZIe(n)?"context":hd(n)?"list":nd(n)?"duration":fc(n)?n.year===1900&&n.month===1&&n.day===1?"time":n.hour===0&&n.minute===0&&n.second===0&&n.millisecond===0&&n.zone===ys.utcInstance?"date":"date time":n instanceof mc?"range":n instanceof xM?"function":"literal"}function Sj(n,e){return gs(n)===e}function e3e(n,e){if(fc(n)){if(e==="time")return n.set({year:1900,month:1,day:1});if(e==="date")return n.setZone("utc",{keepLocalTime:!0}).startOf("day");if(e==="date time")return n}return null}let mc=class{constructor(e){Object.assign(this,e)}};function Nh(n){return typeof n=="number"}function gy(n){return typeof n=="string"}function ag(n,e,t=!1){if(n===null&&e!==null||n!==null&&e===null)return!1;hd(n)&&n.length<2&&(n=n[0]),hd(e)&&e.length<2&&(e=e[0]);const r=gs(n),i=gs(e),o=["date time","time","date"];if(o.includes(r))return!o.includes(i)||r==="time"&&i!=="time"||i==="time"&&r!=="time"?null:t||n.zone===Il.instance||e.zone===Il.instance?n.equals(e):n.toUTC().valueOf()===e.toUTC().valueOf();if(r!==i)return null;if(r==="nil")return!0;if(r==="list")return n.length!==e.length?!1:n.every((a,c)=>ag(a,e[c]));if(r==="duration")return Math.abs(n.as("days"))>180?Math.trunc(n.minus(e).as("months"))===0:Math.trunc(n.minus(e).as("seconds"))===0;if(r==="context"){const a=Object.entries(n),c=Object.entries(e);return a.length!==c.length?!1:a.every(([u,h])=>u in e&&ag(h,e[u]))}return r==="range"?[[n.start,e.start],[n.end,e.end],[n["start included"],e["start included"]],[n["end included"],e["end included"]]].every(([a,c])=>a===c):n==e?!0:r===i?!1:null}let xM=class{constructor(e,t){this.fn=e,this.parameterNames=t}invoke(e){let t;if(hd(e)){if(t=e,t.length>this.parameterNames.length){const r=this.parameterNames[this.parameterNames.length-1];if(!r||!r.startsWith("..."))return null}}else{if(Object.keys(e).some(r=>!this.parameterNames.includes(r)&&!this.parameterNames.includes(`...${r}`)))return null;t=this.parameterNames.reduce((r,i)=>{if(i.startsWith("...")){i=i.slice(3);const o=e[i];return o?[...r,...hd(o)?o:[o]]:r}return[...r,e[i]]},[])}return this.fn.call(null,...t)}};function X9(n){if(Array.isArray(n.$args))return n.$args;const e=n.toString(),t=/^(?:[^(]*\s*)?\(([^)]+)?\)/.exec(e);if(!t)throw new Error("failed to parse params: "+e);const[r,i]=t;return i?i.split(",").map(o=>o.trim()):[]}function Ms(n){return new Error(`not implemented: ${n}`)}function t3e(n){return/^not implemented/.test(n.message)}function BD(n,e){if(["nil","boolean","number","string"].includes(gs(e)))return;if(n in e)return e[n];const t=sg(n);if(t in e)return e[t];const r=Object.entries(e).find(([i])=>t===sg(i));if(r)return r[1]}function lY(n){return typeof n=="number"?rr.fromMillis(n):rr.fromISO(n)}function nu(n=null,e=null,t=null){if(e){if(n)throw new Error("<str> and <time> provided");return nu(`1900-01-01T${e}`,null)}if(typeof n=="string"){if(n.startsWith("-"))throw Ms("negative date");if(!n.includes("T"))return nu(n+"T00:00:00",null,t||ys.utcInstance);if(n.includes("@")){if(t)throw new Error("<zone> already provided");const[r,i]=n.split("@");return nu(r,null,W1.normalizeZone(i))}return _n.fromISO(n.toUpperCase(),{setZone:!0,zone:t})}return _n.now()}const n3e={number:Lt(function(n,e,t){if(arguments.length!==3)return null;e&&(n=n.split(e).join("")),t&&t!=="."&&(n=n.split(".").join("#").split(t).join("."));const r=+n;return isNaN(r)?null:r},["string","string?","string?"],["from","grouping separator","decimal separator"]),string:Lt(function(n){return n===null?null:Z9(n)},["any"]),date:Lt(function(n,e,t,r){!r&&!Nh(n)&&(r=n,n=null);let i;if(gy(r)&&(i=nu(r)),fc(r)&&(i=r),n){if(!Nh(e)||!Nh(t))return null;i=nu().setZone("utc").set({year:n,month:e,day:t})}return i&&x1(i.setZone("utc").startOf("day"))||null},["any?","number?","number?","any?"]),"date and time":Lt(function(n,e,t){let r;if(fc(n)&&fc(e)){const i=n.toLocal();r=e.set({year:i.year,month:i.month,day:i.day})}return gy(n)&&(t=n,n=null),gy(t)&&(r=nu(t,null,t.includes("@")?null:Il.instance)),r&&x1(r)||null},["any?","time?","string?"],["date","time","from"]),time:Lt(function(n,e,t,r,i){let o;if(r)throw Ms("time(..., offset)");if((gy(n)||fc(n))&&(i=n,n=null),gy(i)&&i&&(o=nu(null,i)),fc(i)&&(o=i.set({year:1900,month:1,day:1})),Nh(n)){if(!Nh(e)||!Nh(t))return null;o=nu().set({hour:n,minute:e,second:t}).set({year:1900,month:1,day:1,millisecond:0})}return o&&x1(o)||null},["any?","number?","number?","any?","any?"]),duration:Lt(function(n){return x1(lY(n))},["string"]),"years and months duration":Lt(function(n,e){return x1(e.diff(n,["years","months"]))},["date","date"]),"@":Lt(function(n){let e;return/^-?P/.test(n)?e=lY(n):/^[\d]{1,2}:[\d]{1,2}:[\d]{1,2}/.test(n)?e=nu(null,n):e=nu(n),e&&x1(e)||null},["string"]),now:Lt(function(){return nu()},[]),today:Lt(function(){return nu().startOf("day")},[]),not:Lt(function(n){return Sj(n,"boolean")?!n:null},["any"]),substring:Lt(function(n,e,t){const r=e<0?n.length+e:e-1,i=Array.from(n);return(typeof t<"u"?i.slice(r,r+t):i.slice(r)).join("")},["string","number","number?"],["string","start position","length"]),"string length":Lt(function(n){return s3e(n)},["string"]),"upper case":Lt(function(n){return n.toUpperCase()},["string"]),"lower case":Lt(function(n){return n.toLowerCase()},["string"]),"substring before":Lt(function(n,e){const t=n.indexOf(e);return t===-1?"":n.substring(0,t)},["string","string"]),"substring after":Lt(function(n,e){const t=n.indexOf(e);return t===-1?"":n.substring(t+e.length)},["string","string"]),replace:Lt(function(n,e,t,r){const i=FL(e,r||"","g");return i&&n.replace(i,t.replace(/\$0/g,"$$&"))},["string","string","string","string?"]),contains:Lt(function(n,e){return n.includes(e)},["string","string"]),matches:Lt(function(n,e,t){const r=FL(e,t||"","");return r&&r.test(n)},["string","string","string?"]),"starts with":Lt(function(n,e){return n.startsWith(e)},["string","string"]),"ends with":Lt(function(n,e){return n.endsWith(e)},["string","string"]),split:Lt(function(n,e){const t=FL(e,"","");return t&&n.split(t)},["string","string"]),"string join":Lt(function(n,e){return n.some(t=>!gy(t)&&t!==null)?null:n.filter(t=>t!==null).join(e||"")},["list","string?"]),"list contains":Lt(function(n,e){return n.some(t=>cY(t,e))},["list","any?"]),"list replace":Lt(function(n,e,t,r){const i=e||r;return["number","function"].includes(gs(i))?l3e(n,e||r,t):null},["list","any?","any","function?"]),count:Lt(function(n){return n.length},["list"]),min:rc(function(...n){return n.reduce((e,t)=>e===null?t:Math.min(e,t),null)},"number"),max:rc(function(...n){return n.reduce((e,t)=>e===null?t:Math.max(e,t),null)},"number"),sum:rc(function(...n){return dY(n)},"number"),mean:rc(function(...n){const e=dY(n);return e===null?e:e/n.length},"number"),all:rc(function(...n){let e=!1;for(const t of n){if(t===!1)return!1;typeof t!="boolean"&&(e=!0)}return e?null:!0},"any?"),any:rc(function(...n){let e=!1;for(const t of n){if(t===!0)return!0;typeof t!="boolean"&&(e=!0)}return e?null:!1},"any?"),sublist:Lt(function(n,e,t){const r=e<0?n.length+e:e-1;return typeof t<"u"?n.slice(r,r+t):n.slice(r)},["list","number","number?"]),append:Lt(function(n,...e){return n.concat(e)},["list","any?"]),concatenate:Lt(function(...n){return n.reduce((e,t)=>e.concat(t),[])},["any"]),"insert before":Lt(function(n,e,t){return n.slice(0,e-1).concat([t],n.slice(e-1))},["list","number","any?"]),remove:Lt(function(n,e){return n.slice(0,e-1).concat(n.slice(e))},["list","number"]),reverse:Lt(function(n){return n.slice().reverse()},["list"]),"index of":Lt(function(n,e){return n.reduce(function(t,r,i){return cY(r,e)&&t.push(i+1),t},[])},["list","any"]),union:rc(function(...n){return n.reduce((e,t)=>t.reduce((r,i)=>(r.some(o=>ag(i,o))||r.push(i),r),e),[])},"list"),"distinct values":Lt(function(n){return n.reduce((e,t)=>(e.some(r=>ag(t,r))||e.push(t),e),[])},["list"]),flatten:Lt(function(n){return kj(n)},["list"]),product:rc(function(...n){return n.length===0?null:n.reduce((e,t)=>e*t,1)},"number"),median:rc(function(...n){return n.length===0?null:c3e(n)},"number"),stddev:rc(function(...n){return n.length<2?null:a3e(n)},"number"),mode:rc(function(...n){return u3e(n)},"number"),decimal:Lt(function(n,e){if(!e)return hY(n);const t=Math.pow(10,e);return hY(n*t)/t},["number","number"]),floor:Lt(function(n,e=0){if(e===null)return null;const t=Math.pow(10,e);return Math.floor(n*t)/t},["number","number?"]),ceiling:Lt(function(n,e=0){if(e===null)return null;const t=Math.pow(10,e);return Math.ceil(n*t)/t},["number","number?"]),abs:Lt(function(n){return typeof n!="number"?null:Math.abs(n)},["number"]),"round up":Lt(function(n,e){throw Ms("round up")},["number","number"]),"round down":Lt(function(n,e){throw Ms("round down")},["number","number"]),"round half up":Lt(function(n,e){throw Ms("round half up")},["number","number"]),"round half down":Lt(function(n,e){throw Ms("round half down")},["number","number"]),modulo:Lt(function(n,e){if(!e)return null;const t=1e9;return Math.round((n%e+e)%e*t)/t},["number","number"]),sqrt:Lt(function(n){return n<0?null:Math.sqrt(n)},["number"]),log:Lt(function(n){return n<=0?null:Math.log(n)},["number"]),exp:Lt(function(n){return Math.exp(n)},["number"]),odd:Lt(function(n){return Math.abs(n)%2===1},["number"]),even:Lt(function(n){return Math.abs(n)%2===0},["number"]),is:Lt(function(n,e){return typeof n>"u"||typeof e>"u"?!1:ag(n,e,!0)},["any?","any?"]),before:Lt(function(n,e){return cR(n,e)},["any","any"]),after:Lt(function(n,e){return cR(e,n)},["any","any"]),meets:Lt(function(n,e){return uY(n,e)},["range","range"]),"met by":Lt(function(n,e){return uY(e,n)},["range","range"]),overlaps:Lt(function(n,e){return!cR(n,e)&&!cR(e,n)},["range","range"]),"overlaps before":Lt(function(){throw Ms("overlaps before")},["any?"]),"overlaps after":Lt(function(){throw Ms("overlaps after")},["any?"]),finishes:Lt(function(){throw Ms("finishes")},["any?"]),"finished by":Lt(function(){throw Ms("finished by")},["any?"]),includes:Lt(function(){throw Ms("includes")},["any?"]),during:Lt(function(){throw Ms("during")},["any?"]),starts:Lt(function(){throw Ms("starts")},["any?"]),"started by":Lt(function(){throw Ms("started by")},["any?"]),coincides:Lt(function(){throw Ms("coincides")},["any?"]),"day of year":Lt(function(n){return n.ordinal},["date time"]),"day of week":Lt(function(n){return n.weekdayLong},["date time"]),"month of year":Lt(function(n){return n.monthLong},["date time"]),"week of year":Lt(function(n){return n.weekNumber},["date time"]),sort:Lt(function(n,e){return Array.from(n).sort((t,r)=>e.invoke([t,r])?-1:1)},["list","function"]),"get value":Lt(function(n,e){const t=BD(e,n);return t??null},["context","string"]),"get entries":Lt(function(n){return arguments.length!==1||Array.isArray(n)?null:Object.entries(n).map(([e,t])=>({key:e,value:t}))},["context"]),context:rc(function(...n){const e=n.reduce((t,r)=>{if(t===pd||!["key","value"].every(o=>o in r))return pd;const i=r.key;return i===null||i in t?pd:Object.assign(Object.assign({},t),{[r.key]:r.value})},{});return e===pd?null:e},"context"),"context merge":rc(function(...n){return Object.assign({},...n)},"context"),"context put":Lt(function(n,e,t,r){return typeof e>"u"&&typeof r>"u"?null:Cse(n,e||[r],t)},["context","list?","any","string?"],["context","keys","value","key"])};function Cse(n,e,t){const[r,...i]=e;return gs(r)!=="string"||gs(n)==="nil"||i.length&&(t=Cse(n[r],i,t),t===null)?null:Object.assign(Object.assign({},n),{[r]:t})}function cY(n,e){return n===e}const pd={};function Ose(n){const e=n.endsWith("?"),t=e?n.substring(0,n.length-1):n;return function(r){const i=Array.isArray(r);if(t==="list")return i||e&&typeof r>"u"?r:r===null?pd:[r];t!=="any"&&i&&r.length===1&&(r=r[0]);const o=gs(r);return t==="any"||t===o?e||typeof r<"u"?r:pd:o==="nil"?e?r:pd:e3e(r,t)||pd}}function r3e(n){const e=n.map(Ose);return function(t){for(;t.length<n.length;)t.push(void 0);return t.reduce((r,i,o)=>{if(r===!1)return r;const a=e[o],c=a?a(i):i;return c===pd?!1:(r.push(c),r)},[])}}function rc(n,e,t=null){const r=Ose(e),i=function(...o){return o.length===0||(Array.isArray(o[0])&&o.length===1&&(o=o[0]),!o.every(a=>r(a)!==pd))?null:n(...o)};return i.$args=t||X9(n),i}function Lt(n,e,t=null){const r=r3e(e);t=t||X9(n);const i=function(...o){const a=r(o);return a?n(...a):null};return i.$args=t,i}function uY(n,e){return[n.end===e.start,n["end included"]===!0,e["start included"]===!0].every(t=>t)}function cR(n,e){return n instanceof mc&&e instanceof mc?n.end<e.start||(!n["end included"]||!e["start included"])&&n.end==e.start:n instanceof mc?n.end<e||!n["end included"]&&n.end===e:e instanceof mc?e.start>n||!e["start included"]&&e.start===n:n<e}function dY(n){return n.reduce((e,t)=>e===null?t:e+t,null)}function kj([n,...e]){return n!==void 0?[...Array.isArray(n)?kj(n):[n],...kj(e)]:[]}function i3e(n){return typeof n=="string"&&/\W/.test(n)?Z9(n,!0):n}function fY(n){return Z9(n,!0)}function o3e(n){return n.replace(/("|\\)/g,"\\$1")}function Z9(n,e=!1){var t,r,i,o;const a=gs(n);if(a==="nil")return"null";if(a==="string")return e?`"${o3e(n)}"`:n;if(a==="boolean"||a==="number")return String(n);if(a==="list")return"["+n.map(fY).join(", ")+"]";if(a==="context")return"{"+Object.entries(n).map(([c,u])=>i3e(c)+": "+fY(u)).join(", ")+"}";if(a==="duration")return n.shiftTo("years","months","days","hours","minutes","seconds").normalize().toISO();if(a==="date time")return n.zone===Il.instance?n.toISO({suppressMilliseconds:!0,includeOffset:!1}):!((t=n.zone)===null||t===void 0)&&t.zoneName?n.toISO({suppressMilliseconds:!0,includeOffset:!1})+"@"+((r=n.zone)===null||r===void 0?void 0:r.zoneName):n.toISO({suppressMilliseconds:!0});if(a==="date")return n.toISODate();if(a==="range")return"<range>";if(a==="time")return n.zone===Il.instance?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1}):!((i=n.zone)===null||i===void 0)&&i.zoneName?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1})+"@"+((o=n.zone)===null||o===void 0?void 0:o.zoneName):n.toISOTime({suppressMilliseconds:!0});if(a==="function")return"<function>";throw Ms("string("+a+")")}function s3e(n){return n.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}function hY(n){const e=Math.floor(n);return n-e===.5?e%2===0?e:e+1:Math.round(n)}function a3e(n){const e=n.length,t=n.reduce((r,i)=>r+i)/e;return Math.sqrt(n.map(r=>Math.pow(r-t,2)).reduce((r,i)=>r+i)/(e-1))}function l3e(n,e,t){return Nh(e)?[...n.slice(0,e-1),t,...n.slice(e)]:n.map((r,i)=>e.invoke([r,t])?t:r)}function c3e(n){const e=n.length,t=n.slice().sort(),r=e/2-1,i=Math.ceil(r);return r===i?(t[i]+t[i+1])/2:t[i]}function u3e(n){if(n.length<2)return n;const e={};for(const r of n)e[r]=(e[r]||0)+1;const t=Object.entries(e).sort((r,i)=>i[1]-r[1]);return t.filter(r=>r[1]===t[0][1]).map(r=>+r[0])}function x1(n){return n.isValid?n:null}function d3e(n,e){const t=n.replace(/[smix]/g,"");if(t)throw new Error("illegal flags: "+t);if(/x/.test(n))throw Ms("matches <x> flag");return n+e}function FL(n,e,t=""){try{return new RegExp(n,"u"+d3e(e,t))}catch(r){if(t3e(r))throw r}return null}function Tse(n,e={},t){return Mw.configure({top:"Expression",contextTracker:Rw(e),dialect:t}).parse(n)}function Pse(n,e={},t){return Mw.configure({top:"UnaryTests",contextTracker:Rw(e),dialect:t}).parse(n)}let f3e=class extends Error{constructor(e,t){super(e),Object.assign(this,t)}},h3e=class{_buildExecutionTree(e,t){const r={args:[],nodeInput:t},i=[r];return e.iterate({enter(o){const{isError:a,isSkipped:c}=o.type,{from:u,to:h}=o;if(a){const{from:y,to:w,message:S}=T3e(o);throw new f3e(S,{input:t.slice(y,w),position:{from:y,to:w}})}if(c)return!1;const m=t.slice(u,h);i.push({nodeInput:m,args:[]})},leave(o){if(o.type.isSkipped)return;const{nodeInput:a,args:c}=i.pop(),u=i[i.length-1],h=g3e(o,a,c);u.args.push(h)}}),r.args[r.args.length-1]}evaluate(e,t={},r){const i=Tse(e,t,r),o=this._buildExecutionTree(i,e);return{parseTree:i,root:o}}unaryTest(e,t={},r){const i=Pse(e,t,r),o=this._buildExecutionTree(i,e);return{parseTree:i,root:o}}};const Ase=new h3e;function p3e(n,e={},t){const r=e["?"]!==void 0?e["?"]:null,{root:i}=Ase.unaryTest(n,e,t);return i(e)(r)}function m3e(n,e={},t){const{root:r}=Ase.evaluate(n,e,t);return r(e)}function g3e(n,e,t){switch(n.name){case"ArithOp":return r=>{const i=(o,a=["number"])=>(c,u)=>{const h=c(r),m=u(r);if(hd(h)||hd(m))return null;const y=gs(h),w=gs(m),S=["date","time","date time","duration"];if(S.includes(y)){if(!S.includes(w))return null}else if(y!==w||!a.includes(y))return null;return o(h,m)};switch(e){case"+":return i((o,a)=>{if(nd(o)&&!nd(a)){const c=o;o=a,a=c}return Sj(o,"time")&&nd(a)?o.plus(a).set({year:1900,month:1,day:1}):fc(o)&&fc(a)?null:fc(o)&&nd(a)||nd(o)&&nd(a)?o.plus(a):o+a},["string","number","date","time","duration","date time"]);case"-":return i((o,a)=>Sj(o,"time")&&nd(a)?o.minus(a).set({year:1900,month:1,day:1}):fc(o)&&fc(a)?o.diff(a):fc(o)&&nd(a)||nd(o)&&nd(a)?o.minus(a):o-a,["number","date","time","duration","date time"]);case"*":return i((o,a)=>o*a);case"/":return i((o,a)=>a?o/a:null);case"**":case"^":return i((o,a)=>Math.pow(o,a))}};case"CompareOp":return gl(()=>{switch(e){case">":return r=>oy(r,null,!1,!1);case">=":return r=>oy(r,null,!0,!1);case"<":return r=>oy(null,r,!1,!1);case"<=":return r=>oy(null,r,!1,!0);case"=":return r=>i=>ag(i,r);case"!=":return r=>i=>!ag(i,r)}},sy("boolean"));case"BacktickIdentifier":return e.replace(/`/g,"");case"Wildcard":return r=>!0;case"null":return r=>null;case"Disjunction":return gl(r=>{const i=t[0](r),o=t[2](r),a=[[!0,!0,!0],[!0,!1,!0],[!0,null,!0],[!1,!0,!0],[!1,!1,!1],[!1,null,null],[null,!0,!0],[null,!1,null],[null,null,null]],c=typeof i=="boolean"?i:null,u=typeof o=="boolean"?o:null;return a.find(h=>h[0]===c&&h[1]===u)[2]},sy("boolean"));case"Conjunction":return gl(r=>{const i=t[0](r),o=t[2](r),a=[[!0,!0,!0],[!0,!1,!1],[!0,null,null],[!1,!0,!1],[!1,!1,!1],[!1,null,!1],[null,!0,null],[null,!1,!1],[null,null,null]],c=typeof i=="boolean"?i:null,u=typeof o=="boolean"?o:null;return a.find(h=>h[0]===c&&h[1]===u)[2]},sy("boolean"));case"Context":return r=>t.slice(1,-1).reduce((i,o)=>{const[a,c]=o(Object.assign(Object.assign({},r),i));return Object.assign(Object.assign({},i),{[a]:c})},{});case"FunctionBody":return t[0];case"FormalParameters":return t;case"FormalParameter":return t[0];case"ParameterName":return t.join(" ");case"FunctionDefinition":return r=>{const i=t[2],o=t[4];return fR((...a)=>{const c=i.reduce((u,h,m)=>(u[h]=a[m],u),Object.assign({},r));return o(c)},i)};case"ContextEntry":return r=>{const i=typeof t[0]=="function"?t[0](r):t[0],o=t[1](r);return[i,o]};case"Key":return t[0];case"Identifier":return e;case"SpecialFunctionName":return r=>uR(e);case"Name":return e.replace(/\s{2,}/g," ");case"VariableName":return r=>{const i=t.join(" "),o=BD(i,r);return typeof o<"u"?o:uR(i)||null};case"QualifiedName":return r=>t.reduce((i,o)=>o(i),r);case"?":return r=>BD("?",r);case"IterationContext":return r=>{const i=t[0](r),o=t[1]&&t[1](r);return o?oy(i,o):i};case"Type":return t[0];case"InExpressions":return r=>{const i=h=>!(h===null||h.some(m=>gs(m)==="nil")),o=(h,m)=>[].concat(...h.map(y=>{const w=m(Object.assign(Object.assign({},r),y));return i(w)?w.map(S=>Object.assign(Object.assign({},y),S)):null})),a=(h,m,...y)=>i(h)?m?a(o(h,m),...y):h:null,u=(h=>{const[m,...y]=h,w=m(r);return a(w,...y)})(t);return u&&u.map(h=>Object.assign(Object.assign({},r),h))};case"InExpression":return r=>v3e(r,t[0],t[2]);case"SpecialType":throw Ms("SpecialType");case"InstanceOfExpression":return gl(r=>{const i=t[0](r),o=t[3](r);return i instanceof o},sy("boolean"));case"every":return gl(r=>(i,o)=>{const a=i(r);return gs(a)!=="list"?a:a.every(c=>dR(o(c)))},sy("boolean"));case"some":return gl(r=>(i,o)=>{const a=i(r);return gs(a)!=="list"?a:a.some(c=>dR(o(c)))},sy("boolean"));case"NumericLiteral":return gl(r=>e.includes(".")?parseFloat(e):parseInt(e),"number");case"BooleanLiteral":return gl(r=>e==="true","boolean");case"StringLiteral":return gl(r=>O3e(e),"string");case"PositionalParameters":return r=>t.map(i=>i(r));case"NamedParameter":return r=>{const i=t[0],o=t[1](r);return[i,o]};case"NamedParameters":return r=>t.reduce((i,o)=>{const[a,c]=o(r);return i[a]=c,i},{});case"DateTimeConstructor":return r=>uR(e);case"DateTimeLiteral":return r=>{if(t.length===1)return t[0](r);{const i=fR(t[0](r));if(!i)return null;const o=t[2](r);return i.invoke(o)}};case"AtLiteral":return r=>{const i=fR(uR("@"));return i?i.invoke([t[0](r)]):null};case"FunctionInvocation":return r=>{const i=fR(t[0](r));if(!i)return null;const o=t[2](r);return i.invoke(o)};case"IfExpression":return function(){const r=t[1],i=t[3],o=t[5],a=pY(i,o);return gl(c=>dR(r(c))?i(c):o?o(c):null,a)}();case"Parameters":return t.length===3?t[1]:r=>[];case"Comparison":return r=>{const i=t[1];if(i==="in")return y3e(t[0](r),(t[3]||t[2])(r));if(i==="between"){const u=t[2](r),h=t[4](r);return u===null||h===null?null:oy(u,h).includes(t[0](r))}const o=t[0](r),a=t[2](r),c=i()(a);return Cj(c,o)};case"QuantifiedExpression":return r=>{const i=t[0](r),o=t[1],a=t[3];return i(o,a)};case"ForExpression":return r=>{const i=t[t.length-1],o=t[1](r);if(gs(o)!=="list")return o;const a=[];for(const c of o)a.push(i(Object.assign(Object.assign({},c),{partial:a})));return a};case"ArithmeticExpression":return function(){if(t.length===3){const[r,i,o]=t;return gl(a=>i(a)(r,o),pY(r,o))}if(t.length===2){const[r,i]=t;return gl(o=>r(o)(()=>0,i),i.type)}}();case"PositiveUnaryTest":return t[0];case"ParenthesizedExpression":return t[1];case"PathExpression":return r=>{const i=t[0](r),o=t[1];return hd(i)?i.map(o):o(i)};case"FilterExpression":return r=>{const i=t[0](r),o=t[2],a=hd(i)?i:[i];if(i===null)return null;if(typeof o.type>"u")try{const c=o(r);Nh(c)&&(o.type="number")}catch{}if(o.type==="number"){const c=o(r),u=a[c<0?a.length+c:c-1];return typeof u>"u"?null:u}if(o.type==="boolean")return o(r)?a:[];if(o.type==="string"){const c=o(r);return a.filter(u=>u===c)}return a.map(c=>{const u=Object.assign(Object.assign(Object.assign({},r),{item:c}),c);let h=o(u);return typeof h=="function"&&(h=h(c)),h instanceof mc&&(h=h.includes(c)),h===!0?c:h}).filter(dR)};case"SimplePositiveUnaryTest":return gl(r=>t.length===1?t[0](r):t[0](r)(t[1](r)),"test");case"List":return r=>t.slice(1,-1).map(i=>i(r));case"Interval":return gl(r=>{const i=t[1](r),o=t[2](r),a=i!==null&&t[0]==="[",c=o!==null&&t[3]==="]";return oy(i,o,a,c)},sy("boolean"));case"PositiveUnaryTests":case"Expressions":return r=>t.map(i=>i(r));case"Expression":return r=>t[0](r);case"UnaryTests":return r=>(i=null)=>{const o=t[0]==="not",c=(o?t.slice(2,-1):t).map(u=>u(r)).flat(1).map(u=>hd(u)?u.includes(i):u===null?null:typeof u=="boolean"?u:Cj(u,i)).reduce(C3e,void 0);return c===null?null:o?!c:c};default:return n.name}}function uR(n,e){return BD(n,n3e)}function v3e(n,e,t){const r=t(n);return["list","range"].includes(gs(r))?r.map(i=>({[e]:i})):null}function y3e(n,e){if(!hd(e)){if(gs(e)==="nil")return null;e=[e]}return e.some(t=>Cj(t,n))}function Cj(n,e){return typeof n=="function"?n(e):n instanceof mc?n.includes(e):ag(n,e)}const US=Array.from("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function w1(n,e){return e.some(t=>gs(t)===n)&&e.every(t=>t===null||gs(t)===n)}const b3e=new mc({start:null,end:null,"start included":!1,"end included":!1,map(){return[]},includes(){return null}});function oy(n,e,t=!0,r=!0){if(w1("string",[n,e]))return E3e(n,e,t,r);if(w1("number",[n,e]))return S3e(n,e,t,r);if(w1("duration",[n,e]))return k3e(n,e,t,r);if(w1("time",[n,e])||w1("date time",[n,e])||w1("date",[n,e]))return jL(n,e,t,r);if(n===null&&e===null)return b3e;throw new Error(`unsupported range: ${n}..${e}`)}function xI(){return()=>{throw new Error("unsupported range operation: map")}}function x3e(n){return e=>n.map(e)}function w3e(n){return e=>n.includes(e)}function _3e(n,e,t,r){const i=n>e?-1:1;return o=>{const a=[];for(let c=n;!(!(c===0&&!t)&&(c===e&&!r||(a.push(o(c)),c===e)));c+=i);return a}}function LL(n,e){return e?t=>n<=t:t=>n<t}function $L(n,e){return e?t=>n>=t:t=>n>t}function wI(n,e,t,r,i=o=>o){let o=[];return n===null&&e===null?()=>null:(n!==null&&e!==null?n>e?o=[LL(e,r),$L(n,t)]:o=[LL(n,t),$L(e,r)]:e!==null?o=[$L(e,r)]:n!==null&&(o=[LL(n,t)]),a=>a===null?null:o.every(c=>c(i(a))))}function E3e(n,e,t=!0,r=!0){if(n!==null&&!US.includes(n))throw new Error("illegal range start: "+n);if(e!==null&&!US.includes(e))throw new Error("illegal range end: "+e);let i;if(n!==null&&e!==null){let c=US.indexOf(n),u=US.indexOf(e);const h=c>u?-1:1;t===!1&&(c+=h),r===!1&&(u-=h),i=US.slice(c,u+1)}const o=i?x3e(i):xI(),a=i?w3e(i):wI(n,e,t,r);return new mc({start:n,end:e,"start included":t,"end included":r,map:o,includes:a})}function S3e(n,e,t,r){const i=n!==null&&e!==null?_3e(n,e,t,r):xI(),o=wI(n,e,t,r);return new mc({start:n,end:e,"start included":t,"end included":r,map:i,includes:o})}function k3e(n,e,t,r){const i=c=>c?rr.fromDurationLike(c).toMillis():null,o=xI(),a=wI(i(n),i(e),t,r,i);return new mc({start:n,end:e,"start included":t,"end included":r,map:o,includes:a})}function jL(n,e,t,r){const i=xI(),o=wI(n,e,t,r);return new mc({start:n,end:e,"start included":t,"end included":r,map:i,includes:o})}function pY(n,e){return!e||n.type===e.type?n.type:"any"}function gl(n,e){return Object.assign(n,{type:e,toString(){return`TaggedFunction[${e}] ${Function.prototype.toString.call(n)}`}})}function C3e(n,e){return n||e}function dR(n){return n!==!1&&n!==null}function sy(n){return`Test<${n}>`}function fR(n,e=null){return n?n instanceof xM?n:n instanceof mc?new xM(t=>n.includes(t),["value"]):typeof n!="function"?null:new xM(n,e||X9(n)):null}function O3e(n){return n.startsWith('"')&&(n=n.slice(1)),n.endsWith('"')&&(n=n.slice(0,-1)),n.replace(/(\\")|(\\\\)|(\\n)|(\\r)|(\\t)|(\\u[a-fA-F0-9]{5,6})|((?:\\u[a-fA-F0-9]{1,4})+)/ig,function(e,...t){const[r,i,o,a,c,u,h]=t;if(r)return'"';if(o)return`
`;if(a)return"\r";if(c)return"	";if(i)return"\\";const m=/\\u([a-fA-F0-9]+)/ig;if(u){const y=m.exec(u);return String.fromCodePoint(parseInt(y[1],16))}if(h){const y=[];let w;for(;(w=m.exec(e))!==null;)y.push(parseInt(w[1],16));return String.fromCharCode(...y)}throw new Error("illegal match")})}function T3e(n){const e=n.node,t=e.parent;if(e.from!==e.to)return{from:e.from,to:e.to,message:`Unrecognized token in <${t.name}>`};const r=P3e(e);if(r)return{from:e.from,to:r.to,message:`Unrecognized token <${r.name}> in <${t.name}>`};{const i=t.enterUnfinishedNodesBefore(n.to);return{from:e.from,to:e.to,message:`Incomplete <${(i||t).name}>`}}}function P3e(n){const e=n.node;let t,r=e;do{if(t=r.nextSibling,t)return t;r=r.parent}while(r);return null}function A3e(n){return Object.getPrototypeOf(n)===Object.prototype}function hc(n){return _n.isDateTime(n)}function rd(n){return rr.isDuration(n)}function uu(n){return Array.isArray(n)}function R3e(n){return typeof n=="boolean"}function es(n){return n==null?"nil":R3e(n)?"boolean":HC(n)?"number":vy(n)?"string":A3e(n)?"context":uu(n)?"list":rd(n)?"duration":hc(n)?n.year===1900&&n.month===1&&n.day===1?"time":n.hour===0&&n.minute===0&&n.second===0&&n.millisecond===0&&n.zone===ys.utcInstance?"date":"date time":n instanceof gc?"range":n instanceof wM?"function":"literal"}function Oj(n,e){return es(n)===e}function M3e(n,e){if(hc(n)){if(e==="time")return n.set({year:1900,month:1,day:1});if(e==="date")return n.setZone("utc",{keepLocalTime:!0}).startOf("day");if(e==="date time")return n}return null}let gc=class{constructor(e){Object.assign(this,e)}};function HC(n){return typeof n=="number"}function vy(n){return typeof n=="string"}function lg(n,e,t=!1){if(n===null&&e!==null||n!==null&&e===null)return!1;uu(n)&&n.length<2&&(n=n[0]),uu(e)&&e.length<2&&(e=e[0]);const r=es(n),i=es(e),o=["date time","time","date"];if(o.includes(r))return!o.includes(i)||r==="time"&&i!=="time"||i==="time"&&r!=="time"?null:t||n.zone===Il.instance||e.zone===Il.instance?n.equals(e):n.toUTC().valueOf()===e.toUTC().valueOf();if(r!==i)return null;if(r==="nil")return!0;if(r==="list")return n.length!==e.length?!1:n.every((a,c)=>lg(a,e[c]));if(r==="duration")return Math.abs(n.as("days"))>180?Math.trunc(n.minus(e).as("months"))===0:Math.trunc(n.minus(e).as("seconds"))===0;if(r==="context"){const a=Object.entries(n),c=Object.entries(e);return a.length!==c.length?!1:a.every(([u,h])=>u in e&&lg(h,e[u]))}return r==="range"?[[n.start,e.start],[n.end,e.end],[n["start included"],e["start included"]],[n["end included"],e["end included"]]].every(([a,c])=>a===c):n==e?!0:r===i?!1:null}class wM{constructor(e,t){this.fn=e,this.parameterNames=t}invoke(e){let t;if(uu(e)){if(t=e,t.length>this.parameterNames.length){const r=this.parameterNames[this.parameterNames.length-1];if(!r||!r.startsWith("..."))return null}}else{if(Object.keys(e).some(r=>!this.parameterNames.includes(r)&&!this.parameterNames.includes(`...${r}`)))return null;t=this.parameterNames.reduce((r,i)=>{if(i.startsWith("...")){i=i.slice(3);const o=e[i];return o?[...r,...uu(o)?o:[o]]:r}return[...r,e[i]]},[])}return this.fn.call(null,...t)}}function J9(n){if(Array.isArray(n.$args))return n.$args;const e=n.toString(),t=/^(?:[^(]*\s*)?\(([^)]+)?\)/.exec(e);if(!t)throw new Error("failed to parse params: "+e);const[r,i]=t;return i?i.split(",").map(o=>o.trim()):[]}function Rs(n){return new Error(`not implemented: ${n}`)}function VD(n,e){if(["nil","boolean","number","string"].includes(es(e)))return;if(n in e)return e[n];const t=sg(n);if(t in e)return e[t];const r=Object.entries(e).find(([i])=>t===sg(i));if(r)return r[1]}function mY(n){return typeof n=="number"?rr.fromMillis(n):rr.fromISO(n)}function ru(n=null,e=null,t=null){if(e){if(n)throw new Error("<str> and <time> provided");return ru(`1900-01-01T${e}`,null)}if(typeof n=="string"){if(n.startsWith("-"))throw Rs("negative date");if(!n.includes("T"))return ru(n+"T00:00:00",null,t||ys.utcInstance);if(n.includes("@")){if(t)throw new Error("<zone> already provided");const[r,i]=n.split("@");return ru(r,null,W1.normalizeZone(i))}return _n.fromISO(n.toUpperCase(),{setZone:!0,zone:t})}return _n.now()}const D3e={number:$t(function(n,e,t){if(arguments.length!==3)return null;e&&(n=n.split(e).join("")),t&&t!=="."&&(n=n.split(".").join("#").split(t).join("."));const r=+n;return isNaN(r)?null:r},["string","string?","string?"],["from","grouping separator","decimal separator"]),string:$t(function(n){return n===null?null:e7(n)},["any"]),date:$t(function(n,e,t,r){!r&&!HC(n)&&(r=n,n=null);let i;return vy(r)&&(i=ru(r)),hc(r)&&(i=r),n&&(i=ru().setZone("utc").set({year:n,month:e,day:t})),i&&_1(i.setZone("utc").startOf("day"))||null},["any?","number?","number?","any?"]),"date and time":$t(function(n,e,t){let r;if(hc(n)&&hc(e)){const i=n.toLocal();r=e.set({year:i.year,month:i.month,day:i.day})}return vy(n)&&(t=n,n=null),vy(t)&&(r=ru(t,null,t.includes("@")?null:Il.instance)),r&&_1(r)||null},["any?","time?","string?"],["date","time","from"]),time:$t(function(n,e,t,r,i){let o;if(r)throw Rs("time(..., offset)");return(vy(n)||hc(n))&&(i=n,n=null),vy(i)&&(o=ru(null,i)),hc(i)&&(o=i.set({year:1900,month:1,day:1})),HC(n)&&(o=ru().set({hour:n,minute:e,second:t}).set({year:1900,month:1,day:1,millisecond:0})),o&&_1(o)||null},["any?","number?","number?","any?","any?"]),duration:$t(function(n){return _1(mY(n))},["string"]),"years and months duration":$t(function(n,e){return _1(e.diff(n,["years","months"]))},["date","date"]),"@":$t(function(n){let e;return/^-?P/.test(n)?e=mY(n):/^[\d]{1,2}:[\d]{1,2}:[\d]{1,2}/.test(n)?e=ru(null,n):e=ru(n),e&&_1(e)||null},["string"]),now:$t(function(){return ru()},[]),today:$t(function(){return ru().startOf("day")},[]),not:$t(function(n){return Oj(n,"boolean")?!n:null},["any"]),substring:$t(function(n,e,t){const r=e<0?n.length+e:e-1,i=Array.from(n);return(typeof t<"u"?i.slice(r,r+t):i.slice(r)).join("")},["string","number","number?"],["string","start position","length"]),"string length":$t(function(n){return L3e(n)},["string"]),"upper case":$t(function(n){return n.toUpperCase()},["string"]),"lower case":$t(function(n){return n.toLowerCase()},["string"]),"substring before":$t(function(n,e){const t=n.indexOf(e);return t===-1?"":n.substring(0,t)},["string","string"]),"substring after":$t(function(n,e){const t=n.indexOf(e);return t===-1?"":n.substring(t+e.length)},["string","string"]),replace:$t(function(n,e,t,r){return n.replace(new RegExp(e,"ug"+(r||"").replace(/[x]/g,"")),t.replace(/\$0/g,"$$&"))},["string","string","string","string?"]),contains:$t(function(n,e){return n.includes(e)},["string","string"]),matches:$t(function(n,e,t){throw Rs("matches")},["string","string","string?"]),"starts with":$t(function(n,e){return n.startsWith(e)},["string","string"]),"ends with":$t(function(n,e){return n.endsWith(e)},["string","string"]),split:$t(function(n,e){return n.split(new RegExp(e,"u"))},["string","string"]),"string join":$t(function(n,e){return n.some(t=>!vy(t)&&t!==null)?null:n.filter(t=>t!==null).join(e||"")},["list","string?"]),"list contains":$t(function(n,e){return n.some(t=>gY(t,e))},["list","any?"]),"list replace":$t(function(n,e,t,r){const i=e||r;return["number","function"].includes(es(i))?j3e(n,e||r,t):null},["list","any?","any","function?"]),count:$t(function(n){return n.length},["list"]),min:ic(function(...n){return n.reduce((e,t)=>e===null?t:Math.min(e,t),null)},"number"),max:ic(function(...n){return n.reduce((e,t)=>e===null?t:Math.max(e,t),null)},"number"),sum:ic(function(...n){return yY(n)},"number"),mean:ic(function(...n){const e=yY(n);return e===null?e:e/n.length},"number"),all:ic(function(...n){let e=!1;for(const t of n){if(t===!1)return!1;typeof t!="boolean"&&(e=!0)}return e?null:!0},"any?"),any:ic(function(...n){let e=!1;for(const t of n){if(t===!0)return!0;typeof t!="boolean"&&(e=!0)}return e?null:!1},"any?"),sublist:$t(function(n,e,t){const r=e<0?n.length+e:e-1;return typeof t<"u"?n.slice(r,r+t):n.slice(r)},["list","number","number?"]),append:$t(function(n,...e){return n.concat(e)},["list","any?"]),concatenate:$t(function(...n){return n.reduce((e,t)=>e.concat(t),[])},["any"]),"insert before":$t(function(n,e,t){return n.slice(0,e-1).concat([t],n.slice(e-1))},["list","number","any?"]),remove:$t(function(n,e){return n.slice(0,e-1).concat(n.slice(e))},["list","number"]),reverse:$t(function(n){return n.slice().reverse()},["list"]),"index of":$t(function(n,e){return n.reduce(function(t,r,i){return gY(r,e)&&t.push(i+1),t},[])},["list","any"]),union:ic(function(...n){return n.reduce((e,t)=>t.reduce((r,i)=>(r.some(o=>lg(i,o))||r.push(i),r),e),[])},"list"),"distinct values":$t(function(n){return n.reduce((e,t)=>(e.some(r=>lg(t,r))||e.push(t),e),[])},["list"]),flatten:$t(function(n){return Tj(n)},["list"]),product:ic(function(...n){return n.length===0?null:n.reduce((e,t)=>e*t,1)},"number"),median:ic(function(...n){return n.length===0?null:B3e(n)},"number"),stddev:ic(function(...n){return n.length<2?null:$3e(n)},"number"),mode:ic(function(...n){return V3e(n)},"number"),decimal:$t(function(n,e){if(!e)return xY(n);const t=Math.pow(10,e);return xY(n*t)/t},["number","number"]),floor:$t(function(n,e=0){if(e===null)return null;const t=Math.pow(10,e);return Math.floor(n*t)/t},["number","number?"]),ceiling:$t(function(n,e=0){if(e===null)return null;const t=Math.pow(10,e);return Math.ceil(n*t)/t},["number","number?"]),abs:$t(function(n){return typeof n!="number"?null:Math.abs(n)},["number"]),"round up":$t(function(n,e){throw Rs("round up")},["number","number"]),"round down":$t(function(n,e){throw Rs("round down")},["number","number"]),"round half up":$t(function(n,e){throw Rs("round half up")},["number","number"]),"round half down":$t(function(n,e){throw Rs("round half down")},["number","number"]),modulo:$t(function(n,e){if(!e)return null;const t=1e9;return Math.round((n%e+e)%e*t)/t},["number","number"]),sqrt:$t(function(n){return n<0?null:Math.sqrt(n)},["number"]),log:$t(function(n){return n<=0?null:Math.log(n)},["number"]),exp:$t(function(n){return Math.exp(n)},["number"]),odd:$t(function(n){return Math.abs(n)%2===1},["number"]),even:$t(function(n){return Math.abs(n)%2===0},["number"]),is:$t(function(n,e){return typeof n>"u"||typeof e>"u"?!1:lg(n,e,!0)},["any?","any?"]),before:$t(function(n,e){return hR(n,e)},["any","any"]),after:$t(function(n,e){return hR(e,n)},["any","any"]),meets:$t(function(n,e){return vY(n,e)},["range","range"]),"met by":$t(function(n,e){return vY(e,n)},["range","range"]),overlaps:$t(function(n,e){return!hR(n,e)&&!hR(e,n)},["range","range"]),"overlaps before":$t(function(){throw Rs("overlaps before")},["any?"]),"overlaps after":$t(function(){throw Rs("overlaps after")},["any?"]),finishes:$t(function(){throw Rs("finishes")},["any?"]),"finished by":$t(function(){throw Rs("finished by")},["any?"]),includes:$t(function(){throw Rs("includes")},["any?"]),during:$t(function(){throw Rs("during")},["any?"]),starts:$t(function(){throw Rs("starts")},["any?"]),"started by":$t(function(){throw Rs("started by")},["any?"]),coincides:$t(function(){throw Rs("coincides")},["any?"]),"day of year":$t(function(n){return n.ordinal},["date time"]),"day of week":$t(function(n){return n.weekdayLong},["date time"]),"month of year":$t(function(n){return n.monthLong},["date time"]),"week of year":$t(function(n){return n.weekNumber},["date time"]),sort:$t(function(n,e){return Array.from(n).sort((t,r)=>e.invoke([t,r])?-1:1)},["list","function"]),"get value":$t(function(n,e){const t=VD(e,n);return t??null},["context","string"]),"get entries":$t(function(n){return arguments.length!==1||Array.isArray(n)?null:Object.entries(n).map(([e,t])=>({key:e,value:t}))},["context"]),context:ic(function(...n){const e=n.reduce((t,r)=>{if(t===md||!["key","value"].every(o=>o in r))return md;const i=r.key;return i===null||i in t?md:Object.assign(Object.assign({},t),{[r.key]:r.value})},{});return e===md?null:e},"context"),"context merge":ic(function(...n){return Object.assign({},...n)},"context"),"context put":$t(function(n,e,t,r){return typeof e>"u"&&typeof r>"u"?null:Rse(n,e||[r],t)},["context","list?","any","string?"],["context","keys","value","key"])};function Rse(n,e,t){const[r,...i]=e;return es(r)!=="string"||es(n)==="nil"||i.length&&(t=Rse(n[r],i,t),t===null)?null:Object.assign(Object.assign({},n),{[r]:t})}function gY(n,e){return n===e}const md={};function Mse(n){const e=n.endsWith("?"),t=e?n.substring(0,n.length-1):n;return function(r){const i=Array.isArray(r);if(t==="list")return i||e&&typeof r>"u"?r:r===null?md:[r];t!=="any"&&i&&r.length===1&&(r=r[0]);const o=es(r);return t==="any"||t===o?e||typeof r<"u"?r:md:o==="nil"?e?r:md:M3e(r,t)||md}}function N3e(n){const e=n.map(Mse);return function(t){for(;t.length<n.length;)t.push(void 0);return t.reduce((r,i,o)=>{if(r===!1)return r;const a=e[o],c=a?a(i):i;return c===md?!1:(r.push(c),r)},[])}}function ic(n,e,t=null){const r=Mse(e),i=function(...o){return o.length===0||(Array.isArray(o[0])&&o.length===1&&(o=o[0]),!o.every(a=>r(a)!==md))?null:n(...o)};return i.$args=t||J9(n),i}function $t(n,e,t=null){const r=N3e(e);t=t||J9(n);const i=function(...o){const a=r(o);return a?n(...a):null};return i.$args=t,i}function vY(n,e){return[n.end===e.start,n["end included"]===!0,e["start included"]===!0].every(t=>t)}function hR(n,e){return n instanceof gc&&e instanceof gc?n.end<e.start||(!n["end included"]||!e["start included"])&&n.end==e.start:n instanceof gc?n.end<e||!n["end included"]&&n.end===e:e instanceof gc?e.start>n||!e["start included"]&&e.start===n:n<e}function yY(n){return n.reduce((e,t)=>e===null?t:e+t,null)}function Tj([n,...e]){return n!==void 0?[...Array.isArray(n)?Tj(n):[n],...Tj(e)]:[]}function I3e(n){return typeof n=="string"&&/\W/.test(n)?e7(n,!0):n}function bY(n){return e7(n,!0)}function F3e(n){return n.replace(/("|\\)/g,"\\$1")}function e7(n,e=!1){var t,r,i,o;const a=es(n);if(a==="nil")return"null";if(a==="string")return e?`"${F3e(n)}"`:n;if(a==="boolean"||a==="number")return String(n);if(a==="list")return"["+n.map(bY).join(", ")+"]";if(a==="context")return"{"+Object.entries(n).map(([c,u])=>I3e(c)+": "+bY(u)).join(", ")+"}";if(a==="duration")return n.shiftTo("years","months","days","hours","minutes","seconds").normalize().toISO();if(a==="date time")return n.zone===Il.instance?n.toISO({suppressMilliseconds:!0,includeOffset:!1}):!((t=n.zone)===null||t===void 0)&&t.zoneName?n.toISO({suppressMilliseconds:!0,includeOffset:!1})+"@"+((r=n.zone)===null||r===void 0?void 0:r.zoneName):n.toISO({suppressMilliseconds:!0});if(a==="date")return n.toISODate();if(a==="range")return"<range>";if(a==="time")return n.zone===Il.instance?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1}):!((i=n.zone)===null||i===void 0)&&i.zoneName?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1})+"@"+((o=n.zone)===null||o===void 0?void 0:o.zoneName):n.toISOTime({suppressMilliseconds:!0});if(a==="function")return"<function>";throw Rs("string("+a+")")}function L3e(n){return n.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}function xY(n){const e=Math.floor(n);return n-e===.5?e%2===0?e:e+1:Math.round(n)}function $3e(n){const e=n.length,t=n.reduce((r,i)=>r+i)/e;return Math.sqrt(n.map(r=>Math.pow(r-t,2)).reduce((r,i)=>r+i)/(e-1))}function j3e(n,e,t){return HC(e)?[...n.slice(0,e-1),t,...n.slice(e)]:n.map((r,i)=>e.invoke([r,t])?t:r)}function B3e(n){const e=n.length,t=n.slice().sort(),r=e/2-1,i=Math.ceil(r);return r===i?(t[i]+t[i+1])/2:t[i]}function V3e(n){if(n.length<2)return n;const e={};for(const r of n)e[r]=(e[r]||0)+1;const t=Object.entries(e).sort((r,i)=>i[1]-r[1]);return t.filter(r=>r[1]===t[0][1]).map(r=>+r[0])}function _1(n){return n.isValid?n:null}function z3e(n,e={},t){return Mw.configure({top:"Expression",contextTracker:Rw(e),dialect:t}).parse(n)}function H3e(n,e={},t){return Mw.configure({top:"UnaryTests",contextTracker:Rw(e),dialect:t}).parse(n)}let W3e=class extends Error{constructor(e,t){super(e),Object.assign(this,t)}};class q3e{_buildExecutionTree(e,t){const r={args:[],nodeInput:t},i=[r];return e.iterate({enter(o){const{isError:a,isSkipped:c}=o.type,{from:u,to:h}=o;if(a){const{from:y,to:w,message:S}=s5e(o);throw new W3e(S,{input:t.slice(y,w),position:{from:y,to:w}})}if(c)return!1;const m=t.slice(u,h);i.push({nodeInput:m,args:[]})},leave(o){if(o.type.isSkipped)return;const{nodeInput:a,args:c}=i.pop(),u=i[i.length-1],h=G3e(o,a,c);u.args.push(h)}}),r.args[r.args.length-1]}evaluate(e,t={},r){const i=z3e(e,t,r),o=this._buildExecutionTree(i,e);return{parseTree:i,root:o}}unaryTest(e,t={},r){const i=H3e(e,t,r),o=this._buildExecutionTree(i,e);return{parseTree:i,root:o}}}const U3e=new q3e;function pR(n,e={},t){const{root:r}=U3e.evaluate(n,e,t);return r(e)}function G3e(n,e,t){switch(n.name){case"ArithOp":return r=>{const i=(o,a=["number"])=>(c,u)=>{const h=c(r),m=u(r);if(uu(h)||uu(m))return null;const y=es(h),w=es(m),S=["date","time","date time","duration"];if(S.includes(y)){if(!S.includes(w))return null}else if(y!==w||!a.includes(y))return null;return o(h,m)};switch(e){case"+":return i((o,a)=>{if(rd(o)&&!rd(a)){const c=o;o=a,a=c}return Oj(o,"time")&&rd(a)?o.plus(a).set({year:1900,month:1,day:1}):hc(o)&&hc(a)?null:hc(o)&&rd(a)||rd(o)&&rd(a)?o.plus(a):o+a},["string","number","date","time","duration","date time"]);case"-":return i((o,a)=>Oj(o,"time")&&rd(a)?o.minus(a).set({year:1900,month:1,day:1}):hc(o)&&hc(a)?o.diff(a):hc(o)&&rd(a)||rd(o)&&rd(a)?o.minus(a):o-a,["number","date","time","duration","date time"]);case"*":return i((o,a)=>o*a);case"/":return i((o,a)=>a?o/a:null);case"**":case"^":return i((o,a)=>Math.pow(o,a))}};case"CompareOp":return vl(()=>{switch(e){case">":return r=>ay(r,null,!1,!1);case">=":return r=>ay(r,null,!0,!1);case"<":return r=>ay(null,r,!1,!1);case"<=":return r=>ay(null,r,!1,!0);case"=":return r=>i=>lg(i,r);case"!=":return r=>i=>!lg(i,r)}},ly("boolean"));case"BacktickIdentifier":return e.replace(/`/g,"");case"Wildcard":return r=>!0;case"null":return r=>null;case"Disjunction":return vl(r=>{const i=t[0](r),o=t[2](r),a=[[!0,!0,!0],[!0,!1,!0],[!0,null,!0],[!1,!0,!0],[!1,!1,!1],[!1,null,null],[null,!0,!0],[null,!1,null],[null,null,null]],c=typeof i=="boolean"?i:null,u=typeof o=="boolean"?o:null;return a.find(h=>h[0]===c&&h[1]===u)[2]},ly("boolean"));case"Conjunction":return vl(r=>{const i=t[0](r),o=t[2](r),a=[[!0,!0,!0],[!0,!1,!1],[!0,null,null],[!1,!0,!1],[!1,!1,!1],[!1,null,!1],[null,!0,null],[null,!1,!1],[null,null,null]],c=typeof i=="boolean"?i:null,u=typeof o=="boolean"?o:null;return a.find(h=>h[0]===c&&h[1]===u)[2]},ly("boolean"));case"Context":return r=>t.slice(1,-1).reduce((i,o)=>{const[a,c]=o(Object.assign(Object.assign({},r),i));return Object.assign(Object.assign({},i),{[a]:c})},{});case"FunctionBody":return t[0];case"FormalParameters":return t;case"FormalParameter":return t[0];case"ParameterName":return t.join(" ");case"FunctionDefinition":return r=>{const i=t[2],o=t[4];return vR((...a)=>{const c=i.reduce((u,h,m)=>(u[h]=a[m],u),Object.assign({},r));return o(c)},i)};case"ContextEntry":return r=>{const i=typeof t[0]=="function"?t[0](r):t[0],o=t[1](r);return[i,o]};case"Key":return t[0];case"Identifier":return e;case"SpecialFunctionName":return r=>mR(e);case"Name":return e.replace(/\s{2,}/g," ");case"VariableName":return r=>{const i=t.join(" "),o=VD(i,r);return typeof o<"u"?o:mR(i)||null};case"QualifiedName":return r=>t.reduce((i,o)=>o(i),r);case"?":return r=>VD("?",r);case"IterationContext":return r=>{const i=t[0](r),o=t[1]&&t[1](r);return o?ay(i,o):i};case"Type":return t[0];case"InExpressions":return r=>{const i=t.map(o=>o(r));return i.some(o=>es(o)!=="list")?null:r5e(i).map(o=>(uu(o)||(o=[o]),Object.assign({},r,...o)))};case"InExpression":return r=>Y3e(r,t[0],t[2]);case"SpecialType":throw Rs("SpecialType");case"InstanceOfExpression":return vl(r=>{const i=t[0](r),o=t[3](r);return i instanceof o},ly("boolean"));case"every":return vl(r=>(i,o)=>{const a=i(r);return es(a)!=="list"?a:a.every(c=>gR(o(c)))},ly("boolean"));case"some":return vl(r=>(i,o)=>{const a=i(r);return es(a)!=="list"?a:a.some(c=>gR(o(c)))},ly("boolean"));case"NumericLiteral":return vl(r=>e.includes(".")?parseFloat(e):parseInt(e),"number");case"BooleanLiteral":return vl(r=>e==="true","boolean");case"StringLiteral":return vl(r=>o5e(e),"string");case"PositionalParameters":return r=>t.map(i=>i(r));case"NamedParameter":return r=>{const i=t[0],o=t[1](r);return[i,o]};case"NamedParameters":return r=>t.reduce((i,o)=>{const[a,c]=o(r);return i[a]=c,i},{});case"DateTimeConstructor":return r=>mR(e);case"DateTimeLiteral":return r=>{if(t.length===1)return t[0](r);{const i=vR(t[0](r));if(!i)return null;const o=t[2](r);return i.invoke(o)}};case"AtLiteral":return r=>{const i=vR(mR("@"));return i?i.invoke([t[0](r)]):null};case"FunctionInvocation":return r=>{const i=vR(t[0](r));if(!i)return null;const o=t[2](r);return i.invoke(o)};case"IfExpression":return function(){const r=t[1],i=t[3],o=t[5],a=wY(i,o);return vl(c=>gR(r(c))?i(c):o?o(c):null,a)}();case"Parameters":return t.length===3?t[1]:r=>[];case"Comparison":return r=>{const i=t[1];if(i==="in")return Q3e(t[0](r),(t[3]||t[2])(r));if(i==="between"){const u=t[2](r),h=t[4](r);return u===null||h===null?null:ay(u,h).includes(t[0](r))}const o=t[0](r),a=t[2](r),c=i()(a);return Pj(c,o)};case"QuantifiedExpression":return r=>{const i=t[0](r),o=t[1],a=t[3];return i(o,a)};case"ForExpression":return r=>{const i=t[t.length-1],o=t[1](r);if(es(o)!=="list")return o;const a=[];for(const c of o)a.push(i(Object.assign(Object.assign({},c),{partial:a})));return a};case"ArithmeticExpression":return function(){if(t.length===3){const[r,i,o]=t;return vl(a=>i(a)(r,o),wY(r,o))}if(t.length===2){const[r,i]=t;return vl(o=>r(o)(()=>0,i),i.type)}}();case"PositiveUnaryTest":return t[0];case"ParenthesizedExpression":return t[1];case"PathExpression":return r=>{const i=t[0](r),o=t[1];return uu(i)?i.map(o):o(i)};case"FilterExpression":return r=>{const i=t[0](r),o=t[2],a=uu(i)?i:[i];if(i===null)return null;if(typeof o.type>"u")try{const c=o(r);HC(c)&&(o.type="number")}catch{}if(o.type==="number"){const c=o(r),u=a[c<0?a.length+c:c-1];return typeof u>"u"?null:u}if(o.type==="boolean")return o(r)?a:[];if(o.type==="string"){const c=o(r);return a.filter(u=>u===c)}return a.map(c=>{const u=Object.assign(Object.assign(Object.assign({},r),{item:c}),c);let h=o(u);return typeof h=="function"&&(h=h(c)),h instanceof gc&&(h=h.includes(c)),h===!0?c:h}).filter(gR)};case"SimplePositiveUnaryTest":return vl(r=>t.length===1?t[0](r):t[0](r)(t[1](r)),"test");case"List":return r=>t.slice(1,-1).map(i=>i(r));case"Interval":return vl(r=>{const i=t[1](r),o=t[2](r),a=i!==null&&t[0]==="[",c=o!==null&&t[3]==="]";return ay(i,o,a,c)},ly("boolean"));case"PositiveUnaryTests":case"Expressions":return r=>t.map(i=>i(r));case"Expression":return r=>t[0](r);case"UnaryTests":return r=>(i=null)=>{const o=t[0]==="not",c=(o?t.slice(2,-1):t).map(u=>u(r)).flat(1).map(u=>uu(u)?u.includes(i):u===null?null:typeof u=="boolean"?u:Pj(u,i)).reduce(i5e,void 0);return c===null?null:o?!c:c};default:return n.name}}function mR(n,e){return VD(n,D3e)}function Y3e(n,e,t){const r=t(n);return["list","range"].includes(es(r))?r.map(i=>({[e]:i})):null}function Q3e(n,e){if(!uu(e)){if(es(e)==="nil")return null;e=[e]}return e.some(t=>Pj(t,n))}function Pj(n,e){return typeof n=="function"?n(e):n instanceof gc?n.includes(e):lg(n,e)}const GS=Array.from("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function E1(n,e){return e.some(t=>es(t)===n)&&e.every(t=>t===null||es(t)===n)}const K3e=new gc({start:null,end:null,"start included":!1,"end included":!1,map(){return[]},includes(){return null}});function ay(n,e,t=!0,r=!0){if(E1("string",[n,e]))return e5e(n,e,t,r);if(E1("number",[n,e]))return t5e(n,e,t,r);if(E1("duration",[n,e]))return n5e(n,e,t,r);if(E1("time",[n,e])||E1("date time",[n,e])||E1("date",[n,e]))return zL(n,e,t,r);if(n===null&&e===null)return K3e;throw new Error(`unsupported range: ${n}..${e}`)}function _I(){return()=>{throw new Error("unsupported range operation: map")}}function X3e(n){return e=>n.map(e)}function Z3e(n){return e=>n.includes(e)}function J3e(n,e,t,r){const i=n>e?-1:1;return o=>{const a=[];for(let c=n;!(!(c===0&&!t)&&(c===e&&!r||(a.push(o(c)),c===e)));c+=i);return a}}function BL(n,e){return e?t=>n<=t:t=>n<t}function VL(n,e){return e?t=>n>=t:t=>n>t}function EI(n,e,t,r,i=o=>o){let o=[];return n===null&&e===null?()=>null:(n!==null&&e!==null?n>e?o=[BL(e,r),VL(n,t)]:o=[BL(n,t),VL(e,r)]:e!==null?o=[VL(e,r)]:n!==null&&(o=[BL(n,t)]),a=>a===null?null:o.every(c=>c(i(a))))}function e5e(n,e,t=!0,r=!0){if(n!==null&&!GS.includes(n))throw new Error("illegal range start: "+n);if(e!==null&&!GS.includes(e))throw new Error("illegal range end: "+e);let i;if(n!==null&&e!==null){let c=GS.indexOf(n),u=GS.indexOf(e);const h=c>u?-1:1;t===!1&&(c+=h),r===!1&&(u-=h),i=GS.slice(c,u+1)}const o=i?X3e(i):_I(),a=i?Z3e(i):EI(n,e,t,r);return new gc({start:n,end:e,"start included":t,"end included":r,map:o,includes:a})}function t5e(n,e,t,r){const i=n!==null&&e!==null?J3e(n,e,t,r):_I(),o=EI(n,e,t,r);return new gc({start:n,end:e,"start included":t,"end included":r,map:i,includes:o})}function n5e(n,e,t,r){const i=c=>c?rr.fromDurationLike(c).toMillis():null,o=_I(),a=EI(i(n),i(e),t,r,i);return new gc({start:n,end:e,"start included":t,"end included":r,map:o,includes:a})}function zL(n,e,t,r){const i=_I(),o=EI(n,e,t,r);return new gc({start:n,end:e,"start included":t,"end included":r,map:i,includes:o})}function r5e(n){if(n.some(r=>es(r)==="nil"))return null;const e=(r,i)=>[].concat(...r.map(o=>i.map(a=>[].concat(o,a)))),t=(r,i,...o)=>i?t(e(r,i),...o):r||[];return t(...n)}function wY(n,e){return!e||n.type===e.type?n.type:"any"}function vl(n,e){return Object.assign(n,{type:e,toString(){return`TaggedFunction[${e}] ${Function.prototype.toString.call(n)}`}})}function i5e(n,e){return n||e}function gR(n){return n!==!1&&n!==null}function ly(n){return`Test<${n}>`}function vR(n,e=null){return n?n instanceof wM?n:n instanceof gc?new wM(t=>n.includes(t),["value"]):typeof n!="function"?null:new wM(n,e||J9(n)):null}function o5e(n){return n.startsWith('"')&&(n=n.slice(1)),n.endsWith('"')&&(n=n.slice(0,-1)),n.replace(/(\\")|(\\\\)|(\\u[a-fA-F0-9]{5,6})|((?:\\u[a-fA-F0-9]{1,4})+)/ig,function(e,...t){const[r,i,o,a]=t;if(r)return'"';if(i)return"\\";const c=/\\u([a-fA-F0-9]+)/ig;if(o){const u=c.exec(o);return String.fromCodePoint(parseInt(u[1],16))}if(a){const u=[];let h;for(;(h=c.exec(e))!==null;)u.push(parseInt(h[1],16));return String.fromCharCode(...u)}throw new Error("illegal match")})}function s5e(n){const e=n.node,t=e.parent;if(e.from!==e.to)return{from:e.from,to:e.to,message:`Unrecognized token in <${t.name}>`};const r=a5e(e);if(r)return{from:e.from,to:r.to,message:`Unrecognized token <${r.name}> in <${t.name}>`};{const i=t.enterUnfinishedNodesBefore(n.to);return{from:e.from,to:e.to,message:`Incomplete <${(i||t).name}>`}}}function a5e(n){const e=n.node;let t,r=e;do{if(t=r.nextSibling,t)return t;r=r.parent}while(r);return null}let Aj=[],Dse=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?Dse:Aj).push(t=t+n[e])})();function l5e(n){if(n<768)return!1;for(let e=0,t=Aj.length;;){let r=e+t>>1;if(n<Aj[r])t=r;else if(n>=Dse[r])e=r+1;else return!0;if(e==t)return!1}}function _Y(n){return n>=127462&&n<=127487}const EY=8205;function c5e(n,e,t=!0,r=!0){return(t?Nse:u5e)(n,e,r)}function Nse(n,e,t){if(e==n.length)return e;e&&Ise(n.charCodeAt(e))&&Fse(n.charCodeAt(e-1))&&e--;let r=HL(n,e);for(e+=SY(r);e<n.length;){let i=HL(n,e);if(r==EY||i==EY||t&&l5e(i))e+=SY(i),r=i;else if(_Y(i)){let o=0,a=e-2;for(;a>=0&&_Y(HL(n,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function u5e(n,e,t){for(;e>0;){let r=Nse(n,e-2,t);if(r<e)return r;e--}return 0}function HL(n,e){let t=n.charCodeAt(e);if(!Fse(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return Ise(r)?(t-55296<<10)+(r-56320)+65536:t}function Ise(n){return n>=56320&&n<57344}function Fse(n){return n>=55296&&n<56320}function SY(n){return n<65536?1:2}let qr=class Lse{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Kx(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),Of.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Kx(this,e,t);let r=[];return this.decompose(e,t,r,0),Of.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Bk(this),o=new Bk(e);for(let a=t,c=t;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(c+=i.value.length,i.done||c>=r)return!0}}iter(e=1){return new Bk(this,e)}iterRange(e,t=this.length){return new $se(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new jse(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Lse.empty:e.length<=32?new No(e):Of.from(No.split(e,[]))}};class No extends qr{constructor(e,t=d5e(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let a=this.text[o],c=i+a.length;if((t?r:c)>=e)return new f5e(i,c,r,a);i=c+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new No(kY(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),c=_M(o.text,a.text.slice(),0,o.length);if(c.length<=32)r.push(new No(c,a.length+o.length));else{let u=c.length>>1;r.push(new No(c.slice(0,u)),new No(c.slice(u)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof No))return super.replace(e,t,r);[e,t]=Kx(this,e,t);let i=_M(this.text,_M(r.text,kY(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new No(i,o):Of.from(No.split(i,[]),o)}sliceString(e,t=this.length,r=`
`){[e,t]=Kx(this,e,t);let i="";for(let o=0,a=0;o<=t&&a<this.text.length;a++){let c=this.text[a],u=o+c.length;o>e&&a&&(i+=r),e<u&&t>o&&(i+=c.slice(Math.max(0,e-o),t-o)),o=u+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new No(r,i)),r=[],i=-1);return i>-1&&t.push(new No(r,i)),t}}class Of extends qr{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let a=this.children[o],c=i+a.length,u=r+a.lines-1;if((t?u:c)>=e)return a.lineInner(e,t,r,i);i=c+1,r=u+1}}decompose(e,t,r,i){for(let o=0,a=0;a<=t&&o<this.children.length;o++){let c=this.children[o],u=a+c.length;if(e<=u&&t>=a){let h=i&((a<=e?1:0)|(u>=t?2:0));a>=e&&u<=t&&!h?r.push(c):c.decompose(e-a,t-a,r,h)}a=u+1}}replace(e,t,r){if([e,t]=Kx(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],c=o+a.length;if(e>=o&&t<=c){let u=a.replace(e-o,t-o,r),h=this.lines-a.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let m=this.children.slice();return m[i]=u,new Of(m,this.length-(t-e)+r.length)}return super.replace(o,c,u)}o=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Kx(this,e,t);let i="";for(let o=0,a=0;o<this.children.length&&a<=t;o++){let c=this.children[o],u=a+c.length;a>e&&o&&(i+=r),e<u&&t>a&&(i+=c.sliceString(e-a,t-a,r)),a=u+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Of))return 0;let r=0,[i,o,a,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==a||o==c)return r;let u=this.children[i],h=e.children[o];if(u!=h)return r+u.scanIdentical(h,t);r+=u.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let S of e)r+=S.lines;if(r<32){let S=[];for(let T of e)T.flatten(S);return new No(S,t)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,c=[],u=0,h=-1,m=[];function y(S){let T;if(S.lines>o&&S instanceof Of)for(let O of S.children)y(O);else S.lines>a&&(u>a||!u)?(w(),c.push(S)):S instanceof No&&u&&(T=m[m.length-1])instanceof No&&S.lines+T.lines<=32?(u+=S.lines,h+=S.length+1,m[m.length-1]=new No(T.text.concat(S.text),T.length+1+S.length)):(u+S.lines>i&&w(),u+=S.lines,h+=S.length+1,m.push(S))}function w(){u!=0&&(c.push(m.length==1?m[0]:Of.from(m,h)),h=-1,u=m.length=0)}for(let S of e)y(S);return w(),c.length==1?c[0]:new Of(c,t)}}qr.empty=new No([""],0);function d5e(n){let e=-1;for(let t of n)e+=t.length+1;return e}function _M(n,e,t=0,r=1e9){for(let i=0,o=0,a=!0;o<n.length&&i<=r;o++){let c=n[o],u=i+c.length;u>=t&&(u>r&&(c=c.slice(0,r-i)),i<t&&(c=c.slice(t-i)),a?(e[e.length-1]+=c,a=!1):e.push(c)),i=u+1}return e}function kY(n,e,t){return _M(n,[""],e,t)}class Bk{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof No?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,c=i instanceof No?i.text.length:i.children.length;if(a==(t>0?c:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof No){let u=i.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,u.length>Math.max(0,e))return this.value=e==0?u:t>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[a+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof No?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class $se{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Bk(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class jse{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(qr.prototype[Symbol.iterator]=function(){return this.iter()},Bk.prototype[Symbol.iterator]=$se.prototype[Symbol.iterator]=jse.prototype[Symbol.iterator]=function(){return this});let f5e=class{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}};function Kx(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Ha(n,e,t=!0,r=!0){return c5e(n,e,t,r)}function h5e(n){return n>=56320&&n<57344}function p5e(n){return n>=55296&&n<56320}function Ef(n,e){let t=n.charCodeAt(e);if(!p5e(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return h5e(r)?(t-55296<<10)+(r-56320)+65536:t}function Bse(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Rm(n){return n<65536?1:2}const Rj=/\r\n?|\n/;var Zs=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Zs||(Zs={}));class Yh{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],a=this.sections[t++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,t=!1){Mj(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new Yh(e)}composeDesc(e){return this.empty?e:e.empty?this:Vse(this,e)}mapDesc(e,t=!1){return e.empty?this:Dj(this,e,t)}mapPos(e,t=-1,r=Zs.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let c=this.sections[a++],u=this.sections[a++],h=i+c;if(u<0){if(h>e)return o+(e-i);o+=c}else{if(r!=Zs.Simple&&h>=e&&(r==Zs.TrackDel&&i<e&&h>e||r==Zs.TrackBefore&&i<e||r==Zs.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!c)return e==i||t<0?o:o+u;o+=u}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=this.sections[r++],a=this.sections[r++],c=i+o;if(a>=0&&i<=t&&c>=e)return i<e&&c>t?"cover":!0;i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Yh(e)}static create(e){return new Yh(e)}}class Is extends Yh{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Mj(this,(t,r,i,o,a)=>e=e.replace(i,i+(r-t),a),!1),e}mapDesc(e,t=!1){return Dj(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let a=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=a;let u=i>>1;for(;r.length<u;)r.push(qr.empty);r.push(a?e.slice(o,o+a):qr.empty)}o+=a}return new Is(t,r)}compose(e){return this.empty?e:e.empty?this:Vse(this,e,!0)}map(e,t=!1){return e.empty?this:Dj(this,e,t,!0)}iterChanges(e,t=!1){Mj(this,e,t)}get desc(){return Yh.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new WC(this);e:for(let a=0,c=0;;){let u=a==e.length?1e9:e[a++];for(;c<u||c==u&&o.len==0;){if(o.done)break e;let m=Math.min(o.len,u-c);ua(i,m,-1);let y=o.ins==-1?-1:o.off==0?o.ins:0;ua(t,m,y),y>0&&Um(r,t,o.text),o.forward(m),c+=m}let h=e[a++];for(;c<h;){if(o.done)break e;let m=Math.min(o.len,h-c);ua(t,m,-1),ua(i,m,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(m),c+=m}}return{changes:new Is(t,r),filtered:Yh.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],a=0,c=null;function u(m=!1){if(!m&&!i.length)return;a<t&&ua(i,t-a,-1);let y=new Is(i,o);c=c?c.compose(y.map(c)):y,i=[],o=[],a=0}function h(m){if(Array.isArray(m))for(let y of m)h(y);else if(m instanceof Is){if(m.length!=t)throw new RangeError(`Mismatched change set length (got ${m.length}, expected ${t})`);u(),c=c?c.compose(m.map(c)):m}else{let{from:y,to:w=y,insert:S}=m;if(y>w||y<0||w>t)throw new RangeError(`Invalid change range ${y} to ${w} (in doc of length ${t})`);let T=S?typeof S=="string"?qr.of(S.split(r||Rj)):S:qr.empty,O=T.length;if(y==w&&O==0)return;y<a&&u(),y>a&&ua(i,y-a,-1),ua(i,w-y,O),Um(o,i,T),a=w}}return h(e),u(!c),c}static empty(e){return new Is(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,c)=>c&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(qr.empty);r[i]=qr.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new Is(t,r)}static createSet(e,t){return new Is(e,t)}}function ua(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Um(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(qr.empty);n.push(t)}}function Mj(n,e,t){let r=n.inserted;for(let i=0,o=0,a=0;a<n.sections.length;){let c=n.sections[a++],u=n.sections[a++];if(u<0)i+=c,o+=c;else{let h=i,m=o,y=qr.empty;for(;h+=c,m+=u,u&&r&&(y=y.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)c=n.sections[a++],u=n.sections[a++];e(i,h,o,m,y),i=h,o=m}}}function Dj(n,e,t,r=!1){let i=[],o=r?[]:null,a=new WC(n),c=new WC(e);for(let u=-1;;){if(a.done&&c.len||c.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&c.ins==-1){let h=Math.min(a.len,c.len);ua(i,h,-1),a.forward(h),c.forward(h)}else if(c.ins>=0&&(a.ins<0||u==a.i||a.off==0&&(c.len<a.len||c.len==a.len&&!t))){let h=c.len;for(ua(i,c.ins,-1);h;){let m=Math.min(a.len,h);a.ins>=0&&u<a.i&&a.len<=m&&(ua(i,0,a.ins),o&&Um(o,i,a.text),u=a.i),a.forward(m),h-=m}c.next()}else if(a.ins>=0){let h=0,m=a.len;for(;m;)if(c.ins==-1){let y=Math.min(m,c.len);h+=y,m-=y,c.forward(y)}else if(c.ins==0&&c.len<m)m-=c.len,c.next();else break;ua(i,h,u<a.i?a.ins:0),o&&u<a.i&&Um(o,i,a.text),u=a.i,a.forward(a.len-m)}else{if(a.done&&c.done)return o?Is.createSet(i,o):Yh.create(i);throw new Error("Mismatched change set lengths")}}}function Vse(n,e,t=!1){let r=[],i=t?[]:null,o=new WC(n),a=new WC(e);for(let c=!1;;){if(o.done&&a.done)return i?Is.createSet(r,i):Yh.create(r);if(o.ins==0)ua(r,o.len,0,c),o.next();else if(a.len==0&&!a.done)ua(r,0,a.ins,c),i&&Um(i,r,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let u=Math.min(o.len2,a.len),h=r.length;if(o.ins==-1){let m=a.ins==-1?-1:a.off?0:a.ins;ua(r,u,m,c),i&&m&&Um(i,r,a.text)}else a.ins==-1?(ua(r,o.off?0:o.len,u,c),i&&Um(i,r,o.textBit(u))):(ua(r,o.off?0:o.len,a.off?0:a.ins,c),i&&!a.off&&Um(i,r,a.text));c=(o.ins>u||a.ins>=0&&a.len>u)&&(c||r.length>h),o.forward2(u),a.forward(u)}}}}class WC{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?qr.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?qr.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ty{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Ty(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return vt.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return vt.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return vt.range(e.anchor,e.head)}static create(e,t,r){return new Ty(e,t,r)}}class vt{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:vt.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new vt([this.main],0)}addRange(e,t=!0){return vt.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,vt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new vt(e.ranges.map(t=>Ty.fromJSON(t)),e.main)}static single(e,t=e){return new vt([vt.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return vt.normalized(e.slice(),t);r=o.to}return new vt(e,t)}static cursor(e,t=0,r,i){return Ty.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Ty.create(t,e,48|o):Ty.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let c=a.from,u=Math.max(o.to,a.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?vt.range(u,c):vt.range(c,u))}}return new vt(e,t)}}function zse(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let t7=0;class en{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=t7++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new en(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:n7),!!e.static,e.enables)}of(e){return new EM([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new EM(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new EM(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function n7(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class EM{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=t7++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,c=this.type==2,u=!1,h=!1,m=[];for(let y of this.dependencies)y=="doc"?u=!0:y=="selection"?h=!0:((t=e[y.id])!==null&&t!==void 0?t:1)&1||m.push(e[y.id]);return{create(y){return y.values[a]=r(y),1},update(y,w){if(u&&w.docChanged||h&&(w.docChanged||w.selection)||Nj(y,m)){let S=r(y);if(c?!CY(S,y.values[a],i):!i(S,y.values[a]))return y.values[a]=S,1}return 0},reconfigure:(y,w)=>{let S,T=w.config.address[o];if(T!=null){let O=HD(w,T);if(this.dependencies.every(N=>N instanceof en?w.facet(N)===y.facet(N):N instanceof Cc?w.field(N,!1)==y.field(N,!1):!0)||(c?CY(S=r(y),O,i):i(S=r(y),O)))return y.values[a]=O,0}else S=r(y);return y.values[a]=S,1}}}}function CY(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function Nj(n,e){let t=!1;for(let r of e)Vk(n,r)&1&&(t=!0);return t}function m5e(n,e,t){let r=t.map(u=>n[u.id]),i=t.map(u=>u.type),o=r.filter(u=>!(u&1)),a=n[e.id]>>1;function c(u){let h=[];for(let m=0;m<r.length;m++){let y=HD(u,r[m]);if(i[m]==2)for(let w of y)h.push(w);else h.push(y)}return e.combine(h)}return{create(u){for(let h of r)Vk(u,h);return u.values[a]=c(u),1},update(u,h){if(!Nj(u,o))return 0;let m=c(u);return e.compare(m,u.values[a])?0:(u.values[a]=m,1)},reconfigure(u,h){let m=Nj(u,r),y=h.config.facets[e.id],w=h.facet(e);if(y&&!m&&n7(t,y))return u.values[a]=w,0;let S=c(u);return e.compare(S,w)?(u.values[a]=w,0):(u.values[a]=S,1)}}}const yR=en.define({static:!0});class Cc{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new Cc(t7++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(yR).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[t]=a,1)},reconfigure:(r,i)=>{let o=r.facet(yR),a=i.facet(yR),c;return(c=o.find(u=>u.field==this))&&c!=a.find(u=>u.field==this)?(r.values[t]=c.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,yR.of({field:this,create:e})]}get extension(){return this}}const xy={lowest:4,low:3,default:2,high:1,highest:0};function YS(n){return e=>new Hse(e,n)}const Dw={highest:YS(xy.highest),high:YS(xy.high),default:YS(xy.default),low:YS(xy.low),lowest:YS(xy.lowest)};class Hse{constructor(e,t){this.inner=e,this.prec=t}}class Nw{of(e){return new Ij(this,e)}reconfigure(e){return Nw.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ij{constructor(e,t){this.compartment=e,this.inner=t}}class zD{constructor(e,t,r,i,o,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),a=new Map;for(let w of g5e(e,t,a))w instanceof Cc?i.push(w):(o[w.facet.id]||(o[w.facet.id]=[])).push(w);let c=Object.create(null),u=[],h=[];for(let w of i)c[w.id]=h.length<<1,h.push(S=>w.slot(S));let m=r==null?void 0:r.config.facets;for(let w in o){let S=o[w],T=S[0].facet,O=m&&m[w]||[];if(S.every(N=>N.type==0))if(c[T.id]=u.length<<1|1,n7(O,S))u.push(r.facet(T));else{let N=T.combine(S.map(D=>D.value));u.push(r&&T.compare(N,r.facet(T))?r.facet(T):N)}else{for(let N of S)N.type==0?(c[N.id]=u.length<<1|1,u.push(N.value)):(c[N.id]=h.length<<1,h.push(D=>N.dynamicSlot(D)));c[T.id]=h.length<<1,h.push(N=>m5e(N,T,S))}}let y=h.map(w=>w(c));return new zD(e,a,y,c,u,o)}}function g5e(n,e,t){let r=[[],[],[],[],[]],i=new Map;function o(a,c){let u=i.get(a);if(u!=null){if(u<=c)return;let h=r[u].indexOf(a);h>-1&&r[u].splice(h,1),a instanceof Ij&&t.delete(a.compartment)}if(i.set(a,c),Array.isArray(a))for(let h of a)o(h,c);else if(a instanceof Ij){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(a.compartment)||a.inner;t.set(a.compartment,h),o(h,c)}else if(a instanceof Hse)o(a.inner,a.prec);else if(a instanceof Cc)r[c].push(a),a.provides&&o(a.provides,c);else if(a instanceof EM)r[c].push(a),a.facet.extensions&&o(a.facet.extensions,xy.default);else{let h=a.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(h,c)}}return o(n,xy.default),r.reduce((a,c)=>a.concat(c))}function Vk(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function HD(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const Wse=en.define(),Fj=en.define({combine:n=>n.some(e=>e),static:!0}),qse=en.define({combine:n=>n.length?n[0]:void 0,static:!0}),Use=en.define(),Gse=en.define(),Yse=en.define(),Qse=en.define({combine:n=>n.length?n[0]:!1});class E0{constructor(e,t){this.type=e,this.value=t}static define(){return new v5e}}class v5e{of(e){return new E0(this,e)}}class y5e{constructor(e){this.map=e}of(e){return new jr(this,e)}}class jr{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new jr(this.type,t)}is(e){return this.type==e}static define(e={}){return new y5e(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}}jr.reconfigure=jr.define();jr.appendConfig=jr.define();class Js{constructor(e,t,r,i,o,a){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&zse(r,t.newLength),o.some(c=>c.type==Js.time)||(this.annotations=o.concat(Js.time.of(Date.now())))}static create(e,t,r,i,o,a){return new Js(e,t,r,i,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Js.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Js.time=E0.define();Js.userEvent=E0.define();Js.addToHistory=E0.define();Js.remote=E0.define();function b5e(n,e){let t=[];for(let r=0,i=0;;){let o,a;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],a=n[r++];else if(i<e.length)o=e[i++],a=e[i++];else return t;!t.length||t[t.length-1]<o?t.push(o,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function Kse(n,e,t){var r;let i,o,a;return t?(i=e.changes,o=Is.empty(e.changes.length),a=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:jr.mapEffects(n.effects,i).concat(jr.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Lj(n,e,t){let r=e.selection,i=fx(e.annotations);return e.userEvent&&(i=i.concat(Js.userEvent.of(e.userEvent))),{changes:e.changes instanceof Is?e.changes:Is.of(e.changes||[],t,n.facet(qse)),selection:r&&(r instanceof vt?r:vt.single(r.anchor,r.head)),effects:fx(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Xse(n,e,t){let r=Lj(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let a=!!e[o].sequential;r=Kse(r,Lj(n,e[o],a?r.changes.newLength:n.doc.length),a)}let i=Js.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return w5e(t?x5e(i):i)}function x5e(n){let e=n.startState,t=!0;for(let i of e.facet(Use)){let o=i(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:b5e(t,o))}if(t!==!0){let i,o;if(t===!1)o=n.changes.invertedDesc,i=Is.empty(e.doc.length);else{let a=n.changes.filter(t);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}n=Js.create(e,i,n.selection&&n.selection.map(o),jr.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let r=e.facet(Gse);for(let i=r.length-1;i>=0;i--){let o=r[i](n);o instanceof Js?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Js?n=o[0]:n=Xse(e,fx(o),!1)}return n}function w5e(n){let e=n.startState,t=e.facet(Yse),r=n;for(let i=t.length-1;i>=0;i--){let o=t[i](n);o&&Object.keys(o).length&&(r=Kse(r,Lj(e,o,n.changes.newLength),!0))}return r==n?n:Js.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const _5e=[];function fx(n){return n==null?_5e:Array.isArray(n)?n:[n]}var mu=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(mu||(mu={}));const E5e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let $j;try{$j=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function S5e(n){if($j)return $j.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||E5e.test(t)))return!0}return!1}function k5e(n){return e=>{if(!/\S/.test(e))return mu.Space;if(S5e(e))return mu.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return mu.Word;return mu.Other}}class Lr{constructor(e,t,r,i,o,a){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)Vk(this,c<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Vk(this,r),HD(this,r)}update(...e){return Xse(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let c of e.effects)c.is(Nw.reconfigure)?(t&&(i=new Map,t.compartments.forEach((u,h)=>i.set(h,u)),t=null),i.set(c.value.compartment,c.value.extension)):c.is(jr.reconfigure)?(t=null,r=c.value):c.is(jr.appendConfig)&&(t=null,r=fx(r).concat(c.value));let o;t?o=e.startState.values.slice():(t=zD.resolve(r,i,this),o=new Lr(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let a=e.startState.facet(Fj)?e.newSelection:e.newSelection.asSingle();new Lr(t,e.newDoc,a,o,(c,u)=>u.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:vt.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],a=fx(r.effects);for(let c=1;c<t.ranges.length;c++){let u=e(t.ranges[c]),h=this.changes(u.changes),m=h.map(i);for(let w=0;w<c;w++)o[w]=o[w].map(m);let y=i.mapDesc(h,!0);o.push(u.range.map(y)),i=i.compose(m),a=jr.mapEffects(a,m).concat(jr.mapEffects(fx(u.effects),y))}return{changes:i,selection:vt.create(o,t.mainIndex),effects:a}}changes(e=[]){return e instanceof Is?e:Is.of(e,this.doc.length,this.facet(Lr.lineSeparator))}toText(e){return qr.of(e.split(this.facet(Lr.lineSeparator)||Rj))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Vk(this,t),HD(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Cc&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let a=r[o],c=e[o];i.push(a.init(u=>a.spec.fromJSON(c,u)))}}return Lr.create({doc:e.doc,selection:vt.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=zD.resolve(e.extensions||[],new Map),r=e.doc instanceof qr?e.doc:qr.of((e.doc||"").split(t.staticFacet(Lr.lineSeparator)||Rj)),i=e.selection?e.selection instanceof vt?e.selection:vt.single(e.selection.anchor,e.selection.head):vt.single(0);return zse(i,r.length),t.staticFacet(Fj)||(i=i.asSingle()),new Lr(t,r,i,t.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(Lr.tabSize)}get lineBreak(){return this.facet(Lr.lineSeparator)||`
`}get readOnly(){return this.facet(Qse)}phrase(e,...t){for(let r of this.facet(Lr.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(Wse))for(let a of o(this,t,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return k5e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-r,c=e-r;for(;a>0;){let u=Ha(t,a,!1);if(o(t.slice(u,a))!=mu.Word)break;a=u}for(;c<i;){let u=Ha(t,c);if(o(t.slice(c,u))!=mu.Word)break;c=u}return a==c?null:vt.range(a+r,c+r)}}Lr.allowMultipleSelections=Fj;Lr.tabSize=en.define({combine:n=>n.length?n[0]:4});Lr.lineSeparator=qse;Lr.readOnly=Qse;Lr.phrases=en.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Lr.languageData=Wse;Lr.changeFilter=Use;Lr.transactionFilter=Gse;Lr.transactionExtender=Yse;Nw.reconfigure=jr.define();function SI(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let a=i[o],c=r[o];if(c===void 0)r[o]=a;else if(!(c===a||a===void 0))if(Object.hasOwnProperty.call(t,o))r[o]=t[o](c,a);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class a0{eq(e){return this==e}range(e,t=e){return qC.create(e,t,this)}}a0.prototype.startSide=a0.prototype.endSide=0;a0.prototype.point=!1;a0.prototype.mapMode=Zs.TrackDel;class qC{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new qC(e,t,r)}}function jj(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class r7{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let a=i,c=o.length;;){if(a==c)return a;let u=a+c>>1,h=o[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-t;if(u==a)return h>=0?a:c;h>=0?c=u:a=u+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],a=-1,c=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],m=this.from[u]+e,y=this.to[u]+e,w,S;if(m==y){let T=t.mapPos(m,h.startSide,h.mapMode);if(T==null||(w=S=T,h.startSide!=h.endSide&&(S=t.mapPos(m,h.endSide),S<w)))continue}else if(w=t.mapPos(m,h.startSide),S=t.mapPos(y,h.endSide),w>S||w==S&&h.startSide>0&&h.endSide<=0)continue;(S-w||h.endSide-h.startSide)<0||(a<0&&(a=w),h.point&&(c=Math.max(c,S-w)),r.push(h),i.push(w-a),o.push(S-a))}return{mapped:r.length?new r7(i,o,r,c):null,pos:a}}}class ii{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new ii(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(r&&(t=t.slice().sort(jj)),this.isEmpty)return t.length?ii.of(t):this;let c=new Zse(this,null,-1).goto(0),u=0,h=[],m=new Xx;for(;c.value||u<t.length;)if(u<t.length&&(c.from-t[u].from||c.startSide-t[u].value.startSide)>=0){let y=t[u++];m.addInner(y.from,y.to,y.value)||h.push(y)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(u==t.length||this.chunkEnd(c.chunkIndex)<t[u].from)&&(!a||i>this.chunkEnd(c.chunkIndex)||o<this.chunkPos[c.chunkIndex])&&m.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!a||i>c.to||o<c.from||a(c.from,c.to,c.value))&&(m.addInner(c.from,c.to,c.value)||h.push(qC.create(c.from,c.to,c.value))),c.next());return m.finishInner(this.nextLayer.isEmpty&&!h.length?ii.empty:this.nextLayer.update({add:h,filter:a,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let c=this.chunkPos[a],u=this.chunk[a],h=e.touchesRange(c,c+u.length);if(h===!1)i=Math.max(i,u.maxPoint),t.push(u),r.push(e.mapPos(c));else if(h===!0){let{mapped:m,pos:y}=u.map(c,e);m&&(i=Math.max(i,m.maxPoint),t.push(m),r.push(y))}}let o=this.nextLayer.map(e);return t.length==0?o:new ii(r,t,o||ii.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i];if(t>=o&&e<=o+a.length&&a.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return UC.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return UC.from(e).goto(t)}static compare(e,t,r,i,o=-1){let a=e.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=o),c=t.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=o),u=OY(a,c,r),h=new QS(a,u,o),m=new QS(c,u,o);r.iterGaps((y,w,S)=>TY(h,y,m,w,S,i)),r.empty&&r.length==0&&TY(h,0,m,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(m=>!m.isEmpty&&t.indexOf(m)<0),a=t.filter(m=>!m.isEmpty&&e.indexOf(m)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let c=OY(o,a),u=new QS(o,c,0).goto(r),h=new QS(a,c,0).goto(r);for(;;){if(u.to!=h.to||!Bj(u.active,h.active)||u.point&&(!h.point||!u.point.eq(h.point)))return!1;if(u.to>i)return!0;u.next(),h.next()}}static spans(e,t,r,i,o=-1){let a=new QS(e,null,o).goto(t),c=t,u=a.openStart;for(;;){let h=Math.min(a.to,r);if(a.point){let m=a.activeForPoint(a.to),y=a.pointFrom<t?m.length+1:a.point.startSide<0?m.length:Math.min(m.length,u);i.point(c,h,a.point,m,y,a.pointRank),u=Math.min(a.openEnd(h),m.length)}else h>c&&(i.span(c,h,a.active,u),u=a.openEnd(h));if(a.to>r)return u+(a.point&&a.to>r?1:0);c=a.to,a.next()}}static of(e,t=!1){let r=new Xx;for(let i of e instanceof qC?[e]:t?C5e(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return ii.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=ii.empty;i=i.nextLayer)t=new ii(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}ii.empty=new ii([],[],null,-1);function C5e(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(jj(e,r)>0)return n.slice().sort(jj);e=r}return n}ii.empty.nextLayer=ii.empty;class Xx{finishChunk(e){this.chunks.push(new r7(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Xx)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(ii.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=ii.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function OY(n,e,t){let r=new Map;for(let o of n)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let c=r.get(o.chunk[a]);c!=null&&(t?t.mapPos(c):c)==o.chunkPos[a]&&!(t!=null&&t.touchesRange(c,c+o.chunk[a].length))&&i.add(o.chunk[a])}return i}class Zse{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class UC{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new Zse(a,t,r,o));return i.length==1?i[0]:new UC(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)WL(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)WL(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),WL(this.heap,0)}}}function WL(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class QS{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=UC.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){bR(this.active,e),bR(this.activeTo,e),bR(this.activeRank,e),this.minActive=PY(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;xR(this.active,t,r),xR(this.activeTo,t,i),xR(this.activeRank,t,o),e&&xR(e,t,this.cursor.from),this.minActive=PY(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&bR(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function TY(n,e,t,r,i,o){n.goto(e),t.goto(r);let a=r+i,c=r,u=r-e;for(;;){let h=n.to+u-t.to,m=h||n.endSide-t.endSide,y=m<0?n.to+u:t.to,w=Math.min(y,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Bj(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(c,w,n.point,t.point):w>c&&!Bj(n.active,t.active)&&o.compareRange(c,w,n.active,t.active),y>a)break;(h||n.openEnd!=t.openEnd)&&o.boundChange&&o.boundChange(y),c=y,m<=0&&n.next(),m>=0&&t.next()}}function Bj(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function bR(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function xR(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function PY(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function kI(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Ha(n,i));return r}function O5e(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=Ha(n,i)}return r===!0?-1:n.length}const Vj="",AY=typeof Symbol>"u"?"__"+Vj:Symbol.for(Vj),zj=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),RY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Eg{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,c,u,h){let m=[],y=/^@(\w+)\b/.exec(a[0]),w=y&&y[1]=="keyframes";if(y&&c==null)return u.push(a[0]+";");for(let S in c){let T=c[S];if(/&/.test(S))o(S.split(/,\s*/).map(O=>a.map(N=>O.replace(/&/,N))).reduce((O,N)=>O.concat(N)),T,u);else if(T&&typeof T=="object"){if(!y)throw new RangeError("The value of a property ("+S+") should be a primitive value.");o(i(S),T,m,w)}else T!=null&&m.push(S.replace(/_.*/,"").replace(/[A-Z]/g,O=>"-"+O.toLowerCase())+": "+T+";")}(m.length||w)&&u.push((r&&!y&&!h?a.map(r):a).join(", ")+" {"+m.join(" ")+"}")}for(let a in e)o(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=RY[AY]||1;return RY[AY]=e+1,Vj+e.toString(36)}static mount(e,t,r){let i=e[zj],o=r&&r.nonce;i?o&&i.setNonce(o):i=new T5e(e,o),i.mount(Array.isArray(t)?t:[t],e)}}let MY=new Map;class T5e{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=MY.get(r);if(o)return e[zj]=o;this.sheet=new i.CSSStyleSheet,MY.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[zj]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let a=0;a<e.length;a++){let c=e[a],u=this.modules.indexOf(c);if(u<o&&u>-1&&(this.modules.splice(u,1),o--,u=-1),u==-1){if(this.modules.splice(o++,0,c),r)for(let h=0;h<c.rules.length;h++)r.insertRule(c.rules[h],i++)}else{for(;o<u;)i+=this.modules[o++].rules.length;i+=c.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let u=0;u<this.modules.length;u++)a+=this.modules[u].getRules()+`
`;this.styleTag.textContent=a;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Sg={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},GC={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},P5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),A5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xs=0;Xs<10;Xs++)Sg[48+Xs]=Sg[96+Xs]=String(Xs);for(var Xs=1;Xs<=24;Xs++)Sg[Xs+111]="F"+Xs;for(var Xs=65;Xs<=90;Xs++)Sg[Xs]=String.fromCharCode(Xs+32),GC[Xs]=String.fromCharCode(Xs);for(var qL in Sg)GC.hasOwnProperty(qL)||(GC[qL]=Sg[qL]);function R5e(n){var e=P5e&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||A5e&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?GC:Sg)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function YC(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Hj(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function SM(n,e){if(!e.anchorNode)return!1;try{return Hj(n,e.anchorNode)}catch{return!1}}function Zx(n){return n.nodeType==3?c0(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function zk(n,e,t,r){return t?DY(n,e,t,r,-1)||DY(n,e,t,r,1):!1}function l0(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function WD(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function DY(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Wf(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=l0(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Wf(n):0}else return!1}}function Wf(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function N2(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function M5e(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Jse(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function D5e(n,e,t,r,i,o,a,c){let u=n.ownerDocument,h=u.defaultView||window;for(let m=n,y=!1;m&&!y;)if(m.nodeType==1){let w,S=m==u.body,T=1,O=1;if(S)w=M5e(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(m).position)&&(y=!0),m.scrollHeight<=m.clientHeight&&m.scrollWidth<=m.clientWidth){m=m.assignedSlot||m.parentNode;continue}let F=m.getBoundingClientRect();({scaleX:T,scaleY:O}=Jse(m,F)),w={left:F.left,right:F.left+m.clientWidth*T,top:F.top,bottom:F.top+m.clientHeight*O}}let N=0,D=0;if(i=="nearest")e.top<w.top?(D=e.top-(w.top+a),t>0&&e.bottom>w.bottom+D&&(D=e.bottom-w.bottom+a)):e.bottom>w.bottom&&(D=e.bottom-w.bottom+a,t<0&&e.top-D<w.top&&(D=e.top-(w.top+a)));else{let F=e.bottom-e.top,I=w.bottom-w.top;D=(i=="center"&&F<=I?e.top+F/2-I/2:i=="start"||i=="center"&&t<0?e.top-a:e.bottom-I+a)-w.top}if(r=="nearest"?e.left<w.left?(N=e.left-(w.left+o),t>0&&e.right>w.right+N&&(N=e.right-w.right+o)):e.right>w.right&&(N=e.right-w.right+o,t<0&&e.left<w.left+N&&(N=e.left-(w.left+o))):N=(r=="center"?e.left+(e.right-e.left)/2-(w.right-w.left)/2:r=="start"==c?e.left-o:e.right-(w.right-w.left)+o)-w.left,N||D)if(S)h.scrollBy(N,D);else{let F=0,I=0;if(D){let R=m.scrollTop;m.scrollTop+=D/O,I=(m.scrollTop-R)*O}if(N){let R=m.scrollLeft;m.scrollLeft+=N/T,F=(m.scrollLeft-R)*T}e={left:e.left-F,top:e.top-I,right:e.right-F,bottom:e.bottom-I},F&&Math.abs(F-N)<1&&(r="nearest"),I&&Math.abs(I-D)<1&&(i="nearest")}if(S)break;(e.top<w.top||e.bottom>w.bottom||e.left<w.left||e.right>w.right)&&(e={left:Math.max(e.left,w.left),right:Math.min(e.right,w.right),top:Math.max(e.top,w.top),bottom:Math.min(e.bottom,w.bottom)}),m=m.assignedSlot||m.parentNode}else if(m.nodeType==11)m=m.host;else break}function N5e(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class I5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Wf(t):0),r,Math.min(e.focusOffset,r?Wf(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let S1=null;function eae(n){if(n.setActive)return n.setActive();if(S1)return n.focus(S1);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(S1==null?{get preventScroll(){return S1={preventScroll:!0},!0}}:void 0),!S1){S1=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let NY;function c0(n,e,t=e){let r=NY||(NY=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function hx(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,n.dispatchEvent(o);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,n.dispatchEvent(a),o.defaultPrevented||a.defaultPrevented}function F5e(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function tae(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function L5e(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Wf(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Wf(t))}else{if(t==n)return!0;r=l0(t),t=t.parentNode}}function nae(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function rae(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Wf(t)}else if(t.parentNode&&!WD(t))r=l0(t),t=t.parentNode;else return null}}function iae(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!WD(t))r=l0(t)+1,t=t.parentNode;else return null}}class ha{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new ha(e.parentNode,l0(e),t)}static after(e,t){return new ha(e.parentNode,l0(e)+1,t)}}const i7=[];class Si{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=i?i.nextSibling:r.firstChild)){let c=Si.get(o);(!c||!c.parent&&c.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(e,t),a.flags&=-8}if(o=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&o!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;o&&o!=a.dom;)o=IY(o);else r.insertBefore(a.dom,o);i=a.dom}for(o=i?i.nextSibling:r.firstChild,o&&t&&t.node==r&&(t.written=!0);o;)o=IY(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Wf(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Si.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let a=this.children[i];if(a.dom==r)return o;o+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,a=-1,c=-1;for(let u=0,h=r,m=r;u<this.children.length;u++){let y=this.children[u],w=h+y.length;if(h<e&&w>t)return y.domBoundsAround(e,t,h);if(w>=e&&i==-1&&(i=u,o=h),h>t&&y.dom.parentNode==this.dom){a=u,c=m;break}m=w,h=w+y.breakAfter}return{from:o,to:c<0?r+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=i7){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new oae(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Si.prototype.breakAfter=0;function IY(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class oae{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function sae(n,e,t,r,i,o,a,c,u){let{children:h}=n,m=h.length?h[e]:null,y=o.length?o[o.length-1]:null,w=y?y.breakAfter:a;if(!(e==r&&m&&!a&&!w&&o.length<2&&m.merge(t,i,o.length?y:null,t==0,c,u))){if(r<h.length){let S=h[r];S&&(i<S.length||S.breakAfter&&(y!=null&&y.breakAfter))?(e==r&&(S=S.split(i),i=0),!w&&y&&S.merge(0,i,y,!0,0,u)?o[o.length-1]=S:((i||S.children.length&&!S.children[0].length)&&S.merge(0,i,null,!1,0,u),o.push(S))):S!=null&&S.breakAfter&&(y?y.breakAfter=1:a=1),r++}for(m&&(m.breakAfter=a,t>0&&(!a&&o.length&&m.merge(t,m.length,o[0],!1,c,0)?m.breakAfter=o.shift().breakAfter:(t<m.length||m.children.length&&m.children[m.children.length-1].length==0)&&m.merge(t,m.length,null,!1,c,0),e++));e<r&&o.length;)if(h[r-1].become(o[o.length-1]))r--,o.pop(),u=o.length?0:c;else if(h[e].become(o[0]))e++,o.shift(),c=o.length?0:u;else break;!o.length&&e&&r<h.length&&!h[e-1].breakAfter&&h[r].merge(0,0,h[e-1],!1,c,u)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function aae(n,e,t,r,i,o){let a=n.childCursor(),{i:c,off:u}=a.findPos(t,1),{i:h,off:m}=a.findPos(e,-1),y=e-t;for(let w of r)y+=w.length;n.length+=y,sae(n,h,m,c,u,r,0,i,o)}let Cl=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Wj=typeof document<"u"?document:{documentElement:{style:{}}};const qj=/Edge\/(\d+)/.exec(Cl.userAgent),lae=/MSIE \d/.test(Cl.userAgent),Uj=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Cl.userAgent),CI=!!(lae||Uj||qj),FY=!CI&&/gecko\/(\d+)/i.test(Cl.userAgent),UL=!CI&&/Chrome\/(\d+)/.exec(Cl.userAgent),LY="webkitFontSmoothing"in Wj.documentElement.style,cae=!CI&&/Apple Computer/.test(Cl.vendor),$Y=cae&&(/Mobile\/\w+/.test(Cl.userAgent)||Cl.maxTouchPoints>2);var Kt={mac:$Y||/Mac/.test(Cl.platform),windows:/Win/.test(Cl.platform),linux:/Linux|X11/.test(Cl.platform),ie:CI,ie_version:lae?Wj.documentMode||6:Uj?+Uj[1]:qj?+qj[1]:0,gecko:FY,gecko_version:FY?+(/Firefox\/(\d+)/.exec(Cl.userAgent)||[0,0])[1]:0,chrome:!!UL,chrome_version:UL?+UL[1]:0,ios:$Y,android:/Android\b/.test(Cl.userAgent),webkit:LY,safari:cae,webkit_version:LY?+(/\bAppleWebKit\/(\d+)/.exec(Cl.userAgent)||[0,0])[1]:0,tabSize:Wj.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const $5e=256;class Rd extends Si{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Rd)||this.length-(t-e)+r.length>$5e||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Rd(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new ha(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return j5e(this.dom,e,t)}}class lp extends Si{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(tae(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,a){return r&&(!(r instanceof lp&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&a<=0)?!1:(aae(this,e,t,r?r.children.slice():[],o-1,a-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let c of this.children){let u=r+c.length;u>e&&t.push(r<e?c.split(e-r):c),i<0&&r>=e&&(i=o),r=u,o++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new lp(this.mark,t,a)}domAtPos(e){return uae(this,e)}coordsAt(e,t){return fae(this,e,t)}}function j5e(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,o=e,a=0;e==0&&t<0||e==r&&t>=0?Kt.chrome||Kt.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):t<0?i--:o<r&&o++;let c=c0(n,i,o).getClientRects();if(!c.length)return null;let u=c[(a?a<0:t>=0)?0:c.length-1];return Kt.safari&&!a&&u.width==0&&(u=Array.prototype.find.call(c,h=>h.width)||u),a?N2(u,a<0):u||null}class Gm extends Si{static create(e,t,r){return new Gm(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Gm.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,o,a){return r&&(!(r instanceof Gm)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Gm&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return qr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):qr.empty}domAtPos(e){return(this.length?e==0:this.side>0)?ha.before(this.dom):ha.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let a=this.side?this.side<0:e>0;for(let c=a?i.length-1:0;o=i[c],!(e>0?c==0:c==i.length-1||o.top<o.bottom);c+=a?-1:1);return N2(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Jx extends Si{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Jx&&e.side==this.side}split(){return new Jx(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ha.before(this.dom):ha.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return qr.empty}get isHidden(){return!0}}Rd.prototype.children=Gm.prototype.children=Jx.prototype.children=i7;function uae(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let a=r[i],c=o+a.length;if(!(c==o&&a.getSide()<=0)){if(e>o&&e<c&&a.dom.parentNode==t)return a.domAtPos(e-o);if(e<=o)break;o=c}}for(let o=i;o>0;o--){let a=r[o-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let o=i;o<r.length;o++){let a=r[o];if(a.dom.parentNode==t)return a.domAtPos(0)}return new ha(t,0)}function dae(n,e,t){let r,{children:i}=n;t>0&&e instanceof lp&&i.length&&(r=i[i.length-1])instanceof lp&&r.mark.eq(e.mark)?dae(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function fae(n,e,t){let r=null,i=-1,o=null,a=-1;function c(h,m){for(let y=0,w=0;y<h.children.length&&w<=m;y++){let S=h.children[y],T=w+S.length;T>=m&&(S.children.length?c(S,m-w):(!o||o.isHidden&&(t>0||V5e(o,S)))&&(T>m||w==T&&S.getSide()>0)?(o=S,a=m-w):(w<m||w==T&&S.getSide()<0&&!S.isHidden)&&(r=S,i=m-w)),w=T}}c(n,e);let u=(t<0?r:o)||r||o;return u?u.coordsAt(Math.max(0,u==r?i:a),t):B5e(n)}function B5e(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Zx(e);return t[t.length-1]||null}function V5e(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function Gj(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const jY=Object.create(null);function qD(n,e,t){if(n==e)return!0;n||(n=jY),e||(e=jY);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function Yj(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function z5e(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Iw{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var xu=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(xu||(xu={}));class wr extends a0{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new I2(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new kg(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:a}=hae(e,t);r=(o?t?-3e8:-1:5e8)-1,i=(a?t?2e8:1:-6e8)+1}return new kg(e,r,i,t,e.widget||null,!0)}static line(e){return new F2(e)}static set(e,t=!1){return ii.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}wr.none=ii.empty;class I2 extends wr{constructor(e){let{start:t,end:r}=hae(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof I2&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&qD(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}I2.prototype.point=!1;class F2 extends wr{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof F2&&this.spec.class==e.spec.class&&qD(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}F2.prototype.mapMode=Zs.TrackBefore;F2.prototype.point=!0;class kg extends wr{constructor(e,t,r,i,o,a){super(t,r,o,e),this.block=i,this.isReplace=a,this.mapMode=i?t<=0?Zs.TrackBefore:Zs.TrackAfter:Zs.TrackDel}get type(){return this.startSide!=this.endSide?xu.WidgetRange:this.startSide<=0?xu.WidgetBefore:xu.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof kg&&H5e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}kg.prototype.point=!0;function hae(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function H5e(n,e){return n==e||!!(n&&e&&n.compare(e))}function kM(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Xo extends Si{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,a){if(r){if(!(r instanceof Xo))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),aae(this,e,t,r?r.children.slice():[],o,a),!0}split(e){let t=new Xo;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){qD(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){dae(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Gj(t,this.attrs||{})),r&&(this.attrs=Gj({class:r},this.attrs||{}))}domAtPos(e){return uae(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(tae(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Yj(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Si.get(i)instanceof lp;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Si.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Kt.ios||!this.children.some(o=>o instanceof Rd))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Rd)||/[^ -~]/.test(r.text))return null;let i=Zx(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=fae(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let a=(o-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return e instanceof Xo&&this.children.length==0&&e.children.length==0&&qD(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],a=i+o.length;if(a>=t){if(o instanceof Xo)return o;if(a>t)break}i=a+o.breakAfter}return null}}class Qh extends Si{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,a){return r&&(!(r instanceof Qh)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?ha.before(this.dom):ha.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Qh(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return i7}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):qr.empty}domBoundsAround(){return null}become(e){return e instanceof Qh&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof Qj?null:N2(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class Qj extends Iw{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Hk{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Qh&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Xo),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wR(new Jx(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Qh)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(wR(new Rd(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,a){if(this.disallowBlockEffectsFor[a]&&r instanceof kg){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof kg)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Qh(r.widget||ew.block,c,r));else{let u=Gm.create(r.widget||ew.inline,c,c?0:r.startSide),h=this.atCursorPos&&!u.isEditable&&o<=i.length&&(e<t||r.startSide>0),m=!u.isEditable&&(e<t||o>i.length||r.startSide<=0),y=this.getLine();this.pendingBuffer==2&&!h&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),h&&(y.append(wR(new Jx(1),i),o),o=i.length+Math.max(0,o-i.length)),y.append(wR(u,i),o),this.atCursorPos=m,this.pendingBuffer=m?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let a=new Hk(e,t,r,o);return a.openEnd=ii.spans(i,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function wR(n,e){for(let t of e)n=new lp(t,[n],n.length);return n}class ew extends Iw{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ew.inline=new ew("span");ew.block=new ew("div");var So=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(So||(So={}));const u0=So.LTR,o7=So.RTL;function pae(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const W5e=pae("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),q5e=pae("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Kj=Object.create(null),pf=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Kj[e]=t,Kj[t]=-e}function mae(n){return n<=247?W5e[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?q5e[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const U5e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ym{get dir(){return this.level%2?o7:u0}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let a=0;a<e.length;a++){let c=e[a];if(c.from<=t&&c.to>=t){if(c.level==r)return a;(o<0||(i!=0?i<0?c.from<t:c.to>t:e[o].level>c.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function gae(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!gae(r.inner,i.inner))return!1}return!0}const Ei=[];function G5e(n,e,t,r,i){for(let o=0;o<=r.length;o++){let a=o?r[o-1].to:e,c=o<r.length?r[o].from:t,u=o?256:i;for(let h=a,m=u,y=u;h<c;h++){let w=mae(n.charCodeAt(h));w==512?w=m:w==8&&y==4&&(w=16),Ei[h]=w==4?2:w,w&7&&(y=w),m=w}for(let h=a,m=u,y=u;h<c;h++){let w=Ei[h];if(w==128)h<c-1&&m==Ei[h+1]&&m&24?w=Ei[h]=m:Ei[h]=256;else if(w==64){let S=h+1;for(;S<c&&Ei[S]==64;)S++;let T=h&&m==8||S<t&&Ei[S]==8?y==1?1:8:256;for(let O=h;O<S;O++)Ei[O]=T;h=S-1}else w==8&&y==1&&(Ei[h]=1);m=w,w&7&&(y=w)}}}function Y5e(n,e,t,r,i){let o=i==1?2:1;for(let a=0,c=0,u=0;a<=r.length;a++){let h=a?r[a-1].to:e,m=a<r.length?r[a].from:t;for(let y=h,w,S,T;y<m;y++)if(S=Kj[w=n.charCodeAt(y)])if(S<0){for(let O=c-3;O>=0;O-=3)if(pf[O+1]==-S){let N=pf[O+2],D=N&2?i:N&4?N&1?o:i:0;D&&(Ei[y]=Ei[pf[O]]=D),c=O;break}}else{if(pf.length==189)break;pf[c++]=y,pf[c++]=w,pf[c++]=u}else if((T=Ei[y])==2||T==1){let O=T==i;u=O?0:1;for(let N=c-3;N>=0;N-=3){let D=pf[N+2];if(D&2)break;if(O)pf[N+2]|=2;else{if(D&4)break;pf[N+2]|=4}}}}}function Q5e(n,e,t,r){for(let i=0,o=r;i<=t.length;i++){let a=i?t[i-1].to:n,c=i<t.length?t[i].from:e;for(let u=a;u<c;){let h=Ei[u];if(h==256){let m=u+1;for(;;)if(m==c){if(i==t.length)break;m=t[i++].to,c=i<t.length?t[i].from:e}else if(Ei[m]==256)m++;else break;let y=o==1,w=(m<e?Ei[m]:r)==1,S=y==w?y?1:2:r;for(let T=m,O=i,N=O?t[O-1].to:n;T>u;)T==N&&(T=t[--O].from,N=O?t[O-1].to:n),Ei[--T]=S;u=m}else o=h,u++}}}function Xj(n,e,t,r,i,o,a){let c=r%2?2:1;if(r%2==i%2)for(let u=e,h=0;u<t;){let m=!0,y=!1;if(h==o.length||u<o[h].from){let O=Ei[u];O!=c&&(m=!1,y=O==16)}let w=!m&&c==1?[]:null,S=m?r:r+1,T=u;e:for(;;)if(h<o.length&&T==o[h].from){if(y)break e;let O=o[h];if(!m)for(let N=O.to,D=h+1;;){if(N==t)break e;if(D<o.length&&o[D].from==N)N=o[D++].to;else{if(Ei[N]==c)break e;break}}if(h++,w)w.push(O);else{O.from>u&&a.push(new Ym(u,O.from,S));let N=O.direction==u0!=!(S%2);Zj(n,N?r+1:r,i,O.inner,O.from,O.to,a),u=O.to}T=O.to}else{if(T==t||(m?Ei[T]!=c:Ei[T]==c))break;T++}w?Xj(n,u,T,r+1,i,w,a):u<T&&a.push(new Ym(u,T,S)),u=T}else for(let u=t,h=o.length;u>e;){let m=!0,y=!1;if(!h||u>o[h-1].to){let O=Ei[u-1];O!=c&&(m=!1,y=O==16)}let w=!m&&c==1?[]:null,S=m?r:r+1,T=u;e:for(;;)if(h&&T==o[h-1].to){if(y)break e;let O=o[--h];if(!m)for(let N=O.from,D=h;;){if(N==e)break e;if(D&&o[D-1].to==N)N=o[--D].from;else{if(Ei[N-1]==c)break e;break}}if(w)w.push(O);else{O.to<u&&a.push(new Ym(O.to,u,S));let N=O.direction==u0!=!(S%2);Zj(n,N?r+1:r,i,O.inner,O.from,O.to,a),u=O.from}T=O.from}else{if(T==e||(m?Ei[T-1]!=c:Ei[T-1]==c))break;T--}w?Xj(n,T,u,r+1,i,w,a):T<u&&a.push(new Ym(T,u,S)),u=T}}function Zj(n,e,t,r,i,o,a){let c=e%2?2:1;G5e(n,i,o,r,c),Y5e(n,i,o,r,c),Q5e(i,o,r,c),Xj(n,i,o,e,t,r,a)}function K5e(n,e,t){if(!n)return[new Ym(0,0,e==o7?1:0)];if(e==u0&&!t.length&&!U5e.test(n))return vae(n.length);if(t.length)for(;n.length>Ei.length;)Ei[Ei.length]=256;let r=[],i=e==u0?0:1;return Zj(n,i,i,t,0,n.length,r),r}function vae(n){return[new Ym(0,n,0)]}let yae="";function X5e(n,e,t,r,i){var o;let a=r.head-n.from,c=Ym.find(e,a,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),u=e[c],h=u.side(i,t);if(a==h){let w=c+=i?1:-1;if(w<0||w>=e.length)return null;u=e[c=w],a=u.side(!i,t),h=u.side(i,t)}let m=Ha(n.text,a,u.forward(i,t));(m<u.from||m>u.to)&&(m=h),yae=n.text.slice(Math.min(a,m),Math.max(a,m));let y=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return y&&m==h&&y.level+(i?0:1)<u.level?vt.cursor(y.side(!i,t)+n.from,y.forward(i,t)?1:-1,y.level):vt.cursor(m+n.from,u.forward(i,t)?-1:1,u.level)}function Z5e(n,e,t){for(let r=e;r<t;r++){let i=mae(n.charCodeAt(r));if(i==1)return u0;if(i==2||i==4)return o7}return u0}const bae=en.define(),xae=en.define(),wae=en.define(),_ae=en.define(),Jj=en.define(),Eae=en.define(),Sae=en.define(),s7=en.define(),a7=en.define(),kae=en.define({combine:n=>n.some(e=>e)}),J5e=en.define({combine:n=>n.some(e=>e)}),Cae=en.define();class px{constructor(e,t="nearest",r="nearest",i=5,o=5,a=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=a}map(e){return e.empty?this:new px(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new px(vt.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _R=jr.define({map:(n,e)=>n.map(e)}),Oae=jr.define();function Wa(n,e,t){let r=n.facet(_ae);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Lh=en.define({combine:n=>n.length?n[0]:!0});let eFe=0;const bk=en.define();class Fl{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:a}=t||{};return new Fl(eFe++,e,r,i,c=>{let u=[bk.of(c)];return a&&u.push(QC.of(h=>{let m=h.plugin(c);return m?a(m):wr.none})),o&&u.push(o(c)),u})}static fromClass(e,t){return Fl.define(r=>new e(r),t)}}class GL{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Wa(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Wa(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Wa(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Tae=en.define(),l7=en.define(),QC=en.define(),Pae=en.define(),c7=en.define(),Aae=en.define();function BY(n,e){let t=n.state.facet(Aae);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return ii.spans(r,e.from,e.to,{point(){},span(o,a,c,u){let h=o-e.from,m=a-e.from,y=i;for(let w=c.length-1;w>=0;w--,u--){let S=c[w].spec.bidiIsolate,T;if(S==null&&(S=Z5e(e.text,h,m)),u>0&&y.length&&(T=y[y.length-1]).to==h&&T.direction==S)T.to=m,y=T.inner;else{let O={from:h,to:m,direction:S,inner:[]};y.push(O),y=O.inner}}}}),i}const Rae=en.define();function u7(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(Rae)){let a=o(n);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:t,top:r,bottom:i}}const xk=en.define();class wu{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new wu(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,a=0,c=0;;i++){let u=i==e.length?null:e[i],h=a-c,m=u?u.fromB:1e9;for(;o<t.length&&t[o]<m;){let y=t[o],w=t[o+1],S=Math.max(c,y),T=Math.min(m,w);if(S<=T&&new wu(S+h,T+h,S,T).addToSet(r),w>m)break;o+=2}if(!u)return r;new wu(u.fromA,u.toA,u.fromB,u.toB).addToSet(r),a=u.toA,c=u.toB}}}class UD{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Is.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,a,c,u)=>i.push(new wu(o,a,c,u))),this.changedRanges=i}static create(e,t,r){return new UD(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class VY extends Si{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=wr.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Xo],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new wu(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:h,toA:m})=>m<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!aFe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?nFe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:m}=this.hasComposition;r=new wu(h,m,e.changes.mapPos(h,-1),e.changes.mapPos(m,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Kt.ie||Kt.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,c=this.updateDeco(),u=oFe(a,c,e.changes);return r=wu.extendWithRanges(r,u),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=Kt.chrome||Kt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||i.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof Qh&&a.widget instanceof Qj&&o.push(a.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let a=i.length-1;;a--){let c=a>=0?i[a]:null;if(!c)break;let{fromA:u,toA:h,fromB:m,toB:y}=c,w,S,T,O;if(r&&r.range.fromB<y&&r.range.toB>m){let R=Hk.build(this.view.state.doc,m,r.range.fromB,this.decorations,this.dynamicDecorationMap),z=Hk.build(this.view.state.doc,r.range.toB,y,this.decorations,this.dynamicDecorationMap);S=R.breakAtStart,T=R.openStart,O=z.openEnd;let X=this.compositionView(r);z.breakAtStart?X.breakAfter=1:z.content.length&&X.merge(X.length,X.length,z.content[0],!1,z.openStart,0)&&(X.breakAfter=z.content[0].breakAfter,z.content.shift()),R.content.length&&X.merge(0,0,R.content[R.content.length-1],!0,0,R.openEnd)&&R.content.pop(),w=R.content.concat(X).concat(z.content)}else({content:w,breakAtStart:S,openStart:T,openEnd:O}=Hk.build(this.view.state.doc,m,y,this.decorations,this.dynamicDecorationMap));let{i:N,off:D}=o.findPos(h,1),{i:F,off:I}=o.findPos(u,-1);sae(this,F,I,N,D,w,S,T,O)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(Oae)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Rd(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new lp(i,[t],t.length);let r=new Xo;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,a)=>{a.flags|=8|(a.children.some(u=>u.flags&7)?1:0),this.markedForComposition.add(a);let c=Si.get(o);c&&c!=a&&(c.dom=null),a.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(Lh)||this.dom.tabIndex>-1)&&SM(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let a=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(c.anchor)),h=c.empty?u:this.moveToLine(this.domAtPos(c.head));if(Kt.gecko&&c.empty&&!this.hasComposition&&tFe(u)){let y=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(y,u.node.childNodes[u.offset]||null)),u=h=new ha(y,0),a=!0}let m=this.view.observer.selectionRange;(a||!m.focusNode||(!zk(u.node,u.offset,m.anchorNode,m.anchorOffset)||!zk(h.node,h.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,c))&&(this.view.observer.ignore(()=>{Kt.android&&Kt.chrome&&this.dom.contains(m.focusNode)&&sFe(m.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let y=YC(this.view.root);if(y)if(c.empty){if(Kt.gecko){let w=rFe(u.node,u.offset);if(w&&w!=3){let S=(w==1?rae:iae)(u.node,u.offset);S&&(u=new ha(S.node,S.offset))}}y.collapse(u.node,u.offset),c.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=c.bidiLevel)}else if(y.extend){y.collapse(u.node,u.offset);try{y.extend(h.node,h.offset)}catch{}}else{let w=document.createRange();c.anchor>c.head&&([u,h]=[h,u]),w.setEnd(h.node,h.offset),w.setStart(u.node,u.offset),y.removeAllRanges(),y.addRange(w)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(u,h)),this.impreciseAnchor=u.precise?null:new ha(m.anchorNode,m.anchorOffset),this.impreciseHead=h.precise?null:new ha(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&zk(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=YC(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let a=Xo.find(this,t.head);if(!a)return;let c=a.posAtStart;if(t.head==c||t.head==c+a.length)return;let u=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!u||!h||u.bottom>h.top)return;let m=this.domAtPos(t.head+t.assoc);r.collapse(m.node,m.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let y=e.observer.selectionRange;e.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let o=Si.get(t.childNodes[i]);o instanceof Xo&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=Si.get(t.childNodes[i]);o instanceof Xo&&(r=o.domAtPos(o.length))}return r?new ha(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=Si.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Xo)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,a=this.children.length-1;a>=0;a--){let c=this.children[a],u=o-c.breakAfter,h=u-c.length;if(u<e)break;if(h<=e&&(h<e||c.covers(-1))&&(u>e||c.covers(1))&&(!r||c instanceof Xo&&!(r instanceof Xo&&t>=0)))r=c,i=h;else if(r&&h==e&&u==e&&c instanceof Qh&&Math.abs(t)<2){if(c.deco.startSide<0)break;a&&(r=null)}o=h}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Xo))return null;for(;i.children.length;){let{i:c,off:u}=i.childPos(r,1);for(;;c++){if(c==i.children.length)return null;if((i=i.children[c]).length)break}r=u}if(!(i instanceof Rd))return null;let o=Ha(i.text,r);if(o==r)return null;let a=c0(i.dom,r,o).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(c==a.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,u=this.view.textDirection==So.LTR;for(let h=0,m=0;m<this.children.length;m++){let y=this.children[m],w=h+y.length;if(w>i)break;if(h>=r){let S=y.dom.getBoundingClientRect();if(t.push(S.height),a){let T=y.dom.lastChild,O=T?Zx(T):[];if(O.length){let N=O[O.length-1],D=u?N.right-S.left:S.right-N.left;D>c&&(c=D,this.minWidth=o,this.minWidthFrom=h,this.minWidthTo=w)}}}h=w+y.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?So.RTL:So.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Xo){let a=o.measureTextSize();if(a)return a}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Zx(e.firstChild)[0];t=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new oae(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],a=o?o.from-1:this.length;if(a>r){let c=(t.lineBlockAt(a).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(wr.replace({widget:new Qj(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!o)break;r=o.to+1}return wr.set(e)}updateDeco(){let e=1,t=this.view.state.facet(QC).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(Pae).map((o,a)=>{let c=typeof o=="function";return c&&(r=!0),c?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(ii.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(Cae))try{if(h(this.view,e.range,e))return!0}catch(m){Wa(this.view.state,m,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=u7(this.view),a={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:c,offsetHeight:u}=this.view.scrollDOM;D5e(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==So.LTR)}}function tFe(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function Mae(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=rae(t.focusNode,t.focusOffset),i=iae(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let c=Si.get(i.node);if(!c||c instanceof Rd&&c.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let u=Si.get(r.node);!u||u instanceof Rd&&u.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let a=e-o.offset;return{from:a,to:a+o.node.nodeValue.length,node:o.node}}function nFe(n,e,t){let r=Mae(n,t);if(!r)return null;let{node:i,from:o,to:a}=r,c=i.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(r.from,r.to)!=c)return null;let u=e.invertedDesc,h=new wu(u.mapPos(o),u.mapPos(a),o,a),m=[];for(let y=i.parentNode;;y=y.parentNode){let w=Si.get(y);if(w instanceof lp)m.push({node:y,deco:w.mark});else{if(w instanceof Xo||y.nodeName=="DIV"&&y.parentNode==n.contentDOM)return{range:h,text:i,marks:m,line:y};if(y!=n.contentDOM)m.push({node:y,deco:new I2({inclusive:!0,attributes:z5e(y),tagName:y.tagName.toLowerCase()})});else return null}}}function rFe(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let iFe=class{constructor(){this.changes=[]}compareRange(e,t){kM(e,t,this.changes)}comparePoint(e,t){kM(e,t,this.changes)}boundChange(e){kM(e,e,this.changes)}};function oFe(n,e,t){let r=new iFe;return ii.compare(n,e,t,r),r.changes}function sFe(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function aFe(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function lFe(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),o=e-i.from;if(i.length==0)return vt.cursor(e);o==0?t=1:o==i.length&&(t=-1);let a=o,c=o;t<0?a=Ha(i.text,o,!1):c=Ha(i.text,o);let u=r(i.text.slice(a,c));for(;a>0;){let h=Ha(i.text,a,!1);if(r(i.text.slice(h,a))!=u)break;a=h}for(;c<i.length;){let h=Ha(i.text,c);if(r(i.text.slice(c,h))!=u)break;c=h}return vt.range(a+i.from,c+i.from)}function cFe(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function uFe(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function YL(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function zY(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function HY(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function eB(n,e,t){let r,i,o,a,c=!1,u,h,m,y;for(let T=n.firstChild;T;T=T.nextSibling){let O=Zx(T);for(let N=0;N<O.length;N++){let D=O[N];i&&YL(i,D)&&(D=zY(HY(D,i.bottom),i.top));let F=cFe(e,D),I=uFe(t,D);if(F==0&&I==0)return T.nodeType==3?WY(T,e,t):eB(T,e,t);if(!r||a>I||a==I&&o>F){r=T,i=D,o=F,a=I;let R=I?t<D.top?-1:1:F?e<D.left?-1:1:0;c=!R||(R>0?N<O.length-1:N>0)}F==0?t>D.bottom&&(!m||m.bottom<D.bottom)?(u=T,m=D):t<D.top&&(!y||y.top>D.top)&&(h=T,y=D):m&&YL(m,D)?m=HY(m,D.bottom):y&&YL(y,D)&&(y=zY(y,D.top))}}if(m&&m.bottom>=t?(r=u,i=m):y&&y.top<=t&&(r=h,i=y),!r)return{node:n,offset:0};let w=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return WY(r,w,t);if(c&&r.contentEditable!="false")return eB(r,w,t);let S=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:S}}function WY(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,a=0;for(let c=0;c<r;c++){let u=c0(n,c,c+1).getClientRects();for(let h=0;h<u.length;h++){let m=u[h];if(m.top==m.bottom)continue;a||(a=e-m.left);let y=(m.top>t?m.top-t:t-m.bottom)-1;if(m.left-1<=e&&m.right+1>=e&&y<o){let w=e>=(m.left+m.right)/2,S=w;if((Kt.chrome||Kt.gecko)&&c0(n,c).getBoundingClientRect().left==m.right&&(S=!w),y<=0)return{node:n,offset:c+(S?1:0)};i=c+(S?1:0),o=y}}}return{node:n,offset:i>-1?i:a>0?n.nodeValue.length:0}}function Dae(n,e,t,r=-1){var i,o;let a=n.contentDOM.getBoundingClientRect(),c=a.top+n.viewState.paddingTop,u,{docHeight:h}=n.viewState,{x:m,y}=e,w=y-c;if(w<0)return 0;if(w>h)return n.state.doc.length;for(let R=n.viewState.heightOracle.textHeight/2,z=!1;u=n.elementAtHeight(w),u.type!=xu.Text;)for(;w=r>0?u.bottom+R:u.top-R,!(w>=0&&w<=h);){if(z)return t?null:0;z=!0,r=-r}y=c+w;let S=u.from;if(S<n.viewport.from)return n.viewport.from==0?0:t?null:qY(n,a,u,m,y);if(S>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:qY(n,a,u,m,y);let T=n.dom.ownerDocument,O=n.root.elementFromPoint?n.root:T,N=O.elementFromPoint(m,y);N&&!n.contentDOM.contains(N)&&(N=null),N||(m=Math.max(a.left+1,Math.min(a.right-1,m)),N=O.elementFromPoint(m,y),N&&!n.contentDOM.contains(N)&&(N=null));let D,F=-1;if(N&&((i=n.docView.nearest(N))===null||i===void 0?void 0:i.isEditable)!=!1){if(T.caretPositionFromPoint){let R=T.caretPositionFromPoint(m,y);R&&({offsetNode:D,offset:F}=R)}else if(T.caretRangeFromPoint){let R=T.caretRangeFromPoint(m,y);R&&({startContainer:D,startOffset:F}=R,(!n.contentDOM.contains(D)||Kt.safari&&dFe(D,F,m)||Kt.chrome&&fFe(D,F,m))&&(D=void 0))}D&&(F=Math.min(Wf(D),F))}if(!D||!n.docView.dom.contains(D)){let R=Xo.find(n.docView,S);if(!R)return w>u.top+u.height/2?u.to:u.from;({node:D,offset:F}=eB(R.dom,m,y))}let I=n.docView.nearest(D);if(!I)return null;if(I.isWidget&&((o=I.dom)===null||o===void 0?void 0:o.nodeType)==1){let R=I.dom.getBoundingClientRect();return e.y<R.top||e.y<=R.bottom&&e.x<=(R.left+R.right)/2?I.posAtStart:I.posAtEnd}else return I.localPosFromDOM(D,F)+I.posAtStart}function qY(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,u=Math.floor((i-t.top-(n.defaultLineHeight-c)*.5)/c);o+=u*n.viewState.heightOracle.lineLength}let a=n.state.sliceDoc(t.from,t.to);return t.from+O5e(a,o,n.state.tabSize)}function dFe(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return c0(n,r-1,r).getBoundingClientRect().left>t}function fFe(n,e,t){if(e!=0)return!1;for(let i=n;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=n.nodeType==1?n.getBoundingClientRect():c0(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function hFe(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==xu.Text&&(i.type!=o.type||(t<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function pFe(n,e,t,r){let i=hFe(n,e.head,e.assoc||-1),o=!r||i.type!=xu.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(i.from),u=n.posAtCoords({x:t==(c==So.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return vt.cursor(u,t?-1:1)}return vt.cursor(t?i.to:i.from,t?-1:1)}function UY(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),a=n.textDirectionAt(i.from);for(let c=e,u=null;;){let h=X5e(i,o,a,c,t),m=yae;if(!h){if(i.number==(t?n.state.doc.lines:1))return c;m=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),h=n.visualLineSide(i,!t)}if(u){if(!u(m))return c}else{if(!r)return h;u=r(m)}c=h}}function mFe(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return o=>{let a=r(o);return i==mu.Space&&(i=a),i==a}}function gFe(n,e,t,r){let i=e.head,o=t?1:-1;if(i==(t?n.state.doc.length:0))return vt.cursor(i,e.assoc);let a=e.goalColumn,c,u=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(i,e.assoc||-1),m=n.documentTop;if(h)a==null&&(a=h.left-u.left),c=o<0?h.top:h.bottom;else{let S=n.viewState.lineBlockAt(i);a==null&&(a=Math.min(u.right-u.left,n.defaultCharacterWidth*(i-S.from))),c=(o<0?S.top:S.bottom)+m}let y=u.left+a,w=r??n.viewState.heightOracle.textHeight>>1;for(let S=0;;S+=10){let T=c+(w+S)*o,O=Dae(n,{x:y,y:T},!1,o);if(T<u.top||T>u.bottom||(o<0?O<i:O>i)){let N=n.docView.coordsForChar(O),D=!N||T<N.top?-1:1;return vt.cursor(O,D,void 0,a)}}}function CM(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,a,c)=>{if(e>o&&e<a){let u=r||t||(e-o<a-e?-1:1);e=u<0?o:a,r=u}});if(!r)return e}}function QL(n,e,t){let r=CM(n.state.facet(c7).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:vt.cursor(r,r<t.from?1:-1)}const wk="";class vFe{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Lr.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=wk}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let a=i.nextSibling;if(a==t)break;let c=Si.get(i),u=Si.get(a);(c&&u?c.breakAfter:(c?c.breakAfter:WD(i))||WD(a)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=a}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,c;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(c=i.exec(t))&&(o=c.index,a=c[0].length),this.append(t.slice(r,o<0?t.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=a-1);r=o+a}}readNode(e){if(e.cmIgnore)return;let t=Si.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(yFe(e,r.node,r.offset)?t:0))}}function yFe(n,e,t){for(;;){if(!e||t<Wf(e))return!1;if(e==n)return!0;t=l0(e)+1,e=e.parentNode}}class GY{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class bFe{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=o||a?[]:_Fe(e),u=new vFe(c,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=EFe(c,this.bounds.from)}else{let c=e.observer.selectionRange,u=o&&o.node==c.focusNode&&o.offset==c.focusOffset||!Hj(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),h=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset||!Hj(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),m=e.viewport;if((Kt.ios||Kt.chrome)&&e.state.selection.main.empty&&u!=h&&(m.from>0||m.to<e.state.doc.length)){let y=Math.min(u,h),w=Math.max(u,h),S=m.from-y,T=m.to-w;(S==0||S==1||y==0)&&(T==0||T==-1||w==e.state.doc.length)&&(u=0,h=e.state.doc.length)}this.newSel=vt.single(h,u)}}}function Nae(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:c}=e.bounds,u=i.from,h=null;(o===8||Kt.android&&e.text.length<c-a)&&(u=i.to,h="end");let m=wFe(n.state.doc.sliceString(a,c,wk),e.text,u-a,h);m&&(Kt.chrome&&o==13&&m.toB==m.from+2&&e.text.slice(m.from,m.toB)==wk+wk&&m.toB--,t={from:a+m.from,to:a+m.toA,insert:qr.of(e.text.slice(m.from,m.toB).split(wk))})}else r&&(!n.hasFocus&&n.state.facet(Lh)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(Kt.mac||Kt.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=vt.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:qr.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:Kt.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=vt.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:qr.of([" "])}),t)return d7(n,t,r,o);if(r&&!r.main.eq(i)){let a=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(a=!0),c=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:a,userEvent:c}),!0}else return!1}function d7(n,e,t,r=-1){if(Kt.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(Kt.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&hx(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&hx(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&hx(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,c=()=>a||(a=xFe(n,e,t));return n.state.facet(Eae).some(u=>u(n,e.from,e.to,o,c))||n.dispatch(c()),!0}function xFe(n,e,t){let r,i=n.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let c=o.from<e.from?i.sliceDoc(o.from,e.from):"",u=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(n.state.toText(c+e.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let c=i.changes(e),u=t&&t.main.to<=c.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let h=n.state.sliceDoc(e.from,e.to),m,y=t&&Mae(n,t.main.head);if(y){let T=e.insert.length-(e.to-e.from);m={from:y.from,to:y.to-T}}else m=n.state.doc.lineAt(o.head);let w=o.to-e.to,S=o.to-o.from;r=i.changeByRange(T=>{if(T.from==o.from&&T.to==o.to)return{changes:c,range:u||T.map(c)};let O=T.to-w,N=O-h.length;if(T.to-T.from!=S||n.state.sliceDoc(N,O)!=h||T.to>=m.from&&T.from<=m.to)return{range:T};let D=i.changes({from:N,to:O,insert:e.insert}),F=T.to-o.to;return{changes:D,range:u?vt.range(Math.max(0,u.anchor+F),Math.max(0,u.head+F)):T.map(D)}})}else r={changes:c,selection:u&&i.selection.replaceRange(u)}}let a="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,a+=".compose",n.inputState.compositionFirstChange&&(a+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function wFe(n,e,t,r){let i=Math.min(n.length,e.length),o=0;for(;o<i&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&n.length==e.length)return null;let a=n.length,c=e.length;for(;a>0&&c>0&&n.charCodeAt(a-1)==e.charCodeAt(c-1);)a--,c--;if(r=="end"){let u=Math.max(0,o-Math.min(a,c));t-=a+u-o}if(a<o&&n.length<e.length){let u=t<=o&&t>=a?o-t:0;o-=u,c=o+(c-a),a=o}else if(c<o){let u=t<=o&&t>=c?o-t:0;o-=u,a=o+(a-c),c=o}return{from:o,toA:a,toB:c}}function _Fe(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new GY(t,r)),(i!=t||o!=r)&&e.push(new GY(i,o))),e}function EFe(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?vt.single(t+e,r+e):null}class SFe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Kt.safari&&e.contentDOM.addEventListener("input",()=>null),Kt.gecko&&BFe(e.contentDOM.ownerDocument)}handleEvent(e){!MFe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=kFe(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!="scroll"){let a=!t[o].handlers.length,c=r[o];c&&a!=!c.handlers.length&&(i.removeEventListener(o,this.handleEvent),c=null),c||i.addEventListener(o,this.handleEvent,{passive:a})}for(let o in r)o!="scroll"&&!t[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Fae.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Kt.android&&Kt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Kt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Iae.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||CFe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,hx(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Kt.safari&&!Kt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function YY(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Wa(t.state,i)}}}function kFe(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let a=i.domEventHandlers[o];a&&t(o).handlers.push(YY(r.value,a))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let a=i.domEventObservers[o];a&&t(o).observers.push(YY(r.value,a))}}for(let r in Md)t(r).handlers.push(Md[r]);for(let r in Ou)t(r).observers.push(Ou[r]);return e}const Iae=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],CFe="dthko",Fae=[16,17,18,20,91,92,224,225],ER=6;function SR(n){return Math.max(0,n)*.7+8}function OFe(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class TFe{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=N5e(e.contentDOM),this.atoms=e.state.facet(c7).map(a=>a(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Lr.allowMultipleSelections)&&PFe(e,t),this.dragging=RFe(e,t)&&jae(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&OFe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,a=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:c}=this.scrollParents.y.getBoundingClientRect());let u=u7(this.view);e.clientX-u.left<=i+ER?t=-SR(i-e.clientX):e.clientX+u.right>=a-ER&&(t=SR(e.clientX-a)),e.clientY-u.top<=o+ER?r=-SR(o-e.clientY):e.clientY+u.bottom>=c-ER&&(r=SR(e.clientY-c)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let a=CM(this.atoms,i.from,0);a!=i.from&&(o=vt.cursor(a,-1))}else{let a=CM(this.atoms,i.from,-1),c=CM(this.atoms,i.to,1);(a!=i.from||c!=i.to)&&(o=vt.range(i.from==i.anchor?a:c,i.from==i.head?a:c))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?vt.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function PFe(n,e){let t=n.state.facet(bae);return t.length?t[0](e):Kt.mac?e.metaKey:e.ctrlKey}function AFe(n,e){let t=n.state.facet(xae);return t.length?t[0](e):Kt.mac?!e.altKey:!e.ctrlKey}function RFe(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=YC(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function MFe(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Si.get(t))&&r.ignoreEvent(e))return!1;return!0}const Md=Object.create(null),Ou=Object.create(null),Lae=Kt.ie&&Kt.ie_version<15||Kt.ios&&Kt.webkit_version<604;function DFe(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),$ae(n,t.value)},50)}function OI(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function $ae(n,e){e=OI(n.state,s7,e);let{state:t}=n,r,i=1,o=t.toText(e),a=o.lines==t.selection.ranges.length;if(tB!=null&&t.selection.ranges.every(u=>u.empty)&&tB==o.toString()){let u=-1;r=t.changeByRange(h=>{let m=t.doc.lineAt(h.from);if(m.from==u)return{range:h};u=m.from;let y=t.toText((a?o.line(i++).text:e)+t.lineBreak);return{changes:{from:m.from,insert:y},range:vt.cursor(h.from+y.length)}})}else a?r=t.changeByRange(u=>{let h=o.line(i++);return{changes:{from:u.from,to:u.to,insert:h.text},range:vt.cursor(u.from+h.length)}}):r=t.replaceSelection(o);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Ou.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Md.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ou.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ou.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Md.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(wae))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=FFe(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new TFe(n,e,t,r)),r&&n.observer.ignore(()=>{eae(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function QY(n,e,t,r){if(r==1)return vt.cursor(e,t);if(r==2)return lFe(n.state,e,t);{let i=Xo.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:o.from,c=i?i.posAtEnd:o.to;return c<n.state.doc.length&&c==o.to&&c++,vt.range(a,c)}}let KY=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function NFe(n,e,t,r){let i=Xo.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let a=i.coordsAt(o,-1);if(a&&KY(t,r,a))return-1;let c=i.coordsAt(o,1);return c&&KY(t,r,c)?1:a&&a.bottom>=r?-1:1}function XY(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:NFe(n,t,e.clientX,e.clientY)}}const IFe=Kt.ie&&Kt.ie_version<=11;let ZY=null,JY=0,eQ=0;function jae(n){if(!IFe)return n.detail;let e=ZY,t=eQ;return ZY=n,eQ=Date.now(),JY=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(JY+1)%3:1}function FFe(n,e){let t=XY(n,e),r=jae(e),i=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),i=i.map(o.changes))},get(o,a,c){let u=XY(n,o),h,m=QY(n,u.pos,u.bias,r);if(t.pos!=u.pos&&!a){let y=QY(n,t.pos,t.bias,r),w=Math.min(y.from,m.from),S=Math.max(y.to,m.to);m=w<m.from?vt.range(w,S):vt.range(S,w)}return a?i.replaceRange(i.main.extend(m.from,m.to)):c&&r==1&&i.ranges.length>1&&(h=LFe(i,u.pos))?h:c?i.addRange(m):vt.create([m])}}}function LFe(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return vt.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Md.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,a=o+i.length;(o>=t.to||a<=t.from)&&(t=vt.range(o,a))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",OI(n.state,a7,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Md.dragend=n=>(n.inputState.draggedContent=null,!1);function tQ(n,e,t,r){if(t=OI(n.state,s7,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,a=r&&o&&AFe(n,e)?{from:o.from,to:o.to}:null,c={from:i,insert:t},u=n.state.changes(a?[a,c]:c);n.focus(),n.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Md.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&tQ(n,e,r.filter(a=>a!=null).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let c=new FileReader;c.onerror=o,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[a]=c.result),o()},c.readAsText(t[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return tQ(n,e,r,!0),!0}return!1};Md.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=Lae?null:e.clipboardData;return t?($ae(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(DFe(n),!1)};function $Fe(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function jFe(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:o}of n.selection.ranges){let a=n.doc.lineAt(o);a.number>i&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),i=a.number}r=!0}return{text:OI(n,a7,e.join(n.lineBreak)),ranges:t,linewise:r}}let tB=null;Md.copy=Md.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=jFe(n.state);if(!t&&!i)return!1;tB=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=Lae?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):($Fe(n,t),!1)};const Bae=E0.define();function Vae(n,e){let t=[];for(let r of n.facet(Sae)){let i=r(n,e);i&&t.push(i)}return t.length?n.update({effects:t,annotations:Bae.of(!0)}):null}function zae(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=Vae(n.state,e);t?n.dispatch(t):n.update([])}},10)}Ou.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),zae(n)};Ou.blur=n=>{n.observer.clearSelectionRange(),zae(n)};Ou.compositionstart=Ou.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ou.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Kt.chrome&&Kt.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ou.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Md.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(o&&a.length){let c=a[0],u=n.posAtDOM(c.startContainer,c.startOffset),h=n.posAtDOM(c.endContainer,c.endOffset);return d7(n,{from:u,to:h,insert:n.state.toText(o)},null),!0}}let i;if(Kt.chrome&&Kt.android&&(i=Iae.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Kt.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Kt.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ou.compositionend(n,e),20),!1};const nQ=new Set;function BFe(n){nQ.has(n)||(nQ.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const rQ=["pre-wrap","normal","pre-line","break-spaces"];let tw=!1;function iQ(){tw=!1}class VFe{constructor(e){this.lineWrapping=e,this.doc=qr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return rQ.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,o,a){let c=rQ.indexOf(e)>-1,u=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,u){this.heightSamples={};for(let h=0;h<a.length;h++){let m=a[h];m<0?h++:this.heightSamples[Math.floor(m*10)]=!0}}return u}}class zFe{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Tf{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?xu.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof kg?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Tf(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Wi=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Wi||(Wi={}));const OM=.001;class Ga{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>OM&&(tw=!0),this.height=e)}replace(e,t,r){return Ga.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,a=r.doc;for(let c=i.length-1;c>=0;c--){let{fromA:u,toA:h,fromB:m,toB:y}=i[c],w=o.lineAt(u,Wi.ByPosNoHeight,r.setDoc(t),0,0),S=w.to>=h?w:o.lineAt(h,Wi.ByPosNoHeight,r,0,0);for(y+=S.to-h,h=S.to;c>0&&w.from<=i[c-1].toA;)u=i[c-1].fromA,m=i[c-1].fromB,c--,u<w.from&&(w=o.lineAt(u,Wi.ByPosNoHeight,r,0,0));m+=w.from-u,u=w.from;let T=f7.build(r.setDoc(a),e,m,y);o=GD(o,o.replace(u,h,T))}return o.updateHeight(r,0)}static empty(){return new cc(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>o*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,i-=c.size}else if(o>i*2){let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,o-=c.size}else break;else if(i<o){let c=e[t++];c&&(i+=c.size)}else{let c=e[--r];c&&(o+=c.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,r++),new HFe(Ga.of(e.slice(0,t)),a,Ga.of(e.slice(r)))}}function GD(n,e){return n==e?n:(n.constructor!=e.constructor&&(tw=!0),e)}Ga.prototype.size=1;class Hae extends Ga{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new Tf(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,a){e<=o+this.length&&t>=o&&a(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class cc extends Hae{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new Tf(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof cc||i instanceof Qs&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Qs?i=new cc(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ga.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Qs extends Ga{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,a,c=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*o);a=u/o,this.length>o+1&&(c=(this.height-u)/(this.length-o-1))}else a=this.height/o;return{firstLine:r,lastLine:i,perLine:a,perChar:c}}blockAt(e,t,r,i){let{firstLine:o,lastLine:a,perLine:c,perChar:u}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),m=t.doc.lineAt(h),y=c+m.length*u,w=Math.max(r,e-y/2);return new Tf(m.from,m.length,w,y,0)}else{let h=Math.max(0,Math.min(a-o,Math.floor((e-r)/c))),{from:m,length:y}=t.doc.line(o+h);return new Tf(m,y,r+c*h,c,0)}}lineAt(e,t,r,i,o){if(t==Wi.ByHeight)return this.blockAt(e,r,i,o);if(t==Wi.ByPosNoHeight){let{from:S,to:T}=r.doc.lineAt(e);return new Tf(S,T-S,0,0,0)}let{firstLine:a,perLine:c,perChar:u}=this.heightMetrics(r,o),h=r.doc.lineAt(e),m=c+h.length*u,y=h.number-a,w=i+c*y+u*(h.from-o-y);return new Tf(h.from,h.length,Math.max(i,Math.min(w,i+this.height-m)),m,0)}forEachLine(e,t,r,i,o,a){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:c,perLine:u,perChar:h}=this.heightMetrics(r,o);for(let m=e,y=i;m<=t;){let w=r.doc.lineAt(m);if(m==e){let T=w.number-c;y+=u*T+h*(e-o-T)}let S=u+h*w.length;a(new Tf(w.from,w.length,y,S,0)),y+=S,m=w.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof Qs?r[r.length-1]=new Qs(o.length+i):r.push(null,new Qs(i-1))}if(e>0){let o=r[0];o instanceof Qs?r[0]=new Qs(e+o.length):r.unshift(new Qs(e-1),null)}return Ga.of(r)}decomposeLeft(e,t){t.push(new Qs(e-1),null)}decomposeRight(e,t){t.push(null,new Qs(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let a=[],c=Math.max(t,i.from),u=-1;for(i.from>t&&a.push(new Qs(i.from-t-1).updateHeight(e,t));c<=o&&i.more;){let m=e.doc.lineAt(c).length;a.length&&a.push(null);let y=i.heights[i.index++];u==-1?u=y:Math.abs(y-u)>=OM&&(u=-2);let w=new cc(m,y);w.outdated=!1,a.push(w),c+=m+1}c<=o&&a.push(null,new Qs(o-c).updateHeight(e,c));let h=Ga.of(a);return(u<0||Math.abs(h.height-this.height)>=OM||Math.abs(u-this.heightMetrics(e,t).perLine)>=OM)&&(tw=!0),GD(this,h)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HFe extends Ga{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let a=i+this.left.height,c=o+this.left.length+this.break,u=t==Wi.ByHeight?e<a:e<c,h=u?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,a,c);if(this.break||(u?h.to<c:h.from>c))return h;let m=t==Wi.ByPosNoHeight?Wi.ByPosNoHeight:Wi.ByPos;return u?h.join(this.right.lineAt(c,m,r,a,c)):this.left.lineAt(c,m,r,i,o).join(h)}forEachLine(e,t,r,i,o,a){let c=i+this.left.height,u=o+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,t,r,i,o,a),t>=u&&this.right.forEachLine(e,t,r,c,u,a);else{let h=this.lineAt(u,Wi.ByPos,r,i,o);e<h.from&&this.left.forEachLine(e,h.from-1,r,i,o,a),h.to>=e&&h.from<=t&&a(h),t>h.to&&this.right.forEachLine(h.to+1,t,r,c,u,a)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let c of r)o.push(c);if(e>0&&oQ(o,a-1),t<this.length){let c=o.length;this.decomposeRight(t,o),oQ(o,c)}return Ga.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ga.of(this.break?[e,null,t]:[e,t]):(this.left=GD(this.left,e),this.right=GD(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:a}=this,c=t+o.length+this.break,u=null;return i&&i.from<=t+o.length&&i.more?u=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=c+a.length&&i.more?u=a=a.updateHeight(e,c,r,i):a.updateHeight(e,c,r),u?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function oQ(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof Qs&&(r=n[e+1])instanceof Qs&&n.splice(e-1,3,new Qs(t.length+1+r.length))}const WFe=5;class f7{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof cc?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new cc(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=t-e;r.block?this.addBlock(new Hae(a,i,r)):(a||o||i>=WFe)&&this.addLineDeco(i,o,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new cc(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Qs(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof cc)return e;let t=new cc(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof cc)&&!this.isCovered?this.nodes.push(new cc(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof cc&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new f7(r,e);return ii.spans(t,r,i,o,0),o.finish(r)}}function qFe(n,e,t){let r=new UFe;return ii.compare(n,e,t,r,0),r.changes}class UFe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&kM(e,t,this.changes,5)}}function GFe(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),a=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),u=Math.min(i.innerHeight,t.bottom);for(let h=n.parentNode;h&&h!=r.body;)if(h.nodeType==1){let m=h,y=window.getComputedStyle(m);if((m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth)&&y.overflow!="visible"){let w=m.getBoundingClientRect();o=Math.max(o,w.left),a=Math.min(a,w.right),c=Math.max(c,w.top),u=Math.min(h==n.parentNode?i.innerHeight:u,w.bottom)}h=y.position=="absolute"||y.position=="fixed"?m.offsetParent:m.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:o-t.left,right:Math.max(o,a)-t.left,top:c-(t.top+e),bottom:Math.max(c,u)-(t.top+e)}}function YFe(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function QFe(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class KL{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return wr.replace({widget:new KFe(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class KFe extends Iw{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class sQ{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=aQ,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=So.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(l7).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new VFe(t),this.stateDeco=e.facet(QC).filter(r=>typeof r!="function"),this.heightMap=Ga.empty().applyChanges(this.stateDeco,qr.empty,this.heightOracle.setDoc(e.doc),[new wu(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=wr.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:a})=>i>=o&&i<=a)){let{from:o,to:a}=this.lineBlockAt(i);e.push(new kR(o,a))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?aQ:new h7(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(_k(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(QC).filter(m=>typeof m!="function");let i=e.changedRanges,o=wu.extendWithRanges(i,qFe(r,this.stateDeco,e?e.changes:Is.empty(this.state.doc.length))),a=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);iQ(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=a||tw)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let u=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<u.from||t.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,t));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(J5e)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?So.RTL:So.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),c=t.getBoundingClientRect(),u=a||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let h=0,m=0;if(c.width&&c.height){let{scaleX:R,scaleY:z}=Jse(t,c);(R>.005&&Math.abs(this.scaleX-R)>.005||z>.005&&Math.abs(this.scaleY-z)>.005)&&(this.scaleX=R,this.scaleY=z,h|=16,a=u=!0)}let y=(parseInt(r.paddingTop)||0)*this.scaleY,w=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=y||this.paddingBottom!=w)&&(this.paddingTop=y,this.paddingBottom=w,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let S=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=S&&(this.scrollAnchorHeight=-1,this.scrollTop=S),this.scrolledToBottom=nae(e.scrollDOM);let T=(this.printing?QFe:GFe)(t,this.paddingTop),O=T.top-this.pixelViewport.top,N=T.bottom-this.pixelViewport.bottom;this.pixelViewport=T;let D=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(D!=this.inView&&(this.inView=D,D&&(u=!0)),!this.inView&&!this.scrollTarget&&!YFe(e.dom))return 0;let F=c.width;if((this.contentDOMWidth!=F||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let R=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(R)&&(a=!0),a||i.lineWrapping&&Math.abs(F-this.contentDOMWidth)>i.charWidth){let{lineHeight:z,charWidth:X,textHeight:Z}=e.docView.measureTextSize();a=z>0&&i.refresh(o,z,X,Z,F/X,R),a&&(e.docView.minWidth=0,h|=16)}O>0&&N>0?m=Math.max(O,N):O<0&&N<0&&(m=Math.min(O,N)),iQ();for(let z of this.viewports){let X=z.from==this.viewport.from?R:e.docView.measureVisibleLineHeights(z);this.heightMap=(a?Ga.empty().applyChanges(this.stateDeco,qr.empty,this.heightOracle,[new wu(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new zFe(z.from,X))}tw&&(h|=2)}let I=!this.viewportIsAppropriate(this.viewport,m)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return I&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(m,this.scrollTarget),h|=this.updateForViewport()),(h&2||I)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:c}=this,u=new kR(i.lineAt(a-r*1e3,Wi.ByHeight,o,0,0).from,i.lineAt(c+(1-r)*1e3,Wi.ByHeight,o,0,0).to);if(t){let{head:h}=t.range;if(h<u.from||h>u.to){let m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=i.lineAt(h,Wi.ByPos,o,0,0),w;t.y=="center"?w=(y.top+y.bottom)/2-m/2:t.y=="start"||t.y=="nearest"&&h<u.from?w=y.top:w=y.bottom-m,u=new kR(i.lineAt(w-1e3/2,Wi.ByHeight,o,0,0).from,i.lineAt(w+m+1e3/2,Wi.ByHeight,o,0,0).to)}}return u}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new kR(this.heightMap.lineAt(r,Wi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Wi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Wi.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,Wi.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:c}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=c+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&o<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new KL(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=So.LTR&&!r)return[];let c=[],u=(m,y,w,S)=>{if(y-m<o)return;let T=this.state.selection.main,O=[T.from];T.empty||O.push(T.to);for(let D of O)if(D>m&&D<y){u(m,D-10,w,S),u(D+10,y,w,S);return}let N=ZFe(e,D=>D.from>=w.from&&D.to<=w.to&&Math.abs(D.from-m)<o&&Math.abs(D.to-y)<o&&!O.some(F=>D.from<F&&D.to>F));if(!N){if(y<w.to&&t&&r&&t.visibleRanges.some(I=>I.from<=y&&I.to>=y)){let I=t.moveToLineBoundary(vt.cursor(y),!1,!0).head;I>m&&(y=I)}let D=this.gapSize(w,m,y,S),F=r||D<2e6?D:2e6;N=new KL(m,y,D,F)}c.push(N)},h=m=>{if(m.length<a||m.type!=xu.Text)return;let y=XFe(m.from,m.to,this.stateDeco);if(y.total<a)return;let w=this.scrollTarget?this.scrollTarget.range.head:null,S,T;if(r){let O=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,N,D;if(w!=null){let F=OR(y,w),I=((this.visibleBottom-this.visibleTop)/2+O)/m.height;N=F-I,D=F+I}else N=(this.visibleTop-m.top-O)/m.height,D=(this.visibleBottom-m.top+O)/m.height;S=CR(y,N),T=CR(y,D)}else{let O=y.total*this.heightOracle.charWidth,N=i*this.heightOracle.charWidth,D=0;if(O>2e6)for(let X of e)X.from>=m.from&&X.from<m.to&&X.size!=X.displaySize&&X.from*this.heightOracle.charWidth+D<this.pixelViewport.left&&(D=X.size-X.displaySize);let F=this.pixelViewport.left+D,I=this.pixelViewport.right+D,R,z;if(w!=null){let X=OR(y,w),Z=((I-F)/2+N)/O;R=X-Z,z=X+Z}else R=(F-N)/O,z=(I+N)/O;S=CR(y,R),T=CR(y,z)}S>m.from&&u(m.from,S,m,y),T<m.to&&u(T,m.to,m,y)};for(let m of this.viewportLines)Array.isArray(m.type)?m.type.forEach(h):h(m);return c}gapSize(e,t,r,i){let o=OR(i,r)-OR(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){KL.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=wr.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];ii.spans(t,this.viewport.from,this.viewport.to,{span(o,a){r.push({from:o,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let a=this.visibleRanges[o],c=r[o];(a.from!=c.from||a.to!=c.to)&&(i|=4,e&&e.mapPos(a.from,-1)==c.from&&e.mapPos(a.to,1)==c.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||_k(this.heightMap.lineAt(e,Wi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||_k(this.heightMap.lineAt(this.scaler.fromDOM(e),Wi.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return _k(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let kR=class{constructor(e,t){this.from=e,this.to=t}};function XFe(n,e,t){let r=[],i=n,o=0;return ii.spans(t,n,e,{span(){},point(a,c){a>i&&(r.push({from:i,to:a}),o+=a-i),i=c}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function CR({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:a}=e[i],c=a-o;if(r<=c)return o+r;r-=c}}function OR(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function ZFe(n,e){for(let t of n)if(e(t))return t}const aQ={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class h7{constructor(e,t,r){let i=0,o=0,a=0;this.viewports=r.map(({from:c,to:u})=>{let h=t.lineAt(c,Wi.ByPos,e,0,0).top,m=t.lineAt(u,Wi.ByPos,e,0,0).bottom;return i+=m-h,{from:c,to:u,top:h,bottom:m,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=a+(c.top-o)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),o=c.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof h7?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function _k(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Tf(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>_k(i,e)):n._content)}const TR=en.define({combine:n=>n.join(" ")}),nB=en.define({combine:n=>n.indexOf(!0)>-1}),rB=Eg.newName(),Wae=Eg.newName(),qae=Eg.newName(),Uae={"&light":"."+Wae,"&dark":"."+qae};function iB(n,e,t){return new Eg(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const JFe=iB("."+rB,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Uae),eLe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},XL=Kt.ie&&Kt.ie_version<=11;class tLe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new I5e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(Kt.ie&&Kt.ie_version<=11||Kt.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Kt.chrome&&Kt.chrome_version<126)&&(this.editContext=new rLe(e),e.state.facet(Lh)&&(e.contentDOM.editContext=this.editContext.editContext)),XL&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Lh)?r.root.activeElement!=this.dom:!SM(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Kt.ie&&Kt.ie_version<=11||Kt.android&&Kt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&zk(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=YC(e.root);if(!t)return!1;let r=Kt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&nLe(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=SM(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&L5e(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,eLe),XL&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),XL&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&hx(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(i=!0),t==-1?{from:t,to:r}=a:(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&SM(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new bFe(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=Nae(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=lQ(t,e.previousSibling||e.target.previousSibling,-1),i=lQ(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Lh)!=e.state.facet(Lh)&&(e.view.contentDOM.editContext=e.state.facet(Lh)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function lQ(n,e,t){for(;e;){let r=Si.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function cQ(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return zk(a.node,a.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function nLe(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return cQ(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?cQ(n,t):null}class rLe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:a}=i,c=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:c,drifted:!1});let h={from:c,to:u,insert:qr.of(r.text.split(`
`))};if(h.from==this.from&&o<this.from?h.from=o:h.to==this.to&&o>this.to&&(h.to=o),h.from==h.to&&!h.insert.length){let m=vt.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));m.main.eq(i)||e.dispatch({selection:m,userEvent:"select"});return}if((Kt.mac||Kt.android)&&h.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:c,to:u,insert:qr.of([r.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let m=this.to-this.from+(h.to-h.from+h.insert.length);d7(e,h,vt.single(this.toEditorPos(r.selectionStart,m),this.toEditorPos(r.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let a=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);a<c;a++){let u=e.coordsForChar(a);o=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let a=o.underlineStyle,c=o.underlineThickness;if(a!="None"&&c!="None"){let u=this.toEditorPos(o.rangeStart),h=this.toEditorPos(o.rangeEnd);if(u<h){let m=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${c=="Thin"?1:2}px`;i.push(wr.mark({attributes:{style:m}}).range(u,h))}}}e.dispatch({effects:Oae.of(wr.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=YC(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,a,c,u,h)=>{if(r)return;let m=h.length-(a-o);if(i&&a>=i.to)if(i.from==o&&i.to==a&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=m,this.to+=m;return}else i=null,this.revertPending(e.state);if(o+=t,a+=t,a<=this.from)this.from+=m,this.to+=m;else if(o<this.to){if(o<this.from||a>this.to||this.to-this.from+h.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(a),h.toString()),this.to+=m}t+=m}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Vt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||F5e(e.parent)||document,this.viewState=new sQ(e.state||Lr.create(e)),e.scrollTo&&e.scrollTo.is(_R)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(bk).map(i=>new GL(i));for(let i of this.plugins)i.update(this);this.observer=new tLe(this),this.inputState=new SFe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new VY(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Js?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,o=this.state;for(let w of e){if(w.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=w.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,c=0,u=null;e.some(w=>w.annotation(Bae))?(this.inputState.notifiedFocused=a,c=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,u=Vae(o,a),u||(c=1));let h=this.observer.delayedAndroidKey,m=null;if(h?(this.observer.clearDelayedAndroidKey(),m=this.observer.readChange(),(m&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(m=null)):this.observer.clear(),o.facet(Lr.phrases)!=this.state.facet(Lr.phrases))return this.setState(o);i=UD.create(this,o,e),i.flags|=c;let y=this.viewState.scrollTarget;try{this.updateState=2;for(let w of e){if(y&&(y=y.map(w.changes)),w.scrollIntoView){let{main:S}=w.state.selection;y=new px(S.empty?S:vt.cursor(S.head,S.head>S.anchor?-1:1))}for(let S of w.effects)S.is(_R)&&(y=S.value.clip(this.state))}this.viewState.update(i,y),this.bidiCache=YD.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(xk)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(w=>w.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(TR)!=i.state.facet(TR)&&(this.viewState.mustMeasureContent=!0),(t||r||y||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let w of this.state.facet(Jj))try{w(i)}catch(S){Wa(this.state,S,"update listener")}(u||m)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),m&&!Nae(this,m)&&h.force&&hx(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new sQ(e),this.plugins=e.facet(bk).map(r=>new GL(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new VY(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(bk),r=e.state.facet(bk);if(t!=r){let i=[];for(let o of r){let a=t.indexOf(o);if(a<0)i.push(new GL(o));else{let c=this.plugins[a];c.mustUpdate=e,i.push(c)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Wa(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(a<0)if(nae(r))o=-1,a=this.viewState.heightMap.height;else{let S=this.viewState.scrollAnchorAt(i);o=S.from,a=S.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let m=h.map(S=>{try{return S.read(this)}catch(T){return Wa(this.state,T),uQ}}),y=UD.create(this,this.state,[]),w=!1;y.flags|=u,t?t.flags|=u:t=y,this.updateState=2,y.empty||(this.updatePlugins(y),this.inputState.update(y),this.updateAttrs(),w=this.docView.update(y),w&&this.docViewUpdate());for(let S=0;S<h.length;S++)if(m[S]!=uQ)try{let T=h[S];T.write&&T.write(m[S],this)}catch(T){Wa(this.state,T)}if(w&&this.docView.updateSelection(!0),!y.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let T=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(T>1||T<-1){i=i+T,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(Jj))c(t)}get themeClasses(){return rB+" "+(this.state.facet(nB)?qae:Wae)+" "+this.state.facet(TR)}updateAttrs(){let e=dQ(this,Tae,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Lh)?"true":"false",class:"cm-content",style:`${Kt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),dQ(this,l7,t);let r=this.observer.ignore(()=>{let i=Yj(this.contentDOM,this.contentAttrs,t),o=Yj(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(Vt.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(xk);let e=this.state.facet(Vt.cspNonce);Eg.mount(this.root,this.styleModules.concat(JFe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return QL(this,e,UY(this,e,t,r))}moveByGroup(e,t){return QL(this,e,UY(this,e,t,r=>mFe(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return vt.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return pFe(this,e,t,r)}moveVertically(e,t,r){return QL(this,e,gFe(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Dae(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),a=o[Ym.find(o,e-i.from,-1,t)];return N2(r,a.dir==So.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(kae)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>iLe)return vae(e.length);let t=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||gae(o.isolates,r=BY(this,e))))return o.order;r||(r=BY(this,e));let i=K5e(e.text,t,r);return this.bidiCache.push(new YD(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Kt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{eae(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return _R.of(new px(typeof e=="number"?vt.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return _R.of(new px(vt.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Fl.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Fl.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Eg.newName(),i=[TR.of(r),xk.of(iB(`.${r}`,e))];return t&&t.dark&&i.push(nB.of(!0)),i}static baseTheme(e){return Dw.lowest(xk.of(iB("."+rB,e,Uae)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Si.get(r)||Si.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}Vt.styleModule=xk;Vt.inputHandler=Eae;Vt.clipboardInputFilter=s7;Vt.clipboardOutputFilter=a7;Vt.scrollHandler=Cae;Vt.focusChangeEffect=Sae;Vt.perLineTextDirection=kae;Vt.exceptionSink=_ae;Vt.updateListener=Jj;Vt.editable=Lh;Vt.mouseSelectionStyle=wae;Vt.dragMovesSelection=xae;Vt.clickAddsSelectionRange=bae;Vt.decorations=QC;Vt.outerDecorations=Pae;Vt.atomicRanges=c7;Vt.bidiIsolatedRanges=Aae;Vt.scrollMargins=Rae;Vt.darkTheme=nB;Vt.cspNonce=en.define({combine:n=>n.length?n[0]:""});Vt.contentAttributes=l7;Vt.editorAttributes=Tae;Vt.lineWrapping=Vt.contentAttributes.of({class:"cm-lineWrapping"});Vt.announce=jr.define();const iLe=4096,uQ={};class YD{constructor(e,t,r,i,o,a){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=a}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:So.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==i&&!t.touchesRange(a.from,a.to)&&r.push(new YD(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function dQ(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],a=typeof o=="function"?o(n):o;a&&Gj(a,t)}return t}const oLe=Kt.mac?"mac":Kt.windows?"win":Kt.linux?"linux":"key";function sLe(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,o,a,c;for(let u=0;u<t.length-1;++u){const h=t[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))o=!0;else if(/^s(hift)?$/i.test(h))a=!0;else if(/^mod$/i.test(h))e=="mac"?c=!0:o=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),c&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function PR(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const aLe=Dw.default(Vt.domEventHandlers({keydown(n,e){return dLe(lLe(e.state),n,e,"editor")}})),L2=en.define({enables:aLe}),fQ=new WeakMap;function lLe(n){let e=n.facet(L2),t=fQ.get(e);return t||fQ.set(e,t=uLe(e.reduce((r,i)=>r.concat(i),[]))),t}let Mm=null;const cLe=4e3;function uLe(n,e=oLe){let t=Object.create(null),r=Object.create(null),i=(a,c)=>{let u=r[a];if(u==null)r[a]=c;else if(u!=c)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,c,u,h,m)=>{var y,w;let S=t[a]||(t[a]=Object.create(null)),T=c.split(/ (?!$)/).map(D=>sLe(D,e));for(let D=1;D<T.length;D++){let F=T.slice(0,D).join(" ");i(F,!0),S[F]||(S[F]={preventDefault:!0,stopPropagation:!1,run:[I=>{let R=Mm={view:I,prefix:F,scope:a};return setTimeout(()=>{Mm==R&&(Mm=null)},cLe),!0}]})}let O=T.join(" ");i(O,!1);let N=S[O]||(S[O]={preventDefault:!1,stopPropagation:!1,run:((w=(y=S._any)===null||y===void 0?void 0:y.run)===null||w===void 0?void 0:w.slice())||[]});u&&N.run.push(u),h&&(N.preventDefault=!0),m&&(N.stopPropagation=!0)};for(let a of n){let c=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let h of c){let m=t[h]||(t[h]=Object.create(null));m._any||(m._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:y}=a;for(let w in m)m[w].run.push(S=>y(S,oB))}let u=a[e]||a.key;if(u)for(let h of c)o(h,u,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(h,"Shift-"+u,a.shift,a.preventDefault,a.stopPropagation)}return t}let oB=null;function dLe(n,e,t,r){oB=e;let i=R5e(e),o=Ef(i,0),a=Rm(o)==i.length&&i!=" ",c="",u=!1,h=!1,m=!1;Mm&&Mm.view==t&&Mm.scope==r&&(c=Mm.prefix+" ",Fae.indexOf(e.keyCode)<0&&(h=!0,Mm=null));let y=new Set,w=N=>{if(N){for(let D of N.run)if(!y.has(D)&&(y.add(D),D(t)))return N.stopPropagation&&(m=!0),!0;N.preventDefault&&(N.stopPropagation&&(m=!0),h=!0)}return!1},S=n[r],T,O;return S&&(w(S[c+PR(i,e,!a)])?u=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Kt.windows&&e.ctrlKey&&e.altKey)&&(T=Sg[e.keyCode])&&T!=i?(w(S[c+PR(T,e,!0)])||e.shiftKey&&(O=GC[e.keyCode])!=i&&O!=T&&w(S[c+PR(O,e,!1)]))&&(u=!0):a&&e.shiftKey&&w(S[c+PR(i,e,!0)])&&(u=!0),!u&&w(S._any)&&(u=!0)),h&&(u=!0),u&&m&&e.stopPropagation(),oB=null,u}let fLe=class extends Iw{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Zx(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),i=N2(t[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}};function Gae(n){let e=Fl.fromClass(class{constructor(t){this.view=t,this.placeholder=n?wr.set([wr.widget({widget:new fLe(n),side:1}).range(0)]):wr.none}get decorations(){return this.view.state.doc.length?wr.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,Vt.contentAttributes.of({"aria-placeholder":n})]:e}const KS="-10000px";class Yae{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(a=>a);let o=null;this.tooltipViews=this.tooltips.map(a=>o=r(a,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let a=[],c=t?[]:null;for(let u=0;u<o.length;u++){let h=o[u],m=-1;if(h){for(let y=0;y<this.tooltips.length;y++){let w=this.tooltips[y];w&&w.create==h.create&&(m=y)}if(m<0)a[u]=this.createTooltipView(h,u?a[u-1]:null),c&&(c[u]=!!h.above);else{let y=a[u]=this.tooltipViews[m];c&&(c[u]=t[m]),y.update&&y.update(e)}}}for(let u of this.tooltipViews)a.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return t&&(c.forEach((u,h)=>t[h]=u),t.length=c.length),this.input=i,this.tooltips=o,this.tooltipViews=a,!0}}function Qae(n={}){return TM.of(n)}function hLe(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const TM=en.define({combine:n=>{var e,t,r;return{position:Kt.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||hLe}}}),hQ=new WeakMap,p7=Fl.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(TM);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Yae(n,m7,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(TM);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=KS,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(Kt.gecko)t=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==KS&&o.style.left=="0px"){let a=o.getBoundingClientRect();t=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(t||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(n=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=u7(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,a)=>{let c=this.manager.tooltipViews[a];return c.getCoords?c.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(TM).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:o}=n,a=[];for(let c=0;c<this.manager.tooltips.length;c++){let u=this.manager.tooltips[c],h=this.manager.tooltipViews[c],{dom:m}=h,y=n.pos[c],w=n.size[c];if(!y||u.clip!==!1&&(y.bottom<=Math.max(t.top,r.top)||y.top>=Math.min(t.bottom,r.bottom)||y.right<Math.max(t.left,r.left)-.1||y.left>Math.min(t.right,r.right)+.1)){m.style.top=KS;continue}let S=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,T=S?7:0,O=w.right-w.left,N=(e=hQ.get(h))!==null&&e!==void 0?e:w.bottom-w.top,D=h.offset||mLe,F=this.view.textDirection==So.LTR,I=w.width>r.right-r.left?F?r.left:r.right-w.width:F?Math.max(r.left,Math.min(y.left-(S?14:0)+D.x,r.right-O)):Math.min(Math.max(r.left,y.left-O+(S?14:0)-D.x),r.right-O),R=this.above[c];!u.strictSide&&(R?y.top-N-T-D.y<r.top:y.bottom+N+T+D.y>r.bottom)&&R==r.bottom-y.bottom>y.top-r.top&&(R=this.above[c]=!R);let z=(R?y.top-r.top:r.bottom-y.bottom)-T;if(z<N&&h.resize!==!1){if(z<this.view.defaultLineHeight){m.style.top=KS;continue}hQ.set(h,N),m.style.height=(N=z)/o+"px"}else m.style.height&&(m.style.height="");let X=R?y.top-N-T-D.y:y.bottom+T+D.y,Z=I+O;if(h.overlap!==!0)for(let ae of a)ae.left<Z&&ae.right>I&&ae.top<X+N&&ae.bottom>X&&(X=R?ae.top-N-2-T:ae.bottom+T+2);if(this.position=="absolute"?(m.style.top=(X-n.parent.top)/o+"px",pQ(m,(I-n.parent.left)/i)):(m.style.top=X/o+"px",pQ(m,I/i)),S){let ae=y.left+(F?D.x:-D.x)-(I+14-7);S.style.left=ae/i+"px"}h.overlap!==!0&&a.push({left:I,top:X,right:Z,bottom:X+N}),m.classList.toggle("cm-tooltip-above",R),m.classList.toggle("cm-tooltip-below",!R),h.positioned&&h.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=KS}},{eventObservers:{scroll(){this.maybeMeasure()}}});function pQ(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const pLe=Vt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),mLe={x:0,y:0},m7=en.define({enables:[p7,pLe]}),QD=en.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class TI{static create(e){return new TI(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Yae(e,QD,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const gLe=m7.compute([QD],n=>{let e=n.facet(QD);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:TI.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class vLe{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof Gm)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let c=e.coordsAtPos(i);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(m=>m.from<=i&&m.to>=i),h=u&&u.dir==So.RTL?-1:1;o=t.x<c.left?-h:h}let a=this.source(e,i,o);if(a!=null&&a.then){let c=this.pending={pos:i};a.then(u=>{this.pending==c&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>Wa(e.state,u,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(p7),t=e?e.manager.tooltips.findIndex(r=>r.create==TI.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!yLe(o.dom,e)||this.pending){let{pos:a}=i[0]||this.pending,c=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:a;(a==c?this.view.posAtCoords(this.lastMove)!=a:!bLe(this.view,a,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const AR=4;function yLe(n,e){let{left:t,right:r,top:i,bottom:o}=n.getBoundingClientRect(),a;if(a=n.querySelector(".cm-tooltip-arrow")){let c=a.getBoundingClientRect();i=Math.min(c.top,i),o=Math.max(c.bottom,o)}return e.clientX>=t-AR&&e.clientX<=r+AR&&e.clientY>=i-AR&&e.clientY<=o+AR}function bLe(n,e,t,r,i,o){let a=n.scrollDOM.getBoundingClientRect(),c=n.documentTop+n.documentPadding.top+n.contentHeight;if(a.left>r||a.right<r||a.top>i||Math.min(a.bottom,c)<i)return!1;let u=n.posAtCoords({x:r,y:i},!1);return u>=e&&u<=t}function xLe(n,e={}){let t=jr.define(),r=Cc.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(a=>!e.hideOn(o,a))),o.docChanged)){let a=[];for(let c of i){let u=o.changes.mapPos(c.pos,-1,Zs.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),c);h.pos=u,h.end!=null&&(h.end=o.changes.mapPos(h.end)),a.push(h)}}i=a}for(let a of o.effects)a.is(t)&&(i=a.value),a.is(wLe)&&(i=[]);return i},provide:i=>QD.from(i)});return{active:r,extension:[r,Fl.define(i=>new vLe(i,n,r,t,e.hoverTime||300)),gLe]}}function Kae(n,e){let t=n.plugin(p7);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const wLe=jr.define(),mQ=en.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}}),_Le=Fl.fromClass(class{constructor(n){this.input=n.state.facet(sB),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(mQ);this.top=new RR(n,!0,e.topContainer),this.bottom=new RR(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(mQ);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new RR(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new RR(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(sB);if(t!=this.input){let r=t.filter(u=>u),i=[],o=[],a=[],c=[];for(let u of r){let h=this.specs.indexOf(u),m;h<0?(m=u(n.view),c.push(m)):(m=this.panels[h],m.update&&m.update(n)),i.push(m),(m.top?o:a).push(m)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(a);for(let u of c)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Vt.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class RR{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=gQ(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=gQ(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function gQ(n){let e=n.nextSibling;return n.remove(),e}const sB=en.define({enables:_Le});class d0 extends a0{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}d0.prototype.elementClass="";d0.prototype.toDOM=void 0;d0.prototype.mapMode=Zs.TrackBefore;d0.prototype.startSide=d0.prototype.endSide=-1;d0.prototype.point=!0;const ZL=en.define(),ELe=en.define(),PM=en.define(),vQ=en.define({combine:n=>n.some(e=>e)});function SLe(n){return[kLe]}const kLe=Fl.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(PM).map(e=>new bQ(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(vQ),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(vQ)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=ii.iter(this.view.state.facet(ZL),this.view.viewport.from),r=[],i=this.gutters.map(o=>new CLe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let a=!0;for(let c of o.type)if(c.type==xu.Text&&a){aB(t,r,c.from);for(let u of i)u.line(this.view,c,r);a=!1}else if(c.widget)for(let u of i)u.widget(this.view,c)}else if(o.type==xu.Text){aB(t,r,o.from);for(let a of i)a.line(this.view,o,r)}else if(o.widget)for(let a of i)a.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(PM),t=n.state.facet(PM),r=n.docChanged||n.heightChanged||n.viewportChanged||!ii.eq(n.startState.facet(ZL),n.state.facet(ZL),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let a=e.indexOf(o);a<0?i.push(new bQ(this.view,o)):(this.gutters[a].update(n),i.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Vt.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==So.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function yQ(n){return Array.isArray(n)?n:[n]}function aB(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class CLe{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ii.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==i.elements.length){let c=new Xae(e,a,o,r);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(e,a,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];aB(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet(ELe)){let a=o(e,t.widget,t);a&&(i||(i=[])).push(a)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class bQ{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let u=o.getBoundingClientRect();a=(u.top+u.bottom)/2}else a=i.clientY;let c=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,c,i)&&i.preventDefault()});this.markers=yQ(t.markers(e)),t.initialSpacer&&(this.spacer=new Xae(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=yQ(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!ii.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Xae{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),OLe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,a=0;;){let c=a,u=o<t.length?t[o++]:null,h=!1;if(u){let m=u.elementClass;m&&(r+=" "+m);for(let y=a;y<this.markers.length;y++)if(this.markers[y].compare(u)){c=y,h=!0;break}}else c=this.markers.length;for(;a<c;){let m=this.markers[a++];if(m.toDOM){m.destroy(i);let y=i.nextSibling;i.remove(),i=y}}if(!u)break;u.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),h&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function OLe(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const TLe=en.define(),PLe=en.define(),q1=en.define({combine(n){return SI(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],a=t[i];r[i]=o?(c,u,h)=>o(c,u,h)||a(c,u,h):a}return r}})}});class JL extends d0{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function e4(n,e){return n.state.facet(q1).formatNumber(e,n.state)}const ALe=PM.compute([q1],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(TLe)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new JL(e4(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(PLe)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(q1)!=e.state.facet(q1),initialSpacer(e){return new JL(e4(e,xQ(e.state.doc.lines)))},updateSpacer(e,t){let r=e4(t.view,xQ(t.view.state.doc.lines));return r==e.number?e:new JL(r)},domEventHandlers:n.facet(q1).domEventHandlers}));function Zae(n={}){return[q1.of(n),SLe(),ALe]}function xQ(n){let e=9;for(;e<n;)e=e*10+9;return e}var t4;const U1=new Vn;function RLe(n){return en.define({combine:n?e=>e.concat(n):void 0})}const MLe=new Vn;class yd{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Lr.prototype.hasOwnProperty("tree")||Object.defineProperty(Lr.prototype,"tree",{get(){return ws(this)}}),this.parser=t,this.extension=[rw.of(this),Lr.languageData.of((o,a,c)=>{let u=wQ(o,a,c),h=u.type.prop(U1);if(!h)return[];let m=o.facet(h),y=u.type.prop(MLe);if(y){let w=u.resolve(a-u.from,c);for(let S of y)if(S.test(w,o)){let T=o.facet(S.facet);return S.type=="replace"?T:T.concat(m)}}return m})].concat(r)}isActiveAt(e,t,r=-1){return wQ(e,t,r).type.prop(U1)==this.data}findRegions(e){let t=e.facet(rw);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,a)=>{if(o.prop(U1)==this.data){r.push({from:a,to:a+o.length});return}let c=o.prop(Vn.mounted);if(c){if(c.tree.prop(U1)==this.data){if(c.overlay)for(let u of c.overlay)r.push({from:u.from+a,to:u.to+a});else r.push({from:a,to:a+o.length});return}else if(c.overlay){let u=r.length;if(i(c.tree,c.overlay[0].from+a),r.length>u)return}}for(let u=0;u<o.children.length;u++){let h=o.children[u];h instanceof oi&&i(h,o.positions[u]+a)}};return i(ws(e),0),r}get allowsNesting(){return!0}}yd.setState=jr.define();function wQ(n,e,t){let r=n.facet(rw),i=ws(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,ro.ExcludeBuffers))o.type.isTop&&(i=o);return i}class KC extends yd{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=RLe(e.languageData);return new KC(t,e.parser.configure({props:[U1.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new KC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ws(n){let e=n.field(yd.state,!1);return e?e.tree:oi.empty}class DLe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let XS=null;class KD{constructor(e,t,r=[],i,o,a,c,u){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=c,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new KD(e,t,[],oi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new DLe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=oi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Gh.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Gh.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=XS;XS=this;try{return e()}finally{XS=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=_Q(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:a,skipped:c}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,m,y,w)=>u.push({fromA:h,toA:m,fromB:y,toB:w})),r=Gh.applyChanges(r,u),i=oi.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){c=[];for(let h of this.skipped){let m=e.mapPos(h.from,1),y=e.mapPos(h.to,-1);m<y&&c.push({from:m,to:y})}}}return new KD(this.parser,t,r,i,o,a,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=_Q(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends G9{createParse(t,r,i){let o=i[0].from,a=i[i.length-1].to;return{parsedPos:o,advance(){let u=XS;if(u){for(let h of i)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=a,new oi(xs.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return XS}}function _Q(n,e,t){return Gh.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class nw{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new nw(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=KD.create(e.facet(rw).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new nw(r)}}yd.state=Cc.define({create:nw.init,update(n,e){for(let t of e.effects)if(t.is(yd.setState))return t.value;return e.startState.facet(rw)!=e.state.facet(rw)?nw.init(e.state):n.apply(e)}});let Jae=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Jae=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const n4=typeof navigator<"u"&&(!((t4=navigator.scheduling)===null||t4===void 0)&&t4.isInputPending)?()=>navigator.scheduling.isInputPending():null,NLe=Fl.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(yd.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(yd.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Jae(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(yd.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!n4?Math.max(25,e.timeRemaining()-5):1e9),c=o.context.treeLen<i&&r.doc.length>i+1e3,u=o.context.work(()=>n4&&n4()||Date.now()>a,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:yd.setState.of(new nw(o.context))})),this.chunkBudget>0&&!(u&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Wa(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),rw=en.define({combine(n){return n.length?n[0]:null},enables:n=>[yd.state,NLe,Vt.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class ele{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const ILe=en.define(),PI=en.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function XD(n){let e=n.facet(PI);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function XC(n,e){let t="",r=n.tabSize,i=n.facet(PI)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function g7(n,e){n instanceof Lr&&(n=new AI(n));for(let r of n.state.facet(ILe)){let i=r(n,e);if(i!==void 0)return i}let t=ws(n.state);return t.length>=e?FLe(n,t,e):null}class AI{constructor(e,t={}){this.state=e,this.options=t,this.unit=XD(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return kI(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const tle=new Vn;function FLe(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let o=[];for(let a=i;a&&!(a.from==r.node.from&&a.type==r.node.type);a=a.parent)o.push(a);for(let a=o.length-1;a>=0;a--)r={node:o[a],next:r}}return nle(r,n,t)}function nle(n,e,t){for(let r=n;r;r=r.next){let i=$Le(r.node);if(i)return i(v7.create(e,t,r))}return 0}function LLe(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function $Le(n){let e=n.type.prop(tle);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Vn.closedBy))){let i=n.lastChild,o=i&&r.indexOf(i.name)>-1;return a=>rle(a,!0,1,void 0,o&&!LLe(a)?i.from:void 0)}return n.parent==null?jLe:null}function jLe(){return 0}class v7 extends AI{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new v7(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(BLe(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return nle(this.context.next,this.base,this.pos)}}function BLe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function VLe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),a=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let c=t.to;;){let u=e.childAfter(c);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=a)return null;let h=/^ */.exec(o.text.slice(t.to-o.from))[0].length;return{from:t.from,to:t.to+h}}c=u.to}}function EQ({closing:n,align:e=!0,units:t=1}){return r=>rle(r,e,t,n)}function rle(n,e,t,r,i){let o=n.textAfter,a=o.match(/^\s*/)[0].length,c=r&&o.slice(a,a+r.length)==r||i==n.pos+a,u=e?VLe(n):null;return u?c?n.column(u.from):n.column(u.to):n.baseIndent+(c?0:n.unit*t)}function r4({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const zLe=200;function ile(){return Lr.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+zLe)return n;let o=t.sliceString(i.from,r);if(!e.some(h=>h.test(o)))return n;let{state:a}=n,c=-1,u=[];for(let{head:h}of a.selection.ranges){let m=a.doc.lineAt(h);if(m.from==c)continue;c=m.from;let y=g7(a,m.from);if(y==null)continue;let w=/^\s*/.exec(m.text)[0],S=XC(a,y);w!=S&&u.push({from:m.from,to:m.from+w.length,insert:S})}return u.length?[n,{changes:u,sequential:!0}]:n})}const ole=new Vn;function Wk(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}class Fg{constructor(e,t){this.specs=e;let r;function i(c){let u=Eg.newName();return(r||(r=Object.create(null)))["."+u]=c,u}const o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,a=t.scope;this.scope=a instanceof yd?c=>c.prop(U1)==a.data:a?c=>c==a:void 0,this.style=mse(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:o}).style,this.module=r?new Eg(r):null,this.themeType=t.themeType}static define(e,t){return new Fg(e,t||{})}}const lB=en.define(),HLe=en.define({combine(n){return n.length?[n[0]]:null}});function i4(n){let e=n.facet(lB);return e.length?e:n.facet(HLe)}function RI(n,e){let t=[qLe],r;return n instanceof Fg&&(n.module&&t.push(Vt.styleModule.of(n.module)),r=n.themeType),r?t.push(lB.computeN([Vt.darkTheme],i=>i.facet(Vt.darkTheme)==(r=="dark")?[n]:[])):t.push(lB.of(n)),t}class WLe{constructor(e){this.markCache=Object.create(null),this.tree=ws(e.state),this.decorations=this.buildDeco(e,i4(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=ws(e.state),r=i4(e.state),i=r!=i4(e.startState),{viewport:o}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&a>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return wr.none;let r=new Xx;for(let{from:i,to:o}of e.visibleRanges)UNe(this.tree,t,(a,c,u)=>{r.add(a,c,this.markCache[u]||(this.markCache[u]=wr.mark({class:u})))},i,o);return r.finish()}}const qLe=Dw.high(Fl.fromClass(WLe,{decorations:n=>n.decorations}));ue.meta,ue.link,ue.heading,ue.emphasis,ue.strong,ue.strikethrough,ue.keyword,ue.atom,ue.bool,ue.url,ue.contentSeparator,ue.labelName,ue.literal,ue.inserted,ue.string,ue.deleted,ue.regexp,ue.escape,ue.string,ue.variableName,ue.variableName,ue.typeName,ue.namespace,ue.className,ue.variableName,ue.macroName,ue.propertyName,ue.comment,ue.invalid;const ULe=Vt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),sle=1e4,ale="()[]{}",lle=en.define({combine(n){return SI(n,{afterCursor:!0,brackets:ale,maxScanDistance:sle,renderMatch:QLe})}}),GLe=wr.mark({class:"cm-matchingBracket"}),YLe=wr.mark({class:"cm-nonmatchingBracket"});function QLe(n){let e=[],t=n.matched?GLe:YLe;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const KLe=Cc.define({create(){return wr.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(lle);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=Rf(e.state,i.head,-1,r)||i.head>0&&Rf(e.state,i.head-1,1,r)||r.afterCursor&&(Rf(e.state,i.head,1,r)||i.head<e.state.doc.length&&Rf(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return wr.set(t,!0)},provide:n=>Vt.decorations.from(n)}),XLe=[KLe,ULe];function cle(n={}){return[lle.of(n),XLe]}const ZLe=new Vn;function cB(n,e,t){let r=n.prop(e<0?Vn.openedBy:Vn.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function uB(n){let e=n.type.prop(ZLe);return e?e(n.node):n}function Rf(n,e,t,r={}){let i=r.maxScanDistance||sle,o=r.brackets||ale,a=ws(n),c=a.resolveInner(e,t);for(let u=c;u;u=u.parent){let h=cB(u.type,t,o);if(h&&u.from<u.to){let m=uB(u);if(m&&(t>0?e>=m.from&&e<m.to:e>m.from&&e<=m.to))return JLe(n,e,t,u,m,h,o)}}return e4e(n,e,t,a,c.type,i,o)}function JLe(n,e,t,r,i,o,a){let c=r.parent,u={from:i.from,to:i.to},h=0,m=c==null?void 0:c.cursor();if(m&&(t<0?m.childBefore(r.from):m.childAfter(r.to)))do if(t<0?m.to<=r.from:m.from>=r.to){if(h==0&&o.indexOf(m.type.name)>-1&&m.from<m.to){let y=uB(m);return{start:u,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}else if(cB(m.type,t,a))h++;else if(cB(m.type,-t,a)){if(h==0){let y=uB(m);return{start:u,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}h--}}while(t<0?m.prevSibling():m.nextSibling());return{start:u,matched:!1}}function e4e(n,e,t,r,i,o,a){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),u=a.indexOf(c);if(u<0||u%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},m=n.doc.iterRange(e,t>0?n.doc.length:0),y=0;for(let w=0;!m.next().done&&w<=o;){let S=m.value;t<0&&(w+=S.length);let T=e+w*t;for(let O=t>0?0:S.length-1,N=t>0?S.length:-1;O!=N;O+=t){let D=a.indexOf(S[O]);if(!(D<0||r.resolveInner(T+O,1).type!=i))if(D%2==0==t>0)y++;else{if(y==1)return{start:h,end:{from:T+O,to:T+O+1},matched:D>>1==u>>1};y--}}t>0&&(w+=S.length)}return m.done?{start:h,matched:!1}:null}const t4e=Object.create(null),SQ=[xs.none],kQ=[],CQ=Object.create(null),n4e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])n4e[n]=r4e(t4e,e);function o4(n,e){kQ.indexOf(n)>-1||(kQ.push(n),console.warn(e))}function r4e(n,e){let t=[];for(let c of e.split(" ")){let u=[];for(let h of c.split(".")){let m=n[h]||ue[h];m?typeof m=="function"?u.length?u=u.map(m):o4(h,`Modifier ${h} used at start of tag`):u.length?o4(h,`Tag ${h} used as modifier`):u=Array.isArray(m)?m:[m]:o4(h,`Unknown highlighting tag ${h}`)}for(let h of u)t.push(h)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(c=>c.id),o=CQ[i];if(o)return o.id;let a=CQ[i]=xs.define({id:SQ.length,name:r,props:[D2({[r]:t})]});return SQ.push(a),a.id}So.RTL,So.LTR;class ule{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=ws(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(dle(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function OQ(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function i4e(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=OQ(e)+OQ(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function y7(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:i4e(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}class TQ{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function By(n){return n.selection.main.from}function dle(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?n:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const b7=E0.define();function o4e(n,e,t,r){let{main:i}=n.selection,o=t-i.from,a=r-i.from;return Object.assign(Object.assign({},n.changeByRange(c=>{if(c!=i&&t!=r&&n.sliceDoc(c.from+o,c.from+a)!=n.sliceDoc(t,r))return{range:c};let u=n.toText(e);return{changes:{from:c.from+o,to:r==i.from?c.to:c.from+a,insert:u},range:vt.cursor(c.from+o+u.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const PQ=new WeakMap;function s4e(n){if(!Array.isArray(n))return n;let e=PQ.get(n);return e||PQ.set(n,e=y7(n)),e}const ZD=jr.define(),ZC=jr.define();class a4e{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Ef(e,t),i=Rm(r);this.chars.push(r);let o=e.slice(t,t+i),a=o.toUpperCase();this.folded.push(Ef(a==o?o.toLowerCase():a,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:a}=this;if(t.length==1){let F=Ef(e,0),I=Rm(F),R=I==e.length?0:-100;if(F!=t[0])if(F==r[0])R+=-200;else return null;return this.ret(R,[0,I])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=t.length,h=0;if(c<0){for(let F=0,I=Math.min(e.length,200);F<I&&h<u;){let R=Ef(e,F);(R==t[h]||R==r[h])&&(i[h++]=F),F+=Rm(R)}if(h<u)return null}let m=0,y=0,w=!1,S=0,T=-1,O=-1,N=/[a-z]/.test(e),D=!0;for(let F=0,I=Math.min(e.length,200),R=0;F<I&&y<u;){let z=Ef(e,F);c<0&&(m<u&&z==t[m]&&(o[m++]=F),S<u&&(z==t[S]||z==r[S]?(S==0&&(T=F),O=F+1,S++):S=0));let X,Z=z<255?z>=48&&z<=57||z>=97&&z<=122?2:z>=65&&z<=90?1:0:(X=Bse(z))!=X.toLowerCase()?1:X!=X.toUpperCase()?2:0;(!F||Z==1&&N||R==0&&Z!=0)&&(t[y]==z||r[y]==z&&(w=!0)?a[y++]=F:a.length&&(D=!1)),R=Z,F+=Rm(z)}return y==u&&a[0]==0&&D?this.result(-100+(w?-200:0),a,e):S==u&&T==0?this.ret(-200-e.length+(O==e.length?0:-100),[0,O]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):S==u?this.ret(-900-e.length,[T,O]):y==u?this.result(-100+(w?-200:0)+-700+(D?0:-1100),a,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],o=0;for(let a of t){let c=a+(this.astral?Rm(Ef(r,a)):1);o&&i[o-1]==a?i[o-1]=c:(i[o++]=a,i[o++]=c)}return this.ret(e-r.length,i)}}class l4e{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Fs=en.define({combine(n){return SI(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:c4e,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>AQ(e(r),t(r)),optionClass:(e,t)=>r=>AQ(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function AQ(n,e){return n?e?n+" "+e:n:e}function c4e(n,e,t,r,i,o){let a=n.textDirection==So.RTL,c=a,u=!1,h="top",m,y,w=e.left-i.left,S=i.right-e.right,T=r.right-r.left,O=r.bottom-r.top;if(c&&w<Math.min(T,S)?c=!1:!c&&S<Math.min(T,w)&&(c=!0),T<=(c?w:S))m=Math.max(i.top,Math.min(t.top,i.bottom-O))-e.top,y=Math.min(400,c?w:S);else{u=!0,y=Math.min(400,(a?e.right:i.right-e.left)-30);let F=i.bottom-e.bottom;F>=O||F>e.top?m=t.bottom-e.top:(h="bottom",m=e.bottom-t.top)}let N=(e.bottom-e.top)/o.offsetHeight,D=(e.right-e.left)/o.offsetWidth;return{style:`${h}: ${m/N}px; max-width: ${y/D}px`,class:"cm-completionInfo-"+(u?a?"left-narrow":"right-narrow":c?"left":"right")}}function u4e(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,o){let a=document.createElement("span");a.className="cm-completionLabel";let c=t.displayLabel||t.label,u=0;for(let h=0;h<o.length;){let m=o[h++],y=o[h++];m>u&&a.appendChild(document.createTextNode(c.slice(u,m)));let w=a.appendChild(document.createElement("span"));w.appendChild(document.createTextNode(c.slice(m,y))),w.className="cm-completionMatchedText",u=y}return u<c.length&&a.appendChild(document.createTextNode(c.slice(u))),a},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function s4(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class d4e{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:a}=i.open,c=e.state.facet(Fs);this.optionContent=u4e(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=s4(o.length,a,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(t).open;for(let m=u.target,y;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(y=/-(\d+)$/.exec(m.id))&&+y[1]<h.length){this.applyCompletion(e,h[+y[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Fs).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:ZC.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:a,disabled:c}=r.open;(!i.open||i.open.options!=o)&&(this.range=s4(o.length,a,e.state.facet(Fs).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),c!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=s4(t.options.length,t.selected,this.view.state.facet(Fs).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,r)}).catch(a=>Wa(this.view.state,a,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&h4e(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(Fs).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let o=null;for(let a=r.from;a<r.to;a++){let{completion:c,match:u}=e[a],{section:h}=c;if(h){let w=typeof h=="string"?h:h.name;if(w!=o&&(a>r.from||r.from==0))if(o=w,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let S=i.appendChild(document.createElement("completion-section"));S.textContent=w}}const m=i.appendChild(document.createElement("li"));m.id=t+"-"+a,m.setAttribute("role","option");let y=this.optionClass(c);y&&(m.className=y);for(let w of this.optionContent){let S=w(c,this.view.state,this.view,u);S&&m.appendChild(S)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function f4e(n,e){return t=>new d4e(t,n,e)}function h4e(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function RQ(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function p4e(n,e){let t=[],r=null,i=h=>{t.push(h);let{section:m}=h.completion;if(m){r||(r=[]);let y=typeof m=="string"?m:m.name;r.some(w=>w.name==y)||r.push(typeof m=="string"?{name:y}:m)}},o=e.facet(Fs);for(let h of n)if(h.hasResult()){let m=h.result.getMatch;if(h.result.filter===!1)for(let y of h.result.options)i(new TQ(y,h.source,m?m(y):[],1e9-t.length));else{let y=e.sliceDoc(h.from,h.to),w,S=o.filterStrict?new l4e(y):new a4e(y);for(let T of h.result.options)if(w=S.match(T.label)){let O=T.displayLabel?m?m(T,w.matched):[]:w.matched;i(new TQ(T,h.source,O,w.score+(T.boost||0)))}}}if(r){let h=Object.create(null),m=0,y=(w,S)=>{var T,O;return((T=w.rank)!==null&&T!==void 0?T:1e9)-((O=S.rank)!==null&&O!==void 0?O:1e9)||(w.name<S.name?-1:1)};for(let w of r.sort(y))m-=1e5,h[w.name]=m;for(let w of t){let{section:S}=w.completion;S&&(w.score+=h[typeof S=="string"?S:S.name])}}let a=[],c=null,u=o.compareCompletions;for(let h of t.sort((m,y)=>y.score-m.score||u(m.completion,y.completion))){let m=h.completion;!c||c.label!=m.label||c.detail!=m.detail||c.type!=null&&m.type!=null&&c.type!=m.type||c.apply!=m.apply||c.boost!=m.boost?a.push(h):RQ(h.completion)>RQ(c)&&(a[a.length-1]=h),c=h.completion}return a}class G1{constructor(e,t,r,i,o,a){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new G1(this.options,MQ(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o,a){if(i&&!a&&e.some(h=>h.isPending))return i.setDisabled();let c=p4e(e,t);if(!c.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let u=t.facet(Fs).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let h=i.options[i.selected].completion;for(let m=0;m<c.length;m++)if(c[m].completion==h){u=m;break}}return new G1(c,MQ(r,u),{pos:e.reduce((h,m)=>m.hasResult()?Math.min(h,m.from):h,1e8),create:x4e,above:o.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new G1(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new G1(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class JD{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new JD(y4e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Fs),o=(r.override||t.languageDataAt("autocomplete",By(t)).map(s4e)).map(u=>(this.active.find(m=>m.source==u)||new gu(u,this.active.some(m=>m.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((u,h)=>u==this.active[h])&&(o=this.active);let a=this.open,c=e.effects.some(u=>u.is(x7));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!m4e(o,this.active)||c?a=G1.build(o,t,this.id,a,r,c):a&&a.disabled&&!o.some(u=>u.isPending)&&(a=null),!a&&o.every(u=>!u.isPending)&&o.some(u=>u.hasResult())&&(o=o.map(u=>u.hasResult()?new gu(u.source,0):u));for(let u of e.effects)u.is(hle)&&(a=a&&a.setSelected(u.value,this.id));return o==this.active&&a==this.open?this:new JD(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?g4e:v4e}}function m4e(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}const g4e={"aria-autocomplete":"list"},v4e={};function MQ(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const y4e=[];function fle(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(b7);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class gu{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=fle(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new gu(i.source,0)),r&4&&i.state==0&&(i=new gu(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(ZD))i=new gu(i.source,1,o.value);else if(o.is(ZC))i=new gu(i.source,0);else if(o.is(x7))for(let a of o.value)a.source==i.source&&(i=a);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(By(e.state))}}class mx extends gu{constructor(e,t,r,i,o,a){super(e,3,t),this.limit=r,this.result=i,this.from=o,this.to=a}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),c=By(e.state);if(c>a||!i||t&2&&(By(e.startState)==this.from||c<this.limit))return new gu(this.source,t&4?1:0);let u=e.changes.mapPos(this.limit);return b4e(i.validFor,e.state,o,a)?new mx(this.source,this.explicit,u,i,o,a):i.update&&(i=i.update(i,o,a,new ule(e.state,c,!1)))?new mx(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:By(e.state)):new gu(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new mx(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new gu(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function b4e(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):dle(n,!0).test(i)}const x7=jr.define({map(n,e){return n.map(t=>t.map(e))}}),hle=jr.define(),Ol=Cc.define({create(){return JD.start()},update(n,e){return n.update(e)},provide:n=>[m7.from(n,e=>e.tooltip),Vt.contentAttributes.from(n,e=>e.attrs)]});function w7(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Ol).active.find(i=>i.source==e.source);return r instanceof mx?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},o4e(n.state,t,r.from,r.to)),{annotations:b7.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const x4e=f4e(Ol,w7);function MR(n,e="option"){return t=>{let r=t.state.field(Ol,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Fs).interactionDelay)return!1;let i=1,o;e=="page"&&(o=Kae(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,c=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:a-1;return c<0?c=e=="page"?0:a-1:c>=a&&(c=e=="page"?a-1:0),t.dispatch({effects:hle.of(c)}),!0}}const w4e=n=>{let e=n.state.field(Ol,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Fs).interactionDelay?!1:w7(n,e.open.options[e.open.selected])},DQ=n=>n.state.field(Ol,!1)?(n.dispatch({effects:ZD.of(!0)}),!0):!1,_4e=n=>{let e=n.state.field(Ol,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:ZC.of(null)}),!0)};class E4e{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const S4e=50,k4e=1e3,C4e=Fl.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Ol).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Ol),t=n.state.facet(Fs);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ol)==e)return;let r=n.transactions.some(o=>{let a=fle(o,t);return a&8||(o.selection||o.docChanged)&&!(a&3)});for(let o=0;o<this.running.length;o++){let a=this.running[o];if(r||a.context.abortOnDocChange&&n.docChanged||a.updates.length+n.transactions.length>S4e&&Date.now()-a.time>k4e){for(let c of a.context.abortListeners)try{c()}catch(u){Wa(this.view.state,u)}a.context.abortListeners=null,this.running.splice(o--,1)}else a.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(a=>a.is(ZD)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(a=>a.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Ol);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Fs).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=By(e),r=new ule(e,t,n.explicit,this.view),i=new E4e(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:ZC.of(null)}),Wa(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Fs).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Fs),r=this.view.state.field(Ol);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let c=By(o.updates.length?o.updates[0].startState:this.view.state),u=Math.min(c,o.done.from+(o.active.explicit?0:1)),h=new mx(o.active.source,o.active.explicit,u,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:c);for(let m of o.updates)h=h.update(m,t);if(h.hasResult()){e.push(h);continue}}let a=r.active.find(c=>c.source==o.active.source);if(a&&a.isPending)if(o.done==null){let c=new gu(o.active.source,0);for(let u of o.updates)c=c.update(u,t);c.isPending||e.push(c)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:x7.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Ol,!1);if(e&&e.tooltip&&this.view.state.facet(Fs).closeOnBlur){let t=e.open&&Kae(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:ZC.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ZD.of(!1)}),20),this.composing=0}}}),O4e=typeof navigator=="object"&&/Win/.test(navigator.platform),T4e=Dw.highest(Vt.domEventHandlers({keydown(n,e){let t=e.state.field(Ol,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(O4e&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(a=>a.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&w7(e,r),!1}})),ple=Vt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class P4e{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class _7{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,Zs.TrackDel),r=e.mapPos(this.to,1,Zs.TrackDel);return t==null||r==null?null:new _7(this.field,t,r)}}class E7{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],o=e.doc.lineAt(t),a=/^\s*/.exec(o.text)[0];for(let u of this.lines){if(r.length){let h=a,m=/^\t*/.exec(u)[0].length;for(let y=0;y<m;y++)h+=e.facet(PI);i.push(t+h.length-m),u=h+u.slice(m)}r.push(u),t+=u.length+1}let c=this.fieldPositions.map(u=>new _7(u.field,i[u.line]+u.from,i[u.line]+u.to));return{text:r,ranges:c}}static parse(e){let t=[],r=[],i=[],o;for(let a of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(a);){let c=o[1]?+o[1]:null,u=o[2]||o[3]||"",h=-1,m=u.replace(/\\[{}]/g,y=>y[1]);for(let y=0;y<t.length;y++)(c!=null?t[y].seq==c:m&&t[y].name==m)&&(h=y);if(h<0){let y=0;for(;y<t.length&&(c==null||t[y].seq!=null&&t[y].seq<c);)y++;t.splice(y,0,{seq:c,name:m}),h=y;for(let w of i)w.field>=h&&w.field++}i.push(new P4e(h,r.length,o.index,o.index+m.length)),a=a.slice(0,o.index)+u+a.slice(o.index+o[0].length)}a=a.replace(/\\([{}])/g,(c,u,h)=>{for(let m of i)m.line==r.length&&m.from>h&&(m.from--,m.to--);return u}),r.push(a)}return new E7(r,i)}}let A4e=wr.widget({widget:new class extends Iw{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),R4e=wr.mark({class:"cm-snippetField"});class Fw{constructor(e,t){this.ranges=e,this.active=t,this.deco=wr.set(e.map(r=>(r.from==r.to?A4e:R4e).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new Fw(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const $2=jr.define({map(n,e){return n&&n.map(e)}}),M4e=jr.define(),JC=Cc.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is($2))return t.value;if(t.is(M4e)&&n)return new Fw(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>Vt.decorations.from(n,e=>e?e.deco:wr.none)});function S7(n,e){return vt.create(n.filter(t=>t.field==e).map(t=>vt.range(t.from,t.to)))}function D4e(n){let e=E7.parse(n);return(t,r,i,o)=>{let{text:a,ranges:c}=e.instantiate(t.state,i),{main:u}=t.state.selection,h={changes:{from:i,to:o==u.from?u.to:o,insert:qr.of(a)},scrollIntoView:!0,annotations:r?[b7.of(r),Js.userEvent.of("input.complete")]:void 0};if(c.length&&(h.selection=S7(c,0)),c.some(m=>m.field>0)){let m=new Fw(c,0),y=h.effects=[$2.of(m)];t.state.field(JC,!1)===void 0&&y.push(jr.appendConfig.of([JC,$4e,j4e,ple]))}t.dispatch(t.state.update(h))}}function mle(n){return({state:e,dispatch:t})=>{let r=e.field(JC,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,o=n>0&&!r.ranges.some(a=>a.field==i+n);return t(e.update({selection:S7(r.ranges,i),effects:$2.of(o?null:new Fw(r.ranges,i)),scrollIntoView:!0})),!0}}const N4e=({state:n,dispatch:e})=>n.field(JC,!1)?(e(n.update({effects:$2.of(null)})),!0):!1,I4e=mle(1),F4e=mle(-1),L4e=[{key:"Tab",run:I4e,shift:F4e},{key:"Escape",run:N4e}],NQ=en.define({combine(n){return n.length?n[0]:L4e}}),$4e=Dw.highest(L2.compute([NQ],n=>n.facet(NQ)));function gf(n,e){return Object.assign(Object.assign({},e),{apply:D4e(n)})}const j4e=Vt.domEventHandlers({mousedown(n,e){let t=e.state.field(JC,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:S7(t.ranges,i.field),effects:$2.of(t.ranges.some(o=>o.field>i.field)?new Fw(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),eN={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Py=jr.define({map(n,e){let t=e.mapPos(n,-1,Zs.TrackAfter);return t??void 0}}),k7=new class extends a0{};k7.startSide=1;k7.endSide=-1;const gle=Cc.define({create(){return ii.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Py)&&(n=n.update({add:[k7.range(t.value,t.value+1)]}));return n}});function vle(){return[H4e,gle]}const a4="()[]{}<>";function B4e(n){for(let e=0;e<a4.length;e+=2)if(a4.charCodeAt(e)==n)return a4.charAt(e+1);return Bse(n<128?n:n+1)}function V4e(n,e){return n.languageDataAt("closeBrackets",e)[0]||eN}const z4e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),H4e=Vt.inputHandler.of((n,e,t,r)=>{if((z4e?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&Rm(Ef(r,0))==1||e!=i.from||t!=i.to)return!1;let o=W4e(n.state,r);return o?(n.dispatch(o),!0):!1});function W4e(n,e){let t=V4e(n,n.selection.main.head),r=t.brackets||eN.brackets;for(let i of r){let o=B4e(Ef(i,0));if(e==i)return o==i?G4e(n,i,r.indexOf(i+i+i)>-1,t):q4e(n,i,o,t.before||eN.before);if(e==o&&yle(n,n.selection.main.from))return U4e(n,i,o)}return null}function yle(n,e){let t=!1;return n.field(gle).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function C7(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Rm(Ef(t,0)))}function q4e(n,e,t,r){let i=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:Py.of(a.to+e.length),range:vt.range(a.anchor+e.length,a.head+e.length)};let c=C7(n.doc,a.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:e+t,from:a.head},effects:Py.of(a.head+e.length),range:vt.cursor(a.head+e.length)}:{range:i=a}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function U4e(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&C7(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:vt.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function G4e(n,e,t,r){let i=r.stringPrefixes||eN.stringPrefixes,o=null,a=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:Py.of(c.to+e.length),range:vt.range(c.anchor+e.length,c.head+e.length)};let u=c.head,h=C7(n.doc,u),m;if(h==e){if(IQ(n,u))return{changes:{insert:e+e,from:u},effects:Py.of(u+e.length),range:vt.cursor(u+e.length)};if(yle(n,u)){let w=t&&n.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+w.length,insert:w},range:vt.cursor(u+w.length)}}}else{if(t&&n.sliceDoc(u-2*e.length,u)==e+e&&(m=FQ(n,u-2*e.length,i))>-1&&IQ(n,m))return{changes:{insert:e+e+e+e,from:u},effects:Py.of(u+e.length),range:vt.cursor(u+e.length)};if(n.charCategorizer(u)(h)!=mu.Word&&FQ(n,u,i)>-1&&!Y4e(n,u,e,i))return{changes:{insert:e+e,from:u},effects:Py.of(u+e.length),range:vt.cursor(u+e.length)}}return{range:o=c}});return o?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function IQ(n,e){let t=ws(n).resolveInner(e+1);return t.parent&&t.from==e}function Y4e(n,e,t,r){let i=ws(n).resolveInner(e,-1),o=r.reduce((a,c)=>Math.max(a,c.length),0);for(let a=0;a<5;a++){let c=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),u=c.indexOf(t);if(!u||u>-1&&r.indexOf(c.slice(0,u))>-1){let m=i.firstChild;for(;m&&m.from==i.from&&m.to-m.from>t.length+u;){if(n.sliceDoc(m.to-t.length,m.to)==t)return!1;m=m.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function FQ(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=mu.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=mu.Word)return o}return-1}function Q4e(n={}){return[T4e,Ol,Fs.of(n),C4e,X4e,ple]}const K4e=[{key:"Ctrl-Space",run:DQ},{mac:"Alt-`",run:DQ},{key:"Escape",run:_4e},{key:"ArrowDown",run:MR(!0)},{key:"ArrowUp",run:MR(!1)},{key:"PageDown",run:MR(!0,"page")},{key:"PageUp",run:MR(!1,"page")},{key:"Enter",run:w4e}],X4e=Dw.highest(L2.computeN([Fs],n=>n.facet(Fs).defaultKeymap?[K4e]:[])),Z4e=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=T7(n.state,t.from);return r.line?J4e(n):r.block?t$e(n):!1};function O7(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const J4e=O7(i$e,0),e$e=O7(ble,0),t$e=O7((n,e)=>ble(n,e,r$e(e)),0);function T7(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const ZS=50;function n$e(n,{open:e,close:t},r,i){let o=n.sliceDoc(r-ZS,r),a=n.sliceDoc(i,i+ZS),c=/\s*$/.exec(o)[0].length,u=/^\s*/.exec(a)[0].length,h=o.length-c;if(o.slice(h-e.length,h)==e&&a.slice(u,u+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};let m,y;i-r<=2*ZS?m=y=n.sliceDoc(r,i):(m=n.sliceDoc(r,r+ZS),y=n.sliceDoc(i-ZS,i));let w=/^\s*/.exec(m)[0].length,S=/\s*$/.exec(y)[0].length,T=y.length-S-t.length;return m.slice(w,w+e.length)==e&&y.slice(T,T+t.length)==t?{open:{pos:r+w+e.length,margin:/\s/.test(m.charAt(w+e.length))?1:0},close:{pos:i-S-t.length,margin:/\s/.test(y.charAt(T-1))?1:0}}:null}function r$e(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function ble(n,e,t=e.selection.ranges){let r=t.map(o=>T7(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,a)=>n$e(e,r[a],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,a)=>i[a]?[]:[{from:o.from,insert:r[a].open+" "},{from:o.to,insert:" "+r[a].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let a=0,c;a<i.length;a++)if(c=i[a]){let u=r[a],{open:h,close:m}=c;o.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:m.pos-m.margin,to:m.pos+u.close.length})}return{changes:o}}return null}function i$e(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:a}of t){let c=r.length,u=1e9,h=T7(e,o).line;if(h){for(let m=o;m<=a;){let y=e.doc.lineAt(m);if(y.from>i&&(o==a||a>y.from)){i=y.from;let w=/^\s*/.exec(y.text)[0].length,S=w==y.length,T=y.text.slice(w,w+h.length)==h?w:-1;w<y.text.length&&w<u&&(u=w),r.push({line:y,comment:T,token:h,indent:w,empty:S,single:!1})}m=y.to+1}if(u<1e9)for(let m=c;m<r.length;m++)r[m].indent<r[m].line.text.length&&(r[m].indent=u);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:c,token:u,indent:h,empty:m,single:y}of r)(y||!m)&&o.push({from:c.from+h,insert:u+" "});let a=e.changes(o);return{changes:a,selection:e.selection.map(a,1)}}else if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:c,token:u}of r)if(c>=0){let h=a.from+c,m=h+u.length;a.text[m-a.from]==" "&&m++,o.push({from:h,to:m})}return{changes:o}}return null}function Lw(n,e){return vt.create(n.ranges.map(e),n.mainIndex)}function Yf(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function $d({state:n,dispatch:e},t){let r=Lw(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Yf(n,r)),!0)}function MI(n,e){return vt.cursor(e?n.to:n.from)}function xle(n,e){return $d(n,t=>t.empty?n.moveByChar(t,e):MI(t,e))}function ya(n){return n.textDirectionAt(n.state.selection.main.head)==So.LTR}const wle=n=>xle(n,!ya(n)),_le=n=>xle(n,ya(n));function Ele(n,e){return $d(n,t=>t.empty?n.moveByGroup(t,e):MI(t,e))}const o$e=n=>Ele(n,!ya(n)),s$e=n=>Ele(n,ya(n));function a$e(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function DI(n,e,t){let r=ws(n).resolveInner(e.head),i=t?Vn.closedBy:Vn.openedBy;for(let u=e.head;;){let h=t?r.childAfter(u):r.childBefore(u);if(!h)break;a$e(n,h,i)?r=h:u=t?h.to:h.from}let o=r.type.prop(i),a,c;return o&&(a=t?Rf(n,r.from,1):Rf(n,r.to,-1))&&a.matched?c=t?a.end.to:a.end.from:c=t?r.to:r.from,vt.cursor(c,t?-1:1)}const l$e=n=>$d(n,e=>DI(n.state,e,!ya(n))),c$e=n=>$d(n,e=>DI(n.state,e,ya(n)));function Sle(n,e){return $d(n,t=>{if(!t.empty)return MI(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const kle=n=>Sle(n,!1),Cle=n=>Sle(n,!0);function Ole(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let o of n.state.facet(Vt.scrollMargins)){let a=o(n);a!=null&&a.top&&(t=Math.max(a==null?void 0:a.top,t)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function Tle(n,e){let t=Ole(n),{state:r}=n,i=Lw(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):MI(a,e));if(i.eq(r.selection))return!1;let o;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),u=c.top+t.marginTop,h=c.bottom-t.marginBottom;a&&a.top>u&&a.bottom<h&&(o=Vt.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-u}))}return n.dispatch(Yf(r,i),{effects:o}),!0}const LQ=n=>Tle(n,!1),dB=n=>Tle(n,!0);function Lg(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=vt.cursor(r.from+o))}return i}const u$e=n=>$d(n,e=>Lg(n,e,!0)),d$e=n=>$d(n,e=>Lg(n,e,!1)),f$e=n=>$d(n,e=>Lg(n,e,!ya(n))),h$e=n=>$d(n,e=>Lg(n,e,ya(n))),p$e=n=>$d(n,e=>vt.cursor(n.lineBlockAt(e.head).from,1)),m$e=n=>$d(n,e=>vt.cursor(n.lineBlockAt(e.head).to,-1));function g$e(n,e,t){let r=!1,i=Lw(n.selection,o=>{let a=Rf(n,o.head,-1)||Rf(n,o.head,1)||o.head>0&&Rf(n,o.head-1,1)||o.head<n.doc.length&&Rf(n,o.head+1,-1);if(!a||!a.end)return o;r=!0;let c=a.start.from==o.head?a.end.to:a.end.from;return vt.cursor(c)});return r?(e(Yf(n,i)),!0):!1}const v$e=({state:n,dispatch:e})=>g$e(n,e);function Tu(n,e){let t=Lw(n.state.selection,r=>{let i=e(r);return vt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Yf(n.state,t)),!0)}function Ple(n,e){return Tu(n,t=>n.moveByChar(t,e))}const Ale=n=>Ple(n,!ya(n)),Rle=n=>Ple(n,ya(n));function Mle(n,e){return Tu(n,t=>n.moveByGroup(t,e))}const y$e=n=>Mle(n,!ya(n)),b$e=n=>Mle(n,ya(n)),x$e=n=>Tu(n,e=>DI(n.state,e,!ya(n))),w$e=n=>Tu(n,e=>DI(n.state,e,ya(n)));function Dle(n,e){return Tu(n,t=>n.moveVertically(t,e))}const Nle=n=>Dle(n,!1),Ile=n=>Dle(n,!0);function Fle(n,e){return Tu(n,t=>n.moveVertically(t,e,Ole(n).height))}const $Q=n=>Fle(n,!1),jQ=n=>Fle(n,!0),_$e=n=>Tu(n,e=>Lg(n,e,!0)),E$e=n=>Tu(n,e=>Lg(n,e,!1)),S$e=n=>Tu(n,e=>Lg(n,e,!ya(n))),k$e=n=>Tu(n,e=>Lg(n,e,ya(n))),C$e=n=>Tu(n,e=>vt.cursor(n.lineBlockAt(e.head).from)),O$e=n=>Tu(n,e=>vt.cursor(n.lineBlockAt(e.head).to)),BQ=({state:n,dispatch:e})=>(e(Yf(n,{anchor:0})),!0),VQ=({state:n,dispatch:e})=>(e(Yf(n,{anchor:n.doc.length})),!0),zQ=({state:n,dispatch:e})=>(e(Yf(n,{anchor:n.selection.main.anchor,head:0})),!0),HQ=({state:n,dispatch:e})=>(e(Yf(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),T$e=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),P$e=({state:n,dispatch:e})=>{let t=NI(n).map(({from:r,to:i})=>vt.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:vt.create(t),userEvent:"select"})),!0},A$e=({state:n,dispatch:e})=>{let t=Lw(n.selection,r=>{let i=ws(n),o=i.resolveStack(r.from,1);if(r.empty){let a=i.resolveStack(r.from,-1);a.node.from>=o.node.from&&a.node.to<=o.node.to&&(o=a)}for(let a=o;a;a=a.next){let{node:c}=a;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&a.next)return vt.range(c.to,c.from)}return r});return t.eq(n.selection)?!1:(e(Yf(n,t)),!0)},R$e=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=vt.create([t.main]):t.main.empty||(r=vt.create([vt.cursor(t.main.head)])),r?(e(Yf(n,r)),!0):!1};function j2(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:a,to:c}=o;if(a==c){let u=e(o);u<a?(t="delete.backward",u=DR(n,u,!1)):u>a&&(t="delete.forward",u=DR(n,u,!0)),a=Math.min(a,u),c=Math.max(c,u)}else a=DR(n,a,!1),c=DR(n,c,!0);return a==c?{range:o}:{changes:{from:a,to:c},range:vt.cursor(a,a<o.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Vt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function DR(n,e,t){if(n instanceof Vt)for(let r of n.state.facet(Vt.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const Lle=(n,e,t)=>j2(n,r=>{let i=r.from,{state:o}=n,a=o.doc.lineAt(i),c,u;if(t&&!e&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(c=a.text.slice(0,i-a.from))){if(c[c.length-1]=="	")return i-1;let h=kI(c,o.tabSize),m=h%XD(o)||XD(o);for(let y=0;y<m&&c[c.length-1-y]==" ";y++)i--;u=i}else u=Ha(a.text,i-a.from,e,e)+a.from,u==i&&a.number!=(e?o.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(u-a.from,i-a.from))&&(u=Ha(a.text,u-a.from,!1,!1)+a.from);return u}),fB=n=>Lle(n,!1,!0),$le=n=>Lle(n,!0,!1),jle=(n,e)=>j2(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),a=i.charCategorizer(r);for(let c=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=Ha(o.text,r-o.from,e)+o.from,h=o.text.slice(Math.min(r,u)-o.from,Math.max(r,u)-o.from),m=a(h);if(c!=null&&m!=c)break;(h!=" "||r!=t.head)&&(c=m),r=u}return r}),Ble=n=>jle(n,!1),M$e=n=>jle(n,!0),D$e=n=>j2(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),N$e=n=>j2(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),I$e=n=>j2(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),F$e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:qr.of(["",""])},range:vt.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},L$e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),a=i==o.from?i-1:Ha(o.text,i-o.from,!1)+o.from,c=i==o.to?i+1:Ha(o.text,i-o.from,!0)+o.from;return{changes:{from:a,to:c,insert:n.doc.slice(i,c).append(n.doc.slice(a,i))},range:vt.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function NI(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let a=e[e.length-1];a.to=o.to,a.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function Vle(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of NI(n)){if(t?o.to==n.doc.length:o.from==0)continue;let a=n.doc.lineAt(t?o.to+1:o.from-1),c=a.length+1;if(t){r.push({from:o.to,to:a.to},{from:o.from,insert:a.text+n.lineBreak});for(let u of o.ranges)i.push(vt.range(Math.min(n.doc.length,u.anchor+c),Math.min(n.doc.length,u.head+c)))}else{r.push({from:a.from,to:o.from},{from:o.to,insert:n.lineBreak+a.text});for(let u of o.ranges)i.push(vt.range(u.anchor-c,u.head-c))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:vt.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const $$e=({state:n,dispatch:e})=>Vle(n,e,!1),j$e=({state:n,dispatch:e})=>Vle(n,e,!0);function zle(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of NI(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const B$e=({state:n,dispatch:e})=>zle(n,e,!1),V$e=({state:n,dispatch:e})=>zle(n,e,!0),z$e=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(NI(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Lw(e.selection,i=>{let o;if(n.lineWrapping){let a=n.lineBlockAt(i.head),c=n.coordsAtPos(i.head,i.assoc||1);c&&(o=a.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function H$e(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=ws(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Vn.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const WQ=Hle(!1),W$e=Hle(!0);function Hle(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:a}=i,c=e.doc.lineAt(o),u=!n&&o==a&&H$e(e,o);n&&(o=a=(a<=c.to?c:e.doc.lineAt(a)).to);let h=new AI(e,{simulateBreak:o,simulateDoubleBreak:!!u}),m=g7(h,o);for(m==null&&(m=kI(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));a<c.to&&/\s/.test(c.text[a-c.from]);)a++;u?{from:o,to:a}=u:o>c.from&&o<c.from+100&&!/\S/.test(c.text.slice(0,o))&&(o=c.from);let y=["",XC(e,m)];return u&&y.push(XC(e,h.lineIndent(c.from,-1))),{changes:{from:o,to:a,insert:qr.of(y)},range:vt.cursor(o+1+y[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function P7(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let c=n.doc.lineAt(a);c.number>t&&(r.empty||r.to>c.from)&&(e(c,i,r),t=c.number),a=c.to+1}let o=n.changes(i);return{changes:i,range:vt.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const q$e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new AI(n,{overrideIndentation:o=>{let a=t[o];return a??-1}}),i=P7(n,(o,a,c)=>{let u=g7(r,o.from);if(u==null)return;/\S/.test(o.text)||(u=0);let h=/^\s*/.exec(o.text)[0],m=XC(n,u);(h!=m||c.from<o.from+h.length)&&(t[o.from]=u,a.push({from:o.from,to:o.from+h.length,insert:m}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},U$e=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(P7(n,(t,r)=>{r.push({from:t.from,insert:n.facet(PI)})}),{userEvent:"input.indent"})),!0),G$e=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(P7(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=kI(i,n.tabSize),a=0,c=XC(n,Math.max(0,o-XD(n)));for(;a<i.length&&a<c.length&&i.charCodeAt(a)==c.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+i.length,insert:c.slice(a)})}),{userEvent:"delete.dedent"})),!0),Y$e=n=>(n.setTabFocusMode(),!0),Q$e=[{key:"Ctrl-b",run:wle,shift:Ale,preventDefault:!0},{key:"Ctrl-f",run:_le,shift:Rle},{key:"Ctrl-p",run:kle,shift:Nle},{key:"Ctrl-n",run:Cle,shift:Ile},{key:"Ctrl-a",run:p$e,shift:C$e},{key:"Ctrl-e",run:m$e,shift:O$e},{key:"Ctrl-d",run:$le},{key:"Ctrl-h",run:fB},{key:"Ctrl-k",run:D$e},{key:"Ctrl-Alt-h",run:Ble},{key:"Ctrl-o",run:F$e},{key:"Ctrl-t",run:L$e},{key:"Ctrl-v",run:dB}],K$e=[{key:"ArrowLeft",run:wle,shift:Ale,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:o$e,shift:y$e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:f$e,shift:S$e,preventDefault:!0},{key:"ArrowRight",run:_le,shift:Rle,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:s$e,shift:b$e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:h$e,shift:k$e,preventDefault:!0},{key:"ArrowUp",run:kle,shift:Nle,preventDefault:!0},{mac:"Cmd-ArrowUp",run:BQ,shift:zQ},{mac:"Ctrl-ArrowUp",run:LQ,shift:$Q},{key:"ArrowDown",run:Cle,shift:Ile,preventDefault:!0},{mac:"Cmd-ArrowDown",run:VQ,shift:HQ},{mac:"Ctrl-ArrowDown",run:dB,shift:jQ},{key:"PageUp",run:LQ,shift:$Q},{key:"PageDown",run:dB,shift:jQ},{key:"Home",run:d$e,shift:E$e,preventDefault:!0},{key:"Mod-Home",run:BQ,shift:zQ},{key:"End",run:u$e,shift:_$e,preventDefault:!0},{key:"Mod-End",run:VQ,shift:HQ},{key:"Enter",run:WQ,shift:WQ},{key:"Mod-a",run:T$e},{key:"Backspace",run:fB,shift:fB},{key:"Delete",run:$le},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ble},{key:"Mod-Delete",mac:"Alt-Delete",run:M$e},{mac:"Mod-Backspace",run:N$e},{mac:"Mod-Delete",run:I$e}].concat(Q$e.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Wle=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:l$e,shift:x$e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:c$e,shift:w$e},{key:"Alt-ArrowUp",run:$$e},{key:"Shift-Alt-ArrowUp",run:B$e},{key:"Alt-ArrowDown",run:j$e},{key:"Shift-Alt-ArrowDown",run:V$e},{key:"Escape",run:R$e},{key:"Mod-Enter",run:W$e},{key:"Alt-l",mac:"Ctrl-l",run:P$e},{key:"Mod-i",run:A$e,preventDefault:!0},{key:"Mod-[",run:G$e},{key:"Mod-]",run:U$e},{key:"Mod-Alt-\\",run:q$e},{key:"Shift-Mod-k",run:z$e},{key:"Shift-Mod-\\",run:v$e},{key:"Mod-/",run:Z4e},{key:"Alt-A",run:e$e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Y$e}].concat(K$e);function Pf(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)qle(n,arguments[e]);return n}function qle(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)qle(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}class qQ{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class wy{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet(Mf).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((m,y)=>m.from-y.from||m.to-y.to),a=new Xx,c=[],u=0;for(let m=0;;){let y=m==o.length?null:o[m];if(!y&&!c.length)break;let w,S;for(c.length?(w=u,S=c.reduce((O,N)=>Math.min(O,N.to),y&&y.from>w?y.from:1e8)):(w=y.from,S=y.to,c.push(y),m++);m<o.length;){let O=o[m];if(O.from==w&&(O.to>O.from||O.to==w))c.push(O),m++,S=Math.min(O.to,S);else{S=Math.min(O.from,S);break}}let T=cje(c);if(c.some(O=>O.from==O.to||O.from==O.to-1&&r.doc.lineAt(O.from).to==O.from))a.add(w,w,wr.widget({widget:new oje(T),diagnostics:c.slice()}));else{let O=c.reduce((N,D)=>D.markClass?N+" "+D.markClass:N,"");a.add(w,S,wr.mark({class:"cm-lintRange cm-lintRange-"+T+O,diagnostics:c.slice(),inclusiveEnd:c.some(N=>N.to>S)}))}u=S;for(let O=0;O<c.length;O++)c[O].to<=u&&c.splice(O--,1)}let h=a.finish();return new wy(h,t,iw(h))}}function iw(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!r)r=new qQ(i,o,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new qQ(r.from,o,r.diagnostic)}}),r}function X$e(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(Mf).hideOn(n,t,r);if(i!=null)return i;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(a=>a.is(B2))||n.changes.touchesRange(o.from,Math.max(o.to,r)))}function Z$e(n,e){return n.field(bd,!1)?e:e.concat(jr.appendConfig.of(Xle))}function J$e(n,e){return{effects:Z$e(n,[B2.of(e)])}}const B2=jr.define(),Ule=jr.define(),Gle=jr.define(),bd=Cc.define({create(){return new wy(wr.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=iw(t,n.selected.diagnostic,o)||iw(t,null,o)}!t.size&&i&&e.state.facet(Mf).autoPanel&&(i=null),n=new wy(t,i,r)}for(let t of e.effects)if(t.is(B2)){let r=e.state.facet(Mf).autoPanel?t.value.length?tN.open:null:n.panel;n=wy.init(t.value,r,e.state)}else t.is(Ule)?n=new wy(n.diagnostics,t.value?tN.open:null,n.selected):t.is(Gle)&&(n=new wy(n.diagnostics,n.panel,t.value));return n},provide:n=>[sB.from(n,e=>e.panel),Vt.decorations.from(n,e=>e.diagnostics)]}),eje=wr.mark({class:"cm-lintRange cm-lintRange-active"});function tje(n,e,t){let{diagnostics:r}=n.state.field(bd),i,o=-1,a=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(u,h,{spec:m})=>{if(e>=u&&e<=h&&(u==h||(e>u||t>0)&&(e<h||t<0)))return i=m.diagnostics,o=u,a=h,!1});let c=n.state.facet(Mf).tooltipFilter;return i&&c&&(i=c(i,n.state)),i?{pos:o,end:a,above:n.state.doc.lineAt(o).to<a,create(){return{dom:nje(n,i)}}}:null}function nje(n,e){return Pf("ul",{class:"cm-tooltip-lint"},e.map(t=>Kle(n,t,!1)))}const UQ=n=>{let e=n.state.field(bd,!1);return!e||!e.panel?!1:(n.dispatch({effects:Ule.of(!1)}),!0)},rje=Fl.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(Mf);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Mf);t.length&&ije(t.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(J$e(this.view.state,r.reduce((i,o)=>i.concat(o))))},r=>{Wa(this.view.state,r)})}}update(n){let e=n.state.facet(Mf);(n.docChanged||e!=n.startState.facet(Mf)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function ije(n,e,t){let r=[],i=-1;for(let o of n)o.then(a=>{r.push(a),clearTimeout(i),r.length==n.length?e(r):i=setTimeout(()=>e(r),200)},t)}const Mf=en.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},SI(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function Yle(n,e={}){return[Mf.of({source:n,config:e}),rje,Xle]}function Qle(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function Kle(n,e,t){var r;let i=t?Qle(e.actions):[];return Pf("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Pf("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,a)=>{let c=!1,u=w=>{if(w.preventDefault(),c)return;c=!0;let S=iw(n.state.field(bd).diagnostics,e);S&&o.apply(n,S.from,S.to)},{name:h}=o,m=i[a]?h.indexOf(i[a]):-1,y=m<0?h:[h.slice(0,m),Pf("u",h.slice(m,m+1)),h.slice(m+1)];return Pf("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${h}${m<0?"":` (access key "${i[a]})"`}.`},y)}),e.source&&Pf("div",{class:"cm-diagnosticSource"},e.source))}class oje extends Iw{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Pf("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class GQ{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Kle(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class tN{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)UQ(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=Qle(o.actions);for(let c=0;c<a.length;c++)if(a[c].toUpperCase().charCodeAt(0)==i.keyCode){let u=iw(this.view.state.field(bd).diagnostics,o);u&&o.actions[c].apply(e,u.from,u.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=Pf("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=Pf("div",{class:"cm-panel-lint"},this.list,Pf("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>UQ(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(bd).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(bd),r=0,i=!1,o=null,a=new Set;for(e.between(0,this.view.state.doc.length,(c,u,{spec:h})=>{for(let m of h.diagnostics){if(a.has(m))continue;a.add(m);let y=-1,w;for(let S=r;S<this.items.length;S++)if(this.items[S].diagnostic==m){y=S;break}y<0?(w=new GQ(this.view,m),this.items.splice(r,0,w),i=!0):(w=this.items[y],y>r&&(this.items.splice(r,y-r),i=!0)),t&&w.diagnostic==t.diagnostic?w.dom.hasAttribute("aria-selected")||(w.dom.setAttribute("aria-selected","true"),o=w):w.dom.hasAttribute("aria-selected")&&w.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new GQ(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:u})=>{let h=u.height/this.list.offsetHeight;c.top<u.top?this.list.scrollTop-=(u.top-c.top)/h:c.bottom>u.bottom&&(this.list.scrollTop+=(c.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(bd),r=iw(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Gle.of(r)})}static open(e){return new tN(e)}}function sje(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function NR(n){return sje(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const aje=Vt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:NR("#d11")},".cm-lintRange-warning":{backgroundImage:NR("orange")},".cm-lintRange-info":{backgroundImage:NR("#999")},".cm-lintRange-hint":{backgroundImage:NR("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function lje(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function cje(n){let e="hint",t=1;for(let r of n){let i=lje(r.severity);i>t&&(t=i,e=r.severity)}return e}const Xle=[bd,Vt.decorations.compute([bd],n=>{let{selected:e,panel:t}=n.field(bd);return!e||!t||e.from==e.to?wr.none:wr.set([eje.range(e.from,e.to)])}),xLe(tje,{hideOn:X$e}),aje];class nN{static create(e,t,r,i,o){let a=i+(i<<8)+e+(t<<4)|0;return new nN(e,t,r,a,o,[],[])}constructor(e,t,r,i,o,a,c){this.type=e,this.value=t,this.from=r,this.hash=i,this.end=o,this.children=a,this.positions=c,this.hashProp=[[Vn.contextHash,i]]}addChild(e,t){e.prop(Vn.contextHash)!=this.hash&&(e=new oi(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let r=this.children.length-1;return r>=0&&(t=Math.max(t,this.positions[r]+this.children[r].length+this.from)),new oi(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(i,o,a)=>new oi(xs.none,i,o,a,this.hashProp)})}}var Rt;(function(n){n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL"})(Rt||(Rt={}));class uje{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class dje{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return qk(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,r=0){for(let i=t;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let t=0;for(let r=0;t<this.text.length&&r<e;t++)r+=this.text.charCodeAt(t)==9?4-r%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function YQ(n,e,t){if(t.pos==t.text.length||n!=e.block&&t.indent>=e.stack[t.depth+1].value+t.baseIndent)return!0;if(t.indent>=t.baseIndent+4)return!1;let r=(n.type==Rt.OrderedList?M7:R7)(t,e,!1);return r>0&&(n.type!=Rt.BulletList||A7(t,e,!1)<0)&&t.text.charCodeAt(t.pos+r-1)==n.value}const Zle={[Rt.Blockquote](n,e,t){return t.next!=62?!1:(t.markers.push(Pr(Rt.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1)),t.moveBase(t.pos+(Pu(t.text.charCodeAt(t.pos+1))?2:1)),n.end=e.lineStart+t.text.length,!0)},[Rt.ListItem](n,e,t){return t.indent<t.baseIndent+n.value&&t.next>-1?!1:(t.moveBaseColumn(t.baseIndent+n.value),!0)},[Rt.OrderedList]:YQ,[Rt.BulletList]:YQ,[Rt.Document](){return!0}};function Pu(n){return n==32||n==9||n==10||n==13}function qk(n,e=0){for(;e<n.length&&Pu(n.charCodeAt(e));)e++;return e}function QQ(n,e,t){for(;e>t&&Pu(n.charCodeAt(e-1));)e--;return e}function Jle(n){if(n.next!=96&&n.next!=126)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;if(e<n.pos+3)return-1;if(n.next==96){for(let t=e;t<n.text.length;t++)if(n.text.charCodeAt(t)==96)return-1}return e}function ece(n){return n.next!=62?-1:n.text.charCodeAt(n.pos+1)==32?2:1}function A7(n,e,t){if(n.next!=42&&n.next!=45&&n.next!=95)return-1;let r=1;for(let i=n.pos+1;i<n.text.length;i++){let o=n.text.charCodeAt(i);if(o==n.next)r++;else if(!Pu(o))return-1}return t&&n.next==45&&rce(n)>-1&&n.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(ace.SetextHeading)>-1||r<3?-1:1}function tce(n,e){for(let t=n.stack.length-1;t>=0;t--)if(n.stack[t].type==e)return!0;return!1}function R7(n,e,t){return(n.next==45||n.next==43||n.next==42)&&(n.pos==n.text.length-1||Pu(n.text.charCodeAt(n.pos+1)))&&(!t||tce(e,Rt.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?1:-1}function M7(n,e,t){let r=n.pos,i=n.next;for(;i>=48&&i<=57;){r++;if(r==n.text.length)return-1;i=n.text.charCodeAt(r)}return r==n.pos||r>n.pos+9||i!=46&&i!=41||r<n.text.length-1&&!Pu(n.text.charCodeAt(r+1))||t&&!tce(e,Rt.OrderedList)&&(n.skipSpace(r+1)==n.text.length||r>n.pos+1||n.next!=49)?-1:r+1-n.pos}function nce(n){if(n.next!=35)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==35;)e++;if(e<n.text.length&&n.text.charCodeAt(e)!=32)return-1;let t=e-n.pos;return t>6?-1:t}function rce(n){if(n.next!=45&&n.next!=61||n.indent>=n.baseIndent+4)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;let t=e;for(;e<n.text.length&&Pu(n.text.charCodeAt(e));)e++;return e==n.text.length?t:-1}const hB=/^[ \t]*$/,ice=/-->/,oce=/\?>/,pB=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,ice],[/^\s*<\?/,oce],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,hB],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,hB]];function sce(n,e,t){if(n.next!=60)return-1;let r=n.text.slice(n.pos);for(let i=0,o=pB.length-(t?1:0);i<o;i++)if(pB[i][0].test(r))return i;return-1}function KQ(n,e){let t=n.countIndent(e,n.pos,n.indent),r=n.countIndent(n.skipSpace(e),e,t);return r>=t+5?t+1:r}function cy(n,e,t){let r=n.length-1;r>=0&&n[r].to==e&&n[r].type==Rt.CodeText?n[r].to=t:n.push(Pr(Rt.CodeText,e,t))}const IR={LinkReference:void 0,IndentedCode(n,e){let t=e.baseIndent+4;if(e.indent<t)return!1;let r=e.findColumn(t),i=n.lineStart+r,o=n.lineStart+e.text.length,a=[],c=[];for(cy(a,i,o);n.nextLine()&&e.depth>=n.stack.length;)if(e.pos==e.text.length){cy(c,n.lineStart-1,n.lineStart);for(let u of e.markers)c.push(u)}else{if(e.indent<t)break;{if(c.length){for(let h of c)h.type==Rt.CodeText?cy(a,h.from,h.to):a.push(h);c=[]}cy(a,n.lineStart-1,n.lineStart);for(let h of e.markers)a.push(h);o=n.lineStart+e.text.length;let u=n.lineStart+e.findColumn(e.baseIndent+4);u<o&&cy(a,u,o)}}return c.length&&(c=c.filter(u=>u.type!=Rt.CodeText),c.length&&(e.markers=c.concat(e.markers))),n.addNode(n.buffer.writeElements(a,-i).finish(Rt.CodeBlock,o-i),i),!0},FencedCode(n,e){let t=Jle(e);if(t<0)return!1;let r=n.lineStart+e.pos,i=e.next,o=t-e.pos,a=e.skipSpace(t),c=QQ(e.text,e.text.length,a),u=[Pr(Rt.CodeMark,r,r+o)];a<c&&u.push(Pr(Rt.CodeInfo,n.lineStart+a,n.lineStart+c));for(let h=!0;n.nextLine()&&e.depth>=n.stack.length;h=!1){let m=e.pos;if(e.indent-e.baseIndent<4)for(;m<e.text.length&&e.text.charCodeAt(m)==i;)m++;if(m-e.pos>=o&&e.skipSpace(m)==e.text.length){for(let y of e.markers)u.push(y);u.push(Pr(Rt.CodeMark,n.lineStart+e.pos,n.lineStart+m)),n.nextLine();break}else{h||cy(u,n.lineStart-1,n.lineStart);for(let S of e.markers)u.push(S);let y=n.lineStart+e.basePos,w=n.lineStart+e.text.length;y<w&&cy(u,y,w)}}return n.addNode(n.buffer.writeElements(u,-r).finish(Rt.FencedCode,n.prevLineEnd()-r),r),!0},Blockquote(n,e){let t=ece(e);return t<0?!1:(n.startContext(Rt.Blockquote,e.pos),n.addNode(Rt.QuoteMark,n.lineStart+e.pos,n.lineStart+e.pos+1),e.moveBase(e.pos+t),null)},HorizontalRule(n,e){if(A7(e,n,!1)<0)return!1;let t=n.lineStart+e.pos;return n.nextLine(),n.addNode(Rt.HorizontalRule,t),!0},BulletList(n,e){let t=R7(e,n,!1);if(t<0)return!1;n.block.type!=Rt.BulletList&&n.startContext(Rt.BulletList,e.basePos,e.next);let r=KQ(e,e.pos+1);return n.startContext(Rt.ListItem,e.basePos,r-e.baseIndent),n.addNode(Rt.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(r),null},OrderedList(n,e){let t=M7(e,n,!1);if(t<0)return!1;n.block.type!=Rt.OrderedList&&n.startContext(Rt.OrderedList,e.basePos,e.text.charCodeAt(e.pos+t-1));let r=KQ(e,e.pos+t);return n.startContext(Rt.ListItem,e.basePos,r-e.baseIndent),n.addNode(Rt.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(r),null},ATXHeading(n,e){let t=nce(e);if(t<0)return!1;let r=e.pos,i=n.lineStart+r,o=QQ(e.text,e.text.length,r),a=o;for(;a>r&&e.text.charCodeAt(a-1)==e.next;)a--;(a==o||a==r||!Pu(e.text.charCodeAt(a-1)))&&(a=e.text.length);let c=n.buffer.write(Rt.HeaderMark,0,t).writeElements(n.parser.parseInline(e.text.slice(r+t+1,a),i+t+1),-i);a<e.text.length&&c.write(Rt.HeaderMark,a-r,o-r);let u=c.finish(Rt.ATXHeading1-1+t,e.text.length-r);return n.nextLine(),n.addNode(u,i),!0},HTMLBlock(n,e){let t=sce(e,n,!1);if(t<0)return!1;let r=n.lineStart+e.pos,i=pB[t][1],o=[],a=i!=hB;for(;!i.test(e.text)&&n.nextLine();){if(e.depth<n.stack.length){a=!1;break}for(let h of e.markers)o.push(h)}a&&n.nextLine();let c=i==ice?Rt.CommentBlock:i==oce?Rt.ProcessingInstructionBlock:Rt.HTMLBlock,u=n.prevLineEnd();return n.addNode(n.buffer.writeElements(o,-r).finish(c,u-r),r),!0},SetextHeading:void 0};class fje{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,r){if(this.stage==-1)return!1;let i=r.content+`
`+t.scrub(),o=this.advance(i);return o>-1&&o<i.length?this.complete(e,r,o):!1}finish(e,t){return(this.stage==2||this.stage==3)&&qk(t.content,this.pos)==t.content.length?this.complete(e,t,t.content.length):!1}complete(e,t,r){return e.addLeafElement(t,Pr(Rt.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(gce(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Pr(Rt.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(pce(e,qk(e,this.pos),this.start)))return-1}else if(this.stage==2){let t=qk(e,this.pos),r=0;if(t>this.pos){let i=mce(e,t,this.start);if(i){let o=l4(e,i.to-this.start);o>0&&(this.nextStage(i),r=o)}}return r||(r=l4(e,this.pos)),r>0&&r<e.length?r:-1}else return l4(e,this.pos)}}}function l4(n,e){for(;e<n.length;e++){let t=n.charCodeAt(e);if(t==10)break;if(!Pu(t))return-1}return e}class hje{nextLine(e,t,r){let i=t.depth<e.stack.length?-1:rce(t),o=t.next;if(i<0)return!1;let a=Pr(Rt.HeaderMark,e.lineStart+t.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,Pr(o==61?Rt.SetextHeading1:Rt.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),a])),!0}finish(){return!1}}const ace={LinkReference(n,e){return e.content.charCodeAt(0)==91?new fje(e):null},SetextHeading(){return new hje}},pje=[(n,e)=>nce(e)>=0,(n,e)=>Jle(e)>=0,(n,e)=>ece(e)>=0,(n,e)=>R7(e,n,!0)>=0,(n,e)=>M7(e,n,!0)>=0,(n,e)=>A7(e,n,!0)>=0,(n,e)=>sce(e,n,!0)>=0],mje={text:"",end:0};class gje{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.line=new dje,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=nN.create(Rt.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new xje(r,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let o=e.markers[r++];this.addNode(o.type,o.from,o.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let t=new uje(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,t);i&&t.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,t))break e}for(let r of t.parsers)if(r.nextLine(this,e,t))return null;t.content+=`
`+e.scrub();for(let r of e.markers)t.marks.push(r)}return this.finishLeaf(t),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return t?(this.absoluteLineStart+=t,this.lineStart=vce(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=mje;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<t.end;){i++;let o=this.ranges[i].from,a=this.lineChunkAt(o);t.end=o+a.length,t.text=t.text.slice(0,this.ranges[i-1].to-r)+a,r=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(t);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],o=this.parser.skipContextMarkup[i.type];if(!o)throw new Error("Unhandled block context "+Rt[i.type]);if(!o(i,this,e))break;e.forward()}}lineChunkAt(e){let t=this.input.chunk(e),r;if(this.input.lineChunks)r=t==`
`?"":t;else{let i=t.indexOf(`
`);r=i<0?t:t.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,r=0){this.block=nN.create(e,r,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,r=0){this.startContext(this.parser.getNodeType(e),t,r)}addNode(e,t,r){typeof e=="number"&&(e=new oi(this.parser.nodeSet.types[e],ow,ow,(r??this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(vB(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?lce(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let t=vB(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(Rt.Paragraph,e.content.length),e.start)}elt(e,t,r,i){return typeof e=="string"?Pr(this.parser.getNodeType(e),t,r,i):new dce(e,t)}get buffer(){return new uce(this.parser.nodeSet)}}function lce(n,e,t,r,i){let o=n[e].to,a=[],c=[],u=t.from+r;function h(m,y){for(;y?m>=o:m>o;){let w=n[e+1].from-o;r+=w,m+=w,e++,o=n[e].to}}for(let m=t.firstChild;m;m=m.nextSibling){h(m.from+r,!0);let y=m.from+r,w,S=i.get(m.tree);S?w=S:m.to+r>o?(w=lce(n,e,m,r,i),h(m.to+r,!1)):w=m.toTree(),a.push(w),c.push(y-u)}return h(t.to+r,!1),new oi(t.type,a,c,t.to+r-u,t.tree?t.tree.propValues:void 0)}class D7 extends G9{constructor(e,t,r,i,o,a,c,u,h){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=o,this.skipContextMarkup=a,this.inlineParsers=c,this.inlineNames=u,this.wrappers=h,this.nodeTypes=Object.create(null);for(let m of e.types)this.nodeTypes[m.name]=m.id}createParse(e,t,r){let i=new gje(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}configure(e){let t=mB(e);if(!t)return this;let{nodeSet:r,skipContextMarkup:i}=this,o=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),c=this.blockNames.slice(),u=this.inlineParsers.slice(),h=this.inlineNames.slice(),m=this.endLeafBlock.slice(),y=this.wrappers;if(JS(t.defineNodes)){i=Object.assign({},i);let w=r.types.slice(),S;for(let T of t.defineNodes){let{name:O,block:N,composite:D,style:F}=typeof T=="string"?{name:T}:T;if(w.some(z=>z.name==O))continue;D&&(i[w.length]=(z,X,Z)=>D(X,Z,z.value));let I=w.length,R=D?["Block","BlockContext"]:N?I>=Rt.ATXHeading1&&I<=Rt.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;w.push(xs.define({id:I,name:O,props:R&&[[Vn.group,R]]})),F&&(S||(S={}),Array.isArray(F)||F instanceof dc?S[O]=F:Object.assign(S,F))}r=new M2(w),S&&(r=r.extend(D2(S)))}if(JS(t.props)&&(r=r.extend(...t.props)),JS(t.remove))for(let w of t.remove){let S=this.blockNames.indexOf(w),T=this.inlineNames.indexOf(w);S>-1&&(o[S]=a[S]=void 0),T>-1&&(u[T]=void 0)}if(JS(t.parseBlock))for(let w of t.parseBlock){let S=c.indexOf(w.name);if(S>-1)o[S]=w.parse,a[S]=w.leaf;else{let T=w.before?FR(c,w.before):w.after?FR(c,w.after)+1:c.length-1;o.splice(T,0,w.parse),a.splice(T,0,w.leaf),c.splice(T,0,w.name)}w.endLeaf&&m.push(w.endLeaf)}if(JS(t.parseInline))for(let w of t.parseInline){let S=h.indexOf(w.name);if(S>-1)u[S]=w.parse;else{let T=w.before?FR(h,w.before):w.after?FR(h,w.after)+1:h.length-1;u.splice(T,0,w.parse),h.splice(T,0,w.name)}}return t.wrap&&(y=y.concat(t.wrap)),new D7(r,o,a,c,m,i,u,h,y)}getNodeType(e){let t=this.nodeTypes[e];if(t==null)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let r=new yje(this,e,t);e:for(let i=t;i<r.end;){let o=r.char(i);for(let a of this.inlineParsers)if(a){let c=a(r,o,i);if(c>=0){i=c;continue e}}i++}return r.resolveMarkers(0)}}function JS(n){return n!=null&&n.length>0}function mB(n){if(!Array.isArray(n))return n;if(n.length==0)return null;let e=mB(n[0]);if(n.length==1)return e;let t=mB(n.slice(1));if(!t||!e)return e||t;let r=(a,c)=>(a||ow).concat(c||ow),i=e.wrap,o=t.wrap;return{props:r(e.props,t.props),defineNodes:r(e.defineNodes,t.defineNodes),parseBlock:r(e.parseBlock,t.parseBlock),parseInline:r(e.parseInline,t.parseInline),remove:r(e.remove,t.remove),wrap:i?o?(a,c,u,h)=>i(o(a,c,u,h),c,u,h):i:o}}function FR(n,e){let t=n.indexOf(e);if(t<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return t}let cce=[xs.none];for(let n=1,e;e=Rt[n];n++)cce[n]=xs.define({id:n,name:e,props:n>=Rt.Escape?[]:[[Vn.group,n in Zle?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const ow=[];class uce{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,r,i=0){return this.content.push(e,t,r,4+i*4),this}writeElements(e,t=0){for(let r of e)r.writeTo(this,t);return this}finish(e,t){return oi.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}let e2=class{constructor(e,t,r,i=ow){this.type=e,this.from=t,this.to=r,this.children=i}writeTo(e,t){let r=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-r)}toTree(e){return new uce(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class dce{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return ow}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function Pr(n,e,t,r){return new e2(n,e,t,r)}const fce={resolve:"Emphasis",mark:"EmphasisMark"},hce={resolve:"Emphasis",mark:"EmphasisMark"},P1={},gB={};class au{constructor(e,t,r,i){this.type=e,this.from=t,this.to=r,this.side=i}}const XQ="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let t2=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{t2=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const c4={Escape(n,e,t){if(e!=92||t==n.end-1)return-1;let r=n.char(t+1);for(let i=0;i<XQ.length;i++)if(XQ.charCodeAt(i)==r)return n.append(Pr(Rt.Escape,t,t+2));return-1},Entity(n,e,t){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(t+1,t+31));return r?n.append(Pr(Rt.Entity,t,t+1+r[0].length)):-1},InlineCode(n,e,t){if(e!=96||t&&n.char(t-1)==96)return-1;let r=t+1;for(;r<n.end&&n.char(r)==96;)r++;let i=r-t,o=0;for(;r<n.end;r++)if(n.char(r)==96){if(o++,o==i&&n.char(r+1)!=96)return n.append(Pr(Rt.InlineCode,t,r+1,[Pr(Rt.CodeMark,t,t+i),Pr(Rt.CodeMark,r+1-i,r+1)]))}else o=0;return-1},HTMLTag(n,e,t){if(e!=60||t==n.end-1)return-1;let r=n.slice(t+1,n.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return n.append(Pr(Rt.Autolink,t,t+1+i[0].length,[Pr(Rt.LinkMark,t,t+1),Pr(Rt.URL,t+1,t+i[0].length),Pr(Rt.LinkMark,t+i[0].length,t+1+i[0].length)]));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(o)return n.append(Pr(Rt.Comment,t,t+1+o[0].length));let a=/^\?[^]*?\?>/.exec(r);if(a)return n.append(Pr(Rt.ProcessingInstruction,t,t+1+a[0].length));let c=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return c?n.append(Pr(Rt.HTMLTag,t,t+1+c[0].length)):-1},Emphasis(n,e,t){if(e!=95&&e!=42)return-1;let r=t+1;for(;n.char(r)==e;)r++;let i=n.slice(t-1,t),o=n.slice(r,r+1),a=t2.test(i),c=t2.test(o),u=/\s|^$/.test(i),h=/\s|^$/.test(o),m=!h&&(!c||u||a),y=!u&&(!a||h||c),w=m&&(e==42||!y||a),S=y&&(e==42||!m||c);return n.append(new au(e==95?fce:hce,t,r,(w?1:0)|(S?2:0)))},HardBreak(n,e,t){if(e==92&&n.char(t+1)==10)return n.append(Pr(Rt.HardBreak,t,t+2));if(e==32){let r=t+1;for(;n.char(r)==32;)r++;if(n.char(r)==10&&r>=t+2)return n.append(Pr(Rt.HardBreak,t,r+1))}return-1},Link(n,e,t){return e==91?n.append(new au(P1,t,t+1,1)):-1},Image(n,e,t){return e==33&&n.char(t+1)==91?n.append(new au(gB,t,t+2,1)):-1},LinkEnd(n,e,t){if(e!=93)return-1;for(let r=n.parts.length-1;r>=0;r--){let i=n.parts[r];if(i instanceof au&&(i.type==P1||i.type==gB)){if(!i.side||n.skipSpace(i.to)==t&&!/[(\[]/.test(n.slice(t+1,t+2)))return n.parts[r]=null,-1;let o=n.takeContent(r),a=n.parts[r]=vje(n,o,i.type==P1?Rt.Link:Rt.Image,i.from,t+1);if(i.type==P1)for(let c=0;c<r;c++){let u=n.parts[c];u instanceof au&&u.type==P1&&(u.side=0)}return a.to}}return-1}};function vje(n,e,t,r,i){let{text:o}=n,a=n.char(i),c=i;if(e.unshift(Pr(Rt.LinkMark,r,r+(t==Rt.Image?2:1))),e.push(Pr(Rt.LinkMark,i-1,i)),a==40){let u=n.skipSpace(i+1),h=pce(o,u-n.offset,n.offset),m;h&&(u=n.skipSpace(h.to),u!=h.to&&(m=mce(o,u-n.offset,n.offset),m&&(u=n.skipSpace(m.to)))),n.char(u)==41&&(e.push(Pr(Rt.LinkMark,i,i+1)),c=u+1,h&&e.push(h),m&&e.push(m),e.push(Pr(Rt.LinkMark,u,c)))}else if(a==91){let u=gce(o,i-n.offset,n.offset,!1);u&&(e.push(u),c=u.to)}return Pr(t,r,c,e)}function pce(n,e,t){if(n.charCodeAt(e)==60){for(let i=e+1;i<n.length;i++){let o=n.charCodeAt(i);if(o==62)return Pr(Rt.URL,e+t,i+1+t);if(o==60||o==10)return!1}return null}else{let i=0,o=e;for(let a=!1;o<n.length;o++){let c=n.charCodeAt(o);if(Pu(c))break;if(a)a=!1;else if(c==40)i++;else if(c==41){if(!i)break;i--}else c==92&&(a=!0)}return o>e?Pr(Rt.URL,e+t,o+t):o==n.length?null:!1}}function mce(n,e,t){let r=n.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let o=e+1,a=!1;o<n.length;o++){let c=n.charCodeAt(o);if(a)a=!1;else{if(c==i)return Pr(Rt.LinkTitle,e+t,o+1+t);c==92&&(a=!0)}}return null}function gce(n,e,t,r){for(let i=!1,o=e+1,a=Math.min(n.length,o+999);o<a;o++){let c=n.charCodeAt(o);if(i)i=!1;else{if(c==93)return r?!1:Pr(Rt.LinkLabel,e+t,o+1+t);if(r&&!Pu(c)&&(r=!1),c==91)return!1;c==92&&(i=!0)}}return null}class yje{constructor(e,t,r){this.parser=e,this.text=t,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,r,i,o){return this.append(new au(e,t,r,(i?1:0)|(o?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof au&&(t.type==P1||t.type==gB))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof au&&i.type.resolve&&i.side&2))continue;let o=i.type==fce||i.type==hce,a=i.to-i.from,c,u=r-1;for(;u>=e;u--){let O=this.parts[u];if(O instanceof au&&O.side&1&&O.type==i.type&&!(o&&(i.side&1||O.side&2)&&(O.to-O.from+a)%3==0&&((O.to-O.from)%3||a%3))){c=O;break}}if(!c)continue;let h=i.type.resolve,m=[],y=c.from,w=i.to;if(o){let O=Math.min(2,c.to-c.from,a);y=c.to-O,w=i.from+O,h=O==1?"Emphasis":"StrongEmphasis"}c.type.mark&&m.push(this.elt(c.type.mark,y,c.to));for(let O=u+1;O<r;O++)this.parts[O]instanceof e2&&m.push(this.parts[O]),this.parts[O]=null;i.type.mark&&m.push(this.elt(i.type.mark,i.from,w));let S=this.elt(h,y,w,m);this.parts[u]=o&&c.from!=y?new au(c.type,c.from,y,c.side):null,(this.parts[r]=o&&i.to!=w?new au(i.type,w,i.to,i.side):null)?this.parts.splice(r,0,S):this.parts[r]=S}let t=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof e2&&t.push(i)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let r=this.parts[t];if(r instanceof au&&r.type==e)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}skipSpace(e){return qk(this.text,e-this.offset)+this.offset}elt(e,t,r,i){return typeof e=="string"?Pr(this.parser.getNodeType(e),t,r,i):new dce(e,t)}}function vB(n,e){if(!e.length)return n;if(!n.length)return e;let t=n.slice(),r=0;for(let i of e){for(;r<t.length&&t[r].to<i.to;)r++;if(r<t.length&&t[r].from<i.from){let o=t[r];o instanceof e2&&(t[r]=new e2(o.type,o.from,o.to,vB(o.children,[i])))}else t.splice(r++,0,i)}return t}const bje=[Rt.CodeBlock,Rt.ListItem,Rt.OrderedList,Rt.BulletList];class xje{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let o=this.fragment.to;for(;o>0&&this.input.read(o-1,o)!=`
`;)o--;this.fragmentEnd=o?o-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=t;if(!r.childAfter(i))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(Vn.contextHash)==e}takeNodes(e){let t=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),o=e.absoluteLineStart,a=o,c=e.block.children.length,u=a,h=c;for(;;){if(t.to-r>i){if(t.type.isAnonymous&&t.firstChild())continue;break}let m=vce(t.from-r,e.ranges);if(t.to-r<=e.ranges[e.rangeI].to)e.addNode(t.tree,m);else{let y=new oi(e.parser.nodeSet.types[Rt.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(y,t.tree),e.addNode(y,m)}if(t.type.is("Block")&&(bje.indexOf(t.type.id)<0?(a=t.to-r,c=e.block.children.length):(a=u,c=h,u=t.to-r,h=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>c;)e.block.children.pop(),e.block.positions.pop();return a-o}}function vce(n,e){let t=n;for(let r=1;r<e.length;r++){let i=e[r-1].to,o=e[r].from;i<n&&(t-=o-i)}return t}const wje=D2({"Blockquote/...":ue.quote,HorizontalRule:ue.contentSeparator,"ATXHeading1/... SetextHeading1/...":ue.heading1,"ATXHeading2/... SetextHeading2/...":ue.heading2,"ATXHeading3/...":ue.heading3,"ATXHeading4/...":ue.heading4,"ATXHeading5/...":ue.heading5,"ATXHeading6/...":ue.heading6,"Comment CommentBlock":ue.comment,Escape:ue.escape,Entity:ue.character,"Emphasis/...":ue.emphasis,"StrongEmphasis/...":ue.strong,"Link/... Image/...":ue.link,"OrderedList/... BulletList/...":ue.list,"BlockQuote/...":ue.quote,"InlineCode CodeText":ue.monospace,"URL Autolink":ue.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":ue.processingInstruction,"CodeInfo LinkLabel":ue.labelName,LinkTitle:ue.string,Paragraph:ue.content}),_je=new D7(new M2(cce).extend(wje),Object.keys(IR).map(n=>IR[n]),Object.keys(IR).map(n=>ace[n]),Object.keys(IR),pje,Zle,Object.keys(c4).map(n=>c4[n]),Object.keys(c4),[]),Eje={resolve:"Strikethrough",mark:"StrikethroughMark"};ue.strikethrough,ue.processingInstruction;function Uk(n,e,t=0,r,i=0){let o=0,a=!0,c=-1,u=-1,h=!1,m=()=>{r.push(n.elt("TableCell",i+c,i+u,n.parser.parseInline(e.slice(c,u),i+c)))};for(let y=t;y<e.length;y++){let w=e.charCodeAt(y);w==124&&!h?((!a||c>-1)&&o++,a=!1,r&&(c>-1&&m(),r.push(n.elt("TableDelimiter",y+i,y+i+1))),c=u=-1):(h||w!=32&&w!=9)&&(c<0&&(c=y),u=y+1),h=!h&&w==92}return c>-1&&(o++,r&&m()),o}function ZQ(n,e){for(let t=e;t<n.length;t++){let r=n.charCodeAt(t);if(r==124)return!0;r==92&&t++}return!1}const yce=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class JQ{constructor(){this.rows=null}nextLine(e,t,r){if(this.rows==null){this.rows=!1;let i;if((t.next==45||t.next==58||t.next==124)&&yce.test(i=t.text.slice(t.pos))){let o=[];Uk(e,r.content,0,o,r.start)==Uk(e,i,t.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,o),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let i=[];Uk(e,t.text,t.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,i))}return!1}finish(e,t){return this.rows?(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0):!1}}ue.heading,ue.content,ue.processingInstruction;class Sje{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}ue.list,ue.atom;function bce(n,e,t){return(r,i,o)=>{if(i!=n||r.char(o+1)==n)return-1;let a=[r.elt(t,o,o+1)];for(let c=o+1;c<r.end;c++){let u=r.char(c);if(u==n)return r.addElement(r.elt(e,o,c+1,a.concat(r.elt(t,c,c+1))));if(u==92&&a.push(r.elt("Escape",c,c+++2)),Pu(u))break}return-1}}ue.special(ue.content),ue.processingInstruction,bce(94,"Superscript","SuperscriptMark");ue.special(ue.content),ue.processingInstruction,bce(126,"Subscript","SubscriptMark");ue.character;function kje(n){const e=[];return n.iterate({enter:t=>{const r=t.node;if(!r.type.isError)return;const i=r.parent,o=xce(r),a={from:r.from,to:r.to,severity:"error",type:"Syntax Error"};if(r.from!==r.to)a.message=`Unrecognized token in <${i.name}>`;else if(o)a.message=`Unrecognized token <${o.name}> in <${i.name}>`,a.to=o.to;else{const c=i.enterUnfinishedNodesBefore(r.to);a.message=`Incomplete <${(c||i).name}>`}e.push(a)}}),e}function xce(n){return n?n.nextSibling||xce(n.parent):null}const Cje="first-item";var Oje={create(n){return{enter(e){if(e.name!=="FilterExpression")return;const t=n.readContent(e.from,e.to);if(eK().test(t)){const{from:r,to:i}=e;n.report({from:r,to:i,message:"First item is accessed via [1]",severity:"warning",type:Cje,actions:[{name:"fix",apply(o,a=r,c=i){n.updateContent(a,c,t.replace(eK(),"[1]"))}}]})}}}}};function eK(){return/\[\s*0\s*\]$/}const Tje=[Oje];function Pje(n){const{readContent:e,syntaxTree:t,updateContent:r}=n,i=[],o={readContent:e,report:c=>{i.push(c)},updateContent:r},a=Tje.map(c=>c.create(o));return t.iterate({enter:c=>{for(const u of a)u.enter&&u.enter(c)},leave:c=>{for(const u of a)u.leave&&u.leave(c)}}),i}function Aje(n){return[...kje(n.syntaxTree),...Pje(n)]}const wce=()=>n=>{if(n.state.doc.length===0)return[];const e=ws(n.state);return Aje({syntaxTree:e,readContent:(r,i)=>n.state.sliceDoc(r,i),updateContent:(r,i,o)=>n.dispatch({changes:{from:r,to:i,insert:o}})}).map(r=>({...r,source:r.type}))},Rje=RI(Fg.define([{tag:ue.strong,fontWeight:"bold"},{tag:ue.emphasis,fontStyle:"italic"}])),Mje=Vt.theme({"& .cm-lintRange":{position:"relative"},"& .cm-lintRange::after":{content:'""',width:"100%",position:"absolute",left:"0px",bottom:"-2px",height:"3px",backgroundRepeat:"repeat-x"},"& .cm-lintRange.cm-lintRange-warning, & .cm-lintRange.cm-lintRange-error":{backgroundImage:"none"},"& .cm-lintPoint::after":{bottom:"-2px"}});var _ce=[Mje,Rje];const tK=n=>`%23${n.slice(1)}`,Yn={black:"#1f2b36",darkGrey:"#2f3d58",grey:"#404a5c",midGrey:"#576071",lightGrey:"#c5d1e5",offWhite:"#d9e0f5",snowWhite:"#eaf1ff",white:"#ffffff",mossGreen:"#7ab6aa",iceBlue:"#6cbfd8",waterBlue:"#065aaa",brightBlue:"#0a56b9",deepBlue:"#355472",red:"#9f1c15",orangeBrown:"#b4502f",yellow:"#debd71",lila:"#9a4890",purple:"#5b2c83"},hs={lightBackground:Yn.white,darkBackground:Yn.snowWhite,selection:Yn.snowWhite,tooltipBackground:Yn.offWhite,error:Yn.red,warning:Yn.yellow,invalid:"#b40000"},Dje=Vt.theme({"&":{color:Yn.black,backgroundColor:hs.lightBackground},".cm-content":{caretColor:Yn.darkGrey},".cm-cursor, .cm-dropCursor":{borderLeftColor:Yn.darkGrey},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:hs.selection},".cm-panels":{backgroundColor:hs.darkBackground,color:Yn.grey},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${Yn.black}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${Yn.black}`},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${Yn.midGrey}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:Yn.offWhite},".cm-activeLine":{backgroundColor:hs.selection},".cm-selectionMatch":{backgroundColor:Yn.offWhite},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${Yn.grey}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:Yn.snowWhite},".cm-gutters":{backgroundColor:"#f3f7fe",color:"#52668d",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:hs.selection},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:hs.tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:hs.tooltipBackground,borderBottomColor:hs.tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:hs.darkBackground,color:Yn.midGrey}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${tK(hs.warning)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${tK(hs.error)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{border:`1px solid ${hs.warning}`,borderLeft:`5px solid ${hs.warning}`,background:hs.lightBackground},"& .cm-diagnostic-error":{border:`1px solid ${hs.error}`,borderLeft:`5px solid ${hs.error}`,background:hs.lightBackground},"& .cm-diagnostic":{padding:"3px 8px"}},{dark:!1}),Nje=RI(Fg.define([{tag:[ue.macroName,ue.variableName],color:Yn.waterBlue},{tag:[ue.special(ue.bracket)],color:Yn.waterBlue,fontWeight:"bold"},{tag:[ue.color,ue.name,ue.definition(ue.name),ue.constant(ue.name),ue.standard(ue.name),ue.propertyName],color:Yn.deepBlue},{tag:[ue.definition(ue.variableName),ue.function(ue.variableName),ue.function(ue.propertyName)],color:Yn.brightBlue},{tag:[ue.labelName],color:Yn.orangeBrown},{tag:[ue.annotation],color:hs.invalid},{tag:[ue.number,ue.changed,ue.annotation,ue.modifier,ue.self,ue.namespace,ue.atom,ue.bool,ue.special(ue.variableName)],color:Yn.red},{tag:[ue.typeName,ue.className,ue.attributeName],color:Yn.lila},{tag:[ue.operator,ue.operatorKeyword,ue.tagName,ue.keyword],color:Yn.purple},{tag:[ue.angleBracket,ue.squareBracket,ue.brace,ue.separator,ue.punctuation],color:Yn.midGrey},{tag:[ue.regexp],color:Yn.deepBlue},{tag:[ue.quote],color:Yn.darkGrey},{tag:[ue.string,ue.character,ue.deleted],color:Yn.orangeBrown},{tag:ue.link,color:Yn.mossGreen,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[ue.url,ue.escape,ue.special(ue.string)],color:Yn.red},{tag:[ue.meta],color:Yn.iceBlue},{tag:[ue.comment],color:Yn.midGrey,fontStyle:"italic"},{tag:ue.strong,fontWeight:"bold",color:Yn.deepBlue},{tag:ue.emphasis,fontStyle:"italic",color:Yn.deepBlue},{tag:ue.strikethrough,textDecoration:"line-through"},{tag:ue.heading,fontWeight:"bold",color:Yn.midGray},{tag:ue.special(ue.heading1),fontWeight:"bold",color:Yn.darkGrey},{tag:[ue.heading1,ue.heading2,ue.heading3,ue.heading4],fontWeight:"bold",color:Yn.midGrey},{tag:[ue.heading5,ue.heading6,ue.processingInstruction,ue.inserted],color:Yn.grey},{tag:[ue.contentSeparator],color:Yn.yellow},{tag:ue.invalid,color:Yn.midGrey,borderBottom:`1px dotted ${hs.invalid}`}]));var Ije=[Dje,Nje];const Fje="#abb2bf",u4="#f07178",Lje="#7d8799",$je="#ffffff",k1="#fffce1",d4="#ec9e6f",jje="#21252b",f4="rgba(0, 0, 0, 0.5)",Bje="#292d3e",h4="#353a42",Vje="rgba(128, 203, 196, 0.2)",nK="#ffcc00",zje="%23",rK="fff890",iK="red",Hje="#281e16",Wje="#281616",qje=Vt.theme({"&":{color:"#ffffff",backgroundColor:Bje},".cm-content":{caretColor:nK},"&.cm-focused .cm-cursor":{borderLeftColor:nK},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Vje},".cm-panels":{backgroundColor:jje,color:"#ffffff"},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:f4},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{background:"#292d3e",color:"#676e95",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:f4},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:h4},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:h4,borderBottomColor:h4},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:f4,color:Fje}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${zje+rK}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${iK}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{borderLeft:`5px solid #${rK}`,background:Hje},"& .cm-diagnostic-error":{borderLeft:`5px solid ${iK}`,background:Wje},"& .cm-diagnostic":{borderRadius:"2px",padding:"3px 8px"}},{dark:!0}),Uje=RI(Fg.define([{tag:ue.heading1,color:k1},{tag:ue.heading2,color:k1},{tag:ue.heading3,color:k1},{tag:ue.heading4,color:k1},{tag:ue.heading5,color:k1},{tag:ue.heading6,color:k1},{tag:ue.special(ue.bracket),color:d4,fontWeight:"bold"},{tag:ue.keyword,color:"#c792ea"},{tag:ue.operator,color:"#89ddff"},{tag:ue.special(ue.variableName),color:"#eeffff"},{tag:ue.typeName,color:"#f07178"},{tag:ue.atom,color:"#f78c6c"},{tag:ue.number,color:"#ff5370"},{tag:ue.bool,color:"#ff5370"},{tag:ue.definition(ue.variableName),color:"#82aaff"},{tag:ue.string,color:"#c3e88d"},{tag:ue.comment,color:Lje},{tag:ue.tagName,color:"#ff5370"},{tag:ue.bracket,color:"#a2a1a4"},{tag:ue.meta,color:"#ffcb6b"},{tag:ue.special(ue.string),color:u4},{tag:ue.propertyName,color:d4},{tag:ue.variableName,color:d4},{tag:ue.attributeName,color:u4},{tag:ue.className,color:u4},{tag:ue.invalid,color:$je}]));var Gje=[qje,Uje];const Yje=[..._ce,...Ije],Qje=[..._ce,...Gje],Kje=1,Xje=2,Zje=3,rN={"{":123,"}":125},Jje=(n,e=0)=>{const t=n.peek(e)===rN["}"],r=n.peek(e+1)===rN["}"];return t&&r||n.peek(e)===-1},eBe=new Aw((n,e)=>{let t=0;for(;!Jje(n,t);)t++;t>0&&(n.advance(t),n.acceptToken(Xje))}),tBe=(n,e=0)=>{const t=n.peek(e)===rN["{"],r=n.peek(e+1)===rN["{"];return t&&r||n.peek(e)===-1},nBe=new Aw((n,e)=>{let t=0;for(;!tBe(n,t);)t++;t>0&&(n.advance(t),n.acceptToken(Zje))}),rBe=new Aw((n,e)=>{let t=0;for(;n.peek(t)!==-1;)t++;t>0&&(n.advance(t),n.acceptToken(Kje))}),iBe=D2({ConditionalSpanner:ue.special(ue.bracket),ConditionalSpannerClose:ue.special(ue.bracket),ConditionalSpannerCloseNl:ue.special(ue.bracket),LoopSpanner:ue.special(ue.bracket),LoopSpannerClose:ue.special(ue.bracket),LoopSpannerCloseNl:ue.special(ue.bracket),EmptyInsert:ue.special(ue.bracket),Insert:ue.special(ue.bracket)}),N7=zC.deserialize({version:14,states:"$bOQOaOOOfOXO'#CbOOO`'#Cm'#CmOqOWO'#CcOvOWO'#CfOOO`'#Cp'#CpOOO`'#Ci'#CiO{OaO'#ClO!jOSOOQOOOOOO!oOPO,58{O!tOXO,58|OOO`,58|,58|O!|OQO,58}O#ROQO,59QOOO`-E6g-E6gOOO`1G.g1G.gO#WOPO1G.gOOO`1G.h1G.hO#]OaO1G.iO#qOaO1G.lOOO`7+$R7+$RO$VOPO7+$TO$_OPO7+$WOOO`<<Go<<GoOOO`<<Gr<<Gr",stateData:"$g~ORUO_WObPOeROgSO^`P~OQYO_ZOc[O~OQ]O~OQ^O~ORUObPOeROgSO^`XW`XX`XZ`X[`X~OPXO~Oc`O~OQaOcbO~OfcO~OfdO~OceO~ORUObPOeROgSOW`PX`P~ORUObPOeROgSOZ`P[`P~OWhOXhO~OZiO[iO~O",goto:"!ZePPPPPfflPPlPPrPPz!TPP!TXQOVcdXTOVcdUVOcdR_VQXOQfcRgdXUOVcd",nodeNames:" Feel FeelBlock SimpleTextBlock Feelers Insert EmptyInsert ConditionalSpanner ConditionalSpannerClose ConditionalSpannerCloseNl LoopSpanner LoopSpannerClose LoopSpannerCloseNl",maxTerm:23,propSources:[iBe],skippedNodes:[0],repeatNodeCount:1,tokenData:"%X~RR!_!`[#o#pa#q#r$r~aO_~~dP#o#pg~lQb~str!P!Q!{~uQ#]#^{#`#a!^~!OP#Y#Z!R~!UPpq!X~!^Oe~~!aP#c#d!d~!gP#c#d!j~!mP#d#e!p~!sPpq!v~!{Og~~#OQ#]#^#U#`#a#u~#XP#Y#Z#[~#_P#q#r#b~#eP#q#r#h~#mPW~YZ#p~#uOX~~#xP#c#d#{~$OP#c#d$R~$UP#d#e$X~$[P#q#r$_~$bP#q#r$e~$jPZ~YZ$m~$rO[~R$uP#q#r$xR%PPcPfQYZ%SQ%XOfQ",tokenizers:[0,1,rBe,eBe,nBe],topRules:{Feelers:[0,4]},tokenPrec:0});function Ece(n,e){const t=[{children:[]}],r=i=>["SimpleTextBlock","Feel","FeelBlock"].includes(i.type.name);return n.iterate({enter:(i,o,a)=>{const c={name:i.type.name,children:[]};r(i)&&(c.content=e.slice(i.from,i.to)),t.push(c)},leave:(i,o,a)=>{const c=t.pop(),u=t[t.length-1];c.parent=u,u.children.push(c)}}),t[0].children[0]}const oBe=(n,e={},t={})=>{const{debug:r=!1,strict:i=!1,buildDebugString:o=m=>`{{ ${m.message.toLowerCase()} }}`,sanitizer:a}=t,c=N7.parse(n),u=Ece(c,n);return sBe({debug:r,strict:i,buildDebugString:o,sanitizer:a})(u,Sce(e,null))},sBe=n=>{const{debug:e,strict:t,buildDebugString:r,sanitizer:i}=n,o=u=>{if(e)return r(u);throw u},a=(u,h={})=>{switch(u.name){case"SimpleTextBlock":return u.content;case"Insert":{const m=u.children[0].content;try{const y=pR(`string(${m})`,h);return i?i(y):y}catch{return o(new Error(`FEEL expression ${m} couldn't be evaluated`))}}case"EmptyInsert":return"";case"Feel":case"FeelBlock":{const m=u.content;try{const y=pR(`string(${m})`,h);return i?i(y):y}catch{return o(new Error(`FEEL expression ${m} couldn't be evaluated`))}}case"Feelers":return u.children.map(m=>c(m,h)).join("");case"ConditionalSpanner":{const m=u.children[0].content;let y;try{y=pR(m,h)}catch{return o(new Error(`FEEL expression ${m} couldn't be evaluated`))}if(t&&typeof y!="boolean")return o(new Error(`FEEL expression ${m} expected to evaluate to a boolean`));if(y){const S=u.children.slice(1,u.children.length-1).map(N=>c(N,h)).join(""),O=u.children[u.children.length-1].name.endsWith("Nl")&&!S.endsWith(`
`);return S+(O?`
`:"")}return""}case"LoopSpanner":{const m=u.children[0].content;let y;try{y=pR(m,h)}catch{return o(new Error(`FEEL expression ${m} couldn't be evaluated`))}if(!Array.isArray(y)){if(t)return o(new Error(`FEEL expression ${m} expected to evaluate to an array`));y==null?y=[]:y=[y]}const w=u.children.slice(1,u.children.length-1),S=(D,F)=>{const I=Sce(D,F);return w.map(R=>c(R,I)).join("")},T=y.map(D=>S(D,h)).join(""),N=u.children[u.children.length-1].name.endsWith("Nl")&&!T.endsWith(`
`);return T+(N?`
`:"")}}},c=(u,h={})=>{try{return a(u,h)}catch(m){return o(m)}};return c},Sce=(n,e)=>typeof n=="object"?{this:n,parent:e,...n,_this_:n,_parent_:e}:{this:n,parent:e,_this_:n,_parent_:e},aBe={ConditionalSpanner:Wk,LoopSpanner:Wk};function lBe(n=null){const e=N7.configure({wrap:SNe(t=>t.name=="Feel"||t.name=="FeelBlock"?{parser:Mw}:n&&t.name=="SimpleTextBlock"?{parser:n}:null),props:[ole.add(aBe)]});return KC.define({parser:e})}const cBe=n=>new ele(lBe(n),[]);function uBe(n){const e=[];return n.iterate({enter:t=>{t.type.name==="EmptyInsert"&&e.push({from:t.from,to:t.to,severity:"warning",message:"this insert is empty and will be ignored",type:"emptyInsert"})}}),e}function dBe(n){return[...uBe(n)]}function fBe(){const n=wce();return e=>{const t=n(e);if(e.state.doc.length===0)return[];const r=ws(e.state),i=dBe(r);return[...t,...i.map(o=>({...o,source:"feelers linter"}))]}}var hBe=Yle(fBe());function II({container:n,tooltipContainer:e,hostLanguage:t,hostLanguageParser:r,onChange:i=()=>{},onKeyDown:o=()=>{},onLint:a=()=>{},contentAttributes:c={},readOnly:u=!1,value:h="",enableGutters:m=!1,singleLine:y=!1,lineWrap:w=!1,darkMode:S=!1}){const T=Vt.updateListener.of(X=>{X.docChanged&&i(X.state.doc.toString())}),O=Vt.updateListener.of(X=>{const Z=X.transactions.flatMap(ge=>ge.effects).filter(ge=>ge.is(B2));if(!Z.length)return;const ae=Z.flatMap(ge=>ge.value);a(ae)}),N=Vt.contentAttributes.of(c),D=Vt.domEventHandlers({keydown:o});typeof e=="string"&&(e=document.querySelector(e));const F=e?Qae({tooltipSpace:function(){return e.getBoundingClientRect()}}):[],R=cBe(r||t&&(X=>{switch(X){case"markdown":return _je;default:return null}})(t)),z=[cle(),T,N,vle(),ile(),D,L2.of([...Wle]),R,hBe,O,F,S?Qje:Yje,...m?[Zae()]:[],...y?[Lr.transactionFilter.of(X=>X.newDoc.lines>1?[]:X)]:[],...w?[Vt.lineWrapping]:[]];return u&&z.push(Vt.editable.of(!1)),y&&h&&(h=h.toString().split(`
`)[0]),this._cmEditor=new Vt({state:Lr.create({doc:h,extensions:z}),parent:n}),this}II.prototype.setValue=function(n){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:n}})};II.prototype.focus=function(n){const e=this._cmEditor;if(e.contentDOM.focus(),e.focus(),typeof n=="number"){const t=e.state.doc.length;e.dispatch({selection:{anchor:n<=t?n:t}})}};II.prototype.getSelection=function(){return this._cmEditor.state.selection};function I7(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let S0=I7();function kce(n){S0=n}const Gk={exec:()=>null};function ai(n,e=""){let t=typeof n=="string"?n:n.source;const r={replace:(i,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(qa.caret,"$1"),t=t.replace(i,a),r},getRegex:()=>new RegExp(t,e)};return r}const qa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},pBe=/^(?:[ \t]*(?:\n|$))+/,mBe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,gBe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,V2=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,vBe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,F7=/(?:[*+-]|\d{1,9}[.)])/,Cce=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Oce=ai(Cce).replace(/bull/g,F7).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),yBe=ai(Cce).replace(/bull/g,F7).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),L7=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,bBe=/^[^\n]+/,$7=/(?!\s*\])(?:\\.|[^\[\]\\])+/,xBe=ai(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$7).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),wBe=ai(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,F7).getRegex(),FI="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j7=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_Be=ai("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",j7).replace("tag",FI).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Tce=ai(L7).replace("hr",V2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",FI).getRegex(),EBe=ai(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Tce).getRegex(),B7={blockquote:EBe,code:mBe,def:xBe,fences:gBe,heading:vBe,hr:V2,html:_Be,lheading:Oce,list:wBe,newline:pBe,paragraph:Tce,table:Gk,text:bBe},oK=ai("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",V2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",FI).getRegex(),SBe={...B7,lheading:yBe,table:oK,paragraph:ai(L7).replace("hr",V2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",oK).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",FI).getRegex()},kBe={...B7,html:ai(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",j7).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Gk,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ai(L7).replace("hr",V2).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Oce).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},CBe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,OBe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Pce=/^( {2,}|\\)\n(?!\s*$)/,TBe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,LI=/[\p{P}\p{S}]/u,V7=/[\s\p{P}\p{S}]/u,Ace=/[^\s\p{P}\p{S}]/u,PBe=ai(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,V7).getRegex(),Rce=/(?!~)[\p{P}\p{S}]/u,ABe=/(?!~)[\s\p{P}\p{S}]/u,RBe=/(?:[^\s\p{P}\p{S}]|~)/u,MBe=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Mce=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,DBe=ai(Mce,"u").replace(/punct/g,LI).getRegex(),NBe=ai(Mce,"u").replace(/punct/g,Rce).getRegex(),Dce="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",IBe=ai(Dce,"gu").replace(/notPunctSpace/g,Ace).replace(/punctSpace/g,V7).replace(/punct/g,LI).getRegex(),FBe=ai(Dce,"gu").replace(/notPunctSpace/g,RBe).replace(/punctSpace/g,ABe).replace(/punct/g,Rce).getRegex(),LBe=ai("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Ace).replace(/punctSpace/g,V7).replace(/punct/g,LI).getRegex(),$Be=ai(/\\(punct)/,"gu").replace(/punct/g,LI).getRegex(),jBe=ai(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),BBe=ai(j7).replace("(?:-->|$)","-->").getRegex(),VBe=ai("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",BBe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),iN=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zBe=ai(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",iN).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Nce=ai(/^!?\[(label)\]\[(ref)\]/).replace("label",iN).replace("ref",$7).getRegex(),Ice=ai(/^!?\[(ref)\](?:\[\])?/).replace("ref",$7).getRegex(),HBe=ai("reflink|nolink(?!\\()","g").replace("reflink",Nce).replace("nolink",Ice).getRegex(),z7={_backpedal:Gk,anyPunctuation:$Be,autolink:jBe,blockSkip:MBe,br:Pce,code:OBe,del:Gk,emStrongLDelim:DBe,emStrongRDelimAst:IBe,emStrongRDelimUnd:LBe,escape:CBe,link:zBe,nolink:Ice,punctuation:PBe,reflink:Nce,reflinkSearch:HBe,tag:VBe,text:TBe,url:Gk},WBe={...z7,link:ai(/^!?\[(label)\]\((.*?)\)/).replace("label",iN).getRegex(),reflink:ai(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",iN).getRegex()},yB={...z7,emStrongRDelimAst:FBe,emStrongLDelim:NBe,url:ai(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},qBe={...yB,br:ai(Pce).replace("{2,}","*").getRegex(),text:ai(yB.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},LR={normal:B7,gfm:SBe,pedantic:kBe},ek={normal:z7,gfm:yB,breaks:qBe,pedantic:WBe},UBe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sK=n=>UBe[n];function vf(n,e){if(e){if(qa.escapeTest.test(n))return n.replace(qa.escapeReplace,sK)}else if(qa.escapeTestNoEncode.test(n))return n.replace(qa.escapeReplaceNoEncode,sK);return n}function aK(n){try{n=encodeURI(n).replace(qa.percentDecode,"%")}catch{return null}return n}function lK(n,e){var o;const t=n.replace(qa.findPipe,(a,c,u)=>{let h=!1,m=c;for(;--m>=0&&u[m]==="\\";)h=!h;return h?"|":" |"}),r=t.split(qa.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((o=r.at(-1))!=null&&o.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(qa.slashPipe,"|");return r}function tk(n,e,t){const r=n.length;if(r===0)return"";let i=0;for(;i<r&&n.charAt(r-i-1)===e;)i++;return n.slice(0,r-i)}function GBe(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return t>0?-2:-1}function cK(n,e,t,r,i){const o=e.href,a=e.title||null,c=n[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const u={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:a,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,u}function YBe(n,e,t){const r=n.match(t.other.indentCodeCompensation);if(r===null)return e;const i=r[1];return e.split(`
`).map(o=>{const a=o.match(t.other.beginningSpace);if(a===null)return o;const[c]=a;return c.length>=i.length?o.slice(i.length):o}).join(`
`)}class oN{constructor(e){_i(this,"options");_i(this,"rules");_i(this,"lexer");this.options=e||S0}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:tk(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=YBe(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){const i=tk(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:tk(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=tk(t[0],`
`).split(`
`),i="",o="";const a=[];for(;r.length>0;){let c=!1;const u=[];let h;for(h=0;h<r.length;h++)if(this.rules.other.blockquoteStart.test(r[h]))u.push(r[h]),c=!0;else if(!c)u.push(r[h]);else break;r=r.slice(h);const m=u.join(`
`),y=m.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${m}`:m,o=o?`${o}
${y}`:y;const w=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(y,a,!0),this.lexer.state.top=w,r.length===0)break;const S=a.at(-1);if((S==null?void 0:S.type)==="code")break;if((S==null?void 0:S.type)==="blockquote"){const T=S,O=T.raw+`
`+r.join(`
`),N=this.blockquote(O);a[a.length-1]=N,i=i.substring(0,i.length-T.raw.length)+N.raw,o=o.substring(0,o.length-T.text.length)+N.text;break}else if((S==null?void 0:S.type)==="list"){const T=S,O=T.raw+`
`+r.join(`
`),N=this.list(O);a[a.length-1]=N,i=i.substring(0,i.length-S.raw.length)+N.raw,o=o.substring(0,o.length-T.raw.length)+N.raw,r=O.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const i=r.length>1,o={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const a=this.rules.other.listItemRegex(r);let c=!1;for(;e;){let h=!1,m="",y="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;m=t[0],e=e.substring(m.length);let w=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,F=>" ".repeat(3*F.length)),S=e.split(`
`,1)[0],T=!w.trim(),O=0;if(this.options.pedantic?(O=2,y=w.trimStart()):T?O=t[1].length+1:(O=t[2].search(this.rules.other.nonSpaceChar),O=O>4?1:O,y=w.slice(O),O+=t[1].length),T&&this.rules.other.blankLine.test(S)&&(m+=S+`
`,e=e.substring(S.length+1),h=!0),!h){const F=this.rules.other.nextBulletRegex(O),I=this.rules.other.hrRegex(O),R=this.rules.other.fencesBeginRegex(O),z=this.rules.other.headingBeginRegex(O),X=this.rules.other.htmlBeginRegex(O);for(;e;){const Z=e.split(`
`,1)[0];let ae;if(S=Z,this.options.pedantic?(S=S.replace(this.rules.other.listReplaceNesting,"  "),ae=S):ae=S.replace(this.rules.other.tabCharGlobal,"    "),R.test(S)||z.test(S)||X.test(S)||F.test(S)||I.test(S))break;if(ae.search(this.rules.other.nonSpaceChar)>=O||!S.trim())y+=`
`+ae.slice(O);else{if(T||w.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||R.test(w)||z.test(w)||I.test(w))break;y+=`
`+S}!T&&!S.trim()&&(T=!0),m+=Z+`
`,e=e.substring(Z.length+1),w=ae.slice(O)}}o.loose||(c?o.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(c=!0));let N=null,D;this.options.gfm&&(N=this.rules.other.listIsTask.exec(y),N&&(D=N[0]!=="[ ] ",y=y.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:m,task:!!N,checked:D,loose:!1,text:y,tokens:[]}),o.raw+=m}const u=o.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let h=0;h<o.items.length;h++)if(this.lexer.state.top=!1,o.items[h].tokens=this.lexer.blockTokens(o.items[h].text,[]),!o.loose){const m=o.items[h].tokens.filter(w=>w.type==="space"),y=m.length>0&&m.some(w=>this.rules.other.anyLine.test(w.raw));o.loose=y}if(o.loose)for(let h=0;h<o.items.length;h++)o.items[h].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:o}}}table(e){var c;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const r=lK(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(c=t[3])!=null&&c.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const u of i)this.rules.other.tableAlignRight.test(u)?a.align.push("right"):this.rules.other.tableAlignCenter.test(u)?a.align.push("center"):this.rules.other.tableAlignLeft.test(u)?a.align.push("left"):a.align.push(null);for(let u=0;u<r.length;u++)a.header.push({text:r[u],tokens:this.lexer.inline(r[u]),header:!0,align:a.align[u]});for(const u of o)a.rows.push(lK(u,a.header.length).map((h,m)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:a.align[m]})));return a}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const a=tk(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=GBe(t[2],"()");if(a===-2)return;if(a>-1){const u=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],o=a[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),cK(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[i.toLowerCase()];if(!o){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return cK(r,o,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=[...i[0]].length-1;let c,u,h=a,m=0;const y=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(y.lastIndex=0,t=t.slice(-1*e.length+a);(i=y.exec(t))!=null;){if(c=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!c)continue;if(u=[...c].length,i[3]||i[4]){h+=u;continue}else if((i[5]||i[6])&&a%3&&!((a+u)%3)){m+=u;continue}if(h-=u,h>0)continue;u=Math.min(u,u+h+m);const w=[...i[0]][0].length,S=e.slice(0,a+i.index+w+u);if(Math.min(a,u)%2){const O=S.slice(1,-1);return{type:"em",raw:S,text:O,tokens:this.lexer.inlineTokens(O)}}const T=S.slice(2,-2);return{type:"strong",raw:S,text:T,tokens:this.lexer.inlineTokens(T)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(r),o=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&o&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=t[1],i="mailto:"+r):(r=t[1],i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let i,o;if(t[2]==="@")i=t[0],o="mailto:"+i;else{let a;do a=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(a!==t[0]);i=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}}class vu{constructor(e){_i(this,"tokens");_i(this,"options");_i(this,"state");_i(this,"tokenizer");_i(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||S0,this.options.tokenizer=this.options.tokenizer||new oN,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:qa,block:LR.normal,inline:ek.normal};this.options.pedantic?(t.block=LR.pedantic,t.inline=ek.pedantic):this.options.gfm&&(t.block=LR.gfm,this.options.breaks?t.inline=ek.breaks:t.inline=ek.gfm),this.tokenizer.rules=t}static get rules(){return{block:LR,inline:ek}}static lex(e,t){return new vu(t).lex(e)}static lexInline(e,t){return new vu(t).inlineTokens(e)}lex(e){e=e.replace(qa.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var i,o,a;for(this.options.pedantic&&(e=e.replace(qa.tabCharGlobal,"    ").replace(qa.spaceLine,""));e;){let c;if((o=(i=this.options.extensions)==null?void 0:i.block)!=null&&o.some(h=>(c=h.call({lexer:this},e,t))?(e=e.substring(c.raw.length),t.push(c),!0):!1))continue;if(c=this.tokenizer.space(e)){e=e.substring(c.raw.length);const h=t.at(-1);c.raw.length===1&&h!==void 0?h.raw+=`
`:t.push(c);continue}if(c=this.tokenizer.code(e)){e=e.substring(c.raw.length);const h=t.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue.at(-1).src=h.text):t.push(c);continue}if(c=this.tokenizer.fences(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.heading(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.hr(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.blockquote(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.list(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.html(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.def(e)){e=e.substring(c.raw.length);const h=t.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=`
`+c.raw,h.text+=`
`+c.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title});continue}if(c=this.tokenizer.table(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.lheading(e)){e=e.substring(c.raw.length),t.push(c);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let h=1/0;const m=e.slice(1);let y;this.options.extensions.startBlock.forEach(w=>{y=w.call({lexer:this},m),typeof y=="number"&&y>=0&&(h=Math.min(h,y))}),h<1/0&&h>=0&&(u=e.substring(0,h+1))}if(this.state.top&&(c=this.tokenizer.paragraph(u))){const h=t.at(-1);r&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):t.push(c),r=u.length!==e.length,e=e.substring(c.raw.length);continue}if(c=this.tokenizer.text(e)){e=e.substring(c.raw.length);const h=t.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):t.push(c);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var c,u,h;let r=e,i=null;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)m.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,a="";for(;e;){o||(a=""),o=!1;let m;if((u=(c=this.options.extensions)==null?void 0:c.inline)!=null&&u.some(w=>(m=w.call({lexer:this},e,t))?(e=e.substring(m.raw.length),t.push(m),!0):!1))continue;if(m=this.tokenizer.escape(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.tag(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.link(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(m.raw.length);const w=t.at(-1);m.type==="text"&&(w==null?void 0:w.type)==="text"?(w.raw+=m.raw,w.text+=m.text):t.push(m);continue}if(m=this.tokenizer.emStrong(e,r,a)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.codespan(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.br(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.del(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.autolink(e)){e=e.substring(m.raw.length),t.push(m);continue}if(!this.state.inLink&&(m=this.tokenizer.url(e))){e=e.substring(m.raw.length),t.push(m);continue}let y=e;if((h=this.options.extensions)!=null&&h.startInline){let w=1/0;const S=e.slice(1);let T;this.options.extensions.startInline.forEach(O=>{T=O.call({lexer:this},S),typeof T=="number"&&T>=0&&(w=Math.min(w,T))}),w<1/0&&w>=0&&(y=e.substring(0,w+1))}if(m=this.tokenizer.inlineText(y)){e=e.substring(m.raw.length),m.raw.slice(-1)!=="_"&&(a=m.raw.slice(-1)),o=!0;const w=t.at(-1);(w==null?void 0:w.type)==="text"?(w.raw+=m.raw,w.text+=m.text):t.push(m);continue}if(e){const w="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(w);break}else throw new Error(w)}}return t}}class sN{constructor(e){_i(this,"options");_i(this,"parser");this.options=e||S0}space(e){return""}code({text:e,lang:t,escaped:r}){var a;const i=(a=(t||"").match(qa.notSpaceStart))==null?void 0:a[0],o=e.replace(qa.endingNewline,"")+`
`;return i?'<pre><code class="language-'+vf(i)+'">'+(r?o:vf(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:vf(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,r=e.start;let i="";for(let c=0;c<e.items.length;c++){const u=e.items[c];i+=this.listitem(u)}const o=t?"ol":"ul",a=t&&r!==1?' start="'+r+'"':"";return"<"+o+a+`>
`+i+"</"+o+`>
`}listitem(e){var r;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+vf(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let o=0;o<e.header.length;o++)r+=this.tablecell(e.header[o]);t+=this.tablerow({text:r});let i="";for(let o=0;o<e.rows.length;o++){const a=e.rows[o];r="";for(let c=0;c<a.length;c++)r+=this.tablecell(a[c]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${vf(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){const i=this.parser.parseInline(r),o=aK(e);if(o===null)return i;e=o;let a='<a href="'+e+'"';return t&&(a+=' title="'+vf(t)+'"'),a+=">"+i+"</a>",a}image({href:e,title:t,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));const o=aK(e);if(o===null)return vf(r);e=o;let a=`<img src="${e}" alt="${r}"`;return t&&(a+=` title="${vf(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:vf(e.text)}}class H7{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class yu{constructor(e){_i(this,"options");_i(this,"renderer");_i(this,"textRenderer");this.options=e||S0,this.options.renderer=this.options.renderer||new sN,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new H7}static parse(e,t){return new yu(t).parse(e)}static parseInline(e,t){return new yu(t).parseInline(e)}parse(e,t=!0){var i,o;let r="";for(let a=0;a<e.length;a++){const c=e[a];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[c.type]){const h=c,m=this.options.extensions.renderers[h.type].call({parser:this},h);if(m!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)){r+=m||"";continue}}const u=c;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let h=u,m=this.renderer.text(h);for(;a+1<e.length&&e[a+1].type==="text";)h=e[++a],m+=`
`+this.renderer.text(h);t?r+=this.renderer.paragraph({type:"paragraph",raw:m,text:m,tokens:[{type:"text",raw:m,text:m,escaped:!0}]}):r+=m;continue}default:{const h='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return r}parseInline(e,t=this.renderer){var i,o;let r="";for(let a=0;a<e.length;a++){const c=e[a];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[c.type]){const h=this.options.extensions.renderers[c.type].call({parser:this},c);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){r+=h||"";continue}}const u=c;switch(u.type){case"escape":{r+=t.text(u);break}case"html":{r+=t.html(u);break}case"link":{r+=t.link(u);break}case"image":{r+=t.image(u);break}case"strong":{r+=t.strong(u);break}case"em":{r+=t.em(u);break}case"codespan":{r+=t.codespan(u);break}case"br":{r+=t.br(u);break}case"del":{r+=t.del(u);break}case"text":{r+=t.text(u);break}default:{const h='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return r}}class Yk{constructor(e){_i(this,"options");_i(this,"block");this.options=e||S0}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?vu.lex:vu.lexInline}provideParser(){return this.block?yu.parse:yu.parseInline}}_i(Yk,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class QBe{constructor(...e){_i(this,"defaults",I7());_i(this,"options",this.setOptions);_i(this,"parse",this.parseMarkdown(!0));_i(this,"parseInline",this.parseMarkdown(!1));_i(this,"Parser",yu);_i(this,"Renderer",sN);_i(this,"TextRenderer",H7);_i(this,"Lexer",vu);_i(this,"Tokenizer",oN);_i(this,"Hooks",Yk);this.use(...e)}walkTokens(e,t){var i,o;let r=[];for(const a of e)switch(r=r.concat(t.call(this,a)),a.type){case"table":{const c=a;for(const u of c.header)r=r.concat(this.walkTokens(u.tokens,t));for(const u of c.rows)for(const h of u)r=r.concat(this.walkTokens(h.tokens,t));break}case"list":{const c=a;r=r.concat(this.walkTokens(c.items,t));break}default:{const c=a;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[c.type]?this.defaults.extensions.childTokens[c.type].forEach(u=>{const h=c[u].flat(1/0);r=r.concat(this.walkTokens(h,t))}):c.tokens&&(r=r.concat(this.walkTokens(c.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const a=t.renderers[o.name];a?t.renderers[o.name]=function(...c){let u=o.renderer.apply(this,c);return u===!1&&(u=a.apply(this,c)),u}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=t[o.level];a?a.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),i.extensions=t),r.renderer){const o=this.defaults.renderer||new sN(this.defaults);for(const a in r.renderer){if(!(a in o))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const c=a,u=r.renderer[c],h=o[c];o[c]=(...m)=>{let y=u.apply(o,m);return y===!1&&(y=h.apply(o,m)),y||""}}i.renderer=o}if(r.tokenizer){const o=this.defaults.tokenizer||new oN(this.defaults);for(const a in r.tokenizer){if(!(a in o))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const c=a,u=r.tokenizer[c],h=o[c];o[c]=(...m)=>{let y=u.apply(o,m);return y===!1&&(y=h.apply(o,m)),y}}i.tokenizer=o}if(r.hooks){const o=this.defaults.hooks||new Yk;for(const a in r.hooks){if(!(a in o))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const c=a,u=r.hooks[c],h=o[c];Yk.passThroughHooks.has(a)?o[c]=m=>{if(this.defaults.async)return Promise.resolve(u.call(o,m)).then(w=>h.call(o,w));const y=u.call(o,m);return h.call(o,y)}:o[c]=(...m)=>{let y=u.apply(o,m);return y===!1&&(y=h.apply(o,m)),y}}i.hooks=o}if(r.walkTokens){const o=this.defaults.walkTokens,a=r.walkTokens;i.walkTokens=function(c){let u=[];return u.push(a.call(this,c)),o&&(u=u.concat(o.call(this,c))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return vu.lex(e,t??this.defaults)}parser(e,t){return yu.parse(e,t??this.defaults)}parseMarkdown(e){return(r,i)=>{const o={...i},a={...this.defaults,...o},c=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&o.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const u=a.hooks?a.hooks.provideLexer():e?vu.lex:vu.lexInline,h=a.hooks?a.hooks.provideParser():e?yu.parse:yu.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(m=>u(m,a)).then(m=>a.hooks?a.hooks.processAllTokens(m):m).then(m=>a.walkTokens?Promise.all(this.walkTokens(m,a.walkTokens)).then(()=>m):m).then(m=>h(m,a)).then(m=>a.hooks?a.hooks.postprocess(m):m).catch(c);try{a.hooks&&(r=a.hooks.preprocess(r));let m=u(r,a);a.hooks&&(m=a.hooks.processAllTokens(m)),a.walkTokens&&this.walkTokens(m,a.walkTokens);let y=h(m,a);return a.hooks&&(y=a.hooks.postprocess(y)),y}catch(m){return c(m)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+vf(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}}}const f0=new QBe;function fi(n,e){return f0.parse(n,e)}fi.options=fi.setOptions=function(n){return f0.setOptions(n),fi.defaults=f0.defaults,kce(fi.defaults),fi};fi.getDefaults=I7;fi.defaults=S0;fi.use=function(...n){return f0.use(...n),fi.defaults=f0.defaults,kce(fi.defaults),fi};fi.walkTokens=function(n,e){return f0.walkTokens(n,e)};fi.parseInline=f0.parseInline;fi.Parser=yu;fi.parser=yu.parse;fi.Renderer=sN;fi.TextRenderer=H7;fi.Lexer=vu;fi.lexer=vu.lex;fi.Tokenizer=oN;fi.Hooks=Yk;fi.parse=fi;fi.options;fi.setOptions;fi.use;fi.walkTokens;fi.parseInline;yu.parse;vu.lex;const Fce=(n,e="expression",t={})=>{const{depth:r=0,specialDepthAccessors:i={}}=t;if(!["expression","unaryTest"].includes(e))return[];const o=e==="expression"?Tse(n):Pse(n),a=ZBe(o,n),c=function u(h){if(h.name==="PathExpression"){const m=W7(h)[0];return m.name==="Context"?u(m):Object.keys(i).length===0?r===0?[KBe(h,0)]:[]:Array.from(XBe(h,r,i))}if(r===0&&h.name==="VariableName")return[h.variableName];if(h.children){const m=h.children.reduce((y,w)=>y.concat(u(w)),[]);return h.name==="FilterContext"?m.filter(y=>y!=="item"):m}return[]}(a);return[...new Set(c)]},KBe=(n,e)=>W7(n)[e].variableName||null,XBe=(n,e,t)=>{let r=[{previous:null,current:e-1}];const i=new Set,o=W7(n);for(let a=0;a<o.length;a++){const c=o[a].variableName;c in t?r=t[c].reduce((h,m)=>[...h,...r.map(y=>({previous:y.current,current:y.current+m}))],[]).filter(h=>h.current>=-1):r=r.map(u=>({previous:u.current,current:u.current+1})),r.some(u=>u.previous===-1&&u.current===0)&&i.add(c)}return new Set(i)},W7=n=>{let e=n,t=[];for(;e.name==="PathExpression";)t.push(e.children[1]),e=e.children[0];return t.push(e),t.reverse()},ZBe=(n,e)=>{const t=[{children:[]}];return n.iterate({enter:r=>{const i={name:r.type.name,children:[]};r.type.name==="VariableName"&&(i.variableName=e.slice(r.from,r.to)),t.push(i)},leave:()=>{const r=t.pop();t[t.length-1].children.push(r)}}),JBe(t[0].children[0])},JBe=n=>{const e={name:"Root",children:[n]},t=r=>{if(r.children)for(let i=0;i<r.children.length;i++)if(r.children[i].name==="FilterExpression"){const o=r.children[i].children[0],a=r.children[i].children[2];r.children[i]=o;const c={name:"FilterContext",children:[a]};e.children.push(c),t(a)}else t(r.children[i])};return t(n),e};class $I{constructor(e){this._eventBus=e}isExpression(e){return Ii(e)&&e.startsWith("=")}getVariableNames(e,t={}){const{type:r="expression"}=t;if(!this.isExpression(e))return[];if(!["unaryTest","expression"].includes(r))throw new Error("Unknown expression type: "+r);return Fce(e,r)}evaluate(e,t={}){if(!e||!Ii(e)||!e.startsWith("="))return null;try{return m3e(e.slice(1),t)}catch(r){return this._eventBus.fire("error",{error:r}),null}}}$I.$inject=["eventBus"];class q7{constructor(){}isTemplate(e){return Ii(e)&&(e.startsWith("=")||/{{.*?}}/.test(e))}getVariableNames(e){if(!this.isTemplate(e))return[];const t=this._extractExpressionsWithDepth(e),r={parent:[-1,1],_parent_:[-1],this:[0,1],_this_:[0]};return t.reduce((i,{expression:o,depth:a})=>i.concat(Fce(o,"expression",{depth:a,specialDepthAccessors:r})),[])}evaluate(e,t={},r={}){const{debug:i=!1,strict:o=!1,buildDebugString:a=u=>" {{}} ",sanitizer:c=u=>u}=r;return oBe(e,t,{debug:i,strict:o,buildDebugString:a,sanitizer:c})}_extractExpressionsWithDepth(e){const t=N7.parse(e),r=Ece(t,e);return function i(o,a=0){if(["Feel","FeelBlock"].includes(o.name))return[{depth:a,expression:o.content}];if(o.name==="LoopSpanner"){const c=o.children[0].content,u=o.children.slice(1).reduce((h,m)=>h.concat(i(m,a+1)),[]);return[{depth:a,expression:c},...u]}return o.children.reduce((c,u)=>c.concat(i(u,a)),[])}(r)}}q7.$inject=[];const Ih=60*24,gr={DATE:"date",TIME:"time",DATETIME:"datetime"},cg={UTC_OFFSET:"utc_offset",UTC_NORMALIZED:"utc_normalized",NO_TIMEZONE:"no_timezone"},e6e={[gr.DATE]:"Date",[gr.TIME]:"Time",[gr.DATETIME]:"Date & Time"},t6e={[cg.UTC_OFFSET]:"UTC offset",[cg.UTC_NORMALIZED]:"UTC normalized",[cg.NO_TIMEZONE]:"No timezone"},bB=["subtype"],aN=["dateLabel"],Lce=["disallowPassedDates"],xB=["timeLabel"],$ce=["use24h"],lN=["timeInterval"],cN=["timeSerializingFormat"],Ui={STATIC:"static",INPUT:"input",EXPRESSION:"expression"},n6e=Ui.STATIC,r6e={[Ui.STATIC]:"Static",[Ui.INPUT]:"Input data",[Ui.EXPRESSION]:"Expression"},xd={[Ui.STATIC]:["values"],[Ui.INPUT]:["valuesKey"],[Ui.EXPRESSION]:["valuesExpression"]},i6e={[Ui.STATIC]:[{label:"Value",value:"value"}],[Ui.INPUT]:"",[Ui.EXPRESSION]:"="};function U7(n){for(const e of Object.values(Ui))if(Xe(n,xd[e])!==void 0)return e;return n6e}const Rh="sandbox",$R="allow",wB=[{attribute:Rh,directive:"allow-scripts",property:"allowScripts",label:"Script execution"},{attribute:Rh,directive:"allow-same-origin",property:"allowSameOrigin",label:"Allow same origin"},{attribute:$R,directive:"fullscreen",property:"fullscreen",label:"Open in fullscreen"},{attribute:$R,directive:"geolocation",property:"geolocation",label:"Geolocation"},{attribute:$R,directive:"camera",property:"camera",label:"Camera access"},{attribute:$R,directive:"microphone",property:"microphone",label:"Microphone access"},{attribute:Rh,directive:"allow-forms",property:"allowForms",label:"Forms submission"},{attribute:Rh,directive:"allow-modals",property:"allowModals",label:"Open modal windows"},{attribute:Rh,directive:"allow-popups",property:"allowPopups",label:"Open popups"},{attribute:Rh,directive:"allow-top-navigation",property:"allowTopNavigation",label:"Top level navigation"},{attribute:Rh,directive:"allow-storage-access-by-user-activation",property:"allowStorageAccessByUserActivation",label:"Storage access by user"}];function jce(n){const e=new cse(n);return e.init(),e}function Bce(n="fjs"){const e=document.createElement("div");return e.classList.add(`${n}-container`),e}function Wo(n,{errors:e=[],disabled:t=!1,readonly:r=!1}={}){if(!n)throw new Error("type required");return gn("fjs-form-field",`fjs-form-field-${n}`,{"fjs-has-errors":e.length>0,"fjs-disabled":t,"fjs-readonly":r})}function o6e(n){const{layout:e={}}=n,{columns:t}=e;return gn("fjs-layout-column",`cds--col${t?"-lg-"+t:""}`,"cds--col-sm-16","cds--col-md-16")}function s6e(n){if(typeof n!="string")return null;for(const e of n.split(`
`)){const t=e.trim();if(t!=="")return t}return null}function sw(n,e,t){let r="fjs-form";return e&&(r+=`-${e}`),r+=`-${n}`,Object.values(t||{}).forEach(i=>{r+=`_${i}`}),r}const $g=$l({Empty:n=>null,Hidden:n=>null,Children:n=>B("div",{class:n.class,style:n.style,children:n.children}),Element:n=>B("div",{class:n.class,style:n.style,children:n.children}),Row:n=>B("div",{class:n.class,style:n.style,children:n.children}),Column:n=>n.field.type==="default"?n.children:B("div",{class:n.class,style:n.style,children:n.children}),hoverInfo:{cleanup:()=>{}}}),qf=$l({data:null,this:null,parent:null,i:null});function a6e(n,e){}const $w=$l({getService:a6e,formId:null});function di(n,e){const{getService:t}=_r($w);return t(n,e)}function Tl(n,e){return JSON.parse(JSON.stringify(n,e))}function _B(n,e){(n.components||[]).forEach((r,i)=>{_B(r,e)}),e(n)}function l6e(n){const e={};for(const[t,r]of Object.entries(n))e[`_${t}_`]=r;return e}function jw(n){const{data:e,...t}=n;return{...t,...e,...l6e(t)}}function G7(n,e,t){return n&&n.isExpression(e)?n.evaluate(e,jw(t)):e}function c6e(n){const e=di("conditionChecker",!1),t=_r(qf);return Jt(()=>e?e.check(n,jw(t)):null,[e,n,t])}function Vce(n,e){const{valuesExpression:t,valuesKey:r,values:i}=n;return t?null:r?Xe(e,[r]):i}function Y7(n){return n.filter(zce).map(u6e).filter(e=>!fp(e))}function jI(n={}){const e={};return!n.valuesKey&&!n.valuesExpression&&(e.values=[{label:"Value",value:"value"}]),{...e,...n}}function u6e(n){if(EB(n))return{value:n,label:`${n}`};if(ku(n)){const e=d6e(n.label);if(!e&&EB(n.value))return{value:n.value,label:`${n.value}`};if(e&&zce(n.value))return n}return null}function EB(n){return["number","string","boolean"].includes(typeof n)&&(n||n===0||n===!1)}function d6e(n){return n&&Ii(n)}function zce(n){return ku(n)?Object.keys(n).length>0:EB(n)}function z2(n){const e=di("expressionLanguage"),t=_r(qf);return Jt(()=>G7(e,n,t),[e,t,n])}function Bw(n){const e=dn();return kw(n,e.current)||(e.current=n),e.current}const _u={LOADED:"loaded",ERROR:"error"};function H2(n){const{valuesExpression:e,valuesKey:t,values:r}=n,i=di("form")._getState().initialData,o=z2(e),a=Bw(o||[]);return Jt(()=>{let u=[];if(t!==void 0){const h=(i||{})[t];h&&Array.isArray(h)&&(u=h)}else if(r!==void 0)u=Array.isArray(r)?r:[];else if(e&&a&&Array.isArray(a))u=a;else return f6e("No options source defined in the form definition");return h6e(Y7(u))},[t,r,i,e,a])}const f6e=n=>({options:[],error:n,loadState:_u.ERROR}),h6e=n=>({options:n,error:void 0,loadState:_u.LOADED}),Hce=n=>{const{html:e,transform:t=c=>c,sanitize:r=!0,sanitizeStyleTags:i=!0}=n,o=Jt(()=>r?lNe.sanitize(e,p6e(i)):e,[e,r,i]);return{__html:Jt(()=>t(o),[o,t])}},p6e=n=>({FORCE_BODY:!0,FORBID_TAGS:n?["style"]:[]});function m6e(n){const e=Bw(n),t=Jt(()=>wB.filter(({attribute:i})=>i===Rh).filter(({property:i})=>Xe(e,[i],!1)).map(({directive:i})=>i).join(" "),[e]),r=Jt(()=>wB.filter(({attribute:i})=>i!==Rh).filter(({property:i})=>Xe(e,[i],!1)).map(({directive:i})=>i).join("; "),[e]);return[t,r]}function Q7(n){const e=Jt(()=>Object.assign({},...n.map(t=>({[uK(t.value)]:t.label}))),[n]);return ln(t=>e[uK(t)],[e])}const uK=n=>ku(n)?JSON.stringify(n):n;function g6e(n,e){return n.querySelectorAll("style").forEach(r=>{const o=v6e(r.textContent).map(a=>{const{selector:c,styles:u}=y6e(a);return`${b6e(c,e)} ${u}`}).join(" ");r.textContent=o}),n}function v6e(n){let e=0,t=0,r=0;const i=[];for(;e<n.length;)n[e]==="{"&&r++,n[e]==="}"&&(r--,r===0&&(i.push(n.substring(t,e+1)),t=e+1)),e++;return i.map(o=>o.trim())}function y6e(n){const e=n.indexOf("{"),t=n.substring(0,e),r=n.substring(e);return{selector:t,styles:r}}function b6e(n,e){return n.split(",").map(t=>`${e} ${t.trim()}`).join(", ")}function Wce(n){for(;n&&n!==document.body&&n!==document.documentElement;){if(p4(n))return n;n=n.parentElement}return p4(document.body)?document.body:p4(document.documentElement)?document.documentElement:null}function p4(n){const e=window.getComputedStyle(n),t=e.overflowY||e.overflow;return(t==="auto"||t==="scroll")&&n.scrollHeight>n.clientHeight}const x6e={},w6e=[];function _6e(n,e,t,r){const i=t||x6e,o=r||w6e;kt(()=>{if(kke(o,N=>!N.current)||!n.current)return;for(let N=0;N<o.length;N++)o[N].current=!1;const a=n.current,c=Wce(a);if(!c)return;const u=a.getBoundingClientRect(),h=c.getBoundingClientRect(),{align:m="center",offset:y=0,behavior:w="auto",scrollIfVisible:S=!1}=i;if(!(S||!(u.top>=h.top&&u.bottom<=h.bottom)))return;const O=E6e(a,c,{align:m,offset:y});c.scroll({top:O,behavior:w})},e)}function E6e(n,e,t){const r=n.getBoundingClientRect(),i=e.getBoundingClientRect();return t.align==="top"?r.top-i.top+e.scrollTop-t.offset:t.align==="bottom"?r.bottom-i.top-e.clientHeight+e.scrollTop+t.offset:t.align==="center"?r.top-i.top-e.clientHeight/2+e.scrollTop+r.height/2+t.offset:0}function S6e(n){const e=di("expressionLanguage"),t=_r(qf);return Jt(()=>{const r=G7(e,n,t);return typeof r=="boolean"?r:!1},[e,t,n])}function k6e(){const{initialData:n,data:e}=di("form")._getState(),t=di("conditionChecker",!1);return Jt(()=>{const r=t?t.applyConditions(e,e):e;return{...n,...r}},[t,e,n])}function m4(n,e,t=window){function r({key:i}){i===n&&e()}kt(()=>(t.addEventListener("keydown",r),()=>{t.removeEventListener("keydown",r)}))}function C6e(n,e={}){const t=di("expressionLanguage"),r=di("conditionChecker",!1),i=_r(qf),{readonly:o}=n;return e.readOnly?!0:t&&t.isExpression(o)?r?r.check(o,jw(i)):!1:o||!1}function dK(n,e=null){const t=dn(e);return kt(()=>t.current=n,[n]),t.current}function K7(n){const e=dn(null),t=dn(null),r=di("config",!1),i=r&&r.debounce,o=i!==!1&&i!==0,a=typeof i=="number"?i:300,c=ln((...h)=>{if(!o){n(...h);return}t.current=h,e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{n(...t.current),t.current=null},a)},[n,a,o]),u=ln(()=>{e.current&&(clearTimeout(e.current),t.current!==null&&(n(...t.current),t.current=null),e.current=null)},[n]);return[c,u]}function X7(n,e={}){const t=di("templating"),r=_r(qf);return Jt(()=>t&&t.isTemplate(n)?t.evaluate(n,jw(r),e):n,[t,n,r,e])}function Dd(n,e={}){const t=X7(n,e);return Jt(()=>t&&t.split(`
`)[0],[t])}const fK=new KeyboardEvent("keydown",{code:"Enter",key:"Enter",charCode:13,keyCode:13,bubbles:!0});function hK(n){if(!n)return;!n.isOpen&&n.open();const e=n.calendarContainer,t=e.querySelector(".flatpickr-day.selected")||e.querySelector(".flatpickr-day.today")||e.querySelector(".flatpickr-day");t&&t.focus()}function g4(n,e){if(e===null)return null;const t=e%(24*60),r=e%60;let i=Math.floor(t/60);if(n)return wd(i)+":"+wd(r);i=i%12||12;const o=t>=12*60;return wd(i)+":"+wd(r)+" "+(o?"PM":"AM")}function pK(n){let e=n.toLowerCase();if(e.includes("am")||e.includes("pm")){const r=e.includes("pm"),i=e.match(/\d+/g),o=parseInt(i&&i[0]),a=parseInt(i&&i[1])||0,c=pa(o)&&o>=1&&o<=12,u=a>=0&&a<=59;return!c||!u?null:(o%12+(r?12:0))*60+a}else{const r=e.match(/\d+/g),i=parseInt(r&&r[0]),o=parseInt(r&&r[1]),a=pa(i)&&i>=0&&i<=23,c=pa(o)&&o>=0&&o<=59;return!a||!c?null:i*60+o}}function qce(n,e,t){if(t===cg.UTC_NORMALIZED){const o=(n+e+Ih)%Ih;return wd(Math.floor(o/60))+":"+wd(o%60)+"Z"}const r=wd(Math.floor(n/60))+":"+wd(n%60),i=t===cg.UTC_OFFSET;return r+(i?A6e(e):"")}function Uce(n){if(!n)return null;const e=r=>{const i=r.split(":"),o=parseInt(i[0]),a=i.length>1?parseInt(i[1]):0;return isNaN(o)||o<0||o>24||isNaN(a)||a<0||a>60?null:o*60+a},t=new Date().getTimezoneOffset();if(n.includes("Z")){n=n.replace("Z","");const r=e(n);return r===null?null:(r-t+Ih)%Ih}else if(n.includes("+")){const[r,i]=n.split("+"),o=e(r);let a=e(i);return o===null||a===null?null:(a=-a,(o+a-t+Ih)%Ih)}else if(n.includes("-")){const[r,i]=n.split("-"),o=e(r);let a=e(i);return o===null||a===null?null:(o+a-t+Ih)%Ih}else return e(n)}function Gce(n){return _n.fromJSDate(n).toISODate()}function O6e(n){if(!n||typeof n!="string")return!1;const e=n.split("T");return!(e.length!=2||e[0].split("-").length!=3)}function T6e(n){return!(!n||typeof n!="string"||n.includes("T")||n.split("-").length!=3)}function P6e(n,e,t){const r=new Date;if(r.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setHours(Math.floor(e/60),e%60,0,0),t===cg.UTC_NORMALIZED){const i=r.getTimezoneOffset(),o=e+i<0?-1:e+i>Ih?1:0;r.setHours(r.getHours()+o*24)}return Gce(r)+"T"+qce(e,r.getTimezoneOffset(),t)}function A6e(n){return R6e(n)+":"+wd(Math.abs(n%60))}function mK(n){return isNaN(new Date(Date.parse(n)).getTime())}function gK(){return{date:new Date(Date.parse(null)),time:null}}function nk(n){return n&&!isNaN(n.getTime())}function jR(n){return!isNaN(parseInt(n))}function R6e(n){return n>0?"-"+wd(Math.floor(n/60)):"+"+wd(Math.floor((0-n)/60))}function wd(n){return n.toString().padStart(2,"0")}const M6e=/^(https?|data):.*/i,D6e=/^(https):\/\/*/i;function N6e(n){const{formField:e,value:t}=n,{subtype:r}=e;return typeof t!="string"||r===gr.DATE&&(mK(t)||!T6e(t))||r===gr.TIME&&Uce(t)===null||r===gr.DATETIME&&(mK(t)||!O6e(t))?null:t}function Cg(n,e){return Array.isArray(e)?e.some(t=>kw(n,t)):!1}function Yce(n){const{formField:e,data:t,value:r}=n,{valuesExpression:i}=e;try{if(i)return r;const o=Y7(Vce(e,t)).map(a=>a.value);return Cg(r,o)?r:null}catch{return null}}function Qce(n){const{formField:e,data:t,value:r}=n,{valuesExpression:i}=e;try{if(i)return r;const o=Y7(Vce(e,t)).map(a=>a.value);return r.filter(a=>Cg(a,o))}catch{return[]}}function Kce(n){return M6e.test(n)?n:""}function I6e(n){return D6e.test(n)?n:""}function F6e(n){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","{":"&#123;","}":"&#125;",":":"&#58;",";":"&#59;"};return n.replace(/[&<>"'{};:]/g,t=>e[t])}function Z7(n){const{field:e,options:t,loadState:r,onChange:i,value:o}=n;kt(()=>{if(r!==_u.LOADED)return;const a=t.map(u=>u.value);o&&!Cg(o,a)&&i({field:e,value:null})},[e,t,i,o,r])}function Xce(n){const{field:e,options:t,loadState:r,onChange:i,values:o}=n,a=Bw(o||[]);kt(()=>{if(r!==_u.LOADED)return;const c=t.map(h=>h.value);a.some(h=>!Cg(h,c))&&i({field:e,value:a.filter(h=>Cg(h,c))})},[e,t,i,a,r])}const Zce="button";function Jce(n){const{disabled:e,onFocus:t,onBlur:r,field:i}=n,{action:o="submit"}=i,a=Dd(i.label||"",{debug:!0});return B("div",{class:Wo(Zce),children:B("button",{class:"fjs-button",type:o,disabled:e,onFocus:()=>t&&t(),onBlur:()=>r&&r(),children:a})})}Jce.config={type:Zce,keyed:!1,name:"Button",group:"action",create:(n={})=>({label:"Button",action:"submit",...n})};function pp(n){const{description:e,id:t}=n,r=Dd(e||"",{debug:!0});return r?B("div",{id:t,class:"fjs-form-field-description",children:r}):null}function Ll(n){const{errors:e,id:t}=n;return e.length?B("div",{class:"fjs-form-field-error","aria-live":"polite",id:t,children:B("ul",{children:e.map((r,i)=>B("li",{children:r},i))})}):null}function zo(n){const{id:e,htmlFor:t,label:r,collapseOnEmpty:i=!0,required:o=!1}=n,a=Dd(r||"",{debug:!0});return B("label",{id:e,htmlFor:t,class:gn("fjs-form-field-label",{"fjs-incollapsible-label":!i},n.class),children:[n.children,a,o&&B("span",{class:"fjs-asterix","aria-hidden":!0,children:"*"})]})}const eue="checkbox";function tue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u=!1}=n,{description:h,label:m,validate:y={}}=a,{required:w}=y,S=({target:N})=>{n.onChange({value:N.checked})},T=`${r}-description`,O=`${r}-error-message`;return B("div",{class:gn(Wo(eue,{errors:t,disabled:e,readonly:c}),{"fjs-checked":u}),children:[B("div",{class:"fjs-inline-label",children:[B("input",{checked:u,class:"fjs-input",disabled:e,readOnly:c,id:r,type:"checkbox",onChange:S,onBlur:()=>i&&i(),onFocus:()=>o&&o(),required:w,"aria-invalid":t.length>0,"aria-describedby":[T,O].join(" ")}),B(zo,{htmlFor:r,label:m,required:w})]}),B(pp,{id:T,description:h}),B(Ll,{id:O,errors:t})]})}tue.config={type:eue,keyed:!0,name:"Checkbox",group:"selection",emptyValue:!1,sanitizeValue:({value:n})=>n===!0,create:(n={})=>({label:"Checkbox",...n})};const nue="checklist";function rue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u=[]}=n,{description:h,label:m,validate:y={}}=a,w=dn(),{required:S}=y,T=z=>{const X=Cg(z,u)?u.filter(Z=>!kw(Z,z)):[...u,z];n.onChange({value:X})},O=z=>{w.current.contains(z.relatedTarget)||i&&i()},N=z=>{w.current.contains(z.relatedTarget)||o&&o()},{loadState:D,options:F}=H2(a);Xce({field:a,loadState:D,options:F,values:u,onChange:n.onChange});const I=`${r}-description`,R=`${r}-error-message`;return B("div",{class:gn(Wo(nue,{errors:t,disabled:e,readonly:c})),ref:w,children:[B(zo,{label:m,required:S}),D==_u.LOADED&&F.map((z,X)=>{const Z=`${r}-${X}`,ae=Cg(z.value,u);return B("div",{className:gn("fjs-inline-label",{"fjs-checked":ae}),children:[B("input",{checked:ae,class:"fjs-input",disabled:e,readOnly:c,id:Z,type:"checkbox",onClick:()=>T(z.value),onBlur:O,onFocus:N,required:S,"aria-invalid":t.length>0,"aria-describedby":[I,R].join(" ")}),B(zo,{htmlFor:Z,label:z.label,required:!1})]},z.value)}),B(pp,{id:I,description:h}),B(Ll,{id:R,errors:t})]})}rue.config={type:nue,keyed:!0,name:"Checkbox group",group:"selection",emptyValue:[],sanitizeValue:Qce,create:(n={})=>({label:"Checkbox group",...jI(n)})};const v4=()=>!1,L6e=new Nl([32,36,1]);function iue(n){const e=dn(L6e.next()),{field:t,indexes:r,onChange:i}=n,o=di("formFields"),a=di("viewerCommands",!1),c=di("formFieldInstanceRegistry",!1),u=di("pathRegistry"),h=di("eventBus"),m=di("form"),{initialData:y,data:w,errors:S,properties:T}=m._getState(),{Element:O,Hidden:N,Column:D}=_r($g),{formId:F}=_r($w),[I,R]=Nt(!!a),z=o.get(t.type);if(!z)throw new Error(`cannot render field <${t.type}>`);const X=z.config,Z=_r(qf),ae=Jt(()=>u.getValuePath(t,{indexes:r}),[t,r,u]),ge=Jt(()=>Xe(y,ae),[y,ae]),_e=C6e(t,T),be=Xe(w,ae),he=!T.readOnly&&(T.disabled||t.disabled||!1),fe=c6e(t.conditional&&t.conditional.hide||null),pe=Jt(()=>c?c.syncInstance(e.current,{id:t.id,expressionContextInfo:Z,valuePath:ae,value:be,indexes:r,hidden:fe}):null,[c,t.id,Z,ae,be,r,fe]),Ce=pe?c.get(pe):null;kt(()=>{const Ue=e.current;if(c)return()=>c.cleanupInstance(Ue)},[c]),kt(()=>{if(!a)return;const Ue=()=>{R(!0)};return h.on("import.done",Ue),h.on("reset",Ue),()=>{h.off("import.done",Ue),h.off("reset",Ue)}},[h,a]),kt(()=>{const Ue=ge&&!kw(ge,[]);I&&Ue&&Ce&&(R(!1),a.updateFieldInstanceValidation(Ce,ge))},[Ce,I,ge,a]);const Ae=ln(()=>{const Ue=Xe(w,ae);I&&(R(!1),a.updateFieldInstanceValidation(Ce,Ue)),h.fire("formField.blur",{formField:t})},[w,h,t,Ce,I,ae,a]),We=ln(()=>{h.fire("formField.focus",{formField:t})},[h,t]),xe=ln(Ue=>{R(!1),i({field:t,indexes:r,fieldInstance:Ce,...Ue})},[i,t,Ce,r]);if(fe)return B(N,{field:t});const $e=`${sw(t.id,F,r)}`,Je=Xe(S,[t.id,...Object.values(r||{})])||[],Ne=B(z,{...n,disabled:he,errors:Je,domId:$e,onChange:he||_e?v4:xe,onBlur:he||_e?v4:Ae,onFocus:he||_e?v4:We,readonly:_e,value:be,fieldInstance:Ce});return X.escapeGridRender?Ne:B(D,{field:t,class:o6e(t),children:B(O,{class:"fjs-element",field:t,children:Ne})})}function J7(n){const{Children:e}=_r($g),{field:t,Empty:r}=n,{id:i}=t,o=di("repeatRenderManager",!1),a=o&&o.isFieldRepeating(i),c=o.Repeater,u=o.RepeatFooter;return a?B(j6e,{...n,ChildrenRoot:e,Empty:r,Repeater:c,RepeatFooter:u,repeatRenderManager:o}):B($6e,{...n,ChildrenRoot:e,Empty:r})}function $6e(n){const{ChildrenRoot:e,Empty:t,field:r}=n,{components:i=[]}=r,o=!i.length;return B(e,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:r,children:[B(SB,{...n}),o?B(t,{field:r}):null]})}function j6e(n){const{ChildrenRoot:e,repeatRenderManager:t,Empty:r,field:i,...o}=n,{components:a=[]}=i,c=Nt({isCollapsed:!0}),u=t.Repeater,h=t.RepeatFooter;return B(ki,{children:[B(e,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:i,children:[u?B(u,{...o,useSharedState:c,field:i,RowsRenderer:SB}):B(SB,{...o,field:i}),a.length?null:B(r,{field:i})]}),h?B(h,{...o,useSharedState:c,field:i}):null]})}function SB(n){const{field:e,indexes:t}=n,{id:r,verticalAlignment:i="start"}=e,o=di("formLayouter"),a=di("formFieldRegistry"),c=o.getRows(r),{Row:u}=_r($g);return B(ki,{children:[" ",c.map(h=>{const{components:m=[]}=h;return m.length?B(u,{row:h,class:"fjs-layout-row cds--row",style:{alignItems:i},children:m.map(y=>{const w=a.get(y);return w?tt(iue,{...n,key:y,field:w,indexes:t}):null})},h.id):null})," "]})}function oue(n){const{Empty:e}=_r($g),t={...n,Empty:e};return B(J7,{...t})}oue.config={type:"default",keyed:!1,label:null,group:null,create:(n={})=>({components:[],...n}),getSubheading:n=>n.id};var vK;function kB(){return kB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kB.apply(null,arguments)}var B6e=function(e){return tt("svg",kB({xmlns:"http://www.w3.org/2000/svg",width:14,height:15,fill:"none",viewBox:"0 0 28 30"},e),vK||(vK=tt("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2zM7 7V4H2v5h24V4h-5v3h-2V4H9v3zm-5 4v17h24V11z",clipRule:"evenodd"})))};function sue(n="default"){return new Intl.DateTimeFormat(n).formatToParts(new Date(Date.UTC(2020,5,5))).map(t=>{const r=t.value.length;switch(t.type){case"day":return"d".repeat(r);case"month":return"M".repeat(r);case"year":return"y".repeat(r);default:return t.value}}).join("")}function V6e(n){let e=sue(n).toLowerCase();return e.includes("mm")||(e=e.replace("m","mm")),e.includes("dd")||(e=e.replace("d","dd")),e}function z6e(n){return H6e(sue(n))}function H6e(n){const e={day:n.includes("dd"),month:n.includes("MM"),year:n.includes("yyyy")};return n=e.day?n.replace("dd","d"):n.replace("d","j"),n=e.month?n.replace("MM","m"):n.replace("M","n"),n=e.year?n.replace("yyyy","Y"):n.replace("yy","y"),n}function eV(n){const{pre:e,post:t,rootRef:r,inputRef:i,children:o,disabled:a,readonly:c,hasErrors:u}=n,h=()=>i&&i.current&&i.current.focus();return B("div",{class:gn("fjs-input-group",{"fjs-disabled":a,"fjs-readonly":c},{hasErrors:u}),ref:r,children:[e&&B("span",{class:"fjs-input-adornment border-right border-radius-left",onClick:h,children:[" ",Ii(e)?B("span",{class:"fjs-input-adornment-text",children:e}):e," "]}),o,t&&B("span",{class:"fjs-input-adornment border-left border-radius-right",onClick:h,children:[" ",Ii(t)?B("span",{class:"fjs-input-adornment-text",children:t}):t," "]})]})}function W6e(n){const{label:e,domId:t,collapseLabelOnEmpty:r,onDateTimeBlur:i,onDateTimeFocus:o,required:a,disabled:c,disallowPassedDates:u,date:h,readonly:m,setDate:y}=n,w=dn(),S=dn(),[T,O]=Nt(null),[N,D]=Nt(!1),[F,I]=Nt(!1),R=Bw(h);kt(()=>{!T||!T.config||(T.setDate(R,!0),D(!1))},[T,R]),kt(()=>{F&&(hK(T),I(!1))},[T,F]),kt(()=>{let ae={allowInput:!0,dateFormat:z6e(),static:!0,clickOpens:!1,minDate:u?"today":"01/01/1900",errorHandler:()=>{}};const ge=Jo(w.current,ae);O(ge);const _e=he=>{!ge.calendarContainer.contains(he.relatedTarget)&&he.relatedTarget!=w.current&&ge.close()},be=he=>{he.target.classList.contains("flatpickr-day")&&D(!1)};ge.config.onOpen=[()=>ge.calendarContainer.addEventListener("focusout",_e),()=>ge.calendarContainer.addEventListener("mousedown",be)],ge.config.onClose=[()=>ge.calendarContainer.removeEventListener("focusout",_e),()=>ge.calendarContainer.removeEventListener("mousedown",be)]},[u]),kt(()=>{!T||!T.config||(T.config.onChange=[ae=>y(new Date(ae)),()=>D(!1)])},[T,y]);const z=ln(ae=>{T&&(ae.code==="Escape"&&T.close(),ae.code==="ArrowDown"&&(N?(w.current.dispatchEvent(fK),D(!1),I(!0)):hK(T),ae.preventDefault()),ae.code==="Enter"&&D(!1))},[T,N]),X=ln(ae=>{!T||S.current.contains(ae.relatedTarget)||m||(T.open(),o(ae))},[T,m,o]),Z=ln(ae=>{ae.relatedTarget&&ae.relatedTarget.classList.contains("flatpickr-day")||(N&&(w.current.dispatchEvent(fK),D(!1)),i(ae))},[N,i]);return B("div",{class:"fjs-datetime-subsection",children:[B(zo,{htmlFor:t,label:e,collapseOnEmpty:r,required:a}),B(eV,{pre:B(B6e,{}),disabled:c,readonly:m,rootRef:S,inputRef:w,children:B("div",{class:"fjs-datepicker",style:{width:"100%"},children:B("input",{ref:w,type:"text",id:t,class:"fjs-input",disabled:c,readOnly:m,placeholder:V6e(),autoComplete:"off",onFocus:X,onBlur:Z,onKeyDown:z,onMouseDown:()=>!T.isOpen&&!m&&T.open(),onInput:()=>D(!0),"data-input":!0,"aria-describedby":n["aria-describedby"]})})})]})}var yK,bK;function CB(){return CB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CB.apply(null,arguments)}var q6e=function(e){return tt("svg",CB({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 28 29"},e),yK||(yK=tt("path",{fill:"currentColor",d:"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2z"})),bK||(bK=tt("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64M7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z",clipRule:"evenodd"})))};const U6e=n=>n,G6e=()=>{};function BI(n){const{listenerElement:e=window,values:t=[],getLabel:r=U6e,onValueSelected:i=G6e,height:o=235,emptyListMessage:a="No results",initialFocusIndex:c=0}=n,[u,h]=Nt(!1),[m,y]=Nt(c),[w,S]=Nt(!1),T=dn(),O=dn(),N=Jt(()=>t.length?t[m]:null,[m,t]),D=ln(I=>{y(R=>Math.min(Math.max(0,R+I),t.length-1))},[t.length]);kt(()=>{m!==0&&(!m||!t.length?y(0):m>=t.length&&y(t.length-1))},[m,t.length]),m4("ArrowUp",()=>{t.length&&(D(-1),h(!1))},e),m4("ArrowDown",()=>{t.length&&(D(1),h(!1))},e),m4("Enter",()=>{N&&i(N)},e),kt(()=>{const I=T.current.children;if(I.length&&!u){const R=I[m];R&&R.scrollIntoView({block:"nearest",inline:"nearest"})}},[m,u]),kt(()=>{S(!0)},[]);const F=(I,R)=>{(!O.current||O.current.x!==I.screenX&&O.current.y!==I.screenY)&&(O.current={x:I.screenX,y:I.screenY},h(!0),y(R))};return B("div",{ref:T,tabIndex:-1,class:"fjs-dropdownlist",onMouseDown:I=>I.preventDefault(),style:{maxHeight:o,scrollBehavior:w?"smooth":"auto"},children:[t.length>0&&t.map((I,R)=>B("div",{class:gn("fjs-dropdownlist-item",{focused:m===R}),onMouseMove:u?void 0:z=>F(z,R),onMouseEnter:u?()=>y(R):void 0,onMouseDown:z=>i(I),children:r(I)},I.value)),!t.length&&B("div",{class:"fjs-dropdownlist-empty",children:a})]})}function Y6e(n){const{label:e,collapseLabelOnEmpty:t,onDateTimeBlur:r,onDateTimeFocus:i,domId:o,required:a,disabled:c,readonly:u,use24h:h=!1,timeInterval:m,time:y,setTime:w}=n,S=Jt(()=>[1,5,10,15,30,60].includes(m)?m:15,[m]),T=dn(),[O,N]=Nt(!1),D=Jt(()=>S!==1,[S]),[F,I]=Nt("");kt(()=>{if(y===null){I("");return}const be=y-y%S;I(g4(h,be)),be!=y&&w(be)},[y,w,h,S]);const R=ln(be=>{const he=be||F;if(!he){w(null);return}const fe=pK(he);if(!pa(fe)){I(""),w(null);return}const pe=fe-fe%S;I(g4(h,pe)),w(pe)},[F,S,h,w]),z=Jt(()=>{const he=Math.floor(1440/S);return[...Array(he).keys()].map(fe=>g4(h,fe*S))},[S,h]),X=Jt(()=>{if(!z||!S)return null;if(y)return y/S;const be=pK(F);return be?(be-be%S)/S:Math.floor(z.length/2)},[F,y,S,z]),Z=be=>{switch(be.key){case"ArrowUp":be.preventDefault();break;case"ArrowDown":D&&N(!0),be.preventDefault();break;case"Escape":D&&N(!1);break;case"Enter":!O&&R();break}},ae=be=>{N(!1),R(),r(be)},ge=be=>{i(be),!u&&D&&N(!0)},_e=be=>{N(!1),R(be)};return B("div",{class:"fjs-datetime-subsection",children:[B(zo,{htmlFor:o,label:e,collapseOnEmpty:t,required:a}),B(eV,{pre:B(q6e,{}),inputRef:T,disabled:c,readonly:u,children:B("div",{class:"fjs-timepicker fjs-timepicker-anchor",children:[B("input",{ref:T,type:"text",id:o,class:"fjs-input",value:F,disabled:c,readOnly:u,placeholder:h?"hh:mm":"hh:mm --",autoComplete:"off",onInput:be=>{I(be.target.value),D&&N(!1)},onBlur:ae,onFocus:ge,onClick:()=>!u&&D&&N(!0),onKeyDown:Z,"data-input":!0,"aria-describedby":n["aria-describedby"]}),O&&B(BI,{values:z,height:150,onValueSelected:_e,listenerElement:T.current,initialFocusIndex:X})]})})]})}const aue="datetime";function lue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,onChange:c,readonly:u,value:h=""}=n,{description:m,id:y,dateLabel:w,timeLabel:S,validate:T={},subtype:O,use24h:N,disallowPassedDates:D,timeInterval:F,timeSerializingFormat:I}=a,{required:R}=T,{formId:z}=_r($w),X=dn(),[Z,ae]=Nt(gK()),[ge,_e]=Nt(null),be=Jt(()=>O===gr.DATE||O===gr.DATETIME,[O]),he=Jt(()=>O===gr.TIME||O===gr.DATETIME,[O]),fe=ln(le=>{le.relatedTarget&&X.current.contains(le.relatedTarget)||i&&i()},[i]),pe=ln(le=>{le.relatedTarget&&X.current.contains(le.relatedTarget)||o&&o()},[o]);kt(()=>{let{date:le,time:Ze}=gK();switch(O){case gr.DATE:{le=typeof h=="string"?_n.fromISO(h).toJSDate():new Date(NaN);break}case gr.TIME:{Ze=Uce(h);break}case gr.DATETIME:{le=new Date(Date.parse(h)),Ze=nk(le)?60*le.getHours()+le.getMinutes():null;break}}ae({date:le,time:Ze})},[O,h]);const Ce=ln(({date:le,time:Ze})=>{let Qe=null;O===gr.DATE&&nk(le)?Qe=Gce(le):O===gr.TIME&&jR(Ze)?Qe=qce(Ze,new Date().getTimezoneOffset(),I):O===gr.DATETIME&&nk(le)&&jR(Ze)&&(Qe=P6e(le,Ze,I)),h!==Qe&&c({value:Qe,field:a})},[h,a,c,O,I]);kt(()=>{if(ge){if(ge.refreshOnly)Ce(Z);else{const le={...Z,...ge};ae(le),Ce(le)}_e(null)}},[Ce,Z,ge]),kt(()=>{_e({refreshOnly:!0})},[I]);const Ae=Jt(()=>R||O!==gr.DATETIME?t:nk(Z.date)&&!jR(Z.time)||!nk(Z.date)&&jR(Z.time)?["Date and time must both be entered.",...t]:t,[R,O,Z,t]),We=ln(le=>{_e(Ze=>Ze?{...Ze,date:le}:{date:le})},[]),xe=ln(le=>{_e(Ze=>Ze?{...Ze,time:le}:{time:le})},[]),$e=Ae.length===0?void 0:`${sw(y,z)}-error-message`,Je=`${sw(y,z)}-description`,Ne={label:w,collapseLabelOnEmpty:!S,onDateTimeBlur:fe,onDateTimeFocus:pe,domId:`${r}-date`,required:R,disabled:e,disallowPassedDates:D,date:Z.date,readonly:u,setDate:We,"aria-describedby":[Je,$e].join(" ")},Ue={label:S,collapseLabelOnEmpty:!w,onDateTimeBlur:fe,onDateTimeFocus:pe,domId:`${r}-time`,required:R,disabled:e,readonly:u,use24h:N,timeInterval:F,time:Z.time,setTime:xe,"aria-describedby":[Je,$e].join(" ")};return B("div",{class:Wo(aue,{errors:Ae,disabled:e,readonly:u}),children:[B("div",{class:gn("fjs-vertical-group"),ref:X,children:[be&&B(W6e,{...Ne}),he&&be&&B("div",{class:"fjs-datetime-separator"}),he&&B(Y6e,{...Ue})]}),B(pp,{id:Je,description:m}),B(Ll,{errors:Ae,id:$e})]})}lue.config={type:aue,keyed:!0,name:"Date time",group:"basic-input",emptyValue:null,sanitizeValue:N6e,create:(n={},e)=>{const t={};return eo(t,bB,gr.DATE),e&&eo(t,aN,"Date"),{...t,...n}},getSubheading:n=>n.dateLabel||n.timeLabel};function cue(n){const{field:e,domId:t}=n,{label:r,type:i,showOutline:o}=e,{Empty:a}=_r($g),c={...n,Empty:a};return B("div",{className:gn(Wo(i),"fjs-form-field-grouplike",{"fjs-outlined":o}),role:"group","aria-labelledby":t,children:[B(zo,{id:t,label:r}),B(J7,{...c})]})}cue.config={type:"group",pathed:!0,name:"Group",group:"container",create:(n={})=>({label:"Group",components:[],showOutline:!0,...n})};const uue="iframe",Q6e=300;function tV(n){const{field:e,disabled:t,readonly:r,domId:i}=n,{height:o=Q6e,label:a,url:c,security:u={}}=e,h=Dd(c,{debug:!0}),m=Jt(()=>I6e(h),[h]),y=Dd(a,{debug:!0}),[w,S]=m6e(u),[T,O]=Nt(0);return kt(()=>{O(N=>N+1)},[w,S]),B("div",{class:Wo(uue,{disabled:t,readonly:r}),children:[B(zo,{htmlFor:i,label:y}),!h&&B(xK,{text:"No content to show."}),h&&m&&B("iframe",{src:m,title:y,height:o,class:"fjs-iframe",id:i,sandbox:w,allow:S},"iframe-"+T),h&&!m&&B(xK,{text:"External content couldn't be loaded."})]})}function xK(n){const{text:e="iFrame"}=n;return B("div",{class:"fjs-iframe-placeholder",children:B("p",{class:"fjs-iframe-placeholder-text",children:e})})}tV.config={type:uue,keyed:!1,name:"iFrame",group:"container",create:(n={})=>({label:"iFrame",security:{allowScripts:!0},...n})};var wK;function OB(){return OB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OB.apply(null,arguments)}var K6e=function(e){return tt("svg",OB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),wK||(wK=tt("path",{fillRule:"evenodd",d:"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3zm-9 8.889H18v2.222h18z"})))},_K;function TB(){return TB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TB.apply(null,arguments)}var X6e=function(e){return tt("svg",TB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),_K||(_K=tt("path",{d:"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23z"})))},EK;function PB(){return PB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},PB.apply(null,arguments)}var Z6e=function(e){return tt("svg",PB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),EK||(EK=tt("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.35 24.75H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 37.05H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 12.45H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414m12.007 14.977a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0 12.3a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0-24.6a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293",clipRule:"evenodd"})))},SK,kK,CK;function AB(){return AB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AB.apply(null,arguments)}var J6e=function(e){return tt("svg",AB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),SK||(SK=tt("path",{fillRule:"evenodd",d:"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06"})),kK||(kK=tt("path",{d:"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z"})),CK||(CK=tt("path",{fillRule:"evenodd",d:"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67"})))},OK,TK;function RB(){return RB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},RB.apply(null,arguments)}var e8e=function(e){return tt("svg",RB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),OK||(OK=tt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1"})),TK||(TK=tt("path",{d:"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1z"})))},PK,AK,RK;function MB(){return MB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},MB.apply(null,arguments)}var t8e=function(e){return tt("svg",MB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54},e),PK||(PK=tt("rect",{width:24,height:4,x:15,y:17,rx:1})),AK||(AK=tt("rect",{width:24,height:4,x:15,y:25,rx:1})),RK||(RK=tt("rect",{width:13,height:4,x:15,y:33,rx:1})))},MK;function DB(){return DB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DB.apply(null,arguments)}var DK=function(e){return tt("svg",DB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),MK||(MK=tt("path",{fill:"#000",fillRule:"evenodd",d:"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7zm0-4.656h2.7V32.82h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254zm5.4-2.418v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7v-1.253c0-.693-.604-1.254-1.35-1.254zm2.7 4.746h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254zm-5.4 2.418v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507z",clipRule:"evenodd"})))},NK;function NB(){return NB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},NB.apply(null,arguments)}var n8e=function(e){return tt("svg",NB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),NK||(NK=tt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1M35 28.444h7l-3.5 4zM35 26h7l-3.5-4z"})))},IK;function IB(){return IB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},IB.apply(null,arguments)}var r8e=function(e){return tt("svg",IB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),IK||(IK=tt("path",{d:"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10m0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16"})))},FK;function FB(){return FB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FB.apply(null,arguments)}var i8e=function(e){return tt("svg",FB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),FK||(FK=tt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-12 7h9l-4.5 6z"})))},LK;function LB(){return LB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LB.apply(null,arguments)}var o8e=function(e){return tt("svg",LB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),LK||(LK=tt("path",{fill:"currentColor",d:"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zM9 26h36v2H9zm13.293 7.707 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))},$K;function $B(){return $B=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$B.apply(null,arguments)}var s8e=function(e){return tt("svg",$B({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),$K||($K=tt("path",{fill:"currentColor",d:"M9 15v2h36v-2zm0 22v2h36v-2zm17.293-17.707a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zm-4 11.414 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))},jK;function jB(){return jB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jB.apply(null,arguments)}var a8e=function(e){return tt("svg",jB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),jK||(jK=tt("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795q.074.211.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096zm2.7-2.507v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507zm0-5.014V13.21H2.7v2.507zm-2.7-5.014h1.852a1.4 1.4 0 0 1-.502.096h1.275v-.096H5.4V9.45q0 .235-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45zm5.175.096h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1-2.7v1.795a1.4 1.4 0 0 1-.075-.445v1.254h.075v.096h1.275a1.4 1.4 0 0 1-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35zm-.075 5.11v2.508h2.7V13.21zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7V23.24zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm2.7 5.014h-1.852a1.4 1.4 0 0 1 .502-.096h-1.275v.096H48.6v1.254q0-.235.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35zm-5.175-.096h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35m27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35M43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05z",clipRule:"evenodd"})))},BK;function BB(){return BB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BB.apply(null,arguments)}var l8e=function(e){return tt("svg",BB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),BK||(BK=tt("path",{d:"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.5 15.5 0 0 1 2.4.14 3.4 3.4 0 0 1 1.41.55 3.5 3.5 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.6 3.6 0 0 1-1.09 1.4 3.9 3.9 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.8 1.8 0 0 0 1.1-.49 1.4 1.4 0 0 0 .41-1 1.5 1.5 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.5 11.5 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.7 1.7 0 0 0-.86-.62 9.3 9.3 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.1 7.1 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.3 5.3 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21"})))},VK;function VB(){return VB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VB.apply(null,arguments)}var c8e=function(e){return tt("svg",VB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),VK||(VK=tt("path",{fill:"currentColor",fillRule:"evenodd",d:"M47.008 12.15c1.625 0 2.942 1.36 2.942 3.039v23.622c0 1.678-1.317 3.039-2.942 3.039H6.992c-1.625 0-2.942-1.36-2.942-3.039V15.189c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H6.992c-.542 0-.98.454-.98 1.013V16.2h-.004v2.7h.003v19.911c0 .56.44 1.013.98 1.013h40.017c.542 0 .98-.453.98-1.013V18.9h.005v-2.7h-.004v-1.011c0-.56-.44-1.013-.98-1.013M14.934 26.055v-3.78h2.194v9.45h-2.194v-3.78h-3.29v3.78H9.45v-9.45h2.194v3.78zm4.388-1.89h2.194v7.56h2.193v-7.56h2.194v-1.89h-6.581zm14.26-1.89h2.193v9.45h-2.194V25.11l-1.645 3.78-1.645-3.78v6.615h-2.194v-9.45h2.194l1.645 3.78zm4.387 0h2.194v7.56h4.387v1.89h-6.581z",clipRule:"evenodd"})))},zK;function zB(){return zB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zB.apply(null,arguments)}var u8e=function(e){return tt("svg",zB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),zK||(zK=tt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M12.78 16.2v6.75c0 1.619-.635 3.059-1.618 4.05.983.991 1.618 2.431 1.618 4.05v6.75h3.51v2.7h-3.51c-1.289 0-2.34-1.213-2.34-2.7v-6.75c0-1.487-1.051-2.7-2.34-2.7v-2.7c1.289 0 2.34-1.213 2.34-2.7V16.2c0-1.487 1.051-2.7 2.34-2.7h3.51v2.7zm30.78 0v6.75c0 1.487 1.051 2.7 2.34 2.7v2.7c-1.289 0-2.34 1.213-2.34 2.7v6.75c0 1.487-1.051 2.7-2.34 2.7h-3.51v-2.7h3.51v-6.75c0-1.619.635-3.059 1.618-4.05-.983-.991-1.618-2.431-1.618-4.05V16.2h-3.51v-2.7h3.51c1.289 0 2.34 1.213 2.34 2.7M21.8 34.531q.7-.569.959-1.758l1.788-8.34h1.585l.387-1.828h-1.585l.405-1.878h1.585l.387-1.827H25.69q-1.271 0-1.972.569-.681.569-.94 1.758l-.294 1.378H21.34l-.387 1.827h1.142l-1.898 8.841h-1.585l-.387 1.827h1.622q1.272 0 1.953-.569m7.248-7.686-3.797 4.808h2.599l2.12-3.016h.22l.885 3.016h2.599l-1.677-4.36 3.778-4.688h-2.599l-2.12 2.947h-.22l-.885-2.947h-2.599z",clipRule:"evenodd"})))},HK;function HB(){return HB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},HB.apply(null,arguments)}var d8e=function(e){return tt("svg",HB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),HK||(HK=tt("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-32 4v10h-2V22z"})))},WK;function WB(){return WB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WB.apply(null,arguments)}var f8e=function(e){return tt("svg",WB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),WK||(WK=tt("path",{fillRule:"evenodd",d:"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1m-1.136 15.5.849.849-6.364 6.364-.849-.849zm.264 3.5.849.849-2.828 2.828-.849-.849zM13 19v10h-2V19z"})))},qK;function qB(){return qB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qB.apply(null,arguments)}var h8e=function(e){return tt("svg",qB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),qK||(qK=tt("path",{fill:"currentColor",fillRule:"evenodd",d:"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.77 8.77 0 0 1 39.825 27a8.77 8.77 0 0 1 8.775 8.775 8.77 8.77 0 0 1-8.775 8.775 8.77 8.77 0 0 1-8.775-8.775m12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0q-.155 2.632-.929 4.645c1.858-.826 3.304-2.58 3.923-4.645z",clipRule:"evenodd"})))},UK,GK;function UB(){return UB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UB.apply(null,arguments)}var p8e=function(e){return tt("svg",UB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),UK||(UK=tt("path",{fillRule:"evenodd",d:"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z",clipRule:"evenodd"})),GK||(GK=tt("path",{fillRule:"evenodd",d:"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73zM15 39v-8.754a1 1 0 0 0 .168-.135l5.893-5.893 6.684 6.685a1.91 1.91 0 0 0 2.41.238l2.657-1.77 6.02 6.02q.078.077.168.135V39z",clipRule:"evenodd"})))},YK;function GB(){return GB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GB.apply(null,arguments)}var m8e=function(e){return tt("svg",GB({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 54 54"},e),YK||(YK=tt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M42.545 12.273A2.455 2.455 0 0 1 45 14.727v24.546a2.455 2.455 0 0 1-2.455 2.454h-31.09A2.455 2.455 0 0 1 9 39.273V14.727a2.455 2.455 0 0 1 2.455-2.454zM27.818 40.09h14.727a.82.82 0 0 0 .819-.818v-4.91H27.818Zm-1.636-5.727v5.727H11.455a.82.82 0 0 1-.819-.818v-4.91zm1.636-1.637h15.546V27H27.818ZM26.182 27v5.727H10.636V27zm1.636-1.636h15.546v-5.728H27.818Zm-1.636-5.728v5.728H10.636v-5.728z",clipRule:"evenodd"})))},QK;function YB(){return YB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YB.apply(null,arguments)}var g8e=function(e){return tt("svg",YB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),QK||(QK=tt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175H27v2.362h-9.45a2.37 2.37 0 0 1-2.363-2.362v-28.35a2.37 2.37 0 0 1 2.363-2.363h11.813a1.07 1.07 0 0 1 .826.355l8.27 8.269a1.07 1.07 0 0 1 .353.826v5.907H36.45v-3.544h-7.088A2.37 2.37 0 0 1 27 19.912v-7.087h-9.45zm18.427-21.263-6.614-6.615v6.615zm4.253 18.664 3.308 3.308-1.654 1.653-3.308-3.307a6.35 6.35 0 0 1-3.307.945c-3.308 0-5.906-2.599-5.906-5.906 0-3.308 2.598-5.907 5.906-5.907s5.906 2.6 5.906 5.907a6.35 6.35 0 0 1-.945 3.307m-4.961-6.851c-2.008 0-3.544 1.536-3.544 3.544s1.536 3.543 3.544 3.543 3.544-1.535 3.544-3.543-1.536-3.544-3.544-3.544",clipRule:"evenodd"})))},KK;function QB(){return QB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QB.apply(null,arguments)}var v8e=function(e){return tt("svg",QB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),KK||(KK=tt("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175h6.75v2.363h-6.75a2.37 2.37 0 0 1-2.363-2.363v-28.35a2.37 2.37 0 0 1 2.363-2.362h11.813a1.07 1.07 0 0 1 .826.354l8.27 8.269a1.07 1.07 0 0 1 .353.827v7.256H36.45v-4.894h-7.088A2.37 2.37 0 0 1 27 19.913v-7.088h-9.45zm18.427-21.262-6.614-6.616v6.616zm-2.212 10.564-.015-.001h-.015a8.86 8.86 0 0 0-7.926 5.656l-.003.008a.9.9 0 0 0 0 .62l.003.008a8.85 8.85 0 0 0 7.926 5.655l.015.001h.015a8.86 8.86 0 0 0 7.926-5.656l.003-.008a.9.9 0 0 0 0-.62l-.003-.008a8.85 8.85 0 0 0-7.926-5.655M33.75 40.6c-2.456 0-5.088-1.802-6.107-4.151 1.019-2.349 3.651-4.151 6.107-4.151s5.088 1.802 6.107 4.151c-1.019 2.349-3.65 4.151-6.107 4.151m0-7.593a3.443 3.443 0 1 0 0 6.885 3.443 3.443 0 0 0 0-6.886Zm-.316 1.853a1.62 1.62 0 1 1 .632 3.178 1.62 1.62 0 0 1-.632-3.178",clipRule:"evenodd"})))};const jg=n=>({button:K6e,checkbox:X6e,checklist:Z6e,columns:DK,datetime:J6e,group:DK,iframe:h8e,image:p8e,number:n8e,expression:u8e,radio:r8e,select:i8e,separator:o8e,spacer:s8e,dynamiclist:a8e,taglist:e8e,text:l8e,html:c8e,textfield:d8e,textarea:f8e,table:m8e,filepicker:g8e,documentPreview:v8e,default:t8e})[n],due="image";function fue(n){const{field:e}=n,{alt:t,id:r,source:i}=e,o=jg(e.type),a=Dd(i,{debug:!0}),c=Jt(()=>Kce(a),[a]),u=Dd(t,{debug:!0}),{formId:h}=_r($w);return B("div",{class:Wo(due),children:[c&&B("div",{class:"fjs-image-container",children:B("img",{alt:u,src:c,class:"fjs-image",id:sw(r,h)})}),!c&&B("div",{class:"fjs-image-placeholder",children:B("span",{class:"fjs-image-placeholder-inner",children:B(o,{alt:"This is an image placeholder",width:"32",height:"32",viewBox:"0 0 56 56"})})})]})}fue.config={type:due,keyed:!1,name:"Image view",group:"presentation",create:(n={})=>n,getSubheading:n=>n.alt};function hue(n){const{pre:e,post:t}=n,r=Dd(e,{debug:!0}),i=Dd(t,{debug:!0});return B(eV,{...n,pre:r,post:i})}var XK;function KB(){return KB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},KB.apply(null,arguments)}var nV=function(e){return tt("svg",KB({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),XK||(XK=tt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0",clipRule:"evenodd"})))},ZK;function XB(){return XB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XB.apply(null,arguments)}var rV=function(e){return tt("svg",XB({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),ZK||(ZK=tt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0",clipRule:"evenodd"})))};function y8e(n){const e=Ns(n);return e.toString()===e.toFixed(0)?0:e.toFixed().split(".")[1].length||0}function ZB(n){return(typeof n=="number"||typeof n=="string")&&n!==""&&!isNaN(Number(n))}function b8e(n,e,t,r,i){if(e==="NaN")return!1;e=e.replace(",",".");const o=!e.includes(".")&&(n==="."||n===","),a=!e.includes("-")&&n==="-"&&t===0,c=/^[0-9]$/i.test(n),u=e===void 0?-1:e.indexOf("."),h=typeof i=="number"&&r===0&&u!==-1&&e.includes(".")&&e.split(".")[1].length>=i&&t>u;return(c||i!==0&&o||a)&&!h}function pue(n){return n==null||n===""}const mue="number";function iV(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,value:c,readonly:u}=n,{description:h,label:m,appearance:y={},validate:w={},decimalDigits:S,increment:T}=a,{prefixAdorner:O,suffixAdorner:N}=y,{required:D}=w,F=dn(),[I,R]=Nt(c),[z,X]=Nt(c),Z=ln(Ze=>iV.config.sanitizeValue({value:Ze,formField:a}),[a]),[ae,ge]=K7(n.onChange);dK(c)!==I&&ae({field:a,value:I});const be=()=>{ge&&ge(),i&&i()},he=()=>{o&&o()},fe=ln(Ze=>{if(pue(Ze)){X(""),R(null);return}if(Ze=Ze.replaceAll(",","."),Ze==="-"){X("-");return}if(isNaN(Number(Ze))){X("NaN"),R(null);return}X(Ze),R(Z(Ze))},[Z]),Ce=dK(c)!=c,Ae=Z(c)===Z(I);Ce&&!Ae&&fe(c&&c.toString()||"");const We=Jt(()=>Ns(T||(S?`1e-${S}`:"1")),[S,T]),xe=()=>{if(u)return;const Ze=ZB(I)?Ns(I):Ns(0),Qe=Ze.minus(Ze.mod(We));fe(Qe.plus(We).toFixed())},$e=()=>{if(u)return;const Ze=ZB(I)?Ns(I):Ns(0);if(Ze.mod(We).cmp(0)===0)fe(Ze.minus(We).toFixed());else{const Ct=Ze.minus(Ze.mod(We));fe(Ct.toFixed())}},Je=Ze=>{if(z==="NaN"&&(Ze.code==="Backspace"||Ze.code==="Delete")){fe(""),Ze.preventDefault();return}if(Ze.code==="ArrowUp"){xe(),Ze.preventDefault();return}if(Ze.code==="ArrowDown"){$e(),Ze.preventDefault();return}},Ne=Ze=>{const Qe=F.current.selectionStart,Ct=F.current.selectionStart-F.current.selectionEnd,Et=F.current.value;b8e(Ze.key,Et,Qe,Ct,S)||Ze.preventDefault()},Ue=`${r}-description`,le=`${r}-error-message`;return B("div",{class:Wo(mue,{errors:t,disabled:e,readonly:u}),children:[B(zo,{htmlFor:r,label:m,required:D}),B(hue,{disabled:e,readonly:u,pre:O,post:N,children:B("div",{class:gn("fjs-vertical-group",{"fjs-disabled":e,"fjs-readonly":u},{hasErrors:t.length}),children:[B("input",{ref:F,class:"fjs-input",disabled:e,readOnly:u,id:r,onKeyDown:Je,onKeyPress:Ne,onBlur:be,onFocus:he,onInput:Ze=>fe(Ze.target.value,!0),onPaste:Ze=>z==="NaN"&&Ze.preventDefault(),type:"text",autoComplete:"off",step:We,value:z,"aria-describedby":[Ue,le].join(" "),required:D,"aria-invalid":t.length>0}),B("div",{class:gn("fjs-number-arrow-container",{"fjs-disabled":e,"fjs-readonly":u}),children:[B("button",{type:"button",class:"fjs-number-arrow-up","aria-label":"Increment",onClick:()=>xe(),tabIndex:-1,children:B(rV,{})}),B("div",{class:"fjs-number-arrow-separator"}),B("button",{type:"button",class:"fjs-number-arrow-down","aria-label":"Decrement",onClick:()=>$e(),tabIndex:-1,children:B(nV,{})})]})]})}),B(pp,{id:Ue,description:h}),B(Ll,{id:le,errors:t})]})}iV.config={type:mue,keyed:!0,name:"Number",group:"basic-input",emptyValue:null,sanitizeValue:({value:n,formField:e})=>pue(n)||!ZB(n)?null:e.serializeToString?n.toString():Number(n),create:(n={})=>({label:"Number",...n})};const gue="radio";function vue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u}=n,{description:h,label:m,validate:y={}}=a,w=dn(),{required:S}=y,T=z=>{n.onChange({value:z})},O=z=>{w.current.contains(z.relatedTarget)||i&&i()},N=z=>{w.current.contains(z.relatedTarget)||o&&o()},{loadState:D,options:F}=H2(a);Z7({field:a,loadState:D,options:F,value:u,onChange:n.onChange});const I=`${r}-description`,R=`${r}-error-message`;return B("div",{class:Wo(gue,{errors:t,disabled:e,readonly:c}),ref:w,children:[B(zo,{label:m,required:S}),D==_u.LOADED&&F.map((z,X)=>{const Z=`${r}-${X}`,ae=kw(z.value,u);return B("div",{className:gn("fjs-inline-label",{"fjs-checked":ae}),children:[B("input",{checked:ae,class:"fjs-input",disabled:e,readOnly:c,name:r,id:Z,type:"radio",onClick:()=>T(z.value),onBlur:O,onFocus:N,"aria-describedby":[I,R].join(" "),required:S,"aria-invalid":t.length>0}),B(zo,{htmlFor:Z,label:z.label,class:gn({"fjs-checked":ae}),required:!1})]},z.value)}),B(pp,{id:I,description:h}),B(Ll,{id:R,errors:t})]})}vue.config={type:gue,keyed:!0,name:"Radio group",group:"selection",emptyValue:null,sanitizeValue:Yce,create:(n={})=>({label:"Radio group",...jI(n)})};var JK;function JB(){return JB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JB.apply(null,arguments)}var oV=function(e){return tt("svg",JB({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),JK||(JK=tt("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0",clipRule:"evenodd"})))};function x8e(n){const{domId:e,disabled:t,errors:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u}=n,[h,m]=Nt(""),[y,w]=Nt(!1),[S,T]=Nt(!0),[O,N]=Nt(!1),D=dn(),F=di("eventBus"),{loadState:I,options:R}=H2(a);Z7({field:a,loadState:I,options:R,value:u,onChange:n.onChange});const z=Q7(R),X=Jt(()=>u&&z(u),[u,z]);kt(()=>{m(X||"")},[X]);const Z=Jt(()=>I!==_u.LOADED?[]:!h||!S?R:R.filter(Ae=>Ae.label&&Ae.value&&Ae.label.toLowerCase().includes(h.toLowerCase())),[h,I,R,S]),ae=ln(Ae=>{m(Ae&&Ae.label||""),n.onChange({value:Ae&&Ae.value||null})},[n]),ge=Jt(()=>{const Ae={};return Ae.componentReady=!t&&!c&&I===_u.LOADED,Ae.displayCross=Ae.componentReady&&u!==null&&u!==void 0,Ae.displayDropdown=!t&&!c&&y&&!O,Ae},[t,y,O,I,c,u]),_e=ln(Ae=>{N(!1),w(!y);const We=D.current;y?We.blur():We.focus(),Ae.preventDefault()},[y]),be=({target:Ae})=>{N(!1),w(!0),T(!0),m(Ae.value||""),F.fire("formField.search",{formField:a,value:Ae.value||""})},he=ln(Ae=>{switch(Ae.key){case"ArrowUp":Ae.preventDefault();break;case"ArrowDown":{y||(w(!0),T(!1)),Ae.preventDefault();break}case"Escape":N(!0);break;case"Enter":O&&N(!1);break}},[y,O]),fe=ln(()=>{N(!1),w(!0),T(!1)},[]),pe=ln(()=>{N(!1),w(!0),o&&o()},[o]),Ce=ln(()=>{w(!1),m(X||""),i&&i()},[i,X]);return B(ki,{children:[B("div",{class:gn("fjs-input-group",{disabled:t,readonly:c},{hasErrors:r.length}),children:[B("input",{disabled:t,readOnly:c,class:"fjs-input",ref:D,id:e,onChange:be,type:"text",value:h,placeholder:"Search",autoComplete:"off",onKeyDown:he,onMouseDown:fe,onFocus:pe,onBlur:Ce,"aria-describedby":n["aria-describedby"]}),ge.displayCross&&B("span",{class:"fjs-select-cross",onMouseDown:Ae=>{ae(null),Ae.preventDefault()},children:[B(oV,{})," "]}),B("span",{class:"fjs-select-arrow",onMouseDown:Ae=>_e(Ae),children:ge.displayDropdown?B(rV,{}):B(nV,{})})]}),B("div",{class:"fjs-select-anchor",children:ge.displayDropdown&&B(BI,{values:Z,getLabel:Ae=>Ae.label,onValueSelected:Ae=>{ae(Ae),w(!1)},listenerElement:D.current})})]})}function w8e(n){const{domId:e,disabled:t,errors:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u}=n,[h,m]=Nt(!1),y=dn(),w=dn(),{loadState:S,options:T}=H2(a);Z7({field:a,loadState:S,options:T,value:u,onChange:n.onChange});const O=Q7(T),N=Jt(()=>u&&O(u),[u,O]),D=ln(Z=>{n.onChange({value:Z&&Z.value||null})},[n]),F=Jt(()=>{const Z={};return Z.componentReady=!t&&!c&&S===_u.LOADED,Z.displayCross=Z.componentReady&&u!==null&&u!==void 0,Z.displayDropdown=!t&&!c&&h,Z},[t,h,S,c,u]),I=ln(Z=>{const ae=w.current;t||!ae||(m(!h),h?ae.blur():ae.focus(),Z.preventDefault())},[t,h]),R=Jt(()=>u&&Ske(T,Z=>Z.value===u)||0,[T,u]),z=ln(()=>{c||(m(!0),o&&o())},[o,c]),X=ln(()=>{c||(m(!1),i&&i())},[i,c]);return B(ki,{children:[B("div",{ref:y,class:gn("fjs-input-group",{disabled:t,readonly:c},{hasErrors:r.length}),onFocus:z,onBlur:X,onMouseDown:I,children:[B("div",{class:gn("fjs-select-display",{"fjs-select-placeholder":!u}),id:`${e}-display`,children:N||"Select"}),!t&&B("input",{ref:w,id:e,class:"fjs-select-hidden-input",value:N,onFocus:z,onBlur:X,"aria-describedby":n["aria-describedby"]}),F.displayCross&&B("span",{class:"fjs-select-cross",onMouseDown:Z=>{D(null),Z.stopPropagation()},children:B(oV,{})}),B("span",{class:"fjs-select-arrow",children:F.displayDropdown?B(rV,{}):B(nV,{})})]}),B("div",{class:"fjs-select-anchor",children:F.displayDropdown&&B(BI,{values:T,getLabel:Z=>Z.label,initialFocusIndex:R,onValueSelected:Z=>{D(Z),m(!1)},listenerElement:y.current})})]})}const yue="select";function bue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,onChange:c,readonly:u,value:h}=n,{description:m,label:y,searchable:w=!1,validate:S={}}=a,{required:T}=S,O=`${r}-description`,N=`${r}-error-message`,D={domId:r,disabled:e,errors:t,onBlur:i,onFocus:o,field:a,value:h,onChange:c,readonly:u,required:T,"aria-invalid":t.length>0,"aria-describedby":[O,N].join(" ")};return B("div",{class:Wo(yue,{errors:t,disabled:e,readonly:u}),onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),F.stopPropagation())},children:[B(zo,{htmlFor:r,label:y,required:T}),w?B(x8e,{...D}):B(w8e,{...D}),B(pp,{id:O,description:m}),B(Ll,{id:N,errors:t})]})}bue.config={type:yue,keyed:!0,name:"Select",group:"selection",emptyValue:null,sanitizeValue:Yce,create:(n={})=>({label:"Select",...jI(n)})};const xue="separator";function wue(){return B("div",{class:Wo(xue),children:B("hr",{})})}wue.config={type:xue,keyed:!1,name:"Separator",group:"presentation",create:(n={})=>({...n})};const _ue="spacer";function Eue(n){const{field:e}=n,{height:t=60}=e;return B("div",{class:Wo(_ue),style:{height:t}})}Eue.config={type:_ue,keyed:!1,name:"Spacer",group:"presentation",create:(n={})=>({height:60,...n})};function Sue(n){const{field:e,domId:t,readonly:r}=n,{label:i,type:o,showOutline:a}=e,{Empty:c}=_r($g),u={...n,Empty:c};return B("div",{className:gn(Wo(o,{readonly:r}),"fjs-form-field-grouplike",{"fjs-outlined":a}),role:"group","aria-labelledby":t,children:[B(zo,{id:t,label:i}),B(J7,{...u})]})}Sue.config={type:"dynamiclist",pathed:!0,repeatable:!0,name:"Dynamic list",group:"container",create:(n={})=>({label:"Dynamic list",components:[],showOutline:!0,isRepeating:!0,allowAddRemove:!0,defaultRepetitions:1,...n})};function _8e(n){const{className:e,label:t,onSkip:r}=n,i=ln(o=>{o.key==="Enter"&&(o.preventDefault(),o.stopPropagation(),r())},[r]);return B("a",{href:"#",class:gn("fjs-skip-link",e),onKeyDown:i,children:t})}const kue="taglist";function Cue(n){const{disabled:e,errors:t=[],onFocus:r,domId:i,onBlur:o,field:a,readonly:c,value:u}=n,{description:h,label:m,validate:y={}}=a,{required:w}=y,[S,T]=Nt(""),[O,N]=Nt(!1),[D,F]=Nt(!1),I=dn(),R=dn(),z=di("eventBus"),{loadState:X,options:Z}=H2(a),ae=Bw(u||[]);Xce({field:a,loadState:X,options:Z,values:ae,onChange:n.onChange});const ge=Q7(Z),_e=Jt(()=>Z.length>ae.length,[Z.length,ae.length]),be=Jt(()=>{if(X!==_u.LOADED)return[];const Qe=Ct=>Ct.label.toLowerCase().includes(S.toLowerCase())&&!Cg(Ct.value,ae);return Z.filter(Qe)},[S,Z,ae,X]),he=Qe=>{T(""),ae.at(-1)!==Qe&&n.onChange({value:[...ae,Qe]})},fe=Qe=>{const Ct=ae.filter(Et=>!kw(Et,Qe));n.onChange({value:Ct})},pe=({target:Qe})=>{F(!1),T(Qe.value||""),z.fire("formField.search",{formField:a,value:Qe.value||""})},Ce=Qe=>{switch(Qe.key){case"ArrowUp":case"ArrowDown":Qe.preventDefault();break;case"Backspace":!S&&ae.length&&fe(ae[ae.length-1]);break;case"Escape":F(!0);break;case"Enter":D&&F(!1);break}},Ae=Qe=>{I.current.contains(Qe.relatedTarget)||o&&o()},We=Qe=>{I.current.contains(Qe.relatedTarget)||r&&r()},xe=Qe=>{c||(N(!1),T("")),Ae(Qe)},$e=Qe=>{c||N(!0),We(Qe)},Je=(Qe,Ct)=>{const{target:Et}=Qe;fe(Ct),Et.closest(".fjs-taglist-tag").nextSibling||R.current.focus()},Ne=()=>{R.current.focus()},Ue=Jt(()=>!e&&X===_u.LOADED&&O&&!D,[e,O,D,X]),le=`${i}-description`,Ze=`${i}-error-message`;return B("div",{ref:I,class:Wo(kue,{errors:t,disabled:e,readonly:c}),onKeyDown:Qe=>{Qe.key==="Enter"&&(Qe.stopPropagation(),Qe.preventDefault())},children:[B(zo,{label:m,required:w,htmlFor:i}),!e&&!c&&!!ae.length&&B(_8e,{className:"fjs-taglist-skip-link",label:"Skip to search",onSkip:Ne}),B("div",{class:gn("fjs-taglist",{"fjs-disabled":e,"fjs-readonly":c}),children:[X===_u.LOADED&&B("div",{class:"fjs-taglist-tags",children:ae.map(Qe=>B("div",{class:gn("fjs-taglist-tag",{"fjs-disabled":e,"fjs-readonly":c}),onMouseDown:Ct=>Ct.preventDefault(),children:[B("span",{class:"fjs-taglist-tag-label",children:ge(Qe)}),!e&&!c&&B("button",{type:"button",title:"Remove tag",class:"fjs-taglist-tag-remove",onFocus:We,onBlur:Ae,onClick:Ct=>Je(Ct,Qe),children:B(oV,{})})]},Qe))}),B("input",{disabled:e,readOnly:c,class:"fjs-taglist-input",ref:R,id:i,onChange:pe,type:"text",value:S,placeholder:e||c?void 0:"Search",autoComplete:"off",onKeyDown:Ce,onMouseDown:()=>F(!1),onFocus:$e,onBlur:xe,"aria-describedby":[le,Ze].join(" "),required:w,"aria-invalid":t.length>0})]}),B("div",{class:"fjs-taglist-anchor",children:Ue&&B(BI,{values:be,getLabel:Qe=>Qe.label,onValueSelected:Qe=>he(Qe.value),emptyListMessage:_e?"No results":"All values selected",listenerElement:R.current})}),B(pp,{id:le,description:h}),B(Ll,{id:Ze,errors:t})]})}Cue.config={type:kue,keyed:!0,name:"Tag list",group:"selection",emptyValue:[],sanitizeValue:Qce,create:(n={})=>({label:"Tag list",...jI(n)})};const E8e=3,S8e=1,k8e=["h1","h2","h3","h4","h5","h6","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong","table","thead","tbody","tr","th","td"],C8e=["align","alt","class","href","id","name","rel","target","src"],O8e=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,T8e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,P8e=document.createElement("form");function A8e(n){const e=new DOMParser().parseFromString(`<!DOCTYPE html>
<html><body><div>${n}`,"text/html");e.normalize();const t=e.body.firstChild;return t?(Oue(t),t.innerHTML):""}function Oue(n){if(n.nodeType===E8e)return;if(n.nodeType!==S8e)return n.remove();const e=n.tagName.toLowerCase();if(!k8e.includes(e))return n.remove();const t=n.attributes;for(let r=t.length;r--;){const i=t[r],o=i.name,a=o.toLowerCase(),c=i.value.trim();n.removeAttribute(o),R8e(e,a,c)&&n.setAttribute(o,c)}e==="a"&&n.getAttribute("target")==="_blank"&&n.getAttribute("rel")!=="noopener"&&n.setAttribute("rel","noopener");for(let r=n.childNodes.length;r--;)Oue(n.childNodes[r])}function R8e(n,e,t){return!(!C8e.includes(e)||(e==="id"||e==="name")&&(t in document||t in P8e)||e==="target"&&t!=="_blank"||e==="href"&&!O8e.test(t.replace(T8e,"")))}const Tue="text";function VI(n){const e=di("form"),{textLinkTarget:t}=e._getState().properties,{field:r,disableLinks:i}=n,{text:o="",strict:a=!1}=r,c=di("markdownRenderer"),u=X7(o,{debug:!0,strict:a}),h=Jt(()=>c.render(u),[c,u]),m=ln(w=>{const S=A8e(w),T=document.createElement("div");return T.innerHTML=S,T.querySelectorAll("a").forEach(N=>{i&&(N.setAttribute("class","fjs-disabled-link"),N.setAttribute("tabIndex","-1")),t&&N.setAttribute("target",t)}),T.innerHTML},[i,t]),y=Hce({html:h,transform:m,sanitize:!1,sanitizeStyleTags:!1});return B("div",{class:Wo(Tue),dangerouslySetInnerHTML:y})}VI.config={type:Tue,keyed:!1,name:"Text view",group:"presentation",create:(n={})=>({text:"# Text",...n}),getSubheading:n=>{s6e(n.text)}};const Pue="html";function zI(n){const e=di("form"),{textLinkTarget:t}=e._getState().properties,{field:r,disableLinks:i,domId:o}=n,{content:a="",strict:c=!1}=r,u=`${o}-style-scope`,h=X7(a,{debug:!0,strict:c,sanitizer:F6e}),m=ln(w=>{const S=document.createElement("div");return S.innerHTML=w,S.querySelectorAll("a").forEach(O=>{i&&(O.setAttribute("class","fjs-disabled-link"),O.setAttribute("tabIndex","-1")),t&&O.setAttribute("target",t)}),g6e(S,`.${u}`),S.innerHTML},[i,u,t]),y=Hce({html:h,transform:m,sanitize:!0,sanitizeStyleTags:!1});return B("div",{class:gn(Wo(Pue),u),dangerouslySetInnerHTML:y})}zI.config={type:Pue,keyed:!1,name:"HTML view",group:"presentation",create:(n={})=>({content:"",...n})};const M8e="expression";function sV(n){const{field:e,onChange:t,value:r}=n,{computeOn:i,expression:o}=e,a=z2(o),c=Bw(a),u=di("eventBus"),h=di("expressionLoopPreventer"),m=ln(()=>{t&&t({field:e,value:c,shouldNotRecompute:!0})},[e,c,t]);return kt(()=>{i!=="change"||cNe.isEqual(c,r)||!h.registerExpressionExecution(this)||m()}),kt(()=>{if(i==="presubmit")return u.on("presubmit",m),()=>u.off("presubmit",m)},[i,m,u]),null}sV.config={type:M8e,name:"Expression",group:"basic-input",keyed:!0,emptyValue:null,escapeGridRender:!0,create:(n={})=>({computeOn:"change",...n})};const Aue="textfield";function Rue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u=""}=n,{description:h,label:m,appearance:y={},validate:w={}}=a,{prefixAdorner:S,suffixAdorner:T}=y,{required:O}=w,[N,D]=K7(({target:Z})=>{n.onChange({value:Z.value})}),F=Z=>{N({target:Z.target})},I=()=>{D&&D(),i&&i()},R=()=>{o&&o()},z=`${r}-description`,X=`${r}-error-message`;return B("div",{class:Wo(Aue,{errors:t,disabled:e,readonly:c}),children:[B(zo,{htmlFor:r,label:m,required:O}),B(hue,{disabled:e,readonly:c,pre:S,post:T,children:B("input",{class:"fjs-input",disabled:e,readOnly:c,id:r,onInput:F,onBlur:I,onFocus:R,type:"text",value:u,"aria-describedby":[z,X].join(" "),required:O,"aria-invalid":t.length>0})}),B(pp,{id:z,description:h}),B(Ll,{id:X,errors:t})]})}Rue.config={type:Aue,keyed:!0,name:"Text field",group:"basic-input",emptyValue:"",sanitizeValue:({value:n})=>Ho(n)||ku(n)||fp(n)?"":typeof n=="string"?n.replace(/[\r\n\t]/g," "):String(n),create:(n={})=>({label:"Text field",...n})};const Mue="textarea";function Due(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u=""}=n,{description:h,label:m,validate:y={}}=a,{required:w}=y,S=dn(),[T,O]=K7(({target:z})=>{n.onChange({value:z.value})}),N=()=>{O&&O(),i&&i()},D=()=>{o&&o()},F=z=>{T({target:z.target}),y4(S.current)};s0(()=>{y4(S.current)},[u]),kt(()=>{y4(S.current)},[]);const I=`${r}-description`,R=`${r}-error-message`;return B("div",{class:Wo(Mue,{errors:t,disabled:e,readonly:c}),children:[B(zo,{htmlFor:r,label:m,required:w}),B("textarea",{class:"fjs-textarea",disabled:e,readOnly:c,id:r,onInput:F,onBlur:N,onFocus:D,value:u,ref:S,"aria-describedby":[I,R].join(" "),required:w,"aria-invalid":t.length>0}),B(pp,{id:I,description:h}),B(Ll,{id:R,errors:t})]})}Due.config={type:Mue,keyed:!0,name:"Text area",group:"basic-input",emptyValue:"",sanitizeValue:({value:n})=>Ho(n)||ku(n)||fp(n)?"":String(n),create:(n={})=>({label:"Text area",...n})};const y4=n=>{n.style.height="0px";const e=window.getComputedStyle(n),t=()=>{const c=parseInt(e.getPropertyValue("line-height").replace("px",""))||0;return(n.value?n.value.toString().split(`
`).length:0)*c},r=parseInt(e.getPropertyValue("border-top-width"))+parseInt(e.getPropertyValue("padding-top"))+(n.scrollHeight||t())+parseInt(e.getPropertyValue("padding-bottom"))+parseInt(e.getPropertyValue("border-bottom-width")),i=75,o=350,a=Math.max(Math.min(r||0,o),i);n.style.height=`${a}px`,n.style.overflow=r>o?"visible":"hidden"};var eX;function e6(){return e6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},e6.apply(null,arguments)}var D8e=function(e){return tt("svg",e6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),eX||(eX=tt("path",{fill:"currentcolor",d:"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10z"})))},tX;function t6(){return t6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},t6.apply(null,arguments)}var N8e=function(e){return tt("svg",t6({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),tX||(tX=tt("path",{fill:"currentcolor",d:"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14z"})))},nX;function n6(){return n6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},n6.apply(null,arguments)}var I8e=function(e){return tt("svg",n6({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},e),nX||(nX=tt("path",{fill:"currentcolor",d:"m20 24-10-8 10-8z"})))},rX;function r6(){return r6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r6.apply(null,arguments)}var F8e=function(e){return tt("svg",r6({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},e),rX||(rX=tt("path",{fill:"currentcolor",d:"m12 8 10 8-10 8z"})))};const Nue="table";function aV(n){const{field:e}=n,{columns:t=[],columnsExpression:r,dataSource:i="",rowCount:o,id:a,label:c}=e,[u,h]=Nt(null),m=L8e(r||"",t),y=m.map(({key:R})=>R),w=z2(i),S=Array.isArray(w)?w.filter(R=>!fp(R)||typeof R!="object"):[],T=u===null?S:j8e(S,u.key,u.direction),O=pa(o)?$8e(T,o):[T],[N,D]=Nt(0),F=O[N]||[];kt(()=>{D(0)},[o,u]);function I(R){h(z=>z===null||z.key!==R?{key:R,direction:"asc"}:z.direction==="desc"?null:{key:R,direction:"desc"})}return B("div",{class:Wo(Nue),children:[B(zo,{htmlFor:sw(a),label:c}),B("div",{class:gn("fjs-table-middle-container",{"fjs-table-empty":m.length===0}),children:[m.length===0?"Nothing to show.":B("div",{class:"fjs-table-inner-container",children:B("table",{class:"fjs-table",id:sw(a),children:[B("thead",{class:"fjs-table-head",children:B("tr",{class:"fjs-table-tr",children:m.map(({key:R,label:z})=>{const X=z||R;return B("th",{tabIndex:0,class:"fjs-table-th",onClick:()=>{I(R)},onKeyDown:Z=>{["Enter","Space"].includes(Z.code)&&I(R)},"aria-label":B8e(u,R,X),children:B("span",{class:"fjs-table-th-label",children:[X,u!==null&&u.key===R?B(ki,{children:u.direction==="asc"?B(N8e,{class:"fjs-table-sort-icon-asc"}):B(D8e,{class:"fjs-table-sort-icon-desc"})}):null]})},R)})})}),F.length===0?B("tbody",{class:"fjs-table-body",children:B("tr",{class:"fjs-table-tr",children:B("td",{class:"fjs-table-td",colSpan:m.length,children:"Nothing to show."})})}):B("tbody",{class:"fjs-table-body",children:F.map((R,z)=>B("tr",{class:"fjs-table-tr",children:y.map(X=>B("td",{class:"fjs-table-td",children:V8e(R[X])},X))},z))})]})}),pa(o)&&O.length>1&&m.length>0?B("nav",{class:"fjs-table-nav",children:[B("span",{class:"fjs-table-nav-label",children:[N+1," of ",O.length]}),B("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{D(R=>Math.max(R-1,0))},disabled:N===0,"aria-label":"Previous page",children:B(I8e,{})}),B("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{D(R=>Math.min(R+1,O.length-1))},disabled:N>=O.length-1,"aria-label":"Next page",children:B(F8e,{})})]}):null]})]})}aV.config={type:Nue,keyed:!1,name:"Table",group:"presentation",create:(n={})=>{const{id:e,columnsExpression:t,columns:r,rowCount:i,...o}=n;return E9(e)&&pa(i)&&(o.rowCount=i),Ii(t)?{...o,id:e,columnsExpression:t}:Array.isArray(r)&&r.every(Iue)?{...o,id:e,columns:r}:{...o,label:"Table",rowCount:10,columns:[{label:"ID",key:"id"},{label:"Name",key:"name"},{label:"Date",key:"date"}]}},generateInitialDemoData:n=>{const e=[{id:1,name:"John Doe",date:"31.01.2023"},{id:2,name:"Erika Muller",date:"20.02.2023"},{id:3,name:"Dominic Leaf",date:"11.03.2023"}],t=Object.keys(e[0]),{columns:r,id:i,dataSource:o}=n;if(!(!Array.isArray(r)||r.length===0||o!==`=${i}`)&&r.map(({key:a})=>a).every(a=>t.includes(a)))return e}};function L8e(n,e){const t=z2(n||"");return Array.isArray(t)&&t.every(Iue)?t:e}function Iue(n){return ku(n)&&Ii(n.label)&&Ii(n.key)}function $8e(n,e){return n.reduce((t,r,i)=>(i%e===0?t.push([r]):t[t.length-1].push(r),t),[])}function j8e(n,e,t){return[...n].sort((r,i)=>!ku(r)||!ku(i)?0:t==="asc"?r[e]>i[e]?1:-1:r[e]<i[e]?1:-1)}function B8e(n,e,t){return n===null||n.key!==e?`Click to sort by ${t} descending`:n.direction==="asc"?"Click to remove sorting":`Click to sort by ${t} ascending`}function V8e(n){return n!==null&&typeof n=="object"?JSON.stringify(n):`${n||""}`}const Fue="files::",z8e="filepicker",H8e=new Nl,W8e=[];function Lue(n){const e=dn(null),t=di("fileRegistry",!1),{field:r,onChange:i,domId:o,errors:a=[],disabled:c,readonly:u,value:h=""}=n,{label:m,multiple:y=!1,accept:w="",validate:S={}}=r,T=Dd(w,{debug:!0}),O=S6e(y),N=`${o}-error-message`,D=t===null?W8e:t.getFiles(h);kt(()=>{h&&t!==null&&!t.hasKey(h)&&i({value:null})},[t,h,i,D.length]),kt(()=>{const R=new DataTransfer;D.forEach(z=>R.items.add(z)),e.current.files=R.files},[D]);const F=R=>{const z=R.target;if((z.files===null||z.files.length===0)&&h!==""){t.deleteFiles(h),i({value:null});return}const X=Array.from(z.files),Z=h||H8e.nextPrefixed(Fue);t.setFiles(Z,X),i({value:Z})},I=c||u||t===null;return B("div",{className:Wo(z8e,{errors:a,disabled:c,readonly:u}),children:[B(zo,{htmlFor:o,label:m,required:S.required}),B("input",{type:"file",className:"fjs-hidden",ref:e,id:o,name:o,disabled:I,multiple:O||void 0,accept:T||void 0,onChange:F,required:S.required}),B("div",{className:"fjs-filepicker-container",children:[B("button",{type:"button",disabled:I,readOnly:u,className:"fjs-button fjs-filepicker-button",onClick:()=>{e.current.click()},children:"Browse"}),B("span",{className:"fjs-form-field-label",children:q8e(D)})]}),B(Ll,{id:N,errors:a})]})}Lue.config={type:"filepicker",keyed:!0,label:"File picker",group:"basic-input",emptyValue:null,create:(n={})=>({...n})};function q8e(n){return n.length===0?"No files selected":n.length===1?n[0].name:`${n.length} files selected`}var iX;function i6(){return i6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},i6.apply(null,arguments)}var U8e=function(e){return tt("svg",i6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),iX||(iX=tt("path",{fill:"currentColor",d:"M13 12v2H3v-2H2v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2zm0-5-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5z"})),tt("path",{d:"M0 0h16v16H0z",style:{fill:"none"}}))};const zh="documentPreview";function lV(n){const e=di("documentEndpointBuilder",!1),{field:t,domId:r}=n,{dataSource:i,maxHeight:o,label:a}=t,c=`${r}-error-message`,u=K8e(i||""),h=Dd(a,{debug:!0});return B("div",{class:Wo(zh),children:[B(zo,{htmlFor:r,label:h}),B("div",{class:`fjs-${zh}-document-container`,id:r,children:u.map((m,y)=>{const w=e9e(()=>e==null?void 0:e.buildUrl(m))??m.endpoint;return Y8e(w)?B(Z8e,{documentMetadata:m,endpoint:w,maxHeight:o,domId:`${r}-${y}`},m.documentId):null})}),B(Ll,{id:c,errors:G8e({dataSource:i})})]})}lV.config={type:zh,keyed:!1,group:"presentation",name:"Document preview",create:(n={})=>({label:"Document preview",...n})};function G8e(n){const{dataSource:e}=n;let t=[];return(!Ii(e)||e.length<1)&&t.push("Document reference is not defined."),t}function Y8e(n){return typeof n=="string"&&URL.canParse(n)}function Q8e(n){return typeof n=="object"&&n!==null&&"documentId"in n&&"metadata"in n&&typeof n.metadata=="object"&&"fileName"in n.metadata}function K8e(n){const e=z2(n);return Array.isArray(e)?e.filter(Q8e):[]}function X8e(n){const{url:e,onError:t,errorMessageId:r}=n,[i,o]=Nt(null),[a,c]=Nt(!1);return kt(()=>{let u=null;return(async()=>{try{const m=await fetch(e);if(!m.ok){c(!0),t();return}const y=await m.blob();u=URL.createObjectURL(y),o(u)}catch{c(!0),t()}})(),()=>{u&&URL.revokeObjectURL(u)}},[e,t]),B(ki,{children:[i!==null?B("embed",{src:i,type:"application/pdf",class:`fjs-${zh}-pdf-viewer`}):null,a?B(Ll,{id:r,errors:["Unable to download document"]}):null]})}function Z8e(n){const{documentMetadata:e,endpoint:t,maxHeight:r,domId:i}=n,{metadata:o}=e,[a,c]=Nt(!1),u=dn(null),h=J8e(u),m=`fjs-${zh}-single-document-container`,y=`${i}-error-message`,w="Unable to download document",S=typeof o.contentType=="string";return S&&o.contentType.toLowerCase().startsWith("image/")&&h?B("div",{class:m,style:{maxHeight:r},"aria-describedby":a?y:void 0,children:[B("img",{src:t,alt:o.fileName,class:`fjs-${zh}-image`}),B(oX,{endpoint:t,fileName:o.fileName,onDownloadError:()=>{c(!0)}}),a?B(Ll,{id:y,errors:[w]}):null]}):S&&o.contentType.toLowerCase()==="application/pdf"&&h?B("div",{class:m,style:{maxHeight:r},"aria-describedby":a?y:void 0,children:B(X8e,{url:t,fileName:o.fileName,onError:()=>c(!0),errorMessageId:y})}):B("div",{class:gn(`fjs-${zh}-non-preview-item`,`fjs-${zh}-single-document-container`),ref:u,"aria-describedby":a?y:void 0,children:[B("div",{children:[B("div",{class:"fjs-document-preview-title",children:o.fileName}),a?B(Ll,{id:y,errors:[w]}):null]}),B(oX,{endpoint:t,fileName:o.fileName,onDownloadError:()=>{c(!0)}})]})}function oX(n){const{endpoint:e,fileName:t,onDownloadError:r}=n;return B("button",{type:"button",onClick:async()=>{try{const o=await fetch(e);if(!o.ok){r();return}const a=await o.blob(),c=window.URL.createObjectURL(a),u=document.createElement("a");u.href=c,u.download=t,u.click(),window.URL.revokeObjectURL(c)}catch{r()}},class:gn(`fjs-${zh}-download-button`),"aria-label":`Download ${t}`,children:B(U8e,{})})}function J8e(n){const[e,t]=Nt(!1);return kt(()=>{const r=n.current;if(!r)return;const i=new IntersectionObserver(([o])=>{o.isIntersecting&&t(!0)},{threshold:0});return i.observe(r),()=>{r&&i.unobserve(r)}},[n]),e}const e9e=n=>{try{return n()}catch(e){return console.error(e),null}};function $ue(){return B("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14.02 5.57",width:"53",height:"21",style:"vertical-align:middle",children:[B("path",{fill:"currentColor",d:"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"}),B("path",{fill:"currentColor",d:"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"})]})}function t9e(n){const{open:e}=n;return e?B("div",{class:"fjs-powered-by-lightbox",style:"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0",children:[B("div",{class:"backdrop",style:"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)",onClick:n.onBackdropClick}),B("div",{class:"notice",style:"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3",children:[B("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",style:"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)",children:B($ue,{})}),B("span",{children:["Web-based tooling for BPMN, DMN, and forms powered by"," ",B("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",children:"bpmn.io"}),"."]})]})]}):null}function n9e(n){return B("div",{class:"fjs-powered-by fjs-form-field",style:"text-align: right",children:B("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",class:"fjs-powered-by-link",title:"Powered by bpmn.io",style:"color: var(--cds-text-primary, #404040)",onClick:n.onClick,children:B($ue,{})})})}function r9e(n){const[e,t]=Nt(!1);function r(i){return o=>{o.preventDefault(),t(i)}}return B(ki,{children:[yI(B(t9e,{open:e,onBackdropClick:r(!1)}),document.body),B(n9e,{onClick:r(!0)})]})}const b4=()=>{};function jue(n){const e=di("form"),{schema:t,properties:r}=e._getState(),{ariaLabel:i}=r,{onSubmit:o=b4,onReset:a=b4,onChange:c=b4}=n,u=w=>{w.preventDefault(),o()},h=w=>{w.preventDefault(),a()},m=k6e(),y=Jt(()=>({data:m,parent:null,this:m,i:[]}),[m]);return B("form",{class:"fjs-form",onSubmit:u,onReset:h,"aria-label":i,noValidate:!0,children:[B(qf.Provider,{value:y,children:B(iue,{field:t,onChange:c})}),B(r9e,{})]})}const i9e=[Rue,Due,iV,lue,sV,Lue,tue,rue,vue,bue,Cue,VI,fue,aV,zI,lV,Eue,wue,cue,Sue,tV,Jce,oue];class cV{constructor(){this._formFields={},i9e.forEach(e=>{this.register(e.config.type,e)})}register(e,t){this._formFields[e]=t}get(e){return this._formFields[e]}}const o9e=["alt","appearance.prefixAdorner","appearance.suffixAdorner","conditional.hide","description","label","source","readonly","text","validate.min","validate.max","validate.minLength","validate.maxLength","valuesExpression","url","dataSource","columnsExpression","expression","multiple","accept","title"],s9e=["alt","appearance.prefixAdorner","appearance.suffixAdorner","description","label","source","text","content","url","title"];function a9e(n,e={}){const{formFields:t=new cV,expressionLanguage:r=new $I(null),templating:i=new q7,inputs:o=!0,outputs:a=!0}=e;if(!n.components)return[];const c=m=>{const y=[];return m.components&&m.components.forEach(w=>{y.push(w),y.push(...c(w))}),y},u=c(n).reduce((m,y)=>{const{valuesKey:w}=y;return o&&(w&&(m=[...m,w]),o9e.forEach(S=>{const T=Xe(y,S.split("."));if(T&&r.isExpression(T)){const O=r.getVariableNames(T,{type:"expression"});m=[...m,...O]}}),s9e.forEach(S=>{const T=Xe(y,S.split("."));if(T&&!r.isExpression(T)&&i.isTemplate(T)){const O=i.getVariableNames(T);m=[...m,...O]}})),m.filter(S=>typeof S=="string")},[]),h=m=>{const y=[],w=t.get(m.type);return w&&w.config.keyed&&m.key?[m.key.split(".")[0]]:w&&w.config.pathed&&m.path?[m.path.split(".")[0]]:(m.components&&m.components.forEach(S=>{y.push(...h(S))}),y)};return(o||a)&&u.push(...h(n)),Array.from(new Set(u))}const Qk=(n,e)=>{const t=[];let r=e.get(n);for(;r;)t.push(r.id),r=e.get(r._parent);return t};class Bue{constructor(e,t,r){this._formFieldRegistry=e,this._pathRegistry=t,this._eventBus=r}applyConditions(e,t={},r={}){const i=Tl(e),{getFilterPath:o=(u,h)=>this._pathRegistry.getValuePath(u,{indexes:h})}=r,a=(u,h,m=!1)=>{const{indexes:y={},expressionIndexes:w=[],scopeData:S=t,parentScopeData:T=null}=h;this._pathRegistry.executeRecursivelyOnFields(u,({field:O,isClosed:N,isRepeatable:D,context:F})=>{const{conditional:I,components:R,id:z}=O,X=jw({this:S,data:t,i:w,parent:T});if(F.isHidden=m||F.isHidden||I&&this._checkHideCondition(I,X),D&&!F.isHidden){F.preventRecursion=!0;const Z=this._pathRegistry.getValuePath(O,{indexes:y}),ae=Xe(t,Z);if(!Array.isArray(ae)||!ae.length||!Array.isArray(R)||!R.length)return;for(let ge=0;ge<ae.length;ge++){const _e={indexes:{...y,[z]:ge},expressionIndexes:[...w,ge+1],scopeData:ae[ge],parentScopeData:S};R.forEach(be=>{a(be,_e,F.isHidden)})}}F.isHidden&&D&&(F.preventRecursion=!0,this._eventBus.fire("conditionChecker.remove",{item:{[O.key]:Xe(i,o(O,y))}}),this._cleanlyClearDataAtPath(o(O,y),i)),F.isHidden&&N&&(this._eventBus.fire("conditionChecker.remove",{item:{[O.key]:Xe(i,o(O,y))}}),this._cleanlyClearDataAtPath(o(O,y),i))})},c=this._formFieldRegistry.getForm();if(!c)throw new Error("form field registry has no form");return a(c,{scopeData:t}),i}check(e,t={}){if(!e||!Ii(e)||!e.startsWith("="))return null;try{return p3e(e.slice(1),t)}catch(r){return this._eventBus.fire("error",{error:r}),null}}_checkHideCondition(e,t){return e.hide?this.check(e.hide,t)===!0:!1}_cleanlyClearDataAtPath(e,t){const r=[...e];let i=!1;do{eo(t,r,void 0),r.pop();const o=Xe(t,r);i=!!r.length&&(this._isEmptyObject(o)||this._isEmptyArray(o))}while(i)}_isEmptyObject(e){return ku(e)&&!Cke(e).length}_isEmptyArray(e){return Array.isArray(e)&&(!e.length||e.every(t=>t===void 0))}}Bue.$inject=["formFieldRegistry","pathRegistry","eventBus"];const l9e={__init__:["expressionLanguage","templating","conditionChecker"],expressionLanguage:["type",$I],templating:["type",q7],conditionChecker:["type",Bue]};class Vue{constructor(e){this._computedExpressions=[],e.on("field.updated",({shouldNotRecompute:t})=>{t||this.reset()}),e.on("import.done",this.reset.bind(this)),e.on("reset",this.reset.bind(this))}registerExpressionExecution(e){return this._computedExpressions.includes(e)?!1:(this._computedExpressions.push(e),!0)}reset(){this._computedExpressions=[]}}Vue.$inject=["eventBus"];const c9e={__init__:["expressionLoopPreventer"],expressionLoopPreventer:["type",Vue]};class zue{render(e){return fi.parse(e,{gfm:!0,breaks:!0})}}zue.$inject=[];const Hue={__init__:["markdownRenderer"],markdownRenderer:["type",zue]};function Gi(n,e){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=e,this._eventBus=n,this._uid=1,n.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Gi.$inject=["eventBus","injector"];Gi.prototype.execute=function(n,e){if(!n)throw new Error("command required");this._currentExecution.trigger="execute";const t={command:n,context:e};this._pushAction(t),this._internalExecute(t),this._popAction()};Gi.prototype.canExecute=function(n,e){const t={command:n,context:e},r=this._getHandler(n);let i=this._fire(n,"canExecute",t);if(i===void 0){if(!r)return!1;r.canExecute&&(i=r.canExecute(e))}return i};Gi.prototype.clear=function(n){this._stack.length=0,this._stackIdx=-1,n!==!1&&this._fire("changed",{trigger:"clear"})};Gi.prototype.undo=function(){let n=this._getUndoAction(),e;if(n){for(this._currentExecution.trigger="undo",this._pushAction(n);n&&(this._internalUndo(n),e=this._getUndoAction(),!(!e||e.id!==n.id));)n=e;this._popAction()}};Gi.prototype.redo=function(){let n=this._getRedoAction(),e;if(n){for(this._currentExecution.trigger="redo",this._pushAction(n);n&&(this._internalExecute(n,!0),e=this._getRedoAction(),!(!e||e.id!==n.id));)n=e;this._popAction()}};Gi.prototype.register=function(n,e){this._setHandler(n,e)};Gi.prototype.registerHandler=function(n,e){if(!n||!e)throw new Error("command and handlerCls must be defined");const t=this._injector.instantiate(e);this.register(n,t)};Gi.prototype.canUndo=function(){return!!this._getUndoAction()};Gi.prototype.canRedo=function(){return!!this._getRedoAction()};Gi.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};Gi.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};Gi.prototype._internalUndo=function(n){const e=n.command,t=n.context,r=this._getHandler(e);this._atomicDo(()=>{this._fire(e,"revert",n),r.revert&&this._markDirty(r.revert(t)),this._revertedAction(n),this._fire(e,"reverted",n)})};Gi.prototype._fire=function(n,e,t){arguments.length<3&&(t=e,e=null);const r=e?[n+"."+e,e]:[n];let i;t=this._eventBus.createEvent(t);for(const o of r)if(i=this._eventBus.fire("commandStack."+o,t),t.cancelBubble)break;return i};Gi.prototype._createId=function(){return this._uid++};Gi.prototype._atomicDo=function(n){const e=this._currentExecution;e.atomic=!0;try{n()}finally{e.atomic=!1}};Gi.prototype._internalExecute=function(n,e){const t=n.command,r=n.context,i=this._getHandler(t);if(!i)throw new Error("no command handler registered for <"+t+">");this._pushAction(n),e||(this._fire(t,"preExecute",n),i.preExecute&&i.preExecute(r),this._fire(t,"preExecuted",n)),this._atomicDo(()=>{this._fire(t,"execute",n),i.execute&&this._markDirty(i.execute(r)),this._executedAction(n,e),this._fire(t,"executed",n)}),e||(this._fire(t,"postExecute",n),i.postExecute&&i.postExecute(r),this._fire(t,"postExecuted",n)),this._popAction()};Gi.prototype._pushAction=function(n){const e=this._currentExecution,t=e.actions,r=t[0];if(e.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+n.command+")");n.id||(n.id=r&&r.id||this._createId()),t.push(n)};Gi.prototype._popAction=function(){const n=this._currentExecution,e=n.trigger,t=n.actions,r=n.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:gie("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:e}),n.trigger=null)};Gi.prototype._markDirty=function(n){const e=this._currentExecution;n&&(n=Ho(n)?n:[n],e.dirty=e.dirty.concat(n))};Gi.prototype._executedAction=function(n,e){const t=++this._stackIdx;e||this._stack.splice(t,this._stack.length,n)};Gi.prototype._revertedAction=function(n){this._stackIdx--};Gi.prototype._getHandler=function(n){return this._handlerMap[n]};Gi.prototype._setHandler=function(n,e){if(!n||!e)throw new Error("command and handler required");if(this._handlerMap[n])throw new Error("overriding handler for command <"+n+">");this._handlerMap[n]=e};var u9e={commandStack:["type",Gi]};class Wue{constructor(e,t){this._form=e,this._validator=t}execute(e){const{field:t,value:r,indexes:i}=e,{errors:o}=this._form._getState();e.oldErrors=Tl(o);const a=this._validator.validateField(t,r),c=eo(o,[t.id,...Object.values(i||{})],a.length?a:void 0);this._form._setState({errors:c})}revert(e){this._form._setState({errors:e.oldErrors})}}Wue.$inject=["form","validator"];class que{constructor(e,t){this._form=e,this._validator=t}execute(e){const{fieldInstance:t,value:r}=e,{id:i,indexes:o}=t,{errors:a}=this._form._getState();e.oldErrors=Tl(a);const c=this._validator.validateFieldInstance(t,r),u=eo(a,[i,...Object.values(o||{})],c.length?c:void 0);this._form._setState({errors:u})}revert(e){this._form._setState({errors:e.oldErrors})}}que.$inject=["form","validator"];class Uue{constructor(e,t){this._commandStack=e,t.on("form.init",()=>{this.registerHandlers()})}registerHandlers(){Object.entries(this.getHandlers()).forEach(([e,t])=>{this._commandStack.registerHandler(e,t)})}getHandlers(){return{"formField.validation.update":Wue,"formFieldInstance.validation.update":que}}updateFieldValidation(e,t,r){const i={field:e,value:t,indexes:r};this._commandStack.execute("formField.validation.update",i)}updateFieldInstanceValidation(e,t){const r={fieldInstance:e,value:t};this._commandStack.execute("formFieldInstance.validation.update",r)}}Uue.$inject=["commandStack","eventBus"];const d9e={__depends__:[u9e],__init__:["viewerCommands"],viewerCommands:["type",Uue]};var sX;function o6(){return o6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},o6.apply(null,arguments)}var f9e=function(e){return tt("svg",o6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),sX||(sX=tt("path",{fill:"currentColor",d:"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2zm11-7H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1m0 3H3V3h10z"})))},aX;function s6(){return s6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},s6.apply(null,arguments)}var h9e=function(e){return tt("svg",s6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),aX||(aX=tt("path",{fill:"currentColor",d:"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1m0 3H3v-2h10zM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5z"})))},lX,cX;function a6(){return a6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},a6.apply(null,arguments)}var p9e=function(e){return tt("svg",a6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),lX||(lX=tt("path",{fill:"currentColor",d:"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6m0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7"})),cX||(cX=tt("path",{fill:"currentColor",d:"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12z"})))},uX;function l6(){return l6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},l6.apply(null,arguments)}var m9e=function(e){return tt("svg",l6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),uX||(uX=tt("path",{fill:"currentColor",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z"})))};class Gue{constructor(e,t,r,i,o){this._form=e,this._formFields=t,this._formFieldRegistry=r,this._pathRegistry=i,this._eventBus=o,this.Repeater=this.Repeater.bind(this),this.RepeatFooter=this.RepeatFooter.bind(this)}isFieldRepeating(e){if(!e)return!1;const t=this._formFieldRegistry.get(e);return this._formFields.get(t.type).config.repeatable&&t.isRepeating}Repeater(e){const{RowsRenderer:t,indexes:r,useSharedState:i,...o}=e,[a]=i,{data:c}=this._form._getState(),u=e.field,h=this._pathRegistry.getValuePath(u,{indexes:r}),m=Xe(c,h)||[],y=this._getNonCollapsedItems(u),S=!u.disableCollapse&&m.length>y&&a.isCollapsed,T=u.components&&u.components.length>0,O=u.allowAddRemove&&T,N=F=>{const I=m.slice(),R=I.splice(F,1)[0];this._eventBus.fire("repeatRenderManager.remove",{dataPath:h,index:F,item:R}),e.onChange({field:u,value:I,indexes:r})},D=_r(qf);return B(ki,{children:m.map((F,I)=>B("div",{class:gn({"fjs-repeat-row-collapsed":S?I>=y:!1}),children:B(g9e,{itemIndex:I,itemValue:F,parentExpressionContextInfo:D,repeaterField:u,RowsRenderer:t,indexes:r,onDeleteItem:N,showRemove:O,...o})},I))})}RepeatFooter(e){const t=dn(null),{useSharedState:r,indexes:i,field:o,readonly:a,disabled:c}=e,[u,h]=r,{data:m}=this._form._getState(),y=this._pathRegistry.getValuePath(o,{indexes:i}),w=Xe(m,y)||[],S=this._getNonCollapsedItems(o),T=!o.disableCollapse&&w.length>S,O=T&&u.isCollapsed,N=o.components&&o.components.length>0,D=o.allowAddRemove&&N,F=()=>{h(z=>({...z,isCollapsed:!O}))},I=dn(!1),R=()=>{const z=w.slice(),X=this._form._getInitializedFieldData(this._form._getState().data,{container:o,indexes:{...i,[o.id]:z.length}});z.push(X),I.current=!0,this._eventBus.fire("repeatRenderManager.add",{dataPath:y,index:z.length-1,item:X}),e.onChange({value:z}),h(Z=>({...Z,isCollapsed:!1}))};return _6e(t,[w.length],{align:"bottom",behavior:"auto",offset:20},[I]),B("div",{className:gn("fjs-repeat-render-footer",{"fjs-remove-allowed":o.allowAddRemove}),children:[D?B("button",{type:"button",readOnly:a,disabled:c||a,class:"fjs-repeat-render-add",ref:t,onClick:R,children:B(ki,{children:[B(p9e,{})," ","Add new"]})}):null,T?B("button",{type:"button",class:"fjs-repeat-render-collapse",onClick:F,children:O?B(ki,{children:[B(f9e,{})," ",`Expand all (${w.length-1})`]}):B(ki,{children:[B(h9e,{})," ","Collapse"]})}):null]})}_getNonCollapsedItems(e){const{nonCollapsedItems:r}=e;return r||5}}const g9e=n=>{const{itemIndex:e,itemValue:t,parentExpressionContextInfo:r,repeaterField:i,RowsRenderer:o,indexes:a,onDeleteItem:c,showRemove:u,...h}=n,m=Jt(()=>({...h,indexes:{...a||{},[i.id]:e}}),[e,a,i.id,h]),y=Jt(()=>({data:r.data,this:t,parent:jw({...r,data:r.this}),i:[...r.i,e+1]}),[e,r,t]);return u?B("div",{class:"fjs-repeat-row-container",children:[B("div",{class:"fjs-repeat-row-rows",children:B(qf.Provider,{value:y,children:B(o,{...m})})}),B("button",{type:"button",class:"fjs-repeat-row-remove","aria-label":`Remove list item ${e+1}`,onClick:()=>c(e),children:B("div",{class:"fjs-repeat-row-remove-icon-container",children:B(m9e,{})})})]}):B(qf.Provider,{value:y,children:B(o,{...m})})};Gue.$inject=["form","formFields","formFieldRegistry","pathRegistry","eventBus"];const v9e={__init__:["repeatRenderManager"],repeatRenderManager:["type",Gue]};var uN="__fn",Yue=1e3,y9e=Array.prototype.slice;function jl(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}jl.prototype.on=function(n,e,t,r){if(n=Ho(n)?n:[n],yi(e)&&(r=t,t=e,e=Yue),!pa(e))throw new Error("priority must be a number");var i=t;r&&(i=yie(t,r),i[uN]=t[uN]||t);var o=this;n.forEach(function(a){o._addListener(a,{priority:e,callback:i,next:null})})};jl.prototype.once=function(n,e,t,r){var i=this;if(yi(e)&&(r=t,t=e,e=Yue),!pa(e))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var a=t.apply(r,arguments);return i.off(n,o),a}o[uN]=t,this.on(n,e,o)};jl.prototype.off=function(n,e){n=Ho(n)?n:[n];var t=this;n.forEach(function(r){t._removeListener(r,e)})};jl.prototype.createEvent=function(n){var e=new W2;return e.init(n),e};jl.prototype.fire=function(n,e){var t,r,i,o;if(o=y9e.call(arguments),typeof n=="object"&&(e=n,n=e.type),!n)throw new Error("no event type specified");if(r=this._listeners[n],!!r){e instanceof W2?t=e:t=this.createEvent(e),o[0]=t;var a=t.type;n!==a&&(t.type=n);try{i=this._invokeListeners(t,o,r)}finally{n!==a&&(t.type=a)}return i===void 0&&t.defaultPrevented&&(i=!1),i}};jl.prototype.handleError=function(n){return this.fire("error",{error:n})===!1};jl.prototype._destroy=function(){this._listeners={}};jl.prototype._invokeListeners=function(n,e,t){for(var r;t&&!n.cancelBubble;)r=this._invokeListener(n,e,t),t=t.next;return r};jl.prototype._invokeListener=function(n,e,t){var r;if(t.callback.__isTomb)return r;try{r=b9e(t.callback,e),r!==void 0&&(n.returnValue=r,n.stopPropagation()),r===!1&&n.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener",i),i}return r};jl.prototype._addListener=function(n,e){var t=this._getListeners(n),r;if(!t){this._setListeners(n,e);return}for(;t;){if(t.priority<e.priority){e.next=t,r?r.next=e:this._setListeners(n,e);return}r=t,t=t.next}r.next=e};jl.prototype._getListeners=function(n){return this._listeners[n]};jl.prototype._setListeners=function(n,e){this._listeners[n]=e};jl.prototype._removeListener=function(n,e){var t=this._getListeners(n),r,i,o;if(!e){this._setListeners(n,null);return}for(;t;)r=t.next,o=t.callback,(o===e||o[uN]===e)&&(i?i.next=r:this._setListeners(n,r)),i=t,t=r};function W2(){}W2.prototype.stopPropagation=function(){this.cancelBubble=!0};W2.prototype.preventDefault=function(){this.defaultPrevented=!0};W2.prototype.init=function(n){C9(this,n||{})};function b9e(n,e){return n.apply(null,e)}const x9e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,w9e=/(\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{4,20}$/,Que=["min","max","minLength","maxLength"];class Kue{constructor(e,t,r,i){this._expressionLanguage=e,this._conditionChecker=t,this._form=r,this._formFieldRegistry=i}validateField(e,t){const{type:r,validate:i}=e;let o=[];if(r==="number"&&(o=[...o,...dX(e,t)]),!i)return o;const a=E9e(i,this._expressionLanguage,this._conditionChecker,this._form);return o=[...o,...fX(e,a,t)],o}validateFieldInstance(e,t){const{id:r,expressionContextInfo:i}=e,o=this._formFieldRegistry.get(r);if(!o)return[];const{type:a,validate:c}=o;let u=[];if(a==="number"&&(u=[...u,...dX(o,t)]),!c)return u;const h=_9e(c,this._expressionLanguage,i);return u=[...u,...fX(o,h,t)],u}}Kue.$inject=["expressionLanguage","conditionChecker","form","formFieldRegistry"];function dX(n,e){const{decimalDigits:t,increment:r}=n,i=[];if(e==="NaN")i.push("Value is not a number.");else if(e&&(t>=0&&y8e(e)>t&&i.push("Value is expected to "+(t===0?"be an integer":`have at most ${t} decimal digit${t>1?"s":""}`)+"."),r)){const o=Ns(e),a=Ns(r),c=o.mod(a);if(c.cmp(0)!==0){const u=o.minus(c),h=u.plus(a);i.push(`Please select a valid value, the two nearest valid values are ${u} and ${h}.`)}}return i}function fX(n,e,t){const r=[];if(e.pattern&&t&&!new RegExp(e.pattern).test(t)&&r.push(`Field must match pattern ${e.pattern}.`),e.required){const i=n.type==="checkbox"&&t===!1,o=fp(t)||t==="",a=Array.isArray(t)&&t.length===0;(i||o||a)&&r.push("Field is required.")}return"min"in e&&(t||t===0)&&t<e.min&&r.push(`Field must have minimum value of ${e.min}.`),"max"in e&&(t||t===0)&&t>e.max&&r.push(`Field must have maximum value of ${e.max}.`),"minLength"in e&&t&&t.trim().length<e.minLength&&r.push(`Field must have minimum length of ${e.minLength}.`),"maxLength"in e&&t&&t.trim().length>e.maxLength&&r.push(`Field must have maximum length of ${e.maxLength}.`),"validationType"in e&&t&&e.validationType==="phone"&&!w9e.test(t)&&r.push("Field must be a valid  international phone number. (e.g. +4930664040900)"),"validationType"in e&&t&&e.validationType==="email"&&!x9e.test(t)&&r.push("Field must be a valid email."),r}function _9e(n,e,t){const r={...n};return Que.forEach(i=>{const o=i.split("."),a=Xe(r,o),c=G7(e,a,t);eo(r,o,c===null?void 0:c)}),r}function E9e(n,e,t,r){const i={...n};return Que.forEach(o=>{const a=o.split("."),c=Xe(i,a);if(!e||!e.isExpression(c))return c;const{initialData:u,data:h}=r._getState(),m=t?t.applyConditions(h,h):h,y={...u,...m},w=e.evaluate(c,y);w&&eo(i,a,w)}),i}class uV{constructor(e,t,r,i){this._formFieldRegistry=e,this._pathRegistry=t,this._fieldFactory=r,this._formLayouter=i}importSchema(e){const t=[];try{this._cleanup();const r=this.importFormField(Tl(e));return this._formLayouter.calculateLayout(Tl(r)),{schema:r,warnings:t}}catch(r){throw this._cleanup(),r.warnings=t,r}}_cleanup(){this._formLayouter.clear(),this._formFieldRegistry.clear(),this._pathRegistry.clear()}importFormField(e,t,r){const{components:i}=e;let o,a;t&&(o=this._formFieldRegistry.get(t)),a=o?[...o._path,"components",r]:[];const c=this._fieldFactory.create({...e,_path:a,_parent:t},!1);return this._formFieldRegistry.add(c),i&&(c.components=this.importFormFields(i,c.id)),c}importFormFields(e,t){return e.map((r,i)=>this.importFormField(r,t,i))}}uV.$inject=["formFieldRegistry","pathRegistry","fieldFactory","formLayouter"];class dV{constructor(e,t,r){this._formFieldRegistry=e,this._pathRegistry=t,this._formFields=r}create(e,t=!0){const{id:r,type:i,key:o,path:a,_parent:c}=e,u=this._formFields.get(i);if(!u)throw new Error(`form field of type <${i}> not supported`);const{config:h}=u;if(!h)throw new Error(`form field of type <${i}> has no config`);if(r&&this._formFieldRegistry._ids.assigned(r))throw new Error(`form field with id <${r}> already exists`);const m=c&&this._formFieldRegistry.get(c),y=m&&this._pathRegistry.getValuePath(m)||[],w=Qk(c,this._formFieldRegistry);if(h.keyed&&o&&!this._pathRegistry.canClaimPath([...y,...o.split(".")],{isClosed:!0,knownAncestorIds:w}))throw new Error(`binding path '${[...y,o].join(".")}' is already claimed`);if(h.pathed&&a&&!this._pathRegistry.canClaimPath([...y,...a.split(".")],{isRepeatable:h.repeatable,knownAncestorIds:w}))throw new Error(`binding path '${[...y,...a.split(".")].join(".")}' is already claimed`);const S=h.create({...h.label?{label:h.label}:{},...e},t);return this._ensureId(S),h.keyed&&(this._ensureKey(S),this._pathRegistry.claimPath(this._pathRegistry.getValuePath(S),{isClosed:!0,claimerId:S.id,knownAncestorIds:Qk(c,this._formFieldRegistry)})),h.pathed&&(h.repeatable&&this._enforceDefaultPath(S),this._pathRegistry.claimPath(this._pathRegistry.getValuePath(S),{isRepeatable:h.repeatable,claimerId:S.id,knownAncestorIds:Qk(c,this._formFieldRegistry)})),S}_ensureId(e){if(e.id){this._formFieldRegistry._ids.claim(e.id,e);return}let t="Field";e.type==="default"&&(t="Form"),e.id=this._formFieldRegistry._ids.nextPrefixed(`${t}_`,e)}_ensureKey(e){e.key||(e.key=this._getUniqueKeyPath(e))}_enforceDefaultPath(e){e.path||(e.path=this._getUniqueKeyPath(e))}_getUniqueKeyPath(e){let t;const r=this._formFieldRegistry.get(e._parent);do t=Math.random().toString(36).substring(7);while(r&&r.components.some(i=>i.key===t));return`${e.type}_${t}`}}dV.$inject=["formFieldRegistry","pathRegistry","formFields"];class fV{constructor(e,t,r){this._formFieldRegistry=e,this._formFields=t,this._injector=r,this._dataPaths=[]}canClaimPath(e,t={}){const{isClosed:r=!1,isRepeatable:i=!1,skipAncestryCheck:o=!1,claimerId:a=null,knownAncestorIds:c=[]}=t;let u={children:this._dataPaths};for(const h of e){if(u=BR(u,h),!u)return!0;if(u.isRepeatable&&!o){if(!(a||c.length))throw new Error("cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds");if(!(c.includes(u.repeaterId)||a&&Qk(a,this._formFieldRegistry).includes(u.repeaterId)))return!1}if(u.children===null)return!1}return!(r||i)}claimPath(e,t={}){const{isClosed:r=!1,isRepeatable:i=!1,claimerId:o=null,knownAncestorIds:a=[]}=t;if(!this.canClaimPath(e,{isClosed:r,isRepeatable:i,claimerId:o,knownAncestorIds:a}))throw new Error(`cannot claim path '${e.join(".")}'`);let c={children:this._dataPaths};for(const u of e){let h=BR(c,u);h?h.claimCount++:(h={segment:u,claimCount:1,children:[]},c.children.push(h)),c=h}r&&(c.children=null),i&&(c.isRepeatable=!0,c.repeaterId=o)}unclaimPath(e){let t={children:this._dataPaths};for(const r of e){const i=BR(t,r);if(!i)throw new Error(`no open path found for '${e.join(".")}'`);t=i}t={children:this._dataPaths};for(const r of e){const i=BR(t,r);if(i.claimCount--,i.claimCount===0){t.children.splice(t.children.indexOf(i),1);break}t=i}}executeRecursivelyOnFields(e,t,r={}){let i=!0;const o=this._formFields.get(e.type).config;if(o.keyed){const a=t({field:e,isClosed:!0,isRepeatable:!1,context:r});return i&&a}else if(o.pathed){const a=t({field:e,isClosed:!1,isRepeatable:o.repeatable,context:r});i=i&&a}if(i===!1||r.preventRecursion)return i;if(Array.isArray(e.components))for(const a of e.components){const c=this.executeRecursivelyOnFields(a,t,Tl(r));if(i=i&&c,i===!1)return i}return i}getValuePath(e,t={}){const{replacements:r={},indexes:i=null,cutoffNode:o=null}=t;let a=[];const c=Object.prototype.hasOwnProperty.call(r,e.id),u=this._formFields.get(e.type).config;if(c){const h=r[e.id];if(h==null||h==="")a=[];else if(typeof h=="string")a=h.split(".");else if(Array.isArray(h))a=h;else throw new Error(`replacements for field ${e.id} must be a string, array or null/undefined`)}else u.keyed?a=e.key.split("."):u.pathed&&e.path&&(a=e.path.split("."));if(i&&(a=this._addIndexes(a,e,i)),e._parent&&e._parent!==o){const h=this._formFieldRegistry.get(e._parent);return[...this.getValuePath(h,t)||[],...a]}return a}clear(){this._dataPaths=[]}_addIndexes(e,t,r){const i=this._injector.get("repeatRenderManager",!1);return i&&i.isFieldRepeating(t._parent)?[r[t._parent],...e]:e}}const BR=(n,e)=>Ho(n.children)&&n.children.find(t=>t.segment===e)||null;fV.$inject=["formFieldRegistry","formFields","injector"];class hV{constructor(e){this._rows=[],this._ids=new Nl([32,36,1]),this._eventBus=e}addRow(e,t){let r=this._rows.find(i=>i.formFieldId===e);r||(r={formFieldId:e,rows:[]},this._rows.push(r)),r.rows.push(t)}getRow(e){return hX(this._rows).find(r=>r.id===e)}getRowForField(e){return hX(this._rows).find(t=>{const{components:r}=t;return r.includes(e.id)})}getRows(e){const t=this._rows.find(r=>e===r.formFieldId);return t?t.rows:[]}nextRowId(){return this._ids.nextPrefixed("Row_")}calculateLayout(e){const{type:t,components:r}=e;if(!["default","group","dynamiclist"].includes(t)||!r)return;const i=S9e(r,this._ids);Object.entries(i).forEach(([o,a])=>{this.addRow(e.id,{id:o,components:a.map(c=>c.id)})}),r.forEach(o=>this.calculateLayout(o)),this._eventBus.fire("form.layoutCalculated",{rows:this._rows})}clear(){this._rows=[],this._ids.clear(),this._eventBus.fire("form.layoutCleared")}}hV.$inject=["eventBus"];function S9e(n,e){return mie(n,t=>{const{layout:r}=t;return!r||!r.row?e.nextPrefixed("Row_"):r.row})}function hX(n){return n.map(e=>e.rows).flat()}let pV=class{constructor(e){this._eventBus=e,this._formFields={},e.on("form.clear",()=>this.clear()),this._ids=new Nl([32,36,1])}add(e){const{id:t}=e;if(this._formFields[t])throw new Error(`form field with ID ${t} already exists`);this._eventBus.fire("formField.add",{formField:e}),this._formFields[t]=e}remove(e){const{id:t}=e;this._formFields[t]&&(this._eventBus.fire("formField.remove",{formField:e}),delete this._formFields[t])}get(e){return this._formFields[e]}getAll(){return Object.values(this._formFields)}getForm(){return this.getAll().find(e=>e.type==="default")}forEach(e){this.getAll().forEach(t=>e(t))}clear(){this._formFields={},this._ids.clear()}};pV.$inject=["eventBus"];class Xue{constructor(e,t,r){this._eventBus=e,this._formFieldRegistry=t,this._formFields=r,this._formFieldInstances={},e.on("form.clear",()=>this.clear())}syncInstance(e,t){const{hidden:r,...i}=t,o=!r,a=this._formFieldInstances[e];return o&&!a?(this._formFieldInstances[e]={instanceId:e,...i},this._eventBus.fire("formFieldInstance.added",{instanceId:e})):!o&&a?(delete this._formFieldInstances[e],this._eventBus.fire("formFieldInstance.removed",{instanceId:e})):o&&a&&Object.keys(i).some(u=>this._formFieldInstances[e][u]!==i[u])&&(this._formFieldInstances[e]={instanceId:e,...i},this._eventBus.fire("formFieldInstance.changed",{instanceId:e})),e}cleanupInstance(e){this._formFieldInstances[e]&&(delete this._formFieldInstances[e],this._eventBus.fire("formFieldInstance.removed",{instanceId:e}))}get(e){return this._formFieldInstances[e]}getAll(){return Object.values(this._formFieldInstances)}getAllKeyed(){return this.getAll().filter(({id:e})=>{const t=this._formFieldRegistry.get(e);if(!t)return!1;const{type:r}=t,{config:i}=this._formFields.get(r);return i.keyed})}clear(){this._formFieldInstances={}}}Xue.$inject=["eventBus","formFieldRegistry","formFields"];function Zue(n,e,t,r){const i=()=>{const[a,c]=Nt(t._getState()),u={getService(O,N=!0){return r.get(O,N)},formId:t._id};e.on("changed",O=>{c(O)});const h=ln(O=>t._update(O),[]),{properties:m}=a,{readOnly:y}=m,w=ln(()=>{y||t.submit()},[y]),S=ln(()=>t.reset(),[]),{schema:T}=a;return T?B($w.Provider,{value:u,children:B(jue,{onChange:h,onSubmit:w,onReset:S})}):null},{container:o}=n;e.on("form.init",()=>{sp(B(i,{}),o)}),e.on("form.destroy",()=>{sp(null,o)})}Zue.$inject=["config.renderer","eventBus","form","injector"];const c6=n=>{const e=[];return n===null||Object.values(n).forEach(t=>{t!==null&&(typeof t=="object"?e.push(...c6(t)):Array.isArray(t)?e.push(...t.map(c6).flat()):typeof t=="string"&&t.startsWith(Fue)&&e.push(t))}),e},ym=Symbol("fileRegistry"),k9e=Symbol("eventBus"),C9e=Symbol("formFieldRegistry"),O9e=Symbol("formFieldInstanceRegistry"),T9e=[];class Jue{constructor(e,t,r){this[ym]=new Map,this[k9e]=e,this[C9e]=t,this[O9e]=r;const i=({item:o})=>{c6(o).forEach(c=>{this.deleteFiles(c)})};e.on("form.clear",()=>this.clear()),e.on("conditionChecker.remove",i),e.on("repeatRenderManager.remove",i)}setFiles(e,t){this[ym].set(e,t)}getFiles(e){return this[ym].get(e)||T9e}getKeys(){return Array.from(this[ym].keys())}hasKey(e){return this[ym].has(e)}deleteFiles(e){this[ym].delete(e)}getAllFiles(){return new Map(this[ym])}clear(){this[ym].clear()}}Jue.$inject=["eventBus","formFieldRegistry","formFieldInstanceRegistry"];const P9e={__init__:["formFields","renderer"],formFields:["type",cV],renderer:["type",Zue],fileRegistry:["type",Jue]},A9e={__depends__:[P9e],eventBus:["type",jl],importer:["type",uV],fieldFactory:["type",dV],formFieldRegistry:["type",pV],formFieldInstanceRegistry:["type",Xue],pathRegistry:["type",fV],formLayouter:["type",hV],validator:["type",Kue]},R9e=new Nl([32,36,1]);class M9e{constructor(e={}){this.on=this._onEvent,this._id=R9e.next(),this._container=Bce();const{container:t,injector:r=this._createInjector(e,this._container),properties:i={}}=e;this._state={initialData:null,data:null,properties:i,errors:{},schema:null},this.get=r.get,this.invoke=r.invoke,this.get("eventBus").fire("form.init"),t&&this.attachTo(t)}clear(){this._emit("diagram.clear"),this._emit("form.clear")}destroy(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}importSchema(e,t={}){return new Promise((r,i)=>{try{this.clear();const{schema:o,warnings:a}=this.get("importer").importSchema(e),c=this._getInitializedFieldData(Tl(t));return this._setState({data:c,errors:{},schema:o,initialData:Tl(c)}),this._emit("import.done",{warnings:a}),r({warnings:a})}catch(o){return this._emit("import.done",{error:o,warnings:o.warnings||[]}),i(o)}})}submit(){const{properties:e}=this._getState();if(e.readOnly||e.disabled)throw new Error("form is read-only");this._emit("presubmit");const t=this._getSubmitData(),r=this.validate(),i=this.get("fileRegistry").getAllFiles(),o={data:t,errors:r,files:i};return this._emit("submit",o),o}reset(){this._emit("reset"),this._setState({data:Tl(this._state.initialData),errors:{}})}validate(){const e=this.get("formFieldRegistry"),t=this.get("formFieldInstanceRegistry"),r=this.get("validator"),{data:i}=this._getState(),o={},a=(c,u)=>[c,...Object.values(u||{})];return t.getAllKeyed().forEach(c=>{const{id:u,valuePath:h,indexes:m}=c,y=e.get(u);if(y.disabled)return;const w=Xe(i,h),S=r.validateFieldInstance(c,w);S.length&&eo(o,a(y.id,m),S)}),this._setState({errors:o}),o}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),Ii(e)&&(e=document.querySelector(e));const t=this._container;e.appendChild(t),this._emit("attach")}detach(){this._detach()}_detach(e=!0){const t=this._container,r=t.parentNode;r&&(e&&this._emit("detach"),r.removeChild(t))}setProperty(e,t){const r=eo(this._getState().properties,[e],t);this._setState({properties:r})}off(e,t){this.get("eventBus").off(e,t)}_createInjector(e,t){const{modules:r=this._getModules(),additionalModules:i=[],...o}=e,a={...o,renderer:{container:t}};return jce([{config:["value",a]},{form:["value",this]},A9e,...r,...i])}_emit(e,t){this.get("eventBus").fire(e,t)}_update(e){const{fieldInstance:t,value:r}=e,{id:i,valuePath:o,indexes:a}=t,{data:c,errors:u}=this._getState(),m=this.get("validator").validateFieldInstance(t,r);eo(c,o,r),eo(u,[i,...Object.values(a||{})],m.length?m:void 0),this._emit("field.updated",e),this._setState({data:Tl(c),errors:Tl(u)})}_getState(){return this._state}_setState(e){this._state={...this._state,...e},this._emit("changed",this._getState())}_getModules(){return[l9e,c9e,Hue,d9e,v9e]}_onEvent(e,t,r){this.get("eventBus").on(e,t,r)}_getSubmitData(){const e=this.get("formFieldRegistry"),t=this.get("formFieldInstanceRegistry"),r=this._getState().data,i={};return t.getAllKeyed().forEach(o=>{const{id:a,valuePath:c}=o,{disabled:u}=e.get(a);if(u)return;const h=Xe(r,c);eo(i,c,h)}),i}_getInitializedFieldData(e,t={}){const r=this.get("formFieldRegistry"),i=this.get("formFields"),o=this.get("pathRegistry");function a(w,S,T){const{defaultValue:O,type:N,isRepeating:D}=S,{config:F}=i.get(N),I=o.getValuePath(S,{indexes:T});let R=Xe(e,I);if(F.keyed){!dd(R)&&F.sanitizeValue&&(R=F.sanitizeValue({formField:S,data:e,value:R}));const z=dd(R)?dd(O)?F.emptyValue:O:R;eo(w,I,z)}if(Array.isArray(S.components)){if(F.repeatable&&D){if((!R||!Array.isArray(R))&&(R=new Array(dd(S.defaultRepetitions)?1:S.defaultRepetitions).fill().map(z=>({}))||[]),R=R.map(z=>ku(z)?z:{}),eo(w,I,R),!dd(T[S.id])){S.components.forEach(z=>a(w,z,{...T}));return}R.forEach((z,X)=>{S.components.forEach(Z=>a(w,Z,{...T,[S.id]:X}))});return}S.components.forEach(z=>a(w,z,T))}}const c=t.container||r.getForm(),u=t.indexes||{},h=o.getValuePath(c,{indexes:u})||[],m=dd(u[c.id])?h:[...h,u[c.id]],y=Tl(e);return a(y,c,u),Xe(y,m,{})}}const D9e=18;function N9e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var I9e=function(n,e){return Array.prototype.slice.call(n,e)},F9e=typeof setImmediate=="function",u6;F9e?u6=function(n){setImmediate(n)}:u6=function(n){setTimeout(n,0)};var L9e=u6,$9e=L9e,j9e=function(n,e,t){n&&$9e(function(){n.apply(t||null,e||[])})},pX=I9e,B9e=j9e,V9e=function(n,e){var t=e||{},r={};return n===void 0&&(n={}),n.on=function(i,o){return r[i]?r[i].push(o):r[i]=[o],n},n.once=function(i,o){return o._once=!0,n.on(i,o),n},n.off=function(i,o){var a=arguments.length;if(a===1)delete r[i];else if(a===0)r={};else{var c=r[i];if(!c)return n;c.splice(c.indexOf(o),1)}return n},n.emit=function(){var i=pX(arguments);return n.emitterSnapshot(i.shift()).apply(this,i)},n.emitterSnapshot=function(i){var o=(r[i]||[]).slice(0);return function(){var a=pX(arguments),c=this||n;if(i==="error"&&t.throws!==!1&&!o.length)throw a.length===1?a[0]:a;return o.forEach(function(u){t.async?B9e(u,a,c):u.apply(c,a),u._once&&n.off(i,u)}),n}},n};const z9e=N9e(V9e),mX={},H9e="(?:^|\\s)",W9e="(?:\\s|$)";function ede(n){let e=mX[n];return e?e.lastIndex=0:mX[n]=e=new RegExp(H9e+n+W9e,"g"),e}function VR(n,e){const t=n.className;t.length?ede(e).test(t)||(n.className+=" "+e):n.className=e}function zR(n,e){n.className=n.className.replace(ede(e)," ").trim()}const q9e=(n,e)=>({containers:e,moves:()=>!0,accepts:()=>!0,invalid:()=>!1,isContainer:()=>!1,transformOffset:t=>t,copy:!1,copySortSource:!1,revertOnSpill:!1,removeOnSpill:!1,direction:"vertical",ignoreInputTextSelection:!0,mirrorContainer:document.body,...n});function gX(n){if(n.touches!==void 0)return n.touches.length;if(n.which!==void 0&&n.which!==0)return n.which;if(n.buttons!==void 0)return n.buttons;const e=n.button;if(e!==void 0)return e&1?1:e&2?3:e&4?2:0}const U9e=n=>{const e=n.getBoundingClientRect();return{left:e.left+vX("scrollLeft","pageXOffset"),top:e.top+vX("scrollTop","pageYOffset")}},vX=(n,e)=>typeof global[e]<"u"?global[e]:document.documentElement.clientHeight?document.documentElement[n]:document.body[n],yX=(n={},e,t)=>{const r=n.className||"";n.className+=" gu-hide";const i=document.elementFromPoint(e,t);return n.className=r,i},bX=n=>n.width||n.right-n.left,xX=n=>n.height||n.bottom-n.top,bl=n=>n.parentNode===document?null:n.parentNode,wX=n=>["INPUT","TEXTAREA","SELECT"].includes(n.tagName)||tde(n),tde=n=>!n||n.contentEditable==="false"?!1:n.contentEditable==="true"?!0:tde(bl(n)),rk=n=>{const e=()=>{let t=n;do t=t.nextSibling;while(t&&t.nodeType!==1);return t};return n.nextElementSibling||e()};window.global||(window.global=window);const nde=document,uy=nde.documentElement;function G9e(n=[],e={}){Array.isArray(n)||(e=n,n=[]);let t,r,i,o,a,c,u,h,m,y,w,S,T;const O=q9e(e,n),N=z9e({containers:O.containers,start:be,end:fe,cancel:xe,remove:We,destroy:z,canMove:_e,dragging:!1});return O.removeOnSpill&&N.on("over",le).on("out",Ze),F(),N;function D(ze){return N.containers.indexOf(ze)!==-1||O.isContainer(ze)}function F(ze){const mt=ze?"removeEventListener":"addEventListener";uy[mt]("pointerdown",Z,!0),uy[mt]("pointerup",Ce,!0)}function I(ze){uy[ze?"removeEventListener":"addEventListener"]("pointermove",ae,!0)}function R(ze){uy[ze?"removeEventListener":"addEventListener"]("click",X,!0)}function z(){F(!0),Ce({})}function X(ze){T&&ze.preventDefault()}function Z(ze){if(c=ze.clientX,u=ze.clientY,gX(ze)!==1||ze.metaKey||ze.ctrlKey)return;const mt=ze.target,gt=ge(mt);gt&&(T=gt,I(),ze.type==="pointerdown"&&(wX(mt)?mt.focus():ze.preventDefault()))}function ae(ze){if(!T)return;if(gX(ze)===0){Ce({});return}if(ze.clientX!==void 0&&Math.abs(ze.clientX-c)<=(O.slideFactorX||0)&&ze.clientY!==void 0&&Math.abs(ze.clientY-u)<=(O.slideFactorY||0))return;if(O.ignoreInputTextSelection){const{clientX:kn=0,clientY:En=0}=ze,ve=nde.elementFromPoint(kn,En);if(wX(ve))return}const mt=T;I(!0),R(),fe(),he(mt);const gt=U9e(i),jt=O.transformOffset(gt,ze,i),{pageX:Ht=0,pageY:qn=0}=ze;o=Ht-jt.left,a=qn-jt.top,VR(y||i,"gu-transit"),Qe(),Ue(ze)}function ge(ze){if(N.dragging&&t||D(ze))return;const mt=ze;for(;bl(ze)&&D(bl(ze))===!1;)if(O.invalid(ze,mt)||(ze=bl(ze),!ze))return;const gt=bl(ze);if(!(!gt||O.invalid(ze,mt)||!O.moves(ze,gt,mt,rk(ze))))return{item:ze,source:gt}}function _e(ze){return!!ge(ze)}function be(ze){const mt=ge(ze);mt&&he(mt)}function he(ze){zn(ze.item,ze.source)&&(y=ze.item.cloneNode(!0),N.emit("cloned",y,ze.item,"copy")),r=ze.source,i=ze.item,h=m=rk(ze.item),N.dragging=!0,N.emit("drag",i,r)}function fe(){if(!N.dragging)return;const ze=y||i;Ae(ze,bl(ze))}function pe(){T=!1,I(!0),R(!0)}function Ce(ze){if(pe(),!N.dragging)return;const mt=y||i,{clientX:gt=0,clientY:jt=0}=ze,Ht=yX(t,gt,jt),qn=Ne(Ht,gt,jt);qn&&(y&&O.copySortSource||!y||qn!==r)?Ae(mt,qn):O.removeOnSpill?We():xe()}function Ae(ze,mt){const gt=bl(ze);y&&O.copySortSource&&mt===r&&gt.removeChild(i),Je(mt)?N.emit("cancel",ze,r,r):N.emit("drop",ze,mt,r,m),$e()}function We(){if(!N.dragging)return;const ze=y||i,mt=bl(ze);mt&&mt.removeChild(ze),N.emit(y?"cancel":"remove",ze,mt,r),$e()}function xe(ze){if(!N.dragging)return;const mt=arguments.length>0?ze:O.revertOnSpill,gt=y||i,jt=bl(gt),Ht=Je(jt);Ht===!1&&mt&&(y?jt&&jt.removeChild(y):r.insertBefore(gt,h)),Ht||mt?N.emit("cancel",gt,r,r):N.emit("drop",gt,jt,r,m),$e()}function $e(){const ze=y||i;pe(),Ct(),ze&&zR(ze,"gu-transit"),w&&clearTimeout(w),N.dragging=!1,S&&N.emit("out",ze,S,r),N.emit("dragend",ze),r=i=y=h=m=w=S=null}function Je(ze,mt){let gt;return mt!==void 0?gt=mt:t?gt=m:gt=rk(y||i),ze===r&&gt===h}function Ne(ze,mt,gt){let jt=ze;for(;jt&&!Ht();)jt=bl(jt);return jt;function Ht(){if(D(jt)===!1)return!1;const qn=Et(jt,ze),kn=on(jt,qn,mt,gt);return Je(jt,kn)?!0:O.accepts(i,jt,r,kn)}}function Ue(ze){if(!t)return;ze.preventDefault();const{clientX:mt=0,clientY:gt=0}=ze,jt=mt-o,Ht=gt-a;t.style.left=jt+"px",t.style.top=Ht+"px";const qn=y||i,kn=yX(t,mt,gt);let En=Ne(kn,mt,gt);const ve=En!==null&&En!==S;(ve||En===null)&&(zt(),S=En,it());const Re=bl(qn);if(En===r&&y&&!O.copySortSource){Re&&Re.removeChild(qn);return}let je;const at=Et(En,kn);if(at!==null)je=on(En,at,mt,gt);else if(O.revertOnSpill===!0&&!y)je=h,En=r;else{y&&Re&&Re.removeChild(qn);return}(je===null&&ve||je!==qn&&je!==rk(qn))&&(m=je,En.insertBefore(qn,je),N.emit("shadow",qn,En,r));function ht(tn){N.emit(tn,qn,S,r)}function it(){ve&&ht("over")}function zt(){S&&ht("out")}}function le(ze){zR(ze,"gu-hide")}function Ze(ze){N.dragging&&VR(ze,"gu-hide")}function Qe(){if(t)return;const ze=i.getBoundingClientRect();t=i.cloneNode(!0),t.style.width=bX(ze)+"px",t.style.height=xX(ze)+"px",zR(t,"gu-transit"),VR(t,"gu-mirror"),O.mirrorContainer.appendChild(t),uy.addEventListener("pointermove",Ue),VR(O.mirrorContainer,"gu-unselectable"),N.emit("cloned",t,i,"mirror")}function Ct(){t&&(zR(O.mirrorContainer,"gu-unselectable"),uy.removeEventListener("pointermove",Ue),bl(t).removeChild(t),t=null)}function Et(ze,mt){let gt=mt;for(;gt!==ze&&bl(gt)!==ze;)gt=bl(gt);return gt===uy?null:gt}function on(ze,mt,gt,jt){const Ht=(typeof O.direction=="function"?O.direction(i,ze,r):O.direction)==="horizontal";return mt!==ze?kn():qn();function qn(){const ve=ze.children.length;let Re,je,at;for(Re=0;Re<ve;Re++)if(je=ze.children[Re],at=je.getBoundingClientRect(),Ht&&at.left+at.width/2>gt||!Ht&&at.top+at.height/2>jt)return je;return null}function kn(){const ve=mt.getBoundingClientRect();return En(Ht?gt>ve.left+bX(ve)/2:jt>ve.top+xX(ve)/2)}function En(ve){return ve?rk(mt):mt}}function zn(ze,mt){return typeof O.copy=="boolean"?O.copy:O.copy(ze,mt)}}function Y9e(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}const Q9e=Object.prototype.toString;function HI(n){return new Og(n)}function Og(n){if(!n||!n.nodeType)throw new Error("A DOM element reference is required");this.el=n,this.list=n.classList}Og.prototype.add=function(n){return this.list.add(n),this};Og.prototype.remove=function(n){return Q9e.call(n)=="[object RegExp]"?this.removeMatching(n):(this.list.remove(n),this)};Og.prototype.removeMatching=function(n){const e=this.array();for(let t=0;t<e.length;t++)n.test(e[t])&&this.remove(e[t]);return this};Og.prototype.toggle=function(n,e){return typeof e<"u"?e!==this.list.toggle(n,e)&&this.list.toggle(n):this.list.toggle(n),this};Og.prototype.array=function(){return Array.from(this.list)};Og.prototype.has=Og.prototype.contains=function(n){return this.list.contains(n)};var dN={},fN,d6,mV;function rde(){fN=window.addEventListener?"addEventListener":"attachEvent",d6=window.removeEventListener?"removeEventListener":"detachEvent",mV=fN!=="addEventListener"?"on":""}var K9e=dN.bind=function(n,e,t,r){return fN||rde(),n[fN](mV+e,t,r||!1),t},X9e=dN.unbind=function(n,e,t,r){return d6||rde(),n[d6](mV+e,t,r||!1),t},hN=Y9e({__proto__:null,bind:K9e,unbind:X9e,default:dN},[dN]),Z9e=J9e,ide=!1,HR;typeof document<"u"&&(HR=document.createElement("div"),HR.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',ide=!HR.getElementsByTagName("link").length,HR=void 0);var Io={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:ide?[1,"X<div>","</div>"]:[0,"",""]};Io.td=Io.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];Io.option=Io.optgroup=[1,'<select multiple="multiple">',"</select>"];Io.thead=Io.tbody=Io.colgroup=Io.caption=Io.tfoot=[1,"<table>","</table>"];Io.polyline=Io.ellipse=Io.polygon=Io.circle=Io.text=Io.line=Io.path=Io.rect=Io.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function J9e(n,e){if(typeof n!="string")throw new TypeError("String expected");e||(e=document);var t=/<([\w:]+)/.exec(n);if(!t)return e.createTextNode(n);n=n.replace(/^\s+|\s+$/g,"");var r=t[1];if(r=="body"){var u=e.createElement("html");return u.innerHTML=n,u.removeChild(u.lastChild)}var i=Object.prototype.hasOwnProperty.call(Io,r)?Io[r]:Io._default,o=i[0],a=i[1],c=i[2],u=e.createElement("div");for(u.innerHTML=a+n+c;o--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var h=e.createDocumentFragment();u.firstChild;)h.appendChild(u.removeChild(u.firstChild));return h}var gV=Z9e;function cp(n,e){return e=e||document,e.querySelector(n)}function e7e(n,e,t){const r=e<0?n.length+e:e;if(r>=0&&r<n.length){const i=t<0?n.length+t:t,[o]=n.splice(e,1);n.splice(i,0,o)}}const ode=[gf("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),gf("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),gf("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),gf("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),gf("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),gf("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"}),gf("null",{label:"null",detail:"literal",type:"keyword"}),gf("true",{label:"true",detail:"literal",type:"keyword"}),gf("false",{label:"false",detail:"literal",type:"keyword"})];function f6(){return f6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},f6.apply(this,arguments)}function ik(n){const{context:e,after:t,before:r,keyword:i}=n;return i7e({nodes:e,before:r,after:t,keyword:i},y7([{label:i,type:"keyword",boost:10}]))}const sde=[ik({context:"InExpression",keyword:"in"}),ik({context:"IfExpression",keyword:"then",after:"if",before:"else"}),ik({context:"IfExpression",keyword:"else",after:"then"}),ik({context:"QuantifiedExpression",keyword:"satisfies"}),ik({context:"ForExpression",after:"InExpressions",keyword:"return"})],_X=["StringLiteral","Identifier","LineComment","BlockComment","PathExpression","Context","Key","ParameterName"],t7e=["Expr","ContextEntry"];function n7e(n){const e=[..._X,...t7e];return t=>{const{state:r,pos:i}=t,o=cde(ws(r).resolveInner(i,-1),e);if(o){const[a,c]=o;if(_X.includes(c))return null}return n(t)}}function ade(n){return n7e(y7(n.map(e=>f6({},e,{type:"text"}))))}function EX(n,e,t){return lde(n,e,t,-1)}function r7e(n,e,t){return lde(n,e,t,1)}function lde(n,e,t,r){let i=n[r>0?"childAfter":"childBefore"](e);for(;i;){if(t.includes(i.name))return i;if(i.type.isError&&i.firstChild&&t.includes(i.firstChild.name))return i.firstChild;i=i[r>0?"nextSibling":"prevSibling"]}return null}function cde(n,e){for(Array.isArray(e)||(e=[e]);n;n=n.parent){const t=n.type,r=e.find(i=>i&&t.is(i));if(r)return[n,r];if(t.isTop)break}return null}function i7e(n,e){const{nodes:t,before:r,after:i,keyword:o}=n;return a=>{const{state:c,pos:u}=a,h=cde(ws(c).resolveInner(u,-1),t);if(!h)return null;const[m]=h;return EX(m,u,[o,r])||r7e(m,u,[o,i])||i&&!EX(m,u,[i])?null:e(a)}}const ude=KC.define({parser:Mw.configure({props:[tle.add({Context:EQ({closing:"}"}),"List FilterExpression":EQ({closing:"]"}),"ParenthesizedExpression FunctionInvocation":r4({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":r4({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:r4({except:/^\s*(\(|\))/})}),ole.add({Context:Wk,List:Wk,ParenthesizedExpression:Wk,FunctionDefinition(n){const e=n.getChild(")");return e?{from:e.to,to:n.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),o7e=ude.configure({top:"UnaryTests"},"FEEL unary tests"),s7e=ude.configure({top:"Expression"},"FEEL expression");function a7e(n={}){const e=n.dialect==="unaryTests"?o7e:s7e,t=n.parserDialect,r=Rw(n.context),i=e.configure({contextTracker:r,dialect:t}),o=n.completions||[ade(ode),sde].flat();return new ele(i,[...o.map(a=>i.data.of({autocomplete:a}))])}var l7e=[Yle(wce())];const c7e=Vt.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"&.cm-editor":{height:"100%"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),u7e=Vt.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),d7e=RI(Fg.define([{tag:ue.variableName,class:"variableName"},{tag:ue.name,class:"variableName"},{tag:ue.number,class:"number"},{tag:ue.string,class:"string"},{tag:ue.bool,class:"bool"},{tag:ue.function(ue.variableName),class:"function"},{tag:ue.function(ue.special(ue.variableName)),class:"function"},{tag:ue.controlKeyword,class:"control"},{tag:ue.operatorKeyword,class:"control"}]));var f7e=[c7e,u7e,d7e];function SX(n){return n&&n.from===n.to}function h7e(n,e){const t=n.nextSibling;return SX(n)||t&&t.from===e&&SX(t)}function p7e(n){return n&&n.parent&&n.parent.name==="VariableName"}function vV(n){return n?n.name==="PathExpression"?!0:vV(n.parent):!1}function m7e({variables:n}){return e=>{const t=ws(e.state).resolve(e.pos,-1);if(!vV(t))return;const r=g7e(t),i=t===r?e.pos:t.from,o=yV(r,e);let a=n;for(var c=0;c<o.length-1;c++){var u=a.find(m=>m.name===o[c].name);if(!u)return null;if(u.isList!=="optional"&&!!u.isList!==o[c].isList)return;a=u.entries}return a?(a=a.map(m=>({label:m.name,type:"variable",info:m.info,detail:m.detail})),{from:i,options:a}):void 0}}function g7e(n){for(;n;){if(n.name==="PathExpression")return n;n=n.parent}}function yV(n,e){let t=[];for(let r=n.firstChild;r;r=r.nextSibling)r.name==="PathExpression"?t.push(...yV(r,e)):r.name==="FilterExpression"?t.push(...v7e(r,e)):t.push({name:dde(r,e),isList:!1});return t}function v7e(n,e){const t=n.firstChild;if(t.name==="PathExpression"){const r=yV(t,e),i=r[r.length-1];return i.isList=!0,r}return[{name:dde(t,e),isList:!0}]}function dde(n,e){return e.state.sliceDoc(n.from,n.to)}function y7e({variables:n=[],builtins:e=[]}){const t=b7e(n,e);return t.length?r=>{const{pos:i,state:o}=r,a=ws(o).resolve(i,-1);return h7e(a,i)?r.explicit?{from:i,options:t}:null:!p7e(a)||vV(a)?null:{from:a.from,options:t}}:r=>null}function b7e(n,e){return[].concat(n.map(t=>kX(t)),e.map(t=>kX(t)))}function kX(n,e){return n.type==="function"?x7e(n,e):{label:n.name,type:"variable",info:n.info,detail:n.detail,boost:e}}function x7e(n,e){const{name:t,info:r,detail:i,params:o=[]}=n,a=o.map(({name:m,type:y},w)=>({name:m||`param ${w+1}`,type:y})),c=`${t}(${a.map(m=>"${"+m.name+"}").join(", ")})`,u=a.map(({name:m,type:y})=>y?`${m}: ${y}`:m).join(", "),h=`${t}(${u})`;return gf(c,{label:h,type:"function",info:r,detail:i,boost:e})}function w7e({variables:n=[],builtins:e=[]}){return[m7e({variables:n}),y7e({variables:n,builtins:e}),ade(ode.map(t=>({...t,boost:-1}))),...sde]}function _7e(n){return a7e(n)}function E7e(n){return n.slice().reverse().reduce((e,t)=>(e[t.name]=()=>{},e),{})}const fde=en.define(),hde=en.define(),pde=en.define(),mde=en.define();function gde({dialect:n="expression",parserDialect:e,variables:t=[],builtins:r=[],completions:i=w7e({builtins:r,variables:t})}){const o=E7e([...t,...r]);return[pde.of(n),fde.of(r),hde.of(t),mde.of(e),_7e({dialect:n,parserDialect:e,context:o,completions:i})]}function S7e(n){const e=n.facet(fde)[0],t=n.facet(hde)[0],r=n.facet(pde)[0],i=n.facet(mde)[0];return{builtins:e,variables:t,dialect:r,parserDialect:i}}var k7e=[{name:"not(negand)",description:`<p>Returns the logical negation of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">not(negand: boolean): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">not(true)
// false

not(null)
// null
</code></pre>
`},{name:"is defined(value)",description:`<p><em>Camunda Extension</em></p>
<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.
Otherwise, the function returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is defined(value: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is defined(1)
// true

is defined(null)
// false

is defined(x)
// false - if no variable &quot;x&quot; exists

is defined(x.y)
// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;
</code></pre>
<p>:::caution Breaking change</p>
<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.
Since this version, the function returns <code>false</code> if the value is <code>null</code>.</p>
<p>:::</p>
`},{name:"get or else(value, default)",description:`<p><em>Camunda Extension</em></p>
<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get or else(value: Any, default: Any): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)
// &quot;this&quot;

get or else(null, &quot;default&quot;)
// &quot;default&quot;

get or else(null, null)
// null
</code></pre>
`},{name:"assert(value, condition)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null)
// &quot;value&quot; - if x is &quot;value&quot;
// error - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0)
// 4 - if x is 4
// error - if x is less than zero
</code></pre>
`},{name:"assert(value, condition, cause)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error containing the given message.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)
// &quot;value&quot; - if x is &quot;value&quot;
// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)
// 4 - if x is 4
// error(&#39;x&#39; should be positive) - if x is less than zero
</code></pre>
`},{name:"get value(context, key)",description:`<p>Returns the value of the context entry with the given key.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, key: string): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)
// 123

get value({a: 1}, &quot;b&quot;)
// null
</code></pre>
`},{name:"get value(context, keys)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the value of the context entry for a context path defined by the given keys.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>
<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])
// 0

get value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])
// {z:0}

get value({a: {b: 3}}, [&quot;b&quot;])
// null
</code></pre>
`},{name:"get entries(context)",description:`<p>Returns the entries of the context as a list of key-value-pairs.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;
</code></pre>
<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get entries({foo: 123})
// [{key: &quot;foo&quot;, value: 123}]
</code></pre>
`},{name:"context put(context, key, value)",description:`<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>
<p>If an entry for the same key already exists in the context, it overrides the value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, key: string, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"context put(context, keys, value)",description:`<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>
<p>If an entry for the same keys already exists in the context, it overrides the value.</p>
<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)
// {x:1, y:2}

context put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}

context put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}
</code></pre>
`},{name:"context merge(contexts)",description:`<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>
<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context merge([{x:1}, {y:2}])
// {x:1, y:2}

context merge([{x:1, y: 0}, {y:2}])
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"string(from)",description:`<p>Returns the given value as a string representation.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string(from: Any): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string(1.1)
// &quot;1.1&quot;

string(date(&quot;2012-12-25&quot;))
// &quot;2012-12-25&quot;
</code></pre>
`},{name:"number(from)",description:`<p>Parses the given string to a number.</p>
<p>Returns <code>null</code> if the string is not a number.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">number(from: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">number(&quot;1500.5&quot;)
// 1500.5
</code></pre>
`},{name:"context(entries)",description:`<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>
<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>
<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>
<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context(entries: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])
// {a:1, b:2}
</code></pre>
`},{name:"date(from)",description:`<p>Returns a date from the given value.</p>
<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31&quot;</code> is invalid because June has
only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(from: string): date
</code></pre>
<p>Parses the given string into a date.</p>
<pre><code class="language-feel">date(from: date and time): date
</code></pre>
<p>Extracts the date component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(&quot;2018-04-29&quot;)
// date(&quot;2018-04-29&quot;)

date(date and time(&quot;2012-12-25T11:00:00&quot;))
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"date(year, month, day)",description:`<p>Returns a date from the given components.</p>
<p>Returns <code>null</code> if the components don&#39;t represent a valid calendar date. For example, <code>2024,6,31</code> is invalid because
June has only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(year: number, month: number, day: number): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(2012, 12, 25)
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"time(from)",description:`<p>Returns a time from the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(from: string): time
</code></pre>
<p>Parses the given string into a time.</p>
<pre><code class="language-feel">time(from: date and time): time
</code></pre>
<p>Extracts the time component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(&quot;12:00:00&quot;)
// time(&quot;12:00:00&quot;)

time(date and time(&quot;2012-12-25T11:00:00&quot;))
// time(&quot;11:00:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second)",description:`<p>Returns a time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(23, 59, 0)
// time(&quot;23:59:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second, offset)",description:`<p>Returns a time from the given components, including a timezone offset.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))
// time(&quot;14:30:00+01:00&quot;)
</code></pre>
`},{name:"date and time(from)",description:`<p>Parses the given string into a date and time.</p>
<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31T10:00:00&quot;</code> is invalid because
June has only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(from: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(&quot;2018-04-29T09:30:00&quot;)
// date and time(&quot;2018-04-29T09:30:00&quot;)
</code></pre>
`},{name:"date and time(date, time)",description:`<p>Returns a date and time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date, time: time): date and time
</code></pre>
<pre><code class="language-feel">date and time(date: date and time, time: time): date and time
</code></pre>
<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-24T23:59:00&quot;)

date and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-25T23:59:00&quot;)
</code></pre>
`},{name:"date and time(date, timezone)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given date and time value at the given timezone.</p>
<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)
// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)

date and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)
// date and time(&quot;2020-07-31T12:27:30Z&quot;)
</code></pre>
`},{name:"duration(from)",description:`<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duration(from: string): days and time duration
</code></pre>
<pre><code class="language-feel">duration(from: string): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duration(&quot;P5D&quot;)
// duration(&quot;P5D&quot;)

duration(&quot;P32Y&quot;)
// duration(&quot;P32Y&quot;)
</code></pre>
`},{name:"years and months duration(from, to)",description:`<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))
// duration(&quot;P1Y8M&quot;)
</code></pre>
`},{name:"list contains(list, element)",description:`<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">list contains(list: list, element: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">list contains([1,2,3], 2)
// true
</code></pre>
`},{name:"count(list)",description:`<p>Returns the number of elements of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">count(list: list): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">count([1,2,3])
// 3
</code></pre>
`},{name:"min(list)",description:`<p>Returns the minimum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">min(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">min([1,2,3])
// 1

min(1,2,3)
// 1
</code></pre>
`},{name:"max(list)",description:`<p>Returns the maximum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">max(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">max([1,2,3])
// 3

max(1,2,3)
// 3
</code></pre>
`},{name:"sum(list)",description:`<p>Returns the sum of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sum(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sum([1,2,3])
// 6

sum(1,2,3)
// 6
</code></pre>
`},{name:"product(list)",description:`<p>Returns the product of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">product(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">product([2, 3, 4])
// 24

product(2, 3, 4)
// 24
</code></pre>
`},{name:"mean(list)",description:`<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mean(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mean([1,2,3])
// 2

mean(1,2,3)
// 2
</code></pre>
`},{name:"median(list)",description:`<p>Returns the median element of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">median(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">median(8, 2, 5, 3, 4)
// 4

median([6, 1, 2, 3])
// 2.5
</code></pre>
`},{name:"stddev(list)",description:`<p>Returns the standard deviation of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">stddev(2, 4, 7, 5)
// 2.0816659994661326

stddev([2, 4, 7, 5])
// 2.0816659994661326
</code></pre>
`},{name:"mode(list)",description:`<p>Returns the mode of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mode(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mode(6, 3, 9, 6, 6)
// [6]

mode([6, 1, 9, 6, 1])
// [1, 6]
</code></pre>
`},{name:"all(list)",description:`<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>
<p>If the given list is empty, it returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">all([true,false])
// false

all(false,null,true)
// false
</code></pre>
<p>:::info
The function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"any(list)",description:`<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>
<p>If the given list is empty, it returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">any([false,true])
// true

any(false,null,true)
// true
</code></pre>
<p>:::info
The function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"sublist(list, start position)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 2)
// [2,3]
</code></pre>
`},{name:"sublist(list, start position, length)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 1, 2)
// [1,2]
</code></pre>
`},{name:"append(list, items)",description:`<p>Returns the given list with all <code>items</code> appended.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">append(list: list, items: Any): list
</code></pre>
<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">append([1], 2, 3)
// [1,2,3]
</code></pre>
`},{name:"concatenate(lists)",description:`<p>Returns a list that includes all elements of the given lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">concatenate(lists: list): list
</code></pre>
<p>The parameter <code>lists</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">concatenate([1,2],[3])
// [1,2,3]

concatenate([1],[2],[3])
// [1,2,3]
</code></pre>
`},{name:"insert before(list, position, newItem)",description:`<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">insert before([1,3],1,2)
// [2,1,3]
</code></pre>
`},{name:"remove(list, position)",description:`<p>Returns the given list without the element at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">remove(list: list, position: number): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">remove([1,2,3], 2)
// [1,3]
</code></pre>
`},{name:"reverse(list)",description:`<p>Returns the given list in revered order.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">reverse(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">reverse([1,2,3])
// [3,2,1]
</code></pre>
`},{name:"index of(list, match)",description:`<p>Returns an ascending list of positions containing <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">index of([1,2,3,2],2)
// [2,4]
</code></pre>
`},{name:"union(list)",description:`<p>Returns a list that includes all elements of the given lists without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">union(list: list): list
</code></pre>
<p>The parameter <code>list</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">union([1,2],[2,3])
// [1,2,3]
</code></pre>
`},{name:"distinct values(list)",description:`<p>Returns the given list without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">distinct values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">distinct values([1,2,3,2,1])
// [1,2,3]
</code></pre>
`},{name:"duplicate values(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all duplicate values of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duplicate values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duplicate values([1,2,3,2,1])
// [1,2]
</code></pre>
`},{name:"flatten(list)",description:`<p>Returns a list that includes all elements of the given list without nested lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">flatten(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">flatten([[1,2],[[3]], 4])
// [1,2,3,4]
</code></pre>
`},{name:"sort(list, precedes)",description:`<p>Returns the given list sorted by the <code>precedes</code> function.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)
// [1,2,3,4,5]
</code></pre>
`},{name:"string join(list)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])
// &quot;abc&quot;

string join([&quot;a&quot;,null,&quot;c&quot;])
// &quot;ac&quot;

string join([])
// &quot;&quot;
</code></pre>
`},{name:"string join(list, delimiter)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string contains a <code>delimiter</code> between each element.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)
// &quot;a&quot;

string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)
// &quot;a, b, c&quot;
</code></pre>
`},{name:"string join(list, delimiter, prefix, suffix)",description:`<p><em>Camunda Extension</em></p>
<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends
with <code>suffix</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)
// &quot;[a, b, c]&quot;
</code></pre>
`},{name:"is empty(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns <code>true</code> if the given list is empty. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is empty(list: list): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is empty([])
// true

is empty([1,2,3])
// false
</code></pre>
`},{name:"partition(list size)",description:`<p><em>Camunda Extension</em></p>
<p>Returns consecutive sublists of a list, each of the same size (the final list may be smaller).</p>
<p>If <code>size</code> is less than <code>0</code>, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">partition(list: list, size: number): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">partition([1,2,3,4,5], 2)
// [[1,2], [3,4], [5]]

partition([], 2)
// []

partition([1,2], 0)
// null
</code></pre>
`},{name:"decimal(n, scale)",description:`<p>Rounds the given value at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">decimal(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">decimal(1/3, 2)
// .33

decimal(1.5, 0)
// 2
</code></pre>
`},{name:"floor(n)",description:`<p>Rounds the given value with rounding mode flooring.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(1.5)
// 1

floor(-1.5)
// -2
</code></pre>
`},{name:"floor(n, scale)",description:`<p>Rounds the given value with rounding mode flooring at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(-1.56, 1)
// -1.6
</code></pre>
`},{name:"ceiling(n)",description:`<p>Rounds the given value with rounding mode ceiling.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(1.5)
// 2

ceiling(-1.5)
// -1
</code></pre>
`},{name:"ceiling(n, scale)",description:`<p>Rounds the given value with rounding mode ceiling at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(-1.56, 1)
// -1.5
</code></pre>
`},{name:"round up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round up(5.5)
// 6

round up(-5.5)
// -6

round up(1.121, 2)
// 1.13

round up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round down(5.5, 0)
// 5

round down (-5.5, 0)
// -5

round down (1.121, 2)
// 1.12

round down (-1.126, 2)
// -1.12
</code></pre>
`},{name:"round half up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half up(5.5, 0)
// 6

round half up(-5.5, 0)
// -6

round half up(1.121, 2)
// 1.12

round half up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round half down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half down (5.5, 0)
// 5

round half down (-5.5, 0)
// -5

round half down (1.121, 2)
// 1.12

round half down (-1.126, 2)
// -1.13
</code></pre>
`},{name:"abs(number)",description:`<p>Returns the absolute value of the given numeric value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(10)
// 10

abs(-10)
// 10
</code></pre>
`},{name:"modulo(dividend, divisor)",description:`<p>Returns the remainder of the division of dividend by divisor.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">modulo(dividend: number, divisor: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">modulo(12, 5)
// 2
</code></pre>
`},{name:"sqrt(number)",description:`<p>Returns the square root of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sqrt(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sqrt(16)
// 4
</code></pre>
`},{name:"log(number)",description:`<p>Returns the natural logarithm (base e) of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">log(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">log(10)
// 2.302585092994046
</code></pre>
`},{name:"exp(number)",description:`<p>Returns the Eulers number e raised to the power of the given number .</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">exp(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">exp(5)
// 148.4131591025766
</code></pre>
`},{name:"odd(number)",description:`<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">odd(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">odd(5)
// true

odd(2)
// false
</code></pre>
`},{name:"even(number)",description:`<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">even(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">even(5)
// false

even(2)
// true
</code></pre>
`},{name:"random number()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a random number between <code>0</code> and <code>1</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">random number(): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">random number()
// 0.9701618132579795
</code></pre>
`},{name:"before(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, 10)
// true

before(10, 1)
// false
</code></pre>
`},{name:"before(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], 10)
// true
</code></pre>
`},{name:"before(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, [2..5])
// true
</code></pre>
`},{name:"before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], [6..10])
// true

before([1..5),[5..10])
// true
</code></pre>
`},{name:"after(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(10, 1)
// true

after(1, 10)
// false
</code></pre>
`},{name:"after(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([1..5], 10)
// false
</code></pre>
`},{name:"after(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(12, [2..5])
// true
</code></pre>
`},{name:"after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([6..10], [1..5])
// true

after([5..10], [1..5))
// true
</code></pre>
`},{name:"meets(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">meets(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">meets([1..5], [5..10])
// true

meets([1..3], [4..6])
// false

meets([1..3], [3..5])
// true

meets([1..5], (5..8])
// false
</code></pre>
`},{name:"met by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">met by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">met by([5..10], [1..5])
// true

met by([3..4], [1..2])
// false

met by([3..5], [1..3])
// true

met by((5..8], [1..5))
// false

met by([5..10], [1..5))
// false
</code></pre>
`},{name:"overlaps(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps([5..10], [1..6])
// true

overlaps((3..7], [1..4])
// true

overlaps([1..3], (3..6])
// false

overlaps((5..8], [1..5))
// false

overlaps([4..10], [1..5))
// true
</code></pre>
`},{name:"overlaps before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps before([1..5], [4..10])
// true

overlaps before([3..4], [1..2])
// false

overlaps before([1..3], (3..5])
// false

overlaps before([1..5), (3..8])
// true

overlaps before([1..5), [5..10])
// false
</code></pre>
`},{name:"overlaps after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps after([4..10], [1..5])
// true

overlaps after([3..4], [1..2])
// false

overlaps after([3..5], [1..3))
// false

overlaps after((5..8], [1..5))
// false

overlaps after([4..10], [1..5))
// true
</code></pre>
`},{name:"finishes(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes(5, [1..5])
// true

finishes(10, [1..7])
// false
</code></pre>
`},{name:"finishes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes([3..5], [1..5])
// true

finishes((1..5], [1..5))
// false

finishes([5..10], [1..10))
// false
</code></pre>
`},{name:"finished by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([5..10], 10)
// true

finished by([3..4], 2)
// false
</code></pre>
`},{name:"finished by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([1..5], [3..5])
// true

finished by((5..8], [1..5))
// false

finished by([5..10], (1..10))
// false
</code></pre>
`},{name:"includes(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([5..10], 6)
// true

includes([3..4], 5)
// false
</code></pre>
`},{name:"includes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([1..10], [4..6])
// true

includes((5..8], [1..5))
// false

includes([1..10], [1..5))
// true
</code></pre>
`},{name:"during(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during(5, [1..10])
// true

during(12, [1..10])
// false

during(1, (1..10])
// false
</code></pre>
`},{name:"during(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during([4..6], [1..10))
// true

during((1..5], (1..10])
// true
</code></pre>
`},{name:"starts(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts(1, [1..5])
// true

starts(1, (1..8])
// false
</code></pre>
`},{name:"starts(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts((1..5], [1..5])
// false

starts([1..10], [1..5])
// false

starts((1..5), (1..10))
// true
</code></pre>
`},{name:"started by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], 1)
// true

started by((1..10], 1)
// false
</code></pre>
`},{name:"started by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], [1..5])
// true

started by((1..10], [1..5))
// false

started by([1..10], [1..10))
// true
</code></pre>
`},{name:"coincides(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides(5, 5)
// true

coincides(3, 4)
// false
</code></pre>
`},{name:"coincides(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides([1..5], [1..5])
// true

coincides((1..5], [1..5))
// false

coincides([1..5], [2..6])
// false
</code></pre>
`},{name:"substring(string, start position)",description:`<p>Returns a substring of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)
// &quot;obar&quot;

substring(&quot;foobar&quot;, -2)
// &quot;ar&quot;
</code></pre>
`},{name:"substring(string, start position, length)",description:`<p>Returns a substring of the given value, starting at <code>start position</code> with the given <code>length</code>. If <code>length</code> is greater than
the remaining characters of the value, it returns all characters from <code>start position</code> until the end.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number, length: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)
// &quot;oba&quot;

substring(&quot;foobar&quot;, -3, 2)
// &quot;ba&quot;

substring(&quot;foobar&quot;, 3, 10)
// &quot;obar&quot;
</code></pre>
`},{name:"string length(string)",description:`<p>Returns the number of characters in the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string length(string: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string length(&quot;foo&quot;)
// 3
</code></pre>
`},{name:"upper case(string)",description:`<p>Returns the given value with all characters are uppercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">upper case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">upper case(&quot;aBc4&quot;)
// &quot;ABC4&quot;
</code></pre>
`},{name:"lower case(string)",description:`<p>Returns the given value with all characters are lowercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">lower case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">lower case(&quot;aBc4&quot;)
// &quot;abc4&quot;
</code></pre>
`},{name:"substring before(string, match)",description:`<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring before(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)
// &quot;foo&quot;
</code></pre>
`},{name:"substring after(string, match)",description:`<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring after(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)
// &quot;ar&quot;
</code></pre>
`},{name:"contains(string, match)",description:`<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">contains(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)
// false
</code></pre>
`},{name:"starts with(string, match)",description:`<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)
// true
</code></pre>
`},{name:"ends with(string, match)",description:`<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ends with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern, flags)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)
// true
</code></pre>
`},{name:"replace(input, pattern, replacement)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)
// &quot;[1=ab][2=]cd&quot;

replace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)
// &quot;(012) 345-6789&quot;
</code></pre>
`},{name:"replace(input, pattern, replacement, flags)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)
// &quot;How do you FEEL?&quot;
</code></pre>
`},{name:"split(string, delimiter)",description:`<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;
</code></pre>
<p>The <code>delimiter</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )
// [&quot;John&quot;, &quot;Doe&quot;]

split(&quot;a;b;c;;&quot;, &quot;;&quot;)
// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]
</code></pre>
`},{name:"extract(string, pattern)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t
match.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)
// [&quot;1234&quot;,&quot;1256&quot;]
</code></pre>
`},{name:"trim(string)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given string without leading and trailing spaces.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">trim(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">trim(&quot;  hello world  &quot;)
// &quot;hello world&quot;

trim(&quot;hello   world &quot;)
// &quot;hello   world&quot;
</code></pre>
`},{name:"uuid()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a UUID (Universally Unique Identifier) with 36 characters.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">uuid(): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">uuid()
// &quot;7793aab1-d761-4d38-916b-b7270e309894&quot;
</code></pre>
`},{name:"to base64(value)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given string encoded in Base64 format.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">to base64(value: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">to base64(&quot;FEEL&quot;)
// &quot;RkVFTA==&quot;
</code></pre>
`},{name:"is blank(string)",description:`<p><em>Camunda Extension</em></p>
<p>Returns <code>true</code> if the given string is blank (empty or contains only whitespaces).</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is blank(string: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is blank(&quot;&quot;)
// true

is blank(&quot; &quot;)
// true

is blank(&quot;hello world&quot;)
// false
</code></pre>
`},{name:"now()",description:`<p>Returns the current date and time including the timezone.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">now(): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">now()
// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)
</code></pre>
`},{name:"today()",description:`<p>Returns the current date.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">today(): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">today()
// date(&quot;2020-07-31&quot;)
</code></pre>
`},{name:"day of week(date)",description:`<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of week(date: date): string
</code></pre>
<pre><code class="language-feel">day of week(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))
// &quot;Tuesday&quot;

day of week(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;Tuesday&quot;
</code></pre>
`},{name:"day of year(date)",description:`<p>Returns the Gregorian number of the day within the year.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of year(date: date): number
</code></pre>
<pre><code class="language-feel">day of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))
// 260

day of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 260
</code></pre>
`},{name:"week of year(date)",description:`<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">week of year(date: date): number
</code></pre>
<pre><code class="language-feel">week of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))
// 38

week of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 38
</code></pre>
`},{name:"month of year(date)",description:`<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">month of year(date: date): string
</code></pre>
<pre><code class="language-feel">month of year(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))
// &quot;September&quot;

month of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;September&quot;
</code></pre>
`},{name:"abs(n)",description:`<p>Returns the absolute value of a given duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(n: days and time duration): days and time duration
</code></pre>
<pre><code class="language-feel">abs(n: years and months duration): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;-P2M&quot;))
// duration(&quot;P2M&quot;)
</code></pre>
`},{name:"last day of month(date)",description:`<p><em>Camunda Extension</em></p>
<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">last day of month(date: date): date
</code></pre>
<pre><code class="language-feel">last day of month(date: date and time): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))
// date(&quot;2022-10-31&quot;))

last day of month(date and time(&quot;2022-10-16T12:00:00&quot;))
// date(&quot;2022-10-31&quot;))
</code></pre>
`}];function C7e(n){return n.map(O7e)}function O7e(n){const{name:e,description:t}=n,r=e.match(/^([\w\s]+)\((.*)\)$/),i=r[1],o=r[2],a=o?o.split(", ").map(c=>({name:c})):[];return{name:i,type:"function",params:a,info:()=>gV(`<div class="description">${t}<div>`),boost:0}}const T7e=C7e(k7e),vde=new Nw,yde=new Nw;function Vw({extensions:n=[],dialect:e="expression",parserDialect:t,container:r,contentAttributes:i={},tooltipContainer:o,onChange:a=()=>{},onKeyDown:c=()=>{},onLint:u=()=>{},placeholder:h="",readOnly:m=!1,value:y="",builtins:w=T7e,variables:S=[]}){const T=Vt.updateListener.of(I=>{I.docChanged&&a(I.state.doc.toString())}),O=Vt.updateListener.of(I=>{const R=I.transactions.flatMap(X=>X.effects).filter(X=>X.is(B2));if(!R.length)return;const z=R.flatMap(X=>X.value);u(z)}),N=Vt.domEventHandlers({keydown:c});typeof o=="string"&&(o=document.querySelector(o));const D=o?Qae({tooltipSpace:function(){return o.getBoundingClientRect()}}):[],F=[Q4e(),vde.of(gde({dialect:e,builtins:w,variables:S,parserDialect:t})),cle(),ile(),vle(),Vt.contentAttributes.of(i),T,N,L2.of([...Wle]),l7e,O,D,yde.of(Gae(h)),f7e,...n];return m&&F.push(Vt.editable.of(!1)),this._cmEditor=new Vt({state:Lr.create({doc:y,extensions:F}),parent:r}),this}Vw.prototype.setValue=function(n){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:n}})};Vw.prototype.focus=function(n){const e=this._cmEditor;if(e.contentDOM.focus(),e.focus(),typeof n=="number"){const t=e.state.doc.length;e.dispatch({selection:{anchor:n<=t?n:t}})}};Vw.prototype.getSelection=function(){return this._cmEditor.state.selection};Vw.prototype.setVariables=function(n){const e=S7e(this._cmEditor.state);this._cmEditor.dispatch({effects:[vde.reconfigure(gde({...e,variables:n}))]})};Vw.prototype.setPlaceholder=function(n){this._cmEditor.dispatch({effects:yde.reconfigure(Gae(n))})};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var bde=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],pN=bde.join(","),xde=typeof Element>"u",h0=xde?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mN=!xde&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},gN=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",a=o||t&&e&&n(e.parentNode);return a},P7e=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},wde=function(e,t,r){if(gN(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(pN));return t&&h0.call(e,pN)&&i.unshift(e),i=i.filter(r),i},_de=function n(e,t,r){for(var i=[],o=Array.from(e);o.length;){var a=o.shift();if(!gN(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),u=c.length?c:a.children,h=n(u,!0,r);r.flatten?i.push.apply(i,h):i.push({scopeParent:a,candidates:h})}else{var m=h0.call(a,pN);m&&r.filter(a)&&(t||!e.includes(a))&&i.push(a);var y=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),w=!gN(y,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(y&&w){var S=n(y===!0?a.children:y.children,!0,r);r.flatten?i.push.apply(i,S):i.push({scopeParent:a,candidates:S})}else o.unshift.apply(o,a.children)}}return i},Ede=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},_y=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||P7e(e))&&!Ede(e)?0:e.tabIndex},A7e=function(e,t){var r=_y(e);return r<0&&t&&!Ede(e)?0:r},R7e=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Sde=function(e){return e.tagName==="INPUT"},M7e=function(e){return Sde(e)&&e.type==="hidden"},D7e=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},N7e=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},I7e=function(e){if(!e.name)return!0;var t=e.form||mN(e),r=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=N7e(i,e.form);return!o||o===e},F7e=function(e){return Sde(e)&&e.type==="radio"},L7e=function(e){return F7e(e)&&!I7e(e)},$7e=function(e){var t,r=e&&mN(e),i=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var a,c,u;for(o=!!((a=i)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(i)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!o&&i;){var h,m,y;r=mN(i),i=(h=r)===null||h===void 0?void 0:h.host,o=!!((m=i)!==null&&m!==void 0&&(y=m.ownerDocument)!==null&&y!==void 0&&y.contains(i))}}return o},CX=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},j7e=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=h0.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(h0.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var c=e;e;){var u=e.parentElement,h=mN(e);if(u&&!u.shadowRoot&&i(u)===!0)return CX(e);e.assignedSlot?e=e.assignedSlot:!u&&h!==e.ownerDocument?e=h.host:e=u}e=c}if($7e(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return CX(e);return!1},B7e=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return h0.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},vN=function(e,t){return!(t.disabled||gN(t)||M7e(t)||j7e(t,e)||D7e(t)||B7e(t))},h6=function(e,t){return!(L7e(t)||_y(t)<0||!vN(e,t))},V7e=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},z7e=function n(e){var t=[],r=[];return e.forEach(function(i,o){var a=!!i.scopeParent,c=a?i.scopeParent:i,u=A7e(c,a),h=a?n(i.candidates):c;u===0?a?t.push.apply(t,h):t.push(c):r.push({documentOrder:o,tabIndex:u,item:i,isScope:a,content:h})}),r.sort(R7e).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(t)},H7e=function(e,t){t=t||{};var r;return t.getShadowRoot?r=_de([e],t.includeContainer,{filter:h6.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:V7e}):r=wde(e,t.includeContainer,h6.bind(null,t)),z7e(r)},W7e=function(e,t){t=t||{};var r;return t.getShadowRoot?r=_de([e],t.includeContainer,{filter:vN.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=wde(e,t.includeContainer,vN.bind(null,t)),r},C1=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return h0.call(e,pN)===!1?!1:h6(t,e)},q7e=bde.concat("iframe").join(","),x4=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return h0.call(e,q7e)===!1?!1:vN(t,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function p6(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function U7e(n){if(Array.isArray(n))return p6(n)}function G7e(n,e,t){return(e=Z7e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y7e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function TX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OX(Object(t),!0).forEach(function(r){G7e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function K7e(n){return U7e(n)||Y7e(n)||J7e(n)||Q7e()}function X7e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Z7e(n){var e=X7e(n,"string");return typeof e=="symbol"?e:e+""}function J7e(n,e){if(n){if(typeof n=="string")return p6(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p6(n,e):void 0}}var PX={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r._setPausedState(!0)}var i=e.indexOf(t);i===-1||e.splice(i,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},eVe=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},tVe=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Kk=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},nVe=function(e){return Kk(e)&&!e.shiftKey},rVe=function(e){return Kk(e)&&e.shiftKey},AX=function(e){return setTimeout(e,0)},ok=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},WR=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},iVe=[],oVe=function(e,t){var r=(t==null?void 0:t.document)||document,i=(t==null?void 0:t.trapStack)||iVe,o=TX({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:nVe,isKeyBackward:rVe},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,u=function(fe,pe,Ce){return fe&&fe[pe]!==void 0?fe[pe]:o[Ce||pe]},h=function(fe,pe){var Ce=typeof(pe==null?void 0:pe.composedPath)=="function"?pe.composedPath():void 0;return a.containerGroups.findIndex(function(Ae){var We=Ae.container,xe=Ae.tabbableNodes;return We.contains(fe)||(Ce==null?void 0:Ce.includes(We))||xe.find(function($e){return $e===fe})})},m=function(fe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=pe.hasFallback,Ae=Ce===void 0?!1:Ce,We=pe.params,xe=We===void 0?[]:We,$e=o[fe];if(typeof $e=="function"&&($e=$e.apply(void 0,K7e(xe))),$e===!0&&($e=void 0),!$e){if($e===void 0||$e===!1)return $e;throw new Error("`".concat(fe,"` was specified but was not a node, or did not return a node"))}var Je=$e;if(typeof $e=="string"){try{Je=r.querySelector($e)}catch(Ne){throw new Error("`".concat(fe,'` appears to be an invalid selector; error="').concat(Ne.message,'"'))}if(!Je&&!Ae)throw new Error("`".concat(fe,"` as selector refers to no known node"))}return Je},y=function(){var fe=m("initialFocus",{hasFallback:!0});if(fe===!1)return!1;if(fe===void 0||fe&&!x4(fe,o.tabbableOptions))if(h(r.activeElement)>=0)fe=r.activeElement;else{var pe=a.tabbableGroups[0],Ce=pe&&pe.firstTabbableNode;fe=Ce||m("fallbackFocus")}else fe===null&&(fe=m("fallbackFocus"));if(!fe)throw new Error("Your focus-trap needs to have at least one focusable element");return fe},w=function(){if(a.containerGroups=a.containers.map(function(fe){var pe=H7e(fe,o.tabbableOptions),Ce=W7e(fe,o.tabbableOptions),Ae=pe.length>0?pe[0]:void 0,We=pe.length>0?pe[pe.length-1]:void 0,xe=Ce.find(function(Ne){return C1(Ne)}),$e=Ce.slice().reverse().find(function(Ne){return C1(Ne)}),Je=!!pe.find(function(Ne){return _y(Ne)>0});return{container:fe,tabbableNodes:pe,focusableNodes:Ce,posTabIndexesFound:Je,firstTabbableNode:Ae,lastTabbableNode:We,firstDomTabbableNode:xe,lastDomTabbableNode:$e,nextTabbableNode:function(Ue){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ze=pe.indexOf(Ue);return Ze<0?le?Ce.slice(Ce.indexOf(Ue)+1).find(function(Qe){return C1(Qe)}):Ce.slice(0,Ce.indexOf(Ue)).reverse().find(function(Qe){return C1(Qe)}):pe[Ze+(le?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(fe){return fe.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(fe){return fe.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},S=function(fe){var pe=fe.activeElement;if(pe)return pe.shadowRoot&&pe.shadowRoot.activeElement!==null?S(pe.shadowRoot):pe},T=function(fe){if(fe!==!1&&fe!==S(document)){if(!fe||!fe.focus){T(y());return}fe.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=fe,eVe(fe)&&fe.select()}},O=function(fe){var pe=m("setReturnFocus",{params:[fe]});return pe||(pe===!1?!1:fe)},N=function(fe){var pe=fe.target,Ce=fe.event,Ae=fe.isBackward,We=Ae===void 0?!1:Ae;pe=pe||WR(Ce),w();var xe=null;if(a.tabbableGroups.length>0){var $e=h(pe,Ce),Je=$e>=0?a.containerGroups[$e]:void 0;if($e<0)We?xe=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:xe=a.tabbableGroups[0].firstTabbableNode;else if(We){var Ne=a.tabbableGroups.findIndex(function(Et){var on=Et.firstTabbableNode;return pe===on});if(Ne<0&&(Je.container===pe||x4(pe,o.tabbableOptions)&&!C1(pe,o.tabbableOptions)&&!Je.nextTabbableNode(pe,!1))&&(Ne=$e),Ne>=0){var Ue=Ne===0?a.tabbableGroups.length-1:Ne-1,le=a.tabbableGroups[Ue];xe=_y(pe)>=0?le.lastTabbableNode:le.lastDomTabbableNode}else Kk(Ce)||(xe=Je.nextTabbableNode(pe,!1))}else{var Ze=a.tabbableGroups.findIndex(function(Et){var on=Et.lastTabbableNode;return pe===on});if(Ze<0&&(Je.container===pe||x4(pe,o.tabbableOptions)&&!C1(pe,o.tabbableOptions)&&!Je.nextTabbableNode(pe))&&(Ze=$e),Ze>=0){var Qe=Ze===a.tabbableGroups.length-1?0:Ze+1,Ct=a.tabbableGroups[Qe];xe=_y(pe)>=0?Ct.firstTabbableNode:Ct.firstDomTabbableNode}else Kk(Ce)||(xe=Je.nextTabbableNode(pe))}}else xe=m("fallbackFocus");return xe},D=function(fe){var pe=WR(fe);if(!(h(pe,fe)>=0)){if(ok(o.clickOutsideDeactivates,fe)){c.deactivate({returnFocus:o.returnFocusOnDeactivate});return}ok(o.allowOutsideClick,fe)||fe.preventDefault()}},F=function(fe){var pe=WR(fe),Ce=h(pe,fe)>=0;if(Ce||pe instanceof Document)Ce&&(a.mostRecentlyFocusedNode=pe);else{fe.stopImmediatePropagation();var Ae,We=!0;if(a.mostRecentlyFocusedNode)if(_y(a.mostRecentlyFocusedNode)>0){var xe=h(a.mostRecentlyFocusedNode),$e=a.containerGroups[xe].tabbableNodes;if($e.length>0){var Je=$e.findIndex(function(Ne){return Ne===a.mostRecentlyFocusedNode});Je>=0&&(o.isKeyForward(a.recentNavEvent)?Je+1<$e.length&&(Ae=$e[Je+1],We=!1):Je-1>=0&&(Ae=$e[Je-1],We=!1))}}else a.containerGroups.some(function(Ne){return Ne.tabbableNodes.some(function(Ue){return _y(Ue)>0})})||(We=!1);else We=!1;We&&(Ae=N({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),T(Ae||a.mostRecentlyFocusedNode||y())}a.recentNavEvent=void 0},I=function(fe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=fe;var Ce=N({event:fe,isBackward:pe});Ce&&(Kk(fe)&&fe.preventDefault(),T(Ce))},R=function(fe){(o.isKeyForward(fe)||o.isKeyBackward(fe))&&I(fe,o.isKeyBackward(fe))},z=function(fe){tVe(fe)&&ok(o.escapeDeactivates,fe)!==!1&&(fe.preventDefault(),c.deactivate())},X=function(fe){var pe=WR(fe);h(pe,fe)>=0||ok(o.clickOutsideDeactivates,fe)||ok(o.allowOutsideClick,fe)||(fe.preventDefault(),fe.stopImmediatePropagation())},Z=function(){if(a.active)return PX.activateTrap(i,c),a.delayInitialFocusTimer=o.delayInitialFocus?AX(function(){T(y())}):T(y()),r.addEventListener("focusin",F,!0),r.addEventListener("mousedown",D,{capture:!0,passive:!1}),r.addEventListener("touchstart",D,{capture:!0,passive:!1}),r.addEventListener("click",X,{capture:!0,passive:!1}),r.addEventListener("keydown",R,{capture:!0,passive:!1}),r.addEventListener("keydown",z),c},ae=function(){if(a.active)return r.removeEventListener("focusin",F,!0),r.removeEventListener("mousedown",D,!0),r.removeEventListener("touchstart",D,!0),r.removeEventListener("click",X,!0),r.removeEventListener("keydown",R,!0),r.removeEventListener("keydown",z),c},ge=function(fe){var pe=fe.some(function(Ce){var Ae=Array.from(Ce.removedNodes);return Ae.some(function(We){return We===a.mostRecentlyFocusedNode})});pe&&T(y())},_e=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(ge):void 0,be=function(){_e&&(_e.disconnect(),a.active&&!a.paused&&a.containers.map(function(fe){_e.observe(fe,{subtree:!0,childList:!0})}))};return c={get active(){return a.active},get paused(){return a.paused},activate:function(fe){if(a.active)return this;var pe=u(fe,"onActivate"),Ce=u(fe,"onPostActivate"),Ae=u(fe,"checkCanFocusTrap");Ae||w(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,pe==null||pe();var We=function(){Ae&&w(),Z(),be(),Ce==null||Ce()};return Ae?(Ae(a.containers.concat()).then(We,We),this):(We(),this)},deactivate:function(fe){if(!a.active)return this;var pe=TX({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},fe);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,ae(),a.active=!1,a.paused=!1,be(),PX.deactivateTrap(i,c);var Ce=u(pe,"onDeactivate"),Ae=u(pe,"onPostDeactivate"),We=u(pe,"checkCanReturnFocus"),xe=u(pe,"returnFocus","returnFocusOnDeactivate");Ce==null||Ce();var $e=function(){AX(function(){xe&&T(O(a.nodeFocusedBeforeActivation)),Ae==null||Ae()})};return xe&&We?(We(O(a.nodeFocusedBeforeActivation)).then($e,$e),this):($e(),this)},pause:function(fe){return a.active?(a.manuallyPaused=!0,this._setPausedState(!0,fe)):this},unpause:function(fe){return a.active?(a.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,fe)):this},updateContainerElements:function(fe){var pe=[].concat(fe).filter(Boolean);return a.containers=pe.map(function(Ce){return typeof Ce=="string"?r.querySelector(Ce):Ce}),a.active&&w(),be(),this}},Object.defineProperties(c,{_isManuallyPaused:{value:function(){return a.manuallyPaused}},_setPausedState:{value:function(fe,pe){if(a.paused===fe)return this;if(a.paused=fe,fe){var Ce=u(pe,"onPause"),Ae=u(pe,"onPostPause");Ce==null||Ce(),ae(),be(),Ae==null||Ae()}else{var We=u(pe,"onUnpause"),xe=u(pe,"onPostUnpause");We==null||We(),w(),Z(),be(),xe==null||xe()}return this}}}),c.updateContainerElements(e),c},yN="__fn",kde=1e3,sVe=Array.prototype.slice;function Bl(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}Bl.prototype.on=function(n,e,t,r){if(n=Ho(n)?n:[n],yi(e)&&(r=t,t=e,e=kde),!pa(e))throw new Error("priority must be a number");var i=t;r&&(i=yie(t,r),i[yN]=t[yN]||t);var o=this;n.forEach(function(a){o._addListener(a,{priority:e,callback:i,next:null})})};Bl.prototype.once=function(n,e,t,r){var i=this;if(yi(e)&&(r=t,t=e,e=kde),!pa(e))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var a=t.apply(r,arguments);return i.off(n,o),a}o[yN]=t,this.on(n,e,o)};Bl.prototype.off=function(n,e){n=Ho(n)?n:[n];var t=this;n.forEach(function(r){t._removeListener(r,e)})};Bl.prototype.createEvent=function(n){var e=new q2;return e.init(n),e};Bl.prototype.fire=function(n,e){var t,r,i,o;if(o=sVe.call(arguments),typeof n=="object"&&(e=n,n=e.type),!n)throw new Error("no event type specified");if(r=this._listeners[n],!!r){e instanceof q2?t=e:t=this.createEvent(e),o[0]=t;var a=t.type;n!==a&&(t.type=n);try{i=this._invokeListeners(t,o,r)}finally{n!==a&&(t.type=a)}return i===void 0&&t.defaultPrevented&&(i=!1),i}};Bl.prototype.handleError=function(n){return this.fire("error",{error:n})===!1};Bl.prototype._destroy=function(){this._listeners={}};Bl.prototype._invokeListeners=function(n,e,t){for(var r;t&&!n.cancelBubble;)r=this._invokeListener(n,e,t),t=t.next;return r};Bl.prototype._invokeListener=function(n,e,t){var r;if(t.callback.__isTomb)return r;try{r=aVe(t.callback,e),r!==void 0&&(n.returnValue=r,n.stopPropagation()),r===!1&&n.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener",i),i}return r};Bl.prototype._addListener=function(n,e){var t=this._getListeners(n),r;if(!t){this._setListeners(n,e);return}for(;t;){if(t.priority<e.priority){e.next=t,r?r.next=e:this._setListeners(n,e);return}r=t,t=t.next}r.next=e};Bl.prototype._getListeners=function(n){return this._listeners[n]};Bl.prototype._setListeners=function(n,e){this._listeners[n]=e};Bl.prototype._removeListener=function(n,e){var t=this._getListeners(n),r,i,o;if(!e){this._setListeners(n,null);return}for(;t;)r=t.next,o=t.callback,(o===e||o[yN]===e)&&(i?i.next=r:this._setListeners(n,r)),i=t,t=r};function q2(){}q2.prototype.stopPropagation=function(){this.cancelBubble=!0};q2.prototype.preventDefault=function(){this.defaultPrevented=!0};q2.prototype.init=function(n){C9(this,n||{})};function aVe(n,e){return n.apply(null,e)}function Cde(n=!0){const e=typeof n=="number"?n:n?300:0;return e?t=>Pke(t,e):t=>t}Cde.$inject=["config.debounce"];class lVe extends pV{updateId(e,t){if(this._validateId(t),this._eventBus.fire("formField.updateId",{formField:e,newId:t}),this.remove(e),e.id=t,this.add(e),"components"in e)for(const r of e.components)r._parent=t}_validateId(e){if(!e)throw new Error("formField must have an id");if(this.get(e))throw new Error("formField with id "+e+" already added")}}const AM=16,RX=16,m6=2,MX=4;class Ode{constructor(e,t){this._formLayouter=e,this._formFieldRegistry=t}validateField(e={},t,r){if(Number.isInteger(t)){if(t<m6)return`Minimum ${m6} columns are allowed`;if(t>RX)return`Maximum ${RX} columns are allowed`}r||(r=this._formLayouter.getRowForField(e));let i=parseInt(t)||0,o=1,a=t?0:1;return r.components.forEach(c=>{if(e.id===c)return;const h=(this._formFieldRegistry.get(c).layout||{}).columns;h||a++,i+=parseInt(h)||0,o++}),i>AM||a>0&&i>cVe(a)||t===AM&&o>1?`New value exceeds the maximum of ${AM} columns per row`:o>MX?`Maximum ${MX} fields per row are allowed`:null}}Ode.$inject=["formLayouter","formFieldRegistry"];function cVe(n){return AM-n*2}const uVe=hVe();function Bf(n,{disabled:e=!1}={}){if(!n)throw new Error("type required");return gn("fjs-form-field",`fjs-form-field-${n}`,{"fjs-disabled":e})}function dVe(n){let e,t,r;function i(c){e=this,t=c.clientX,r=c.clientY,c.dataTransfer&&c.dataTransfer.setDragImage(uVe,0,0),document.addEventListener("dragover",o),document.addEventListener("dragend",a),document.addEventListener("drop",DX)}function o(c){const u={x:c.clientX-t,y:c.clientY-r};return n.call(e,c,u)}function a(){document.removeEventListener("dragover",o),document.removeEventListener("dragend",a),document.removeEventListener("drop",DX)}return i}function fVe(n){let e=!1,t=[],r;return function(...i){t=i,r=this,!e&&(e=!0,n.apply(r,t),window.requestAnimationFrame(function(){t=r=e=void 0}))}}function DX(n){n.preventDefault(),n.stopPropagation()}function hVe(){const n=new Image;return n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n}function Tde(n){const{field:e,domId:t}=n,{label:r}=e,i=jg(e.type);return B("div",{class:Bf(e.type),children:[B(zo,{id:t,label:r}),B("div",{class:"fjs-iframe-placeholder",id:t,children:B("p",{class:"fjs-iframe-placeholder-text",children:[B(i,{width:"32",height:"24",viewBox:"0 0 56 56"}),"iFrame"]})})]})}Tde.config=tV.config;const Pde=$l({drake:null});function pVe(n,e){}const Ade=$l({getService:pVe});function vi(n,e){const{getService:t}=_r(Ade);return t(n,e)}var NX;function g6(){return g6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},g6.apply(null,arguments)}var mVe=function(e){return tt("svg",g6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),NX||(NX=tt("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z",clipRule:"evenodd"})))},IX,FX;function v6(){return v6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},v6.apply(null,arguments)}var gVe=function(e){return tt("svg",v6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),tt("rect",{width:16,height:16,x:.536,fill:"#fff",rx:3,style:{mixBlendMode:"multiply"}}),tt("path",{fill:"#fff",d:"M0 0h16v16H0z",style:{mixBlendMode:"multiply"},transform:"translate(.536)"}),IX||(IX=tt("path",{fill:"currentcolor",d:"M7.536 6h-1v6h1zm3 0h-1v6h1z"})),FX||(FX=tt("path",{fill:"currentcolor",d:"M2.536 3v1h1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h1V3zm2 11V4h8v10zm6-13h-4v1h4z"})))},LX;function y6(){return y6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},y6.apply(null,arguments)}var vVe=function(e){return tt("svg",y6({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:16,height:16,fill:"currentcolor",viewBox:"0 0 32 32"},e),LX||(LX=tt("path",{d:"M10 6h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4z"})),tt("path",{d:"M0 0h32v32H0z",style:{fill:"none"}}))},$X;function b6(){return b6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},b6.apply(null,arguments)}var yVe=function(e){return tt("svg",b6({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none"},e),$X||($X=tt("path",{fill:"currentColor",d:"m14.5 13.793-3.776-3.776a5.508 5.508 0 1 0-.707.707l3.776 3.776zM2 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0"})))},jX,BX,VX,zX,HX,WX,qX,UX;function x6(){return x6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},x6.apply(null,arguments)}var bVe=function(e){return tt("svg",x6({xmlns:"http://www.w3.org/2000/svg",width:126,height:96,fill:"none"},e),jX||(jX=tt("path",{fill:"#FF832B",fillRule:"evenodd",d:"M70 78v8a3 3 0 0 1-3 3h-8v-5h6v-6zm0-16h-5V46h5zm0-32h-5v-6h-6v-5h8a3 3 0 0 1 3 3zM43 19v5H27v-5zm-32 0v5H5v6H0v-8a3 3 0 0 1 3-3zM0 46h5v16H0zm0 32h5v6h6v5H3a3 3 0 0 1-3-3zm27 11v-5h16v5z",clipRule:"evenodd"})),BX||(BX=tt("rect",{width:70,height:70,fill:"#E5E5E5",rx:3,transform:"matrix(-1 0 0 1 94 0)"})),VX||(VX=tt("mask",{id:"EmptyForm_svg__a",fill:"#fff"},tt("path",{fillRule:"evenodd",d:"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z",clipRule:"evenodd"}))),zX||(zX=tt("path",{fill:"#393939",fillRule:"evenodd",d:"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z",clipRule:"evenodd"})),HX||(HX=tt("path",{fill:"#393939",d:"M75.43 45.185 70.6 46.48l-2.241-8.365 8.365 2.242zm11.655 43.499 4.037 2.95-6.163 8.432-2.704-10.088zm31.844-31.843 1.294-4.83 10.088 2.703-8.432 6.163zm-11.044 8.072-3.535 3.535-4.128-4.127 4.713-3.445zm8.557 8.556 3.535-3.535 3.536 3.535-3.536 3.536zm-12.728 12.728 3.536 3.536-3.536 3.535-3.536-3.535zm-8.557-8.556-4.036-2.951 3.444-4.713 4.128 4.128zM80.26 43.89 91.915 87.39l-9.66 2.588L70.6 46.48zm37.375 17.78L74.136 50.014l2.588-9.66 43.499 11.656zm-12.699-.795 11.043-8.072 5.901 8.073-11.043 8.072zm7.971 16.129-8.556-8.557 7.071-7.07 8.556 8.556zm-12.728 5.657 12.728-12.728 7.071 7.07-12.727 12.729zm-1.485-8.557 8.557 8.557-7.072 7.07-8.556-8.556zM83.049 85.733 91.12 74.69l8.073 5.901-8.072 11.044z",mask:"url(#EmptyForm_svg__a)"})),WX||(WX=tt("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"m69.431 39.163-9.192-9.192"})),qX||(qX=tt("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M1.5-1.5h8",transform:"matrix(-1 0 0 1 68.213 50.123)"})),UX||(UX=tt("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M78.969 36.367v-8"})))};function Rde(n){const{type:e,text:t=""}=n.field,r=jg("text"),i=vi("templating"),o=vi("expressionLanguage");return!t||!t.trim()?B("div",{class:Bf(e),children:B("div",{class:"fjs-form-field-placeholder",children:[B(r,{viewBox:"0 0 54 54"}),"Text view is empty"]})}):o.isExpression(t)?B("div",{class:Bf(e),children:B("div",{class:"fjs-form-field-placeholder",children:[B(r,{viewBox:"0 0 54 54"}),"Text view is populated by an expression"]})}):i.isTemplate(t)?B("div",{class:Bf(e),children:B("div",{class:"fjs-form-field-placeholder",children:[B(r,{viewBox:"0 0 54 54"}),"Text view is templated"]})}):B(VI,{...n,disableLinks:!0})}Rde.config=VI.config;function Mde(n){const{type:e,content:t=""}=n.field,r=jg(e),i=vi("templating"),o=vi("expressionLanguage");return!t||!t.trim()?B("div",{class:Bf(e),children:B("div",{class:"fjs-form-field-placeholder",children:[B(r,{viewBox:"0 0 54 54"}),"Html view is empty"]})}):o.isExpression(t)?B("div",{class:Bf(e),children:B("div",{class:"fjs-form-field-placeholder",children:[B(r,{viewBox:"0 0 54 54"}),"Html view is populated by an expression"]})}):i.isTemplate(t)?B("div",{class:Bf(e),children:B("div",{class:"fjs-form-field-placeholder",children:[B(r,{viewBox:"0 0 54 54"}),"Html view is templated"]})}):B(zI,{...n,disableLinks:!0})}Mde.config=zI.config;function Dde(n){const{columnsExpression:e,columns:t,id:r,label:i}=n.field,a=typeof e=="string"&&e.length>0||Array.isArray(t)&&t.length===0?[{key:"1",label:"Column 1"},{key:"2",label:"Column 2"},{key:"3",label:"Column 3"}]:t,c=`fjs-form-${r}`;return B("div",{class:Bf("table",{disabled:!0}),children:[B(zo,{id:c,label:i}),B("div",{class:"fjs-table-middle-container",children:B("div",{class:"fjs-table-inner-container",children:B("table",{class:gn("fjs-table","fjs-disabled"),id:c,children:[B("thead",{class:"fjs-table-head",children:B("tr",{class:"fjs-table-tr",children:a.map(({key:u,label:h})=>B("th",{class:"fjs-table-th",children:h},u))})}),B("tbody",{class:"fjs-table-body",children:B("tr",{class:"fjs-table-tr",children:a.map(({key:u})=>B("td",{class:"fjs-table-td",children:"Content"},u))})})]})})})]})}Dde.config=aV.config;const xVe="expression";function Nde(n){const{field:e}=n,{expression:t="",key:r}=e,i=jg("expression"),o=vi("expressionLanguage");let a="Expression is empty";return t.trim()&&o.isExpression(t)&&(a=`Expression for '${r}'`),B("div",{class:Bf(xVe),children:B("div",{class:"fjs-form-field-placeholder",children:[B(i,{viewBox:"0 0 54 54"}),a]})})}Nde.config={...sV.config,escapeGridRender:!1};function Ide(n){const{field:e,domId:t}=n,{label:r}=e,i=jg(e.type);return B("div",{class:Bf(e.type),children:[B(zo,{id:t,label:r}),B("div",{class:"fjs-documentPreview-placeholder",id:t,children:B("p",{class:"fjs-documentPreview-placeholder-text",children:[B(i,{width:"32",height:"24",viewBox:"0 0 56 56"}),"Document preview"]})})]})}Ide.config=lV.config;const wVe=[Tde,Rde,Mde,Dde,Nde,Ide];class _Ve extends cV{constructor(){super(),wVe.forEach(e=>{this.register(e.config.type,e)})}}const GX=n=>{const{rootClass:e,RootElement:t,section:r,children:i}=n,o=vi("eventBus"),a=vi(`config.${r}`),[c,u]=Nt(a&&a.parent||null),[h,m]=Nt(!0),y=Jt(()=>{if(c===null)return null;if(typeof c=="string"){if(!document.querySelector(c))throw new Error(`Target root element with selector '${c}' not found for section '${r}'`);return document.querySelector(c)}if(!(c instanceof Element))throw new Error(`Target root element for section '${r}' must be a valid selector or DOM element`);return c},[r,c]);kt(()=>{const S=({container:N})=>{u(N),m(!0)},T=()=>{u(null),m(!1)},O=()=>{u(null),m(!0)};return o.on(`${r}.attach`,S),o.on(`${r}.detach`,T),o.on(`${r}.reset`,O),o.fire(`${r}.section.rendered`),()=>{o.off(`${r}.attach`,S),o.off(`${r}.detach`,T),o.off(`${r}.reset`,O),o.fire(`${r}.section.destroyed`)}},[o,r]),kt(()=>{if(h)return o.fire(`${r}.rendered`,{element:y}),()=>{o.fire(`${r}.destroyed`,{element:y})}},[o,r,h,y]);const w=ln(({children:S})=>t?B(t,{children:S}):B("div",{className:e,children:S}),[e,t]);return h?c?yI(B(w,{children:i}),y):B(w,{children:i}):null},Fde=$l({addFill(n,e){throw new Error("FillContext.addFill() uninitialized")},removeFill(n){throw new Error("FillContext.addFill() uninitialized")}}),EVe=n=>{const e=dn(Symbol("fill_uid")),t=_r(Fde);return kt(()=>{if(t)return t.addFill({id:e,...n}),()=>{t.removeFill(e)}},[t,n]),null},Lde=$l({fills:[]}),$de=n=>{const{name:e,fillRoot:t=SVe,groupFn:r=CVe,separatorFn:i=y=>null,limit:o}=n,{fills:a}=_r(Lde),c=Jt(()=>a.filter(y=>y.slot===e),[a,e]),u=Jt(()=>o?c.slice(0,o):c,[c,o]),h=Jt(()=>r(u),[u,r]);return Jt(()=>kVe(h,t,i),[h,t,i])},SVe=n=>B(ki,{children:n.children},n.id),kVe=(n,e,t)=>{const r=[];return n.forEach((i,o)=>{if(o!==0){const a=t(`__separator_${o}`);a&&r.push(a)}i.forEach(a=>{r.push(e(a))})}),r},CVe=n=>{const e=[],t={};return n.forEach(function(r){const{group:i="z_default"}=r;let o=t[i];o||(t[i]=o=[],e.push(o)),o.push(r)}),e.forEach(r=>r.sort(OVe)),Object.keys(t).sort().map(r=>t[r])},OVe=(n,e)=>(e.priority||0)-(n.priority||0),YX=()=>{},TVe=n=>{const[e,t]=Nt([]),{onSetFill:r=YX,onRemoveFill:i=YX}=n,o=Jt(()=>({addFill:c=>{t(u=>[...u.filter(h=>h.id!==c.id),c]),r(c)},removeFill:c=>{t(u=>u.filter(h=>h.id!==c)),i(c)}}),[i,r]),a=Jt(()=>({fills:e}),[e]);return B(Lde.Provider,{value:a,children:B(Fde.Provider,{value:o,children:n.children})})};function PVe(n){const{type:e,label:t,icon:r,iconUrl:i,getPaletteIcon:o}=n,a=vi("modeling"),c=vi("formEditor"),u=o({icon:r,iconUrl:i,label:t,type:e}),h=m=>{if(m.code==="Enter"){const{fieldType:y}=m.target.dataset,{schema:w}=c._getState();a.addFormField({type:y},w,w.components.length)}};return B("button",{type:"button",class:"fjs-palette-field fjs-drag-copy fjs-no-drop","data-field-type":e,title:`Create ${AVe(e)} ${t} element`,onKeyDown:h,children:[u?B(u,{class:"fjs-palette-field-icon",width:"36",height:"36",viewBox:"0 0 54 54"}):null,B("span",{class:"fjs-palette-field-text",children:t})]})}function AVe(n){return["image"].includes(n)?"an":"a"}const RVe=[{label:"Input",id:"basic-input"},{label:"Selection",id:"selection"},{label:"Presentation",id:"presentation"},{label:"Containers",id:"container"},{label:"Action",id:"action"}];function MVe(n){const e=vi("formFields"),t=dn(jde(e)),[r,i]=Nt(t.current),[o,a]=Nt(""),c=dn(),u=NVe(r),h=ln(S=>S.toLowerCase().replace(/\s+/g,""),[]),m=ln(S=>{const T=h(o);if(!T)return!0;const O=h(S.label),N=h(S.type);return O.includes(T)||N.includes(T)},[o,h]);kt(()=>{const S=t.current.filter(m);i(S)},[m,o]);const y=ln(S=>{a(()=>S.target.value)},[a]),w=ln(S=>{a(""),c.current.focus()},[c,a]);return B("div",{class:"fjs-palette",children:[B("div",{class:"fjs-palette-header",title:"Components",children:"Components"}),B("div",{class:"fjs-palette-search-container",children:[B("span",{class:"fjs-palette-search-icon",children:B(yVe,{})}),B("input",{class:"fjs-palette-search",ref:c,type:"text",placeholder:"Search components",value:o,onInput:y}),o&&B("button",{type:"button",title:"Clear content",class:"fjs-palette-search-clear",onClick:w,children:B(mVe,{})})]}),B("div",{class:"fjs-palette-entries",children:[u.map(({label:S,entries:T,id:O})=>B("div",{class:"fjs-palette-group","data-group-id":O,children:[B("span",{class:"fjs-palette-group-title",children:S}),B("div",{class:"fjs-palette-fields fjs-drag-container fjs-no-drop",children:T.map(N=>B(PVe,{getPaletteIcon:bV,...N},N.type))})]},O)),u.length==0&&B("div",{class:"fjs-palette-no-entries",children:"No components found."})]}),B("div",{class:"fjs-palette-footer",children:B($de,{name:"editor-palette__footer",fillRoot:DVe})})]})}const DVe=n=>B("div",{className:"fjs-palette-footer-fill",children:n.children});function NVe(n){const e=RVe.map(r=>({...r,entries:[]})),t=r=>e.find(i=>r===i.id);return n.forEach(r=>{const{group:i}=r;t(i).entries.push(r)}),e.filter(r=>r.entries.length)}function jde(n){return Object.entries(n._formFields).map(([e,t])=>{const{config:r}=t;return{label:r.name||r.label,type:e,group:r.group,icon:r.icon,iconUrl:r.iconUrl}}).filter(({type:e})=>e!=="default")}function bV(n){const{icon:e,iconUrl:t,type:r,label:i}=n;let o;return t?o=function(){return B("img",{class:"fjs-field-icon-image",width:36,style:{margin:"auto"},alt:i,src:Kce(t)})}:o=e||jg(r),o}const IVe=()=>{const e=vi("renderInjector").fetchRenderers(),t=Jt(()=>({useService:vi,components:{Fill:EVe,Slot:$de}}),[]);return B(ki,{children:e.map(({Renderer:r},i)=>B(r,{...t},i))})},FVe=/^fjs-cursor-.*$/;function WI(n){const e=HI(document.body);e.removeMatching(FVe),n&&e.add("fjs-cursor-"+n)}function LVe(){WI(null)}const QX="fjs-drag-container",w6="fjs-drop-container-vertical",bN="fjs-drop-container-horizontal",_6="fjs-drag-move",Xk="fjs-drag-row-move",KX="fjs-drag-copy",$Ve="fjs-no-drop",Bde="fjs-no-move",Vde="fjs-error-drop";class zde{constructor(e,t,r,i,o,a){this._formFieldRegistry=e,this._formLayouter=t,this._formLayoutValidator=r,this._eventBus=i,this._modeling=o,this._pathRegistry=a}getTargetIndex(e,t,r){const i=r&&r.querySelector(".fjs-element"),o=i&&this._formFieldRegistry.get(i.dataset.id);return o?sk(t,o):e?sk(t,this._formFieldRegistry.get(e.components[e.components.length-1]))+1:t.components.length}validateDrop(e,t){const r=e.querySelector(".fjs-element"),i=this._formLayouter.getRow(t.dataset.rowId);let o,a,c;if(r){if(a=this._formFieldRegistry.get(r.dataset.id),!a)return"No associated form field in the registry";if(o=(a.layout||{}).columns,w4(t)){c=qR(t).dataset.id;const m=this._formLayoutValidator.validateField(a,o,i);if(m)return m}else c=t.dataset.id;if(!c)return"Drop is not a valid target";const u=this._formFieldRegistry.get(c),h=this._formFieldRegistry.get(a._parent);if(u!==h){const m=this._pathRegistry.getValuePath(u),y=this._pathRegistry.getValuePath(h);if(m.join(".")!==y.join(".")&&!this._pathRegistry.executeRecursivelyOnFields(a,({field:S,isClosed:T,isRepeatable:O})=>{const N={cutoffNode:h.id},D=this._pathRegistry.getValuePath(S,N);return this._pathRegistry.canClaimPath([...m,...D],{isClosed:T,isRepeatable:O,knownAncestorIds:Qk(c,this._formFieldRegistry)})}))return"Drop not allowed by path registry"}}}moveField(e,t,r,i,o){const a=e.querySelector(".fjs-element"),c=this._formFieldRegistry.get(a.dataset.id),u=qR(t),h=this._formFieldRegistry.get(u.dataset.id),m=sk(h,c),y=this._formLayouter.getRowForField(c);this._modeling.moveFormField(c,h,i,m,o,y,r)}createNewField(e,t,r,i){let a={type:e.dataset.fieldType};a={...a,_parent:r.id,layout:{row:t?t.id:this._formLayouter.nextRowId(),columns:null}},this._modeling.addFormField(a,r,i)}handleRowDrop(e,t,r,i){const o=this._formFieldRegistry.get(t.dataset.id),a=e.querySelector(".fjs-layout-row"),c=this._formLayouter.getRow(a.dataset.rowId);c.components.forEach((u,h)=>{const m=this._formFieldRegistry.get(u),y=qR(r),w=this._formFieldRegistry.get(y.dataset.id),S=i&&i.querySelector(".fjs-layout-row"),T=S&&this._formLayouter.getRow(S.dataset.rowId),O=i&&this._formFieldRegistry.get(T.components[0]),N=sk(w,m),D=(S?sk(o,O):o.components.length)+h;this._modeling.moveFormField(m,w,o,N,D,c,c)})}handleElementDrop(e,t,r,i,o){const a=this._formFieldRegistry.get(qR(t).dataset.id);let c;if(w4(t)&&(c=this._formLayouter.getRow(t.dataset.rowId)),this.validateDrop(e,t))return o.cancel(!0);o.remove();const h=this.getTargetIndex(c,a,i);BVe(r)?this.createNewField(e,c,a,h):this.moveField(e,r,c,a,h)}createDragulaInstance(e){const{container:t,mirrorContainer:r}=e||{},o=G9e({direction:function(a,c){return w4(c)?"horizontal":"vertical"},mirrorContainer:r,isContainer(a){return t.some(c=>a.classList.contains(c))},moves(a,c,u){return!u.classList.contains(Bde)&&(a.classList.contains(_6)||a.classList.contains(KX)||a.classList.contains(Xk))},copy(a){return a.classList.contains(KX)},accepts:(a,c)=>(zVe(c),a.classList.contains(Xk)?!c.classList.contains(bN):(this.validateDrop(a,c)&&VVe(c),!c.classList.contains($Ve))),transformOffset:(a,c,u)=>{if(u.classList.contains(Xk)){const h={x:-5,y:-60};return{left:c.clientX+h.x,top:c.clientY+h.y}}if(u.classList.contains(_6)){const h={x:-5,y:-15};return{left:c.clientX+h.x,top:c.clientY+h.y}}return a},slideFactorX:10,slideFactorY:5});return o.on("drag",(a,c)=>{this.emit("drag.start",{element:a,source:c})}),o.on("dragend",a=>{this.emit("drag.end",{element:a})}),o.on("drop",(a,c,u,h)=>{this.emit("drag.drop",{element:a,target:c,source:u,sibling:h})}),o.on("over",(a,c,u)=>{this.emit("drag.hover",{element:a,container:c,source:u})}),o.on("out",(a,c,u)=>{this.emit("drag.out",{element:a,container:c,source:u})}),o.on("cancel",(a,c,u)=>{this.emit("drag.cancel",{element:a,container:c,source:u})}),o.on("drop",(a,c,u,h)=>{if(!c){o.remove();return}jVe(a)?this.handleRowDrop(a,c,u,h):this.handleElementDrop(a,c,u,h,o)}),this.emit("dragula.created",o),o}emit(e,t){this._eventBus.fire(e,t)}}zde.$inject=["formFieldRegistry","formLayouter","formLayoutValidator","eventBus","modeling","pathRegistry"];function sk(n,e){let t=n.components.length;return n.components.forEach(({id:r},i)=>{r===e.id&&(t=i)}),t}function w4(n){return n.classList.contains("fjs-layout-row")}function jVe(n){return n.classList.contains(Xk)}function BVe(n){return n.classList.contains("fjs-palette-fields")}function qR(n){return n.closest(".fjs-element")}function VVe(n){n.classList.add(Vde),WI("not-allowed")}function zVe(n){n.classList.remove(Vde),WI("grabbing")}function HVe(n){const{class:e,Icon:t,label:r}=n;return B("div",{class:gn("fjs-field-preview",e),children:[B(t,{class:"fjs-field-preview-icon",width:"36",height:"36",viewBox:"0 0 54 54"}),B("span",{class:"fjs-field-preview-text",children:r})]})}const WVe=/^cds--col(-lg)?/,Hde="fjs-element-resizing",qVe=16;function XX(n){const{field:e,position:t}=n,r=dn(null),i=vi("formLayoutValidator"),o=vi("modeling"),a=dn({startColumns:0,newColumns:0}),c=fVe((m,y)=>{const{x:w}=y,{layout:S={}}=e,T=UVe(r.current,S.columns||a.current.startColumns,w,t);if(!i.validateField(e,T)){a.current.newColumns=T;const N=r.current.closest(".fjs-layout-column");GVe(N,WVe),N.classList.add(`cds--col-lg-${T}`)}}),u=m=>{const y=ZX(e),w=qde(y);dVe(c)(m);const O=YVe(y).getBoundingClientRect().width+qVe;a.current.startColumns=Wde(O,w),QVe(y,t)},h=()=>{const{layout:m={}}=e;a.current.newColumns&&o.editFormField(e,"layout",{...m,columns:a.current.newColumns});const y=ZX(e);KVe(y,t),a.current.newColumns=null};return e.type==="default"?null:B("div",{ref:r,class:gn("fjs-field-resize-handle","fjs-field-resize-handle-"+t,Bde),draggable:!0,onDragStart:u,onDragEnd:h})}function Wde(n,e){const t=e.getBoundingClientRect().width,r=1/16*t;return Math.round(n/r)}function UVe(n,e,t,r){const i=qde(n);r==="left"&&(t=t*-1);const o=Wde(t,i);return e+o}function qde(n){return n.closest(".fjs-layout-row")}function GVe(n,e){return HI(n).removeMatching(e)}function YVe(n){return n.closest(".fjs-layout-column")}function ZX(n){return cp('.fjs-element[data-id="'+n.id+'"]')}function QVe(n,e){HI(n).add(Hde+"-"+e)}function KVe(n,e){HI(n).remove(Hde+"-"+e)}function XVe(n){return n.children?B("div",{class:"fjs-context-pad",children:n.children}):null}function ZVe(){return B("div",{class:"fjs-empty-component",children:B("span",{class:"fjs-empty-component-text",children:"Drag and drop components here."})})}function JVe(){return B("div",{class:"fjs-empty-editor",children:B("div",{class:"fjs-empty-editor-card",children:[B(bVe,{}),B("h2",{children:"Build your form"}),B("span",{children:"Drag and drop components here to start designing."}),B("span",{children:"Use the preview window to test your form."})]})})}function eze(n){return["group","dynamiclist"].includes(n.field.type)?B(ZVe,{}):n.field.type==="default"?B(JVe,{}):null}function tze(n){const e=vi("eventBus"),t=vi("formFieldRegistry"),r=vi("formFields"),i=vi("modeling"),o=vi("selection"),{hoverInfo:a}=_r($g),{field:c}=n,{id:u,type:h,showOutline:m}=c,y=dn(),[w,S]=Nt(!1);kt(()=>{function I({selection:R}){const z=Wce(y.current);if(!R||R.type==="default"||R.id!==u||!z||!y.current)return;const X=y.current.getBoundingClientRect(),Z=z.getBoundingClientRect(),ae=X.height>Z.height;(X.bottom>Z.bottom||X.top<Z.top)&&!ae&&y.current.scrollIntoView({behavior:"auto",block:"nearest"})}return e.on("selection.changed",I),()=>e.off("selection.changed",I)},[e,u]),s0(()=>{o.isSelected(c)&&y.current.focus()},[o,c]);const T=ln(I=>{const R=I.target.closest("[data-id]");if(!R)return;R.dataset.id===c.id&&o.toggle(c)},[c,o]),O=o.isSelected(c),N=Jt(()=>{const I=[];return n.class&&I.push(...n.class.split(" ")),O&&I.push("fjs-editor-selected"),["group","dynamiclist"].includes(h)&&I.push(m?"fjs-outlined":"fjs-dashed-outlined"),w&&I.push("fjs-editor-hovered"),I.join(" ")},[w,O,n.class,m,h]),D=I=>{I.stopPropagation();const R=t.get(c._parent),z=aze(R,c);i.removeFormField(c,R,z)};return B("div",{class:N,"data-id":u,"data-field-type":h,tabIndex:h==="default"?-1:0,onClick:T,onKeyPress:I=>{I.key==="Enter"&&(I.stopPropagation(),o.toggle(c))},onMouseOver:I=>{a.cleanup&&a.cleanup(),S(!0),a.cleanup=()=>S(!1),I.stopPropagation()},ref:y,children:[B(nze,{field:c}),B(XVe,{children:o.isSelected(c)&&c.type!=="default"?B("button",{type:"button",title:uze(c,r),class:"fjs-context-pad-item",onClick:D,children:B(gVe,{})}):null}),n.children,B(XX,{position:"left",field:c}),B(XX,{position:"right",field:c})]})}function nze(n){const{field:e}=n;return!vi("config.debugColumns")||e.type=="default"?null:B("div",{style:"width: fit-content; padding: 2px 6px; height: 16px; background: var(--color-blue-205-100-95); display: flex; justify-content: center; align-items: center; position: absolute; bottom: -2px; z-index: 2; font-size: 10px; right: 3px;",class:"fjs-debug-columns",children:(e.layout||{}).columns||"auto"})}function rze(n){const{field:e}=n,{id:t}=e,r=["fjs-children",w6];return n.class&&r.push(...n.class.split(" ")),B("div",{class:r.join(" "),"data-id":t,children:n.children})}function ize(n){const{row:e}=n,{id:t}=e,r=[bN];return n.class&&r.push(...n.class.split(" ")),B("div",{class:gn(Xk),children:[B("span",{class:"fjs-row-dragger",children:B(vVe,{})}),B("div",{class:r.join(" "),style:n.style,"data-row-id":t,children:n.children})]})}function oze(n){const{field:e}=n,t=[_6];return e.type==="default"?n.children:(n.class&&t.push(...n.class.split(" ")),B("div",{"data-field-type":e.type,class:t.join(" "),children:n.children}))}function sze(){const n=vi("dragging"),e=vi("eventBus"),t=vi("formEditor"),r=vi("injector"),i=vi("selection"),o=vi("propertiesPanel"),a=vi("config.propertiesPanel"),{schema:c,properties:u}=t._getState(),{ariaLabel:h}=u,m=dn(null),y=dn(null),[,w]=Nt(c),[S,T]=Nt(!1);kt(()=>{function Z(ae){w(ae.selection||c)}return e.on("selection.changed",Z),()=>{e.off("selection.changed",Z)}},[e,c]),kt(()=>{w(i.get()||c)},[i,c]);const[O,N]=Nt(null),D={drake:O};kt(()=>{let Z=n.createDragulaInstance({container:[QX,w6,bN],mirrorContainer:m.current});N(Z);const ae=()=>{Z&&(Z.destroy(),e.fire("dragula.destroyed"))},ge=()=>{ae(),Z=n.createDragulaInstance({container:[QX,w6,bN],mirrorContainer:m.current}),N(Z)},_e=fe=>{N(fe)},be=()=>{WI("grabbing")},he=()=>{LVe()};return e.on("attach",ge),e.on("detach",ae),e.on("dragula.created",_e),e.on("drag.start",be),e.on("drag.end",he),()=>{ae(),e.off("attach",ge),e.off("detach",ae),e.off("dragula.created",_e),e.off("drag.start",be),e.off("drag.end",he)}},[n,e]),kt(()=>{S||(T(!0),e.fire("rendered"),e.fire("formEditor.rendered"))},[e,S]);const F=Jt(()=>({Children:rze,Column:oze,Element:tze,Empty:eze,Row:ize,hoverInfo:{}}),[]),I=Jt(()=>({getService(Z,ae=!0){return Z==="form"?{_getState(){return{data:{},errors:{},properties:{ariaLabel:h,disabled:!0},schema:c}}}:r.get(Z,ae)},formId:t._id}),[h,t,r,c]),R=ln(()=>{},[]),z=ln(()=>{},[]),X=cze(a);return kt(()=>{X&&o.attachTo(y.current)},[y,o,X]),B("div",{class:"fjs-form-editor",children:B(TVe,{children:[B(Pde.Provider,{value:D,children:[B(GX,{rootClass:"fjs-palette-container",section:"palette",children:B(MVe,{})}),B("div",{ref:m,class:"fjs-form-container",children:B($w.Provider,{value:I,children:B($g.Provider,{value:F,children:B(jue,{onSubmit:R,onReset:z})})})}),B(lze,{})]}),X&&B("div",{class:"fjs-editor-properties-container",ref:y}),B(GX,{rootClass:"fjs-render-injector-container",section:"renderInjector",children:B(IVe,{})})]})})}function aze(n,e){let t=n.components.length;return n.components.forEach(({id:r},i)=>{r===e.id&&(t=i)}),t}function lze(n){const{drake:e}=_r(Pde),t=vi("formFields");return kt(()=>{if(!e)return;function r(i,o,a){const c=i.dataset.fieldType;if(c){const u=Ude(c,t);if(!u)return;const{label:h}=u,m=bV(u);i.innerHTML="",i.class="gu-mirror",i.classList.add("fjs-field-preview-container"),o.classList.contains("fjs-palette-field")&&i.classList.add("cds--col"),sp(B(HVe,{label:h,Icon:m}),i)}else["fjs-context-pad","fjs-row-dragger","fjs-debug-columns"].forEach(u=>{const h=i.querySelectorAll("."+u);h.length&&h.forEach(m=>m.remove())}),i.classList.add("cds--grid"),i.classList.add("cds--grid--condensed")}return e.on("cloned",r),()=>e.off("cloned",r)},[e,t]),null}function Ude(n,e){return jde(e).find(t=>t.type===n)}function cze(n){return!(n&&n.parent)}function uze(n,e){const t=Ude(n.type,e);return t?`Remove ${t.label}`:"Remove form field"}class Gde{constructor(e,t,r,i){const{container:o,compact:a=!1}=e;t.on("form.init",function(){t.fire("canvas.init",{svg:o,viewport:null})}),o.addEventListener("mouseover",function(){document.activeElement===document.body&&o.focus({preventScroll:!0})}),o.addEventListener("click",function(u){o.contains(document.activeElement)||o.focus({preventScroll:!0})});const c=()=>{const[u,h]=Nt(r._getState()),m={getService(w,S=!0){return i.get(w,S)}};r.on("changed",w=>{h(w)});const{schema:y}=u;return y?B("div",{class:`fjs-container fjs-editor-container ${a?"fjs-editor-compact":""}`,children:B(Ade.Provider,{value:m,children:B(sze,{})})}):null};t.on("form.init",()=>{sp(B(c,{}),o)}),t.on("form.destroy",()=>{sp(null,o)})}}Gde.$inject=["config.renderer","eventBus","formEditor","injector"];const dze={__init__:["formFields","renderer"],formFields:["type",_Ve],renderer:["type",Gde]},fze={__depends__:[dze],debounce:["factory",Cde],eventBus:["type",Bl],importer:["type",uV],formFieldRegistry:["type",lVe],pathRegistry:["type",fV],formLayouter:["type",hV],formLayoutValidator:["type",Ode],fieldFactory:["type",dV]};var Yde="is not a registered action",hze="is already registered";function Qf(n,e){this._actions={};var t=this;n.on("diagram.init",function(){t._registerDefaultActions(e),n.fire("editorActions.init",{editorActions:t})})}Qf.$inject=["eventBus","injector"];Qf.prototype._registerDefaultActions=function(n){var e=n.get("commandStack",!1),t=n.get("modeling",!1),r=n.get("selection",!1),i=n.get("zoomScroll",!1),o=n.get("copyPaste",!1),a=n.get("canvas",!1),c=n.get("rules",!1),u=n.get("keyboardMove",!1),h=n.get("keyboardMoveSelection",!1);e&&(this.register("undo",function(){e.undo()}),this.register("redo",function(){e.redo()})),o&&r&&this.register("copy",function(){var m=r.get();if(m.length)return o.copy(m)}),o&&this.register("paste",function(){o.paste()}),i&&this.register("stepZoom",function(m){i.stepZoom(m.value)}),a&&this.register("zoom",function(m){a.zoom(m.value)}),t&&r&&c&&this.register("removeSelection",function(){var m=r.get();if(m.length){var y=c.allowed("elements.delete",{elements:m}),w;y!==!1&&(Ho(y)?w=y:w=m,w.length&&t.removeElements(w.slice()))}}),u&&this.register("moveCanvas",function(m){u.moveCanvas(m)}),h&&this.register("moveSelection",function(m){h.moveSelection(m.direction,m.accelerated)})};Qf.prototype.trigger=function(n,e){if(!this._actions[n])throw xV(n,Yde);return this._actions[n](e)};Qf.prototype.register=function(n,e){var t=this;if(typeof n=="string")return this._registerAction(n,e);Gf(n,function(r,i){t._registerAction(i,r)})};Qf.prototype._registerAction=function(n,e){if(this.isRegistered(n))throw xV(n,hze);this._actions[n]=e};Qf.prototype.unregister=function(n){if(!this.isRegistered(n))throw xV(n,Yde);this._actions[n]=void 0};Qf.prototype.getActions=function(){return Object.keys(this._actions)};Qf.prototype.isRegistered=function(n){return!!this._actions[n]};function xV(n,e){return new Error(n+" "+e)}var pze={__init__:["editorActions"],editorActions:["type",Qf]};class Qde extends Qf{constructor(e,t){super(e,t),e.on("form.init",()=>{this._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:this})})}_registerDefaultActions(e){const t=e.get("commandStack",!1),r=e.get("formFieldRegistry",!1),i=e.get("selection",!1);t&&(this.register("undo",()=>{t.undo()}),this.register("redo",()=>{t.redo()})),r&&i&&this.register("selectFormField",(o={})=>{const{id:a}=o;if(!a)return;const c=r.get(a);c&&i.set(c)})}}Qde.$inject=["eventBus","injector"];const mze={__depends__:[pze],editorActions:["type",Qde]};class Kde{isTemplate(e){return Ii(e)&&(e.startsWith("=")||/{{/.test(e))}evaluate(e){return e}}Kde.$inject=[];const gze={__init__:["expressionLanguage","templating"],expressionLanguage:["type",$I],templating:["type",Kde]};var vze=["c","C"],yze=["v","V"],bze=["y","Y"],Xde=["z","Z"];function xze(n){return n.ctrlKey||n.metaKey||n.shiftKey||n.altKey}function ug(n){return n.altKey?!1:n.ctrlKey||n.metaKey}function Df(n,e){return n=Ho(n)?n:[n],n.indexOf(e.key)!==-1||n.indexOf(e.code)!==-1}function wV(n){return n.shiftKey}function wze(n){return ug(n)&&Df(vze,n)}function _ze(n){return ug(n)&&Df(yze,n)}function Zde(n){return ug(n)&&!wV(n)&&Df(Xde,n)}function Jde(n){return ug(n)&&(Df(bze,n)||Df(Xde,n)&&wV(n))}var qI="keyboard.keydown",Eze="keyboard.keyup",Sze=1e3,efe="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function ba(n,e){var t=this;this._config=n=n||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){t._fire("destroy"),t.unbind()}),n.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(efe));var r=n&&n.bind!==!1;e.on("canvas.init",function(i){t._target=i.svg,r&&t.bind(),t._fire("init")})}ba.$inject=["config.keyboard","eventBus"];ba.prototype._keydownHandler=function(n){this._keyHandler(n,qI)};ba.prototype._keyupHandler=function(n){this._keyHandler(n,Eze)};ba.prototype._keyHandler=function(n,e){var t;if(!this._isEventIgnored(n)){var r={keyEvent:n};t=this._eventBus.fire(e||qI,r),t&&n.preventDefault()}};ba.prototype._isEventIgnored=function(n){return!1};ba.prototype.bind=function(n){n&&console.error("unsupported argument <node>",new Error(efe)),this.unbind(),n=this._node=this._target,hN.bind(n,"keydown",this._keydownHandler),hN.bind(n,"keyup",this._keyupHandler),this._fire("bind")};ba.prototype.getBinding=function(){return this._node};ba.prototype.unbind=function(){var n=this._node;n&&(this._fire("unbind"),hN.unbind(n,"keydown",this._keydownHandler),hN.unbind(n,"keyup",this._keyupHandler)),this._node=null};ba.prototype._fire=function(n){this._eventBus.fire("keyboard."+n,{node:this._node})};ba.prototype.addListener=function(n,e,t){yi(n)&&(t=e,e=n,n=Sze),this._eventBus.on(t||qI,n,e)};ba.prototype.removeListener=function(n,e){this._eventBus.off(e||qI,n)};ba.prototype.hasModifier=xze;ba.prototype.isCmd=ug;ba.prototype.isShift=wV;ba.prototype.isKey=Df;var kze=500;function _V(n,e){var t=this;n.on("editorActions.init",kze,function(r){var i=r.editorActions;t.registerBindings(e,i)})}_V.$inject=["eventBus","keyboard"];_V.prototype.registerBindings=function(n,e){function t(r,i){e.isRegistered(r)&&n.addListener(i)}t("undo",function(r){var i=r.keyEvent;if(Zde(i))return e.trigger("undo"),!0}),t("redo",function(r){var i=r.keyEvent;if(Jde(i))return e.trigger("redo"),!0}),t("copy",function(r){var i=r.keyEvent;if(wze(i))return e.trigger("copy"),!0}),t("paste",function(r){var i=r.keyEvent;if(_ze(i))return e.trigger("paste"),!0}),t("stepZoom",function(r){var i=r.keyEvent;if(Df(["+","Add","="],i)&&ug(i))return e.trigger("stepZoom",{value:1}),!0}),t("stepZoom",function(r){var i=r.keyEvent;if(Df(["-","Subtract"],i)&&ug(i))return e.trigger("stepZoom",{value:-1}),!0}),t("zoom",function(r){var i=r.keyEvent;if(Df("0",i)&&ug(i))return e.trigger("zoom",{value:1}),!0}),t("removeSelection",function(r){var i=r.keyEvent;if(Df(["Backspace","Delete","Del"],i))return e.trigger("removeSelection"),!0})};var Cze={__init__:["keyboard","keyboardBindings"],keyboard:["type",ba],keyboardBindings:["type",_V]};const Oze=500;class tfe{constructor(e,t){e.on("editorActions.init",Oze,r=>{const{editorActions:i}=r;this.registerBindings(t,i)})}registerBindings(e,t){function r(i,o){t.isRegistered(i)&&e.addListener(o)}r("undo",i=>{const{keyEvent:o}=i;if(Zde(o))return t.trigger("undo"),!0}),r("redo",i=>{const{keyEvent:o}=i;if(Jde(o))return t.trigger("redo"),!0})}}tfe.$inject=["eventBus","keyboard"];const Tze={__depends__:[Cze],__init__:["keyboardBindings"],keyboardBindings:["type",tfe]},Pze={__init__:["dragging"],dragging:["type",zde]};function Yi(n,e){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=e,this._eventBus=n,this._uid=1,n.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Yi.$inject=["eventBus","injector"];Yi.prototype.execute=function(n,e){if(!n)throw new Error("command required");this._currentExecution.trigger="execute";const t={command:n,context:e};this._pushAction(t),this._internalExecute(t),this._popAction()};Yi.prototype.canExecute=function(n,e){const t={command:n,context:e},r=this._getHandler(n);let i=this._fire(n,"canExecute",t);if(i===void 0){if(!r)return!1;r.canExecute&&(i=r.canExecute(e))}return i};Yi.prototype.clear=function(n){this._stack.length=0,this._stackIdx=-1,n!==!1&&this._fire("changed",{trigger:"clear"})};Yi.prototype.undo=function(){let n=this._getUndoAction(),e;if(n){for(this._currentExecution.trigger="undo",this._pushAction(n);n&&(this._internalUndo(n),e=this._getUndoAction(),!(!e||e.id!==n.id));)n=e;this._popAction()}};Yi.prototype.redo=function(){let n=this._getRedoAction(),e;if(n){for(this._currentExecution.trigger="redo",this._pushAction(n);n&&(this._internalExecute(n,!0),e=this._getRedoAction(),!(!e||e.id!==n.id));)n=e;this._popAction()}};Yi.prototype.register=function(n,e){this._setHandler(n,e)};Yi.prototype.registerHandler=function(n,e){if(!n||!e)throw new Error("command and handlerCls must be defined");const t=this._injector.instantiate(e);this.register(n,t)};Yi.prototype.canUndo=function(){return!!this._getUndoAction()};Yi.prototype.canRedo=function(){return!!this._getRedoAction()};Yi.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};Yi.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};Yi.prototype._internalUndo=function(n){const e=n.command,t=n.context,r=this._getHandler(e);this._atomicDo(()=>{this._fire(e,"revert",n),r.revert&&this._markDirty(r.revert(t)),this._revertedAction(n),this._fire(e,"reverted",n)})};Yi.prototype._fire=function(n,e,t){arguments.length<3&&(t=e,e=null);const r=e?[n+"."+e,e]:[n];let i;t=this._eventBus.createEvent(t);for(const o of r)if(i=this._eventBus.fire("commandStack."+o,t),t.cancelBubble)break;return i};Yi.prototype._createId=function(){return this._uid++};Yi.prototype._atomicDo=function(n){const e=this._currentExecution;e.atomic=!0;try{n()}finally{e.atomic=!1}};Yi.prototype._internalExecute=function(n,e){const t=n.command,r=n.context,i=this._getHandler(t);if(!i)throw new Error("no command handler registered for <"+t+">");this._pushAction(n),e||(this._fire(t,"preExecute",n),i.preExecute&&i.preExecute(r),this._fire(t,"preExecuted",n)),this._atomicDo(()=>{this._fire(t,"execute",n),i.execute&&this._markDirty(i.execute(r)),this._executedAction(n,e),this._fire(t,"executed",n)}),e||(this._fire(t,"postExecute",n),i.postExecute&&i.postExecute(r),this._fire(t,"postExecuted",n)),this._popAction()};Yi.prototype._pushAction=function(n){const e=this._currentExecution,t=e.actions,r=t[0];if(e.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+n.command+")");n.id||(n.id=r&&r.id||this._createId()),t.push(n)};Yi.prototype._popAction=function(){const n=this._currentExecution,e=n.trigger,t=n.actions,r=n.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:gie("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:e}),n.trigger=null)};Yi.prototype._markDirty=function(n){const e=this._currentExecution;n&&(n=Ho(n)?n:[n],e.dirty=e.dirty.concat(n))};Yi.prototype._executedAction=function(n,e){const t=++this._stackIdx;e||this._stack.splice(t,this._stack.length,n)};Yi.prototype._revertedAction=function(n){this._stackIdx--};Yi.prototype._getHandler=function(n){return this._handlerMap[n]};Yi.prototype._setHandler=function(n,e){if(!n||!e)throw new Error("command and handler required");if(this._handlerMap[n])throw new Error("overriding handler for command <"+n+">");this._handlerMap[n]=e};var Aze={commandStack:["type",Yi]},Rze=1e3;function Es(n){this._eventBus=n}Es.$inject=["eventBus"];function Mze(n,e){return function(t){return n.call(e||null,t.context,t.command,t)}}Es.prototype.on=function(n,e,t,r,i,o){if((yi(e)||pa(e))&&(o=i,i=r,r=t,t=e,e=null),yi(t)&&(o=i,i=r,r=t,t=Rze),ku(i)&&(o=i,i=!1),!yi(r))throw new Error("handlerFn must be a function");Ho(n)||(n=[n]);var a=this._eventBus;Gf(n,function(c){var u=["commandStack",c,e].filter(function(h){return h}).join(".");a.on(u,t,i?Mze(r,o):r,o)})};Es.prototype.canExecute=mp("canExecute");Es.prototype.preExecute=mp("preExecute");Es.prototype.preExecuted=mp("preExecuted");Es.prototype.execute=mp("execute");Es.prototype.executed=mp("executed");Es.prototype.postExecute=mp("postExecute");Es.prototype.postExecuted=mp("postExecuted");Es.prototype.revert=mp("revert");Es.prototype.reverted=mp("reverted");function mp(n){return function(t,r,i,o,a){(yi(t)||pa(t))&&(a=o,o=i,i=r,r=t,t=null),this.on(t,n,r,i,o,a)}}class nfe extends Es{constructor(e,t){super(e),this.preExecute("formField.remove",function(r){const{formField:i}=r,{id:o}=i;t.unclaimId(i,o)},!0),this.preExecute("formField.edit",function(r){const{formField:i,properties:o}=r;"id"in o&&(t.unclaimId(i,i.id),t.claimId(i,o.id))},!0)}}nfe.$inject=["eventBus","modeling"];class rfe extends Es{constructor(e,t,r){super(e),this.preExecute("formField.remove",function(i){const{formField:o}=i,{key:a,type:c}=o,{config:u}=r.get(c);u.keyed&&t.unclaimKey(o,a)},!0),this.preExecute("formField.edit",function(i){const{formField:o,properties:a}=i,{key:c,type:u}=o,{config:h}=r.get(u);h.keyed&&"key"in a&&(t.unclaimKey(o,c),t.claimKey(o,a.key))},!0)}}rfe.$inject=["eventBus","modeling","formFields"];class ife extends Es{constructor(e,t,r){super(e),this.preExecute("formField.remove",function(i){const{formField:o}=i,{path:a,type:c}=o,{config:u}=r.get(c);u.pathed&&t.unclaimPath(o,a)},!0),this.preExecute("formField.edit",function(i){const{formField:o,properties:a}=i,{path:c,type:u}=o,{config:h}=r.get(u);h.pathed&&"path"in a&&(t.unclaimPath(o,c),t.claimPath(o,a.path))},!0)}}ife.$inject=["eventBus","modeling","formFields"];class ofe extends Es{constructor(e){super(e),this.preExecute("formField.edit",function(t){const{properties:r}=t,{validate:i={}}=r;if(i.validationType){const o={...i};delete o.minLength,delete o.maxLength,delete o.pattern,r.validate=o}},!0)}}ofe.$inject=["eventBus"];class sfe extends Es{constructor(e){super(e),this.preExecute("formField.edit",function(t){const{properties:r}=t,i={};Dze(r)&&(Object.values(Ui).forEach(o=>{const a=xd[o];Xe(r,a)==null&&(i[xd[o]]=void 0)}),(Xe(r,xd[Ui.EXPRESSION])!==void 0||Xe(r,xd[Ui.INPUT])!==void 0)&&(i.defaultValue=void 0),t.properties={...r,...i})},!0)}}sfe.$inject=["eventBus"];function Dze(n){return Object.values(xd).some(e=>Xe(n,e)!==void 0)}const ak={columns:"columns",columnsExpression:"columnsExpression"};class afe extends Es{constructor(e){super(e),this.preExecute("formField.edit",function(t){const{properties:r,oldProperties:i}=t;if(!Object.values(ak).some(m=>Xe(r,[m])!==void 0))return;const a=Xe(r,[ak.columns]),c=Xe(i,[ak.columns]),u=Xe(r,[ak.columnsExpression]),h=Xe(i,[ak.columnsExpression]);if(Ho(a)&&!E9(c)){t.properties={...r,columnsExpression:void 0};return}if(Ii(u)&&!Ii(h)){t.properties={...r,columns:void 0};return}},!0)}}afe.$inject=["eventBus"];class lfe extends Es{constructor(e){super(e),this.preExecute("formField.add",function(t){const{formField:r}=t;Xe(r,["type"])==="table"&&(t.formField={...r,dataSource:`=${r.id}`})},!0)}}lfe.$inject=["eventBus"];const Nze={__init__:["idBehavior","keyBehavior","pathBehavior","validateBehavior","optionsSourceBehavior","columnsSourceBehavior","tableDataSourceBehavior"],idBehavior:["type",nfe],keyBehavior:["type",rfe],pathBehavior:["type",ife],validateBehavior:["type",ofe],optionsSourceBehavior:["type",sfe],columnsSourceBehavior:["type",afe],tableDataSourceBehavior:["type",lfe]};function EV(n,e,t){return n.splice(e,0,t),n}function SV(n,e){return n.splice(e,1),n}function Vy(n,e,t){const r=n.get(e._parent);return cfe(e,[...r._path,"components",t]),e}function cfe(n,e){n._path=e,(n.components||[]).forEach((r,i)=>{cfe(r,[...e,"components",i])})}function E6(n,e){return n.layout={...n.layout||{},row:e},n}class ufe extends Es{constructor(e,t,r,i){super(e),this._eventBus=e,this._formLayouter=t,this._modeling=r,this._formEditor=i,this.preExecute(["formField.add","formField.remove","formField.move","id.updateClaim"],o=>this.updateRowIds(o)),e.on("changed",o=>{const{schema:a}=o;this.updateLayout(a)})}updateLayout(e){this._formLayouter.clear(),this._formLayouter.calculateLayout(Tl(e))}updateRowIds(e){const{schema:t}=this._formEditor._getState(),r=i=>{!i.components||!i.components.length||i.components.forEach(o=>{const a=this._formLayouter.getRowForField(o);E6(o,a.id),r(o)})};r(t)}}ufe.$inject=["eventBus","formLayouter","modeling","formEditor"];class dfe{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{formField:t,targetFormField:r,targetIndex:i}=e,{schema:o}=this._formEditor._getState(),a=[...r._path,"components"];t._parent=r.id,EV(Xe(o,a),i,t),Xe(o,a).forEach((c,u)=>Vy(this._formFieldRegistry,c,u)),this._formFieldRegistry.add(t),this._formEditor._setState({schema:o})}revert(e){const{formField:t,targetFormField:r,targetIndex:i}=e,{schema:o}=this._formEditor._getState(),a=[...r._path,"components"];SV(Xe(o,a),i),Xe(o,a).forEach((c,u)=>Vy(this._formFieldRegistry,c,u)),this._formFieldRegistry.remove(t),this._formEditor._setState({schema:o})}}dfe.$inject=["formEditor","formFieldRegistry"];class ffe{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{formField:t,properties:r}=e;let{schema:i}=this._formEditor._getState();const o={};for(let a in r){o[a]=t[a];const c=r[a];a==="id"?c!==t.id&&this._formFieldRegistry.updateId(t,c):t[a]=c}return e.oldProperties=o,this._formEditor._setState({schema:i}),t}revert(e){const{formField:t,oldProperties:r}=e;let{schema:i}=this._formEditor._getState();for(let o in r){const a=r[o];o==="id"?a!==t.id&&this._formFieldRegistry.updateId(t,a):t[o]=a}return this._formEditor._setState({schema:i}),t}}ffe.$inject=["formEditor","formFieldRegistry"];class hfe{constructor(e,t,r,i){this._formEditor=e,this._formFieldRegistry=t,this._pathRegistry=r,this._formLayouter=i}execute(e){this.moveFormField(e)}revert(e){let{sourceFormField:t,targetFormField:r,sourceIndex:i,targetIndex:o,sourceRow:a,targetRow:c}=e;this.moveFormField({sourceFormField:r,targetFormField:t,sourceIndex:o,targetIndex:i,sourceRow:c,targetRow:a},!0)}moveFormField(e,t){let{sourceFormField:r,targetFormField:i,sourceIndex:o,targetIndex:a,targetRow:c}=e,{schema:u}=this._formEditor._getState();const h=[...r._path,"components"];if(r.id===i.id){t?o>a&&o--:o<a&&a--;const m=Xe(u,[...h,o]);E6(m,c?c.id:this._formLayouter.nextRowId()),e7e(Xe(u,h),o,a),Xe(u,h).forEach((y,w)=>Vy(this._formFieldRegistry,y,w))}else{const m=Xe(u,[...h,o]);this._pathRegistry.executeRecursivelyOnFields(m,({field:w})=>{this._pathRegistry.unclaimPath(this._pathRegistry.getValuePath(w))}),m._parent=i.id,SV(Xe(u,h),o),Xe(u,h).forEach((w,S)=>Vy(this._formFieldRegistry,w,S));const y=[...i._path,"components"];E6(m,c?c.id:this._formLayouter.nextRowId()),EV(Xe(u,y),a,m),Xe(u,y).forEach((w,S)=>Vy(this._formFieldRegistry,w,S)),this._pathRegistry.executeRecursivelyOnFields(m,({field:w,isClosed:S,isRepeatable:T})=>{this._pathRegistry.claimPath(this._pathRegistry.getValuePath(w),{isClosed:S,isRepeatable:T,claimerId:w.id})})}this._formEditor._setState({schema:u})}}hfe.$inject=["formEditor","formFieldRegistry","pathRegistry","formLayouter"];class pfe{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{sourceFormField:t,sourceIndex:r}=e;let{schema:i}=this._formEditor._getState();const o=[...t._path,"components"],a=e.formField=Xe(i,[...o,r]);SV(Xe(i,o),r),Xe(i,o).forEach((c,u)=>Vy(this._formFieldRegistry,c,u)),_B(a,c=>this._formFieldRegistry.remove(c)),this._formEditor._setState({schema:i})}revert(e){const{formField:t,sourceFormField:r,sourceIndex:i}=e;let{schema:o}=this._formEditor._getState();const a=[...r._path,"components"];EV(Xe(o,a),i,t),Xe(o,a).forEach((c,u)=>Vy(this._formFieldRegistry,c,u)),_B(t,c=>this._formFieldRegistry.add(c)),this._formEditor._setState({schema:o})}}pfe.$inject=["formEditor","formFieldRegistry"];class mfe{constructor(e){this._formFieldRegistry=e}execute(e){const{claiming:t,formField:r,id:i}=e;t?this._formFieldRegistry._ids.claim(i,r):this._formFieldRegistry._ids.unclaim(i)}revert(e){const{claiming:t,formField:r,id:i}=e;t?this._formFieldRegistry._ids.unclaim(i):this._formFieldRegistry._ids.claim(i,r)}}mfe.$inject=["formFieldRegistry"];class gfe{constructor(e){this._pathRegistry=e}execute(e){const{claiming:t,formField:r,key:i}=e,o={replacements:{[r.id]:i}},a=this._pathRegistry.getValuePath(r,o);t?this._pathRegistry.claimPath(a,{isClosed:!0,claimerId:r.id}):this._pathRegistry.unclaimPath(a),e.valuePath=a}revert(e){const{claiming:t,formField:r,valuePath:i}=e;t?this._pathRegistry.unclaimPath(i):this._pathRegistry.claimPath(i,{isClosed:!0,claimerId:r.id})}}gfe.$inject=["pathRegistry"];class vfe{constructor(e){this._pathRegistry=e}execute(e){const{claiming:t,formField:r,path:i}=e,o={replacements:{[r.id]:i}},a=[];t?this._pathRegistry.executeRecursivelyOnFields(r,({field:c,isClosed:u,isRepeatable:h})=>{const m=this._pathRegistry.getValuePath(c,o);a.push({valuePath:m,isClosed:u,isRepeatable:h,claimerId:c.id}),this._pathRegistry.claimPath(m,{isClosed:u,isRepeatable:h,claimerId:c.id})}):this._pathRegistry.executeRecursivelyOnFields(r,({field:c,isClosed:u,isRepeatable:h})=>{const m=this._pathRegistry.getValuePath(c,o);a.push({valuePath:m,isClosed:u,isRepeatable:h,claimerId:c.id}),this._pathRegistry.unclaimPath(m)}),e.valuePaths=a}revert(e){const{claiming:t,valuePaths:r}=e;t?r.forEach(({valuePath:i})=>{this._pathRegistry.unclaimPath(i)}):r.forEach(({valuePath:i,isClosed:o,isRepeatable:a,claimerId:c})=>{this._pathRegistry.claimPath(i,{isClosed:o,isRepeatable:a,claimerId:c})})}}vfe.$inject=["pathRegistry"];class yfe{constructor(e,t,r,i,o){this._commandStack=e,this._formEditor=r,this._formFieldRegistry=i,this._fieldFactory=o,t.on("form.init",()=>{this.registerHandlers()})}registerHandlers(){Object.entries(this.getHandlers()).forEach(([e,t])=>{this._commandStack.registerHandler(e,t)})}getHandlers(){return{"formField.add":dfe,"formField.edit":ffe,"formField.move":hfe,"formField.remove":pfe,"id.updateClaim":mfe,"key.updateClaim":gfe,"path.updateClaim":vfe}}addFormField(e,t,r){const i=this._fieldFactory.create(e),o={formField:i,targetFormField:t,targetIndex:r};return this._commandStack.execute("formField.add",o),i}editFormField(e,t,r){ku(t)||(t={[t]:r});const i={formField:e,properties:t};this._commandStack.execute("formField.edit",i)}moveFormField(e,t,r,i,o,a,c){const u={formField:e,sourceFormField:t,targetFormField:r,sourceIndex:i,targetIndex:o,sourceRow:a,targetRow:c};this._commandStack.execute("formField.move",u)}removeFormField(e,t,r){const i={formField:e,sourceFormField:t,sourceIndex:r};this._commandStack.execute("formField.remove",i)}claimId(e,t){const r={formField:e,id:t,claiming:!0};this._commandStack.execute("id.updateClaim",r)}unclaimId(e,t){const r={formField:e,id:t,claiming:!1};this._commandStack.execute("id.updateClaim",r)}claimKey(e,t){const r={formField:e,key:t,claiming:!0};this._commandStack.execute("key.updateClaim",r)}unclaimKey(e,t){const r={formField:e,key:t,claiming:!1};this._commandStack.execute("key.updateClaim",r)}claimPath(e,t){const r={formField:e,path:t,claiming:!0};this._commandStack.execute("path.updateClaim",r)}unclaimPath(e,t){const r={formField:e,path:t,claiming:!1};this._commandStack.execute("path.updateClaim",r)}}yfe.$inject=["commandStack","eventBus","formEditor","formFieldRegistry","fieldFactory"];const Ize={__depends__:[Nze,Aze],__init__:["formLayoutUpdater","modeling"],formLayoutUpdater:["type",ufe],modeling:["type",yfe]};class bfe{constructor(e){this._eventBus=e,this._selection=null}get(){return this._selection}set(e){this._selection!==e&&(this._selection=e,this._eventBus.fire("selection.changed",{selection:this._selection}))}toggle(e){const t=this._selection===e?null:e;this.set(t)}clear(){this.set(null)}isSelected(e){return this._selection===e}}bfe.$inject=["eventBus"];class xfe{constructor(e,t){e.on(["commandStack.formField.add.postExecuted","commandStack.formField.move.postExecuted"],({context:r})=>{const{formField:i}=r;t.set(i)}),e.on("commandStack.formField.remove.postExecuted",({context:r})=>{const{sourceFormField:i,sourceIndex:o}=r,a=i.components[o]||i.components[o-1];a?t.set(a):t.clear()}),e.on("formField.remove",({formField:r})=>{t.isSelected(r)&&t.clear()})}}xfe.$inject=["eventBus","selection"];const Fze={__init__:["selection","selectionBehavior"],selection:["type",bfe],selectionBehavior:["type",xfe]};class wfe{constructor(e,t){this._eventBus=e,this._sectionKey=t,this._eventBus.on(`${this._sectionKey}.section.rendered`,()=>{this.isSectionRendered=!0}),this._eventBus.on(`${this._sectionKey}.section.destroyed`,()=>{this.isSectionRendered=!1})}attachTo(e){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.attach`,{container:e}))}detach(){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.detach`))}reset(){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.reset`))}_onceSectionRendered(e){this.isSectionRendered?e():this._eventBus.once(`${this._sectionKey}.section.rendered`,e)}}class _fe extends wfe{constructor(e){super(e,"palette")}}_fe.$inject=["eventBus"];const Lze={__init__:["palette"],palette:["type",_fe]};var UI=function(e){return B("svg",{...e,children:B("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};UI.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Efe=function(e){return B("svg",{...e,children:B("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z",fill:"currentColor"})})};Efe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Sfe=function(e){return B("svg",{...e,children:B("path",{fillRule:"evenodd",d:"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z"})})};Sfe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var kfe=function(e){return B("svg",{...e,children:B("path",{fillRule:"evenodd",d:"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z"})})};kfe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Cfe=function(e){return B("svg",{...e,children:[B("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),B("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),B("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};Cfe.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var Ofe=function(e){return B("svg",{...e,children:B("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};Ofe.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var Tfe=function(e){return B("svg",{...e,children:B("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})})};Tfe.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var Pfe=function(e){return B("svg",{...e,children:[B("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z"}),B("path",{d:"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z"})]})};Pfe.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var kV=function(e){return B("svg",{...e,children:[B("path",{fill:"currentColor",d:"M28 4H10a2.006 2.006 0 0 0-2 2v14a2.006 2.006 0 0 0 2 2h18a2.006 2.006 0 0 0 2-2V6a2.006 2.006 0 0 0-2-2Zm0 16H10V6h18Z"}),B("path",{fill:"currentColor",d:"M18 26H4V16h2v-2H4a2.006 2.006 0 0 0-2 2v10a2.006 2.006 0 0 0 2 2h14a2.006 2.006 0 0 0 2-2v-2h-2Z"})]})};kV.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"};function $ze(n){const{element:e,headerProvider:t}=n,{getElementIcon:r,getDocumentationRef:i,getElementLabel:o,getTypeLabel:a}=t,c=o(e),u=a(e),h=i&&i(e),m=r(e);return B("div",{class:"bio-properties-panel-header",children:[B("div",{class:"bio-properties-panel-header-icon",children:m&&B(m,{width:"32",height:"32",viewBox:"0 0 32 32"})}),B("div",{class:"bio-properties-panel-header-labels",children:[B("div",{title:u,class:"bio-properties-panel-header-type",children:u}),c?B("div",{title:c,class:"bio-properties-panel-header-label",children:c}):null]}),B("div",{class:"bio-properties-panel-header-actions",children:h?B("a",{rel:"noreferrer",class:"bio-properties-panel-header-link",href:h,title:"Open documentation",target:"_blank",children:B(Ofe,{})}):null})]})}const Afe=$l({description:{},getDescriptionForId:()=>{}}),CV=$l({errors:{}}),Rfe=$l({eventBus:null}),kd=$l({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),Mfe=$l({tooltip:{},getTooltipForId:()=>{}});function jze(n,e){const{getTooltipForId:t}=_r(Mfe);return t(n,e)}function Bg(n){const{forId:e,element:t}=n,r=jze(e,t),i=n.value||r;return i?B(Bze,{...n,value:i,forId:`bio-properties-panel-${e}`}):n.children}function Bze(n){const{forId:e,value:t,parent:r,direction:i="right",position:o}=n,[a,c]=Nt(!1),u=200;let h=null;const m=dn(null),y=dn(null),w=(F,I)=>{a||(I?h=setTimeout(()=>{c(!0)},u):c(!0))},S=()=>{clearTimeout(h),c(!1)},T=({relatedTarget:F})=>{F===m.current||F===y.current||(F==null?void 0:F.parentElement)===y.current||S()},O=F=>{var z;const{target:I}=F,R=I.matches(":hover")||((z=y.current)==null?void 0:z.matches(":hover"));if(I===m.current&&R){F.stopPropagation();return}S()},N=F=>{F.code==="Escape"&&S()},D=()=>B("div",{class:`bio-properties-panel-tooltip ${i}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":e,style:o||Vze(m.current),ref:y,onClick:F=>F.stopPropagation(),onMouseLeave:T,children:[B("div",{class:"bio-properties-panel-tooltip-content",children:t}),B("div",{class:"bio-properties-panel-tooltip-arrow"})]});return B("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:m,onMouseEnter:F=>w(F,!0),onMouseLeave:T,onFocus:w,onBlur:O,onKeyDown:N,children:[n.children,a?r?yI(D(),r.current):D():null]})}function Vze(n){const e=n.getBoundingClientRect(),t=`calc(100% - ${e.x}px)`,r=`${e.top-10}px`;return`right: ${t}; top: ${r};`}function zze(n,e){const{getDescriptionForId:t}=_r(Afe);return t(n,e)}function zw(n){const{errors:e}=_r(CV);return e[n]}function Dfe(){const{errors:n}=_r(CV);return n}function n2(n,e,t){const r=_r(Rfe);t||({eventBus:t}=r);const i=dn(!1);t&&!i.current&&t.on(n,e),kt(()=>(t&&i.current&&t.on(n,e),i.current=!0,()=>{t&&t.off(n,e)}),[e,n,t])}function Nfe(n,e){const{getLayoutForKey:t,setLayoutForKey:r}=_r(kd),i=t(n,e),o=ln(a=>{r(n,a)},[r]);return[i,o]}function OV(n){const e=dn();return kt(()=>{e.current=n}),e.current}function U2(n){const{onShow:e}=_r(kd),t=dn(),r=dn(!1),i=ln(o=>{o.id===n&&(e(),r.current||(r.current=!0))},[n]);return kt(()=>{r.current&&t.current&&(yi(t.current.focus)&&t.current.focus(),yi(t.current.select)&&t.current.select(),r.current=!1)}),n2("propertiesPanel.showEntry",i),t}function Ife(n,e,t){const[r,i]=Nt(cp(e)),o=ln(()=>{const a=cp(e);a!==r&&i(a)},[e,r]);kt(()=>{o()},[o]),n2("propertiesPanel.attach",o),n2("propertiesPanel.detach",o),kt(()=>{const a=IntersectionObserver;if(!a||!n.current||!r)return;const c=new a(u=>{r.scrollHeight!==0&&u.forEach(h=>{h.intersectionRatio<1?t(!0):h.intersectionRatio===1&&t(!1)})},{root:r,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return c.observe(n.current),()=>{c.unobserve(n.current)}},[n.current,r,t])}function aw(n){const e=dn(n);return e.current=n,ln((...t)=>e.current(...t),[])}function Hze(n){const[e,t]=Nt(!!n&&!!n.clientHeight);return s0(()=>{if(!n)return;const r=new ResizeObserver(([i])=>{requestAnimationFrame(()=>{const o=!!i.contentRect.height;o!==e&&t(o)})});return r.observe(n),()=>r.disconnect()},[n,e]),e}function Zk(n){const{element:e,entries:t=[],id:r,label:i,shouldOpen:o=!1}=n,a=dn(null),[c,u]=Nfe(["groups",r,"open"],o),h=ln(()=>u(!0),[u]),m=()=>u(!c),[y,w]=Nt(!1),[S,T]=Nt(!1);kt(()=>{const F=requestAnimationFrame(()=>{const I=t.find(R=>{const{id:z,isEdited:X}=R,Z=cp(`[data-entry-id="${z}"]`);if(!yi(X)||!Z)return!1;const ae=cp(".bio-properties-panel-input",Z);return X(ae)});w(I)});return()=>cancelAnimationFrame(F)},[t,w]);const O=Dfe(),N=t.some(F=>O[F.id]);Ife(a,"div.bio-properties-panel-scroll-container",T);const D={..._r(kd),onShow:h};return B("div",{class:"bio-properties-panel-group","data-group-id":"group-"+r,ref:a,children:[B("div",{class:gn("bio-properties-panel-group-header",y?"":"empty",c?"open":"",S&&c?"sticky":""),onClick:m,children:[B("div",{title:n.tooltip?null:i,"data-title":i,class:"bio-properties-panel-group-header-title",children:B(Bg,{value:n.tooltip,forId:"group-"+r,element:e,parent:a,children:i})}),B("div",{class:"bio-properties-panel-group-header-buttons",children:[B(Wze,{edited:y,hasErrors:N}),B("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:B(UI,{class:c?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),B("div",{class:gn("bio-properties-panel-group-entries",c?"open":""),children:B(kd.Provider,{value:D,children:t.map(F=>{const{component:I,id:R}=F;return tt(I,{...F,element:e,key:R})})})})]})}function Wze(n){const{edited:e,hasErrors:t}=n;return t?B("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):e?B("div",{title:"Section contains data",class:"bio-properties-panel-dot"}):null}function JX(n){const{text:e,icon:t}=n;return B("div",{class:"bio-properties-panel open",children:B("section",{class:"bio-properties-panel-placeholder",children:[t&&B(t,{class:"bio-properties-panel-placeholder-icon"}),B("p",{class:"bio-properties-panel-placeholder-text",children:e})]})})}function k0(n){const{element:e,forId:t,value:r}=n,i=zze(t,e),o=r||i;if(o)return B("div",{class:"bio-properties-panel-description",children:o})}const eZ=()=>{},qze=function(n,e){const[t,r]=Nt(void 0);e.current=Jt(()=>({focus:i=>{n?n.focus(i):(typeof i>"u"&&(i=1/0),r(i))}}),[n]),kt(()=>{typeof t<"u"&&n&&(n.focus(t),r(!1))},[n,t])},Ffe=Ig((n,e)=>{const{onInput:t,disabled:r,tooltipContainer:i,enableGutters:o,value:a,onLint:c=eZ,onPopupOpen:u=eZ,popupOpen:h,contentAttributes:m={},hostLanguage:y=null,singleLine:w=!1}=n,S=dn(),[T,O]=Nt(),[N,D]=Nt(a||"");qze(T,e);const F=aw(R=>{t(R),D(R)});kt(()=>{let R;return R=new II({container:S.current,onChange:F,value:N,onLint:c,contentAttributes:m,tooltipContainer:i,enableGutters:o,hostLanguage:y,singleLine:w,lineWrap:!0}),O(R),()=>{c([]),S.current.innerHTML="",O(null)}},[]),kt(()=>{T&&a!==N&&(T.setValue(a),D(a))},[a]);const I=()=>{e.current.focus()};return B("div",{class:gn("bio-properties-panel-feelers-editor-container",h?"popupOpen":null),children:[B("div",{class:"bio-properties-panel-feelers-editor__open-popup-placeholder",children:"Opened in editor"}),B("div",{name:n.name,class:gn("bio-properties-panel-feelers-editor bio-properties-panel-input",N?"edited":null,r?"disabled":null),ref:S,onClick:I}),B("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>u("feelers"),children:B(kV,{})})]})}),_4=()=>{},Uze=function(n,e){const[t,r]=Nt(void 0);e.current=Jt(()=>({focus:i=>{n?n.focus(i):(typeof i>"u"&&(i=1/0),r(i))}}),[n]),kt(()=>{typeof t<"u"&&n&&(n.focus(t),r(!1))},[n,t])},Lfe=Ig((n,e)=>{const{contentAttributes:t,enableGutters:r,value:i,onInput:o,onFeelToggle:a=_4,onLint:c=_4,onPopupOpen:u=_4,placeholder:h,popupOpen:m,disabled:y,tooltipContainer:w,variables:S}=n,T=dn(),[O,N]=Nt(),[D,F]=Nt(i||"");Uze(O,e);const I=aw(z=>{o(z),F(z)});kt(()=>{let z;const X=Z=>{if(Z.key!=="Backspace"||!z)return;const ae=z.getSelection(),ge=ae.ranges[ae.mainIndex];ge.from===0&&ge.to===0&&a()};return z=new Vw({container:T.current,onChange:I,onKeyDown:X,onLint:c,placeholder:h,tooltipContainer:w,value:D,variables:S,extensions:[...r?[Zae()]:[],Vt.lineWrapping],contentAttributes:t}),N(z),()=>{c([]),T.current.innerHTML="",N(null)}},[]),kt(()=>{O&&i!==D&&(O.setValue(i),F(i))},[i]),kt(()=>{O&&O.setVariables(S)},[S]),kt(()=>{O&&O.setPlaceholder(h)},[h]);const R=()=>{e.current.focus()};return B("div",{class:gn("bio-properties-panel-feel-editor-container",y?"disabled":null,m?"popupOpen":null),children:[B("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),B("div",{name:n.name,class:gn("bio-properties-panel-input",D?"edited":null),ref:T,onClick:R}),B("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>u(),children:B(kV,{})})]})});function Gze(n){const{active:e}=n;return e?B("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}const Yze=()=>{};function Qze(n){const{feel:e=!1,active:t,disabled:r=!1,onClick:i=Yze}=n,o="FEEL expression is mandatory",a=`Click to ${t?"remove":"set a"} dynamic value with FEEL expression`,c=u=>{i(u),u.pointerType||u.stopPropagation()};return B("button",{type:"button",class:gn("bio-properties-panel-feel-icon",t?"active":null,e==="required"?"required":"optional"),onClick:c,disabled:e==="required"||r,title:e==="required"?o:a,children:B(Tfe,{})})}const TV=$l({open:()=>{},close:()=>{},source:null});function Kze(n,e){let t,r,i;function o(u){t=this,r=u.clientX,i=u.clientY,u.dataTransfer&&u.dataTransfer.setDragImage(e||Xze(),0,0),document.addEventListener("dragover",a,!0),document.addEventListener("dragenter",UR,!0),document.addEventListener("dragend",c),document.addEventListener("drop",UR)}function a(u){const h={x:u.clientX-r,y:u.clientY-i};return n.call(t,u,h)}function c(){document.removeEventListener("dragover",a,!0),document.removeEventListener("dragenter",UR,!0),document.removeEventListener("dragend",c),document.removeEventListener("drop",UR)}return o}function UR(n){n.preventDefault(),n.stopPropagation()}function Xze(){return gV('<canvas width="0" height="0" />')}const tZ=()=>{};function Zze(n,e){const{container:t,className:r,delayInitialFocus:i,position:o,width:a,height:c,onClose:u,onPostActivate:h=tZ,onPostDeactivate:m=tZ,returnFocus:y=!0,closeOnEscape:w=!0,title:S}=n,T=dn(null),O=dn(null),N=e||O,D=Jt(()=>rHe(t),[t]),F=z=>{z.stopPropagation(),w&&z.key==="Escape"&&u()},I=()=>{T.current&&T.current.activate()};let R={};return o&&(R={...R,top:o.top+"px",left:o.left+"px"}),a&&(R.width=a+"px"),c&&(R.height=c+"px"),kt(()=>(N.current&&N.current.addEventListener("focusin",I),()=>{N.current.removeEventListener("focusin",I)}),[N]),kt(()=>(N.current&&(T.current=oVe(N.current,{clickOutsideDeactivates:!0,delayInitialFocus:i,fallbackFocus:N.current,onPostActivate:h,onPostDeactivate:m,returnFocusOnDeactivate:y}),T.current.activate()),()=>T.current&&T.current.deactivate()),[N]),n2("propertiesPanel.detach",u),yI(B("div",{"aria-label":S,tabIndex:-1,ref:N,onKeyDown:F,role:"dialog",class:gn("bio-properties-panel-popup",r),style:R,children:n.children}),D||document.body)}const gx=Ig(Zze);gx.Title=Jze;gx.Body=eHe;gx.Footer=tHe;function Jze(n){const{children:e,className:t,draggable:r,emit:i=()=>{},title:o,showCloseButton:a=!1,closeButtonTooltip:c="Close popup",onClose:u,...h}=n,m=dn({startPosition:null,newPosition:null}),y=dn(),w=dn(),S=(N,D)=>{nHe(N);const{x:F,y:I}=D,R={x:m.current.startPosition.x+F,y:m.current.startPosition.y+I},z=nZ(w.current);z.style.top=R.y+"px",z.style.left=R.x+"px",i("dragover",{newPosition:R,delta:D})},T=N=>{Kze(S,y.current)(N),N.stopPropagation();const I=nZ(w.current).getBoundingClientRect();m.current.startPosition={x:I.left,y:I.top},i("dragstart")},O=()=>{m.current.newPosition=null,i("dragend")};return B("div",{class:gn("bio-properties-panel-popup__header",r&&"draggable",t),ref:w,draggable:r,onDragStart:T,onDragEnd:O,...h,children:[r&&B(ki,{children:[B("div",{ref:y,class:"bio-properties-panel-popup__drag-preview"}),B("div",{class:"bio-properties-panel-popup__drag-handle",children:B(Cfe,{})})]}),B("div",{class:"bio-properties-panel-popup__title",children:o}),e,a&&B("button",{title:c,class:"bio-properties-panel-popup__close",onClick:u,children:B(Efe,{})})]})}function eHe(n){const{children:e,className:t,...r}=n;return B("div",{class:gn("bio-properties-panel-popup__body",t),...r,children:e})}function tHe(n){const{children:e,className:t,...r}=n;return B("div",{class:gn("bio-properties-panel-popup__footer",t),...r,children:n.children})}function nZ(n){return n.closest(".bio-properties-panel-popup")}function nHe(n){n.preventDefault(),n.stopPropagation()}function rHe(n){return typeof n=="string"?cp(n):n}const $fe=700,iHe=250;function oHe(n){const{element:e,eventBus:t={fire(){},on(){},off(){}},popupContainer:r,getPopupLinks:i=()=>[]}=n,o=OV(e),[a,c]=Nt({}),[u,h]=Nt(!1),[m,y]=Nt(null),[w,S]=Nt(null),T=(I,R)=>{t.fire("feelPopup."+I,R)},O=ln(()=>!!u,[u]);lHe(()=>{u||T("closed")},[u]);const N=(I,R,z)=>{y(I),c(R),h(!0),S(z),T("open")},D=(I={})=>{const{id:R}=I;R&&R!==m||(h(!1),y(null))},F={open:N,close:D,source:m};return kt(()=>{e&&o&&e!==o&&D()},[e]),kt(()=>{const I=z=>{const{entryId:X,popupConfig:Z,sourceElement:ae}=z;N(X,Z,ae)},R=()=>O();return t.on("feelPopup._close",D),t.on("feelPopup._open",I),t.on("feelPopup._isOpen",R),()=>{t.off("feelPopup._close",D),t.off("feelPopup._open",N),t.off("feelPopup._isOpen",R)}},[t,O]),B(TV.Provider,{value:F,children:[u&&B(sHe,{onClose:D,container:r,getLinks:i,sourceElement:w,emit:T,...a}),n.children]})}function sHe(n){const{container:e,getLinks:t,id:r,hostLanguage:i,onInput:o,onClose:a,position:c,singleLine:u,sourceElement:h,title:m,tooltipContainer:y,type:w,value:S,variables:T,emit:O}=n,N=dn(),D=dn(),F=dn(!1),I=()=>{h&&h.focus()},R=X=>{X.key==="Escape"&&(F.current=aHe(X.target))},z=X=>{X.key==="Escape"&&(F.current||(a(),F.current=!1))};return kt(()=>(O("opened",{domNode:D.current}),()=>O("close",{domNode:D.current})),[]),kt(()=>{N.current&&N.current.focus()},[N]),B(gx,{container:e,className:"bio-properties-panel-feel-popup",emit:O,position:c,title:m,onClose:a,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:I,height:iHe,width:$fe,ref:D,children:[B(gx.Title,{title:m,emit:O,showCloseButton:!0,closeButtonTooltip:"Save and close",onClose:a,draggable:!0,children:B(ki,{children:t(w).map((X,Z)=>B("a",{rel:"noreferrer",href:X.href,target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:[X.title,B(Pfe,{})]},Z))})}),B(gx.Body,{children:B("div",{onKeyDownCapture:R,onKeyDown:z,class:"bio-properties-panel-feel-popup__body",children:[w==="feel"&&B(Lfe,{enableGutters:!0,id:rZ(r),name:r,onInput:o,value:S,variables:T,ref:N,tooltipContainer:y}),w==="feelers"&&B(Ffe,{id:rZ(r),contentAttributes:{"aria-label":m},enableGutters:!0,hostLanguage:i,name:r,onInput:o,value:S,ref:N,singleLine:u,tooltipContainer:y})]})})]})}function rZ(n){return`bio-properties-panel-${n}`}function aHe(n){return n.closest(".cm-editor").querySelector(".cm-tooltip-autocomplete")}function lHe(n,e){const t=dn(!1);kt(()=>{if(t.current)return n();t.current=!0},e)}function jfe(n){const{id:e,label:t,onInput:r,value:i,switcherLabel:o,inline:a,onFocus:c,onBlur:u,inputRef:h,tooltip:m}=n,[y,w]=Nt(i),S=async()=>{r(!i)},T=O=>{S(),w(O.target.value)};return kt(()=>{i!==y&&w(i)},[i]),B("div",{class:gn("bio-properties-panel-toggle-switch",{inline:a}),children:[B("label",{class:"bio-properties-panel-label",for:iZ(e),children:B(Bg,{value:m,forId:e,element:n.element,children:t})}),B("div",{class:"bio-properties-panel-field-wrapper",children:[B("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[B("input",{ref:h,id:iZ(e),class:"bio-properties-panel-input",type:"checkbox",onFocus:c,onBlur:u,name:e,onInput:T,checked:!!y}),B("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),o&&B("p",{class:"bio-properties-panel-toggle-switch__label",children:o})]})]})}function PV(n){const{element:e,id:t,description:r,label:i,switcherLabel:o,inline:a,getValue:c,setValue:u,onFocus:h,onBlur:m,tooltip:y}=n,w=c(e);return B("div",{class:"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry","data-entry-id":t,children:[B(jfe,{id:t,label:i,value:w,onInput:u,onFocus:h,onBlur:m,switcherLabel:o,inline:a,tooltip:y,element:e}),B(k0,{forId:t,element:e,value:r})]})}function AV(n){return n&&!!n.checked}function iZ(n){return`bio-properties-panel-${n}`}function Bfe(n){const{debounce:e,disabled:t,displayLabel:r=!0,id:i,inputRef:o,label:a,max:c,min:u,onInput:h,step:m,value:y="",onFocus:w,onBlur:S}=n,[T,O]=Nt(y),N=Jt(()=>e(F=>{F.validity.valid&&h(F.value?parseFloat(F.value):void 0)}),[h,e]),D=F=>{N(F.target),O(F.target.value)};return kt(()=>{y!==T&&O(y)},[y]),B("div",{class:"bio-properties-panel-numberfield",children:[r&&B("label",{for:oZ(i),class:"bio-properties-panel-label",children:a}),B("input",{id:oZ(i),ref:o,type:"number",name:i,spellCheck:"false",autoComplete:"off",disabled:t,class:"bio-properties-panel-input",max:c,min:u,onInput:D,onFocus:w,onBlur:S,step:m,value:T})]})}function GI(n){const{debounce:e,description:t,disabled:r,element:i,getValue:o,id:a,label:c,max:u,min:h,setValue:m,step:y,onFocus:w,onBlur:S,validate:T}=n,O=zw(a),[N,D]=Nt(null);let F=o(i);kt(()=>{if(yi(T)){const z=T(F)||null;D(z)}},[F,T]);const I=z=>{let X=null;yi(T)&&(X=T(z)||null),m(z,X),D(X)},R=O||N;return B("div",{class:gn("bio-properties-panel-entry",R?"has-error":""),"data-entry-id":a,children:[B(Bfe,{debounce:e,disabled:r,id:a,label:c,onFocus:w,onBlur:S,onInput:I,max:u,min:h,step:y,value:F},i),R&&B("div",{class:"bio-properties-panel-error",children:R}),B(k0,{forId:a,element:i,value:t})]})}function YI(n){return n&&!!n.value}function oZ(n){return`bio-properties-panel-${n}`}const cHe=()=>{};function uHe(n){const{debounce:e,id:t,element:r,label:i,hostLanguage:o,onInput:a,onBlur:c,onError:u,placeholder:h,feel:m,value:y="",disabled:w=!1,variables:S,singleLine:T,tooltipContainer:O,OptionalComponent:N=fHe,tooltip:D}=n,[F,I]=Nt(y),R=U2(t),z=dn(),X=Ii(F)&&F.startsWith("=")||m==="required",Z=Ii(F)&&F.startsWith("=")?F.substring(1):F,[ae,ge]=Nt(void 0),{open:_e,source:be}=_r(TV),he=be===t,fe=(Ne=0)=>{const le=z.current.contains(document.activeElement)?document.activeElement.selectionStart:1/0;ge(le+Ne)},pe=Jt(()=>e(Ne=>{a(Ne)}),[a,e]),Ce=Ne=>{I(Ne),pe(typeof Ne>"u"||Ne===""||Ne==="="?void 0:Ne)},Ae=aw(()=>{m!=="required"&&Ce(X?Z:"="+F)}),We=Ne=>{X&&(Ne="="+Ne),Ne!==F&&(Ce(Ne),!X&&Ii(Ne)&&Ne.startsWith("=")&&fe(-1))},xe=Ne=>{c&&c(Ne),Ce(Ne.target.value.trim())},$e=aw((Ne=[])=>{const Ue=Ne.some(le=>le.type==="Syntax Error");u(Ue?"Unparsable FEEL expression.":void 0)}),Je=(Ne="feel")=>{const Ue={id:t,hostLanguage:o,onInput:We,position:mHe(z.current),singleLine:T,title:gHe(r,i),tooltipContainer:O,type:Ne,value:Z,variables:S};_e(t,Ue,R.current)};return kt(()=>{typeof ae<"u"&&(R.current.focus(ae),ge(void 0))},[ae]),kt(()=>{if(y!==F){if(!y){Ce(X?"=":"");return}Ce(y)}},[y]),kt(()=>{const Ne=le=>{X&&le.clipboardData.setData("application/FEEL",le.clipboardData.getData("text"))},Ue=le=>{if(X||he)return;le.clipboardData.getData("application/FEEL")&&setTimeout(()=>{Ae(),fe()})};return z.current.addEventListener("copy",Ne),z.current.addEventListener("cut",Ne),z.current.addEventListener("paste",Ue),()=>{z.current.removeEventListener("copy",Ne),z.current.removeEventListener("cut",Ne),z.current.removeEventListener("paste",Ue)}},[z,X,Ae,fe]),B("div",{class:gn("bio-properties-panel-feel-entry",{"feel-active":X}),children:[B("label",{for:vx(t),class:"bio-properties-panel-label",onClick:()=>fe(),children:[B(Bg,{value:D,forId:t,element:n.element,children:i}),B(Qze,{label:i,feel:m,onClick:Ae,active:X})]}),B("div",{class:"bio-properties-panel-feel-container",ref:z,children:[B(Gze,{active:X,disabled:m!=="optional"||w,onClick:Ae}),X?B(Lfe,{name:t,onInput:We,contentAttributes:{id:vx(t),"aria-label":i},disabled:w,popupOpen:he,onFeelToggle:()=>{Ae(),fe(!0)},onLint:$e,onPopupOpen:Je,placeholder:h,value:Z,variables:S,ref:R,tooltipContainer:O}):B(N,{...n,popupOpen:he,onInput:We,onBlur:xe,contentAttributes:{id:vx(t),"aria-label":i},value:F,ref:R,onPopupOpen:Je,containerRef:z})]})]})}const dHe=vHe(uHe),fHe=Ig((n,e)=>{const{id:t,disabled:r,onInput:i,value:o,onFocus:a,onBlur:c,placeholder:u}=n,h=dn();return e.current={focus:m=>{const y=h.current;y&&(y.focus(),typeof m=="number"&&(m>o.length&&(m=o.length),y.setSelectionRange(m,m)))}},B("input",{id:vx(t),type:"text",ref:h,name:t,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:m=>i(m.target.value),onFocus:a,onBlur:c,placeholder:u,value:o||""})}),hHe=Ig((n,e)=>{const{id:t,debounce:r,disabled:i,onInput:o,value:a,min:c,max:u,step:h,onFocus:m,onBlur:y}=n,w=dn();return e.current={focus:S=>{const T=w.current;T&&(T.focus(),typeof S=="number"&&S!==1/0&&(S>a.length&&(S=a.length),T.setSelectionRange(S,S)))}},B(Bfe,{id:t,debounce:r,disabled:i,displayLabel:!1,inputRef:w,max:u,min:c,onInput:o,step:h,value:a,onFocus:m,onBlur:y})});Ig((n,e)=>{const{id:t,disabled:r,onInput:i,value:o,onFocus:a,onBlur:c,placeholder:u}=n,h=dn();return e.current={focus:()=>{const m=h.current;m&&(m.focus(),m.setSelectionRange(0,0))}},B("textarea",{id:vx(t),type:"text",ref:h,name:t,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:m=>i(m.target.value),onFocus:a,onBlur:c,placeholder:u,value:o||"","data-gramm":"false"})});const pHe=Ig((n,e)=>{const{id:t,onInput:r,value:i,onFocus:o,onBlur:a,switcherLabel:c}=n,u=dn();return e.current={focus:()=>{const h=u.current;h&&h.focus()}},B(jfe,{id:t,value:i,inputRef:u,onInput:r,onFocus:o,onBlur:a,switcherLabel:c})});Ig((n,e)=>{const{id:t,disabled:r,onInput:i,value:o,onFocus:a,onBlur:c}=n,u=dn(),h=({target:m})=>{i(m.checked)};return e.current={focus:()=>{const m=u.current;m&&m.focus()}},B("input",{ref:u,id:vx(t),name:t,onFocus:a,onBlur:c,type:"checkbox",class:"bio-properties-panel-input",onChange:h,checked:o,disabled:r})});function Hw(n){const{element:e,id:t,description:r,debounce:i,disabled:o,feel:a,label:c,getValue:u,setValue:h,tooltipContainer:m,hostLanguage:y,singleLine:w,validate:S,show:T=cHe,example:O,variables:N,onFocus:D,onBlur:F,placeholder:I,tooltip:R}=n,[z,X]=Nt(null),[Z,ae]=Nt(null);let ge=u(e);kt(()=>{if(yi(S)){const pe=S(ge)||null;X(pe)}},[ge,S]);const _e=aw(pe=>{let Ce=null;yi(S)&&(Ce=S(pe)||null),pe!==ge&&h(pe,Ce),X(Ce)}),be=ln(pe=>{ae(pe)},[]),fe=zw(t)||Z||z;return B("div",{class:gn(n.class,"bio-properties-panel-entry",fe?"has-error":""),"data-entry-id":t,children:[tt(dHe,{...n,debounce:i,disabled:o,feel:a,id:t,key:e,label:c,onInput:_e,onError:be,onFocus:D,onBlur:F,placeholder:I,example:O,hostLanguage:y,singleLine:w,show:T,value:ge,variables:N,tooltipContainer:m,OptionalComponent:n.OptionalComponent,tooltip:R}),fe&&B("div",{class:"bio-properties-panel-error",children:fe}),B(k0,{forId:t,element:e,value:r})]})}function QI(n){return B(Hw,{class:"bio-properties-panel-feel-number",OptionalComponent:hHe,...n})}function Vfe(n){return B(Hw,{class:"bio-properties-panel-feel-toggle-switch",OptionalComponent:pHe,...n})}function Ja(n){return B(Hw,{class:"bio-properties-panel-feel-templating",OptionalComponent:Ffe,...n})}function io(n){return n?n.type==="checkbox"?!!n.checked||n.classList.contains("edited"):!!n.value||n.classList.contains("edited"):!1}function vx(n){return`bio-properties-panel-${n}`}function mHe(n){const{top:e,left:t}=n.getBoundingClientRect();return{left:t-$fe-20,top:e}}function gHe(n,e){let t="";return n&&n.type&&(t=`${n.type} / `),`${t}${e}`}function vHe(n){return function(e){const{id:t}=e,{close:r}=_r(TV),i=aw(r);return kt(()=>()=>{i({id:t})},[]),B(n,{...e})}}const yHe={},bHe={},xHe={};function wHe(n){const{element:e,headerProvider:t,placeholderProvider:r,groups:i,layoutConfig:o,layoutChanged:a,descriptionConfig:c,descriptionLoaded:u,tooltipConfig:h,tooltipLoaded:m,feelPopupContainer:y,getFeelPopupLinks:w,eventBus:S}=n,[T,O]=Nt(sZ(o));SHe(()=>{const Ce=sZ(o);O(Ce)},[o]),kt(()=>{typeof a=="function"&&a(T)},[T,a]);const F={layout:T,setLayout:O,getLayoutForKey:(Ce,Ae)=>Xe(T,Ce,Ae),setLayoutForKey:(Ce,Ae)=>{const We=C9({},T);eo(We,Ce,Ae),O(We)}},I=Jt(()=>_He(c),[c]);kt(()=>{typeof u=="function"&&u(I)},[I,u]);const z={description:I,getDescriptionForId:(Ce,Ae)=>I[Ce]&&I[Ce](Ae)},X=Jt(()=>EHe(h),[h]);kt(()=>{typeof m=="function"&&m(X)},[X,m]);const ae={tooltip:X,getTooltipForId:(Ce,Ae)=>X[Ce]&&X[Ce](Ae)},[ge,_e]=Nt({});n2("propertiesPanel.setErrors",({errors:Ce})=>_e(Ce),S);const he={errors:ge},fe={eventBus:S},pe={element:e};return r&&!e?B(JX,{...r.getEmpty()}):r&&Ho(e)?B(JX,{...r.getMultiple()}):B(kd.Provider,{value:pe,children:B(CV.Provider,{value:he,children:B(Afe.Provider,{value:z,children:B(Mfe.Provider,{value:ae,children:B(kd.Provider,{value:F,children:B(Rfe.Provider,{value:fe,children:B(oHe,{element:e,eventBus:S,popupContainer:y,getPopupLinks:w,children:B("div",{class:"bio-properties-panel",children:[B($ze,{element:e,headerProvider:t}),B("div",{class:"bio-properties-panel-scroll-container",children:i.map(Ce=>{const{component:Ae=Zk,id:We}=Ce;return tt(Ae,{...Ce,key:We,element:e})})})]})})})})})})})})}function sZ(n={},e=yHe){return{...e,...n}}function _He(n={}){return{...bHe,...n}}function EHe(n={}){return{...xHe,...n}}function SHe(n,e){const t=dn(!1);s0(()=>{if(t.current)return n();t.current=!0},e)}function RV(n,e){return e=e||{},n.replace(/{([^}]+)}/g,function(t,r){return e[r]||"{"+r+"}"})}function kHe(n){const{element:e,entries:t=[],id:r,label:i,open:o,remove:a,translate:c=RV}=n,[u,h]=Nt(o),m=()=>h(!u),{onShow:y}=_r(kd),w={..._r(kd),onShow:ln(()=>{h(!0),yi(y)&&y()},[y,h])},S=c("<empty>");return B("div",{"data-entry-id":r,class:gn("bio-properties-panel-collapsible-entry",u?"open":""),children:[B("div",{class:"bio-properties-panel-collapsible-entry-header",onClick:m,children:[B("div",{title:i||S,class:gn("bio-properties-panel-collapsible-entry-header-title",!i&&"empty"),children:i||S}),B("button",{type:"button",title:c("Toggle list item"),class:"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow",children:B(UI,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}),a?B("button",{type:"button",title:c("Delete item"),class:"bio-properties-panel-remove-entry",onClick:a,children:B(kfe,{})}):null]}),B("div",{class:gn("bio-properties-panel-collapsible-entry-entries",u?"open":""),children:B(kd.Provider,{value:w,children:t.map(T=>{const{component:O,id:N}=T;return tt(O,{...T,element:e,key:N})})})})]})}function CHe(n){const{autoFocusEntry:e,autoOpen:t,translate:r=RV}=n;return kt(()=>{if(t&&e){const i=cp(`[data-entry-id="${e}"]`),o=cp(".bio-properties-panel-input",i);o&&(yi(o.select)?o.select():yi(o.focus)&&o.focus(),o.scrollIntoView())}},[t,e]),B("div",{class:"bio-properties-panel-list-item",children:B(kHe,{...n,open:t,translate:r})})}const OHe=()=>{};function MV(n){const{add:e,element:t,id:r,items:i,label:o,shouldOpen:a=!1,translate:c=RV}=n;kt(()=>{n.shouldSort!=null&&console.warn("the property 'shouldSort' is no longer supported")},[n.shouldSort]);const u=dn(null),[h,m]=Nfe(["groups",r,"open"],a),[y,w]=Nt(!1),S=ln(()=>m(!0),[m]),[T,O]=Nt([]),[N,D]=Nt(!1),F=OV(t),I=ln(()=>m(!h),[h]),R=t===F&&h&&N?THe(i,T):[];kt(()=>{O(i),D(!1)},[i]),Ife(u,"div.bio-properties-panel-scroll-container",w);const z=!!i.length,X={..._r(kd),onShow:S},Z=_e=>{D(!0),m(!0),e(_e)},ae=Dfe(),ge=i.some(_e=>{if(ae[_e.id])return!0;if(_e.entries)return _e.entries.some(be=>ae[be.id])});return B("div",{class:"bio-properties-panel-group","data-group-id":"group-"+r,ref:u,children:[B("div",{class:gn("bio-properties-panel-group-header",z?"":"empty",z&&h?"open":"",y&&h?"sticky":""),onClick:z?I:OHe,children:[B("div",{title:n.tooltip?null:o,"data-title":o,class:"bio-properties-panel-group-header-title",children:B(Bg,{value:n.tooltip,forId:"group-"+r,element:t,parent:u,children:o})}),B("div",{class:"bio-properties-panel-group-header-buttons",children:[e?B("button",{type:"button",title:c("Create new list item"),class:"bio-properties-panel-group-header-button bio-properties-panel-add-entry",onClick:Z,children:[B(Sfe,{}),z?null:B("span",{class:"bio-properties-panel-add-entry-label",children:c("Create")})]}):null,z?B("div",{title:c(`List contains {numOfItems} item${i.length!=1?"s":""}`,{numOfItems:i.length}),class:gn("bio-properties-panel-list-badge",ge?"bio-properties-panel-list-badge--error":""),children:i.length}):null,z?B("button",{type:"button",title:c("Toggle section"),class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:B(UI,{class:h?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}):null]})]}),B("div",{class:gn("bio-properties-panel-list",h&&z?"open":""),children:B(kd.Provider,{value:X,children:i.map((_e,be)=>{if(!_e)return;const{id:he}=_e,fe=R.includes(_e.id);return tt(CHe,{..._e,autoOpen:fe,element:t,index:be,key:he,translate:c})})})})]})}function THe(n,e){const t=n.map(i=>i.id),r=e.map(i=>i.id);return t.filter(i=>!r.includes(i))}function PHe(n){const{id:e,label:t,onChange:r,disabled:i,value:o=!1,onFocus:a,onBlur:c,tooltip:u}=n,[h,m]=Nt(o),y=({target:T})=>{r(T.checked)},w=T=>{y(T),m(T.target.value)};kt(()=>{o!==h&&m(o)},[o]);const S=U2(e);return B("div",{class:"bio-properties-panel-checkbox",children:[B("input",{ref:S,id:aZ(e),name:e,onFocus:a,onBlur:c,type:"checkbox",class:"bio-properties-panel-input",onChange:w,checked:h,disabled:i}),B("label",{for:aZ(e),class:"bio-properties-panel-label",children:B(Bg,{value:u,forId:e,element:n.element,children:t})})]})}function KI(n){const{element:e,id:t,description:r,label:i,getValue:o,setValue:a,disabled:c,onFocus:u,onBlur:h,tooltip:m}=n,y=o(e),w=zw(t);return B("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":t,children:[B(PHe,{disabled:c,id:t,label:i,onChange:a,onFocus:u,onBlur:h,value:y,tooltip:m,element:e},e),w&&B("div",{class:"bio-properties-panel-error",children:w}),B(k0,{forId:t,element:e,value:r})]})}function XI(n){return n&&!!n.checked}function aZ(n){return`bio-properties-panel-${n}`}function AHe(n){const{id:e,label:t,onChange:r,options:i=[],value:o="",disabled:a,onFocus:c,onBlur:u,tooltip:h}=n,m=U2(e),[y,w]=Nt(o),S=({target:O})=>{r(O.value)},T=O=>{S(O),w(O.target.value)};return kt(()=>{o!==y&&w(o)},[o]),B("div",{class:"bio-properties-panel-select",children:[B("label",{for:lZ(e),class:"bio-properties-panel-label",children:B(Bg,{value:h,forId:e,element:n.element,children:t})}),B("select",{ref:m,id:lZ(e),name:e,class:"bio-properties-panel-input",onInput:T,onFocus:c,onBlur:u,value:y,disabled:a,children:i.map((O,N)=>O.children?B("optgroup",{label:O.label,children:O.children.map((D,F)=>B("option",{value:D.value,disabled:D.disabled,children:D.label},F))},N):B("option",{value:O.value,disabled:O.disabled,children:O.label},N))})]})}function jd(n){const{element:e,id:t,description:r,label:i,getValue:o,setValue:a,getOptions:c,disabled:u,onFocus:h,onBlur:m,validate:y,tooltip:w}=n,S=c(e),T=zw(t),[O,N]=Nt(null);let D=o(e);kt(()=>{if(yi(y)){const R=y(D)||null;N(R)}},[D,y]);const F=R=>{let z=null;yi(y)&&(z=y(R)||null),a(R,z),N(z)},I=T||O;return B("div",{class:gn("bio-properties-panel-entry",I?"has-error":""),"data-entry-id":t,children:[B(AHe,{id:t,label:i,value:D,onChange:F,onFocus:h,onBlur:m,options:S,disabled:u,tooltip:w,element:e},e),I&&B("div",{class:"bio-properties-panel-error",children:I}),B(k0,{forId:t,element:e,value:r})]})}function Nd(n){return n&&!!n.value}function lZ(n){return`bio-properties-panel-${n}`}function E4(n){n.style.height="auto",n.style.height=`${n.scrollHeight+2}px`}function RHe(n){const{id:e,label:t,debounce:r,onInput:i,value:o="",disabled:a,monospace:c,onFocus:u,onBlur:h,autoResize:m=!0,placeholder:y,rows:w=m?1:2,tooltip:S}=n,[T,O]=Nt(o),N=U2(e),D=Hze(N.current),F=Jt(()=>r(z=>i(z.value.length?z.value:void 0)),[i,r]),I=z=>{F(z.target),m&&E4(z.target),O(z.target.value)},R=z=>{h&&h(z),O(z.target.value.trim())};return s0(()=>{m&&E4(N.current)},[]),s0(()=>{D&&m&&E4(N.current)},[D]),kt(()=>{o!==T&&O(o)},[o]),B("div",{class:"bio-properties-panel-textarea",children:[B("label",{for:cZ(e),class:"bio-properties-panel-label",children:B(Bg,{value:S,forId:e,element:n.element,children:t})}),B("textarea",{ref:N,id:cZ(e),name:e,spellCheck:"false",class:gn("bio-properties-panel-input",c?"bio-properties-panel-input-monospace":"",m?"auto-resize":""),onInput:I,onFocus:u,onBlur:R,placeholder:y,rows:w,value:T,disabled:a,"data-gramm":"false"})]})}function MHe(n){const{element:e,id:t,description:r,debounce:i,label:o,getValue:a,setValue:c,rows:u,monospace:h,disabled:m,validate:y,onFocus:w,onBlur:S,placeholder:T,autoResize:O,tooltip:N}=n,D=zw(t),[F,I]=Nt(null);let R=a(e);kt(()=>{if(yi(y)){const Z=y(R)||null;I(Z)}},[R,y]);const z=Z=>{let ae=null;yi(y)&&(ae=y(Z)||null),c(Z,ae),I(ae)},X=D||F;return B("div",{class:gn("bio-properties-panel-entry",X?"has-error":""),"data-entry-id":t,children:[B(RHe,{id:t,label:o,value:R,onInput:z,onFocus:w,onBlur:S,rows:u,debounce:i,monospace:h,disabled:m,placeholder:T,autoResize:O,tooltip:N,element:e},e),X&&B("div",{class:"bio-properties-panel-error",children:X}),B(k0,{forId:t,element:e,value:r})]})}function DHe(n){return n&&!!n.value}function cZ(n){return`bio-properties-panel-${n}`}function NHe(n){const{debounce:e,disabled:t=!1,id:r,label:i,onInput:o,onFocus:a,onBlur:c,placeholder:u,value:h="",tooltip:m}=n,[y,w]=Nt(h||""),S=U2(r),T=Jt(()=>e(D=>o(D.value.length?D.value:void 0)),[o,e]),O=D=>{c&&c(D),w(D.target.value.trim())},N=D=>{T(D.target),w(D.target.value)};return kt(()=>{h!==y&&w(h)},[h]),B("div",{class:"bio-properties-panel-textfield",children:[B("label",{for:uZ(r),class:"bio-properties-panel-label",children:B(Bg,{value:m,forId:r,element:n.element,children:i})}),B("input",{ref:S,id:uZ(r),type:"text",name:r,spellCheck:"false",autoComplete:"off",disabled:t,class:"bio-properties-panel-input",onInput:N,onFocus:a,onBlur:O,placeholder:u,value:y})]})}function xa(n){const{element:e,id:t,description:r,debounce:i,disabled:o,label:a,getValue:c,setValue:u,validate:h,onFocus:m,onBlur:y,placeholder:w,tooltip:S}=n,T=zw(t),[O,N]=Nt(null);let D=c(e);kt(()=>{if(yi(h)){const R=h(D)||null;N(R)}},[D,h]);const F=R=>{let z=null;yi(h)&&(z=h(R)||null),u(R,z),N(z)},I=T||O;return B("div",{class:gn("bio-properties-panel-entry",I?"has-error":""),"data-entry-id":t,children:[B(NHe,{debounce:i,disabled:o,id:t,label:a,onInput:F,onFocus:m,onBlur:y,placeholder:w,value:D,tooltip:S,element:e},e),I&&B("div",{class:"bio-properties-panel-error",children:I}),B(k0,{forId:t,element:e,value:r})]})}function Id(n){return n&&!!n.value}function uZ(n){return`bio-properties-panel-${n}`}class zfe{constructor(e){this._eventBus=e}isOpen(){return this._eventBus.fire("feelPopup._isOpen")}open(e,t,r){return this._eventBus.fire("feelPopup._open",{entryId:e,popupConfig:t,sourceElement:r})}close(){return this._eventBus.fire("feelPopup._close")}}zfe.$inject=["eventBus"];var IHe={feelPopup:["type",zfe]};function FHe(n,e){}const Hfe=$l({getService:FHe});function LHe(n={}){const{getDocumentationRef:e,formFields:t}=n;return{getElementLabel:r=>{const{type:i}=r,o=t.get(i).config;return o.getSubheading?o.getSubheading(r):r.label},getElementIcon:r=>{const{type:i}=r,o=t.get(i).config,a=o.icon||jg(i);if(a)return function(){return B(a,{width:"36",height:"36",viewBox:"0 0 54 54"})};if(o.iconUrl)return bV({iconUrl:o.iconUrl,label:o.label})},getTypeLabel:r=>{const{type:i}=r;if(i==="default")return"Form";const o=t.get(i).config;return o.name||o.label||i},getDocumentationRef:e}}const $He={getEmpty:()=>({text:"Select a form field to edit its properties."}),getMultiple:()=>({text:"Multiple form fields are selected. Select a single form field to edit its properties."})},jHe={};function BHe(n){const{eventBus:e,getProviders:t,injector:r}=n,i=r.get("formEditor"),o=r.get("modeling"),a=r.get("selection"),c=r.get("config.propertiesPanel")||jHe,{feelPopupContainer:u}=c,[h,m]=Nt({selectedFormField:a.get()||i._getState().schema}),y=h.selectedFormField,w=ln(X=>{m({selectedFormField:a.get()||i._getState().schema}),e.fire("propertiesPanel.updated",{formField:X})},[e,i,a]);s0(()=>(e.on("changed",w),e.on("import.done",w),e.on("selection.changed",w),()=>{e.off("changed",w),e.off("import.done",w),e.off("selection.changed",w)}),[e,w]);const S=(X,Z=!0)=>r.get(X,Z),T={getService:S},O=()=>e.fire("propertiesPanel.focusin"),N=()=>e.fire("propertiesPanel.focusout"),D=ln((X,Z,ae)=>o.editFormField(X,Z,ae),[o]),F=t(y),I=Jt(()=>hie(F,function(X,Z){return Ho(y)?[]:Z.getGroups(y,D)(X)},[]),[F,y,D]),R=S("formFields"),z=Jt(()=>LHe({getDocumentationRef:c.getDocumentationRef,formFields:R}),[R,c]);return B("div",{class:"fjs-properties-panel","data-field":y&&y.id,onFocusCapture:O,onBlurCapture:N,children:B(Hfe.Provider,{value:T,children:B(wHe,{element:y,eventBus:e,groups:I,headerProvider:z,placeholderProvider:$He,feelPopupContainer:u})})})}const VHe=1e3;class Wfe{constructor(e,t,r){const{parent:i}=e||{};this._eventBus=r,this._injector=t,this._container=gV('<div class="fjs-properties-container" input-handle-modified-keys="y,z"></div>'),i&&this.attachTo(i),this._eventBus.once("formEditor.rendered",500,()=>{this._render()})}attachTo(e){if(!e)throw new Error("container required");typeof e=="string"&&(e=cp(e)),this.detach(),e.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const e=this._container.parentNode;e&&(e.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}_render(){sp(B(BHe,{getProviders:this._getProviders.bind(this),eventBus:this._eventBus,injector:this._injector}),this._container),this._eventBus.fire("propertiesPanel.rendered")}_destroy(){this._container&&(sp(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}registerProvider(e,t){if(t||(t=VHe),typeof e.getGroups!="function"){console.error("Properties provider does not implement #getGroups(element) API");return}this._eventBus.on("propertiesPanel.getProviders",t,function(r){r.providers.push(e)}),this._eventBus.fire("propertiesPanel.providersChanged")}_getProviders(){const e=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(e),e.providers}}Wfe.$inject=["config.propertiesPanel","injector","eventBus"];function zHe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"action",component:HHe,editField:e,field:t,isEdited:Nd,isDefaultVisible:i=>i.type==="button"}),r}function HHe(n){const{editField:e,field:t,id:r}=n,i=["action"];return jd({element:t,getOptions:()=>[{label:"Submit",value:"submit"},{label:"Reset",value:"reset"}],getValue:()=>Xe(t,i,""),id:r,label:"Action",setValue:u=>e(t,i,u)})}function bn(n,e){const{getService:t}=_r(Hfe);return t(n,e)}function oo(){const e=bn("formEditor").getSchema();return a9e(e)}function WHe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"alt",component:qHe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>["image"].includes(i.type)}),r}function qHe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["alt"];return Ja({debounce:i,element:t,feel:"optional",getValue:()=>Xe(t,a,""),id:r,label:"Alternative text",tooltip:"Descriptive text for screen reader accessibility.",setValue:h=>e(t,a,h),singleLine:!0,variables:o})}const UHe="";function GHe(n){const{editField:e,field:t}=n;return[{id:"columns",component:YHe,field:t,editField:e,isEdited:Nd}]}function YHe(n){const{field:e,editField:t,id:r}=n;bn("debounce");const i=bn("formLayoutValidator"),o=ln(h=>i.validateField(e,h?parseInt(h):null),[e,i]);return jd({element:e,id:r,label:"Columns",getOptions:()=>[{label:"Auto",value:UHe},...KHe(16).filter(h=>h>=m6).map(QHe)],getValue:()=>Xe(e,["layout","columns"]),setValue:(h,m)=>{if(m)return;const y=Xe(e,["layout"],{}),w=h?parseInt(h):null;t(e,["layout"],eo(y,["columns"],w))},validate:o})}function QHe(n){return{value:n,label:n.toString()}}function KHe(n){return Array.from({length:n}).map((e,t)=>t+1)}function qfe(n,e,t){const r=[...n];return r.splice(e,0,t),r}function Ufe(n){const e=Ns(n);return e.toString()===e.toFixed(0)?0:e.toFixed().split(".")[1].length||0}function yx(n){return(typeof n=="number"||typeof n=="string")&&n!==""&&!isNaN(Number(n))}function DV(n){return/^\w+(\.\w+)*$/.test(n)}function Gfe(n){const e=["__proto__","prototype","constructor"];return n.split(".").some(t=>e.includes(t))}const XHe=["button","group","dynamiclist","iframe","table","documentPreview"],Hh=["checkbox","checklist","datetime","number","radio","select","taglist","textfield","textarea","filepicker"],Yfe=["checklist","radio","select","taglist"];function ZHe(n,e){const{propertiesPanelEntries:t=[]}=n;return t.length?t.some(r=>r===e):!1}function JHe(n){const{propertiesPanelEntries:e=[]}=n;return e.length?e.some(t=>t==="values"):!1}function NV(n){return n.split(".").some(e=>/^\d+$/.test(e))}function eWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"description",component:tWe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type!=="filepicker"&&Hh.includes(i.type)}),r}function tWe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["description"];return Ja({debounce:i,element:t,getValue:()=>Xe(t,a,""),id:r,label:"Field description",singleLine:!0,setValue:h=>e(t,a,h),variables:o})}const dZ="";function nWe(n){const{editField:e,field:t}=n,{type:r}=t,i=[];function o(c){return u=>!Hh.includes(r)||Yfe.includes(r)&&!u.values?!1:c(u)}const a={editField:e,field:t,id:"defaultValue",label:"Default value"};return i.push({...a,component:rWe,isEdited:Nd,isDefaultVisible:o(c=>c.type==="checkbox")}),i.push({...a,component:iWe,isEdited:Id,isDefaultVisible:o(c=>c.type==="number")}),i.push({...a,component:oWe,isEdited:Nd,isDefaultVisible:o(c=>c.type==="radio"||c.type==="select")}),i.push({...a,component:sWe,isEdited:Id,isDefaultVisible:o(c=>c.type==="textfield")}),i.push({...a,component:aWe,isEdited:DHe,isDefaultVisible:o(c=>c.type==="textarea")}),i}function rWe(n){const{editField:e,field:t,id:r,label:i}=n,{defaultValue:o}=t,a=["defaultValue"];return jd({element:t,getOptions:()=>[{label:"Checked",value:"true"},{label:"Not checked",value:"false"}],getValue:()=>cWe(o),id:r,label:i,setValue:m=>e(t,a,lWe(m))})}function iWe(n){const{editField:e,field:t,id:r,label:i}=n,{decimalDigits:o,serializeToString:a=!1}=t,c=bn("debounce"),u=["defaultValue"],h=S=>{let T=Xe(t,u);if(yx(T))return a?Ns(T).toFixed():T},m=(S,T)=>{if(T)return;let O;return yx(S)&&(O=a?S:Number(S)),e(t,u,O)},y=o||o===0,w=ln(S=>{if(S!=null){if(!yx(S))return"Should be a valid number";if(y&&Ufe(S)>o)return`Should not contain more than ${o} decimal digits`}},[y,o]);return xa({debounce:c,label:i,element:t,getValue:h,id:r,setValue:m,validate:w})}function oWe(n){const{editField:e,field:t,id:r,label:i}=n,{defaultValue:o=dZ,values:a=[]}=t,c=["defaultValue"];return jd({element:t,getOptions:()=>[{label:"<none>",value:dZ},...a],getValue:()=>o,id:r,label:i,setValue:y=>e(t,c,y.length?y:void 0)})}function sWe(n){const{editField:e,field:t,id:r,label:i}=n,o=bn("debounce"),a=["defaultValue"];return xa({debounce:o,element:t,getValue:()=>Xe(t,a,""),id:r,label:i,setValue:h=>e(t,a,h)})}function aWe(n){const{editField:e,field:t,id:r,label:i}=n,o=bn("debounce"),a=["defaultValue"];return MHe({debounce:o,element:t,getValue:()=>Xe(t,a,""),id:r,label:i,setValue:h=>e(t,a,h)})}function lWe(n){return n==="true"}function cWe(n){return n===!0?"true":"false"}function uWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"disabled",component:dWe,editField:e,field:t,isEdited:AV,isDefaultVisible:i=>Hh.includes(i.type)}),r}function dWe(n){const{editField:e,field:t,id:r}=n,i=["disabled"];return PV({element:t,getValue:()=>Xe(t,i,""),id:r,label:"Disabled",tooltip:"Field cannot be edited by the end-user, and the data is not submitted. Takes precedence over read only.",inline:!0,setValue:c=>e(t,i,c)})}function fWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"id",component:hWe,editField:e,field:t,isEdited:Id,isDefaultVisible:i=>i.type==="default"}),r}function hWe(n){const{editField:e,field:t,id:r}=n,i=bn("formFieldRegistry"),o=bn("debounce"),a=["id"],c=()=>Xe(t,a,""),u=(m,y)=>{if(!y)return e(t,a,m)},h=ln(m=>{if(typeof m!="string"||m.length===0)return"Must not be empty.";const y=i._ids.assigned(m);return y&&y!==t?"Must be unique.":vWe(m)||null},[i,t]);return xa({debounce:o,element:t,getValue:c,id:r,label:"ID",setValue:u,validate:h})}const pWe=/\s/,mWe=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,gWe=/^[a-z_][\w-.]*$/i;function vWe(n){if(yWe(n))return"Must not contain spaces.";if(!gWe.test(n))return mWe.test(n)?"Must not contain prefix.":"Must be a valid QName."}function yWe(n){return pWe.test(n)}function bWe(n){const{editField:e,field:t,getService:r}=n,i=[];return i.push({id:"key",component:xWe,editField:e,field:t,isEdited:Id,isDefaultVisible:o=>{const a=r("formFields"),{config:c}=a.get(o.type);return c.keyed}}),i}function xWe(n){const{editField:e,field:t,id:r}=n,i=bn("pathRegistry"),o=bn("debounce"),a=["key"],c=()=>Xe(t,a,""),u=(m,y)=>{if(!y)return e(t,a,m)},h=ln(m=>{if(m===t.key)return null;if(!Ii(m)||m.length===0)return"Must not be empty.";if(!DV(m))return"Must be a variable or a dot separated path.";if(NV(m))return"Must not contain numerical path segments.";if(Gfe(m))return"Must not be a prohibited path.";const y={[t.id]:m.split(".")},w=i.getValuePath(t),S=i.getValuePath(t,{replacements:y});i.unclaimPath(w);const T=i.canClaimPath(S,{isClosed:!0,claimerId:t.id});return i.claimPath(w,{isClosed:!0,claimerId:t.id}),T?null:"Must not conflict with other key/path assignments."},[t,i]);return xa({debounce:o,description:"Binds to a form variable",element:t,getValue:c,id:r,label:"Key",tooltip:`Use a unique "key" to link the form element and the related input/output data. When dealing with nested data, break it down in the user task's input mapping before using it.`,setValue:u,validate:h})}function wWe(n){const{editField:e,field:t,getService:r}=n,{type:i}=t,o=[],a=r("formFields").get(i);return a&&a.config.pathed&&o.push({id:"path",component:_We,editField:e,field:t,isEdited:Id}),o}function _We(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=bn("pathRegistry"),c=bn("formFields").get(t.type).config.repeatable&&t.isRepeating,u=["path"],h=()=>Xe(t,u,""),m=(S,T)=>{if(!T)return e(t,u,S)},y=ln(S=>{if(!S&&c)return"Must not be empty";if(!S&&!c||S===t.path)return null;if(!DV(S))return c?"Must be a variable or a dot-separated path":"Must be empty, a variable or a dot-separated path";if(NV(S))return"Must not contain numerical path segments.";if(Gfe(S))return"Must not be a prohibited path.";const T={replacements:{[t.id]:S.split(".")}};return o.executeRecursivelyOnFields(t,({field:N,isClosed:D,isRepeatable:F})=>{const I=o.getValuePath(N,T);return o.canClaimPath(I,{isClosed:D,isRepeatable:F,claimerId:N.id})})?null:"Must not cause two binding paths to collide"},[t,c,o]);return xa({debounce:i,description:"Where the child variables of this component are pathed to.",element:t,getValue:h,id:r,label:"Path",tooltip:c?"Routes the children of this component into a form variable, may be left empty to route at the root level.":"Routes the children of this component into a form variable.",setValue:m,validate:y})}function r2(n){const{id:e,label:t,description:r,path:i,props:o,getValue:a,setValue:c,isDefaultVisible:u}=n,{editField:h,field:m}=o;return{id:e,label:t,path:i,field:m,editField:h,description:r,component:EWe,isEdited:AV,isDefaultVisible:u,getValue:a,setValue:c}}const EWe=n=>{const{id:e,label:t,path:r,field:i,editField:o,getValue:a=()=>Xe(i,r,""),setValue:c=h=>o(i,r,h||!1),description:u}=n;return PV({element:i,getValue:a,id:e,label:t,setValue:c,inline:!0,description:u})};function SWe(n){const{id:e,label:t,path:r,props:i,optionsArray:o}=n,{editField:a,field:c}=i;return{id:e,label:t,path:r,field:c,editField:a,optionsArray:o,component:kWe,isEdited:Nd}}const kWe=n=>{const{id:e,label:t,path:r,field:i,editField:o,optionsArray:a}=n;return jd({label:t,element:i,getOptions:()=>a,getValue:()=>Xe(i,r,""),id:e,setValue:m=>o(i,r,m)})};function fZ(n){const{id:e,label:t,path:r,props:i,min:o,max:a}=n,{editField:c,field:u}=i;return{id:e,label:t,path:r,field:u,editField:c,min:o,max:a,component:CWe,isEdited:Id}}const CWe=n=>{const{id:e,label:t,path:r,field:i,editField:o,min:a=Number.MIN_SAFE_INTEGER,max:c=Number.MAX_SAFE_INTEGER}=n,u=bn("debounce"),h=()=>{const w=Xe(i,r);return yx(w)&&Number.isInteger(w)?w:null},m=(w,S)=>{S||o(i,r,Number(w))},y=ln(w=>{if(!(w==null||w==="")){if(!Number.isInteger(Number(w)))return"Should be an integer.";if(Ns(w).cmp(a)<0)return`Should be at least ${a}.`;if(Ns(w).cmp(c)>0)return`Should be at most ${c}.`}},[a,c]);return xa({debounce:u,label:t,element:i,getValue:h,id:e,setValue:m,validate:y})};function OWe(n){const{field:e}=n,{type:t}=e;return["group","dynamiclist"].includes(t)?[r2({id:"showOutline",path:["showOutline"],label:"Show outline",props:n})]:[]}function TWe(n){const{field:e,editField:t}=n,r=[];r.push({id:"date-label",component:AWe,editField:t,field:e,isEdited:io,isDefaultVisible:function(o){return o.type==="datetime"&&(o.subtype===gr.DATE||o.subtype===gr.DATETIME)}}),r.push({id:"time-label",component:RWe,editField:t,field:e,isEdited:io,isDefaultVisible:function(o){return o.type==="datetime"&&(o.subtype===gr.TIME||o.subtype===gr.DATETIME)}});const i=o=>[...Hh.filter(a=>a!=="datetime"),...XHe].includes(o.type);return r.push({id:"label",component:PWe,editField:t,field:e,isEdited:io,isDefaultVisible:i}),r}function PWe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(m=>({name:m})),a=["label"],c=()=>Xe(t,a,""),u=m=>e(t,a,m||""),h=MWe(t.type);return Ja({debounce:i,element:t,getValue:c,id:r,label:h,singleLine:!0,setValue:u,variables:o})}function AWe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=aN;return Ja({debounce:i,element:t,getValue:()=>Xe(t,a,""),id:r,label:"Date label",singleLine:!0,setValue:h=>e(t,a,h||""),variables:o})}function RWe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=xB;return Ja({debounce:i,element:t,getValue:()=>Xe(t,a,""),id:r,label:"Time label",singleLine:!0,setValue:h=>e(t,a,h||""),variables:o})}function MWe(n){switch(n){case"group":case"dynamiclist":return"Group label";case"table":return"Table label";case"iframe":case"documentPreview":return"Title";default:return"Field label"}}function Qfe(n){const{editField:e,field:t,id:r,description:i,isDefaultVisible:o,defaultValue:a}=n,c=[];return c.push({id:r+"-height",component:DWe,description:i,isEdited:YI,editField:e,field:t,defaultValue:a,isDefaultVisible:u=>yi(o)?o(u):u.type==="spacer"}),c}function DWe(n){const{description:e,editField:t,field:r,id:i}=n,o=bn("debounce");return GI({debounce:o,description:e,label:"Height",element:r,id:i,getValue:u=>Xe(r,["height"],null),setValue:(u,h)=>{h||t(r,["height"],u)},validate:NWe})}const NWe=n=>{if(typeof n!="number")return"A number is required.";if(!Number.isInteger(n))return"Should be an integer.";if(n<1)return"Should be greater than zero."};function IWe(n){return[...Qfe({...n,description:"Height of the container in pixels.",isDefaultVisible:e=>e.type==="iframe"})]}const FWe=/^(https):\/\/*/i;function LWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"url",component:$We,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="iframe"}),r}function $We(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["url"];return Ja({debounce:i,element:t,feel:"optional",getValue:()=>Xe(t,a,""),id:r,label:"URL",setValue:h=>e(t,a,h),singleLine:!0,tooltip:jWe(),validate:BWe,variables:o})}function jWe(){return B(ki,{children:[B("p",{children:"Enter a HTTPS URL to a source or populate it dynamically via a template or an expression (e.g., to pass a value from the variable)."}),B("p",{children:"Please make sure that the URL is safe as it might impose security risks."}),B("p",{children:["Not all external sources can be displayed in the iFrame. Read more about it in the"," ",B("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options",rel:"noreferrer",children:"X-FRAME-OPTIONS documentation"}),"."]})]})}const BWe=n=>{if(!(!n||n.startsWith("="))&&!FWe.test(n))return'For security reasons the URL must start with "https".'};function VWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"source",component:zWe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="image"}),r}function zWe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["source"];return Ja({debounce:i,description:"Expression or static value (link/data URI)",element:t,feel:"optional",getValue:()=>Xe(t,a,""),id:r,label:"Image source",tooltip:"Link referring to a hosted image, or use a data URI directly to embed image data into the form.",setValue:h=>e(t,a,h),singleLine:!0,variables:o})}function HWe(n){const{editField:e,field:t}=n;return[{id:"text",component:WWe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="text"}]}function WWe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["text"];return Ja({debounce:i,description:qWe,element:t,getValue:()=>Xe(t,a,""),id:r,label:"Text",hostLanguage:"markdown",setValue:h=>e(t,a,h||""),variables:o})}const qWe=B(ki,{children:["Supports markdown and templating."," ",B("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-text/",target:"_blank",rel:"noreferrer",children:"Learn more"})]});function UWe(n){const{editField:e,field:t}=n;return[{id:"content",component:GWe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="html"}]}function GWe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["content"];return Ja({debounce:i,description:YWe,element:t,getValue:()=>Xe(t,a,""),id:r,label:"Content",hostLanguage:"html",validate:QWe,setValue:h=>e(t,a,h||""),variables:o})}const YWe=B(ki,{children:["Supports HTML, styling, and templating. Styles are automatically scoped to the HTML component."," ",B("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-html/",target:"_blank",rel:"noreferrer",children:"Learn more"})]}),QWe=n=>{if(typeof n!="string"||n===""||n.startsWith("="))return null};function KWe(n){const{editField:e,field:t,id:r}=n,i=[];return i.push({id:r+"-decimalDigits",component:XWe,isEdited:YI,editField:e,field:t,isDefaultVisible:o=>o.type==="number"}),i.push({id:r+"-step",component:ZWe,isEdited:Id,editField:e,field:t,isDefaultVisible:o=>o.type==="number"}),i}function XWe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce");return GI({debounce:i,label:"Decimal digits",element:t,step:"any",getValue:c=>Xe(t,["decimalDigits"]),id:r,setValue:(c,u)=>{u||e(t,["decimalDigits"],c)},validate:JWe})}function ZWe(n){const{editField:e,field:t,id:r}=n,{decimalDigits:i}=t,o=bn("debounce"),a=y=>{let w=Xe(t,["increment"]);return yx(w)?w:null},c=y=>{if(!y)return y;const w=y.replace(/^0+/g,"");return(w.startsWith(".")?"0":"")+w},u=(y,w)=>{w||e(t,["increment"],c(y))},h=i||i===0,m=ln(y=>{if(y!=null){if(!yx(y))return"Should be a valid number.";if(Ns(y).cmp(0)<=0)return"Should be greater than zero.";if(h){const w=Ns(`1e-${i}`);if(Ns(y).cmp(w)<0)return`Should be at least ${w.toString()}.`;if(Ufe(y)>i)return`Should not contain more than ${i} decimal digits.`}}},[h,i]);return xa({debounce:o,label:"Increment",element:t,getValue:a,id:r,setValue:u,validate:m})}const JWe=n=>{if(typeof n=="number"){if(!Number.isInteger(n))return"Should be an integer.";if(n<0)return"Should be greater than or equal to zero."}};function eqe(n){const{editField:e,field:t,id:r}=n,i=[];return i.push({id:`${r}-expression`,component:tqe,isEdited:io,editField:e,field:t,isDefaultVisible:o=>o.type==="expression"}),i.push({id:`${r}-computeOn`,component:nqe,isEdited:Nd,editField:e,field:t,isDefaultVisible:o=>o.type==="expression"}),i}function tqe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(u=>({name:u}));return Hw({debounce:i,description:"Define an expression to calculate the value of this field",element:t,feel:"required",getValue:()=>t.expression||"",id:r,label:"Target value",setValue:u=>{e(t,["expression"],u)},variables:o})}function nqe(n){const{editField:e,field:t,id:r}=n;return jd({id:r,label:"Compute on",getValue:()=>t.computeOn||"",setValue:c=>{e(t,["computeOn"],c)},getOptions:()=>[{value:"change",label:"Value changes"},{value:"presubmit",label:"Form submission"}]})}function rqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"serialize-to-string",component:iqe,isEdited:XI,editField:e,field:t,isDefaultVisible:i=>i.type==="number"}),r}function iqe(n){const{editField:e,field:t,id:r}=n,{defaultValue:i}=t,o=["serializeToString"];return KI({element:t,getValue:()=>Xe(t,o,""),id:r,label:"Output as string",description:"Allows arbitrary precision values",setValue:u=>((i||i===0)&&e(t,["defaultValue"],u?Ns(i).toFixed():Number(i)),e(t,o,u))})}function oqe(n){const{editField:e,field:t}=n,r=[{id:"subtype",component:sqe,isEdited:Nd,editField:e,field:t,isDefaultVisible:i=>i.type==="datetime"}];return r.push({id:"use24h",component:aqe,isEdited:XI,editField:e,field:t,isDefaultVisible:i=>i.type==="datetime"&&(i.subtype===gr.TIME||i.subtype===gr.DATETIME)}),r}function sqe(n){const{editField:e,field:t,id:r}=n,i=y=>Xe(t,bB),o=()=>{const y=[xB,$ce,lN,cN];for(const w of y)e(t,w,void 0)},a=()=>{e(t,xB,"Time"),e(t,cN,cg.UTC_OFFSET),e(t,lN,15)},c=()=>{const y=[aN,Lce];for(const w of y)e(t,w,void 0)},u=()=>{e(t,aN,"Date")};return jd({label:"Subtype",element:t,getOptions:()=>Object.values(gr).map(y=>({label:e6e[y],value:y})),getValue:i,id:r,setValue:y=>{const w=i();if(w!==y)return y===gr.DATE?(o(),w===gr.TIME&&u()):y===gr.TIME?(c(),w===gr.DATE&&a()):y===gr.DATETIME&&(w===gr.DATE&&a(),w===gr.TIME&&u()),e(t,bB,y)}})}function aqe(n){const{editField:e,field:t,id:r}=n,i=$ce;return KI({element:t,getValue:()=>Xe(t,i,""),id:r,label:"Use 24h",setValue:c=>e(t,i,c)})}function lqe(n){const{editField:e,field:t,id:r}=n;function i(a){return c=>c.type!=="datetime"?!1:a.includes(c.subtype)}const o=[];return o.push({id:r+"-timeInterval",component:uqe,isEdited:Nd,editField:e,field:t,isDefaultVisible:i([gr.TIME,gr.DATETIME])}),o.push({id:r+"-disallowPassedDates",component:cqe,isEdited:XI,editField:e,field:t,isDefaultVisible:i([gr.DATE,gr.DATETIME])}),o}function cqe(n){const{editField:e,field:t,id:r}=n,i=Lce;return KI({element:t,getValue:()=>Xe(t,i,""),id:r,label:"Disallow past dates",setValue:c=>e(t,i,c)})}function uqe(n){const{editField:e,field:t,id:r}=n,i=[1,5,10,15,30,60];return jd({label:"Time interval",element:t,getOptions:()=>i.map(u=>({label:u===60?"1h":u+"m",value:u})),getValue:u=>Xe(t,lN),id:r,setValue:u=>e(t,lN,parseInt(u))})}function dqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"time-format",component:fqe,isEdited:Nd,editField:e,field:t,isDefaultVisible:i=>i.type==="datetime"&&(i.subtype===gr.TIME||i.subtype===gr.DATETIME)}),r}function fqe(n){const{editField:e,field:t,id:r}=n;return jd({label:"Time format",element:t,getOptions:()=>Object.values(cg).map(c=>({label:t6e[c],value:c})),getValue:c=>Xe(t,cN),id:r,setValue:c=>e(t,cN,c)})}function hqe(n){return[r2({id:"searchable",path:["searchable"],label:"Searchable",props:n,isDefaultVisible:t=>t.type==="select"})]}function pqe(n){const{editField:e,field:t,idPrefix:r,index:i,validateFactory:o}=n;return[{component:mqe,editField:e,field:t,id:r+"-label",idPrefix:r,index:i,validateFactory:o},{component:gqe,editField:e,field:t,id:r+"-value",idPrefix:r,index:i,validateFactory:o}]}function mqe(n){const{editField:e,field:t,id:r,index:i,validateFactory:o}=n,a=bn("debounce"),c=(m,y)=>{if(y)return;const w=Xe(t,["values"]);return e(t,"values",eo(w,[i,"label"],m))},u=()=>Xe(t,["values",i,"label"]),h=Jt(()=>o(Xe(t,["values",i,"label"]),m=>m.label),[t,i,o]);return xa({debounce:a,element:t,getValue:u,id:r,label:"Label",setValue:c,validate:h})}function gqe(n){const{editField:e,field:t,id:r,index:i,validateFactory:o}=n,a=bn("debounce"),c=(m,y)=>{if(y)return;const w=Xe(t,["values"]);return e(t,"values",eo(w,[i,"value"],m))},u=()=>Xe(t,["values",i,"value"]),h=Jt(()=>o(Xe(t,["values",i,"value"]),m=>m.value),[t,i,o]);return xa({debounce:a,element:t,getValue:u,id:r,label:"Value",setValue:c,validate:h})}function vqe(n){const{editField:e,field:t,idPrefix:r,index:i,validateFactory:o}=n;return[{component:yqe,editField:e,field:t,id:r+"-key",idPrefix:r,index:i,validateFactory:o},{component:bqe,editField:e,field:t,id:r+"-value",idPrefix:r,index:i,validateFactory:o}]}function yqe(n){const{editField:e,field:t,id:r,index:i,validateFactory:o}=n,a=bn("debounce"),c=(m,y)=>{if(y)return;const w=Xe(t,["properties"]),S=Object.keys(w)[i];return e(t,"properties",wqe(w,S,m))},u=()=>Object.keys(Xe(t,["properties"]))[i],h=Jt(()=>o(Object.keys(Xe(t,["properties"]))[i]),[o,t,i]);return xa({debounce:a,element:t,getValue:u,id:r,label:"Key",setValue:c,validate:h})}function bqe(n){const{editField:e,field:t,id:r,index:i,validateFactory:o}=n,a=bn("debounce"),c=h=>{const m=Xe(t,["properties"]),y=Object.keys(m)[i];e(t,"properties",xqe(m,y,h))},u=()=>{const h=Xe(t,["properties"]),m=Object.keys(h)[i];return Xe(t,["properties",m])};return xa({debounce:a,element:t,getValue:u,id:r,label:"Value",setValue:c,validate:o(u())})}function xqe(n,e,t){return{...n,[e]:t}}function wqe(n,e,t){return Object.entries(n).reduce((r,i)=>{const[o,a]=i;return{...r,[o===e?t:o]:a}},{})}function Kfe(n){const{autoFocusEntry:e,element:t,getValue:r}=n,i=r(t),o=OV(i),a=bn("eventBus");return kt(()=>{e&&o&&i!==o&&setTimeout(()=>{a.fire("propertiesPanel.showEntry",{id:e})})},[i,e,o,a]),B(jd,{...n})}function _qe(n){const{editField:e,field:t,id:r}=n;return[{id:r+"-select",component:Eqe,isEdited:Nd,editField:e,field:t}]}function Eqe(n){const{editField:e,field:t,id:r}=n,i=U7,o=c=>{let u=t;const h={};return h[xd[c]]=i6e[c],u=e(t,h),u},a=()=>Object.values(Ui).map(c=>({label:r6e[c],value:c}));return Kfe({autoFocusEntry:Sqe(t),label:"Type",element:t,getOptions:a,getValue:i,id:r,setValue:o})}function Sqe(n){const e=U7(n);return e===Ui.EXPRESSION?"optionsExpression-expression":e===Ui.INPUT?"dynamicOptions-key":e===Ui.STATIC?"staticOptions-0-label":null}function kqe(n){const{editField:e,field:t,id:r}=n;return[{id:r+"-key",component:Cqe,isEdited:Id,editField:e,field:t}]}function Cqe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=xd[Ui.INPUT],c=B("div",{children:["The input property may be an array of simple values or alternatively follow this schema:",B("pre",{children:B("code",{children:`[
  {
    "label": "dollar",
    "value": "$"
  }
]`})})]});return xa({debounce:i,description:"Define which input property to populate the values from",tooltip:c,element:t,getValue:()=>Xe(t,o,""),id:r,label:"Input values key",setValue:(m,y)=>{y||e(t,o,m||"")},validate:Oqe})}const Oqe=n=>typeof n!="string"||n.length===0?"Must not be empty.":/\s/.test(n)?"Must not contain spaces.":null;function Tqe(n){const{editField:e,field:t,id:r}=n,{values:i}=t,o=h=>{h.stopPropagation();const m=i.length+1,y=Pqe(m,i);e(t,xd[Ui.STATIC],qfe(i,i.length,y))},a=h=>{t.defaultValue===h.value?e(t,{values:X$(i,h),defaultValue:void 0}):e(t,xd[Ui.STATIC],X$(i,h))},c=(h,m)=>y=>{if(y===h)return;if(typeof y!="string"||y.length===0)return"Must not be empty.";if(i.find(S=>m(S)===y))return"Must be unique."};return{items:i.map((h,m)=>{const y=r+"-"+m;return{id:y,label:h.label,entries:pqe({editField:e,field:t,idPrefix:y,index:m,validateFactory:c}),autoFocusEntry:y+"-label",remove:()=>a(h)}}),add:o}}function Pqe(n,e){const t={label:"Value",value:"value"};for(;Aqe(n,e);)n++;return n>1&&(t.label+=` ${n}`,t.value+=`${n}`),t}function Aqe(n,e){return e.some(t=>t.label===`Value ${n}`||t.value===`value${n}`)}function Rqe(n){const{editField:e,field:t}=n,r=[],i=a=>c=>{const u=Xe(t,["appearance"],{});e(t,["appearance"],eo(u,[a],c))},o=a=>()=>Xe(t,["appearance",a]);return r.push({id:"prefix-adorner",component:Mqe,isEdited:io,editField:e,field:t,onChange:i,getValue:o,isDefaultVisible:a=>["number","textfield"].includes(a.type)}),r.push({id:"suffix-adorner",component:Dqe,isEdited:io,editField:e,field:t,onChange:i,getValue:o,isDefaultVisible:a=>["number","textfield"].includes(a.type)}),r}function Mqe(n){const{field:e,id:t,onChange:r,getValue:i}=n,o=bn("debounce"),a=oo().map(c=>({name:c}));return Ja({debounce:o,element:e,feel:"optional",getValue:i("prefixAdorner"),id:t,label:"Prefix",setValue:r("prefixAdorner"),singleLine:!0,variables:a})}function Dqe(n){const{field:e,id:t,onChange:r,getValue:i}=n,o=bn("debounce"),a=oo().map(c=>({name:c}));return Ja({debounce:o,element:e,getValue:i("suffixAdorner"),id:t,label:"Suffix",setValue:r("suffixAdorner"),singleLine:!0,variables:a})}function Nqe(n){const{editField:e,field:t}=n,{disabled:r}=t,i=[];return r||i.push({id:"readonly",component:Iqe,editField:e,field:t,isEdited:io,isDefaultVisible:o=>Hh.includes(o.type)}),i}function Iqe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["readonly"];return Vfe({debounce:i,element:t,feel:"optional",getValue:()=>Xe(t,a,""),id:r,label:"Read only",tooltip:"Field cannot be edited by the end-user, but the data will still be submitted.",setValue:h=>e(t,a,h||!1),variables:o})}function Fqe(n){const{field:e}=n;return["group","dynamiclist"].includes(e.type)?[SWe({id:"verticalAlignment",path:["verticalAlignment"],label:"Vertical alignment",optionsArray:[{value:"start",label:"Top"},{value:"center",label:"Center"},{value:"end",label:"Bottom"}],props:n})]:[]}function Lqe(n){const{field:e,getService:t}=n,{type:r}=e,i=t("formFields").get(r);if(!i||!i.config.repeatable)return[];const o=[fZ({id:"defaultRepetitions",path:["defaultRepetitions"],label:"Default number of items",min:1,max:20,props:n}),r2({id:"allowAddRemove",path:["allowAddRemove"],label:"Allow add/delete items",props:n}),r2({id:"disableCollapse",path:["disableCollapse"],label:"Disable collapse",props:n})];if(!e.disableCollapse){const a=fZ({id:"nonCollapsedItems",path:["nonCollapsedItems"],label:"Number of non-collapsing items",min:1,props:n});o.push(a)}return o}function $qe(n){const{editField:e,field:t}=n;return[{id:"conditional-hide",component:jqe,editField:e,field:t,isEdited:io}]}function jqe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(y=>({name:y})),a=["conditional","hide"],c=()=>Xe(t,a,""),u=y=>y?e(t,"conditional",{hide:y}):e(t,"conditional",void 0);let h="Hide if",m="Condition under which the field is hidden";return t.type==="expression"&&(h="Deactivate if",m="Condition under which the field is deactivated"),Hw({debounce:i,description:m,element:t,feel:"required",getValue:c,id:r,label:h,setValue:u,variables:o})}function Bqe(n){const{editField:e,field:t,id:r}=n;return[{id:r+"-expression",component:Vqe,isEdited:io,editField:e,field:t}]}function Vqe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(y=>({name:y})),a=xd[Ui.EXPRESSION],u=B("div",{children:["The expression may result in an array of simple values or alternatively follow this schema:",B("pre",{children:B("code",{children:`[
  {
    "label": "dollar",
    "value": "$"
  }
]`})})]});return Hw({debounce:i,description:"Define an expression to populate the options from.",tooltip:u,element:t,feel:"required",getValue:()=>Xe(t,a,""),id:r,label:"Options expression",setValue:y=>e(t,a,y||""),variables:o})}function zqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"dataSource",component:Hqe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="table"}),r}function Hqe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["dataSource"];return Ja({debounce:i,description:"Specify the source from which to populate the table",element:t,feel:"required",getValue:()=>Xe(t,a,t.id),id:r,label:"Data source",tooltip:"Enter a form input variable that contains the data for the table or define an expression to populate the data dynamically.",setValue:(h,m)=>{m||e(t,a,h)},singleLine:!0,variables:o,validate:Wqe})}const Wqe=n=>!Ii(n)||n.length===0?"Must not be empty.":n.startsWith("=")?null:DV(n)?NV(n)?"Must not contain numerical path segments.":null:"Must be a variable or a dot separated path.";function qqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"pagination",component:Uqe,editField:e,field:t,isEdited:AV,isDefaultVisible:i=>i.type==="table"}),r}function Uqe(n){const{editField:e,field:t,id:r}=n,i=10,o=["rowCount"];return PV({element:t,getValue:()=>pa(Xe(t,o)),id:r,label:"Pagination",inline:!0,setValue:u=>{u?e(t,o,i):e(t,o,void 0)}})}const S6=["rowCount"];function Gqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"rowCount",component:Yqe,isEdited:YI,editField:e,field:t,isDefaultVisible:i=>i.type==="table"&&pa(Xe(i,S6))}),r}function Yqe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce");return GI({debounce:i,label:"Number of rows per page",element:t,id:r,getValue:()=>Xe(t,S6),setValue:(c,u)=>{u||e(t,S6,c)},validate:Qqe})}const Qqe=n=>fp(n)?null:pa(n)?Number.isInteger(n)?n<1?"Should be greater than zero.":null:"Should be an integer.":"Must be number",Ek={static:{label:"List of items",value:"static"},expression:{label:"Expression",value:"expression"}},Kqe=Object.values(Ek),Xfe=["columns"],Zfe=["columnsExpression"];function Xqe(n){const{editField:e,field:t,id:r}=n;return[{id:r+"-select",component:Zqe,isEdited:Nd,editField:e,field:t}]}function Zqe(n){const{editField:e,field:t,id:r}=n,i=()=>{const c=Xe(t,Xfe),u=Xe(t,Zfe);if(Ii(u))return Ek.expression.value;if(Ho(c))return Ek.static.value},o=c=>{switch(c){case Ek.static.value:e(t,{columns:[{label:"Column",key:"inputVariable"}]});break;case Ek.expression.value:e(t,{columnsExpression:"="});break}},a=()=>Kqe;return Kfe({autoFocusEntry:Jqe(t),label:"Type",element:t,getOptions:a,getValue:i,id:r,setValue:o})}function Jqe(n){const e=Xe(n,Xfe),t=Xe(n,Zfe);return Ii(t)?`${n.id}-columnsExpression`:Ho(e)?`${n.id}-columns-0-label`:null}const k6=["columnsExpression"];function eUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:`${t.id}-columnsExpression`,component:tUe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="table"&&Ii(Xe(i,k6))}),r}function tUe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(m=>({name:m})),a=()=>Xe(t,k6),c=(m,y)=>{y||e(t,k6,m)},h=B("div",{children:["The expression may result in an array of simple values or alternatively follow this schema:",B("pre",{children:B("code",{children:`[
  {
    "key": "column_1",
    "label": "Column 1"
  }
]`})})]});return Ja({debounce:i,description:"Specify an expression to populate column items",element:t,feel:"required",getValue:a,id:r,label:"Expression",tooltip:h,setValue:c,singleLine:!0,variables:o,validate:nUe})}const nUe=n=>!Ii(n)||n.length===0||n==="="?"Must not be empty.":null,bx="columns",hZ="label",pZ="key";function rUe(n){const{editField:e,field:t,idPrefix:r,index:i}=n;return[{component:iUe,editField:e,field:t,id:r+"-label",idPrefix:r,index:i},{component:oUe,editField:e,field:t,id:r+"-key",idPrefix:r,index:i}]}function iUe(n){const{editField:e,field:t,id:r,index:i}=n,o=bn("debounce");return xa({debounce:o,element:t,getValue:()=>Xe(t,[bx,i,hZ]),id:r,label:"Label",setValue:(u,h)=>{if(h)return;const m=Xe(t,[bx]);e(t,bx,eo(m,[i,hZ],u))}})}function oUe(n){const{editField:e,field:t,id:r,index:i}=n,o=bn("debounce");return xa({debounce:o,element:t,getValue:()=>Xe(t,[bx,i,pZ]),id:r,label:"Key",setValue:(u,h)=>{if(h)return;const m=Xe(t,[bx]);e(t,bx,eo(m,[i,pZ],u))},validate:sUe})}function sUe(n){return!Ii(n)||n.length===0?"Must not be empty.":null}const mZ=["columns"];function aUe(n){const{editField:e,field:t,id:r}=n,{columns:i}=t,o=u=>{u.stopPropagation();const h={label:"Column",key:"inputVariable"};e(t,mZ,qfe(i,i.length,h))},a=u=>{e(t,mZ,X$(i,u))};return{items:i.map((u,h)=>{const m=`${r}-${h}`;return{id:m,label:u.label||u.key,entries:rUe({editField:e,field:t,idPrefix:m,index:h}),autoFocusEntry:`${m}-label`,remove:()=>a(u)}}),add:o}}function lUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"versionTag",component:cUe,editField:e,field:t,isEdited:Id,isDefaultVisible:i=>i.type==="default"}),r}function cUe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=["versionTag"],a=()=>Xe(t,o,""),c=(h,m)=>{if(!m)return e(t,o,h)},u=B("div",{children:"Version tag by which this form can be referenced."});return xa({debounce:i,element:t,getValue:a,id:r,label:"Version tag",setValue:c,tooltip:u})}function uUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"accept",component:dUe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="filepicker"}),r}function dUe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["accept"];return Ja({debounce:i,element:t,getValue:()=>Xe(t,a,""),id:r,label:"Supported file formats",singleLine:!0,setValue:h=>e(t,a,h),variables:o,description:fUe})}const fUe=B(ki,{children:["A comma-separated list of"," ",B("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers",target:"_blank",rel:"noreferrer",children:"file type specifiers"})]});function hUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"multiple",component:pUe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="filepicker"}),r}function pUe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(h=>({name:h})),a=["multiple"];return Vfe({debounce:i,element:t,feel:"optional",getValue:()=>Xe(t,a,""),id:r,label:"Upload multiple files",inline:!0,setValue:h=>e(t,a,h),variables:o})}function mUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"dataSource",component:gUe,editField:e,field:t,isEdited:io,isDefaultVisible:i=>i.type==="documentPreview"}),r}function gUe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=oo().map(y=>({name:y})),a=["dataSource"],c=()=>Xe(t,a,""),u=y=>e(t,a,y),m=B("div",{children:[B("p",{children:"A source is a JSON object containing metadata for a document or an array of documents."}),B("p",{children:"Each entry must include a document ID, name, and MIME type."}),B("p",{children:"Additional details are optional. The expected format is as follows:"}),B("pre",{children:B("code",{children:`[
  {
    "documentId": "u123",
    "endpoint": "https://api.example.com/documents/u123",
    "metadata": {
      "fileName": "Document.pdf",
      "contentType": "application/pdf"
    }
  }
]`})}),B("p",{children:"When using Camunda Tasklist UI, additional document reference attributes are automatically handled. Modifying the document reference may affect the document preview functionality."}),B("p",{children:["Learn more in our"," ",B("a",{href:"https://docs.camunda.io/docs/8.7/components/modeler/forms/form-element-library/forms-element-library-document-preview/",target:"_blank",rel:"noopener noreferrer",children:"documentation"}),"."]})]});return Ja({debounce:i,element:t,getValue:c,id:r,label:"Document reference",feel:"required",singleLine:!0,setValue:u,variables:o,tooltip:m,validate:vUe})}const vUe=n=>{if(typeof n!="string"||n.length===0)return"The document data source is required."};function yUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"maxHeight",component:bUe,editField:e,field:t,isEdited:YI,isDefaultVisible:i=>i.type==="documentPreview"}),r}function bUe(n){const{editField:e,field:t,id:r}=n,i=bn("debounce"),o=["maxHeight"];return GI({debounce:i,label:"Max height of preview container",element:t,id:r,getValue:()=>Xe(t,o,""),setValue:u=>e(t,o,u),validate:xUe,description:wUe})}const xUe=n=>{if(n===void 0||n==="")return null;if(typeof n=="string")return"Value must be a number.";if(!Number.isInteger(n))return"Should be an integer.";if(n<1)return"Should be greater than zero."},wUe=B(ki,{children:"Documents with height that exceeds the defined value will be vertically scrollable"});function _Ue(n,e,t){const r=[...fWe({field:n,editField:e}),...lUe({field:n,editField:e}),...TWe({field:n,editField:e}),...eWe({field:n,editField:e}),...bWe({field:n,editField:e,getService:t}),...wWe({field:n,editField:e,getService:t}),...Lqe({field:n,editField:e,getService:t}),...nWe({field:n,editField:e}),...zHe({field:n,editField:e}),...oqe({field:n,editField:e}),...HWe({field:n,editField:e}),...UWe({field:n,editField:e}),...LWe({field:n,editField:e}),...IWe({field:n,editField:e}),...Qfe({field:n,editField:e}),...KWe({field:n,editField:e}),...eqe({field:n,editField:e}),...VWe({field:n,editField:e}),...WHe({field:n,editField:e}),...hqe({field:n,editField:e}),...uUe({field:n,editField:e}),...hUe({field:n,editField:e}),...uWe({field:n,editField:e}),...Nqe({field:n,editField:e}),...zqe({field:n,editField:e}),...qqe({field:n,editField:e}),...Gqe({field:n,editField:e}),...mUe({field:n,editField:e})];return r.length===0?null:{id:"general",label:"General",entries:r}}function EUe(n,e){const t=[...rqe({field:n,editField:e}),...dqe({field:n,editField:e})];return t.length?{id:"serialization",label:"Serialization",entries:t}:null}function SUe(n,e){const t=[...lqe({field:n,editField:e})];return t.length?{id:"constraints",label:"Constraints",entries:t}:null}const C6={custom:{value:"",label:"Custom"},email:{value:"email",label:"Email"},phone:{value:"phone",label:"Phone"}};function kUe(n,e){const{type:t}=n,r=Xe(n,["validate"],{}),i=[void 0,C6.custom.value].includes(r.validationType),o=u=>h=>{const m=Xe(n,["validate"],{});e(n,["validate"],eo(m,[u],h))},a=u=>()=>Xe(n,["validate",u]);let c=[{id:"required",component:CUe,getValue:a,field:n,isEdited:XI,onChange:o,isDefaultVisible:u=>Hh.includes(u.type)}];return c.push({id:"validationType",component:MUe,getValue:a,field:n,editField:e,isEdited:Id,onChange:o,isDefaultVisible:u=>u.type==="textfield"}),c.push({id:"minLength",component:OUe,getValue:a,field:n,isEdited:io,onChange:o,isDefaultVisible:u=>Hh.includes(u.type)&&(t==="textarea"||t==="textfield"&&i)},{id:"maxLength",component:TUe,getValue:a,field:n,isEdited:io,onChange:o,isDefaultVisible:u=>Hh.includes(u.type)&&(t==="textarea"||t==="textfield"&&i)}),c.push({id:"pattern",component:PUe,getValue:a,field:n,isEdited:Id,onChange:o,isDefaultVisible:u=>Hh.includes(u.type)&&t==="textfield"&&i}),c.push({id:"min",component:AUe,getValue:a,field:n,isEdited:io,onChange:o,isDefaultVisible:u=>u.type==="number"},{id:"max",component:RUe,getValue:a,field:n,isEdited:io,onChange:o,isDefaultVisible:u=>u.type==="number"}),{id:"validation",label:"Validation",entries:c}}function CUe(n){const{field:e,getValue:t,id:r,onChange:i}=n;return KI({element:e,getValue:t("required"),id:r,label:"Required",setValue:i("required")})}function OUe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=bn("debounce"),a=oo().map(c=>({name:c}));return QI({debounce:o,element:e,feel:"optional",getValue:t("minLength"),id:r,label:"Minimum length",min:0,setValue:i("minLength"),variables:a})}function TUe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=bn("debounce"),a=oo().map(c=>({name:c}));return QI({debounce:o,element:e,feel:"optional",getValue:t("maxLength"),id:r,label:"Maximum length",min:0,setValue:i("maxLength"),variables:a})}function PUe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=bn("debounce");return xa({debounce:o,element:e,getValue:t("pattern"),id:r,label:"Custom regular expression",setValue:i("pattern")})}function AUe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=bn("debounce"),a=oo().map(c=>({name:c}));return QI({debounce:o,element:e,feel:"optional",id:r,label:"Minimum",step:"any",getValue:t("min"),setValue:i("min"),variables:a})}function RUe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=bn("debounce"),a=oo().map(c=>({name:c}));return QI({debounce:o,element:e,feel:"optional",id:r,label:"Maximum",step:"any",getValue:t("max"),setValue:i("max"),variables:a})}function MUe(n){const{field:e,getValue:t,id:r,onChange:i}=n;bn("debounce");const o=a=>{i("validationType")(a||void 0)};return jd({element:e,getValue:t("validationType"),id:r,label:"Validation pattern",setValue:o,getOptions:()=>Object.values(C6),tooltip:t("validationType")()===C6.phone.value?"The built-in phone validation pattern is based on the E.164 standard with no spaces. Ex: +491234567890":void 0})}function DUe(n,e,t){const{type:r}=n,o=t("formFields").get(r).config;if(!Yfe.includes(r)&&!JHe(o))return[];const a={editField:e,field:n},c="valuesSource",u=[{id:c,label:"Options source",tooltip:NUe(),component:Zk,entries:_qe({...a,id:c})}],h=U7(n);if(h===Ui.INPUT){const m="dynamicOptions";u.push({id:m,label:"Dynamic options",component:Zk,entries:kqe({...a,id:m})})}else if(h===Ui.STATIC){const m="staticOptions";u.push({id:m,label:"Static options",component:MV,...Tqe({...a,id:m})})}else if(h===Ui.EXPRESSION){const m="optionsExpression";u.push({id:m,label:"Options expression",component:Zk,entries:Bqe({...a,id:m})})}return u}function NUe(){return`"Static" defines a constant, predefined set of form options.

"Input data" defines options that are populated dynamically, adjusting based on variable data for flexible responses to different conditions or inputs.

"Expression" defines options that are populated from a FEEL expression.`}function IUe(n,e){const{properties:t={},type:r}=n;if(r==="default")return null;const i=c=>{c.stopPropagation();let u=Object.keys(t).length+1;for(;`key${u}`in t;)u++;e(n,["properties"],{...t,[`key${u}`]:"value"})},o=c=>u=>{if(u!==c){if(typeof u!="string"||u.length===0)return"Must not be empty.";if(S9(t,u))return"Must be unique."}},a=Object.keys(t).map((c,u)=>{const h=y=>(y.stopPropagation(),e(n,["properties"],FUe(t,c))),m=`property-${u}`;return{autoFocusEntry:m+"-key",entries:vqe({editField:e,field:n,idPrefix:m,index:u,validateFactory:o}),id:m,label:c||"",remove:h}});return{add:i,component:MV,id:"custom-values",items:a,label:"Custom properties",tooltip:"Add properties directly to the form schema, useful to configure functionality in custom-built task applications and form renderers."}}function FUe(n,e){return Object.entries(n).reduce((t,r)=>{const[i,o]=r;return i===e?t:{...t,[i]:o}},{})}function LUe(n,e,t){const r=[...Rqe({field:n,editField:e}),...OWe({field:n,editField:e}),...Fqe({field:n,editField:e}),...yUe({field:n,editField:e})];return r.length?{id:"appearance",label:"Appearance",entries:r}:null}function $Ue(n,e){const{type:t}=n;if(t==="default")return null;const r=[...GHe({field:n,editField:e})];return r.length===0?null:{id:"layout",label:"Layout",entries:r}}function jUe(n,e){const{type:t}=n;if(t!=="iframe")return null;const r=BUe({field:n,editField:e});return r.length?{id:"securityAttributes",label:"Security attributes",entries:r,tooltip:zUe()}:null}function BUe(n){const{editField:e,field:t}=n,r=wB.map(i=>{const{label:o,property:a}=i;return r2({id:a,label:o,isDefaultVisible:c=>c.type==="iframe",path:["security",a],props:n,getValue:()=>Xe(t,["security",a]),setValue:c=>{const u=Xe(t,["security"],{});e(t,["security"],eo(u,[a],c))}})});return[{component:VUe},...r]}const VUe=n=>B("div",{class:"bio-properties-panel-description fjs-properties-panel-detached-description",children:"These options can incur security risks, especially if used in combination with dynamic links. Ensure that you are aware of them, that you trust the source url and only enable what your use case requires."});function zUe(){return B(ki,{children:B("p",{children:["Allow the iframe to access more functionality of your browser, details regarding the various options can be found in the"," ",B("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe",rel:"noreferrer",children:"MDN iFrame documentation."})]})})}function HUe(n,e){const{type:t}=n;return t==="default"?null:{id:"condition",label:"Condition",entries:[...$qe({field:n,editField:e})]}}function WUe(n,e){const{type:t,id:r}=n;if(t!=="table")return[];const i=Ho(Xe(n,["columns"])),o=[{id:`${r}-columnsSource`,label:"Headers source",tooltip:qUe,component:Zk,entries:[...Xqe({field:n,editField:e}),...eUe({field:n,editField:e})]}];if(i){const a=`${r}-columns`;o.push({id:a,label:"Header items",component:MV,...aUe({field:n,editField:e,id:a})})}return o}const qUe=`"List of items" defines a constant, predefined set of form options.

"Expression" defines options that are populated from a FEEL expression.
`;class Jfe{constructor(e,t){this._injector=t,e.registerProvider(this)}_filterVisibleEntries(e,t,r){return e.forEach(i=>{const{entries:o}=i,{type:a}=t,u=r("formFields").get(a).config;o&&(i.entries=o.filter(h=>{const{isDefaultVisible:m}=h;return m?m(t)||ZHe(u,h.id):!0}))})}getGroups(e,t){return r=>{if(!e)return r;const i=(o,a=!0)=>this._injector.get(o,a);return r=[...r,_Ue(e,t,i),...DUe(e,t,i),...WUe(e,t),jUe(e,t),HUe(e,t),$Ue(e,t),LUe(e,t),EUe(e,t),SUe(e,t),kUe(e,t),IUe(e,t)].filter(o=>o!=null),this._filterVisibleEntries(r,e,i),r.filter(o=>o.items||o.entries&&o.entries.length)}}}Jfe.$inject=["propertiesPanel","injector"];const UUe={__depends__:[IHe],__init__:["propertiesPanel","propertiesProvider"],propertiesPanel:["type",Wfe],propertiesProvider:["type",Jfe]};class ehe extends wfe{constructor(e){super(e,"renderInjector"),this._eventBus=e,this.registeredRenderers=[]}attachRenderer(e,t){this.registeredRenderers=[...this.registeredRenderers,{identifier:e,Renderer:t}]}detachRenderer(e){this.registeredRenderers=this.registeredRenderers.filter(t=>t.identifier!==e)}fetchRenderers(){return this.registeredRenderers}}ehe.$inject=["eventBus"];const GUe={__init__:["renderInjector"],renderInjector:["type",ehe]};var gZ;function O6(){return O6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},O6.apply(null,arguments)}var YUe=function(e){return tt("svg",O6({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),gZ||(gZ=tt("path",{fill:"currentColor",d:"M3 3h10.086l-1.793-1.793L12 .5l3 3-3 3-.707-.707L13.086 4H3v3.5H2V4a1 1 0 0 1 1-1M4.707 10.207 2.914 12H13V8.5h1V12a1 1 0 0 1-1 1H2.914l1.793 1.793L4 15.5l-3-3 3-3z"})))};class the{constructor(e,t){this._formFields=e,this._formFieldRegistry=t,this.RepeatFooter=this.RepeatFooter.bind(this)}isFieldRepeating(e){if(!e)return!1;const t=this._formFieldRegistry.get(e);return this._formFields.get(t.type).config.repeatable&&t.isRepeating}RepeatFooter(){return B("div",{className:"fjs-repeat-render-footer",children:[B(YUe,{}),B("span",{children:"Repeatable"})]})}}the.$inject=["formFields","formFieldRegistry"];const QUe={__init__:["repeatRenderManager"],repeatRenderManager:["type",the]},KUe=new Nl([32,36,1]);let XUe=class{constructor(e={}){this.on=this._onEvent,this._id=KUe.next(),this._container=Bce(),this._container.setAttribute("tabindex","0");const{container:t,exporter:r,injector:i=this._createInjector(e,this._container),properties:o={}}=e;this.exporter=r,this._state={properties:o,schema:null},this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("form.init"),t&&this.attachTo(t)}clear(){this._emit("diagram.clear"),this._emit("form.clear")}destroy(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}importSchema(e){return new Promise((t,r)=>{try{this.clear();const{schema:i,warnings:o}=this.get("importer").importSchema(e);return this._setState({schema:i}),this._emit("import.done",{warnings:o}),t({warnings:o})}catch(i){return this._emit("import.done",{error:i,warnings:i.warnings||[]}),r(i)}})}saveSchema(){return this.getSchema()}getSchema(){const{schema:e}=this._getState();return ZUe(e,this.exporter,D9e)}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),Ii(e)&&(e=document.querySelector(e));const t=this._container;e.appendChild(t),this._emit("attach")}detach(){this._detach()}_detach(e=!0){const t=this._container,r=t.parentNode;r&&(e&&this._emit("detach"),r.removeChild(t))}setProperty(e,t){const r=eo(this._getState().properties,[e],t);this._setState({properties:r})}off(e,t){this.get("eventBus").off(e,t)}_createInjector(e,t){const{modules:r=this._getModules(),additionalModules:i=[],renderer:o={},...a}=e,c={...a,renderer:{...o,container:t}};return jce([{config:["value",c]},{formEditor:["value",this]},fze,...r,...i])}_emit(e,t){this.get("eventBus").fire(e,t)}_getState(){return this._state}_setState(e){this._state={...this._state,...e},this._emit("changed",this._getState())}_getModules(){return[Ize,mze,Tze,Pze,Fze,Lze,gze,Hue,UUe,GUe,QUe]}_onEvent(e,t,r){this.get("eventBus").on(e,t,r)}};function ZUe(n,e,t){const r=e?{exporter:e}:{};return{...Tl(n,(o,a)=>{if(!["_parent","_path"].includes(o))return a}),...r,schemaVersion:t}}const lk={type:"default",components:[{type:"text",text:`# My New Form

This is a new dynamic form.`},{key:"textfield",label:"Text Field",type:"textfield"},{key:"checkbox",label:"Checkbox",type:"checkbox"}],schemaVersion:5};function JUe({initialSchema:n,onChange:e}){const t=U.useRef(null),r=U.useRef(null),[i,o]=U.useState(null);U.useEffect(()=>{if(!t.current)return;const c=a(n),u=new XUe({container:t.current});return r.current=u,u.importSchema(c).then(()=>{console.log("Form imported successfully"),o(null)}).catch(h=>{console.error("Error importing form:",h),o(`Error importing form: ${h.message}`),n!==lk&&(console.log("Trying to import default schema instead"),u.importSchema(lk).then(()=>{console.log("Default form imported successfully"),e&&e(lk),o(null)}).catch(m=>{console.error("Error importing default form:",m),o(`Error importing form: ${m.message}`)}))}),e&&u.on("changed",()=>{try{const h=u.getSchema();e(h)}catch(h){console.error("Error getting schema:",h)}}),()=>{u.destroy()}},[n,e]);const a=c=>{if(!c)return lk;const u={...c};return u.type||(u.type="default"),(!u.components||!Array.isArray(u.components))&&(u.components=lk.components),u.schemaVersion||(u.schemaVersion=5),u};return L.jsxs("div",{className:"h-full",children:[i&&L.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:i}),L.jsx("div",{ref:t,className:"h-full"})]})}const eGe=qh.object({name:qh.string().min(2,{message:"O nome deve ter pelo menos 2 caracteres"}),description:qh.string().min(5,{message:"A descrio deve ter pelo menos 5 caracteres"})}),S4={type:"default",components:[{type:"text",text:`# Meu Novo Formulrio

Este  um novo formulrio dinmico.`},{key:"textfield",label:"Campo de Texto",type:"textfield"},{key:"checkbox",label:"Caixa de Seleo",type:"checkbox"}],schemaVersion:5},vZ=()=>{const n=Dg(),{id:e}=m2(),t=Rg(),r=!!e,i=fie(),[o,a]=U.useState(S4),c=x9({resolver:w9(eGe),defaultValues:{name:"",description:""}}),{data:u,isLoading:h}=bs({queryKey:["form",e],queryFn:()=>Lf.getFormById(e),enabled:r});U.useEffect(()=>{if(u)if(c.reset({name:u.name,description:u.description}),u.schema){const T={...u.schema};T.type||(T.type="default"),(!T.components||!Array.isArray(T.components))&&(T.components=S4.components),T.schemaVersion||(T.schemaVersion=5),a(T)}else a(S4)},[u,c]);const m=tp({mutationFn:T=>Lf.createForm(T),onSuccess:()=>{t.invalidateQueries({queryKey:["forms"]}),Lo.success("Formulrio criado com sucesso"),n("/forms")},onError:()=>{Lo.error("Falha ao criar formulrio")}}),y=tp({mutationFn:({id:T,data:O})=>Lf.updateForm(T,O),onSuccess:()=>{t.invalidateQueries({queryKey:["forms"]}),t.invalidateQueries({queryKey:["form",e]}),Lo.success("Formulrio atualizado com sucesso"),n("/forms")},onError:()=>{Lo.error("Falha ao atualizar formulrio")}}),w=T=>{a(T)},S=T=>{if(!o){Lo.error("O esquema do formulrio  obrigatrio");return}const O={name:T.name,description:T.description,schema:o};r&&e?y.mutate({id:e,data:O}):m.mutate(O)};return L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(hr,{variant:"outline",size:"icon",onClick:()=>n("/forms"),children:L.jsx(b2,{className:"h-4 w-4"})}),L.jsx("h2",{className:"ml-4 text-3xl font-bold",children:r?"Editar Formulrio":"Novo Formulrio"})]}),L.jsxs("div",{className:"grid gap-6",children:[L.jsxs($o,{className:`h-[calc(100vh-250px)] ${i||!i&&window.innerWidth<1280?"w-full":""}`,children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:"Construtor de Formulrio"}),L.jsx(Ec,{children:"Projete seu formulrio usando o construtor abaixo"})]}),L.jsx(Bo,{className:"h-[calc(100%-130px)]",children:h&&r?L.jsx("div",{className:"flex h-full w-full items-center justify-center",children:L.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):L.jsx(JUe,{initialSchema:o,onChange:w})})]}),L.jsxs($o,{className:`${i||!i&&window.innerWidth<1280?"w-full":""}`,children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:"Detalhes do Formulrio"}),L.jsx(Ec,{children:"Insira as informaes bsicas sobre seu formulrio"})]}),L.jsx(Bo,{children:L.jsx(_9,{...c,children:L.jsxs("form",{onSubmit:c.handleSubmit(S),className:"space-y-4",children:[L.jsx(qx,{control:c.control,name:"name",render:({field:T})=>L.jsxs(e0,{children:[L.jsx(t0,{children:"Nome"}),L.jsx(n0,{children:L.jsx(f9,{placeholder:"Digite o nome do formulrio",...T})}),L.jsx(r0,{})]})}),L.jsx(qx,{control:c.control,name:"description",render:({field:T})=>L.jsxs(e0,{children:[L.jsx(t0,{children:"Descrio"}),L.jsx(n0,{children:L.jsx(h9,{placeholder:"Digite a descrio do formulrio",rows:4,...T})}),L.jsx(r0,{})]})}),L.jsxs(hr,{type:"submit",className:"w-full",disabled:h||m.isPending||y.isPending,children:[L.jsx(H8,{className:"mr-2 h-4 w-4"}),r?"Atualizar Formulrio":"Salvar Formulrio"]})]})})})]})]})]})};function tGe({schema:n,onSubmit:e}){const t=U.useRef(null),r=U.useRef(null);return U.useEffect(()=>{if(!t.current||!n)return;const i=new M9e({container:t.current});return r.current=i,i.importSchema(n).then(()=>{console.log("Form rendered successfully")}).catch(o=>{console.error("Error rendering form:",o)}),e&&i.on("submit",o=>{const{data:a}=o;e(a)}),()=>{i.destroy()}},[n,e]),L.jsx("div",{ref:t,className:"fjs-container"})}const nGe=()=>{var u,h;const n=Dg(),{id:e}=m2(),{data:t,isLoading:r}=bs({queryKey:["form",e],queryFn:()=>Lf.getFormById(e),enabled:!!e}),{data:i=[]}=bs({queryKey:["integrations"],queryFn:()=>ig.getAllIntegrations(),enabled:!!e}),o=i.filter(m=>m.formId===e),{data:a=[]}=bs({queryKey:["processes","byForm",e],queryFn:async()=>{const m=o.map(w=>Ff.getProcessById(w.processId));return(await Promise.all(m)).filter(Boolean)},enabled:o.length>0}),c=m=>{console.log("Form submitted with data:",m),Lo.success("Form submitted successfully!")};return r?L.jsx("div",{className:"flex h-[calc(100vh-120px)] items-center justify-center",children:L.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):t?L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(hr,{variant:"outline",size:"icon",onClick:()=>n("/forms"),children:L.jsx(b2,{className:"h-4 w-4"})}),L.jsx("h2",{className:"ml-4 text-3xl font-bold",children:t.name})]}),L.jsx("div",{className:"mt-4 flex space-x-2 md:mt-0",children:L.jsx(hr,{asChild:!0,variant:"outline",children:L.jsxs("span",{onClick:()=>n(`/forms/${e}/edit`),children:[L.jsx(x2,{className:"mr-2 h-4 w-4"}),"Edit Form"]})})})]}),L.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[L.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[L.jsxs($o,{children:[L.jsx(jo,{children:L.jsx(Ls,{children:"Form Details"})}),L.jsxs(Bo,{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),L.jsx("p",{children:t.description})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),L.jsx("p",{children:ip(new Date(t.createdAt),"PPP 'at' pp")})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),L.jsx("p",{children:ip(new Date(t.updatedAt),"PPP 'at' pp")})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Fields"}),L.jsxs("p",{children:[((h=(u=t.schema.components)==null?void 0:u.filter(m=>m.key))==null?void 0:h.length)||0," fields"]})]})]})]}),a.length>0&&L.jsxs($o,{children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:"Linked Processes"}),L.jsx(Ec,{children:"This form is used in these processes"})]}),L.jsx(Bo,{children:L.jsx("ul",{className:"space-y-2",children:a.map(m=>L.jsxs("li",{className:"flex items-center justify-between",children:[L.jsx("span",{children:m.name}),L.jsx(hr,{variant:"outline",size:"sm",onClick:()=>n(`/processes/${m.id}`),children:"View"})]},m.id))})})]})]}),L.jsxs($o,{className:"lg:col-span-2",children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:"Form Preview"}),L.jsx(Ec,{children:"Interactive preview of this form"})]}),L.jsx(Bo,{children:L.jsx(tGe,{schema:t.schema,onSubmit:c})})]})]})]}):L.jsx("div",{className:"flex h-[calc(100vh-120px)] items-center justify-center",children:L.jsxs("div",{className:"text-center",children:[L.jsx("h2",{className:"text-2xl font-bold",children:"Form not found"}),L.jsx("p",{className:"text-muted-foreground",children:"The requested form does not exist"}),L.jsx(hr,{onClick:()=>n("/forms"),className:"mt-4",children:"Go back to forms"})]})})},rGe=()=>L.jsx("div",{className:"flex h-[calc(100vh-160px)] items-center justify-center",children:L.jsxs("div",{className:"mx-auto flex max-w-md flex-col items-center justify-center text-center",children:[L.jsx("div",{className:"mb-4 rounded-full bg-primary/10 p-3",children:L.jsx(z8,{className:"h-10 w-10 text-primary"})}),L.jsx("h2",{className:"text-2xl font-bold",children:"Nenhuma integrao cadastrada"}),L.jsx("p",{className:"mt-2 text-muted-foreground",children:"Crie sua primeira integrao ao conectar o processo BPMN com um formulrio dinmico."}),L.jsx(hr,{asChild:!0,className:"mt-6",children:L.jsxs(Ks,{to:"/integration/new",children:[L.jsx(mw,{className:"mr-2 h-4 w-4"}),"Criar Integrao"]})})]})}),iGe=()=>L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl font-bold",children:"Process-Form Integrations"}),L.jsx("p",{className:"text-muted-foreground",children:"Connect your BPMN processes with dynamic forms"})]})}),L.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((n,e)=>L.jsxs($o,{children:[L.jsxs(jo,{children:[L.jsx("div",{className:"h-6 w-2/3 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"})]}),L.jsx(Bo,{children:L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("div",{className:"h-4 w-1/4 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"mt-1 h-5 w-3/4 animate-pulse rounded-md bg-muted"})]}),L.jsxs("div",{children:[L.jsx("div",{className:"h-4 w-1/4 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"mt-1 h-5 w-3/4 animate-pulse rounded-md bg-muted"})]})]})}),L.jsxs(Ng,{className:"flex justify-between",children:[L.jsx("div",{className:"h-9 w-20 animate-pulse rounded-md bg-muted"}),L.jsx("div",{className:"h-9 w-20 animate-pulse rounded-md bg-muted"})]})]},e))})]}),oGe=()=>{const n=Rg(),e=Dg(),{data:t=[],isLoading:r}=bs({queryKey:["integrations"],queryFn:()=>ig.getAllIntegrations()}),{data:i=[],isLoading:o}=bs({queryKey:["processes"],queryFn:()=>Ff.getAllProcesses()}),{data:a=[],isLoading:c}=bs({queryKey:["forms"],queryFn:()=>Lf.getAllForms()}),u=tp({mutationFn:w=>ig.deleteIntegration(w),onSuccess:()=>{n.invalidateQueries({queryKey:["integrations"]}),Lo.success("Integrao excluda com sucesso")},onError:w=>{Lo.error("Falha ao excluir a integrao"),console.error(w)}}),h=w=>{u.mutate(w)},m=r||o||c,y=t.map(w=>{const S=i.find(O=>O.id===w.processId),T=a.find(O=>O.id===w.formId);return{...w,process:S,form:T}});return m?L.jsx(iGe,{}):t.length===0?L.jsx(rGe,{}):L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl font-bold",children:"Integraes de Processo-Formulrio"}),L.jsx("p",{className:"text-muted-foreground",children:"Conecte seus processos BPMN com formulrios dinmicos"})]}),L.jsx(hr,{asChild:!0,className:"mt-4 sm:mt-0",children:L.jsxs(Ks,{to:"/integration/new",children:[L.jsx(mw,{className:"mr-2 h-4 w-4"}),"Nova Integrao"]})})]}),L.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:y.map(w=>{var S,T;return L.jsxs($o,{children:[L.jsxs(jo,{children:[L.jsx(Ls,{children:L.jsxs("div",{className:"flex items-center",children:[L.jsx(z8,{className:"mr-2 h-4 w-4"}),"Integrao Processo-Formulrio"]})}),L.jsxs(Ec,{children:["Criado em ",ip(new Date(w.createdAt),"PPP")]})]}),L.jsxs(Bo,{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Processo"}),L.jsx("p",{className:"font-medium",children:((S=w.process)==null?void 0:S.name)||"Processo Desconhecido"})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Formulrio"}),L.jsx("p",{className:"font-medium",children:((T=w.form)==null?void 0:T.name)||"Formulrio Desconhecido"})]})]}),L.jsxs(Ng,{className:"flex justify-between",children:[L.jsx(hr,{asChild:!0,variant:"outline",size:"sm",children:L.jsxs("span",{onClick:()=>e(`/integration/${w.id}`),children:[L.jsx(x2,{className:"mr-2 h-4 w-4"}),"Editar"]})}),L.jsxs(u9,{children:[L.jsx(d9,{asChild:!0,children:L.jsxs(hr,{variant:"destructive",size:"sm",children:[L.jsx(W8,{className:"mr-2 h-4 w-4"}),"Excluir"]})}),L.jsxs(YN,{children:[L.jsxs(QN,{children:[L.jsx(XN,{children:"Confirmar excluso"}),L.jsx(ZN,{children:"Tem certeza que deseja excluir esta integrao? Esta ao no pode ser desfeita."})]}),L.jsxs(KN,{children:[L.jsx(eI,{children:"Cancelar"}),L.jsx(JN,{onClick:()=>h(w.id),children:"Excluir"})]})]})]})]})]},w.id)})})]})};function yZ(n,[e,t]){return Math.min(t,Math.max(e,n))}var sGe=U.createContext(void 0);function aGe(n){const e=U.useContext(sGe);return n||e||"ltr"}function lGe(n){const e=U.useRef({value:n,previous:n});return U.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var cGe=[" ","Enter","ArrowUp","ArrowDown"],uGe=[" ","Enter"],G2="Select",[ZI,JI,dGe]=yte(G2),[Ww,vYe]=g2(G2,[dGe,WN]),e3=WN(),[fGe,Vg]=Ww(G2),[hGe,pGe]=Ww(G2),nhe=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:c,onValueChange:u,dir:h,name:m,autoComplete:y,disabled:w,required:S,form:T}=n,O=e3(e),[N,D]=U.useState(null),[F,I]=U.useState(null),[R,z]=U.useState(!1),X=aGe(h),[Z=!1,ae]=oD({prop:r,defaultProp:i,onChange:o}),[ge,_e]=oD({prop:a,defaultProp:c,onChange:u}),be=U.useRef(null),he=N?T||!!N.closest("form"):!0,[fe,pe]=U.useState(new Set),Ce=Array.from(fe).map(Ae=>Ae.props.value).join(";");return L.jsx(qxe,{...O,children:L.jsxs(fGe,{required:S,scope:e,trigger:N,onTriggerChange:D,valueNode:F,onValueNodeChange:I,valueNodeHasChildren:R,onValueNodeHasChildrenChange:z,contentId:nx(),value:ge,onValueChange:_e,open:Z,onOpenChange:ae,dir:X,triggerPointerDownPosRef:be,disabled:w,children:[L.jsx(ZI.Provider,{scope:e,children:L.jsx(hGe,{scope:n.__scopeSelect,onNativeOptionAdd:U.useCallback(Ae=>{pe(We=>new Set(We).add(Ae))},[]),onNativeOptionRemove:U.useCallback(Ae=>{pe(We=>{const xe=new Set(We);return xe.delete(Ae),xe})},[]),children:t})}),he?L.jsxs(Ohe,{"aria-hidden":!0,required:S,tabIndex:-1,name:m,autoComplete:y,value:ge,onChange:Ae=>_e(Ae.target.value),disabled:w,form:T,children:[ge===void 0?L.jsx("option",{value:""}):null,Array.from(fe)]},Ce):null]})})};nhe.displayName=G2;var rhe="SelectTrigger",ihe=U.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,o=e3(t),a=Vg(rhe,t),c=a.disabled||r,u=Ci(e,a.onTriggerChange),h=JI(t),m=U.useRef("touch"),[y,w,S]=The(O=>{const N=h().filter(I=>!I.disabled),D=N.find(I=>I.value===a.value),F=Phe(N,O,D);F!==void 0&&a.onValueChange(F.value)}),T=O=>{c||(a.onOpenChange(!0),S()),O&&(a.triggerPointerDownPosRef.current={x:Math.round(O.pageX),y:Math.round(O.pageY)})};return L.jsx(wne,{asChild:!0,...o,children:L.jsx(Br.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Che(a.value)?"":void 0,...i,ref:u,onClick:Qn(i.onClick,O=>{O.currentTarget.focus(),m.current!=="mouse"&&T(O)}),onPointerDown:Qn(i.onPointerDown,O=>{m.current=O.pointerType;const N=O.target;N.hasPointerCapture(O.pointerId)&&N.releasePointerCapture(O.pointerId),O.button===0&&O.ctrlKey===!1&&O.pointerType==="mouse"&&(T(O),O.preventDefault())}),onKeyDown:Qn(i.onKeyDown,O=>{const N=y.current!=="";!(O.ctrlKey||O.altKey||O.metaKey)&&O.key.length===1&&w(O.key),!(N&&O.key===" ")&&cGe.includes(O.key)&&(T(),O.preventDefault())})})})});ihe.displayName=rhe;var ohe="SelectValue",she=U.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:o,placeholder:a="",...c}=n,u=Vg(ohe,t),{onValueNodeHasChildrenChange:h}=u,m=o!==void 0,y=Ci(e,u.onValueNodeChange);return ga(()=>{h(m)},[h,m]),L.jsx(Br.span,{...c,ref:y,style:{pointerEvents:"none"},children:Che(u.value)?L.jsx(L.Fragment,{children:a}):o})});she.displayName=ohe;var mGe="SelectIcon",ahe=U.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return L.jsx(Br.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});ahe.displayName=mGe;var gGe="SelectPortal",lhe=n=>L.jsx($N,{asChild:!0,...n});lhe.displayName=gGe;var p0="SelectContent",che=U.forwardRef((n,e)=>{const t=Vg(p0,n.__scopeSelect),[r,i]=U.useState();if(ga(()=>{i(new DocumentFragment)},[]),!t.open){const o=r;return o?v0.createPortal(L.jsx(uhe,{scope:n.__scopeSelect,children:L.jsx(ZI.Slot,{scope:n.__scopeSelect,children:L.jsx("div",{children:n.children})})}),o):null}return L.jsx(dhe,{...n,ref:e})});che.displayName=p0;var od=10,[uhe,zg]=Ww(p0),vGe="SelectContentImpl",dhe=U.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:c,sideOffset:u,align:h,alignOffset:m,arrowPadding:y,collisionBoundary:w,collisionPadding:S,sticky:T,hideWhenDetached:O,avoidCollisions:N,...D}=n,F=Vg(p0,t),[I,R]=U.useState(null),[z,X]=U.useState(null),Z=Ci(e,Et=>R(Et)),[ae,ge]=U.useState(null),[_e,be]=U.useState(null),he=JI(t),[fe,pe]=U.useState(!1),Ce=U.useRef(!1);U.useEffect(()=>{if(I)return Hne(I)},[I]),Nne();const Ae=U.useCallback(Et=>{const[on,...zn]=he().map(gt=>gt.ref.current),[ze]=zn.slice(-1),mt=document.activeElement;for(const gt of Et)if(gt===mt||(gt==null||gt.scrollIntoView({block:"nearest"}),gt===on&&z&&(z.scrollTop=0),gt===ze&&z&&(z.scrollTop=z.scrollHeight),gt==null||gt.focus(),document.activeElement!==mt))return},[he,z]),We=U.useCallback(()=>Ae([ae,I]),[Ae,ae,I]);U.useEffect(()=>{fe&&We()},[fe,We]);const{onOpenChange:xe,triggerPointerDownPosRef:$e}=F;U.useEffect(()=>{if(I){let Et={x:0,y:0};const on=ze=>{var mt,gt;Et={x:Math.abs(Math.round(ze.pageX)-(((mt=$e.current)==null?void 0:mt.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((gt=$e.current)==null?void 0:gt.y)??0))}},zn=ze=>{Et.x<=10&&Et.y<=10?ze.preventDefault():I.contains(ze.target)||xe(!1),document.removeEventListener("pointermove",on),$e.current=null};return $e.current!==null&&(document.addEventListener("pointermove",on),document.addEventListener("pointerup",zn,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",on),document.removeEventListener("pointerup",zn,{capture:!0})}}},[I,xe,$e]),U.useEffect(()=>{const Et=()=>xe(!1);return window.addEventListener("blur",Et),window.addEventListener("resize",Et),()=>{window.removeEventListener("blur",Et),window.removeEventListener("resize",Et)}},[xe]);const[Je,Ne]=The(Et=>{const on=he().filter(mt=>!mt.disabled),zn=on.find(mt=>mt.ref.current===document.activeElement),ze=Phe(on,Et,zn);ze&&setTimeout(()=>ze.ref.current.focus())}),Ue=U.useCallback((Et,on,zn)=>{const ze=!Ce.current&&!zn;(F.value!==void 0&&F.value===on||ze)&&(ge(Et),ze&&(Ce.current=!0))},[F.value]),le=U.useCallback(()=>I==null?void 0:I.focus(),[I]),Ze=U.useCallback((Et,on,zn)=>{const ze=!Ce.current&&!zn;(F.value!==void 0&&F.value===on||ze)&&be(Et)},[F.value]),Qe=r==="popper"?T6:fhe,Ct=Qe===T6?{side:c,sideOffset:u,align:h,alignOffset:m,arrowPadding:y,collisionBoundary:w,collisionPadding:S,sticky:T,hideWhenDetached:O,avoidCollisions:N}:{};return L.jsx(uhe,{scope:t,content:I,viewport:z,onViewportChange:X,itemRefCallback:Ue,selectedItem:ae,onItemLeave:le,itemTextRefCallback:Ze,focusSelectedItem:We,selectedItemText:_e,position:r,isPositioned:fe,searchRef:Je,children:L.jsx(o9,{as:hg,allowPinchZoom:!0,children:L.jsx(i9,{asChild:!0,trapped:F.open,onMountAutoFocus:Et=>{Et.preventDefault()},onUnmountAutoFocus:Qn(i,Et=>{var on;(on=F.trigger)==null||on.focus({preventScroll:!0}),Et.preventDefault()}),children:L.jsx(v2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:Et=>Et.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:L.jsx(Qe,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:Et=>Et.preventDefault(),...D,...Ct,onPlaced:()=>pe(!0),ref:Z,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:Qn(D.onKeyDown,Et=>{const on=Et.ctrlKey||Et.altKey||Et.metaKey;if(Et.key==="Tab"&&Et.preventDefault(),!on&&Et.key.length===1&&Ne(Et.key),["ArrowUp","ArrowDown","Home","End"].includes(Et.key)){let ze=he().filter(mt=>!mt.disabled).map(mt=>mt.ref.current);if(["ArrowUp","End"].includes(Et.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(Et.key)){const mt=Et.target,gt=ze.indexOf(mt);ze=ze.slice(gt+1)}setTimeout(()=>Ae(ze)),Et.preventDefault()}})})})})})})});dhe.displayName=vGe;var yGe="SelectItemAlignedPosition",fhe=U.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,o=Vg(p0,t),a=zg(p0,t),[c,u]=U.useState(null),[h,m]=U.useState(null),y=Ci(e,Z=>m(Z)),w=JI(t),S=U.useRef(!1),T=U.useRef(!0),{viewport:O,selectedItem:N,selectedItemText:D,focusSelectedItem:F}=a,I=U.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&O&&N&&D){const Z=o.trigger.getBoundingClientRect(),ae=h.getBoundingClientRect(),ge=o.valueNode.getBoundingClientRect(),_e=D.getBoundingClientRect();if(o.dir!=="rtl"){const mt=_e.left-ae.left,gt=ge.left-mt,jt=Z.left-gt,Ht=Z.width+jt,qn=Math.max(Ht,ae.width),kn=window.innerWidth-od,En=yZ(gt,[od,Math.max(od,kn-qn)]);c.style.minWidth=Ht+"px",c.style.left=En+"px"}else{const mt=ae.right-_e.right,gt=window.innerWidth-ge.right-mt,jt=window.innerWidth-Z.right-gt,Ht=Z.width+jt,qn=Math.max(Ht,ae.width),kn=window.innerWidth-od,En=yZ(gt,[od,Math.max(od,kn-qn)]);c.style.minWidth=Ht+"px",c.style.right=En+"px"}const be=w(),he=window.innerHeight-od*2,fe=O.scrollHeight,pe=window.getComputedStyle(h),Ce=parseInt(pe.borderTopWidth,10),Ae=parseInt(pe.paddingTop,10),We=parseInt(pe.borderBottomWidth,10),xe=parseInt(pe.paddingBottom,10),$e=Ce+Ae+fe+xe+We,Je=Math.min(N.offsetHeight*5,$e),Ne=window.getComputedStyle(O),Ue=parseInt(Ne.paddingTop,10),le=parseInt(Ne.paddingBottom,10),Ze=Z.top+Z.height/2-od,Qe=he-Ze,Ct=N.offsetHeight/2,Et=N.offsetTop+Ct,on=Ce+Ae+Et,zn=$e-on;if(on<=Ze){const mt=be.length>0&&N===be[be.length-1].ref.current;c.style.bottom="0px";const gt=h.clientHeight-O.offsetTop-O.offsetHeight,jt=Math.max(Qe,Ct+(mt?le:0)+gt+We),Ht=on+jt;c.style.height=Ht+"px"}else{const mt=be.length>0&&N===be[0].ref.current;c.style.top="0px";const jt=Math.max(Ze,Ce+O.offsetTop+(mt?Ue:0)+Ct)+zn;c.style.height=jt+"px",O.scrollTop=on-Ze+O.offsetTop}c.style.margin=`${od}px 0`,c.style.minHeight=Je+"px",c.style.maxHeight=he+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[w,o.trigger,o.valueNode,c,h,O,N,D,o.dir,r]);ga(()=>I(),[I]);const[R,z]=U.useState();ga(()=>{h&&z(window.getComputedStyle(h).zIndex)},[h]);const X=U.useCallback(Z=>{Z&&T.current===!0&&(I(),F==null||F(),T.current=!1)},[I,F]);return L.jsx(xGe,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:S,onScrollButtonChange:X,children:L.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:L.jsx(Br.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});fhe.displayName=yGe;var bGe="SelectPopperPosition",T6=U.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=od,...o}=n,a=e3(t);return L.jsx(_ne,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});T6.displayName=bGe;var[xGe,IV]=Ww(p0,{}),P6="SelectViewport",hhe=U.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,o=zg(P6,t),a=IV(P6,t),c=Ci(e,o.onViewportChange),u=U.useRef(0);return L.jsxs(L.Fragment,{children:[L.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),L.jsx(ZI.Slot,{scope:t,children:L.jsx(Br.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Qn(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=a;if(w!=null&&w.current&&y){const S=Math.abs(u.current-m.scrollTop);if(S>0){const T=window.innerHeight-od*2,O=parseFloat(y.style.minHeight),N=parseFloat(y.style.height),D=Math.max(O,N);if(D<T){const F=D+S,I=Math.min(T,F),R=F-I;y.style.height=I+"px",y.style.bottom==="0px"&&(m.scrollTop=R>0?R:0,y.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});hhe.displayName=P6;var phe="SelectGroup",[wGe,_Ge]=Ww(phe),EGe=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=nx();return L.jsx(wGe,{scope:t,id:i,children:L.jsx(Br.div,{role:"group","aria-labelledby":i,...r,ref:e})})});EGe.displayName=phe;var mhe="SelectLabel",ghe=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=_Ge(mhe,t);return L.jsx(Br.div,{id:i.id,...r,ref:e})});ghe.displayName=mhe;var xN="SelectItem",[SGe,vhe]=Ww(xN),yhe=U.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:o,...a}=n,c=Vg(xN,t),u=zg(xN,t),h=c.value===r,[m,y]=U.useState(o??""),[w,S]=U.useState(!1),T=Ci(e,F=>{var I;return(I=u.itemRefCallback)==null?void 0:I.call(u,F,r,i)}),O=nx(),N=U.useRef("touch"),D=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return L.jsx(SGe,{scope:t,value:r,disabled:i,textId:O,isSelected:h,onItemTextChange:U.useCallback(F=>{y(I=>I||((F==null?void 0:F.textContent)??"").trim())},[]),children:L.jsx(ZI.ItemSlot,{scope:t,value:r,disabled:i,textValue:m,children:L.jsx(Br.div,{role:"option","aria-labelledby":O,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:T,onFocus:Qn(a.onFocus,()=>S(!0)),onBlur:Qn(a.onBlur,()=>S(!1)),onClick:Qn(a.onClick,()=>{N.current!=="mouse"&&D()}),onPointerUp:Qn(a.onPointerUp,()=>{N.current==="mouse"&&D()}),onPointerDown:Qn(a.onPointerDown,F=>{N.current=F.pointerType}),onPointerMove:Qn(a.onPointerMove,F=>{var I;N.current=F.pointerType,i?(I=u.onItemLeave)==null||I.call(u):N.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qn(a.onPointerLeave,F=>{var I;F.currentTarget===document.activeElement&&((I=u.onItemLeave)==null||I.call(u))}),onKeyDown:Qn(a.onKeyDown,F=>{var R;((R=u.searchRef)==null?void 0:R.current)!==""&&F.key===" "||(uGe.includes(F.key)&&D(),F.key===" "&&F.preventDefault())})})})})});yhe.displayName=xN;var Sk="SelectItemText",bhe=U.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...o}=n,a=Vg(Sk,t),c=zg(Sk,t),u=vhe(Sk,t),h=pGe(Sk,t),[m,y]=U.useState(null),w=Ci(e,D=>y(D),u.onItemTextChange,D=>{var F;return(F=c.itemTextRefCallback)==null?void 0:F.call(c,D,u.value,u.disabled)}),S=m==null?void 0:m.textContent,T=U.useMemo(()=>L.jsx("option",{value:u.value,disabled:u.disabled,children:S},u.value),[u.disabled,u.value,S]),{onNativeOptionAdd:O,onNativeOptionRemove:N}=h;return ga(()=>(O(T),()=>N(T)),[O,N,T]),L.jsxs(L.Fragment,{children:[L.jsx(Br.span,{id:u.textId,...o,ref:w}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?v0.createPortal(o.children,a.valueNode):null]})});bhe.displayName=Sk;var xhe="SelectItemIndicator",whe=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return vhe(xhe,t).isSelected?L.jsx(Br.span,{"aria-hidden":!0,...r,ref:e}):null});whe.displayName=xhe;var A6="SelectScrollUpButton",_he=U.forwardRef((n,e)=>{const t=zg(A6,n.__scopeSelect),r=IV(A6,n.__scopeSelect),[i,o]=U.useState(!1),a=Ci(e,r.onScrollButtonChange);return ga(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=u.scrollTop>0;o(h)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?L.jsx(She,{...n,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});_he.displayName=A6;var R6="SelectScrollDownButton",Ehe=U.forwardRef((n,e)=>{const t=zg(R6,n.__scopeSelect),r=IV(R6,n.__scopeSelect),[i,o]=U.useState(!1),a=Ci(e,r.onScrollButtonChange);return ga(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;o(m)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?L.jsx(She,{...n,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});Ehe.displayName=R6;var She=U.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,o=zg("SelectScrollButton",t),a=U.useRef(null),c=JI(t),u=U.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return U.useEffect(()=>()=>u(),[u]),ga(()=>{var m;const h=c().find(y=>y.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),L.jsx(Br.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Qn(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Qn(i.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Qn(i.onPointerLeave,()=>{u()})})}),kGe="SelectSeparator",khe=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return L.jsx(Br.div,{"aria-hidden":!0,...r,ref:e})});khe.displayName=kGe;var M6="SelectArrow",CGe=U.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=e3(t),o=Vg(M6,t),a=zg(M6,t);return o.open&&a.position==="popper"?L.jsx(Ene,{...i,...r,ref:e}):null});CGe.displayName=M6;function Che(n){return n===""||n===void 0}var Ohe=U.forwardRef((n,e)=>{const{value:t,...r}=n,i=U.useRef(null),o=Ci(e,i),a=lGe(t);return U.useEffect(()=>{const c=i.current,u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==t&&m){const y=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(y)}},[a,t]),L.jsx(y2,{asChild:!0,children:L.jsx("select",{...r,ref:o,defaultValue:t})})});Ohe.displayName="BubbleSelect";function The(n){const e=_c(n),t=U.useRef(""),r=U.useRef(0),i=U.useCallback(a=>{const c=t.current+a;e(c),function u(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(c)},[e]),o=U.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return U.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,o]}function Phe(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let a=OGe(n,Math.max(o,0));i.length===1&&(a=a.filter(h=>h!==t));const u=a.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==t?u:void 0}function OGe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var TGe=nhe,Ahe=ihe,PGe=she,AGe=ahe,RGe=lhe,Rhe=che,MGe=hhe,Mhe=ghe,Dhe=yhe,DGe=bhe,NGe=whe,Nhe=_he,Ihe=Ehe,Fhe=khe;const bZ=TGe,xZ=PGe,D6=U.forwardRef(({className:n,children:e,...t},r)=>L.jsxs(Ahe,{ref:r,className:dr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,L.jsx(AGe,{asChild:!0,children:L.jsx(qte,{className:"h-4 w-4 opacity-50"})})]}));D6.displayName=Ahe.displayName;const Lhe=U.forwardRef(({className:n,...e},t)=>L.jsx(Nhe,{ref:t,className:dr("flex cursor-default items-center justify-center py-1",n),...e,children:L.jsx(bbe,{className:"h-4 w-4"})}));Lhe.displayName=Nhe.displayName;const $he=U.forwardRef(({className:n,...e},t)=>L.jsx(Ihe,{ref:t,className:dr("flex cursor-default items-center justify-center py-1",n),...e,children:L.jsx(qte,{className:"h-4 w-4"})}));$he.displayName=Ihe.displayName;const N6=U.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>L.jsx(RGe,{children:L.jsxs(Rhe,{ref:i,className:dr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[L.jsx(Lhe,{}),L.jsx(MGe,{className:dr("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),L.jsx($he,{})]})}));N6.displayName=Rhe.displayName;const IGe=U.forwardRef(({className:n,...e},t)=>L.jsx(Mhe,{ref:t,className:dr("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));IGe.displayName=Mhe.displayName;const I6=U.forwardRef(({className:n,children:e,...t},r)=>L.jsxs(Dhe,{ref:r,className:dr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[L.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:L.jsx(NGe,{children:L.jsx(gbe,{className:"h-4 w-4"})})}),L.jsx(DGe,{children:e})]}));I6.displayName=Dhe.displayName;const FGe=U.forwardRef(({className:n,...e},t)=>L.jsx(Fhe,{ref:t,className:dr("-mx-1 my-1 h-px bg-muted",n),...e}));FGe.displayName=Fhe.displayName;const LGe=qh.object({processId:qh.string().min(1,"Processo  obrigatrio"),formId:qh.string().min(1,"Formulrio  obrigatrio")}),$Ge=()=>{const n=Dg(),{id:e}=m2(),t=hw(),i=new URLSearchParams(t.search).get("processId"),o=Rg(),a=!!e,c=x9({resolver:w9(LGe),defaultValues:{processId:i||"",formId:""}}),{data:u,isLoading:h}=bs({queryKey:["integration",e],queryFn:()=>ig.getIntegrationById(e),enabled:a}),{data:m=[],isLoading:y}=bs({queryKey:["processes"],queryFn:()=>Ff.getAllProcesses()}),{data:w=[],isLoading:S}=bs({queryKey:["forms"],queryFn:()=>Lf.getAllForms()});U.useEffect(()=>{u&&c.reset({processId:u.processId,formId:u.formId})},[u,c]);const T=tp({mutationFn:F=>ig.createIntegration(F),onSuccess:()=>{o.invalidateQueries({queryKey:["integrations"]}),Lo.success("Integrao criada com sucesso"),n("/integration")},onError:()=>{Lo.error("Falha ao criar integrao")}}),O=tp({mutationFn:({id:F,data:I})=>ig.updateIntegration(F,I),onSuccess:()=>{o.invalidateQueries({queryKey:["integrations"]}),o.invalidateQueries({queryKey:["integration",e]}),Lo.success("Integrao atualizada com sucesso"),n("/integration")},onError:()=>{Lo.error("Falha ao atualizar integrao")}}),N=F=>{const I={processId:F.processId,formId:F.formId};a&&e?O.mutate({id:e,data:I}):T.mutate(I)},D=h||y||S;return L.jsxs("div",{className:"space-y-6 py-6",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(hr,{variant:"outline",size:"icon",onClick:()=>n("/integration"),children:L.jsx(b2,{className:"h-4 w-4"})}),L.jsx("h2",{className:"ml-4 text-3xl font-bold",children:a?"Editar Integrao":"Nova Integrao"})]}),L.jsxs($o,{className:"max-w-2xl mx-auto",children:[L.jsxs(jo,{children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(z8,{className:"mr-2 h-5 w-5"}),L.jsx(Ls,{children:"Integrao Processo-Formulrio"})]}),L.jsx(Ec,{children:"Vincule um processo BPMN com um formulrio dinmico"})]}),L.jsx(Bo,{children:D?L.jsx("div",{className:"py-8 flex justify-center",children:L.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):L.jsx(_9,{...c,children:L.jsxs("form",{onSubmit:c.handleSubmit(N),className:"space-y-6",children:[L.jsx(qx,{control:c.control,name:"processId",render:({field:F})=>L.jsxs(e0,{children:[L.jsx(t0,{children:"Processo BPMN"}),L.jsx(n0,{children:L.jsxs(bZ,{value:F.value,onValueChange:F.onChange,disabled:!!i||m.length===0,children:[L.jsx(D6,{children:L.jsx(xZ,{placeholder:"Selecione um processo"})}),L.jsx(N6,{children:m.map(I=>L.jsx(I6,{value:I.id,children:I.name},I.id))})]})}),m.length===0&&L.jsx("div",{className:"text-sm text-destructive",children:"Nenhum processo disponvel. Por favor, crie um processo primeiro."}),L.jsx(r0,{})]})}),L.jsx(qx,{control:c.control,name:"formId",render:({field:F})=>L.jsxs(e0,{children:[L.jsx(t0,{children:"Formulrio Dinmico"}),L.jsx(n0,{children:L.jsxs(bZ,{value:F.value,onValueChange:F.onChange,disabled:w.length===0,children:[L.jsx(D6,{children:L.jsx(xZ,{placeholder:"Selecione um formulrio"})}),L.jsx(N6,{children:w.map(I=>L.jsx(I6,{value:I.id,children:I.name},I.id))})]})}),w.length===0&&L.jsx("div",{className:"text-sm text-destructive",children:"Nenhum formulrio disponvel. Por favor, crie um formulrio primeiro."}),L.jsx(r0,{})]})}),L.jsx("div",{className:"flex justify-end",children:L.jsxs(hr,{type:"submit",disabled:m.length===0||w.length===0||T.isPending||O.isPending,children:[L.jsx(H8,{className:"mr-2 h-4 w-4"}),a?"Atualizar Integrao":"Salvar Integrao"]})})]})})})]})]})},jGe=()=>{const n=Dg();return L.jsxs("div",{className:"flex h-[calc(100vh-120px)] flex-col items-center justify-center text-center",children:[L.jsx("div",{className:"mb-4 rounded-full bg-primary/10 p-3",children:L.jsx(_be,{className:"h-10 w-10 text-primary"})}),L.jsx("h1",{className:"text-4xl font-bold",children:"404"}),L.jsx("p",{className:"mt-4 text-xl",children:"Pgina no encontrada"}),L.jsx("p",{className:"mt-2 text-muted-foreground",children:"A pgina que voc est procurando no existe ou foi movida."}),L.jsx("div",{className:"mt-8",children:L.jsx(hr,{onClick:()=>n("/"),children:"Retornar ao Dashboard"})})]})},BGe=()=>L.jsxs(a0e,{children:[L.jsx(yl,{path:"/poc-bpmn-js",element:L.jsx(Aq,{})}),L.jsx(yl,{path:"/",element:L.jsx(Aq,{})}),L.jsx(yl,{path:"/processes",element:L.jsx($Ee,{})}),L.jsx(yl,{path:"/processes/new",element:L.jsx(oU,{})}),L.jsx(yl,{path:"/processes/:id",element:L.jsx(mke,{})}),L.jsx(yl,{path:"/processes/:id/edit",element:L.jsx(oU,{})}),L.jsx(yl,{path:"/forms",element:L.jsx(yke,{})}),L.jsx(yl,{path:"/forms/new",element:L.jsx(vZ,{})}),L.jsx(yl,{path:"/forms/:id",element:L.jsx(nGe,{})}),L.jsx(yl,{path:"/forms/:id/edit",element:L.jsx(vZ,{})}),L.jsx(yl,{path:"/integration",element:L.jsx(oGe,{})}),L.jsx(yl,{path:"/integration/:id",element:L.jsx($Ge,{})}),L.jsx(yl,{path:"*",element:L.jsx(jGe,{})})]}),GR=({to:n,icon:e,label:t,isCollapsed:r})=>{const i=hw(),o=i.pathname===n||i.pathname.startsWith(`${n}/`);return L.jsx("li",{children:L.jsxs(Ks,{to:n,className:dr("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",o?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),children:[L.jsx(e,{className:dr("h-5 w-5",r?"mx-auto":"mr-2")}),!r&&L.jsx("span",{children:t})]})})},VGe=()=>{const{sidebarOpen:n,toggleSidebar:e}=n9();return L.jsxs("aside",{className:dr("fixed inset-y-0 left-0 z-40 flex flex-col bg-sidebar border-r border-sidebar-border transition-transform duration-300",n?"w-64":"w-16",n?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[L.jsxs("div",{className:"flex h-16 items-center gap-2 border-b border-sidebar-border px-4",children:[L.jsx("div",{className:"flex-1",children:n&&L.jsx("h1",{className:"text-xl font-semibold text-sidebar-foreground",children:"BPMN+Forms"})}),L.jsx("button",{onClick:e,className:"hidden md:flex h-8 w-8 items-center justify-center rounded-md text-sidebar-foreground hover:bg-sidebar-accent",children:n?L.jsx(vbe,{className:"h-4 w-4"}):L.jsx(ybe,{className:"h-4 w-4"})})]}),L.jsx("div",{className:"flex-1 overflow-auto py-4",children:L.jsx("nav",{children:L.jsxs("ul",{className:"space-y-1 px-2",children:[L.jsx(GR,{to:"/",icon:xbe,label:"Dashboard",isCollapsed:!n}),L.jsx(GR,{to:"/processes",icon:q8,label:"Processos BPMN",isCollapsed:!n}),L.jsx(GR,{to:"/forms",icon:V8,label:"Formulrios Dinmicos",isCollapsed:!n}),L.jsx(GR,{to:"/integration",icon:sD,label:"Integraes",isCollapsed:!n})]})})}),L.jsx("div",{className:"border-t border-sidebar-border p-4",children:n&&L.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:"BPMN & Forms POC v1.0"})})]})},zGe=()=>{const{toggleSidebar:n}=n9();return L.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center border-b bg-background px-4",children:[L.jsx(hr,{variant:"ghost",size:"icon",onClick:n,className:"md:hidden",children:L.jsx(wbe,{className:"h-5 w-5"})}),L.jsx("div",{className:"ml-4 flex-1",children:L.jsx("h2",{className:"text-lg font-medium",children:"BPMN & Dynamic Forms POC"})})]})},HGe=()=>{const{sidebarOpen:n}=n9();return L.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-background",children:[L.jsx(VGe,{}),L.jsxs("div",{className:`flex flex-1 flex-col overflow-hidden transition-all duration-300 ${n?"md:ml-64":"md:ml-16"}`,children:[L.jsx(zGe,{}),L.jsx("main",{className:"flex-1 overflow-auto p-4",children:L.jsx("div",{className:"container h-full",children:L.jsx(BGe,{})})})]})]})},WGe=new rye({defaultOptions:{queries:{staleTime:60*1e3}}}),qGe=()=>{localStorage.getItem("bpmnProcesses")||localStorage.setItem("bpmnProcesses",JSON.stringify([])),localStorage.getItem("dynamicForms")||localStorage.setItem("dynamicForms",JSON.stringify([])),localStorage.getItem("processFormIntegration")||localStorage.setItem("processFormIntegration",JSON.stringify([]))};function UGe(){const[n,e]=U.useState(!1);return U.useEffect(()=>{qGe(),e(!0)},[]),n?L.jsx(lye,{client:WGe,children:L.jsx(uwe,{children:L.jsxs(lwe,{children:[L.jsx(p0e,{children:L.jsx(HGe,{})}),L.jsx(o1e,{}),L.jsx(N1e,{position:"top-right"})]})})}):L.jsx("div",{className:"flex h-screen items-center justify-center",children:L.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})}qee(document.getElementById("root")).render(L.jsx(UGe,{}));
