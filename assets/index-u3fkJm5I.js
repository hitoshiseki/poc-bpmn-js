var kme=Object.defineProperty;var GH=n=>{throw TypeError(n)};var Cme=(n,e,t)=>e in n?kme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $o=(n,e,t)=>Cme(n,typeof e!="symbol"?e+"":e,t),wL=(n,e,t)=>e.has(n)||GH("Cannot "+t);var Le=(n,e,t)=>(wL(n,e,"read from private field"),t?t.call(n):e.get(n)),xr=(n,e,t)=>e.has(n)?GH("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),An=(n,e,t,r)=>(wL(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),ri=(n,e,t)=>(wL(n,e,"access private method"),t);var XR=(n,e,t,r)=>({set _(i){An(n,e,i,t)},get _(){return Le(n,e,r)}});function Ome(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jZ={exports:{}},tN={},VZ={exports:{}},vi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO=Symbol.for("react.element"),Tme=Symbol.for("react.portal"),Ame=Symbol.for("react.fragment"),Rme=Symbol.for("react.strict_mode"),Pme=Symbol.for("react.profiler"),Mme=Symbol.for("react.provider"),Dme=Symbol.for("react.context"),Nme=Symbol.for("react.forward_ref"),Ime=Symbol.for("react.suspense"),Lme=Symbol.for("react.memo"),Fme=Symbol.for("react.lazy"),YH=Symbol.iterator;function $me(n){return n===null||typeof n!="object"?null:(n=YH&&n[YH]||n["@@iterator"],typeof n=="function"?n:null)}var zZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HZ=Object.assign,WZ={};function iE(n,e,t){this.props=n,this.context=e,this.refs=WZ,this.updater=t||zZ}iE.prototype.isReactComponent={};iE.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};iE.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function qZ(){}qZ.prototype=iE.prototype;function Wj(n,e,t){this.props=n,this.context=e,this.refs=WZ,this.updater=t||zZ}var qj=Wj.prototype=new qZ;qj.constructor=Wj;HZ(qj,iE.prototype);qj.isPureReactComponent=!0;var QH=Array.isArray,UZ=Object.prototype.hasOwnProperty,Uj={current:null},GZ={key:!0,ref:!0,__self:!0,__source:!0};function YZ(n,e,t){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)UZ.call(e,r)&&!GZ.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}if(n&&n.defaultProps)for(r in c=n.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:IO,type:n,key:o,ref:a,props:i,_owner:Uj.current}}function Bme(n,e){return{$$typeof:IO,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Gj(n){return typeof n=="object"&&n!==null&&n.$$typeof===IO}function jme(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var KH=/\/+/g;function _L(n,e){return typeof n=="object"&&n!==null&&n.key!=null?jme(""+n.key):e.toString(36)}function CM(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case IO:case Tme:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+_L(a,0):r,QH(i)?(t="",n!=null&&(t=n.replace(KH,"$&/")+"/"),CM(i,e,t,"",function(h){return h})):i!=null&&(Gj(i)&&(i=Bme(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(KH,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",QH(n))for(var c=0;c<n.length;c++){o=n[c];var u=r+_L(o,c);a+=CM(o,e,t,u,i)}else if(u=$me(n),typeof u=="function")for(n=u.call(n),c=0;!(o=n.next()).done;)o=o.value,u=r+_L(o,c++),a+=CM(o,e,t,u,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ZR(n,e,t){if(n==null)return n;var r=[],i=0;return CM(n,r,"","",function(o){return e.call(t,o,i++)}),r}function Vme(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Uc={current:null},OM={transition:null},zme={ReactCurrentDispatcher:Uc,ReactCurrentBatchConfig:OM,ReactCurrentOwner:Uj};function QZ(){throw Error("act(...) is not supported in production builds of React.")}vi.Children={map:ZR,forEach:function(n,e,t){ZR(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ZR(n,function(){e++}),e},toArray:function(n){return ZR(n,function(e){return e})||[]},only:function(n){if(!Gj(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};vi.Component=iE;vi.Fragment=Ame;vi.Profiler=Pme;vi.PureComponent=Wj;vi.StrictMode=Rme;vi.Suspense=Ime;vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zme;vi.act=QZ;vi.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=HZ({},n.props),i=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Uj.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var c=n.type.defaultProps;for(u in e)UZ.call(e,u)&&!GZ.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:IO,type:n.type,key:i,ref:o,props:r,_owner:a}};vi.createContext=function(n){return n={$$typeof:Dme,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Mme,_context:n},n.Consumer=n};vi.createElement=YZ;vi.createFactory=function(n){var e=YZ.bind(null,n);return e.type=n,e};vi.createRef=function(){return{current:null}};vi.forwardRef=function(n){return{$$typeof:Nme,render:n}};vi.isValidElement=Gj;vi.lazy=function(n){return{$$typeof:Fme,_payload:{_status:-1,_result:n},_init:Vme}};vi.memo=function(n,e){return{$$typeof:Lme,type:n,compare:e===void 0?null:e}};vi.startTransition=function(n){var e=OM.transition;OM.transition={};try{n()}finally{OM.transition=e}};vi.unstable_act=QZ;vi.useCallback=function(n,e){return Uc.current.useCallback(n,e)};vi.useContext=function(n){return Uc.current.useContext(n)};vi.useDebugValue=function(){};vi.useDeferredValue=function(n){return Uc.current.useDeferredValue(n)};vi.useEffect=function(n,e){return Uc.current.useEffect(n,e)};vi.useId=function(){return Uc.current.useId()};vi.useImperativeHandle=function(n,e,t){return Uc.current.useImperativeHandle(n,e,t)};vi.useInsertionEffect=function(n,e){return Uc.current.useInsertionEffect(n,e)};vi.useLayoutEffect=function(n,e){return Uc.current.useLayoutEffect(n,e)};vi.useMemo=function(n,e){return Uc.current.useMemo(n,e)};vi.useReducer=function(n,e,t){return Uc.current.useReducer(n,e,t)};vi.useRef=function(n){return Uc.current.useRef(n)};vi.useState=function(n){return Uc.current.useState(n)};vi.useSyncExternalStore=function(n,e,t){return Uc.current.useSyncExternalStore(n,e,t)};vi.useTransition=function(){return Uc.current.useTransition()};vi.version="18.3.1";VZ.exports=vi;var Z=VZ.exports;const Mt=rE(Z),KZ=Ome({__proto__:null,default:Mt},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hme=Z,Wme=Symbol.for("react.element"),qme=Symbol.for("react.fragment"),Ume=Object.prototype.hasOwnProperty,Gme=Hme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yme={key:!0,ref:!0,__self:!0,__source:!0};function XZ(n,e,t){var r,i={},o=null,a=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Ume.call(e,r)&&!Yme.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wme,type:n,key:o,ref:a,props:i,_owner:Gme.current}}tN.Fragment=qme;tN.jsx=XZ;tN.jsxs=XZ;jZ.exports=tN;var V=jZ.exports,ZZ={exports:{}},_d={},JZ={exports:{}},eJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(De,Ze){var bt=De.length;De.push(Ze);e:for(;0<bt;){var Ye=bt-1>>>1,rt=De[Ye];if(0<i(rt,Ze))De[Ye]=Ze,De[bt]=rt,bt=Ye;else break e}}function t(De){return De.length===0?null:De[0]}function r(De){if(De.length===0)return null;var Ze=De[0],bt=De.pop();if(bt!==Ze){De[0]=bt;e:for(var Ye=0,rt=De.length,ve=rt>>>1;Ye<ve;){var vt=2*(Ye+1)-1,gt=De[vt],Tt=vt+1,Zt=De[Tt];if(0>i(gt,bt))Tt<rt&&0>i(Zt,gt)?(De[Ye]=Zt,De[Tt]=bt,Ye=Tt):(De[Ye]=gt,De[vt]=bt,Ye=vt);else if(Tt<rt&&0>i(Zt,bt))De[Ye]=Zt,De[Tt]=bt,Ye=Tt;else break e}}return Ze}function i(De,Ze){var bt=De.sortIndex-Ze.sortIndex;return bt!==0?bt:De.id-Ze.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],h=[],m=1,v=null,_=3,k=!1,R=!1,T=!1,F=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(De){for(var Ze=t(h);Ze!==null;){if(Ze.callback===null)r(h);else if(Ze.startTime<=De)r(h),Ze.sortIndex=Ze.expirationTime,e(u,Ze);else break;Ze=t(h)}}function I(De){if(T=!1,B(De),!R)if(t(u)!==null)R=!0,ze(Y);else{var Ze=t(h);Ze!==null&&dt(I,Ze.startTime-De)}}function Y(De,Ze){R=!1,T&&(T=!1,$(ae),ae=-1),k=!0;var bt=_;try{for(B(Ze),v=t(u);v!==null&&(!(v.expirationTime>Ze)||De&&!Ee());){var Ye=v.callback;if(typeof Ye=="function"){v.callback=null,_=v.priorityLevel;var rt=Ye(v.expirationTime<=Ze);Ze=n.unstable_now(),typeof rt=="function"?v.callback=rt:v===t(u)&&r(u),B(Ze)}else r(u);v=t(u)}if(v!==null)var ve=!0;else{var vt=t(h);vt!==null&&dt(I,vt.startTime-Ze),ve=!1}return ve}finally{v=null,_=bt,k=!1}}var oe=!1,ne=null,ae=-1,Te=5,Me=-1;function Ee(){return!(n.unstable_now()-Me<Te)}function we(){if(ne!==null){var De=n.unstable_now();Me=De;var Ze=!0;try{Ze=ne(!0,De)}finally{Ze?Ce():(oe=!1,ne=null)}}else oe=!1}var Ce;if(typeof j=="function")Ce=function(){j(we)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Fe=Oe.port2;Oe.port1.onmessage=we,Ce=function(){Fe.postMessage(null)}}else Ce=function(){F(we,0)};function ze(De){ne=De,oe||(oe=!0,Ce())}function dt(De,Ze){ae=F(function(){De(n.unstable_now())},Ze)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(De){De.callback=null},n.unstable_continueExecution=function(){R||k||(R=!0,ze(Y))},n.unstable_forceFrameRate=function(De){0>De||125<De?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<De?Math.floor(1e3/De):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(De){switch(_){case 1:case 2:case 3:var Ze=3;break;default:Ze=_}var bt=_;_=Ze;try{return De()}finally{_=bt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(De,Ze){switch(De){case 1:case 2:case 3:case 4:case 5:break;default:De=3}var bt=_;_=De;try{return Ze()}finally{_=bt}},n.unstable_scheduleCallback=function(De,Ze,bt){var Ye=n.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?Ye+bt:Ye):bt=Ye,De){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=bt+rt,De={id:m++,callback:Ze,priorityLevel:De,startTime:bt,expirationTime:rt,sortIndex:-1},bt>Ye?(De.sortIndex=bt,e(h,De),t(u)===null&&De===t(h)&&(T?($(ae),ae=-1):T=!0,dt(I,bt-Ye))):(De.sortIndex=rt,e(u,De),R||k||(R=!0,ze(Y))),De},n.unstable_shouldYield=Ee,n.unstable_wrapCallback=function(De){var Ze=_;return function(){var bt=_;_=Ze;try{return De.apply(this,arguments)}finally{_=bt}}}})(eJ);JZ.exports=eJ;var Qme=JZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kme=Z,xd=Qme;function Yt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tJ=new Set,CC={};function wb(n,e){T_(n,e),T_(n+"Capture",e)}function T_(n,e){for(CC[n]=e,n=0;n<e.length;n++)tJ.add(e[n])}var dg=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LF=Object.prototype.hasOwnProperty,Xme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XH={},ZH={};function Zme(n){return LF.call(ZH,n)?!0:LF.call(XH,n)?!1:Xme.test(n)?ZH[n]=!0:(XH[n]=!0,!1)}function Jme(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function ege(n,e,t,r){if(e===null||typeof e>"u"||Jme(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gc(n,e,t,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ml={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ml[n]=new Gc(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ml[e]=new Gc(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ml[n]=new Gc(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ml[n]=new Gc(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ml[n]=new Gc(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ml[n]=new Gc(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ml[n]=new Gc(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ml[n]=new Gc(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ml[n]=new Gc(n,5,!1,n.toLowerCase(),null,!1,!1)});var Yj=/[\-:]([a-z])/g;function Qj(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Yj,Qj);Ml[e]=new Gc(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Yj,Qj);Ml[e]=new Gc(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Yj,Qj);Ml[e]=new Gc(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ml[n]=new Gc(n,1,!1,n.toLowerCase(),null,!1,!1)});Ml.xlinkHref=new Gc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ml[n]=new Gc(n,1,!1,n.toLowerCase(),null,!0,!0)});function Kj(n,e,t,r){var i=Ml.hasOwnProperty(e)?Ml[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ege(e,t,i,r)&&(t=null),r||i===null?Zme(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Eg=Kme.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,JR=Symbol.for("react.element"),kw=Symbol.for("react.portal"),Cw=Symbol.for("react.fragment"),Xj=Symbol.for("react.strict_mode"),FF=Symbol.for("react.profiler"),nJ=Symbol.for("react.provider"),rJ=Symbol.for("react.context"),Zj=Symbol.for("react.forward_ref"),$F=Symbol.for("react.suspense"),BF=Symbol.for("react.suspense_list"),Jj=Symbol.for("react.memo"),Dy=Symbol.for("react.lazy"),iJ=Symbol.for("react.offscreen"),JH=Symbol.iterator;function Xk(n){return n===null||typeof n!="object"?null:(n=JH&&n[JH]||n["@@iterator"],typeof n=="function"?n:null)}var js=Object.assign,EL;function L2(n){if(EL===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);EL=e&&e[1]||""}return`
`+EL+n}var SL=!1;function kL(n,e){if(!n||SL)return"";SL=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(n,[],e)}else{try{e.call()}catch(h){r=h}n.call(e.prototype)}else{try{throw Error()}catch(h){r=h}n()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,c=o.length-1;1<=a&&0<=c&&i[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==o[c]){var u=`
`+i[a].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=a&&0<=c);break}}}finally{SL=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?L2(n):""}function tge(n){switch(n.tag){case 5:return L2(n.type);case 16:return L2("Lazy");case 13:return L2("Suspense");case 19:return L2("SuspenseList");case 0:case 2:case 15:return n=kL(n.type,!1),n;case 11:return n=kL(n.type.render,!1),n;case 1:return n=kL(n.type,!0),n;default:return""}}function jF(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Cw:return"Fragment";case kw:return"Portal";case FF:return"Profiler";case Xj:return"StrictMode";case $F:return"Suspense";case BF:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case rJ:return(n.displayName||"Context")+".Consumer";case nJ:return(n._context.displayName||"Context")+".Provider";case Zj:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Jj:return e=n.displayName||null,e!==null?e:jF(n.type)||"Memo";case Dy:e=n._payload,n=n._init;try{return jF(n(e))}catch{}}return null}function nge(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jF(e);case 8:return e===Xj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cv(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function oJ(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rge(n){var e=oJ(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function eP(n){n._valueTracker||(n._valueTracker=rge(n))}function sJ(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=oJ(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function fD(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function VF(n,e){var t=e.checked;return js({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function eW(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Cv(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aJ(n,e){e=e.checked,e!=null&&Kj(n,"checked",e,!1)}function zF(n,e){aJ(n,e);var t=Cv(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?HF(n,e.type,t):e.hasOwnProperty("defaultValue")&&HF(n,e.type,Cv(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function tW(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function HF(n,e,t){(e!=="number"||fD(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var F2=Array.isArray;function Hw(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Cv(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function WF(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Yt(91));return js({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function nW(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Yt(92));if(F2(t)){if(1<t.length)throw Error(Yt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Cv(t)}}function lJ(n,e){var t=Cv(e.value),r=Cv(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function rW(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function cJ(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qF(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?cJ(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tP,uJ=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(tP=tP||document.createElement("div"),tP.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tP.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function OC(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Z2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ige=["Webkit","ms","Moz","O"];Object.keys(Z2).forEach(function(n){ige.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Z2[e]=Z2[n]})});function dJ(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Z2.hasOwnProperty(n)&&Z2[n]?(""+e).trim():e+"px"}function fJ(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=dJ(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var oge=js({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UF(n,e){if(e){if(oge[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Yt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Yt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Yt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Yt(62))}}function GF(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YF=null;function e9(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var QF=null,Ww=null,qw=null;function iW(n){if(n=$O(n)){if(typeof QF!="function")throw Error(Yt(280));var e=n.stateNode;e&&(e=sN(e),QF(n.stateNode,n.type,e))}}function hJ(n){Ww?qw?qw.push(n):qw=[n]:Ww=n}function pJ(){if(Ww){var n=Ww,e=qw;if(qw=Ww=null,iW(n),e)for(n=0;n<e.length;n++)iW(e[n])}}function mJ(n,e){return n(e)}function gJ(){}var CL=!1;function yJ(n,e,t){if(CL)return n(e,t);CL=!0;try{return mJ(n,e,t)}finally{CL=!1,(Ww!==null||qw!==null)&&(gJ(),pJ())}}function TC(n,e){var t=n.stateNode;if(t===null)return null;var r=sN(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Yt(231,e,typeof t));return t}var KF=!1;if(dg)try{var Zk={};Object.defineProperty(Zk,"passive",{get:function(){KF=!0}}),window.addEventListener("test",Zk,Zk),window.removeEventListener("test",Zk,Zk)}catch{KF=!1}function sge(n,e,t,r,i,o,a,c,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(t,h)}catch(m){this.onError(m)}}var J2=!1,hD=null,pD=!1,XF=null,age={onError:function(n){J2=!0,hD=n}};function lge(n,e,t,r,i,o,a,c,u){J2=!1,hD=null,sge.apply(age,arguments)}function cge(n,e,t,r,i,o,a,c,u){if(lge.apply(this,arguments),J2){if(J2){var h=hD;J2=!1,hD=null}else throw Error(Yt(198));pD||(pD=!0,XF=h)}}function _b(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function vJ(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function oW(n){if(_b(n)!==n)throw Error(Yt(188))}function uge(n){var e=n.alternate;if(!e){if(e=_b(n),e===null)throw Error(Yt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return oW(i),n;if(o===r)return oW(i),e;o=o.sibling}throw Error(Yt(188))}if(t.return!==r.return)t=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===t){a=!0,t=i,r=o;break}if(c===r){a=!0,r=i,t=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===t){a=!0,t=o,r=i;break}if(c===r){a=!0,r=o,t=i;break}c=c.sibling}if(!a)throw Error(Yt(189))}}if(t.alternate!==r)throw Error(Yt(190))}if(t.tag!==3)throw Error(Yt(188));return t.stateNode.current===t?n:e}function bJ(n){return n=uge(n),n!==null?xJ(n):null}function xJ(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=xJ(n);if(e!==null)return e;n=n.sibling}return null}var wJ=xd.unstable_scheduleCallback,sW=xd.unstable_cancelCallback,dge=xd.unstable_shouldYield,fge=xd.unstable_requestPaint,ca=xd.unstable_now,hge=xd.unstable_getCurrentPriorityLevel,t9=xd.unstable_ImmediatePriority,_J=xd.unstable_UserBlockingPriority,mD=xd.unstable_NormalPriority,pge=xd.unstable_LowPriority,EJ=xd.unstable_IdlePriority,nN=null,Vp=null;function mge(n){if(Vp&&typeof Vp.onCommitFiberRoot=="function")try{Vp.onCommitFiberRoot(nN,n,void 0,(n.current.flags&128)===128)}catch{}}var Ch=Math.clz32?Math.clz32:vge,gge=Math.log,yge=Math.LN2;function vge(n){return n>>>=0,n===0?32:31-(gge(n)/yge|0)|0}var nP=64,rP=4194304;function $2(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gD(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=t&268435455;if(a!==0){var c=a&~i;c!==0?r=$2(c):(o&=a,o!==0&&(r=$2(o)))}else a=t&~i,a!==0?r=$2(a):o!==0&&(r=$2(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ch(e),i=1<<t,r|=n[t],e&=~i;return r}function bge(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xge(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-Ch(o),c=1<<a,u=i[a];u===-1?(!(c&t)||c&r)&&(i[a]=bge(c,e)):u<=e&&(n.expiredLanes|=c),o&=~c}}function ZF(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function SJ(){var n=nP;return nP<<=1,!(nP&4194240)&&(nP=64),n}function OL(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function LO(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ch(e),n[e]=t}function wge(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ch(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function n9(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ch(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var _o=0;function kJ(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var CJ,r9,OJ,TJ,AJ,JF=!1,iP=[],av=null,lv=null,cv=null,AC=new Map,RC=new Map,$y=[],_ge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aW(n,e){switch(n){case"focusin":case"focusout":av=null;break;case"dragenter":case"dragleave":lv=null;break;case"mouseover":case"mouseout":cv=null;break;case"pointerover":case"pointerout":AC.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":RC.delete(e.pointerId)}}function Jk(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=$O(e),e!==null&&r9(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Ege(n,e,t,r,i){switch(e){case"focusin":return av=Jk(av,n,e,t,r,i),!0;case"dragenter":return lv=Jk(lv,n,e,t,r,i),!0;case"mouseover":return cv=Jk(cv,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return AC.set(o,Jk(AC.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,RC.set(o,Jk(RC.get(o)||null,n,e,t,r,i)),!0}return!1}function RJ(n){var e=R1(n.target);if(e!==null){var t=_b(e);if(t!==null){if(e=t.tag,e===13){if(e=vJ(t),e!==null){n.blockedOn=e,AJ(n.priority,function(){OJ(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function TM(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=e$(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);YF=r,t.target.dispatchEvent(r),YF=null}else return e=$O(t),e!==null&&r9(e),n.blockedOn=t,!1;e.shift()}return!0}function lW(n,e,t){TM(n)&&t.delete(e)}function Sge(){JF=!1,av!==null&&TM(av)&&(av=null),lv!==null&&TM(lv)&&(lv=null),cv!==null&&TM(cv)&&(cv=null),AC.forEach(lW),RC.forEach(lW)}function e2(n,e){n.blockedOn===e&&(n.blockedOn=null,JF||(JF=!0,xd.unstable_scheduleCallback(xd.unstable_NormalPriority,Sge)))}function PC(n){function e(i){return e2(i,n)}if(0<iP.length){e2(iP[0],n);for(var t=1;t<iP.length;t++){var r=iP[t];r.blockedOn===n&&(r.blockedOn=null)}}for(av!==null&&e2(av,n),lv!==null&&e2(lv,n),cv!==null&&e2(cv,n),AC.forEach(e),RC.forEach(e),t=0;t<$y.length;t++)r=$y[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<$y.length&&(t=$y[0],t.blockedOn===null);)RJ(t),t.blockedOn===null&&$y.shift()}var Uw=Eg.ReactCurrentBatchConfig,yD=!0;function kge(n,e,t,r){var i=_o,o=Uw.transition;Uw.transition=null;try{_o=1,i9(n,e,t,r)}finally{_o=i,Uw.transition=o}}function Cge(n,e,t,r){var i=_o,o=Uw.transition;Uw.transition=null;try{_o=4,i9(n,e,t,r)}finally{_o=i,Uw.transition=o}}function i9(n,e,t,r){if(yD){var i=e$(n,e,t,r);if(i===null)FL(n,e,r,vD,t),aW(n,r);else if(Ege(i,n,e,t,r))r.stopPropagation();else if(aW(n,r),e&4&&-1<_ge.indexOf(n)){for(;i!==null;){var o=$O(i);if(o!==null&&CJ(o),o=e$(n,e,t,r),o===null&&FL(n,e,r,vD,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else FL(n,e,r,null,t)}}var vD=null;function e$(n,e,t,r){if(vD=null,n=e9(r),n=R1(n),n!==null)if(e=_b(n),e===null)n=null;else if(t=e.tag,t===13){if(n=vJ(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return vD=n,null}function PJ(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hge()){case t9:return 1;case _J:return 4;case mD:case pge:return 16;case EJ:return 536870912;default:return 16}default:return 16}}var ev=null,o9=null,AM=null;function MJ(){if(AM)return AM;var n,e=o9,t=e.length,r,i="value"in ev?ev.value:ev.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[o-r];r++);return AM=i.slice(n,1<r?1-r:void 0)}function RM(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function oP(){return!0}function cW(){return!1}function Ed(n){function e(t,r,i,o,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in n)n.hasOwnProperty(c)&&(t=n[c],this[c]=t?t(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oP:cW,this.isPropagationStopped=cW,this}return js(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=oP)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=oP)},persist:function(){},isPersistent:oP}),e}var oE={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s9=Ed(oE),FO=js({},oE,{view:0,detail:0}),Oge=Ed(FO),TL,AL,t2,rN=js({},FO,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a9,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==t2&&(t2&&n.type==="mousemove"?(TL=n.screenX-t2.screenX,AL=n.screenY-t2.screenY):AL=TL=0,t2=n),TL)},movementY:function(n){return"movementY"in n?n.movementY:AL}}),uW=Ed(rN),Tge=js({},rN,{dataTransfer:0}),Age=Ed(Tge),Rge=js({},FO,{relatedTarget:0}),RL=Ed(Rge),Pge=js({},oE,{animationName:0,elapsedTime:0,pseudoElement:0}),Mge=Ed(Pge),Dge=js({},oE,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nge=Ed(Dge),Ige=js({},oE,{data:0}),dW=Ed(Ige),Lge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bge(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=$ge[n])?!!e[n]:!1}function a9(){return Bge}var jge=js({},FO,{key:function(n){if(n.key){var e=Lge[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=RM(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fge[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a9,charCode:function(n){return n.type==="keypress"?RM(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?RM(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Vge=Ed(jge),zge=js({},rN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fW=Ed(zge),Hge=js({},FO,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a9}),Wge=Ed(Hge),qge=js({},oE,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uge=Ed(qge),Gge=js({},rN,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Yge=Ed(Gge),Qge=[9,13,27,32],l9=dg&&"CompositionEvent"in window,eC=null;dg&&"documentMode"in document&&(eC=document.documentMode);var Kge=dg&&"TextEvent"in window&&!eC,DJ=dg&&(!l9||eC&&8<eC&&11>=eC),hW=" ",pW=!1;function NJ(n,e){switch(n){case"keyup":return Qge.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IJ(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ow=!1;function Xge(n,e){switch(n){case"compositionend":return IJ(e);case"keypress":return e.which!==32?null:(pW=!0,hW);case"textInput":return n=e.data,n===hW&&pW?null:n;default:return null}}function Zge(n,e){if(Ow)return n==="compositionend"||!l9&&NJ(n,e)?(n=MJ(),AM=o9=ev=null,Ow=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DJ&&e.locale!=="ko"?null:e.data;default:return null}}var Jge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mW(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Jge[n.type]:e==="textarea"}function LJ(n,e,t,r){hJ(r),e=bD(e,"onChange"),0<e.length&&(t=new s9("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var tC=null,MC=null;function eye(n){GJ(n,0)}function iN(n){var e=Rw(n);if(sJ(e))return n}function tye(n,e){if(n==="change")return e}var FJ=!1;if(dg){var PL;if(dg){var ML="oninput"in document;if(!ML){var gW=document.createElement("div");gW.setAttribute("oninput","return;"),ML=typeof gW.oninput=="function"}PL=ML}else PL=!1;FJ=PL&&(!document.documentMode||9<document.documentMode)}function yW(){tC&&(tC.detachEvent("onpropertychange",$J),MC=tC=null)}function $J(n){if(n.propertyName==="value"&&iN(MC)){var e=[];LJ(e,MC,n,e9(n)),yJ(eye,e)}}function nye(n,e,t){n==="focusin"?(yW(),tC=e,MC=t,tC.attachEvent("onpropertychange",$J)):n==="focusout"&&yW()}function rye(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return iN(MC)}function iye(n,e){if(n==="click")return iN(e)}function oye(n,e){if(n==="input"||n==="change")return iN(e)}function sye(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Rh=typeof Object.is=="function"?Object.is:sye;function DC(n,e){if(Rh(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!LF.call(e,i)||!Rh(n[i],e[i]))return!1}return!0}function vW(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bW(n,e){var t=vW(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=vW(t)}}function BJ(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?BJ(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function jJ(){for(var n=window,e=fD();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=fD(n.document)}return e}function c9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function aye(n){var e=jJ(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&BJ(t.ownerDocument.documentElement,t)){if(r!==null&&c9(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=bW(t,o);var a=bW(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var lye=dg&&"documentMode"in document&&11>=document.documentMode,Tw=null,t$=null,nC=null,n$=!1;function xW(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;n$||Tw==null||Tw!==fD(r)||(r=Tw,"selectionStart"in r&&c9(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nC&&DC(nC,r)||(nC=r,r=bD(t$,"onSelect"),0<r.length&&(e=new s9("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Tw)))}function sP(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Aw={animationend:sP("Animation","AnimationEnd"),animationiteration:sP("Animation","AnimationIteration"),animationstart:sP("Animation","AnimationStart"),transitionend:sP("Transition","TransitionEnd")},DL={},VJ={};dg&&(VJ=document.createElement("div").style,"AnimationEvent"in window||(delete Aw.animationend.animation,delete Aw.animationiteration.animation,delete Aw.animationstart.animation),"TransitionEvent"in window||delete Aw.transitionend.transition);function oN(n){if(DL[n])return DL[n];if(!Aw[n])return n;var e=Aw[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in VJ)return DL[n]=e[t];return n}var zJ=oN("animationend"),HJ=oN("animationiteration"),WJ=oN("animationstart"),qJ=oN("transitionend"),UJ=new Map,wW="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hv(n,e){UJ.set(n,e),wb(e,[n])}for(var NL=0;NL<wW.length;NL++){var IL=wW[NL],cye=IL.toLowerCase(),uye=IL[0].toUpperCase()+IL.slice(1);Hv(cye,"on"+uye)}Hv(zJ,"onAnimationEnd");Hv(HJ,"onAnimationIteration");Hv(WJ,"onAnimationStart");Hv("dblclick","onDoubleClick");Hv("focusin","onFocus");Hv("focusout","onBlur");Hv(qJ,"onTransitionEnd");T_("onMouseEnter",["mouseout","mouseover"]);T_("onMouseLeave",["mouseout","mouseover"]);T_("onPointerEnter",["pointerout","pointerover"]);T_("onPointerLeave",["pointerout","pointerover"]);wb("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wb("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wb("onBeforeInput",["compositionend","keypress","textInput","paste"]);wb("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wb("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wb("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var B2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dye=new Set("cancel close invalid load scroll toggle".split(" ").concat(B2));function _W(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,cge(r,e,void 0,n),n.currentTarget=null}function GJ(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==o&&i.isPropagationStopped())break e;_W(i,c,h),o=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,h=c.currentTarget,c=c.listener,u!==o&&i.isPropagationStopped())break e;_W(i,c,h),o=u}}}if(pD)throw n=XF,pD=!1,XF=null,n}function os(n,e){var t=e[a$];t===void 0&&(t=e[a$]=new Set);var r=n+"__bubble";t.has(r)||(YJ(e,n,2,!1),t.add(r))}function LL(n,e,t){var r=0;e&&(r|=4),YJ(t,n,r,e)}var aP="_reactListening"+Math.random().toString(36).slice(2);function NC(n){if(!n[aP]){n[aP]=!0,tJ.forEach(function(t){t!=="selectionchange"&&(dye.has(t)||LL(t,!1,n),LL(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[aP]||(e[aP]=!0,LL("selectionchange",!1,e))}}function YJ(n,e,t,r){switch(PJ(e)){case 1:var i=kge;break;case 4:i=Cge;break;default:i=i9}t=i.bind(null,e,t,n),i=void 0,!KF||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function FL(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;c!==null;){if(a=R1(c),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}c=c.parentNode}}r=r.return}yJ(function(){var h=o,m=e9(t),v=[];e:{var _=UJ.get(n);if(_!==void 0){var k=s9,R=n;switch(n){case"keypress":if(RM(t)===0)break e;case"keydown":case"keyup":k=Vge;break;case"focusin":R="focus",k=RL;break;case"focusout":R="blur",k=RL;break;case"beforeblur":case"afterblur":k=RL;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=uW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Age;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Wge;break;case zJ:case HJ:case WJ:k=Mge;break;case qJ:k=Uge;break;case"scroll":k=Oge;break;case"wheel":k=Yge;break;case"copy":case"cut":case"paste":k=Nge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=fW}var T=(e&4)!==0,F=!T&&n==="scroll",$=T?_!==null?_+"Capture":null:_;T=[];for(var j=h,B;j!==null;){B=j;var I=B.stateNode;if(B.tag===5&&I!==null&&(B=I,$!==null&&(I=TC(j,$),I!=null&&T.push(IC(j,I,B)))),F)break;j=j.return}0<T.length&&(_=new k(_,R,null,t,m),v.push({event:_,listeners:T}))}}if(!(e&7)){e:{if(_=n==="mouseover"||n==="pointerover",k=n==="mouseout"||n==="pointerout",_&&t!==YF&&(R=t.relatedTarget||t.fromElement)&&(R1(R)||R[fg]))break e;if((k||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,k?(R=t.relatedTarget||t.toElement,k=h,R=R?R1(R):null,R!==null&&(F=_b(R),R!==F||R.tag!==5&&R.tag!==6)&&(R=null)):(k=null,R=h),k!==R)){if(T=uW,I="onMouseLeave",$="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(T=fW,I="onPointerLeave",$="onPointerEnter",j="pointer"),F=k==null?_:Rw(k),B=R==null?_:Rw(R),_=new T(I,j+"leave",k,t,m),_.target=F,_.relatedTarget=B,I=null,R1(m)===h&&(T=new T($,j+"enter",R,t,m),T.target=B,T.relatedTarget=F,I=T),F=I,k&&R)t:{for(T=k,$=R,j=0,B=T;B;B=sw(B))j++;for(B=0,I=$;I;I=sw(I))B++;for(;0<j-B;)T=sw(T),j--;for(;0<B-j;)$=sw($),B--;for(;j--;){if(T===$||$!==null&&T===$.alternate)break t;T=sw(T),$=sw($)}T=null}else T=null;k!==null&&EW(v,_,k,T,!1),R!==null&&F!==null&&EW(v,F,R,T,!0)}}e:{if(_=h?Rw(h):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var Y=tye;else if(mW(_))if(FJ)Y=oye;else{Y=rye;var oe=nye}else(k=_.nodeName)&&k.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Y=iye);if(Y&&(Y=Y(n,h))){LJ(v,Y,t,m);break e}oe&&oe(n,_,h),n==="focusout"&&(oe=_._wrapperState)&&oe.controlled&&_.type==="number"&&HF(_,"number",_.value)}switch(oe=h?Rw(h):window,n){case"focusin":(mW(oe)||oe.contentEditable==="true")&&(Tw=oe,t$=h,nC=null);break;case"focusout":nC=t$=Tw=null;break;case"mousedown":n$=!0;break;case"contextmenu":case"mouseup":case"dragend":n$=!1,xW(v,t,m);break;case"selectionchange":if(lye)break;case"keydown":case"keyup":xW(v,t,m)}var ne;if(l9)e:{switch(n){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Ow?NJ(n,t)&&(ae="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(ae="onCompositionStart");ae&&(DJ&&t.locale!=="ko"&&(Ow||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Ow&&(ne=MJ()):(ev=m,o9="value"in ev?ev.value:ev.textContent,Ow=!0)),oe=bD(h,ae),0<oe.length&&(ae=new dW(ae,n,null,t,m),v.push({event:ae,listeners:oe}),ne?ae.data=ne:(ne=IJ(t),ne!==null&&(ae.data=ne)))),(ne=Kge?Xge(n,t):Zge(n,t))&&(h=bD(h,"onBeforeInput"),0<h.length&&(m=new dW("onBeforeInput","beforeinput",null,t,m),v.push({event:m,listeners:h}),m.data=ne))}GJ(v,e)})}function IC(n,e,t){return{instance:n,listener:e,currentTarget:t}}function bD(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=TC(n,t),o!=null&&r.unshift(IC(n,o,i)),o=TC(n,e),o!=null&&r.push(IC(n,o,i))),n=n.return}return r}function sw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function EW(n,e,t,r,i){for(var o=e._reactName,a=[];t!==null&&t!==r;){var c=t,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,i?(u=TC(t,o),u!=null&&a.unshift(IC(t,u,c))):i||(u=TC(t,o),u!=null&&a.push(IC(t,u,c)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var fye=/\r\n?/g,hye=/\u0000|\uFFFD/g;function SW(n){return(typeof n=="string"?n:""+n).replace(fye,`
`).replace(hye,"")}function lP(n,e,t){if(e=SW(e),SW(n)!==e&&t)throw Error(Yt(425))}function xD(){}var r$=null,i$=null;function o$(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s$=typeof setTimeout=="function"?setTimeout:void 0,pye=typeof clearTimeout=="function"?clearTimeout:void 0,kW=typeof Promise=="function"?Promise:void 0,mye=typeof queueMicrotask=="function"?queueMicrotask:typeof kW<"u"?function(n){return kW.resolve(null).then(n).catch(gye)}:s$;function gye(n){setTimeout(function(){throw n})}function $L(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),PC(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);PC(e)}function uv(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function CW(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var sE=Math.random().toString(36).slice(2),Pp="__reactFiber$"+sE,LC="__reactProps$"+sE,fg="__reactContainer$"+sE,a$="__reactEvents$"+sE,yye="__reactListeners$"+sE,vye="__reactHandles$"+sE;function R1(n){var e=n[Pp];if(e)return e;for(var t=n.parentNode;t;){if(e=t[fg]||t[Pp]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=CW(n);n!==null;){if(t=n[Pp])return t;n=CW(n)}return e}n=t,t=n.parentNode}return null}function $O(n){return n=n[Pp]||n[fg],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Rw(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Yt(33))}function sN(n){return n[LC]||null}var l$=[],Pw=-1;function Wv(n){return{current:n}}function cs(n){0>Pw||(n.current=l$[Pw],l$[Pw]=null,Pw--)}function Xo(n,e){Pw++,l$[Pw]=n.current,n.current=e}var Ov={},ic=Wv(Ov),ku=Wv(!1),X1=Ov;function A_(n,e){var t=n.type.contextTypes;if(!t)return Ov;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Cu(n){return n=n.childContextTypes,n!=null}function wD(){cs(ku),cs(ic)}function OW(n,e,t){if(ic.current!==Ov)throw Error(Yt(168));Xo(ic,e),Xo(ku,t)}function QJ(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Yt(108,nge(n)||"Unknown",i));return js({},t,r)}function _D(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ov,X1=ic.current,Xo(ic,n),Xo(ku,ku.current),!0}function TW(n,e,t){var r=n.stateNode;if(!r)throw Error(Yt(169));t?(n=QJ(n,e,X1),r.__reactInternalMemoizedMergedChildContext=n,cs(ku),cs(ic),Xo(ic,n)):cs(ku),Xo(ku,t)}var Um=null,aN=!1,BL=!1;function KJ(n){Um===null?Um=[n]:Um.push(n)}function bye(n){aN=!0,KJ(n)}function qv(){if(!BL&&Um!==null){BL=!0;var n=0,e=_o;try{var t=Um;for(_o=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Um=null,aN=!1}catch(i){throw Um!==null&&(Um=Um.slice(n+1)),wJ(t9,qv),i}finally{_o=e,BL=!1}}return null}var Mw=[],Dw=0,ED=null,SD=0,rf=[],of=0,Z1=null,Zm=1,Jm="";function v1(n,e){Mw[Dw++]=SD,Mw[Dw++]=ED,ED=n,SD=e}function XJ(n,e,t){rf[of++]=Zm,rf[of++]=Jm,rf[of++]=Z1,Z1=n;var r=Zm;n=Jm;var i=32-Ch(r)-1;r&=~(1<<i),t+=1;var o=32-Ch(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zm=1<<32-Ch(e)+i|t<<i|r,Jm=o+n}else Zm=1<<o|t<<i|r,Jm=n}function u9(n){n.return!==null&&(v1(n,1),XJ(n,1,0))}function d9(n){for(;n===ED;)ED=Mw[--Dw],Mw[Dw]=null,SD=Mw[--Dw],Mw[Dw]=null;for(;n===Z1;)Z1=rf[--of],rf[of]=null,Jm=rf[--of],rf[of]=null,Zm=rf[--of],rf[of]=null}var gd=null,hd=null,ks=!1,fh=null;function ZJ(n,e){var t=af(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function AW(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,gd=n,hd=uv(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,gd=n,hd=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Z1!==null?{id:Zm,overflow:Jm}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=af(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,gd=n,hd=null,!0):!1;default:return!1}}function c$(n){return(n.mode&1)!==0&&(n.flags&128)===0}function u$(n){if(ks){var e=hd;if(e){var t=e;if(!AW(n,e)){if(c$(n))throw Error(Yt(418));e=uv(t.nextSibling);var r=gd;e&&AW(n,e)?ZJ(r,t):(n.flags=n.flags&-4097|2,ks=!1,gd=n)}}else{if(c$(n))throw Error(Yt(418));n.flags=n.flags&-4097|2,ks=!1,gd=n}}}function RW(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;gd=n}function cP(n){if(n!==gd)return!1;if(!ks)return RW(n),ks=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!o$(n.type,n.memoizedProps)),e&&(e=hd)){if(c$(n))throw JJ(),Error(Yt(418));for(;e;)ZJ(n,e),e=uv(e.nextSibling)}if(RW(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Yt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){hd=uv(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}hd=null}}else hd=gd?uv(n.stateNode.nextSibling):null;return!0}function JJ(){for(var n=hd;n;)n=uv(n.nextSibling)}function R_(){hd=gd=null,ks=!1}function f9(n){fh===null?fh=[n]:fh.push(n)}var xye=Eg.ReactCurrentBatchConfig;function n2(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Yt(309));var r=t.stateNode}if(!r)throw Error(Yt(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=i.refs;a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(Yt(284));if(!t._owner)throw Error(Yt(290,n))}return n}function uP(n,e){throw n=Object.prototype.toString.call(e),Error(Yt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function PW(n){var e=n._init;return e(n._payload)}function eee(n){function e($,j){if(n){var B=$.deletions;B===null?($.deletions=[j],$.flags|=16):B.push(j)}}function t($,j){if(!n)return null;for(;j!==null;)e($,j),j=j.sibling;return null}function r($,j){for($=new Map;j!==null;)j.key!==null?$.set(j.key,j):$.set(j.index,j),j=j.sibling;return $}function i($,j){return $=pv($,j),$.index=0,$.sibling=null,$}function o($,j,B){return $.index=B,n?(B=$.alternate,B!==null?(B=B.index,B<j?($.flags|=2,j):B):($.flags|=2,j)):($.flags|=1048576,j)}function a($){return n&&$.alternate===null&&($.flags|=2),$}function c($,j,B,I){return j===null||j.tag!==6?(j=UL(B,$.mode,I),j.return=$,j):(j=i(j,B),j.return=$,j)}function u($,j,B,I){var Y=B.type;return Y===Cw?m($,j,B.props.children,I,B.key):j!==null&&(j.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Dy&&PW(Y)===j.type)?(I=i(j,B.props),I.ref=n2($,j,B),I.return=$,I):(I=FM(B.type,B.key,B.props,null,$.mode,I),I.ref=n2($,j,B),I.return=$,I)}function h($,j,B,I){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=GL(B,$.mode,I),j.return=$,j):(j=i(j,B.children||[]),j.return=$,j)}function m($,j,B,I,Y){return j===null||j.tag!==7?(j=q1(B,$.mode,I,Y),j.return=$,j):(j=i(j,B),j.return=$,j)}function v($,j,B){if(typeof j=="string"&&j!==""||typeof j=="number")return j=UL(""+j,$.mode,B),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case JR:return B=FM(j.type,j.key,j.props,null,$.mode,B),B.ref=n2($,null,j),B.return=$,B;case kw:return j=GL(j,$.mode,B),j.return=$,j;case Dy:var I=j._init;return v($,I(j._payload),B)}if(F2(j)||Xk(j))return j=q1(j,$.mode,B,null),j.return=$,j;uP($,j)}return null}function _($,j,B,I){var Y=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Y!==null?null:c($,j,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case JR:return B.key===Y?u($,j,B,I):null;case kw:return B.key===Y?h($,j,B,I):null;case Dy:return Y=B._init,_($,j,Y(B._payload),I)}if(F2(B)||Xk(B))return Y!==null?null:m($,j,B,I,null);uP($,B)}return null}function k($,j,B,I,Y){if(typeof I=="string"&&I!==""||typeof I=="number")return $=$.get(B)||null,c(j,$,""+I,Y);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case JR:return $=$.get(I.key===null?B:I.key)||null,u(j,$,I,Y);case kw:return $=$.get(I.key===null?B:I.key)||null,h(j,$,I,Y);case Dy:var oe=I._init;return k($,j,B,oe(I._payload),Y)}if(F2(I)||Xk(I))return $=$.get(B)||null,m(j,$,I,Y,null);uP(j,I)}return null}function R($,j,B,I){for(var Y=null,oe=null,ne=j,ae=j=0,Te=null;ne!==null&&ae<B.length;ae++){ne.index>ae?(Te=ne,ne=null):Te=ne.sibling;var Me=_($,ne,B[ae],I);if(Me===null){ne===null&&(ne=Te);break}n&&ne&&Me.alternate===null&&e($,ne),j=o(Me,j,ae),oe===null?Y=Me:oe.sibling=Me,oe=Me,ne=Te}if(ae===B.length)return t($,ne),ks&&v1($,ae),Y;if(ne===null){for(;ae<B.length;ae++)ne=v($,B[ae],I),ne!==null&&(j=o(ne,j,ae),oe===null?Y=ne:oe.sibling=ne,oe=ne);return ks&&v1($,ae),Y}for(ne=r($,ne);ae<B.length;ae++)Te=k(ne,$,ae,B[ae],I),Te!==null&&(n&&Te.alternate!==null&&ne.delete(Te.key===null?ae:Te.key),j=o(Te,j,ae),oe===null?Y=Te:oe.sibling=Te,oe=Te);return n&&ne.forEach(function(Ee){return e($,Ee)}),ks&&v1($,ae),Y}function T($,j,B,I){var Y=Xk(B);if(typeof Y!="function")throw Error(Yt(150));if(B=Y.call(B),B==null)throw Error(Yt(151));for(var oe=Y=null,ne=j,ae=j=0,Te=null,Me=B.next();ne!==null&&!Me.done;ae++,Me=B.next()){ne.index>ae?(Te=ne,ne=null):Te=ne.sibling;var Ee=_($,ne,Me.value,I);if(Ee===null){ne===null&&(ne=Te);break}n&&ne&&Ee.alternate===null&&e($,ne),j=o(Ee,j,ae),oe===null?Y=Ee:oe.sibling=Ee,oe=Ee,ne=Te}if(Me.done)return t($,ne),ks&&v1($,ae),Y;if(ne===null){for(;!Me.done;ae++,Me=B.next())Me=v($,Me.value,I),Me!==null&&(j=o(Me,j,ae),oe===null?Y=Me:oe.sibling=Me,oe=Me);return ks&&v1($,ae),Y}for(ne=r($,ne);!Me.done;ae++,Me=B.next())Me=k(ne,$,ae,Me.value,I),Me!==null&&(n&&Me.alternate!==null&&ne.delete(Me.key===null?ae:Me.key),j=o(Me,j,ae),oe===null?Y=Me:oe.sibling=Me,oe=Me);return n&&ne.forEach(function(we){return e($,we)}),ks&&v1($,ae),Y}function F($,j,B,I){if(typeof B=="object"&&B!==null&&B.type===Cw&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case JR:e:{for(var Y=B.key,oe=j;oe!==null;){if(oe.key===Y){if(Y=B.type,Y===Cw){if(oe.tag===7){t($,oe.sibling),j=i(oe,B.props.children),j.return=$,$=j;break e}}else if(oe.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Dy&&PW(Y)===oe.type){t($,oe.sibling),j=i(oe,B.props),j.ref=n2($,oe,B),j.return=$,$=j;break e}t($,oe);break}else e($,oe);oe=oe.sibling}B.type===Cw?(j=q1(B.props.children,$.mode,I,B.key),j.return=$,$=j):(I=FM(B.type,B.key,B.props,null,$.mode,I),I.ref=n2($,j,B),I.return=$,$=I)}return a($);case kw:e:{for(oe=B.key;j!==null;){if(j.key===oe)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){t($,j.sibling),j=i(j,B.children||[]),j.return=$,$=j;break e}else{t($,j);break}else e($,j);j=j.sibling}j=GL(B,$.mode,I),j.return=$,$=j}return a($);case Dy:return oe=B._init,F($,j,oe(B._payload),I)}if(F2(B))return R($,j,B,I);if(Xk(B))return T($,j,B,I);uP($,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,j!==null&&j.tag===6?(t($,j.sibling),j=i(j,B),j.return=$,$=j):(t($,j),j=UL(B,$.mode,I),j.return=$,$=j),a($)):t($,j)}return F}var P_=eee(!0),tee=eee(!1),kD=Wv(null),CD=null,Nw=null,h9=null;function p9(){h9=Nw=CD=null}function m9(n){var e=kD.current;cs(kD),n._currentValue=e}function d$(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Gw(n,e){CD=n,h9=Nw=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Su=!0),n.firstContext=null)}function bf(n){var e=n._currentValue;if(h9!==n)if(n={context:n,memoizedValue:e,next:null},Nw===null){if(CD===null)throw Error(Yt(308));Nw=n,CD.dependencies={lanes:0,firstContext:n}}else Nw=Nw.next=n;return e}var P1=null;function g9(n){P1===null?P1=[n]:P1.push(n)}function nee(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,g9(e)):(t.next=i.next,i.next=t),e.interleaved=t,hg(n,r)}function hg(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ny=!1;function y9(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ree(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ig(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function dv(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ji&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hg(n,t)}return i=r.interleaved,i===null?(e.next=e,g9(r)):(e.next=i.next,i.next=e),r.interleaved=e,hg(n,t)}function PM(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,n9(n,t)}}function MW(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function OD(n,e,t,r){var i=n.updateQueue;Ny=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,h=u.next;u.next=null,a===null?o=h:a.next=h,a=u;var m=n.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==a&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=u))}if(o!==null){var v=i.baseState;a=0,m=h=u=null,c=o;do{var _=c.lane,k=c.eventTime;if((r&_)===_){m!==null&&(m=m.next={eventTime:k,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var R=n,T=c;switch(_=e,k=t,T.tag){case 1:if(R=T.payload,typeof R=="function"){v=R.call(k,v,_);break e}v=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=T.payload,_=typeof R=="function"?R.call(k,v,_):R,_==null)break e;v=js({},v,_);break e;case 2:Ny=!0}}c.callback!==null&&c.lane!==0&&(n.flags|=64,_=i.effects,_===null?i.effects=[c]:_.push(c))}else k={eventTime:k,lane:_,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=k,u=v):m=m.next=k,a|=_;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;_=c,c=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(u=v),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);eb|=a,n.lanes=a,n.memoizedState=v}}function DW(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Yt(191,i));i.call(r)}}}var BO={},zp=Wv(BO),FC=Wv(BO),$C=Wv(BO);function M1(n){if(n===BO)throw Error(Yt(174));return n}function v9(n,e){switch(Xo($C,e),Xo(FC,n),Xo(zp,BO),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qF(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=qF(e,n)}cs(zp),Xo(zp,e)}function M_(){cs(zp),cs(FC),cs($C)}function iee(n){M1($C.current);var e=M1(zp.current),t=qF(e,n.type);e!==t&&(Xo(FC,n),Xo(zp,t))}function b9(n){FC.current===n&&(cs(zp),cs(FC))}var $s=Wv(0);function TD(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jL=[];function x9(){for(var n=0;n<jL.length;n++)jL[n]._workInProgressVersionPrimary=null;jL.length=0}var MM=Eg.ReactCurrentDispatcher,VL=Eg.ReactCurrentBatchConfig,J1=0,Bs=null,$a=null,ol=null,AD=!1,rC=!1,BC=0,wye=0;function Gl(){throw Error(Yt(321))}function w9(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Rh(n[t],e[t]))return!1;return!0}function _9(n,e,t,r,i,o){if(J1=o,Bs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,MM.current=n===null||n.memoizedState===null?kye:Cye,n=t(r,i),rC){o=0;do{if(rC=!1,BC=0,25<=o)throw Error(Yt(301));o+=1,ol=$a=null,e.updateQueue=null,MM.current=Oye,n=t(r,i)}while(rC)}if(MM.current=RD,e=$a!==null&&$a.next!==null,J1=0,ol=$a=Bs=null,AD=!1,e)throw Error(Yt(300));return n}function E9(){var n=BC!==0;return BC=0,n}function Sp(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ol===null?Bs.memoizedState=ol=n:ol=ol.next=n,ol}function xf(){if($a===null){var n=Bs.alternate;n=n!==null?n.memoizedState:null}else n=$a.next;var e=ol===null?Bs.memoizedState:ol.next;if(e!==null)ol=e,$a=n;else{if(n===null)throw Error(Yt(310));$a=n,n={memoizedState:$a.memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},ol===null?Bs.memoizedState=ol=n:ol=ol.next=n}return ol}function jC(n,e){return typeof e=="function"?e(n):e}function zL(n){var e=xf(),t=e.queue;if(t===null)throw Error(Yt(311));t.lastRenderedReducer=n;var r=$a,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=a=null,u=null,h=o;do{var m=h.lane;if((J1&m)===m)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:n(r,h.action);else{var v={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=v,a=r):u=u.next=v,Bs.lanes|=m,eb|=m}h=h.next}while(h!==null&&h!==o);u===null?a=r:u.next=c,Rh(r,e.memoizedState)||(Su=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,Bs.lanes|=o,eb|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function HL(n){var e=xf(),t=e.queue;if(t===null)throw Error(Yt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);Rh(o,e.memoizedState)||(Su=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function oee(){}function see(n,e){var t=Bs,r=xf(),i=e(),o=!Rh(r.memoizedState,i);if(o&&(r.memoizedState=i,Su=!0),r=r.queue,S9(cee.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||ol!==null&&ol.memoizedState.tag&1){if(t.flags|=2048,VC(9,lee.bind(null,t,r,i,e),void 0,null),cl===null)throw Error(Yt(349));J1&30||aee(t,e,i)}return i}function aee(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Bs.updateQueue,e===null?(e={lastEffect:null,stores:null},Bs.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function lee(n,e,t,r){e.value=t,e.getSnapshot=r,uee(e)&&dee(n)}function cee(n,e,t){return t(function(){uee(e)&&dee(n)})}function uee(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Rh(n,t)}catch{return!0}}function dee(n){var e=hg(n,1);e!==null&&Oh(e,n,1,-1)}function NW(n){var e=Sp();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jC,lastRenderedState:n},e.queue=n,n=n.dispatch=Sye.bind(null,Bs,n),[e.memoizedState,n]}function VC(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Bs.updateQueue,e===null?(e={lastEffect:null,stores:null},Bs.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function fee(){return xf().memoizedState}function DM(n,e,t,r){var i=Sp();Bs.flags|=n,i.memoizedState=VC(1|e,t,void 0,r===void 0?null:r)}function lN(n,e,t,r){var i=xf();r=r===void 0?null:r;var o=void 0;if($a!==null){var a=$a.memoizedState;if(o=a.destroy,r!==null&&w9(r,a.deps)){i.memoizedState=VC(e,t,o,r);return}}Bs.flags|=n,i.memoizedState=VC(1|e,t,o,r)}function IW(n,e){return DM(8390656,8,n,e)}function S9(n,e){return lN(2048,8,n,e)}function hee(n,e){return lN(4,2,n,e)}function pee(n,e){return lN(4,4,n,e)}function mee(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function gee(n,e,t){return t=t!=null?t.concat([n]):null,lN(4,4,mee.bind(null,e,n),t)}function k9(){}function yee(n,e){var t=xf();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&w9(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function vee(n,e){var t=xf();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&w9(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function bee(n,e,t){return J1&21?(Rh(t,e)||(t=SJ(),Bs.lanes|=t,eb|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Su=!0),n.memoizedState=t)}function _ye(n,e){var t=_o;_o=t!==0&&4>t?t:4,n(!0);var r=VL.transition;VL.transition={};try{n(!1),e()}finally{_o=t,VL.transition=r}}function xee(){return xf().memoizedState}function Eye(n,e,t){var r=hv(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},wee(n))_ee(e,t);else if(t=nee(n,e,t,r),t!==null){var i=Vc();Oh(t,n,r,i),Eee(t,e,r)}}function Sye(n,e,t){var r=hv(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(wee(n))_ee(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,t);if(i.hasEagerState=!0,i.eagerState=c,Rh(c,a)){var u=e.interleaved;u===null?(i.next=i,g9(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}t=nee(n,e,i,r),t!==null&&(i=Vc(),Oh(t,n,r,i),Eee(t,e,r))}}function wee(n){var e=n.alternate;return n===Bs||e!==null&&e===Bs}function _ee(n,e){rC=AD=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Eee(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,n9(n,t)}}var RD={readContext:bf,useCallback:Gl,useContext:Gl,useEffect:Gl,useImperativeHandle:Gl,useInsertionEffect:Gl,useLayoutEffect:Gl,useMemo:Gl,useReducer:Gl,useRef:Gl,useState:Gl,useDebugValue:Gl,useDeferredValue:Gl,useTransition:Gl,useMutableSource:Gl,useSyncExternalStore:Gl,useId:Gl,unstable_isNewReconciler:!1},kye={readContext:bf,useCallback:function(n,e){return Sp().memoizedState=[n,e===void 0?null:e],n},useContext:bf,useEffect:IW,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,DM(4194308,4,mee.bind(null,e,n),t)},useLayoutEffect:function(n,e){return DM(4194308,4,n,e)},useInsertionEffect:function(n,e){return DM(4,2,n,e)},useMemo:function(n,e){var t=Sp();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Sp();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=Eye.bind(null,Bs,n),[r.memoizedState,n]},useRef:function(n){var e=Sp();return n={current:n},e.memoizedState=n},useState:NW,useDebugValue:k9,useDeferredValue:function(n){return Sp().memoizedState=n},useTransition:function(){var n=NW(!1),e=n[0];return n=_ye.bind(null,n[1]),Sp().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Bs,i=Sp();if(ks){if(t===void 0)throw Error(Yt(407));t=t()}else{if(t=e(),cl===null)throw Error(Yt(349));J1&30||aee(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,IW(cee.bind(null,r,o,n),[n]),r.flags|=2048,VC(9,lee.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=Sp(),e=cl.identifierPrefix;if(ks){var t=Jm,r=Zm;t=(r&~(1<<32-Ch(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=BC++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=wye++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Cye={readContext:bf,useCallback:yee,useContext:bf,useEffect:S9,useImperativeHandle:gee,useInsertionEffect:hee,useLayoutEffect:pee,useMemo:vee,useReducer:zL,useRef:fee,useState:function(){return zL(jC)},useDebugValue:k9,useDeferredValue:function(n){var e=xf();return bee(e,$a.memoizedState,n)},useTransition:function(){var n=zL(jC)[0],e=xf().memoizedState;return[n,e]},useMutableSource:oee,useSyncExternalStore:see,useId:xee,unstable_isNewReconciler:!1},Oye={readContext:bf,useCallback:yee,useContext:bf,useEffect:S9,useImperativeHandle:gee,useInsertionEffect:hee,useLayoutEffect:pee,useMemo:vee,useReducer:HL,useRef:fee,useState:function(){return HL(jC)},useDebugValue:k9,useDeferredValue:function(n){var e=xf();return $a===null?e.memoizedState=n:bee(e,$a.memoizedState,n)},useTransition:function(){var n=HL(jC)[0],e=xf().memoizedState;return[n,e]},useMutableSource:oee,useSyncExternalStore:see,useId:xee,unstable_isNewReconciler:!1};function ch(n,e){if(n&&n.defaultProps){e=js({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function f$(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:js({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var cN={isMounted:function(n){return(n=n._reactInternals)?_b(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Vc(),i=hv(n),o=ig(r,i);o.payload=e,t!=null&&(o.callback=t),e=dv(n,o,i),e!==null&&(Oh(e,n,i,r),PM(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Vc(),i=hv(n),o=ig(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=dv(n,o,i),e!==null&&(Oh(e,n,i,r),PM(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Vc(),r=hv(n),i=ig(t,r);i.tag=2,e!=null&&(i.callback=e),e=dv(n,i,r),e!==null&&(Oh(e,n,r,t),PM(e,n,r))}};function LW(n,e,t,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!DC(t,r)||!DC(i,o):!0}function See(n,e,t){var r=!1,i=Ov,o=e.contextType;return typeof o=="object"&&o!==null?o=bf(o):(i=Cu(e)?X1:ic.current,r=e.contextTypes,o=(r=r!=null)?A_(n,i):Ov),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cN,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function FW(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&cN.enqueueReplaceState(e,e.state,null)}function h$(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},y9(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=bf(o):(o=Cu(e)?X1:ic.current,i.context=A_(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(f$(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cN.enqueueReplaceState(i,i.state,null),OD(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function D_(n,e){try{var t="",r=e;do t+=tge(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function WL(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function p$(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Tye=typeof WeakMap=="function"?WeakMap:Map;function kee(n,e,t){t=ig(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){MD||(MD=!0,S$=r),p$(n,e)},t}function Cee(n,e,t){t=ig(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){p$(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){p$(n,e),typeof r!="function"&&(fv===null?fv=new Set([this]):fv.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function $W(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Tye;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=zye.bind(null,n,e,t),e.then(n,n))}function BW(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function jW(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ig(-1,1),e.tag=2,dv(t,e,1))),t.lanes|=1),n)}var Aye=Eg.ReactCurrentOwner,Su=!1;function Lc(n,e,t,r){e.child=n===null?tee(e,null,t,r):P_(e,n.child,t,r)}function VW(n,e,t,r,i){t=t.render;var o=e.ref;return Gw(e,i),r=_9(n,e,t,r,o,i),t=E9(),n!==null&&!Su?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,pg(n,e,i)):(ks&&t&&u9(e),e.flags|=1,Lc(n,e,r,i),e.child)}function zW(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!D9(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,Oee(n,e,o,r,i)):(n=FM(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:DC,t(a,r)&&n.ref===e.ref)return pg(n,e,i)}return e.flags|=1,n=pv(o,r),n.ref=e.ref,n.return=e,e.child=n}function Oee(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(DC(o,r)&&n.ref===e.ref)if(Su=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(Su=!0);else return e.lanes=n.lanes,pg(n,e,i)}return m$(n,e,t,r,i)}function Tee(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xo(Lw,ad),ad|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Xo(Lw,ad),ad|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,Xo(Lw,ad),ad|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,Xo(Lw,ad),ad|=r;return Lc(n,e,i,t),e.child}function Aee(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function m$(n,e,t,r,i){var o=Cu(t)?X1:ic.current;return o=A_(e,o),Gw(e,i),t=_9(n,e,t,r,o,i),r=E9(),n!==null&&!Su?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,pg(n,e,i)):(ks&&r&&u9(e),e.flags|=1,Lc(n,e,t,i),e.child)}function HW(n,e,t,r,i){if(Cu(t)){var o=!0;_D(e)}else o=!1;if(Gw(e,i),e.stateNode===null)NM(n,e),See(e,t,r),h$(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,h=t.contextType;typeof h=="object"&&h!==null?h=bf(h):(h=Cu(t)?X1:ic.current,h=A_(e,h));var m=t.getDerivedStateFromProps,v=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==h)&&FW(e,a,r,h),Ny=!1;var _=e.memoizedState;a.state=_,OD(e,r,a,i),u=e.memoizedState,c!==r||_!==u||ku.current||Ny?(typeof m=="function"&&(f$(e,t,m,r),u=e.memoizedState),(c=Ny||LW(e,t,c,r,_,u,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ree(n,e),c=e.memoizedProps,h=e.type===e.elementType?c:ch(e.type,c),a.props=h,v=e.pendingProps,_=a.context,u=t.contextType,typeof u=="object"&&u!==null?u=bf(u):(u=Cu(t)?X1:ic.current,u=A_(e,u));var k=t.getDerivedStateFromProps;(m=typeof k=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==v||_!==u)&&FW(e,a,r,u),Ny=!1,_=e.memoizedState,a.state=_,OD(e,r,a,i);var R=e.memoizedState;c!==v||_!==R||ku.current||Ny?(typeof k=="function"&&(f$(e,t,k,r),R=e.memoizedState),(h=Ny||LW(e,t,h,r,_,R,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,R,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,R,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===n.memoizedProps&&_===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&_===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),a.props=r,a.state=R,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||c===n.memoizedProps&&_===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&_===n.memoizedState||(e.flags|=1024),r=!1)}return g$(n,e,t,r,o,i)}function g$(n,e,t,r,i,o){Aee(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&TW(e,t,!1),pg(n,e,o);r=e.stateNode,Aye.current=e;var c=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=P_(e,n.child,null,o),e.child=P_(e,null,c,o)):Lc(n,e,c,o),e.memoizedState=r.state,i&&TW(e,t,!0),e.child}function Ree(n){var e=n.stateNode;e.pendingContext?OW(n,e.pendingContext,e.pendingContext!==e.context):e.context&&OW(n,e.context,!1),v9(n,e.containerInfo)}function WW(n,e,t,r,i){return R_(),f9(i),e.flags|=256,Lc(n,e,t,r),e.child}var y$={dehydrated:null,treeContext:null,retryLane:0};function v$(n){return{baseLanes:n,cachePool:null,transitions:null}}function Pee(n,e,t){var r=e.pendingProps,i=$s.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=n!==null&&n.memoizedState===null?!1:(i&2)!==0),c?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Xo($s,i&1),n===null)return u$(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=fN(a,r,0,null),n=q1(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=v$(t),e.memoizedState=y$,n):C9(e,a));if(i=n.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Rye(n,e,a,r,c,i,t);if(o){o=r.fallback,a=e.mode,i=n.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=pv(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=pv(c,o):(o=q1(o,a,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=n.child.memoizedState,a=a===null?v$(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~t,e.memoizedState=y$,r}return o=n.child,n=o.sibling,r=pv(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function C9(n,e){return e=fN({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function dP(n,e,t,r){return r!==null&&f9(r),P_(e,n.child,null,t),n=C9(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Rye(n,e,t,r,i,o,a){if(t)return e.flags&256?(e.flags&=-257,r=WL(Error(Yt(422))),dP(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fN({mode:"visible",children:r.children},i,0,null),o=q1(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&P_(e,n.child,null,a),e.child.memoizedState=v$(a),e.memoizedState=y$,o);if(!(e.mode&1))return dP(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(Yt(419)),r=WL(o,r,void 0),dP(n,e,a,r)}if(c=(a&n.childLanes)!==0,Su||c){if(r=cl,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hg(n,i),Oh(r,n,i,-1))}return M9(),r=WL(Error(Yt(421))),dP(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Hye.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,hd=uv(i.nextSibling),gd=e,ks=!0,fh=null,n!==null&&(rf[of++]=Zm,rf[of++]=Jm,rf[of++]=Z1,Zm=n.id,Jm=n.overflow,Z1=e),e=C9(e,r.children),e.flags|=4096,e)}function qW(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),d$(n.return,e,t)}function qL(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function Mee(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Lc(n,e,r.children,t),r=$s.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qW(n,t,e);else if(n.tag===19)qW(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Xo($s,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&TD(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),qL(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&TD(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}qL(e,!0,t,null,o);break;case"together":qL(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function NM(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function pg(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),eb|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Yt(153));if(e.child!==null){for(n=e.child,t=pv(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=pv(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Pye(n,e,t){switch(e.tag){case 3:Ree(e),R_();break;case 5:iee(e);break;case 1:Cu(e.type)&&_D(e);break;case 4:v9(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xo(kD,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xo($s,$s.current&1),e.flags|=128,null):t&e.child.childLanes?Pee(n,e,t):(Xo($s,$s.current&1),n=pg(n,e,t),n!==null?n.sibling:null);Xo($s,$s.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Mee(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xo($s,$s.current),r)break;return null;case 22:case 23:return e.lanes=0,Tee(n,e,t)}return pg(n,e,t)}var Dee,b$,Nee,Iee;Dee=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};b$=function(){};Nee=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,M1(zp.current);var o=null;switch(t){case"input":i=VF(n,i),r=VF(n,r),o=[];break;case"select":i=js({},i,{value:void 0}),r=js({},r,{value:void 0}),o=[];break;case"textarea":i=WF(n,i),r=WF(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=xD)}UF(t,r);var a;t=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(a in c)c.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(CC.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(t||(t={}),t[a]=u[a])}else t||(o||(o=[]),o.push(h,t)),t=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(CC.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&os("scroll",n),o||c===u||(o=[])):(o=o||[]).push(h,u))}t&&(o=o||[]).push("style",t);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Iee=function(n,e,t,r){t!==r&&(e.flags|=4)};function r2(n,e){if(!ks)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Yl(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Mye(n,e,t){var r=e.pendingProps;switch(d9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yl(e),null;case 1:return Cu(e.type)&&wD(),Yl(e),null;case 3:return r=e.stateNode,M_(),cs(ku),cs(ic),x9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(cP(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fh!==null&&(O$(fh),fh=null))),b$(n,e),Yl(e),null;case 5:b9(e);var i=M1($C.current);if(t=e.type,n!==null&&e.stateNode!=null)Nee(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Yt(166));return Yl(e),null}if(n=M1(zp.current),cP(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[Pp]=e,r[LC]=o,n=(e.mode&1)!==0,t){case"dialog":os("cancel",r),os("close",r);break;case"iframe":case"object":case"embed":os("load",r);break;case"video":case"audio":for(i=0;i<B2.length;i++)os(B2[i],r);break;case"source":os("error",r);break;case"img":case"image":case"link":os("error",r),os("load",r);break;case"details":os("toggle",r);break;case"input":eW(r,o),os("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},os("invalid",r);break;case"textarea":nW(r,o),os("invalid",r)}UF(t,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&lP(r.textContent,c,n),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&lP(r.textContent,c,n),i=["children",""+c]):CC.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&os("scroll",r)}switch(t){case"input":eP(r),tW(r,o,!0);break;case"textarea":eP(r),rW(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xD)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=cJ(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Pp]=e,n[LC]=r,Dee(n,e,!1,!1),e.stateNode=n;e:{switch(a=GF(t,r),t){case"dialog":os("cancel",n),os("close",n),i=r;break;case"iframe":case"object":case"embed":os("load",n),i=r;break;case"video":case"audio":for(i=0;i<B2.length;i++)os(B2[i],n);i=r;break;case"source":os("error",n),i=r;break;case"img":case"image":case"link":os("error",n),os("load",n),i=r;break;case"details":os("toggle",n),i=r;break;case"input":eW(n,r),i=VF(n,r),os("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=js({},r,{value:void 0}),os("invalid",n);break;case"textarea":nW(n,r),i=WF(n,r),os("invalid",n);break;default:i=r}UF(t,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?fJ(n,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&uJ(n,u)):o==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&OC(n,u):typeof u=="number"&&OC(n,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(CC.hasOwnProperty(o)?u!=null&&o==="onScroll"&&os("scroll",n):u!=null&&Kj(n,o,u,a))}switch(t){case"input":eP(n),tW(n,r,!1);break;case"textarea":eP(n),rW(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Cv(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Hw(n,!!r.multiple,o,!1):r.defaultValue!=null&&Hw(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=xD)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yl(e),null;case 6:if(n&&e.stateNode!=null)Iee(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Yt(166));if(t=M1($C.current),M1(zp.current),cP(e)){if(r=e.stateNode,t=e.memoizedProps,r[Pp]=e,(o=r.nodeValue!==t)&&(n=gd,n!==null))switch(n.tag){case 3:lP(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&lP(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Pp]=e,e.stateNode=r}return Yl(e),null;case 13:if(cs($s),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ks&&hd!==null&&e.mode&1&&!(e.flags&128))JJ(),R_(),e.flags|=98560,o=!1;else if(o=cP(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(Yt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Yt(317));o[Pp]=e}else R_(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yl(e),o=!1}else fh!==null&&(O$(fh),fh=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||$s.current&1?Va===0&&(Va=3):M9())),e.updateQueue!==null&&(e.flags|=4),Yl(e),null);case 4:return M_(),b$(n,e),n===null&&NC(e.stateNode.containerInfo),Yl(e),null;case 10:return m9(e.type._context),Yl(e),null;case 17:return Cu(e.type)&&wD(),Yl(e),null;case 19:if(cs($s),o=e.memoizedState,o===null)return Yl(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)r2(o,!1);else{if(Va!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=TD(n),a!==null){for(e.flags|=128,r2(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Xo($s,$s.current&1|2),e.child}n=n.sibling}o.tail!==null&&ca()>N_&&(e.flags|=128,r=!0,r2(o,!1),e.lanes=4194304)}else{if(!r)if(n=TD(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),r2(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ks)return Yl(e),null}else 2*ca()-o.renderingStartTime>N_&&t!==1073741824&&(e.flags|=128,r=!0,r2(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(t=o.last,t!==null?t.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ca(),e.sibling=null,t=$s.current,Xo($s,r?t&1|2:t&1),e):(Yl(e),null);case 22:case 23:return P9(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ad&1073741824&&(Yl(e),e.subtreeFlags&6&&(e.flags|=8192)):Yl(e),null;case 24:return null;case 25:return null}throw Error(Yt(156,e.tag))}function Dye(n,e){switch(d9(e),e.tag){case 1:return Cu(e.type)&&wD(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return M_(),cs(ku),cs(ic),x9(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return b9(e),null;case 13:if(cs($s),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Yt(340));R_()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return cs($s),null;case 4:return M_(),null;case 10:return m9(e.type._context),null;case 22:case 23:return P9(),null;case 24:return null;default:return null}}var fP=!1,Jl=!1,Nye=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function Iw(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Xs(n,e,r)}else t.current=null}function x$(n,e,t){try{t()}catch(r){Xs(n,e,r)}}var UW=!1;function Iye(n,e){if(r$=yD,n=jJ(),c9(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var a=0,c=-1,u=-1,h=0,m=0,v=n,_=null;t:for(;;){for(var k;v!==t||i!==0&&v.nodeType!==3||(c=a+i),v!==o||r!==0&&v.nodeType!==3||(u=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(k=v.firstChild)!==null;)_=v,v=k;for(;;){if(v===n)break t;if(_===t&&++h===i&&(c=a),_===o&&++m===r&&(u=a),(k=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=k}t=c===-1||u===-1?null:{start:c,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(i$={focusedElem:n,selectionRange:t},yD=!1,Fn=e;Fn!==null;)if(e=Fn,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Fn=n;else for(;Fn!==null;){e=Fn;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var T=R.memoizedProps,F=R.memoizedState,$=e.stateNode,j=$.getSnapshotBeforeUpdate(e.elementType===e.type?T:ch(e.type,T),F);$.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Yt(163))}}catch(I){Xs(e,e.return,I)}if(n=e.sibling,n!==null){n.return=e.return,Fn=n;break}Fn=e.return}return R=UW,UW=!1,R}function iC(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&x$(e,t,o)}i=i.next}while(i!==r)}}function uN(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function w$(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Lee(n){var e=n.alternate;e!==null&&(n.alternate=null,Lee(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Pp],delete e[LC],delete e[a$],delete e[yye],delete e[vye])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Fee(n){return n.tag===5||n.tag===3||n.tag===4}function GW(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Fee(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _$(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=xD));else if(r!==4&&(n=n.child,n!==null))for(_$(n,e,t),n=n.sibling;n!==null;)_$(n,e,t),n=n.sibling}function E$(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(E$(n,e,t),n=n.sibling;n!==null;)E$(n,e,t),n=n.sibling}var Sl=null,dh=!1;function Sy(n,e,t){for(t=t.child;t!==null;)$ee(n,e,t),t=t.sibling}function $ee(n,e,t){if(Vp&&typeof Vp.onCommitFiberUnmount=="function")try{Vp.onCommitFiberUnmount(nN,t)}catch{}switch(t.tag){case 5:Jl||Iw(t,e);case 6:var r=Sl,i=dh;Sl=null,Sy(n,e,t),Sl=r,dh=i,Sl!==null&&(dh?(n=Sl,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Sl.removeChild(t.stateNode));break;case 18:Sl!==null&&(dh?(n=Sl,t=t.stateNode,n.nodeType===8?$L(n.parentNode,t):n.nodeType===1&&$L(n,t),PC(n)):$L(Sl,t.stateNode));break;case 4:r=Sl,i=dh,Sl=t.stateNode.containerInfo,dh=!0,Sy(n,e,t),Sl=r,dh=i;break;case 0:case 11:case 14:case 15:if(!Jl&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&x$(t,e,a),i=i.next}while(i!==r)}Sy(n,e,t);break;case 1:if(!Jl&&(Iw(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(c){Xs(t,e,c)}Sy(n,e,t);break;case 21:Sy(n,e,t);break;case 22:t.mode&1?(Jl=(r=Jl)||t.memoizedState!==null,Sy(n,e,t),Jl=r):Sy(n,e,t);break;default:Sy(n,e,t)}}function YW(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Nye),e.forEach(function(r){var i=Wye.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function nh(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:Sl=c.stateNode,dh=!1;break e;case 3:Sl=c.stateNode.containerInfo,dh=!0;break e;case 4:Sl=c.stateNode.containerInfo,dh=!0;break e}c=c.return}if(Sl===null)throw Error(Yt(160));$ee(o,a,i),Sl=null,dh=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Xs(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bee(e,n),e=e.sibling}function Bee(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(nh(e,n),yp(n),r&4){try{iC(3,n,n.return),uN(3,n)}catch(T){Xs(n,n.return,T)}try{iC(5,n,n.return)}catch(T){Xs(n,n.return,T)}}break;case 1:nh(e,n),yp(n),r&512&&t!==null&&Iw(t,t.return);break;case 5:if(nh(e,n),yp(n),r&512&&t!==null&&Iw(t,t.return),n.flags&32){var i=n.stateNode;try{OC(i,"")}catch(T){Xs(n,n.return,T)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,a=t!==null?t.memoizedProps:o,c=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&aJ(i,o),GF(c,a);var h=GF(c,o);for(a=0;a<u.length;a+=2){var m=u[a],v=u[a+1];m==="style"?fJ(i,v):m==="dangerouslySetInnerHTML"?uJ(i,v):m==="children"?OC(i,v):Kj(i,m,v,h)}switch(c){case"input":zF(i,o);break;case"textarea":lJ(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var k=o.value;k!=null?Hw(i,!!o.multiple,k,!1):_!==!!o.multiple&&(o.defaultValue!=null?Hw(i,!!o.multiple,o.defaultValue,!0):Hw(i,!!o.multiple,o.multiple?[]:"",!1))}i[LC]=o}catch(T){Xs(n,n.return,T)}}break;case 6:if(nh(e,n),yp(n),r&4){if(n.stateNode===null)throw Error(Yt(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(T){Xs(n,n.return,T)}}break;case 3:if(nh(e,n),yp(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{PC(e.containerInfo)}catch(T){Xs(n,n.return,T)}break;case 4:nh(e,n),yp(n);break;case 13:nh(e,n),yp(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(A9=ca())),r&4&&YW(n);break;case 22:if(m=t!==null&&t.memoizedState!==null,n.mode&1?(Jl=(h=Jl)||m,nh(e,n),Jl=h):nh(e,n),yp(n),r&8192){if(h=n.memoizedState!==null,(n.stateNode.isHidden=h)&&!m&&n.mode&1)for(Fn=n,m=n.child;m!==null;){for(v=Fn=m;Fn!==null;){switch(_=Fn,k=_.child,_.tag){case 0:case 11:case 14:case 15:iC(4,_,_.return);break;case 1:Iw(_,_.return);var R=_.stateNode;if(typeof R.componentWillUnmount=="function"){r=_,t=_.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(T){Xs(r,t,T)}}break;case 5:Iw(_,_.return);break;case 22:if(_.memoizedState!==null){KW(v);continue}}k!==null?(k.return=_,Fn=k):KW(v)}m=m.sibling}e:for(m=null,v=n;;){if(v.tag===5){if(m===null){m=v;try{i=v.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=v.stateNode,u=v.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=dJ("display",a))}catch(T){Xs(n,n.return,T)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(T){Xs(n,n.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===n)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:nh(e,n),yp(n),r&4&&YW(n);break;case 21:break;default:nh(e,n),yp(n)}}function yp(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Fee(t)){var r=t;break e}t=t.return}throw Error(Yt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(OC(i,""),r.flags&=-33);var o=GW(n);E$(n,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=GW(n);_$(n,c,a);break;default:throw Error(Yt(161))}}catch(u){Xs(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Lye(n,e,t){Fn=n,jee(n)}function jee(n,e,t){for(var r=(n.mode&1)!==0;Fn!==null;){var i=Fn,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||fP;if(!a){var c=i.alternate,u=c!==null&&c.memoizedState!==null||Jl;c=fP;var h=Jl;if(fP=a,(Jl=u)&&!h)for(Fn=i;Fn!==null;)a=Fn,u=a.child,a.tag===22&&a.memoizedState!==null?XW(i):u!==null?(u.return=a,Fn=u):XW(i);for(;o!==null;)Fn=o,jee(o),o=o.sibling;Fn=i,fP=c,Jl=h}QW(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Fn=o):QW(n)}}function QW(n){for(;Fn!==null;){var e=Fn;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jl||uN(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jl)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ch(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&DW(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}DW(e,a,t)}break;case 5:var c=e.stateNode;if(t===null&&e.flags&4){t=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&PC(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Yt(163))}Jl||e.flags&512&&w$(e)}catch(_){Xs(e,e.return,_)}}if(e===n){Fn=null;break}if(t=e.sibling,t!==null){t.return=e.return,Fn=t;break}Fn=e.return}}function KW(n){for(;Fn!==null;){var e=Fn;if(e===n){Fn=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Fn=t;break}Fn=e.return}}function XW(n){for(;Fn!==null;){var e=Fn;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{uN(4,e)}catch(u){Xs(e,t,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Xs(e,i,u)}}var o=e.return;try{w$(e)}catch(u){Xs(e,o,u)}break;case 5:var a=e.return;try{w$(e)}catch(u){Xs(e,a,u)}}}catch(u){Xs(e,e.return,u)}if(e===n){Fn=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Fn=c;break}Fn=e.return}}var Fye=Math.ceil,PD=Eg.ReactCurrentDispatcher,O9=Eg.ReactCurrentOwner,mf=Eg.ReactCurrentBatchConfig,ji=0,cl=null,Sa=null,Pl=0,ad=0,Lw=Wv(0),Va=0,zC=null,eb=0,dN=0,T9=0,oC=null,xu=null,A9=0,N_=1/0,Wm=null,MD=!1,S$=null,fv=null,hP=!1,tv=null,DD=0,sC=0,k$=null,IM=-1,LM=0;function Vc(){return ji&6?ca():IM!==-1?IM:IM=ca()}function hv(n){return n.mode&1?ji&2&&Pl!==0?Pl&-Pl:xye.transition!==null?(LM===0&&(LM=SJ()),LM):(n=_o,n!==0||(n=window.event,n=n===void 0?16:PJ(n.type)),n):1}function Oh(n,e,t,r){if(50<sC)throw sC=0,k$=null,Error(Yt(185));LO(n,t,r),(!(ji&2)||n!==cl)&&(n===cl&&(!(ji&2)&&(dN|=t),Va===4&&By(n,Pl)),Ou(n,r),t===1&&ji===0&&!(e.mode&1)&&(N_=ca()+500,aN&&qv()))}function Ou(n,e){var t=n.callbackNode;xge(n,e);var r=gD(n,n===cl?Pl:0);if(r===0)t!==null&&sW(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&sW(t),e===1)n.tag===0?bye(ZW.bind(null,n)):KJ(ZW.bind(null,n)),mye(function(){!(ji&6)&&qv()}),t=null;else{switch(kJ(r)){case 1:t=t9;break;case 4:t=_J;break;case 16:t=mD;break;case 536870912:t=EJ;break;default:t=mD}t=Yee(t,Vee.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Vee(n,e){if(IM=-1,LM=0,ji&6)throw Error(Yt(327));var t=n.callbackNode;if(Yw()&&n.callbackNode!==t)return null;var r=gD(n,n===cl?Pl:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=ND(n,r);else{e=r;var i=ji;ji|=2;var o=Hee();(cl!==n||Pl!==e)&&(Wm=null,N_=ca()+500,W1(n,e));do try{jye();break}catch(c){zee(n,c)}while(!0);p9(),PD.current=o,ji=i,Sa!==null?e=0:(cl=null,Pl=0,e=Va)}if(e!==0){if(e===2&&(i=ZF(n),i!==0&&(r=i,e=C$(n,i))),e===1)throw t=zC,W1(n,0),By(n,r),Ou(n,ca()),t;if(e===6)By(n,r);else{if(i=n.current.alternate,!(r&30)&&!$ye(i)&&(e=ND(n,r),e===2&&(o=ZF(n),o!==0&&(r=o,e=C$(n,o))),e===1))throw t=zC,W1(n,0),By(n,r),Ou(n,ca()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Yt(345));case 2:b1(n,xu,Wm);break;case 3:if(By(n,r),(r&130023424)===r&&(e=A9+500-ca(),10<e)){if(gD(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Vc(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=s$(b1.bind(null,n,xu,Wm),e);break}b1(n,xu,Wm);break;case 4:if(By(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-Ch(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ca()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fye(r/1960))-r,10<r){n.timeoutHandle=s$(b1.bind(null,n,xu,Wm),r);break}b1(n,xu,Wm);break;case 5:b1(n,xu,Wm);break;default:throw Error(Yt(329))}}}return Ou(n,ca()),n.callbackNode===t?Vee.bind(null,n):null}function C$(n,e){var t=oC;return n.current.memoizedState.isDehydrated&&(W1(n,e).flags|=256),n=ND(n,e),n!==2&&(e=xu,xu=t,e!==null&&O$(e)),n}function O$(n){xu===null?xu=n:xu.push.apply(xu,n)}function $ye(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!Rh(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function By(n,e){for(e&=~T9,e&=~dN,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ch(e),r=1<<t;n[t]=-1,e&=~r}}function ZW(n){if(ji&6)throw Error(Yt(327));Yw();var e=gD(n,0);if(!(e&1))return Ou(n,ca()),null;var t=ND(n,e);if(n.tag!==0&&t===2){var r=ZF(n);r!==0&&(e=r,t=C$(n,r))}if(t===1)throw t=zC,W1(n,0),By(n,e),Ou(n,ca()),t;if(t===6)throw Error(Yt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,b1(n,xu,Wm),Ou(n,ca()),null}function R9(n,e){var t=ji;ji|=1;try{return n(e)}finally{ji=t,ji===0&&(N_=ca()+500,aN&&qv())}}function tb(n){tv!==null&&tv.tag===0&&!(ji&6)&&Yw();var e=ji;ji|=1;var t=mf.transition,r=_o;try{if(mf.transition=null,_o=1,n)return n()}finally{_o=r,mf.transition=t,ji=e,!(ji&6)&&qv()}}function P9(){ad=Lw.current,cs(Lw)}function W1(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,pye(t)),Sa!==null)for(t=Sa.return;t!==null;){var r=t;switch(d9(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wD();break;case 3:M_(),cs(ku),cs(ic),x9();break;case 5:b9(r);break;case 4:M_();break;case 13:cs($s);break;case 19:cs($s);break;case 10:m9(r.type._context);break;case 22:case 23:P9()}t=t.return}if(cl=n,Sa=n=pv(n.current,null),Pl=ad=e,Va=0,zC=null,T9=dN=eb=0,xu=oC=null,P1!==null){for(e=0;e<P1.length;e++)if(t=P1[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}t.pending=r}P1=null}return n}function zee(n,e){do{var t=Sa;try{if(p9(),MM.current=RD,AD){for(var r=Bs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}AD=!1}if(J1=0,ol=$a=Bs=null,rC=!1,BC=0,O9.current=null,t===null||t.return===null){Va=1,zC=e,Sa=null;break}e:{var o=n,a=t.return,c=t,u=e;if(e=Pl,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,m=c,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var k=BW(a);if(k!==null){k.flags&=-257,jW(k,a,c,o,e),k.mode&1&&$W(o,h,e),e=k,u=h;var R=e.updateQueue;if(R===null){var T=new Set;T.add(u),e.updateQueue=T}else R.add(u);break e}else{if(!(e&1)){$W(o,h,e),M9();break e}u=Error(Yt(426))}}else if(ks&&c.mode&1){var F=BW(a);if(F!==null){!(F.flags&65536)&&(F.flags|=256),jW(F,a,c,o,e),f9(D_(u,c));break e}}o=u=D_(u,c),Va!==4&&(Va=2),oC===null?oC=[o]:oC.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var $=kee(o,u,e);MW(o,$);break e;case 1:c=u;var j=o.type,B=o.stateNode;if(!(o.flags&128)&&(typeof j.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(fv===null||!fv.has(B)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=Cee(o,c,e);MW(o,I);break e}}o=o.return}while(o!==null)}qee(t)}catch(Y){e=Y,Sa===t&&t!==null&&(Sa=t=t.return);continue}break}while(!0)}function Hee(){var n=PD.current;return PD.current=RD,n===null?RD:n}function M9(){(Va===0||Va===3||Va===2)&&(Va=4),cl===null||!(eb&268435455)&&!(dN&268435455)||By(cl,Pl)}function ND(n,e){var t=ji;ji|=2;var r=Hee();(cl!==n||Pl!==e)&&(Wm=null,W1(n,e));do try{Bye();break}catch(i){zee(n,i)}while(!0);if(p9(),ji=t,PD.current=r,Sa!==null)throw Error(Yt(261));return cl=null,Pl=0,Va}function Bye(){for(;Sa!==null;)Wee(Sa)}function jye(){for(;Sa!==null&&!dge();)Wee(Sa)}function Wee(n){var e=Gee(n.alternate,n,ad);n.memoizedProps=n.pendingProps,e===null?qee(n):Sa=e,O9.current=null}function qee(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Dye(t,e),t!==null){t.flags&=32767,Sa=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Va=6,Sa=null;return}}else if(t=Mye(t,e,ad),t!==null){Sa=t;return}if(e=e.sibling,e!==null){Sa=e;return}Sa=e=n}while(e!==null);Va===0&&(Va=5)}function b1(n,e,t){var r=_o,i=mf.transition;try{mf.transition=null,_o=1,Vye(n,e,t,r)}finally{mf.transition=i,_o=r}return null}function Vye(n,e,t,r){do Yw();while(tv!==null);if(ji&6)throw Error(Yt(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Yt(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(wge(n,o),n===cl&&(Sa=cl=null,Pl=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||hP||(hP=!0,Yee(mD,function(){return Yw(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=mf.transition,mf.transition=null;var a=_o;_o=1;var c=ji;ji|=4,O9.current=null,Iye(n,t),Bee(t,n),aye(i$),yD=!!r$,i$=r$=null,n.current=t,Lye(t),fge(),ji=c,_o=a,mf.transition=o}else n.current=t;if(hP&&(hP=!1,tv=n,DD=i),o=n.pendingLanes,o===0&&(fv=null),mge(t.stateNode),Ou(n,ca()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(MD)throw MD=!1,n=S$,S$=null,n;return DD&1&&n.tag!==0&&Yw(),o=n.pendingLanes,o&1?n===k$?sC++:(sC=0,k$=n):sC=0,qv(),null}function Yw(){if(tv!==null){var n=kJ(DD),e=mf.transition,t=_o;try{if(mf.transition=null,_o=16>n?16:n,tv===null)var r=!1;else{if(n=tv,tv=null,DD=0,ji&6)throw Error(Yt(331));var i=ji;for(ji|=4,Fn=n.current;Fn!==null;){var o=Fn,a=o.child;if(Fn.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(Fn=h;Fn!==null;){var m=Fn;switch(m.tag){case 0:case 11:case 15:iC(8,m,o)}var v=m.child;if(v!==null)v.return=m,Fn=v;else for(;Fn!==null;){m=Fn;var _=m.sibling,k=m.return;if(Lee(m),m===h){Fn=null;break}if(_!==null){_.return=k,Fn=_;break}Fn=k}}}var R=o.alternate;if(R!==null){var T=R.child;if(T!==null){R.child=null;do{var F=T.sibling;T.sibling=null,T=F}while(T!==null)}}Fn=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Fn=a;else e:for(;Fn!==null;){if(o=Fn,o.flags&2048)switch(o.tag){case 0:case 11:case 15:iC(9,o,o.return)}var $=o.sibling;if($!==null){$.return=o.return,Fn=$;break e}Fn=o.return}}var j=n.current;for(Fn=j;Fn!==null;){a=Fn;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,Fn=B;else e:for(a=j;Fn!==null;){if(c=Fn,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:uN(9,c)}}catch(Y){Xs(c,c.return,Y)}if(c===a){Fn=null;break e}var I=c.sibling;if(I!==null){I.return=c.return,Fn=I;break e}Fn=c.return}}if(ji=i,qv(),Vp&&typeof Vp.onPostCommitFiberRoot=="function")try{Vp.onPostCommitFiberRoot(nN,n)}catch{}r=!0}return r}finally{_o=t,mf.transition=e}}return!1}function JW(n,e,t){e=D_(t,e),e=kee(n,e,1),n=dv(n,e,1),e=Vc(),n!==null&&(LO(n,1,e),Ou(n,e))}function Xs(n,e,t){if(n.tag===3)JW(n,n,t);else for(;e!==null;){if(e.tag===3){JW(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fv===null||!fv.has(r))){n=D_(t,n),n=Cee(e,n,1),e=dv(e,n,1),n=Vc(),e!==null&&(LO(e,1,n),Ou(e,n));break}}e=e.return}}function zye(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Vc(),n.pingedLanes|=n.suspendedLanes&t,cl===n&&(Pl&t)===t&&(Va===4||Va===3&&(Pl&130023424)===Pl&&500>ca()-A9?W1(n,0):T9|=t),Ou(n,e)}function Uee(n,e){e===0&&(n.mode&1?(e=rP,rP<<=1,!(rP&130023424)&&(rP=4194304)):e=1);var t=Vc();n=hg(n,e),n!==null&&(LO(n,e,t),Ou(n,t))}function Hye(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Uee(n,t)}function Wye(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Yt(314))}r!==null&&r.delete(e),Uee(n,t)}var Gee;Gee=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ku.current)Su=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Su=!1,Pye(n,e,t);Su=!!(n.flags&131072)}else Su=!1,ks&&e.flags&1048576&&XJ(e,SD,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;NM(n,e),n=e.pendingProps;var i=A_(e,ic.current);Gw(e,t),i=_9(null,e,r,n,i,t);var o=E9();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cu(r)?(o=!0,_D(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y9(e),i.updater=cN,e.stateNode=i,i._reactInternals=e,h$(e,r,n,t),e=g$(null,e,r,!0,o,t)):(e.tag=0,ks&&o&&u9(e),Lc(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(NM(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Uye(r),n=ch(r,n),i){case 0:e=m$(null,e,r,n,t);break e;case 1:e=HW(null,e,r,n,t);break e;case 11:e=VW(null,e,r,n,t);break e;case 14:e=zW(null,e,r,ch(r.type,n),t);break e}throw Error(Yt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ch(r,i),m$(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ch(r,i),HW(n,e,r,i,t);case 3:e:{if(Ree(e),n===null)throw Error(Yt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ree(n,e),OD(e,r,null,t);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=D_(Error(Yt(423)),e),e=WW(n,e,r,t,i);break e}else if(r!==i){i=D_(Error(Yt(424)),e),e=WW(n,e,r,t,i);break e}else for(hd=uv(e.stateNode.containerInfo.firstChild),gd=e,ks=!0,fh=null,t=tee(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(R_(),r===i){e=pg(n,e,t);break e}Lc(n,e,r,t)}e=e.child}return e;case 5:return iee(e),n===null&&u$(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,a=i.children,o$(r,i)?a=null:o!==null&&o$(r,o)&&(e.flags|=32),Aee(n,e),Lc(n,e,a,t),e.child;case 6:return n===null&&u$(e),null;case 13:return Pee(n,e,t);case 4:return v9(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=P_(e,null,r,t):Lc(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ch(r,i),VW(n,e,r,i,t);case 7:return Lc(n,e,e.pendingProps,t),e.child;case 8:return Lc(n,e,e.pendingProps.children,t),e.child;case 12:return Lc(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Xo(kD,r._currentValue),r._currentValue=a,o!==null)if(Rh(o.value,a)){if(o.children===i.children&&!ku.current){e=pg(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=ig(-1,t&-t),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?u.next=u:(u.next=m.next,m.next=u),h.pending=u}}o.lanes|=t,u=o.alternate,u!==null&&(u.lanes|=t),d$(o.return,t,e),c.lanes|=t;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Yt(341));a.lanes|=t,c=a.alternate,c!==null&&(c.lanes|=t),d$(a,t,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Lc(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gw(e,t),i=bf(i),r=r(i),e.flags|=1,Lc(n,e,r,t),e.child;case 14:return r=e.type,i=ch(r,e.pendingProps),i=ch(r.type,i),zW(n,e,r,i,t);case 15:return Oee(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ch(r,i),NM(n,e),e.tag=1,Cu(r)?(n=!0,_D(e)):n=!1,Gw(e,t),See(e,r,i),h$(e,r,i,t),g$(null,e,r,!0,n,t);case 19:return Mee(n,e,t);case 22:return Tee(n,e,t)}throw Error(Yt(156,e.tag))};function Yee(n,e){return wJ(n,e)}function qye(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function af(n,e,t,r){return new qye(n,e,t,r)}function D9(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Uye(n){if(typeof n=="function")return D9(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Zj)return 11;if(n===Jj)return 14}return 2}function pv(n,e){var t=n.alternate;return t===null?(t=af(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function FM(n,e,t,r,i,o){var a=2;if(r=n,typeof n=="function")D9(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Cw:return q1(t.children,i,o,e);case Xj:a=8,i|=8;break;case FF:return n=af(12,t,e,i|2),n.elementType=FF,n.lanes=o,n;case $F:return n=af(13,t,e,i),n.elementType=$F,n.lanes=o,n;case BF:return n=af(19,t,e,i),n.elementType=BF,n.lanes=o,n;case iJ:return fN(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case nJ:a=10;break e;case rJ:a=9;break e;case Zj:a=11;break e;case Jj:a=14;break e;case Dy:a=16,r=null;break e}throw Error(Yt(130,n==null?n:typeof n,""))}return e=af(a,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function q1(n,e,t,r){return n=af(7,n,r,e),n.lanes=t,n}function fN(n,e,t,r){return n=af(22,n,r,e),n.elementType=iJ,n.lanes=t,n.stateNode={isHidden:!1},n}function UL(n,e,t){return n=af(6,n,null,e),n.lanes=t,n}function GL(n,e,t){return e=af(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Gye(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=OL(0),this.expirationTimes=OL(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OL(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N9(n,e,t,r,i,o,a,c,u){return n=new Gye(n,e,t,c,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=af(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},y9(o),n}function Yye(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kw,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Qee(n){if(!n)return Ov;n=n._reactInternals;e:{if(_b(n)!==n||n.tag!==1)throw Error(Yt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cu(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Yt(171))}if(n.tag===1){var t=n.type;if(Cu(t))return QJ(n,t,e)}return e}function Kee(n,e,t,r,i,o,a,c,u){return n=N9(t,r,!0,n,i,o,a,c,u),n.context=Qee(null),t=n.current,r=Vc(),i=hv(t),o=ig(r,i),o.callback=e??null,dv(t,o,i),n.current.lanes=i,LO(n,i,r),Ou(n,r),n}function hN(n,e,t,r){var i=e.current,o=Vc(),a=hv(i);return t=Qee(t),e.context===null?e.context=t:e.pendingContext=t,e=ig(o,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=dv(i,e,a),n!==null&&(Oh(n,i,a,o),PM(n,i,a)),a}function ID(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function eq(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function I9(n,e){eq(n,e),(n=n.alternate)&&eq(n,e)}function Qye(){return null}var Xee=typeof reportError=="function"?reportError:function(n){console.error(n)};function L9(n){this._internalRoot=n}pN.prototype.render=L9.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Yt(409));hN(n,e,null,null)};pN.prototype.unmount=L9.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;tb(function(){hN(null,n,null,null)}),e[fg]=null}};function pN(n){this._internalRoot=n}pN.prototype.unstable_scheduleHydration=function(n){if(n){var e=TJ();n={blockedOn:null,target:n,priority:e};for(var t=0;t<$y.length&&e!==0&&e<$y[t].priority;t++);$y.splice(t,0,n),t===0&&RJ(n)}};function F9(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function tq(){}function Kye(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=ID(a);o.call(h)}}var a=Kee(e,r,n,0,null,!1,!1,"",tq);return n._reactRootContainer=a,n[fg]=a.current,NC(n.nodeType===8?n.parentNode:n),tb(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=ID(u);c.call(h)}}var u=N9(n,0,!1,null,null,!1,!1,"",tq);return n._reactRootContainer=u,n[fg]=u.current,NC(n.nodeType===8?n.parentNode:n),tb(function(){hN(e,u,t,r)}),u}function gN(n,e,t,r,i){var o=t._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var c=i;i=function(){var u=ID(a);c.call(u)}}hN(e,a,n,i)}else a=Kye(t,e,n,i,r);return ID(a)}CJ=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=$2(e.pendingLanes);t!==0&&(n9(e,t|1),Ou(e,ca()),!(ji&6)&&(N_=ca()+500,qv()))}break;case 13:tb(function(){var r=hg(n,1);if(r!==null){var i=Vc();Oh(r,n,1,i)}}),I9(n,1)}};r9=function(n){if(n.tag===13){var e=hg(n,134217728);if(e!==null){var t=Vc();Oh(e,n,134217728,t)}I9(n,134217728)}};OJ=function(n){if(n.tag===13){var e=hv(n),t=hg(n,e);if(t!==null){var r=Vc();Oh(t,n,e,r)}I9(n,e)}};TJ=function(){return _o};AJ=function(n,e){var t=_o;try{return _o=n,e()}finally{_o=t}};QF=function(n,e,t){switch(e){case"input":if(zF(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=sN(r);if(!i)throw Error(Yt(90));sJ(r),zF(r,i)}}}break;case"textarea":lJ(n,t);break;case"select":e=t.value,e!=null&&Hw(n,!!t.multiple,e,!1)}};mJ=R9;gJ=tb;var Xye={usingClientEntryPoint:!1,Events:[$O,Rw,sN,hJ,pJ,R9]},i2={findFiberByHostInstance:R1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zye={bundleType:i2.bundleType,version:i2.version,rendererPackageName:i2.rendererPackageName,rendererConfig:i2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eg.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=bJ(n),n===null?null:n.stateNode},findFiberByHostInstance:i2.findFiberByHostInstance||Qye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pP=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pP.isDisabled&&pP.supportsFiber)try{nN=pP.inject(Zye),Vp=pP}catch{}}_d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xye;_d.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F9(e))throw Error(Yt(200));return Yye(n,e,null,t)};_d.createRoot=function(n,e){if(!F9(n))throw Error(Yt(299));var t=!1,r="",i=Xee;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N9(n,1,!1,null,null,t,!1,r,i),n[fg]=e.current,NC(n.nodeType===8?n.parentNode:n),new L9(e)};_d.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Yt(188)):(n=Object.keys(n).join(","),Error(Yt(268,n)));return n=bJ(e),n=n===null?null:n.stateNode,n};_d.flushSync=function(n){return tb(n)};_d.hydrate=function(n,e,t){if(!mN(e))throw Error(Yt(200));return gN(null,n,e,!0,t)};_d.hydrateRoot=function(n,e,t){if(!F9(n))throw Error(Yt(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",a=Xee;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Kee(e,null,n,1,t??null,i,!1,o,a),n[fg]=e.current,NC(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new pN(e)};_d.render=function(n,e,t){if(!mN(e))throw Error(Yt(200));return gN(null,n,e,!1,t)};_d.unmountComponentAtNode=function(n){if(!mN(n))throw Error(Yt(40));return n._reactRootContainer?(tb(function(){gN(null,null,n,!1,function(){n._reactRootContainer=null,n[fg]=null})}),!0):!1};_d.unstable_batchedUpdates=R9;_d.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!mN(t))throw Error(Yt(200));if(n==null||n._reactInternals===void 0)throw Error(Yt(38));return gN(n,e,t,!1,r)};_d.version="18.3.1-next-f1338f8080-20240426";function Zee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zee)}catch(n){console.error(n)}}Zee(),ZZ.exports=_d;var Eb=ZZ.exports;const Jee=rE(Eb);var ete,nq=Eb;ete=nq.createRoot,nq.hydrateRoot;var aE=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nb=typeof window>"u"||"Deno"in globalThis;function ef(){}function Jye(n,e){return typeof n=="function"?n(e):n}function T$(n){return typeof n=="number"&&n>=0&&n!==1/0}function tte(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Qw(n,e){return typeof n=="function"?n(e):n}function hh(n,e){return typeof n=="function"?n(e):n}function rq(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:c}=n;if(a){if(r){if(e.queryHash!==$9(a,e.options))return!1}else if(!HC(e.queryKey,a))return!1}if(t!=="all"){const u=e.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||o&&!o(e))}function iq(n,e){const{exact:t,status:r,predicate:i,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(rb(e.options.mutationKey)!==rb(o))return!1}else if(!HC(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function $9(n,e){return((e==null?void 0:e.queryKeyHashFn)||rb)(n)}function rb(n){return JSON.stringify(n,(e,t)=>A$(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function HC(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!HC(n[t],e[t])):!1}function nte(n,e){if(n===e)return n;const t=oq(n)&&oq(e);if(t||A$(n)&&A$(e)){const r=t?n:Object.keys(n),i=r.length,o=t?e:Object.keys(e),a=o.length,c=t?[]:{};let u=0;for(let h=0;h<a;h++){const m=t?h:o[h];(!t&&r.includes(m)||t)&&n[m]===void 0&&e[m]===void 0?(c[m]=void 0,u++):(c[m]=nte(n[m],e[m]),c[m]===n[m]&&n[m]!==void 0&&u++)}return i===a&&u===i?n:c}return e}function LD(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function oq(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function A$(n){if(!sq(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!sq(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function sq(n){return Object.prototype.toString.call(n)==="[object Object]"}function eve(n){return new Promise(e=>{setTimeout(e,n)})}function R$(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?nte(n,e):e}function tve(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function nve(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var B9=Symbol();function rte(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===B9?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var F1,qy,m_,RZ,rve=(RZ=class extends aE{constructor(){super();xr(this,F1);xr(this,qy);xr(this,m_);An(this,m_,e=>{if(!nb&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Le(this,qy)||this.setEventListener(Le(this,m_))}onUnsubscribe(){var e;this.hasListeners()||((e=Le(this,qy))==null||e.call(this),An(this,qy,void 0))}setEventListener(e){var t;An(this,m_,e),(t=Le(this,qy))==null||t.call(this),An(this,qy,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Le(this,F1)!==e&&(An(this,F1,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Le(this,F1)=="boolean"?Le(this,F1):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},F1=new WeakMap,qy=new WeakMap,m_=new WeakMap,RZ),j9=new rve,g_,Uy,y_,PZ,ive=(PZ=class extends aE{constructor(){super();xr(this,g_,!0);xr(this,Uy);xr(this,y_);An(this,y_,e=>{if(!nb&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Le(this,Uy)||this.setEventListener(Le(this,y_))}onUnsubscribe(){var e;this.hasListeners()||((e=Le(this,Uy))==null||e.call(this),An(this,Uy,void 0))}setEventListener(e){var t;An(this,y_,e),(t=Le(this,Uy))==null||t.call(this),An(this,Uy,e(this.setOnline.bind(this)))}setOnline(e){Le(this,g_)!==e&&(An(this,g_,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Le(this,g_)}},g_=new WeakMap,Uy=new WeakMap,y_=new WeakMap,PZ),FD=new ive;function P$(){let n,e;const t=new Promise((i,o)=>{n=i,e=o});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function ove(n){return Math.min(1e3*2**n,3e4)}function ite(n){return(n??"online")==="online"?FD.isOnline():!0}var ote=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function YL(n){return n instanceof ote}function ste(n){let e=!1,t=0,r=!1,i;const o=P$(),a=T=>{var F;r||(_(new ote(T)),(F=n.abort)==null||F.call(n))},c=()=>{e=!0},u=()=>{e=!1},h=()=>j9.isFocused()&&(n.networkMode==="always"||FD.isOnline())&&n.canRun(),m=()=>ite(n.networkMode)&&n.canRun(),v=T=>{var F;r||(r=!0,(F=n.onSuccess)==null||F.call(n,T),i==null||i(),o.resolve(T))},_=T=>{var F;r||(r=!0,(F=n.onError)==null||F.call(n,T),i==null||i(),o.reject(T))},k=()=>new Promise(T=>{var F;i=$=>{(r||h())&&T($)},(F=n.onPause)==null||F.call(n)}).then(()=>{var T;i=void 0,r||(T=n.onContinue)==null||T.call(n)}),R=()=>{if(r)return;let T;const F=t===0?n.initialPromise:void 0;try{T=F??n.fn()}catch($){T=Promise.reject($)}Promise.resolve(T).then(v).catch($=>{var oe;if(r)return;const j=n.retry??(nb?0:3),B=n.retryDelay??ove,I=typeof B=="function"?B(t,$):B,Y=j===!0||typeof j=="number"&&t<j||typeof j=="function"&&j(t,$);if(e||!Y){_($);return}t++,(oe=n.onFail)==null||oe.call(n,t,$),eve(I).then(()=>h()?void 0:k()).then(()=>{e?_($):R()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:c,continueRetry:u,canStart:m,start:()=>(m()?R():k().then(R),o)}}function sve(){let n=[],e=0,t=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const o=c=>{e?n.push(c):i(()=>{t(c)})},a=()=>{const c=n;n=[],c.length&&i(()=>{r(()=>{c.forEach(u=>{t(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},batchCalls:c=>(...u)=>{o(()=>{c(...u)})},schedule:o,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var Ba=sve(),$1,MZ,ate=(MZ=class{constructor(){xr(this,$1)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T$(this.gcTime)&&An(this,$1,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(nb?1/0:5*60*1e3))}clearGcTimeout(){Le(this,$1)&&(clearTimeout(Le(this,$1)),An(this,$1,void 0))}},$1=new WeakMap,MZ),v_,b_,Jd,Ql,PO,B1,uh,zm,DZ,ave=(DZ=class extends ate{constructor(e){super();xr(this,uh);xr(this,v_);xr(this,b_);xr(this,Jd);xr(this,Ql);xr(this,PO);xr(this,B1);An(this,B1,!1),An(this,PO,e.defaultOptions),this.setOptions(e.options),this.observers=[],An(this,Jd,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,An(this,v_,lve(this.options)),this.state=e.state??Le(this,v_),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Le(this,Ql))==null?void 0:e.promise}setOptions(e){this.options={...Le(this,PO),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Le(this,Jd).remove(this)}setData(e,t){const r=R$(this.state.data,e,this.options);return ri(this,uh,zm).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){ri(this,uh,zm).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=Le(this,Ql))==null?void 0:r.promise;return(i=Le(this,Ql))==null||i.cancel(e),t?t.then(ef).catch(ef):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Le(this,v_))}isActive(){return this.observers.some(e=>hh(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===B9||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!tte(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Le(this,Ql))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Le(this,Ql))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Le(this,Jd).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Le(this,Ql)&&(Le(this,B1)?Le(this,Ql).cancel({revert:!0}):Le(this,Ql).cancelRetry()),this.scheduleGc()),Le(this,Jd).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ri(this,uh,zm).call(this,{type:"invalidate"})}fetch(e,t){var u,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Le(this,Ql))return Le(this,Ql).continueRetry(),Le(this,Ql).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(_=>_.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(An(this,B1,!0),r.signal)})},o=()=>{const v=rte(this.options,t),_={queryKey:this.queryKey,meta:this.meta};return i(_),An(this,B1,!1),this.options.persister?this.options.persister(v,_,this):v(_)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),An(this,b_,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&ri(this,uh,zm).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const c=v=>{var _,k,R,T;YL(v)&&v.silent||ri(this,uh,zm).call(this,{type:"error",error:v}),YL(v)||((k=(_=Le(this,Jd).config).onError)==null||k.call(_,v,this),(T=(R=Le(this,Jd).config).onSettled)==null||T.call(R,this.state.data,v,this)),this.scheduleGc()};return An(this,Ql,ste({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:v=>{var _,k,R,T;if(v===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(F){c(F);return}(k=(_=Le(this,Jd).config).onSuccess)==null||k.call(_,v,this),(T=(R=Le(this,Jd).config).onSettled)==null||T.call(R,v,this.state.error,this),this.scheduleGc()},onError:c,onFail:(v,_)=>{ri(this,uh,zm).call(this,{type:"failed",failureCount:v,error:_})},onPause:()=>{ri(this,uh,zm).call(this,{type:"pause"})},onContinue:()=>{ri(this,uh,zm).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Le(this,Ql).start()}},v_=new WeakMap,b_=new WeakMap,Jd=new WeakMap,Ql=new WeakMap,PO=new WeakMap,B1=new WeakMap,uh=new WeakSet,zm=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lte(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return YL(i)&&i.revert&&Le(this,b_)?{...Le(this,b_),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ba.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Le(this,Jd).notify({query:this,type:"updated",action:e})})},DZ);function lte(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ite(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function lve(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Cp,NZ,cve=(NZ=class extends aE{constructor(e={}){super();xr(this,Cp);this.config=e,An(this,Cp,new Map)}build(e,t,r){const i=t.queryKey,o=t.queryHash??$9(i,t);let a=this.get(o);return a||(a=new ave({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Le(this,Cp).has(e.queryHash)||(Le(this,Cp).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Le(this,Cp).get(e.queryHash);t&&(e.destroy(),t===e&&Le(this,Cp).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ba.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Le(this,Cp).get(e)}getAll(){return[...Le(this,Cp).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>rq(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>rq(e,r)):t}notify(e){Ba.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ba.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ba.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cp=new WeakMap,NZ),Op,Nc,j1,Tp,Py,IZ,uve=(IZ=class extends ate{constructor(e){super();xr(this,Tp);xr(this,Op);xr(this,Nc);xr(this,j1);this.mutationId=e.mutationId,An(this,Nc,e.mutationCache),An(this,Op,[]),this.state=e.state||cte(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Le(this,Op).includes(e)||(Le(this,Op).push(e),this.clearGcTimeout(),Le(this,Nc).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){An(this,Op,Le(this,Op).filter(t=>t!==e)),this.scheduleGc(),Le(this,Nc).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Le(this,Op).length||(this.state.status==="pending"?this.scheduleGc():Le(this,Nc).remove(this))}continue(){var e;return((e=Le(this,j1))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,u,h,m,v,_,k,R,T,F,$,j,B,I,Y,oe,ne;An(this,j1,ste({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(ae,Te)=>{ri(this,Tp,Py).call(this,{type:"failed",failureCount:ae,error:Te})},onPause:()=>{ri(this,Tp,Py).call(this,{type:"pause"})},onContinue:()=>{ri(this,Tp,Py).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Le(this,Nc).canRun(this)}));const t=this.state.status==="pending",r=!Le(this,j1).canStart();try{if(!t){ri(this,Tp,Py).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=Le(this,Nc).config).onMutate)==null?void 0:o.call(i,e,this));const Te=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));Te!==this.state.context&&ri(this,Tp,Py).call(this,{type:"pending",context:Te,variables:e,isPaused:r})}const ae=await Le(this,j1).start();return await((h=(u=Le(this,Nc).config).onSuccess)==null?void 0:h.call(u,ae,e,this.state.context,this)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,ae,e,this.state.context)),await((k=(_=Le(this,Nc).config).onSettled)==null?void 0:k.call(_,ae,null,this.state.variables,this.state.context,this)),await((T=(R=this.options).onSettled)==null?void 0:T.call(R,ae,null,e,this.state.context)),ri(this,Tp,Py).call(this,{type:"success",data:ae}),ae}catch(ae){try{throw await(($=(F=Le(this,Nc).config).onError)==null?void 0:$.call(F,ae,e,this.state.context,this)),await((B=(j=this.options).onError)==null?void 0:B.call(j,ae,e,this.state.context)),await((Y=(I=Le(this,Nc).config).onSettled)==null?void 0:Y.call(I,void 0,ae,this.state.variables,this.state.context,this)),await((ne=(oe=this.options).onSettled)==null?void 0:ne.call(oe,void 0,ae,e,this.state.context)),ae}finally{ri(this,Tp,Py).call(this,{type:"error",error:ae})}}finally{Le(this,Nc).runNext(this)}}},Op=new WeakMap,Nc=new WeakMap,j1=new WeakMap,Tp=new WeakSet,Py=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ba.batch(()=>{Le(this,Op).forEach(r=>{r.onMutationUpdate(e)}),Le(this,Nc).notify({mutation:this,type:"updated",action:e})})},IZ);function cte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var od,MO,LZ,dve=(LZ=class extends aE{constructor(e={}){super();xr(this,od);xr(this,MO);this.config=e,An(this,od,new Map),An(this,MO,Date.now())}build(e,t,r){const i=new uve({mutationCache:this,mutationId:++XR(this,MO)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=mP(e),r=Le(this,od).get(t)??[];r.push(e),Le(this,od).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=mP(e);if(Le(this,od).has(t)){const i=(r=Le(this,od).get(t))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?Le(this,od).delete(t):Le(this,od).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=Le(this,od).get(mP(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=Le(this,od).get(mP(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Ba.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Le(this,od).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>iq(t,r))}findAll(e={}){return this.getAll().filter(t=>iq(e,t))}notify(e){Ba.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ba.batch(()=>Promise.all(e.map(t=>t.continue().catch(ef))))}},od=new WeakMap,MO=new WeakMap,LZ);function mP(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function aq(n){return{onFetch:(e,t)=>{var m,v,_,k,R;const r=e.options,i=(_=(v=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,o=((k=e.state.data)==null?void 0:k.pages)||[],a=((R=e.state.data)==null?void 0:R.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let T=!1;const F=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},$=rte(e.options,e.fetchOptions),j=async(B,I,Y)=>{if(T)return Promise.reject();if(I==null&&B.pages.length)return Promise.resolve(B);const oe={queryKey:e.queryKey,pageParam:I,direction:Y?"backward":"forward",meta:e.options.meta};F(oe);const ne=await $(oe),{maxPages:ae}=e.options,Te=Y?nve:tve;return{pages:Te(B.pages,ne,ae),pageParams:Te(B.pageParams,I,ae)}};if(i&&o.length){const B=i==="backward",I=B?fve:lq,Y={pages:o,pageParams:a},oe=I(r,Y);c=await j(Y,oe,B)}else{const B=n??o.length;do{const I=u===0?a[0]??r.initialPageParam:lq(r,c);if(u>0&&I==null)break;c=await j(c,I),u++}while(u<B)}return c};e.options.persister?e.fetchFn=()=>{var T,F;return(F=(T=e.options).persister)==null?void 0:F.call(T,h,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=h}}}function lq(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function fve(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Ys,Gy,Yy,x_,w_,Qy,__,E_,FZ,hve=(FZ=class{constructor(n={}){xr(this,Ys);xr(this,Gy);xr(this,Yy);xr(this,x_);xr(this,w_);xr(this,Qy);xr(this,__);xr(this,E_);An(this,Ys,n.queryCache||new cve),An(this,Gy,n.mutationCache||new dve),An(this,Yy,n.defaultOptions||{}),An(this,x_,new Map),An(this,w_,new Map),An(this,Qy,0)}mount(){XR(this,Qy)._++,Le(this,Qy)===1&&(An(this,__,j9.subscribe(async n=>{n&&(await this.resumePausedMutations(),Le(this,Ys).onFocus())})),An(this,E_,FD.subscribe(async n=>{n&&(await this.resumePausedMutations(),Le(this,Ys).onOnline())})))}unmount(){var n,e;XR(this,Qy)._--,Le(this,Qy)===0&&((n=Le(this,__))==null||n.call(this),An(this,__,void 0),(e=Le(this,E_))==null||e.call(this),An(this,E_,void 0))}isFetching(n){return Le(this,Ys).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Le(this,Gy).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Le(this,Ys).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=Le(this,Ys).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(Qw(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return Le(this,Ys).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=Le(this,Ys).get(r.queryHash),o=i==null?void 0:i.state.data,a=Jye(e,o);if(a!==void 0)return Le(this,Ys).build(this,r).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return Ba.batch(()=>Le(this,Ys).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Le(this,Ys).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Le(this,Ys);Ba.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Le(this,Ys),r={type:"active",...n};return Ba.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=Ba.batch(()=>Le(this,Ys).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(ef).catch(ef)}invalidateQueries(n={},e={}){return Ba.batch(()=>{if(Le(this,Ys).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ba.batch(()=>Le(this,Ys).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,t);return t.throwOnError||(o=o.catch(ef)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ef)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Le(this,Ys).build(this,e);return t.isStaleByTime(Qw(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ef).catch(ef)}fetchInfiniteQuery(n){return n.behavior=aq(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ef).catch(ef)}ensureInfiniteQueryData(n){return n.behavior=aq(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return FD.isOnline()?Le(this,Gy).resumePausedMutations():Promise.resolve()}getQueryCache(){return Le(this,Ys)}getMutationCache(){return Le(this,Gy)}getDefaultOptions(){return Le(this,Yy)}setDefaultOptions(n){An(this,Yy,n)}setQueryDefaults(n,e){Le(this,x_).set(rb(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Le(this,x_).values()];let t={};return e.forEach(r=>{HC(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){Le(this,w_).set(rb(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Le(this,w_).values()];let t={};return e.forEach(r=>{HC(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Le(this,Yy).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=$9(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===B9&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Le(this,Yy).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Le(this,Ys).clear(),Le(this,Gy).clear()}},Ys=new WeakMap,Gy=new WeakMap,Yy=new WeakMap,x_=new WeakMap,w_=new WeakMap,Qy=new WeakMap,__=new WeakMap,E_=new WeakMap,FZ),gu,Oi,DO,Ic,V1,S_,Ky,Ap,NO,k_,C_,z1,H1,Xy,O_,ho,j2,M$,D$,N$,I$,L$,F$,$$,ute,$Z,pve=($Z=class extends aE{constructor(e,t){super();xr(this,ho);xr(this,gu);xr(this,Oi);xr(this,DO);xr(this,Ic);xr(this,V1);xr(this,S_);xr(this,Ky);xr(this,Ap);xr(this,NO);xr(this,k_);xr(this,C_);xr(this,z1);xr(this,H1);xr(this,Xy);xr(this,O_,new Set);this.options=t,An(this,gu,e),An(this,Ap,null),An(this,Ky,P$()),this.options.experimental_prefetchInRender||Le(this,Ky).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Le(this,Oi).addObserver(this),cq(Le(this,Oi),this.options)?ri(this,ho,j2).call(this):this.updateResult(),ri(this,ho,I$).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return B$(Le(this,Oi),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return B$(Le(this,Oi),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ri(this,ho,L$).call(this),ri(this,ho,F$).call(this),Le(this,Oi).removeObserver(this)}setOptions(e,t){const r=this.options,i=Le(this,Oi);if(this.options=Le(this,gu).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hh(this.options.enabled,Le(this,Oi))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ri(this,ho,$$).call(this),Le(this,Oi).setOptions(this.options),r._defaulted&&!LD(this.options,r)&&Le(this,gu).getQueryCache().notify({type:"observerOptionsUpdated",query:Le(this,Oi),observer:this});const o=this.hasListeners();o&&uq(Le(this,Oi),i,this.options,r)&&ri(this,ho,j2).call(this),this.updateResult(t),o&&(Le(this,Oi)!==i||hh(this.options.enabled,Le(this,Oi))!==hh(r.enabled,Le(this,Oi))||Qw(this.options.staleTime,Le(this,Oi))!==Qw(r.staleTime,Le(this,Oi)))&&ri(this,ho,M$).call(this);const a=ri(this,ho,D$).call(this);o&&(Le(this,Oi)!==i||hh(this.options.enabled,Le(this,Oi))!==hh(r.enabled,Le(this,Oi))||a!==Le(this,Xy))&&ri(this,ho,N$).call(this,a)}getOptimisticResult(e){const t=Le(this,gu).getQueryCache().build(Le(this,gu),e),r=this.createResult(t,e);return gve(this,r)&&(An(this,Ic,r),An(this,S_,this.options),An(this,V1,Le(this,Oi).state)),r}getCurrentResult(){return Le(this,Ic)}trackResult(e,t){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t==null||t(i),e[i])})}),r}trackProp(e){Le(this,O_).add(e)}getCurrentQuery(){return Le(this,Oi)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Le(this,gu).defaultQueryOptions(e),r=Le(this,gu).getQueryCache().build(Le(this,gu),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return ri(this,ho,j2).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Le(this,Ic)))}createResult(e,t){var ae;const r=Le(this,Oi),i=this.options,o=Le(this,Ic),a=Le(this,V1),c=Le(this,S_),h=e!==r?e.state:Le(this,DO),{state:m}=e;let v={...m},_=!1,k;if(t._optimisticResults){const Te=this.hasListeners(),Me=!Te&&cq(e,t),Ee=Te&&uq(e,r,t,i);(Me||Ee)&&(v={...v,...lte(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:R,errorUpdatedAt:T,status:F}=v;if(t.select&&v.data!==void 0)if(o&&v.data===(a==null?void 0:a.data)&&t.select===Le(this,NO))k=Le(this,k_);else try{An(this,NO,t.select),k=t.select(v.data),k=R$(o==null?void 0:o.data,k,t),An(this,k_,k),An(this,Ap,null)}catch(Te){An(this,Ap,Te)}else k=v.data;if(t.placeholderData!==void 0&&k===void 0&&F==="pending"){let Te;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData))Te=o.data;else if(Te=typeof t.placeholderData=="function"?t.placeholderData((ae=Le(this,C_))==null?void 0:ae.state.data,Le(this,C_)):t.placeholderData,t.select&&Te!==void 0)try{Te=t.select(Te),An(this,Ap,null)}catch(Me){An(this,Ap,Me)}Te!==void 0&&(F="success",k=R$(o==null?void 0:o.data,Te,t),_=!0)}Le(this,Ap)&&(R=Le(this,Ap),k=Le(this,k_),T=Date.now(),F="error");const $=v.fetchStatus==="fetching",j=F==="pending",B=F==="error",I=j&&$,Y=k!==void 0,ne={status:F,fetchStatus:v.fetchStatus,isPending:j,isSuccess:F==="success",isError:B,isInitialLoading:I,isLoading:I,data:k,dataUpdatedAt:v.dataUpdatedAt,error:R,errorUpdatedAt:T,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:$,isRefetching:$&&!j,isLoadingError:B&&!Y,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:B&&Y,isStale:V9(e,t),refetch:this.refetch,promise:Le(this,Ky)};if(this.options.experimental_prefetchInRender){const Te=we=>{ne.status==="error"?we.reject(ne.error):ne.data!==void 0&&we.resolve(ne.data)},Me=()=>{const we=An(this,Ky,ne.promise=P$());Te(we)},Ee=Le(this,Ky);switch(Ee.status){case"pending":e.queryHash===r.queryHash&&Te(Ee);break;case"fulfilled":(ne.status==="error"||ne.data!==Ee.value)&&Me();break;case"rejected":(ne.status!=="error"||ne.error!==Ee.reason)&&Me();break}}return ne}updateResult(e){const t=Le(this,Ic),r=this.createResult(Le(this,Oi),this.options);if(An(this,V1,Le(this,Oi).state),An(this,S_,this.options),Le(this,V1).data!==void 0&&An(this,C_,Le(this,Oi)),LD(r,t))return;An(this,Ic,r);const i={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!Le(this,O_).size)return!0;const u=new Set(c??Le(this,O_));return this.options.throwOnError&&u.add("error"),Object.keys(Le(this,Ic)).some(h=>{const m=h;return Le(this,Ic)[m]!==t[m]&&u.has(m)})};(e==null?void 0:e.listeners)!==!1&&o()&&(i.listeners=!0),ri(this,ho,ute).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ri(this,ho,I$).call(this)}},gu=new WeakMap,Oi=new WeakMap,DO=new WeakMap,Ic=new WeakMap,V1=new WeakMap,S_=new WeakMap,Ky=new WeakMap,Ap=new WeakMap,NO=new WeakMap,k_=new WeakMap,C_=new WeakMap,z1=new WeakMap,H1=new WeakMap,Xy=new WeakMap,O_=new WeakMap,ho=new WeakSet,j2=function(e){ri(this,ho,$$).call(this);let t=Le(this,Oi).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ef)),t},M$=function(){ri(this,ho,L$).call(this);const e=Qw(this.options.staleTime,Le(this,Oi));if(nb||Le(this,Ic).isStale||!T$(e))return;const r=tte(Le(this,Ic).dataUpdatedAt,e)+1;An(this,z1,setTimeout(()=>{Le(this,Ic).isStale||this.updateResult()},r))},D$=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Le(this,Oi)):this.options.refetchInterval)??!1},N$=function(e){ri(this,ho,F$).call(this),An(this,Xy,e),!(nb||hh(this.options.enabled,Le(this,Oi))===!1||!T$(Le(this,Xy))||Le(this,Xy)===0)&&An(this,H1,setInterval(()=>{(this.options.refetchIntervalInBackground||j9.isFocused())&&ri(this,ho,j2).call(this)},Le(this,Xy)))},I$=function(){ri(this,ho,M$).call(this),ri(this,ho,N$).call(this,ri(this,ho,D$).call(this))},L$=function(){Le(this,z1)&&(clearTimeout(Le(this,z1)),An(this,z1,void 0))},F$=function(){Le(this,H1)&&(clearInterval(Le(this,H1)),An(this,H1,void 0))},$$=function(){const e=Le(this,gu).getQueryCache().build(Le(this,gu),this.options);if(e===Le(this,Oi))return;const t=Le(this,Oi);An(this,Oi,e),An(this,DO,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},ute=function(e){Ba.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Le(this,Ic))}),Le(this,gu).getQueryCache().notify({query:Le(this,Oi),type:"observerResultsUpdated"})})},$Z);function mve(n,e){return hh(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function cq(n,e){return mve(n,e)||n.state.data!==void 0&&B$(n,e,e.refetchOnMount)}function B$(n,e,t){if(hh(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&V9(n,e)}return!1}function uq(n,e,t,r){return(n!==e||hh(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&V9(n,t)}function V9(n,e){return hh(e.enabled,n)!==!1&&n.isStaleByTime(Qw(e.staleTime,n))}function gve(n,e){return!LD(n.getCurrentResult(),e)}var Zy,Jy,yu,Km,ug,$M,j$,BZ,yve=(BZ=class extends aE{constructor(t,r){super();xr(this,ug);xr(this,Zy);xr(this,Jy);xr(this,yu);xr(this,Km);An(this,Zy,t),this.setOptions(r),this.bindMethods(),ri(this,ug,$M).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=Le(this,Zy).defaultMutationOptions(t),LD(this.options,r)||Le(this,Zy).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Le(this,yu),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&rb(r.mutationKey)!==rb(this.options.mutationKey)?this.reset():((i=Le(this,yu))==null?void 0:i.state.status)==="pending"&&Le(this,yu).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=Le(this,yu))==null||t.removeObserver(this)}onMutationUpdate(t){ri(this,ug,$M).call(this),ri(this,ug,j$).call(this,t)}getCurrentResult(){return Le(this,Jy)}reset(){var t;(t=Le(this,yu))==null||t.removeObserver(this),An(this,yu,void 0),ri(this,ug,$M).call(this),ri(this,ug,j$).call(this)}mutate(t,r){var i;return An(this,Km,r),(i=Le(this,yu))==null||i.removeObserver(this),An(this,yu,Le(this,Zy).getMutationCache().build(Le(this,Zy),this.options)),Le(this,yu).addObserver(this),Le(this,yu).execute(t)}},Zy=new WeakMap,Jy=new WeakMap,yu=new WeakMap,Km=new WeakMap,ug=new WeakSet,$M=function(){var r;const t=((r=Le(this,yu))==null?void 0:r.state)??cte();An(this,Jy,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},j$=function(t){Ba.batch(()=>{var r,i,o,a,c,u,h,m;if(Le(this,Km)&&this.hasListeners()){const v=Le(this,Jy).variables,_=Le(this,Jy).context;(t==null?void 0:t.type)==="success"?((i=(r=Le(this,Km)).onSuccess)==null||i.call(r,t.data,v,_),(a=(o=Le(this,Km)).onSettled)==null||a.call(o,t.data,null,v,_)):(t==null?void 0:t.type)==="error"&&((u=(c=Le(this,Km)).onError)==null||u.call(c,t.error,v,_),(m=(h=Le(this,Km)).onSettled)==null||m.call(h,void 0,t.error,v,_))}this.listeners.forEach(v=>{v(Le(this,Jy))})})},BZ),dte=Z.createContext(void 0),Uv=n=>{const e=Z.useContext(dte);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},vve=({client:n,children:e})=>(Z.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),V.jsx(dte.Provider,{value:n,children:e})),fte=Z.createContext(!1),bve=()=>Z.useContext(fte);fte.Provider;function xve(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var wve=Z.createContext(xve()),_ve=()=>Z.useContext(wve);function hte(n,e){return typeof n=="function"?n(...e):!!n}function pte(){}var Eve=(n,e)=>{(n.suspense||n.throwOnError)&&(e.isReset()||(n.retryOnMount=!1))},Sve=n=>{Z.useEffect(()=>{n.clearReset()},[n])},kve=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&hte(t,[n.error,r]),Cve=n=>{n.suspense&&(n.staleTime===void 0&&(n.staleTime=1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},Ove=(n,e)=>n.isLoading&&n.isFetching&&!e,Tve=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,dq=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function Ave(n,e,t){var m,v,_,k,R;const r=Uv(),i=bve(),o=_ve(),a=r.defaultQueryOptions(n);(v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||v.call(m,a),a._optimisticResults=i?"isRestoring":"optimistic",Cve(a),Eve(a,o),Sve(o);const c=!r.getQueryCache().get(a.queryHash),[u]=Z.useState(()=>new e(r,a)),h=u.getOptimisticResult(a);if(Z.useSyncExternalStore(Z.useCallback(T=>{const F=i?()=>{}:u.subscribe(Ba.batchCalls(T));return u.updateResult(),F},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),Z.useEffect(()=>{u.setOptions(a,{listeners:!1})},[a,u]),Tve(a,h))throw dq(a,u,o);if(kve({result:h,errorResetBoundary:o,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw h.error;if((k=(_=r.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||k.call(_,a,h),a.experimental_prefetchInRender&&!nb&&Ove(h,i)){const T=c?dq(a,u,o):(R=r.getQueryCache().get(a.queryHash))==null?void 0:R.promise;T==null||T.catch(pte).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?h:u.trackResult(h)}function Al(n,e){return Ave(n,pve)}function mg(n,e){const t=Uv(),[r]=Z.useState(()=>new yve(t,n));Z.useEffect(()=>{r.setOptions(n)},[r,n]);const i=Z.useSyncExternalStore(Z.useCallback(a=>r.subscribe(Ba.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=Z.useCallback((a,c)=>{r.mutate(a,c).catch(pte)},[r]);if(i.error&&hte(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WC(){return WC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WC.apply(this,arguments)}var nv;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(nv||(nv={}));const fq="popstate";function Rve(n){n===void 0&&(n={});function e(r,i){let{pathname:o,search:a,hash:c}=r.location;return V$("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:$D(i)}return Mve(e,t,null,n)}function ka(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mte(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pve(){return Math.random().toString(36).substr(2,8)}function hq(n,e){return{usr:n.state,key:n.key,idx:e}}function V$(n,e,t,r){return t===void 0&&(t=null),WC({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?lE(e):e,{state:t,key:e&&e.key||r||Pve()})}function $D(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lE(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Mve(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c=nv.Pop,u=null,h=m();h==null&&(h=0,a.replaceState(WC({},a.state,{idx:h}),""));function m(){return(a.state||{idx:null}).idx}function v(){c=nv.Pop;let F=m(),$=F==null?null:F-h;h=F,u&&u({action:c,location:T.location,delta:$})}function _(F,$){c=nv.Push;let j=V$(T.location,F,$);h=m()+1;let B=hq(j,h),I=T.createHref(j);try{a.pushState(B,"",I)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(I)}o&&u&&u({action:c,location:T.location,delta:1})}function k(F,$){c=nv.Replace;let j=V$(T.location,F,$);h=m();let B=hq(j,h),I=T.createHref(j);a.replaceState(B,"",I),o&&u&&u({action:c,location:T.location,delta:0})}function R(F){let $=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof F=="string"?F:$D(F);return j=j.replace(/ $/,"%20"),ka($,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,$)}let T={get action(){return c},get location(){return n(i,a)},listen(F){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(fq,v),u=F,()=>{i.removeEventListener(fq,v),u=null}},createHref(F){return e(i,F)},createURL:R,encodeLocation(F){let $=R(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:_,replace:k,go(F){return a.go(F)}};return T}var pq;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(pq||(pq={}));function Dve(n,e,t){return t===void 0&&(t="/"),Nve(n,e,t,!1)}function Nve(n,e,t,r){let i=typeof e=="string"?lE(e):e,o=z9(i.pathname||"/",t);if(o==null)return null;let a=gte(n);Ive(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=Uve(o);c=Wve(a[u],h,r)}return c}function gte(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,a,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(ka(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=mv([r,u.relativePath]),m=t.concat(u);o.children&&o.children.length>0&&(ka(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),gte(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:zve(h,o.index),routesMeta:m})};return n.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let u of yte(o.path))i(o,a,u)}),e}function yte(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=yte(r.join("/")),c=[];return c.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...a),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function Ive(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Hve(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Lve=/^:[\w-]+$/,Fve=3,$ve=2,Bve=1,jve=10,Vve=-2,mq=n=>n==="*";function zve(n,e){let t=n.split("/"),r=t.length;return t.some(mq)&&(r+=Vve),e&&(r+=$ve),t.filter(i=>!mq(i)).reduce((i,o)=>i+(Lve.test(o)?Fve:o===""?Bve:jve),r)}function Hve(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Wve(n,e,t){let{routesMeta:r}=n,i={},o="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=gq({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),_=u.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=gq({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),a.push({params:i,pathname:mv([o,v.pathname]),pathnameBase:Kve(mv([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=mv([o,v.pathnameBase]))}return a}function gq(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=qve(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,m,v)=>{let{paramName:_,isOptional:k}=m;if(_==="*"){let T=c[v]||"";a=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const R=c[v];return k&&!R?h[_]=void 0:h[_]=(R||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:n}}function qve(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),mte(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Uve(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mte(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function z9(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Gve(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?lE(n):n;return{pathname:t?t.startsWith("/")?t:Yve(t,e):e,search:Xve(r),hash:Zve(i)}}function Yve(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function QL(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qve(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vte(n,e){let t=Qve(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function bte(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=lE(n):(i=WC({},n),ka(!i.pathname||!i.pathname.includes("?"),QL("?","pathname","search",i)),ka(!i.pathname||!i.pathname.includes("#"),QL("#","pathname","hash",i)),ka(!i.search||!i.search.includes("#"),QL("#","search","hash",i)));let o=n===""||i.pathname==="",a=o?"/":i.pathname,c;if(a==null)c=t;else{let v=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}c=v>=0?e[v]:"/"}let u=Gve(i,c),h=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}const mv=n=>n.join("/").replace(/\/\/+/g,"/"),Kve=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Xve=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Zve=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Jve(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const xte=["post","put","patch","delete"];new Set(xte);const e0e=["get",...xte];new Set(e0e);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qC(){return qC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qC.apply(this,arguments)}const H9=Z.createContext(null),t0e=Z.createContext(null),Sb=Z.createContext(null),yN=Z.createContext(null),Gv=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),wte=Z.createContext(null);function n0e(n,e){let{relative:t}=e===void 0?{}:e;jO()||ka(!1);let{basename:r,navigator:i}=Z.useContext(Sb),{hash:o,pathname:a,search:c}=Ete(n,{relative:t}),u=a;return r!=="/"&&(u=a==="/"?r:mv([r,a])),i.createHref({pathname:u,search:c,hash:o})}function jO(){return Z.useContext(yN)!=null}function cE(){return jO()||ka(!1),Z.useContext(yN).location}function _te(n){Z.useContext(Sb).static||Z.useLayoutEffect(n)}function kb(){let{isDataRoute:n}=Z.useContext(Gv);return n?m0e():r0e()}function r0e(){jO()||ka(!1);let n=Z.useContext(H9),{basename:e,future:t,navigator:r}=Z.useContext(Sb),{matches:i}=Z.useContext(Gv),{pathname:o}=cE(),a=JSON.stringify(vte(i,t.v7_relativeSplatPath)),c=Z.useRef(!1);return _te(()=>{c.current=!0}),Z.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let v=bte(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mv([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,a,o,n])}function vN(){let{matches:n}=Z.useContext(Gv),e=n[n.length-1];return e?e.params:{}}function Ete(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=Z.useContext(Sb),{matches:i}=Z.useContext(Gv),{pathname:o}=cE(),a=JSON.stringify(vte(i,r.v7_relativeSplatPath));return Z.useMemo(()=>bte(n,JSON.parse(a),o,t==="path"),[n,a,o,t])}function i0e(n,e){return o0e(n,e)}function o0e(n,e,t,r){jO()||ka(!1);let{navigator:i}=Z.useContext(Sb),{matches:o}=Z.useContext(Gv),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=cE(),m;if(e){var v;let F=typeof e=="string"?lE(e):e;u==="/"||(v=F.pathname)!=null&&v.startsWith(u)||ka(!1),m=F}else m=h;let _=m.pathname||"/",k=_;if(u!=="/"){let F=u.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(F.length).join("/")}let R=Dve(n,{pathname:k}),T=u0e(R&&R.map(F=>Object.assign({},F,{params:Object.assign({},c,F.params),pathname:mv([u,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?u:mv([u,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),o,t,r);return e&&T?Z.createElement(yN.Provider,{value:{location:qC({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:nv.Pop}},T):T}function s0e(){let n=p0e(),e=Jve(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:i},t):null,null)}const a0e=Z.createElement(s0e,null);class l0e extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Z.createElement(Gv.Provider,{value:this.props.routeContext},Z.createElement(wte.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c0e(n){let{routeContext:e,match:t,children:r}=n,i=Z.useContext(H9);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(Gv.Provider,{value:e},r)}function u0e(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let m=a.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);m>=0||ka(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,h=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=m),v.route.id){let{loaderData:_,errors:k}=t,R=v.route.loader&&_[v.route.id]===void 0&&(!k||k[v.route.id]===void 0);if(v.route.lazy||R){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,v,_)=>{let k,R=!1,T=null,F=null;t&&(k=c&&v.route.id?c[v.route.id]:void 0,T=v.route.errorElement||a0e,u&&(h<0&&_===0?(R=!0,F=null):h===_&&(R=!0,F=v.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,_+1)),j=()=>{let B;return k?B=T:R?B=F:v.route.Component?B=Z.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=m,Z.createElement(c0e,{match:v,routeContext:{outlet:m,matches:$,isDataRoute:t!=null},children:B})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?Z.createElement(l0e,{location:t.location,revalidation:t.revalidation,component:T,error:k,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}var Ste=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Ste||{}),BD=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(BD||{});function d0e(n){let e=Z.useContext(H9);return e||ka(!1),e}function f0e(n){let e=Z.useContext(t0e);return e||ka(!1),e}function h0e(n){let e=Z.useContext(Gv);return e||ka(!1),e}function kte(n){let e=h0e(),t=e.matches[e.matches.length-1];return t.route.id||ka(!1),t.route.id}function p0e(){var n;let e=Z.useContext(wte),t=f0e(BD.UseRouteError),r=kte(BD.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function m0e(){let{router:n}=d0e(Ste.UseNavigateStable),e=kte(BD.UseNavigateStable),t=Z.useRef(!1);return _te(()=>{t.current=!0}),Z.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,qC({fromRouteId:e},o)))},[n,e])}function Dc(n){ka(!1)}function g0e(n){let{basename:e="/",children:t=null,location:r,navigationType:i=nv.Pop,navigator:o,static:a=!1,future:c}=n;jO()&&ka(!1);let u=e.replace(/^\/*/,"/"),h=Z.useMemo(()=>({basename:u,navigator:o,static:a,future:qC({v7_relativeSplatPath:!1},c)}),[u,c,o,a]);typeof r=="string"&&(r=lE(r));let{pathname:m="/",search:v="",hash:_="",state:k=null,key:R="default"}=r,T=Z.useMemo(()=>{let F=z9(m,u);return F==null?null:{location:{pathname:F,search:v,hash:_,state:k,key:R},navigationType:i}},[u,m,v,_,k,R,i]);return T==null?null:Z.createElement(Sb.Provider,{value:h},Z.createElement(yN.Provider,{children:t,value:T}))}function y0e(n){let{children:e,location:t}=n;return i0e(z$(e),t)}new Promise(()=>{});function z$(n,e){e===void 0&&(e=[]);let t=[];return Z.Children.forEach(n,(r,i)=>{if(!Z.isValidElement(r))return;let o=[...e,i];if(r.type===Z.Fragment){t.push.apply(t,z$(r.props.children,o));return}r.type!==Dc&&ka(!1),!r.props.index||!r.props.children||ka(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=z$(r.props.children,o)),t.push(a)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H$(){return H$=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},H$.apply(this,arguments)}function v0e(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function b0e(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function x0e(n,e){return n.button===0&&(!e||e==="_self")&&!b0e(n)}const w0e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_0e="6";try{window.__reactRouterVersion=_0e}catch{}const E0e="startTransition",yq=KZ[E0e];function S0e(n){let{basename:e,children:t,future:r,window:i}=n,o=Z.useRef();o.current==null&&(o.current=Rve({window:i,v5Compat:!0}));let a=o.current,[c,u]=Z.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},m=Z.useCallback(v=>{h&&yq?yq(()=>u(v)):u(v)},[u,h]);return Z.useLayoutEffect(()=>a.listen(m),[a,m]),Z.createElement(g0e,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:a,future:r})}const k0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cl=Z.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:m,viewTransition:v}=e,_=v0e(e,w0e),{basename:k}=Z.useContext(Sb),R,T=!1;if(typeof h=="string"&&C0e.test(h)&&(R=h,k0e))try{let B=new URL(window.location.href),I=h.startsWith("//")?new URL(B.protocol+h):new URL(h),Y=z9(I.pathname,k);I.origin===B.origin&&Y!=null?h=Y+I.search+I.hash:T=!0}catch{}let F=n0e(h,{relative:i}),$=O0e(h,{replace:a,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:v});function j(B){r&&r(B),B.defaultPrevented||$(B)}return Z.createElement("a",H$({},_,{href:R||F,onClick:T||o?r:j,ref:t,target:u}))});var vq;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(vq||(vq={}));var bq;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(bq||(bq={}));function O0e(n,e){let{target:t,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:c}=e===void 0?{}:e,u=kb(),h=cE(),m=Ete(n,{relative:a});return Z.useCallback(v=>{if(x0e(v,t)){v.preventDefault();let _=r!==void 0?r:$D(h)===$D(m);u(n,{replace:_,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[h,u,m,r,i,t,n,o,a,c])}const T0e=1,A0e=1e6;let KL=0;function R0e(){return KL=(KL+1)%Number.MAX_SAFE_INTEGER,KL.toString()}const XL=new Map,xq=n=>{if(XL.has(n))return;const e=setTimeout(()=>{XL.delete(n),aC({type:"REMOVE_TOAST",toastId:n})},A0e);XL.set(n,e)},P0e=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,T0e)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?xq(t):n.toasts.forEach(r=>{xq(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},BM=[];let jM={toasts:[]};function aC(n){jM=P0e(jM,n),BM.forEach(e=>{e(jM)})}function M0e({...n}){const e=R0e(),t=i=>aC({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>aC({type:"DISMISS_TOAST",toastId:e});return aC({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function D0e(){const[n,e]=Z.useState(jM);return Z.useEffect(()=>(BM.push(e),()=>{const t=BM.indexOf(e);t>-1&&BM.splice(t,1)}),[n]),{...n,toast:M0e,dismiss:t=>aC({type:"DISMISS_TOAST",toastId:t})}}function Gr(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function N0e(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Cte(...n){return e=>n.forEach(t=>N0e(t,e))}function zo(...n){return Z.useCallback(Cte(...n),n)}function I0e(n,e=[]){let t=[];function r(o,a){const c=Z.createContext(a),u=t.length;t=[...t,a];function h(v){const{scope:_,children:k,...R}=v,T=(_==null?void 0:_[n][u])||c,F=Z.useMemo(()=>R,Object.values(R));return V.jsx(T.Provider,{value:F,children:k})}function m(v,_){const k=(_==null?void 0:_[n][u])||c,R=Z.useContext(k);if(R)return R;if(a!==void 0)return a;throw new Error(`\`${v}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,m]}const i=()=>{const o=t.map(a=>Z.createContext(a));return function(c){const u=(c==null?void 0:c[n])||o;return Z.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,L0e(i,...e)]}function L0e(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const v=u(o)[`__scope${h}`];return{...c,...v}},{});return Z.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var Tv=Z.forwardRef((n,e)=>{const{children:t,...r}=n,i=Z.Children.toArray(t),o=i.find(F0e);if(o){const a=o.props.children,c=i.map(u=>u===o?Z.Children.count(a)>1?Z.Children.only(null):Z.isValidElement(a)?a.props.children:null:u);return V.jsx(W$,{...r,ref:e,children:Z.isValidElement(a)?Z.cloneElement(a,void 0,c):null})}return V.jsx(W$,{...r,ref:e,children:t})});Tv.displayName="Slot";var W$=Z.forwardRef((n,e)=>{const{children:t,...r}=n;if(Z.isValidElement(t)){const i=B0e(t);return Z.cloneElement(t,{...$0e(r,t.props),ref:e?Cte(e,i):i})}return Z.Children.count(t)>1?Z.Children.only(null):null});W$.displayName="SlotClone";var W9=({children:n})=>V.jsx(V.Fragment,{children:n});function F0e(n){return Z.isValidElement(n)&&n.type===W9}function $0e(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{o(...c),i(...c)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function B0e(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Ote(n){const e=n+"CollectionProvider",[t,r]=I0e(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=k=>{const{scope:R,children:T}=k,F=Mt.useRef(null),$=Mt.useRef(new Map).current;return V.jsx(i,{scope:R,itemMap:$,collectionRef:F,children:T})};a.displayName=e;const c=n+"CollectionSlot",u=Mt.forwardRef((k,R)=>{const{scope:T,children:F}=k,$=o(c,T),j=zo(R,$.collectionRef);return V.jsx(Tv,{ref:j,children:F})});u.displayName=c;const h=n+"CollectionItemSlot",m="data-radix-collection-item",v=Mt.forwardRef((k,R)=>{const{scope:T,children:F,...$}=k,j=Mt.useRef(null),B=zo(R,j),I=o(h,T);return Mt.useEffect(()=>(I.itemMap.set(j,{ref:j,...$}),()=>void I.itemMap.delete(j))),V.jsx(Tv,{[m]:"",ref:B,children:F})});v.displayName=h;function _(k){const R=o(n+"CollectionConsumer",k);return Mt.useCallback(()=>{const F=R.collectionRef.current;if(!F)return[];const $=Array.from(F.querySelectorAll(`[${m}]`));return Array.from(R.itemMap.values()).sort((I,Y)=>$.indexOf(I.ref.current)-$.indexOf(Y.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:a,Slot:u,ItemSlot:v},_,r]}function j0e(n,e){const t=Z.createContext(e),r=o=>{const{children:a,...c}=o,u=Z.useMemo(()=>c,Object.values(c));return V.jsx(t.Provider,{value:u,children:a})};r.displayName=n+"Provider";function i(o){const a=Z.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,i]}function VO(n,e=[]){let t=[];function r(o,a){const c=Z.createContext(a),u=t.length;t=[...t,a];const h=v=>{var $;const{scope:_,children:k,...R}=v,T=(($=_==null?void 0:_[n])==null?void 0:$[u])||c,F=Z.useMemo(()=>R,Object.values(R));return V.jsx(T.Provider,{value:F,children:k})};h.displayName=o+"Provider";function m(v,_){var T;const k=((T=_==null?void 0:_[n])==null?void 0:T[u])||c,R=Z.useContext(k);if(R)return R;if(a!==void 0)return a;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[h,m]}const i=()=>{const o=t.map(a=>Z.createContext(a));return function(c){const u=(c==null?void 0:c[n])||o;return Z.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,V0e(i,...e)]}function V0e(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const v=u(o)[`__scope${h}`];return{...c,...v}},{});return Z.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var z0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zi=z0e.reduce((n,e)=>{const t=Z.forwardRef((r,i)=>{const{asChild:o,...a}=r,c=o?Tv:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(c,{...a,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Tte(n,e){n&&Eb.flushSync(()=>n.dispatchEvent(e))}function wd(n){const e=Z.useRef(n);return Z.useEffect(()=>{e.current=n}),Z.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function H0e(n,e=globalThis==null?void 0:globalThis.document){const t=wd(n);Z.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var W0e="DismissableLayer",q$="dismissableLayer.update",q0e="dismissableLayer.pointerDownOutside",U0e="dismissableLayer.focusOutside",wq,Ate=Z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zO=Z.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...u}=n,h=Z.useContext(Ate),[m,v]=Z.useState(null),_=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=Z.useState({}),R=zo(e,ne=>v(ne)),T=Array.from(h.layers),[F]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),$=T.indexOf(F),j=m?T.indexOf(m):-1,B=h.layersWithOutsidePointerEventsDisabled.size>0,I=j>=$,Y=Y0e(ne=>{const ae=ne.target,Te=[...h.branches].some(Me=>Me.contains(ae));!I||Te||(i==null||i(ne),a==null||a(ne),ne.defaultPrevented||c==null||c())},_),oe=Q0e(ne=>{const ae=ne.target;[...h.branches].some(Me=>Me.contains(ae))||(o==null||o(ne),a==null||a(ne),ne.defaultPrevented||c==null||c())},_);return H0e(ne=>{j===h.layers.size-1&&(r==null||r(ne),!ne.defaultPrevented&&c&&(ne.preventDefault(),c()))},_),Z.useEffect(()=>{if(m)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(wq=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),_q(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=wq)}},[m,_,t,h]),Z.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),_q())},[m,h]),Z.useEffect(()=>{const ne=()=>k({});return document.addEventListener(q$,ne),()=>document.removeEventListener(q$,ne)},[]),V.jsx(zi.div,{...u,ref:R,style:{pointerEvents:B?I?"auto":"none":void 0,...n.style},onFocusCapture:Gr(n.onFocusCapture,oe.onFocusCapture),onBlurCapture:Gr(n.onBlurCapture,oe.onBlurCapture),onPointerDownCapture:Gr(n.onPointerDownCapture,Y.onPointerDownCapture)})});zO.displayName=W0e;var G0e="DismissableLayerBranch",Rte=Z.forwardRef((n,e)=>{const t=Z.useContext(Ate),r=Z.useRef(null),i=zo(e,r);return Z.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),V.jsx(zi.div,{...n,ref:i})});Rte.displayName=G0e;function Y0e(n,e=globalThis==null?void 0:globalThis.document){const t=wd(n),r=Z.useRef(!1),i=Z.useRef(()=>{});return Z.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){Pte(q0e,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Q0e(n,e=globalThis==null?void 0:globalThis.document){const t=wd(n),r=Z.useRef(!1);return Z.useEffect(()=>{const i=o=>{o.target&&!r.current&&Pte(U0e,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _q(){const n=new CustomEvent(q$);document.dispatchEvent(n)}function Pte(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Tte(i,o):i.dispatchEvent(o)}var K0e=zO,X0e=Rte,oc=globalThis!=null&&globalThis.document?Z.useLayoutEffect:()=>{},Z0e="Portal",bN=Z.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,o]=Z.useState(!1);oc(()=>o(!0),[]);const a=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?Jee.createPortal(V.jsx(zi.div,{...r,ref:e}),a):null});bN.displayName=Z0e;function J0e(n,e){return Z.useReducer((t,r)=>e[t][r]??t,n)}var uE=n=>{const{present:e,children:t}=n,r=e1e(e),i=typeof t=="function"?t({present:r.isPresent}):Z.Children.only(t),o=zo(r.ref,t1e(i));return typeof t=="function"||r.isPresent?Z.cloneElement(i,{ref:o}):null};uE.displayName="Presence";function e1e(n){const[e,t]=Z.useState(),r=Z.useRef({}),i=Z.useRef(n),o=Z.useRef("none"),a=n?"mounted":"unmounted",[c,u]=J0e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Z.useEffect(()=>{const h=gP(r.current);o.current=c==="mounted"?h:"none"},[c]),oc(()=>{const h=r.current,m=i.current;if(m!==n){const _=o.current,k=gP(h);n?u("MOUNT"):k==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(m&&_!==k?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,u]),oc(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,v=k=>{const T=gP(r.current).includes(k.animationName);if(k.target===e&&T&&(u("ANIMATION_END"),!i.current)){const F=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=F)})}},_=k=>{k.target===e&&(o.current=gP(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:Z.useCallback(h=>{h&&(r.current=getComputedStyle(h)),t(h)},[])}}function gP(n){return(n==null?void 0:n.animationName)||"none"}function t1e(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function jD({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=n1e({defaultProp:e,onChange:t}),o=n!==void 0,a=o?n:r,c=wd(t),u=Z.useCallback(h=>{if(o){const v=typeof h=="function"?h(n):h;v!==n&&c(v)}else i(h)},[o,n,i,c]);return[a,u]}function n1e({defaultProp:n,onChange:e}){const t=Z.useState(n),[r]=t,i=Z.useRef(r),o=wd(e);return Z.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}var r1e="VisuallyHidden",HO=Z.forwardRef((n,e)=>V.jsx(zi.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));HO.displayName=r1e;var i1e=HO,q9="ToastProvider",[U9,o1e,s1e]=Ote("Toast"),[Mte,SYe]=VO("Toast",[s1e]),[a1e,xN]=Mte(q9),Dte=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=n,[c,u]=Z.useState(null),[h,m]=Z.useState(0),v=Z.useRef(!1),_=Z.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${q9}\`. Expected non-empty \`string\`.`),V.jsx(U9.Provider,{scope:e,children:V.jsx(a1e,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:u,onToastAdd:Z.useCallback(()=>m(k=>k+1),[]),onToastRemove:Z.useCallback(()=>m(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:_,children:a})})};Dte.displayName=q9;var Nte="ToastViewport",l1e=["F8"],U$="toast.viewportPause",G$="toast.viewportResume",Ite=Z.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=l1e,label:i="Notifications ({hotkey})",...o}=n,a=xN(Nte,t),c=o1e(t),u=Z.useRef(null),h=Z.useRef(null),m=Z.useRef(null),v=Z.useRef(null),_=zo(e,v,a.onViewportChange),k=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=a.toastCount>0;Z.useEffect(()=>{const F=$=>{var B;r.length!==0&&r.every(I=>$[I]||$.code===I)&&((B=v.current)==null||B.focus())};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[r]),Z.useEffect(()=>{const F=u.current,$=v.current;if(R&&F&&$){const j=()=>{if(!a.isClosePausedRef.current){const oe=new CustomEvent(U$);$.dispatchEvent(oe),a.isClosePausedRef.current=!0}},B=()=>{if(a.isClosePausedRef.current){const oe=new CustomEvent(G$);$.dispatchEvent(oe),a.isClosePausedRef.current=!1}},I=oe=>{!F.contains(oe.relatedTarget)&&B()},Y=()=>{F.contains(document.activeElement)||B()};return F.addEventListener("focusin",j),F.addEventListener("focusout",I),F.addEventListener("pointermove",j),F.addEventListener("pointerleave",Y),window.addEventListener("blur",j),window.addEventListener("focus",B),()=>{F.removeEventListener("focusin",j),F.removeEventListener("focusout",I),F.removeEventListener("pointermove",j),F.removeEventListener("pointerleave",Y),window.removeEventListener("blur",j),window.removeEventListener("focus",B)}}},[R,a.isClosePausedRef]);const T=Z.useCallback(({tabbingDirection:F})=>{const j=c().map(B=>{const I=B.ref.current,Y=[I,...w1e(I)];return F==="forwards"?Y:Y.reverse()});return(F==="forwards"?j.reverse():j).flat()},[c]);return Z.useEffect(()=>{const F=v.current;if(F){const $=j=>{var Y,oe,ne;const B=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!B){const ae=document.activeElement,Te=j.shiftKey;if(j.target===F&&Te){(Y=h.current)==null||Y.focus();return}const we=T({tabbingDirection:Te?"backwards":"forwards"}),Ce=we.findIndex(Oe=>Oe===ae);ZL(we.slice(Ce+1))?j.preventDefault():Te?(oe=h.current)==null||oe.focus():(ne=m.current)==null||ne.focus()}};return F.addEventListener("keydown",$),()=>F.removeEventListener("keydown",$)}},[c,T]),V.jsxs(X0e,{ref:u,role:"region","aria-label":i.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&V.jsx(Y$,{ref:h,onFocusFromOutsideViewport:()=>{const F=T({tabbingDirection:"forwards"});ZL(F)}}),V.jsx(U9.Slot,{scope:t,children:V.jsx(zi.ol,{tabIndex:-1,...o,ref:_})}),R&&V.jsx(Y$,{ref:m,onFocusFromOutsideViewport:()=>{const F=T({tabbingDirection:"backwards"});ZL(F)}})]})});Ite.displayName=Nte;var Lte="ToastFocusProxy",Y$=Z.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,o=xN(Lte,t);return V.jsx(HO,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var h;const c=a.relatedTarget;!((h=o.viewport)!=null&&h.contains(c))&&r()}})});Y$.displayName=Lte;var wN="Toast",c1e="toast.swipeStart",u1e="toast.swipeMove",d1e="toast.swipeCancel",f1e="toast.swipeEnd",Fte=Z.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:o,...a}=n,[c=!0,u]=jD({prop:r,defaultProp:i,onChange:o});return V.jsx(uE,{present:t||c,children:V.jsx(m1e,{open:c,...a,ref:e,onClose:()=>u(!1),onPause:wd(n.onPause),onResume:wd(n.onResume),onSwipeStart:Gr(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Gr(n.onSwipeMove,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Gr(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Gr(n.onSwipeEnd,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),u(!1)})})})});Fte.displayName=wN;var[h1e,p1e]=Mte(wN,{onClose(){}}),m1e=Z.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:c,onPause:u,onResume:h,onSwipeStart:m,onSwipeMove:v,onSwipeCancel:_,onSwipeEnd:k,...R}=n,T=xN(wN,t),[F,$]=Z.useState(null),j=zo(e,Oe=>$(Oe)),B=Z.useRef(null),I=Z.useRef(null),Y=i||T.duration,oe=Z.useRef(0),ne=Z.useRef(Y),ae=Z.useRef(0),{onToastAdd:Te,onToastRemove:Me}=T,Ee=wd(()=>{var Fe;(F==null?void 0:F.contains(document.activeElement))&&((Fe=T.viewport)==null||Fe.focus()),a()}),we=Z.useCallback(Oe=>{!Oe||Oe===1/0||(window.clearTimeout(ae.current),oe.current=new Date().getTime(),ae.current=window.setTimeout(Ee,Oe))},[Ee]);Z.useEffect(()=>{const Oe=T.viewport;if(Oe){const Fe=()=>{we(ne.current),h==null||h()},ze=()=>{const dt=new Date().getTime()-oe.current;ne.current=ne.current-dt,window.clearTimeout(ae.current),u==null||u()};return Oe.addEventListener(U$,ze),Oe.addEventListener(G$,Fe),()=>{Oe.removeEventListener(U$,ze),Oe.removeEventListener(G$,Fe)}}},[T.viewport,Y,u,h,we]),Z.useEffect(()=>{o&&!T.isClosePausedRef.current&&we(Y)},[o,Y,T.isClosePausedRef,we]),Z.useEffect(()=>(Te(),()=>Me()),[Te,Me]);const Ce=Z.useMemo(()=>F?Wte(F):null,[F]);return T.viewport?V.jsxs(V.Fragment,{children:[Ce&&V.jsx(g1e,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Ce}),V.jsx(h1e,{scope:t,onClose:Ee,children:Eb.createPortal(V.jsx(U9.ItemSlot,{scope:t,children:V.jsx(K0e,{asChild:!0,onEscapeKeyDown:Gr(c,()=>{T.isFocusedToastEscapeKeyDownRef.current||Ee(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:V.jsx(zi.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":T.swipeDirection,...R,ref:j,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Gr(n.onKeyDown,Oe=>{Oe.key==="Escape"&&(c==null||c(Oe.nativeEvent),Oe.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,Ee()))}),onPointerDown:Gr(n.onPointerDown,Oe=>{Oe.button===0&&(B.current={x:Oe.clientX,y:Oe.clientY})}),onPointerMove:Gr(n.onPointerMove,Oe=>{if(!B.current)return;const Fe=Oe.clientX-B.current.x,ze=Oe.clientY-B.current.y,dt=!!I.current,De=["left","right"].includes(T.swipeDirection),Ze=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,bt=De?Ze(0,Fe):0,Ye=De?0:Ze(0,ze),rt=Oe.pointerType==="touch"?10:2,ve={x:bt,y:Ye},vt={originalEvent:Oe,delta:ve};dt?(I.current=ve,yP(u1e,v,vt,{discrete:!1})):Eq(ve,T.swipeDirection,rt)?(I.current=ve,yP(c1e,m,vt,{discrete:!1}),Oe.target.setPointerCapture(Oe.pointerId)):(Math.abs(Fe)>rt||Math.abs(ze)>rt)&&(B.current=null)}),onPointerUp:Gr(n.onPointerUp,Oe=>{const Fe=I.current,ze=Oe.target;if(ze.hasPointerCapture(Oe.pointerId)&&ze.releasePointerCapture(Oe.pointerId),I.current=null,B.current=null,Fe){const dt=Oe.currentTarget,De={originalEvent:Oe,delta:Fe};Eq(Fe,T.swipeDirection,T.swipeThreshold)?yP(f1e,k,De,{discrete:!0}):yP(d1e,_,De,{discrete:!0}),dt.addEventListener("click",Ze=>Ze.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),g1e=n=>{const{__scopeToast:e,children:t,...r}=n,i=xN(wN,e),[o,a]=Z.useState(!1),[c,u]=Z.useState(!1);return b1e(()=>a(!0)),Z.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:V.jsx(bN,{asChild:!0,children:V.jsx(HO,{...r,children:o&&V.jsxs(V.Fragment,{children:[i.label," ",t]})})})},y1e="ToastTitle",$te=Z.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return V.jsx(zi.div,{...r,ref:e})});$te.displayName=y1e;var v1e="ToastDescription",Bte=Z.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return V.jsx(zi.div,{...r,ref:e})});Bte.displayName=v1e;var jte="ToastAction",Vte=Z.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?V.jsx(Hte,{altText:t,asChild:!0,children:V.jsx(G9,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jte}\`. Expected non-empty \`string\`.`),null)});Vte.displayName=jte;var zte="ToastClose",G9=Z.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=p1e(zte,t);return V.jsx(Hte,{asChild:!0,children:V.jsx(zi.button,{type:"button",...r,ref:e,onClick:Gr(n.onClick,i.onClose)})})});G9.displayName=zte;var Hte=Z.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return V.jsx(zi.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Wte(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),x1e(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Wte(r))}}),e}function yP(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,o=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Tte(i,o):i.dispatchEvent(o)}var Eq=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),o=r>i;return e==="left"||e==="right"?o&&r>t:!o&&i>t};function b1e(n=()=>{}){const e=wd(n);oc(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function x1e(n){return n.nodeType===n.ELEMENT_NODE}function w1e(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ZL(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var _1e=Dte,qte=Ite,Ute=Fte,Gte=$te,Yte=Bte,Qte=Vte,Kte=G9;function Xte(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Xte(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Zte(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Xte(n))&&(r&&(r+=" "),r+=e);return r}const Sq=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,kq=Zte,Y9=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return kq(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(h=>{const m=t==null?void 0:t[h],v=o==null?void 0:o[h];if(m===null)return null;const _=Sq(m)||Sq(v);return i[h][_]}),c=t&&Object.entries(t).reduce((h,m)=>{let[v,_]=m;return _===void 0||(h[v]=_),h},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:v,className:_,...k}=m;return Object.entries(k).every(R=>{let[T,F]=R;return Array.isArray(F)?F.includes({...o,...c}[T]):{...o,...c}[T]===F})?[...h,v,_]:h},[]);return kq(n,a,u,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1e=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jte=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S1e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1e=Z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...c},u)=>Z.createElement("svg",{ref:u,...S1e,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Jte("lucide",i),...c},[...a.map(([h,m])=>Z.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=(n,e)=>{const t=Z.forwardRef(({className:r,...i},o)=>Z.createElement(k1e,{ref:o,iconNode:e,className:Jte(`lucide-${E1e(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Ya("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1e=Ya("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Ya("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1e=Ya("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1e=Ya("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=Ya("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Ya("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=Ya("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=Ya("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1e=Ya("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=Ya("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=Ya("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1e=Ya("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Ya("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=Ya("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=Ya("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1e=Ya("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Ya("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1e=Ya("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),t8="-",N1e=n=>{const e=L1e(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const c=a.split(t8);return c[0]===""&&c.length!==1&&c.shift(),nne(c,e)||I1e(a)},getConflictingClassGroupIds:(a,c)=>{const u=t[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},nne=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?nne(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(t8);return(a=e.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId},Cq=/^\[(.+)\]$/,I1e=n=>{if(Cq.test(n)){const e=Cq.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},L1e=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return $1e(Object.entries(n.classGroups),t).forEach(([o,a])=>{Q$(a,r,o,e)}),r},Q$=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Oq(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(F1e(i)){Q$(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,a])=>{Q$(a,Oq(e,o),t,r)})})},Oq=(n,e)=>{let t=n;return e.split(t8).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},F1e=n=>n.isThemeGetter,$1e=(n,e)=>e?n.map(([t,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[e+a,c])):o);return[t,i]}):n,B1e=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,a)=>{t.set(o,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let a=t.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){t.has(o)?t.set(o,a):i(o,a)}}},rne="!",j1e=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],o=e.length,a=c=>{const u=[];let h=0,m=0,v;for(let F=0;F<c.length;F++){let $=c[F];if(h===0){if($===i&&(r||c.slice(F,F+o)===e)){u.push(c.slice(m,F)),m=F+o;continue}if($==="/"){v=F;continue}}$==="["?h++:$==="]"&&h--}const _=u.length===0?c:c.substring(m),k=_.startsWith(rne),R=k?_.substring(1):_,T=v&&v>m?v-m:void 0;return{modifiers:u,hasImportantModifier:k,baseClassName:R,maybePostfixModifierPosition:T}};return t?c=>t({className:c,parseClassName:a}):a},V1e=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},z1e=n=>({cache:B1e(n.cacheSize),parseClassName:j1e(n),...N1e(n)}),H1e=/\s+/,W1e=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=n.trim().split(H1e);let c="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{modifiers:m,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:k}=t(h);let R=!!k,T=r(R?_.substring(0,k):_);if(!T){if(!R){c=h+(c.length>0?" "+c:c);continue}if(T=r(_),!T){c=h+(c.length>0?" "+c:c);continue}R=!1}const F=V1e(m).join(":"),$=v?F+rne:F,j=$+T;if(o.includes(j))continue;o.push(j);const B=i(T,R);for(let I=0;I<B.length;++I){const Y=B[I];o.push($+Y)}c=h+(c.length>0?" "+c:c)}return c};function q1e(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=ine(e))&&(r&&(r+=" "),r+=t);return r}const ine=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=ine(n[r]))&&(t&&(t+=" "),t+=e);return t};function U1e(n,...e){let t,r,i,o=a;function a(u){const h=e.reduce((m,v)=>v(m),n());return t=z1e(h),r=t.cache.get,i=t.cache.set,o=c,c(u)}function c(u){const h=r(u);if(h)return h;const m=W1e(u,t);return i(u,m),m}return function(){return o(q1e.apply(null,arguments))}}const is=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},one=/^\[(?:([a-z-]+):)?(.+)\]$/i,G1e=/^\d+\/\d+$/,Y1e=new Set(["px","full","screen"]),Q1e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K1e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X1e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z1e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J1e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bm=n=>Kw(n)||Y1e.has(n)||G1e.test(n),ky=n=>fE(n,"length",abe),Kw=n=>!!n&&!Number.isNaN(Number(n)),JL=n=>fE(n,"number",Kw),o2=n=>!!n&&Number.isInteger(Number(n)),ebe=n=>n.endsWith("%")&&Kw(n.slice(0,-1)),Zr=n=>one.test(n),Cy=n=>Q1e.test(n),tbe=new Set(["length","size","percentage"]),nbe=n=>fE(n,tbe,sne),rbe=n=>fE(n,"position",sne),ibe=new Set(["image","url"]),obe=n=>fE(n,ibe,cbe),sbe=n=>fE(n,"",lbe),s2=()=>!0,fE=(n,e,t)=>{const r=one.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},abe=n=>K1e.test(n)&&!X1e.test(n),sne=()=>!1,lbe=n=>Z1e.test(n),cbe=n=>J1e.test(n),ube=()=>{const n=is("colors"),e=is("spacing"),t=is("blur"),r=is("brightness"),i=is("borderColor"),o=is("borderRadius"),a=is("borderSpacing"),c=is("borderWidth"),u=is("contrast"),h=is("grayscale"),m=is("hueRotate"),v=is("invert"),_=is("gap"),k=is("gradientColorStops"),R=is("gradientColorStopPositions"),T=is("inset"),F=is("margin"),$=is("opacity"),j=is("padding"),B=is("saturate"),I=is("scale"),Y=is("sepia"),oe=is("skew"),ne=is("space"),ae=is("translate"),Te=()=>["auto","contain","none"],Me=()=>["auto","hidden","clip","visible","scroll"],Ee=()=>["auto",Zr,e],we=()=>[Zr,e],Ce=()=>["",Bm,ky],Oe=()=>["auto",Kw,Zr],Fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ze=()=>["solid","dashed","dotted","double","none"],dt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>["start","end","center","between","around","evenly","stretch"],Ze=()=>["","0",Zr],bt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ye=()=>[Kw,Zr];return{cacheSize:500,separator:":",theme:{colors:[s2],spacing:[Bm,ky],blur:["none","",Cy,Zr],brightness:Ye(),borderColor:[n],borderRadius:["none","","full",Cy,Zr],borderSpacing:we(),borderWidth:Ce(),contrast:Ye(),grayscale:Ze(),hueRotate:Ye(),invert:Ze(),gap:we(),gradientColorStops:[n],gradientColorStopPositions:[ebe,ky],inset:Ee(),margin:Ee(),opacity:Ye(),padding:we(),saturate:Ye(),scale:Ye(),sepia:Ze(),skew:Ye(),space:we(),translate:we()},classGroups:{aspect:[{aspect:["auto","square","video",Zr]}],container:["container"],columns:[{columns:[Cy]}],"break-after":[{"break-after":bt()}],"break-before":[{"break-before":bt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Fe(),Zr]}],overflow:[{overflow:Me()}],"overflow-x":[{"overflow-x":Me()}],"overflow-y":[{"overflow-y":Me()}],overscroll:[{overscroll:Te()}],"overscroll-x":[{"overscroll-x":Te()}],"overscroll-y":[{"overscroll-y":Te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",o2,Zr]}],basis:[{basis:Ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Zr]}],grow:[{grow:Ze()}],shrink:[{shrink:Ze()}],order:[{order:["first","last","none",o2,Zr]}],"grid-cols":[{"grid-cols":[s2]}],"col-start-end":[{col:["auto",{span:["full",o2,Zr]},Zr]}],"col-start":[{"col-start":Oe()}],"col-end":[{"col-end":Oe()}],"grid-rows":[{"grid-rows":[s2]}],"row-start-end":[{row:["auto",{span:[o2,Zr]},Zr]}],"row-start":[{"row-start":Oe()}],"row-end":[{"row-end":Oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Zr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Zr]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...De()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...De(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...De(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[F]}],mx:[{mx:[F]}],my:[{my:[F]}],ms:[{ms:[F]}],me:[{me:[F]}],mt:[{mt:[F]}],mr:[{mr:[F]}],mb:[{mb:[F]}],ml:[{ml:[F]}],"space-x":[{"space-x":[ne]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ne]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Zr,e]}],"min-w":[{"min-w":[Zr,e,"min","max","fit"]}],"max-w":[{"max-w":[Zr,e,"none","full","min","max","fit","prose",{screen:[Cy]},Cy]}],h:[{h:[Zr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Zr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Zr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Zr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cy,ky]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",JL]}],"font-family":[{font:[s2]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Zr]}],"line-clamp":[{"line-clamp":["none",Kw,JL]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bm,Zr]}],"list-image":[{"list-image":["none",Zr]}],"list-style-type":[{list:["none","disc","decimal",Zr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[$]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ze(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bm,ky]}],"underline-offset":[{"underline-offset":["auto",Bm,Zr]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:we()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Zr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Zr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[$]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Fe(),rbe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nbe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},obe]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[$]}],"border-style":[{border:[...ze(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[$]}],"divide-style":[{divide:ze()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ze()]}],"outline-offset":[{"outline-offset":[Bm,Zr]}],"outline-w":[{outline:[Bm,ky]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:Ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[$]}],"ring-offset-w":[{"ring-offset":[Bm,ky]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Cy,sbe]}],"shadow-color":[{shadow:[s2]}],opacity:[{opacity:[$]}],"mix-blend":[{"mix-blend":[...dt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":dt()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Cy,Zr]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[B]}],sepia:[{sepia:[Y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[$]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Zr]}],duration:[{duration:Ye()}],ease:[{ease:["linear","in","out","in-out",Zr]}],delay:[{delay:Ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",Zr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[o2,Zr]}],"translate-x":[{"translate-x":[ae]}],"translate-y":[{"translate-y":[ae]}],"skew-x":[{"skew-x":[oe]}],"skew-y":[{"skew-y":[oe]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Zr]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Zr]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":we()}],"scroll-mx":[{"scroll-mx":we()}],"scroll-my":[{"scroll-my":we()}],"scroll-ms":[{"scroll-ms":we()}],"scroll-me":[{"scroll-me":we()}],"scroll-mt":[{"scroll-mt":we()}],"scroll-mr":[{"scroll-mr":we()}],"scroll-mb":[{"scroll-mb":we()}],"scroll-ml":[{"scroll-ml":we()}],"scroll-p":[{"scroll-p":we()}],"scroll-px":[{"scroll-px":we()}],"scroll-py":[{"scroll-py":we()}],"scroll-ps":[{"scroll-ps":we()}],"scroll-pe":[{"scroll-pe":we()}],"scroll-pt":[{"scroll-pt":we()}],"scroll-pr":[{"scroll-pr":we()}],"scroll-pb":[{"scroll-pb":we()}],"scroll-pl":[{"scroll-pl":we()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Zr]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Bm,ky,JL]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dbe=U1e(ube);function oi(...n){return dbe(Zte(n))}const fbe=_1e,ane=Z.forwardRef(({className:n,...e},t)=>V.jsx(qte,{ref:t,className:oi("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));ane.displayName=qte.displayName;const hbe=Y9("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lne=Z.forwardRef(({className:n,variant:e,...t},r)=>V.jsx(Ute,{ref:r,className:oi(hbe({variant:e}),n),...t}));lne.displayName=Ute.displayName;const pbe=Z.forwardRef(({className:n,...e},t)=>V.jsx(Qte,{ref:t,className:oi("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));pbe.displayName=Qte.displayName;const cne=Z.forwardRef(({className:n,...e},t)=>V.jsx(Kte,{ref:t,className:oi("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:V.jsx(D1e,{className:"h-4 w-4"})}));cne.displayName=Kte.displayName;const une=Z.forwardRef(({className:n,...e},t)=>V.jsx(Gte,{ref:t,className:oi("text-sm font-semibold",n),...e}));une.displayName=Gte.displayName;const dne=Z.forwardRef(({className:n,...e},t)=>V.jsx(Yte,{ref:t,className:oi("text-sm opacity-90",n),...e}));dne.displayName=Yte.displayName;function mbe(){const{toasts:n}=D0e();return V.jsxs(fbe,{children:[n.map(function({id:e,title:t,description:r,action:i,...o}){return V.jsxs(lne,{...o,children:[V.jsxs("div",{className:"grid gap-1",children:[t&&V.jsx(une,{children:t}),r&&V.jsx(dne,{children:r})]}),i,V.jsx(cne,{})]},e)}),V.jsx(ane,{})]})}var Tq=["light","dark"],gbe="(prefers-color-scheme: dark)",ybe=Z.createContext(void 0),vbe={setTheme:n=>{},themes:[]},bbe=()=>{var n;return(n=Z.useContext(ybe))!=null?n:vbe};Z.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:c,nonce:u})=>{let h=o==="system",m=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(R=>`'${R}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,v=i?Tq.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",_=(R,T=!1,F=!0)=>{let $=a?a[R]:R,j=T?R+"|| ''":`'${$}'`,B="";return i&&F&&!T&&Tq.includes(R)&&(B+=`d.style.colorScheme = '${R}';`),t==="class"?T||$?B+=`c.add(${j})`:B+="null":$&&(B+=`d[s](n,${j})`),B},k=n?`!function(){${m}${_(n)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${gbe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${_("dark")}}else{${_("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${_(a?"x[e]":"e",!0)}}${h?"":"else{"+_(o,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${_(a?"x[e]":"e",!0)}}else{${_(o,!1,!1)};}${v}}catch(t){}}();`;return Z.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:k}})});var xbe=n=>{switch(n){case"success":return Ebe;case"info":return kbe;case"warning":return Sbe;case"error":return Cbe;default:return null}},wbe=Array(12).fill(0),_be=({visible:n})=>Mt.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},Mt.createElement("div",{className:"sonner-spinner"},wbe.map((e,t)=>Mt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),Ebe=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Mt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Sbe=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Mt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kbe=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Mt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Cbe=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Mt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Obe=()=>{let[n,e]=Mt.useState(document.hidden);return Mt.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},K$=1,Tbe=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,i=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:K$++,o=this.toasts.find(c=>c.id===i),a=n.dismissible===void 0?!0:n.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...n,id:i,title:t}),{...c,...n,id:i,dismissible:a,title:t}):c):this.addToast({title:t,...r,dismissible:a,id:i}),i},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),i=t!==void 0;return r.then(async o=>{if(Rbe(o)&&!o.ok){i=!1;let a=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,c=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:t,type:"error",message:a,description:c})}else if(e.success!==void 0){i=!1;let a=typeof e.success=="function"?await e.success(o):e.success,c=typeof e.description=="function"?await e.description(o):e.description;this.create({id:t,type:"success",message:a,description:c})}}).catch(async o=>{if(e.error!==void 0){i=!1;let a=typeof e.error=="function"?await e.error(o):e.error,c=typeof e.description=="function"?await e.description(o):e.description;this.create({id:t,type:"error",message:a,description:c})}}).finally(()=>{var o;i&&(this.dismiss(t),t=void 0),(o=e.finally)==null||o.call(e)}),t},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||K$++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},sd=new Tbe,Abe=(n,e)=>{let t=(e==null?void 0:e.id)||K$++;return sd.addToast({title:n,...e,id:t}),t},Rbe=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Pbe=Abe,Mbe=()=>sd.toasts,ls=Object.assign(Pbe,{success:sd.success,info:sd.info,warning:sd.warning,error:sd.error,custom:sd.custom,message:sd.message,promise:sd.promise,dismiss:sd.dismiss,loading:sd.loading},{getHistory:Mbe});function Dbe(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}Dbe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vP(n){return n.label!==void 0}var Nbe=3,Ibe="32px",Lbe=4e3,Fbe=356,$be=14,Bbe=20,jbe=200;function Vbe(...n){return n.filter(Boolean).join(" ")}var zbe=n=>{var e,t,r,i,o,a,c,u,h,m;let{invert:v,toast:_,unstyled:k,interacting:R,setHeights:T,visibleToasts:F,heights:$,index:j,toasts:B,expanded:I,removeToast:Y,defaultRichColors:oe,closeButton:ne,style:ae,cancelButtonStyle:Te,actionButtonStyle:Me,className:Ee="",descriptionClassName:we="",duration:Ce,position:Oe,gap:Fe,loadingIcon:ze,expandByDefault:dt,classNames:De,icons:Ze,closeButtonAriaLabel:bt="Close toast",pauseWhenPageIsHidden:Ye,cn:rt}=n,[ve,vt]=Mt.useState(!1),[gt,Tt]=Mt.useState(!1),[Zt,pn]=Mt.useState(!1),[lr,ot]=Mt.useState(!1),[Ht,Vt]=Mt.useState(0),[mn,En]=Mt.useState(0),bn=Mt.useRef(null),nr=Mt.useRef(null),rr=j===0,Re=j+1<=F,We=_.type,Je=_.dismissible!==!1,Nt=_.className||"",Bt=_.descriptionClassName||"",At=Mt.useMemo(()=>$.findIndex(ct=>ct.toastId===_.id)||0,[$,_.id]),vn=Mt.useMemo(()=>{var ct;return(ct=_.closeButton)!=null?ct:ne},[_.closeButton,ne]),Nn=Mt.useMemo(()=>_.duration||Ce||Lbe,[_.duration,Ce]),Xt=Mt.useRef(0),Rr=Mt.useRef(0),Ti=Mt.useRef(0),fi=Mt.useRef(null),[pa,Vs]=Oe.split("-"),zr=Mt.useMemo(()=>$.reduce((ct,Et,Pr)=>Pr>=At?ct:ct+Et.height,0),[$,At]),_r=Obe(),mr=_.invert||v,Er=We==="loading";Rr.current=Mt.useMemo(()=>At*Fe+zr,[At,zr]),Mt.useEffect(()=>{vt(!0)},[]),Mt.useLayoutEffect(()=>{if(!ve)return;let ct=nr.current,Et=ct.style.height;ct.style.height="auto";let Pr=ct.getBoundingClientRect().height;ct.style.height=Et,En(Pr),T(Ai=>Ai.find(Ct=>Ct.toastId===_.id)?Ai.map(Ct=>Ct.toastId===_.id?{...Ct,height:Pr}:Ct):[{toastId:_.id,height:Pr,position:_.position},...Ai])},[ve,_.title,_.description,T,_.id]);let Di=Mt.useCallback(()=>{Tt(!0),Vt(Rr.current),T(ct=>ct.filter(Et=>Et.toastId!==_.id)),setTimeout(()=>{Y(_)},jbe)},[_,Y,T,Rr]);Mt.useEffect(()=>{if(_.promise&&We==="loading"||_.duration===1/0||_.type==="loading")return;let ct,Et=Nn;return I||R||Ye&&_r?(()=>{if(Ti.current<Xt.current){let Pr=new Date().getTime()-Xt.current;Et=Et-Pr}Ti.current=new Date().getTime()})():Et!==1/0&&(Xt.current=new Date().getTime(),ct=setTimeout(()=>{var Pr;(Pr=_.onAutoClose)==null||Pr.call(_,_),Di()},Et)),()=>clearTimeout(ct)},[I,R,dt,_,Nn,Di,_.promise,We,Ye,_r]),Mt.useEffect(()=>{let ct=nr.current;if(ct){let Et=ct.getBoundingClientRect().height;return En(Et),T(Pr=>[{toastId:_.id,height:Et,position:_.position},...Pr]),()=>T(Pr=>Pr.filter(Ai=>Ai.toastId!==_.id))}},[T,_.id]),Mt.useEffect(()=>{_.delete&&Di()},[Di,_.delete]);function Ho(){return Ze!=null&&Ze.loading?Mt.createElement("div",{className:"sonner-loader","data-visible":We==="loading"},Ze.loading):ze?Mt.createElement("div",{className:"sonner-loader","data-visible":We==="loading"},ze):Mt.createElement(_be,{visible:We==="loading"})}return Mt.createElement("li",{"aria-live":_.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:nr,className:rt(Ee,Nt,De==null?void 0:De.toast,(e=_==null?void 0:_.classNames)==null?void 0:e.toast,De==null?void 0:De.default,De==null?void 0:De[We],(t=_==null?void 0:_.classNames)==null?void 0:t[We]),"data-sonner-toast":"","data-rich-colors":(r=_.richColors)!=null?r:oe,"data-styled":!(_.jsx||_.unstyled||k),"data-mounted":ve,"data-promise":!!_.promise,"data-removed":gt,"data-visible":Re,"data-y-position":pa,"data-x-position":Vs,"data-index":j,"data-front":rr,"data-swiping":Zt,"data-dismissible":Je,"data-type":We,"data-invert":mr,"data-swipe-out":lr,"data-expanded":!!(I||dt&&ve),style:{"--index":j,"--toasts-before":j,"--z-index":B.length-j,"--offset":`${gt?Ht:Rr.current}px`,"--initial-height":dt?"auto":`${mn}px`,...ae,..._.style},onPointerDown:ct=>{Er||!Je||(bn.current=new Date,Vt(Rr.current),ct.target.setPointerCapture(ct.pointerId),ct.target.tagName!=="BUTTON"&&(pn(!0),fi.current={x:ct.clientX,y:ct.clientY}))},onPointerUp:()=>{var ct,Et,Pr,Ai;if(lr||!Je)return;fi.current=null;let Ct=Number(((ct=nr.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ro=new Date().getTime()-((Et=bn.current)==null?void 0:Et.getTime()),fe=Math.abs(Ct)/Ro;if(Math.abs(Ct)>=Bbe||fe>.11){Vt(Rr.current),(Pr=_.onDismiss)==null||Pr.call(_,_),Di(),ot(!0);return}(Ai=nr.current)==null||Ai.style.setProperty("--swipe-amount","0px"),pn(!1)},onPointerMove:ct=>{var Et;if(!fi.current||!Je)return;let Pr=ct.clientY-fi.current.y,Ai=ct.clientX-fi.current.x,Ct=(pa==="top"?Math.min:Math.max)(0,Pr),Ro=ct.pointerType==="touch"?10:2;Math.abs(Ct)>Ro?(Et=nr.current)==null||Et.style.setProperty("--swipe-amount",`${Pr}px`):Math.abs(Ai)>Ro&&(fi.current=null)}},vn&&!_.jsx?Mt.createElement("button",{"aria-label":bt,"data-disabled":Er,"data-close-button":!0,onClick:Er||!Je?()=>{}:()=>{var ct;Di(),(ct=_.onDismiss)==null||ct.call(_,_)},className:rt(De==null?void 0:De.closeButton,(i=_==null?void 0:_.classNames)==null?void 0:i.closeButton)},Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Mt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Mt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,_.jsx||Mt.isValidElement(_.title)?_.jsx||_.title:Mt.createElement(Mt.Fragment,null,We||_.icon||_.promise?Mt.createElement("div",{"data-icon":"",className:rt(De==null?void 0:De.icon,(o=_==null?void 0:_.classNames)==null?void 0:o.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||Ho():null,_.type!=="loading"?_.icon||(Ze==null?void 0:Ze[We])||xbe(We):null):null,Mt.createElement("div",{"data-content":"",className:rt(De==null?void 0:De.content,(a=_==null?void 0:_.classNames)==null?void 0:a.content)},Mt.createElement("div",{"data-title":"",className:rt(De==null?void 0:De.title,(c=_==null?void 0:_.classNames)==null?void 0:c.title)},_.title),_.description?Mt.createElement("div",{"data-description":"",className:rt(we,Bt,De==null?void 0:De.description,(u=_==null?void 0:_.classNames)==null?void 0:u.description)},_.description):null),Mt.isValidElement(_.cancel)?_.cancel:_.cancel&&vP(_.cancel)?Mt.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||Te,onClick:ct=>{var Et,Pr;vP(_.cancel)&&Je&&((Pr=(Et=_.cancel).onClick)==null||Pr.call(Et,ct),Di())},className:rt(De==null?void 0:De.cancelButton,(h=_==null?void 0:_.classNames)==null?void 0:h.cancelButton)},_.cancel.label):null,Mt.isValidElement(_.action)?_.action:_.action&&vP(_.action)?Mt.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||Me,onClick:ct=>{var Et,Pr;vP(_.action)&&(ct.defaultPrevented||((Pr=(Et=_.action).onClick)==null||Pr.call(Et,ct),Di()))},className:rt(De==null?void 0:De.actionButton,(m=_==null?void 0:_.classNames)==null?void 0:m.actionButton)},_.action.label):null))};function Aq(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var Hbe=n=>{let{invert:e,position:t="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,theme:u="light",richColors:h,duration:m,style:v,visibleToasts:_=Nbe,toastOptions:k,dir:R=Aq(),gap:T=$be,loadingIcon:F,icons:$,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:B,cn:I=Vbe}=n,[Y,oe]=Mt.useState([]),ne=Mt.useMemo(()=>Array.from(new Set([t].concat(Y.filter(Ye=>Ye.position).map(Ye=>Ye.position)))),[Y,t]),[ae,Te]=Mt.useState([]),[Me,Ee]=Mt.useState(!1),[we,Ce]=Mt.useState(!1),[Oe,Fe]=Mt.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ze=Mt.useRef(null),dt=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),De=Mt.useRef(null),Ze=Mt.useRef(!1),bt=Mt.useCallback(Ye=>{var rt;(rt=Y.find(ve=>ve.id===Ye.id))!=null&&rt.delete||sd.dismiss(Ye.id),oe(ve=>ve.filter(({id:vt})=>vt!==Ye.id))},[Y]);return Mt.useEffect(()=>sd.subscribe(Ye=>{if(Ye.dismiss){oe(rt=>rt.map(ve=>ve.id===Ye.id?{...ve,delete:!0}:ve));return}setTimeout(()=>{Jee.flushSync(()=>{oe(rt=>{let ve=rt.findIndex(vt=>vt.id===Ye.id);return ve!==-1?[...rt.slice(0,ve),{...rt[ve],...Ye},...rt.slice(ve+1)]:[Ye,...rt]})})})}),[]),Mt.useEffect(()=>{if(u!=="system"){Fe(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Fe("dark"):Fe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Ye})=>{Fe(Ye?"dark":"light")})},[u]),Mt.useEffect(()=>{Y.length<=1&&Ee(!1)},[Y]),Mt.useEffect(()=>{let Ye=rt=>{var ve,vt;r.every(gt=>rt[gt]||rt.code===gt)&&(Ee(!0),(ve=ze.current)==null||ve.focus()),rt.code==="Escape"&&(document.activeElement===ze.current||(vt=ze.current)!=null&&vt.contains(document.activeElement))&&Ee(!1)};return document.addEventListener("keydown",Ye),()=>document.removeEventListener("keydown",Ye)},[r]),Mt.useEffect(()=>{if(ze.current)return()=>{De.current&&(De.current.focus({preventScroll:!0}),De.current=null,Ze.current=!1)}},[ze.current]),Y.length?Mt.createElement("section",{"aria-label":`${j} ${dt}`,tabIndex:-1},ne.map((Ye,rt)=>{var ve;let[vt,gt]=Ye.split("-");return Mt.createElement("ol",{key:Ye,dir:R==="auto"?Aq():R,tabIndex:-1,ref:ze,className:a,"data-sonner-toaster":!0,"data-theme":Oe,"data-y-position":vt,"data-x-position":gt,style:{"--front-toast-height":`${((ve=ae[0])==null?void 0:ve.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||Ibe,"--width":`${Fbe}px`,"--gap":`${T}px`,...v},onBlur:Tt=>{Ze.current&&!Tt.currentTarget.contains(Tt.relatedTarget)&&(Ze.current=!1,De.current&&(De.current.focus({preventScroll:!0}),De.current=null))},onFocus:Tt=>{Tt.target instanceof HTMLElement&&Tt.target.dataset.dismissible==="false"||Ze.current||(Ze.current=!0,De.current=Tt.relatedTarget)},onMouseEnter:()=>Ee(!0),onMouseMove:()=>Ee(!0),onMouseLeave:()=>{we||Ee(!1)},onPointerDown:Tt=>{Tt.target instanceof HTMLElement&&Tt.target.dataset.dismissible==="false"||Ce(!0)},onPointerUp:()=>Ce(!1)},Y.filter(Tt=>!Tt.position&&rt===0||Tt.position===Ye).map((Tt,Zt)=>{var pn,lr;return Mt.createElement(zbe,{key:Tt.id,icons:$,index:Zt,toast:Tt,defaultRichColors:h,duration:(pn=k==null?void 0:k.duration)!=null?pn:m,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:e,visibleToasts:_,closeButton:(lr=k==null?void 0:k.closeButton)!=null?lr:o,interacting:we,position:Ye,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:bt,toasts:Y.filter(ot=>ot.position==Tt.position),heights:ae.filter(ot=>ot.position==Tt.position),setHeights:Te,expandByDefault:i,gap:T,loadingIcon:F,expanded:Me,pauseWhenPageIsHidden:B,cn:I})}))})):null};const Wbe=({...n})=>{const{theme:e="system"}=bbe();return V.jsx(Hbe,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var qbe=KZ.useId||(()=>{}),Ube=0;function Xw(n){const[e,t]=Z.useState(qbe());return oc(()=>{t(r=>r??String(Ube++))},[n]),e?`radix-${e}`:""}const Gbe=["top","right","bottom","left"],Av=Math.min,cd=Math.max,VD=Math.round,bP=Math.floor,Rv=n=>({x:n,y:n}),Ybe={left:"right",right:"left",bottom:"top",top:"bottom"},Qbe={start:"end",end:"start"};function X$(n,e,t){return cd(n,Av(e,t))}function gg(n,e){return typeof n=="function"?n(e):n}function yg(n){return n.split("-")[0]}function hE(n){return n.split("-")[1]}function n8(n){return n==="x"?"y":"x"}function r8(n){return n==="y"?"height":"width"}function Pv(n){return["top","bottom"].includes(yg(n))?"y":"x"}function i8(n){return n8(Pv(n))}function Kbe(n,e,t){t===void 0&&(t=!1);const r=hE(n),i=i8(n),o=r8(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=zD(a)),[a,zD(a)]}function Xbe(n){const e=zD(n);return[Z$(n),e,Z$(e)]}function Z$(n){return n.replace(/start|end/g,e=>Qbe[e])}function Zbe(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:a;default:return[]}}function Jbe(n,e,t,r){const i=hE(n);let o=Zbe(yg(n),t==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(Z$)))),o}function zD(n){return n.replace(/left|right|bottom|top/g,e=>Ybe[e])}function exe(n){return{top:0,right:0,bottom:0,left:0,...n}}function fne(n){return typeof n!="number"?exe(n):{top:n,right:n,bottom:n,left:n}}function HD(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Rq(n,e,t){let{reference:r,floating:i}=n;const o=Pv(e),a=i8(e),c=r8(a),u=yg(e),h=o==="y",m=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,_=r[c]/2-i[c]/2;let k;switch(u){case"top":k={x:m,y:r.y-i.height};break;case"bottom":k={x:m,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:v};break;case"left":k={x:r.x-i.width,y:v};break;default:k={x:r.x,y:r.y}}switch(hE(e)){case"start":k[a]-=_*(t&&h?-1:1);break;case"end":k[a]+=_*(t&&h?-1:1);break}return k}const txe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=t,c=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y:v}=Rq(h,r,u),_=r,k={},R=0;for(let T=0;T<c.length;T++){const{name:F,fn:$}=c[T],{x:j,y:B,data:I,reset:Y}=await $({x:m,y:v,initialPlacement:r,placement:_,strategy:i,middlewareData:k,rects:h,platform:a,elements:{reference:n,floating:e}});m=j??m,v=B??v,k={...k,[F]:{...k[F],...I}},Y&&R<=50&&(R++,typeof Y=="object"&&(Y.placement&&(_=Y.placement),Y.rects&&(h=Y.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):Y.rects),{x:m,y:v}=Rq(h,_,u)),T=-1)}return{x:m,y:v,placement:_,strategy:i,middlewareData:k}};async function UC(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:c,strategy:u}=n,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:_=!1,padding:k=0}=gg(e,n),R=fne(k),F=c[_?v==="floating"?"reference":"floating":v],$=HD(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(F)))==null||t?F:F.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:u})),j=v==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),I=await(o.isElement==null?void 0:o.isElement(B))?await(o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},Y=HD(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:B,strategy:u}):j);return{top:($.top-Y.top+R.top)/I.y,bottom:(Y.bottom-$.bottom+R.bottom)/I.y,left:($.left-Y.left+R.left)/I.x,right:(Y.right-$.right+R.right)/I.x}}const nxe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:a,elements:c,middlewareData:u}=e,{element:h,padding:m=0}=gg(n,e)||{};if(h==null)return{};const v=fne(m),_={x:t,y:r},k=i8(i),R=r8(k),T=await a.getDimensions(h),F=k==="y",$=F?"top":"left",j=F?"bottom":"right",B=F?"clientHeight":"clientWidth",I=o.reference[R]+o.reference[k]-_[k]-o.floating[R],Y=_[k]-o.reference[k],oe=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let ne=oe?oe[B]:0;(!ne||!await(a.isElement==null?void 0:a.isElement(oe)))&&(ne=c.floating[B]||o.floating[R]);const ae=I/2-Y/2,Te=ne/2-T[R]/2-1,Me=Av(v[$],Te),Ee=Av(v[j],Te),we=Me,Ce=ne-T[R]-Ee,Oe=ne/2-T[R]/2+ae,Fe=X$(we,Oe,Ce),ze=!u.arrow&&hE(i)!=null&&Oe!==Fe&&o.reference[R]/2-(Oe<we?Me:Ee)-T[R]/2<0,dt=ze?Oe<we?Oe-we:Oe-Ce:0;return{[k]:_[k]+dt,data:{[k]:Fe,centerOffset:Oe-Fe-dt,...ze&&{alignmentOffset:dt}},reset:ze}}}),rxe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:T=!0,...F}=gg(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const $=yg(i),j=Pv(c),B=yg(c)===c,I=await(u.isRTL==null?void 0:u.isRTL(h.floating)),Y=_||(B||!T?[zD(c)]:Xbe(c)),oe=R!=="none";!_&&oe&&Y.push(...Jbe(c,T,R,I));const ne=[c,...Y],ae=await UC(e,F),Te=[];let Me=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&Te.push(ae[$]),v){const Oe=Kbe(i,a,I);Te.push(ae[Oe[0]],ae[Oe[1]])}if(Me=[...Me,{placement:i,overflows:Te}],!Te.every(Oe=>Oe<=0)){var Ee,we;const Oe=(((Ee=o.flip)==null?void 0:Ee.index)||0)+1,Fe=ne[Oe];if(Fe)return{data:{index:Oe,overflows:Me},reset:{placement:Fe}};let ze=(we=Me.filter(dt=>dt.overflows[0]<=0).sort((dt,De)=>dt.overflows[1]-De.overflows[1])[0])==null?void 0:we.placement;if(!ze)switch(k){case"bestFit":{var Ce;const dt=(Ce=Me.filter(De=>{if(oe){const Ze=Pv(De.placement);return Ze===j||Ze==="y"}return!0}).map(De=>[De.placement,De.overflows.filter(Ze=>Ze>0).reduce((Ze,bt)=>Ze+bt,0)]).sort((De,Ze)=>De[1]-Ze[1])[0])==null?void 0:Ce[0];dt&&(ze=dt);break}case"initialPlacement":ze=c;break}if(i!==ze)return{reset:{placement:ze}}}return{}}}};function Pq(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Mq(n){return Gbe.some(e=>n[e]>=0)}const ixe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=gg(n,e);switch(r){case"referenceHidden":{const o=await UC(e,{...i,elementContext:"reference"}),a=Pq(o,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Mq(a)}}}case"escaped":{const o=await UC(e,{...i,altBoundary:!0}),a=Pq(o,t.floating);return{data:{escapedOffsets:a,escaped:Mq(a)}}}default:return{}}}}};async function oxe(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=yg(t),c=hE(t),u=Pv(t)==="y",h=["left","top"].includes(a)?-1:1,m=o&&u?-1:1,v=gg(e,n);let{mainAxis:_,crossAxis:k,alignmentAxis:R}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof R=="number"&&(k=c==="end"?R*-1:R),u?{x:k*m,y:_*h}:{x:_*h,y:k*m}}const sxe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:a,middlewareData:c}=e,u=await oxe(e,n);return a===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:a}}}}},axe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:F=>{let{x:$,y:j}=F;return{x:$,y:j}}},...u}=gg(n,e),h={x:t,y:r},m=await UC(e,u),v=Pv(yg(i)),_=n8(v);let k=h[_],R=h[v];if(o){const F=_==="y"?"top":"left",$=_==="y"?"bottom":"right",j=k+m[F],B=k-m[$];k=X$(j,k,B)}if(a){const F=v==="y"?"top":"left",$=v==="y"?"bottom":"right",j=R+m[F],B=R-m[$];R=X$(j,R,B)}const T=c.fn({...e,[_]:k,[v]:R});return{...T,data:{x:T.x-t,y:T.y-r,enabled:{[_]:o,[v]:a}}}}}},lxe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=gg(n,e),m={x:t,y:r},v=Pv(i),_=n8(v);let k=m[_],R=m[v];const T=gg(c,e),F=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(u){const B=_==="y"?"height":"width",I=o.reference[_]-o.floating[B]+F.mainAxis,Y=o.reference[_]+o.reference[B]-F.mainAxis;k<I?k=I:k>Y&&(k=Y)}if(h){var $,j;const B=_==="y"?"width":"height",I=["top","left"].includes(yg(i)),Y=o.reference[v]-o.floating[B]+(I&&(($=a.offset)==null?void 0:$[v])||0)+(I?0:F.crossAxis),oe=o.reference[v]+o.reference[B]+(I?0:((j=a.offset)==null?void 0:j[v])||0)-(I?F.crossAxis:0);R<Y?R=Y:R>oe&&(R=oe)}return{[_]:k,[v]:R}}}},cxe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:a,elements:c}=e,{apply:u=()=>{},...h}=gg(n,e),m=await UC(e,h),v=yg(i),_=hE(i),k=Pv(i)==="y",{width:R,height:T}=o.floating;let F,$;v==="top"||v==="bottom"?(F=v,$=_===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):($=v,F=_==="end"?"top":"bottom");const j=T-m.top-m.bottom,B=R-m.left-m.right,I=Av(T-m[F],j),Y=Av(R-m[$],B),oe=!e.middlewareData.shift;let ne=I,ae=Y;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(ae=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(ne=j),oe&&!_){const Me=cd(m.left,0),Ee=cd(m.right,0),we=cd(m.top,0),Ce=cd(m.bottom,0);k?ae=R-2*(Me!==0||Ee!==0?Me+Ee:cd(m.left,m.right)):ne=T-2*(we!==0||Ce!==0?we+Ce:cd(m.top,m.bottom))}await u({...e,availableWidth:ae,availableHeight:ne});const Te=await a.getDimensions(c.floating);return R!==Te.width||T!==Te.height?{reset:{rects:!0}}:{}}}};function EN(){return typeof window<"u"}function pE(n){return hne(n)?(n.nodeName||"").toLowerCase():"#document"}function yd(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function em(n){var e;return(e=(hne(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hne(n){return EN()?n instanceof Node||n instanceof yd(n).Node:!1}function Ph(n){return EN()?n instanceof Element||n instanceof yd(n).Element:!1}function Qp(n){return EN()?n instanceof HTMLElement||n instanceof yd(n).HTMLElement:!1}function Dq(n){return!EN()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof yd(n).ShadowRoot}function WO(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Mh(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function uxe(n){return["table","td","th"].includes(pE(n))}function SN(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function o8(n){const e=s8(),t=Ph(n)?Mh(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function dxe(n){let e=Mv(n);for(;Qp(e)&&!L_(e);){if(o8(e))return e;if(SN(e))return null;e=Mv(e)}return null}function s8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function L_(n){return["html","body","#document"].includes(pE(n))}function Mh(n){return yd(n).getComputedStyle(n)}function kN(n){return Ph(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Mv(n){if(pE(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Dq(n)&&n.host||em(n);return Dq(e)?e.host:e}function pne(n){const e=Mv(n);return L_(e)?n.ownerDocument?n.ownerDocument.body:n.body:Qp(e)&&WO(e)?e:pne(e)}function GC(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=pne(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),a=yd(i);if(o){const c=J$(a);return e.concat(a,a.visualViewport||[],WO(i)?i:[],c&&t?GC(c):[])}return e.concat(i,GC(i,[],t))}function J$(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function mne(n){const e=Mh(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qp(n),o=i?n.offsetWidth:t,a=i?n.offsetHeight:r,c=VD(t)!==o||VD(r)!==a;return c&&(t=o,r=a),{width:t,height:r,$:c}}function a8(n){return Ph(n)?n:n.contextElement}function Zw(n){const e=a8(n);if(!Qp(e))return Rv(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=mne(e);let a=(o?VD(t.width):t.width)/r,c=(o?VD(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const fxe=Rv(0);function gne(n){const e=yd(n);return!s8()||!e.visualViewport?fxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hxe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==yd(n)?!1:e}function ib(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=a8(n);let a=Rv(1);e&&(r?Ph(r)&&(a=Zw(r)):a=Zw(n));const c=hxe(o,t,r)?gne(o):Rv(0);let u=(i.left+c.x)/a.x,h=(i.top+c.y)/a.y,m=i.width/a.x,v=i.height/a.y;if(o){const _=yd(o),k=r&&Ph(r)?yd(r):r;let R=_,T=J$(R);for(;T&&r&&k!==R;){const F=Zw(T),$=T.getBoundingClientRect(),j=Mh(T),B=$.left+(T.clientLeft+parseFloat(j.paddingLeft))*F.x,I=$.top+(T.clientTop+parseFloat(j.paddingTop))*F.y;u*=F.x,h*=F.y,m*=F.x,v*=F.y,u+=B,h+=I,R=yd(T),T=J$(R)}}return HD({width:m,height:v,x:u,y:h})}function pxe(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",a=em(r),c=e?SN(e.floating):!1;if(r===a||c&&o)return t;let u={scrollLeft:0,scrollTop:0},h=Rv(1);const m=Rv(0),v=Qp(r);if((v||!v&&!o)&&((pE(r)!=="body"||WO(a))&&(u=kN(r)),Qp(r))){const _=ib(r);h=Zw(r),m.x=_.x+r.clientLeft,m.y=_.y+r.clientTop}return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-u.scrollLeft*h.x+m.x,y:t.y*h.y-u.scrollTop*h.y+m.y}}function mxe(n){return Array.from(n.getClientRects())}function e6(n,e){const t=kN(n).scrollLeft;return e?e.left+t:ib(em(n)).left+t}function gxe(n){const e=em(n),t=kN(n),r=n.ownerDocument.body,i=cd(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=cd(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+e6(n);const c=-t.scrollTop;return Mh(r).direction==="rtl"&&(a+=cd(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:c}}function yxe(n,e){const t=yd(n),r=em(n),i=t.visualViewport;let o=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){o=i.width,a=i.height;const h=s8();(!h||h&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:c,y:u}}function vxe(n,e){const t=ib(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=Qp(n)?Zw(n):Rv(1),a=n.clientWidth*o.x,c=n.clientHeight*o.y,u=i*o.x,h=r*o.y;return{width:a,height:c,x:u,y:h}}function Nq(n,e,t){let r;if(e==="viewport")r=yxe(n,t);else if(e==="document")r=gxe(em(n));else if(Ph(e))r=vxe(e,t);else{const i=gne(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return HD(r)}function yne(n,e){const t=Mv(n);return t===e||!Ph(t)||L_(t)?!1:Mh(t).position==="fixed"||yne(t,e)}function bxe(n,e){const t=e.get(n);if(t)return t;let r=GC(n,[],!1).filter(c=>Ph(c)&&pE(c)!=="body"),i=null;const o=Mh(n).position==="fixed";let a=o?Mv(n):n;for(;Ph(a)&&!L_(a);){const c=Mh(a),u=o8(a);!u&&c.position==="fixed"&&(i=null),(o?!u&&!i:!u&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||WO(a)&&!u&&yne(n,a))?r=r.filter(m=>m!==a):i=c,a=Mv(a)}return e.set(n,r),r}function xxe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?SN(e)?[]:bxe(e,this._c):[].concat(t),r],c=a[0],u=a.reduce((h,m)=>{const v=Nq(e,m,i);return h.top=cd(v.top,h.top),h.right=Av(v.right,h.right),h.bottom=Av(v.bottom,h.bottom),h.left=cd(v.left,h.left),h},Nq(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function wxe(n){const{width:e,height:t}=mne(n);return{width:e,height:t}}function _xe(n,e,t){const r=Qp(e),i=em(e),o=t==="fixed",a=ib(n,!0,o,e);let c={scrollLeft:0,scrollTop:0};const u=Rv(0);if(r||!r&&!o)if((pE(e)!=="body"||WO(i))&&(c=kN(e)),r){const k=ib(e,!0,o,e);u.x=k.x+e.clientLeft,u.y=k.y+e.clientTop}else i&&(u.x=e6(i));let h=0,m=0;if(i&&!r&&!o){const k=i.getBoundingClientRect();m=k.top+c.scrollTop,h=k.left+c.scrollLeft-e6(i,k)}const v=a.left+c.scrollLeft-u.x-h,_=a.top+c.scrollTop-u.y-m;return{x:v,y:_,width:a.width,height:a.height}}function e4(n){return Mh(n).position==="static"}function Iq(n,e){if(!Qp(n)||Mh(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return em(n)===t&&(t=t.ownerDocument.body),t}function vne(n,e){const t=yd(n);if(SN(n))return t;if(!Qp(n)){let i=Mv(n);for(;i&&!L_(i);){if(Ph(i)&&!e4(i))return i;i=Mv(i)}return t}let r=Iq(n,e);for(;r&&uxe(r)&&e4(r);)r=Iq(r,e);return r&&L_(r)&&e4(r)&&!o8(r)?t:r||dxe(n)||t}const Exe=async function(n){const e=this.getOffsetParent||vne,t=this.getDimensions,r=await t(n.floating);return{reference:_xe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Sxe(n){return Mh(n).direction==="rtl"}const kxe={convertOffsetParentRelativeRectToViewportRelativeRect:pxe,getDocumentElement:em,getClippingRect:xxe,getOffsetParent:vne,getElementRects:Exe,getClientRects:mxe,getDimensions:wxe,getScale:Zw,isElement:Ph,isRTL:Sxe};function Cxe(n,e){let t=null,r;const i=em(n);function o(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const{left:h,top:m,width:v,height:_}=n.getBoundingClientRect();if(c||e(),!v||!_)return;const k=bP(m),R=bP(i.clientWidth-(h+v)),T=bP(i.clientHeight-(m+_)),F=bP(h),j={rootMargin:-k+"px "+-R+"px "+-T+"px "+-F+"px",threshold:cd(0,Av(1,u))||1};let B=!0;function I(Y){const oe=Y[0].intersectionRatio;if(oe!==u){if(!B)return a();oe?a(!1,oe):r=setTimeout(()=>{a(!1,1e-7)},1e3)}B=!1}try{t=new IntersectionObserver(I,{...j,root:i.ownerDocument})}catch{t=new IntersectionObserver(I,j)}t.observe(n)}return a(!0),o}function Oxe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=a8(n),m=i||o?[...h?GC(h):[],...GC(e)]:[];m.forEach($=>{i&&$.addEventListener("scroll",t,{passive:!0}),o&&$.addEventListener("resize",t)});const v=h&&c?Cxe(h,t):null;let _=-1,k=null;a&&(k=new ResizeObserver($=>{let[j]=$;j&&j.target===h&&k&&(k.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var B;(B=k)==null||B.observe(e)})),t()}),h&&!u&&k.observe(h),k.observe(e));let R,T=u?ib(n):null;u&&F();function F(){const $=ib(n);T&&($.x!==T.x||$.y!==T.y||$.width!==T.width||$.height!==T.height)&&t(),T=$,R=requestAnimationFrame(F)}return t(),()=>{var $;m.forEach(j=>{i&&j.removeEventListener("scroll",t),o&&j.removeEventListener("resize",t)}),v==null||v(),($=k)==null||$.disconnect(),k=null,u&&cancelAnimationFrame(R)}}const Txe=sxe,Axe=axe,Rxe=rxe,Pxe=cxe,Mxe=ixe,Lq=nxe,Dxe=lxe,Nxe=(n,e,t)=>{const r=new Map,i={platform:kxe,...t},o={...i.platform,_c:r};return txe(n,e,{...i,platform:o})};var VM=typeof document<"u"?Z.useLayoutEffect:Z.useEffect;function WD(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!WD(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!WD(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function bne(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Fq(n,e){const t=bne(n);return Math.round(e*t)/t}function t4(n){const e=Z.useRef(n);return VM(()=>{e.current=n}),e}function Ixe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:u,open:h}=n,[m,v]=Z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,k]=Z.useState(r);WD(_,r)||k(r);const[R,T]=Z.useState(null),[F,$]=Z.useState(null),j=Z.useCallback(De=>{De!==oe.current&&(oe.current=De,T(De))},[]),B=Z.useCallback(De=>{De!==ne.current&&(ne.current=De,$(De))},[]),I=o||R,Y=a||F,oe=Z.useRef(null),ne=Z.useRef(null),ae=Z.useRef(m),Te=u!=null,Me=t4(u),Ee=t4(i),we=t4(h),Ce=Z.useCallback(()=>{if(!oe.current||!ne.current)return;const De={placement:e,strategy:t,middleware:_};Ee.current&&(De.platform=Ee.current),Nxe(oe.current,ne.current,De).then(Ze=>{const bt={...Ze,isPositioned:we.current!==!1};Oe.current&&!WD(ae.current,bt)&&(ae.current=bt,Eb.flushSync(()=>{v(bt)}))})},[_,e,t,Ee,we]);VM(()=>{h===!1&&ae.current.isPositioned&&(ae.current.isPositioned=!1,v(De=>({...De,isPositioned:!1})))},[h]);const Oe=Z.useRef(!1);VM(()=>(Oe.current=!0,()=>{Oe.current=!1}),[]),VM(()=>{if(I&&(oe.current=I),Y&&(ne.current=Y),I&&Y){if(Me.current)return Me.current(I,Y,Ce);Ce()}},[I,Y,Ce,Me,Te]);const Fe=Z.useMemo(()=>({reference:oe,floating:ne,setReference:j,setFloating:B}),[j,B]),ze=Z.useMemo(()=>({reference:I,floating:Y}),[I,Y]),dt=Z.useMemo(()=>{const De={position:t,left:0,top:0};if(!ze.floating)return De;const Ze=Fq(ze.floating,m.x),bt=Fq(ze.floating,m.y);return c?{...De,transform:"translate("+Ze+"px, "+bt+"px)",...bne(ze.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Ze,top:bt}},[t,c,ze.floating,m.x,m.y]);return Z.useMemo(()=>({...m,update:Ce,refs:Fe,elements:ze,floatingStyles:dt}),[m,Ce,Fe,ze,dt])}const Lxe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Lq({element:r.current,padding:i}).fn(t):{}:r?Lq({element:r,padding:i}).fn(t):{}}}},Fxe=(n,e)=>({...Txe(n),options:[n,e]}),$xe=(n,e)=>({...Axe(n),options:[n,e]}),Bxe=(n,e)=>({...Dxe(n),options:[n,e]}),jxe=(n,e)=>({...Rxe(n),options:[n,e]}),Vxe=(n,e)=>({...Pxe(n),options:[n,e]}),zxe=(n,e)=>({...Mxe(n),options:[n,e]}),Hxe=(n,e)=>({...Lxe(n),options:[n,e]});var Wxe="Arrow",xne=Z.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return V.jsx(zi.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:V.jsx("polygon",{points:"0,0 30,0 15,10"})})});xne.displayName=Wxe;var qxe=xne;function Uxe(n,e=[]){let t=[];function r(o,a){const c=Z.createContext(a),u=t.length;t=[...t,a];function h(v){const{scope:_,children:k,...R}=v,T=(_==null?void 0:_[n][u])||c,F=Z.useMemo(()=>R,Object.values(R));return V.jsx(T.Provider,{value:F,children:k})}function m(v,_){const k=(_==null?void 0:_[n][u])||c,R=Z.useContext(k);if(R)return R;if(a!==void 0)return a;throw new Error(`\`${v}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,m]}const i=()=>{const o=t.map(a=>Z.createContext(a));return function(c){const u=(c==null?void 0:c[n])||o;return Z.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,Gxe(i,...e)]}function Gxe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const v=u(o)[`__scope${h}`];return{...c,...v}},{});return Z.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function Yxe(n){const[e,t]=Z.useState(void 0);return oc(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;a=h.inlineSize,c=h.blockSize}else a=n.offsetWidth,c=n.offsetHeight;t({width:a,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var l8="Popper",[wne,CN]=Uxe(l8),[Qxe,_ne]=wne(l8),Ene=n=>{const{__scopePopper:e,children:t}=n,[r,i]=Z.useState(null);return V.jsx(Qxe,{scope:e,anchor:r,onAnchorChange:i,children:t})};Ene.displayName=l8;var Sne="PopperAnchor",kne=Z.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=_ne(Sne,t),a=Z.useRef(null),c=zo(e,a);return Z.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:V.jsx(zi.div,{...i,ref:c})});kne.displayName=Sne;var c8="PopperContent",[Kxe,Xxe]=wne(c8),Cne=Z.forwardRef((n,e)=>{var Zt,pn,lr,ot,Ht,Vt;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:_=!1,updatePositionStrategy:k="optimized",onPlaced:R,...T}=n,F=_ne(c8,t),[$,j]=Z.useState(null),B=zo(e,mn=>j(mn)),[I,Y]=Z.useState(null),oe=Yxe(I),ne=(oe==null?void 0:oe.width)??0,ae=(oe==null?void 0:oe.height)??0,Te=r+(o!=="center"?"-"+o:""),Me=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Ee=Array.isArray(h)?h:[h],we=Ee.length>0,Ce={padding:Me,boundary:Ee.filter(Jxe),altBoundary:we},{refs:Oe,floatingStyles:Fe,placement:ze,isPositioned:dt,middlewareData:De}=Ixe({strategy:"fixed",placement:Te,whileElementsMounted:(...mn)=>Oxe(...mn,{animationFrame:k==="always"}),elements:{reference:F.anchor},middleware:[Fxe({mainAxis:i+ae,alignmentAxis:a}),u&&$xe({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Bxe():void 0,...Ce}),u&&jxe({...Ce}),Vxe({...Ce,apply:({elements:mn,rects:En,availableWidth:bn,availableHeight:nr})=>{const{width:rr,height:Re}=En.reference,We=mn.floating.style;We.setProperty("--radix-popper-available-width",`${bn}px`),We.setProperty("--radix-popper-available-height",`${nr}px`),We.setProperty("--radix-popper-anchor-width",`${rr}px`),We.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),I&&Hxe({element:I,padding:c}),ewe({arrowWidth:ne,arrowHeight:ae}),_&&zxe({strategy:"referenceHidden",...Ce})]}),[Ze,bt]=Ane(ze),Ye=wd(R);oc(()=>{dt&&(Ye==null||Ye())},[dt,Ye]);const rt=(Zt=De.arrow)==null?void 0:Zt.x,ve=(pn=De.arrow)==null?void 0:pn.y,vt=((lr=De.arrow)==null?void 0:lr.centerOffset)!==0,[gt,Tt]=Z.useState();return oc(()=>{$&&Tt(window.getComputedStyle($).zIndex)},[$]),V.jsx("div",{ref:Oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Fe,transform:dt?Fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gt,"--radix-popper-transform-origin":[(ot=De.transformOrigin)==null?void 0:ot.x,(Ht=De.transformOrigin)==null?void 0:Ht.y].join(" "),...((Vt=De.hide)==null?void 0:Vt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:V.jsx(Kxe,{scope:t,placedSide:Ze,onArrowChange:Y,arrowX:rt,arrowY:ve,shouldHideArrow:vt,children:V.jsx(zi.div,{"data-side":Ze,"data-align":bt,...T,ref:B,style:{...T.style,animation:dt?void 0:"none"}})})})});Cne.displayName=c8;var One="PopperArrow",Zxe={top:"bottom",right:"left",bottom:"top",left:"right"},Tne=Z.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=Xxe(One,r),a=Zxe[o.placedSide];return V.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:V.jsx(qxe,{...i,ref:t,style:{...i.style,display:"block"}})})});Tne.displayName=One;function Jxe(n){return n!==null}var ewe=n=>({name:"transformOrigin",options:n,fn(e){var F,$,j;const{placement:t,rects:r,middlewareData:i}=e,a=((F=i.arrow)==null?void 0:F.centerOffset)!==0,c=a?0:n.arrowWidth,u=a?0:n.arrowHeight,[h,m]=Ane(t),v={start:"0%",center:"50%",end:"100%"}[m],_=((($=i.arrow)==null?void 0:$.x)??0)+c/2,k=(((j=i.arrow)==null?void 0:j.y)??0)+u/2;let R="",T="";return h==="bottom"?(R=a?v:`${_}px`,T=`${-u}px`):h==="top"?(R=a?v:`${_}px`,T=`${r.floating.height+u}px`):h==="right"?(R=`${-u}px`,T=a?v:`${k}px`):h==="left"&&(R=`${r.floating.width+u}px`,T=a?v:`${k}px`),{data:{x:R,y:T}}}});function Ane(n){const[e,t="center"]=n.split("-");return[e,t]}var twe=Ene,Rne=kne,Pne=Cne,Mne=Tne,[ON,kYe]=VO("Tooltip",[CN]),u8=CN(),Dne="TooltipProvider",nwe=700,$q="tooltip.open",[rwe,Nne]=ON(Dne),Ine=n=>{const{__scopeTooltip:e,delayDuration:t=nwe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=n,[a,c]=Z.useState(!0),u=Z.useRef(!1),h=Z.useRef(0);return Z.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),V.jsx(rwe,{scope:e,isOpenDelayed:a,delayDuration:t,onOpen:Z.useCallback(()=>{window.clearTimeout(h.current),c(!1)},[]),onClose:Z.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:Z.useCallback(m=>{u.current=m},[]),disableHoverableContent:i,children:o})};Ine.displayName=Dne;var Lne="Tooltip",[CYe,TN]=ON(Lne),t6="TooltipTrigger",iwe=Z.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=TN(t6,t),o=Nne(t6,t),a=u8(t),c=Z.useRef(null),u=zo(e,c,i.onTriggerChange),h=Z.useRef(!1),m=Z.useRef(!1),v=Z.useCallback(()=>h.current=!1,[]);return Z.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),V.jsx(Rne,{asChild:!0,...a,children:V.jsx(zi.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:Gr(n.onPointerMove,_=>{_.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Gr(n.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Gr(n.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Gr(n.onFocus,()=>{h.current||i.onOpen()}),onBlur:Gr(n.onBlur,i.onClose),onClick:Gr(n.onClick,i.onClose)})})});iwe.displayName=t6;var owe="TooltipPortal",[OYe,swe]=ON(owe,{forceMount:void 0}),F_="TooltipContent",Fne=Z.forwardRef((n,e)=>{const t=swe(F_,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...o}=n,a=TN(F_,n.__scopeTooltip);return V.jsx(uE,{present:r||a.open,children:a.disableHoverableContent?V.jsx($ne,{side:i,...o,ref:e}):V.jsx(awe,{side:i,...o,ref:e})})}),awe=Z.forwardRef((n,e)=>{const t=TN(F_,n.__scopeTooltip),r=Nne(F_,n.__scopeTooltip),i=Z.useRef(null),o=zo(e,i),[a,c]=Z.useState(null),{trigger:u,onClose:h}=t,m=i.current,{onPointerInTransitChange:v}=r,_=Z.useCallback(()=>{c(null),v(!1)},[v]),k=Z.useCallback((R,T)=>{const F=R.currentTarget,$={x:R.clientX,y:R.clientY},j=dwe($,F.getBoundingClientRect()),B=fwe($,j),I=hwe(T.getBoundingClientRect()),Y=mwe([...B,...I]);c(Y),v(!0)},[v]);return Z.useEffect(()=>()=>_(),[_]),Z.useEffect(()=>{if(u&&m){const R=F=>k(F,m),T=F=>k(F,u);return u.addEventListener("pointerleave",R),m.addEventListener("pointerleave",T),()=>{u.removeEventListener("pointerleave",R),m.removeEventListener("pointerleave",T)}}},[u,m,k,_]),Z.useEffect(()=>{if(a){const R=T=>{const F=T.target,$={x:T.clientX,y:T.clientY},j=(u==null?void 0:u.contains(F))||(m==null?void 0:m.contains(F)),B=!pwe($,a);j?_():B&&(_(),h())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[u,m,a,h,_]),V.jsx($ne,{...n,ref:o})}),[lwe,cwe]=ON(Lne,{isInside:!1}),$ne=Z.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...c}=n,u=TN(F_,t),h=u8(t),{onClose:m}=u;return Z.useEffect(()=>(document.addEventListener($q,m),()=>document.removeEventListener($q,m)),[m]),Z.useEffect(()=>{if(u.trigger){const v=_=>{const k=_.target;k!=null&&k.contains(u.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[u.trigger,m]),V.jsx(zO,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:v=>v.preventDefault(),onDismiss:m,children:V.jsxs(Pne,{"data-state":u.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[V.jsx(W9,{children:r}),V.jsx(lwe,{scope:t,isInside:!0,children:V.jsx(i1e,{id:u.contentId,role:"tooltip",children:i||r})})]})})});Fne.displayName=F_;var Bne="TooltipArrow",uwe=Z.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=u8(t);return cwe(Bne,t).isInside?null:V.jsx(Mne,{...i,...r,ref:e})});uwe.displayName=Bne;function dwe(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,r,i,o)){case o:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function fwe(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function hwe(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function pwe(n,e){const{x:t,y:r}=n;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const c=e[o].x,u=e[o].y,h=e[a].x,m=e[a].y;u>r!=m>r&&t<(h-c)*(r-u)/(m-u)+c&&(i=!i)}return i}function mwe(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),gwe(e)}function gwe(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var ywe=Ine,jne=Fne;const vwe=ywe,bwe=Z.forwardRef(({className:n,sideOffset:e=4,...t},r)=>V.jsx(jne,{ref:r,sideOffset:e,className:oi("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));bwe.displayName=jne.displayName;const Vne=Z.createContext(void 0),xwe=({children:n})=>{const[e,t]=Z.useState(!0),r=()=>{t(i=>!i)};return V.jsx(Vne.Provider,{value:{sidebarOpen:e,toggleSidebar:r},children:n})},d8=()=>{const n=Z.useContext(Vne);if(n===void 0)throw new Error("useAppContext must be used within an AppProvider");return n},za=Z.forwardRef(({className:n,...e},t)=>V.jsx("div",{ref:t,className:oi("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));za.displayName="Card";const Ha=Z.forwardRef(({className:n,...e},t)=>V.jsx("div",{ref:t,className:oi("flex flex-col space-y-1.5 p-6",n),...e}));Ha.displayName="CardHeader";const nc=Z.forwardRef(({className:n,...e},t)=>V.jsx("h3",{ref:t,className:oi("text-2xl font-semibold leading-none tracking-tight",n),...e}));nc.displayName="CardTitle";const wf=Z.forwardRef(({className:n,...e},t)=>V.jsx("p",{ref:t,className:oi("text-sm text-muted-foreground",n),...e}));wf.displayName="CardDescription";const Wa=Z.forwardRef(({className:n,...e},t)=>V.jsx("div",{ref:t,className:oi("p-6 pt-0",n),...e}));Wa.displayName="CardContent";const Cb=Z.forwardRef(({className:n,...e},t)=>V.jsx("div",{ref:t,className:oi("flex items-center p-6 pt-0",n),...e}));Cb.displayName="CardFooter";const f8=Y9("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yi=Z.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},o)=>{const a=r?Tv:"button";return V.jsx(a,{className:oi(f8({variant:e,size:t,className:n})),ref:o,...i})});yi.displayName="Button";const El=[];for(let n=0;n<256;++n)El.push((n+256).toString(16).slice(1));function wwe(n,e=0){return(El[n[e+0]]+El[n[e+1]]+El[n[e+2]]+El[n[e+3]]+"-"+El[n[e+4]]+El[n[e+5]]+"-"+El[n[e+6]]+El[n[e+7]]+"-"+El[n[e+8]]+El[n[e+9]]+"-"+El[n[e+10]]+El[n[e+11]]+El[n[e+12]]+El[n[e+13]]+El[n[e+14]]+El[n[e+15]]).toLowerCase()}let n4;const _we=new Uint8Array(16);function Ewe(){if(!n4){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n4=crypto.getRandomValues.bind(crypto)}return n4(_we)}const Swe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bq={randomUUID:Swe};function AN(n,e,t){var i;if(Bq.randomUUID&&!e&&!n)return Bq.randomUUID();n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??Ewe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,wwe(r)}const kwe=`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1v44tjo" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.15.2" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.19.0">
  <bpmn:process id="Process_1i1h5q0" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1" name="Iniciar Processo">
      <bpmn:outgoing>Flow_12y57c3</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_12y57c3" sourceRef="StartEvent_1" targetRef="Activity_FillForm" />
    <bpmn:userTask id="Activity_FillForm" name="Preencher Formulrio">
      <bpmn:incoming>Flow_12y57c3</bpmn:incoming>
      <bpmn:outgoing>Flow_0nrwdyi</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0nrwdyi" sourceRef="Activity_FillForm" targetRef="Activity_0qdh4tw" />
    <bpmn:userTask id="Activity_0qdh4tw" name="Revisar Dados">
      <bpmn:incoming>Flow_0nrwdyi</bpmn:incoming>
      <bpmn:outgoing>Flow_1nh6w70</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1nh6w70" sourceRef="Activity_0qdh4tw" targetRef="Activity_1fqvt4w" />
    <bpmn:serviceTask id="Activity_1fqvt4w" name="Processar Dados">
      <bpmn:incoming>Flow_1nh6w70</bpmn:incoming>
      <bpmn:outgoing>Flow_0xlb842</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_10wphb7" name="Finalizar Processo">
      <bpmn:incoming>Flow_0xlb842</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0xlb842" sourceRef="Activity_1fqvt4w" targetRef="Event_10wphb7" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1i1h5q0">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="179" y="159" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="155" y="202" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0wl3v1m_di" bpmnElement="Activity_FillForm">
        <dc:Bounds x="270" y="137" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_11b9fpi_di" bpmnElement="Activity_0qdh4tw">
        <dc:Bounds x="430" y="137" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0g2eqqu_di" bpmnElement="Activity_1fqvt4w">
        <dc:Bounds x="590" y="137" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_10wphb7_di" bpmnElement="Event_10wphb7">
        <dc:Bounds x="752" y="159" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="726" y="202" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_12y57c3_di" bpmnElement="Flow_12y57c3">
        <di:waypoint x="215" y="177" />
        <di:waypoint x="270" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nrwdyi_di" bpmnElement="Flow_0nrwdyi">
        <di:waypoint x="370" y="177" />
        <di:waypoint x="430" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1nh6w70_di" bpmnElement="Flow_1nh6w70">
        <di:waypoint x="530" y="177" />
        <di:waypoint x="590" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xlb842_di" bpmnElement="Flow_0xlb842">
        <di:waypoint x="690" y="177" />
        <di:waypoint x="752" y="177" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`,kp=[],jq=()=>{if(kp.length===0){const n=new Date().toISOString(),e={id:"518c0c7f-6f32-470c-bf71-876031408258",name:"Processo de Solicitao",description:"Processo de solicitao com preenchimento de formulrio",xml:kwe,createdAt:n,updatedAt:n};kp.push(e)}},Hp={getAllProcesses:async()=>(jq(),[...kp]),getProcessById:async n=>(jq(),console.log(n),kp.find(t=>t.id===n)||null),createProcess:async n=>{const e=new Date().toISOString(),t={id:AN(),...n,createdAt:e,updatedAt:e};return kp.push(t),{...t}},updateProcess:async(n,e)=>{const t=kp.findIndex(i=>i.id===n);if(t===-1)throw new Error("Process not found");const r={...kp[t],...e,updatedAt:new Date().toISOString()};return kp[t]=r,{...r}},deleteProcess:async n=>{const e=kp.findIndex(i=>i.id===n);if(e===-1)throw new Error("Process not found");kp.splice(e,1);const r=JSON.parse(localStorage.getItem("processFormIntegration")||"[]").filter(i=>i.processId!==n);localStorage.setItem("processFormIntegration",JSON.stringify(r))}},Cwe={type:"default",components:[{type:"text",text:`# Formulrio de Solicitao

Preencha os dados abaixo para enviar sua solicitao.`},{key:"nome",label:"Nome Completo",type:"textfield",placeholder:"Digite seu nome completo",validate:{required:!0}},{key:"email",label:"Email",type:"textfield",inputType:"email",placeholder:"Digite seu email",validate:{required:!0}},{key:"telefone",label:"Telefone",type:"textfield",placeholder:"Digite seu telefone",validate:{required:!0}},{key:"assunto",label:"Assunto da Solicitao",type:"select",placeholder:"Selecione o assunto",data:{values:[{label:"Informao",value:"informacao"},{label:"Reclamao",value:"reclamacao"},{label:"Sugesto",value:"sugestao"},{label:"Outro",value:"outro"}]},validate:{required:!0}},{key:"descricao",label:"Descrio",type:"textarea",placeholder:"Descreva sua solicitao",rows:4,validate:{required:!0}},{key:"termos",label:"Concordo com os termos e condies",type:"checkbox",validate:{required:!0}},{key:"submit",label:"Enviar Solicitao",type:"button",theme:"primary"}],schemaVersion:5},Wp=[],zne=()=>{if(Wp.length===0){const n=new Date().toISOString(),e={id:AN(),name:"Formulrio de Solicitao",description:"Formulrio para envio de solicitaes",schema:Cwe,createdAt:n,updatedAt:n};Wp.push(e)}},Owe=async()=>(zne(),[...Wp]),Twe=async n=>{zne();const e=Wp.find(t=>t.id===n);if(!e)throw new Error(`Form with ID ${n} not found`);return{...e}},Awe=async n=>{const e=new Date().toISOString(),t={id:AN(),...n,createdAt:e,updatedAt:e};return Wp.push(t),{...t}},Rwe=async(n,e)=>{const t=Wp.findIndex(i=>i.id===n);if(t===-1)throw new Error(`Form with ID ${n} not found`);const r={...Wp[t],...e,updatedAt:new Date().toISOString()};return Wp[t]=r,{...r}},Pwe=async n=>{const e=Wp.findIndex(t=>t.id===n);if(e===-1)throw new Error(`Form with ID ${n} not found`);Wp.splice(e,1)},og={getAllForms:Owe,getFormById:Twe,createForm:Awe,updateForm:Rwe,deleteForm:Pwe},qp=[],Mwe=async()=>[...qp],Dwe=async n=>{const e=qp.find(t=>t.id===n);if(!e)throw new Error(`Integration with ID ${n} not found`);return{...e}},Nwe=async n=>{const e=qp.find(t=>t.processId===n);return e?{...e}:void 0},Iwe=async(n,e)=>{const t=qp.find(r=>r.processId===n&&r.taskId===e);return t?{...t}:void 0},Lwe=async n=>{const e=new Date().toISOString(),t={id:AN(),...n,createdAt:e};return qp.push(t),{...t}},Fwe=async(n,e)=>{const t=qp.findIndex(i=>i.id===n);if(t===-1)throw new Error(`Integration with ID ${n} not found`);const r={...qp[t],...e};return qp[t]=r,{...r}},$we=async n=>{const e=qp.findIndex(t=>t.id===n);if(e===-1)throw new Error(`Integration with ID ${n} not found`);qp.splice(e,1)},U1={getAllIntegrations:Mwe,getIntegrationById:Dwe,getIntegrationByProcessId:Nwe,getIntegrationsByProcessTask:Iwe,createIntegration:Lwe,updateIntegration:Fwe,deleteIntegration:$we},Vq=()=>{const{data:n=[],isLoading:e}=Al({queryKey:["processes"],queryFn:()=>Hp.getAllProcesses()}),{data:t=[],isLoading:r}=Al({queryKey:["forms"],queryFn:()=>og.getAllForms()}),{data:i=[],isLoading:o}=Al({queryKey:["integrations"],queryFn:()=>U1.getAllIntegrations()});return V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold",children:"Painel"}),V.jsx("p",{className:"text-muted-foreground",children:"Bem-vindo ao POC de BPMN e Formulrios Dinmicos"})]})}),V.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[V.jsxs(za,{children:[V.jsxs(Ha,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[V.jsx(nc,{className:"text-2xl font-bold",children:"Processos BPMN"}),V.jsx(e8,{className:"h-5 w-5 text-muted-foreground"})]}),V.jsxs(Wa,{children:[V.jsx("div",{className:"text-3xl font-bold",children:e?V.jsx("div",{className:"h-8 w-16 animate-pulse rounded-md bg-muted"}):n.length}),V.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de processos modelados"}),V.jsx("div",{className:"mt-4",children:V.jsx(yi,{asChild:!0,variant:"outline",className:"w-full",children:V.jsx(Cl,{to:"/processes",children:"Ver Todos os Processos"})})})]})]}),V.jsxs(za,{children:[V.jsxs(Ha,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[V.jsx(nc,{className:"text-2xl font-bold",children:"Formulrios Dinmicos"}),V.jsx(Q9,{className:"h-5 w-5 text-muted-foreground"})]}),V.jsxs(Wa,{children:[V.jsx("div",{className:"text-3xl font-bold",children:r?V.jsx("div",{className:"h-8 w-16 animate-pulse rounded-md bg-muted"}):t.length}),V.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de formulrios criados"}),V.jsx("div",{className:"mt-4",children:V.jsx(yi,{asChild:!0,variant:"outline",className:"w-full",children:V.jsx(Cl,{to:"/forms",children:"Ver Todos os Formulrios"})})})]})]}),V.jsxs(za,{children:[V.jsxs(Ha,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[V.jsx(nc,{className:"text-2xl font-bold",children:"Integraes"}),V.jsx(X9,{className:"h-5 w-5 text-muted-foreground"})]}),V.jsxs(Wa,{children:[V.jsx("div",{className:"text-3xl font-bold",children:o?V.jsx("div",{className:"h-8 w-16 animate-pulse rounded-md bg-muted"}):i.length}),V.jsx("p",{className:"text-xs text-muted-foreground",children:"Conexes processo-formulrio"}),V.jsx("div",{className:"mt-4",children:V.jsx(yi,{asChild:!0,variant:"outline",className:"w-full",children:V.jsx(Cl,{to:"/integration",children:"Ver Todas as Integraes"})})})]})]})]}),V.jsx("div",{className:"mt-10",children:V.jsxs(za,{children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:"Comeando"}),V.jsx(wf,{children:"Bem-vindo ao prova de conceito de BPMN e Formulrios Dinmicos."})]}),V.jsxs(Wa,{className:"space-y-4",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("h3",{className:"font-medium",children:"1. Criar Processo BPMN"}),V.jsx("p",{className:"text-sm text-muted-foreground",children:"Primeiro, crie um processo BPMN usando o editor BPMN.js integrado."}),V.jsx(yi,{asChild:!0,size:"sm",children:V.jsx(Cl,{to:"/processes/new",children:"Criar Processo"})})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("h3",{className:"font-medium",children:"2. Criar Formulrio Dinmico"}),V.jsx("p",{className:"text-sm text-muted-foreground",children:"Desenhe formulrios interativos usando o editor form-js."}),V.jsx(yi,{asChild:!0,size:"sm",children:V.jsx(Cl,{to:"/forms/new",children:"Criar Formulrio"})})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("h3",{className:"font-medium",children:"3. Vincular Processo e Formulrio"}),V.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte seu processo BPMN com o formulrio apropriado."}),V.jsx(yi,{asChild:!0,size:"sm",children:V.jsx(Cl,{to:"/integration",children:"Criar Integrao"})})]})]})]})})]})};var r4="focusScope.autoFocusOnMount",i4="focusScope.autoFocusOnUnmount",zq={bubbles:!1,cancelable:!0},Bwe="FocusScope",h8=Z.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=n,[c,u]=Z.useState(null),h=wd(i),m=wd(o),v=Z.useRef(null),_=zo(e,T=>u(T)),k=Z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Z.useEffect(()=>{if(r){let T=function(B){if(k.paused||!c)return;const I=B.target;c.contains(I)?v.current=I:My(v.current,{select:!0})},F=function(B){if(k.paused||!c)return;const I=B.relatedTarget;I!==null&&(c.contains(I)||My(v.current,{select:!0}))},$=function(B){if(document.activeElement===document.body)for(const Y of B)Y.removedNodes.length>0&&My(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",F);const j=new MutationObserver($);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",F),j.disconnect()}}},[r,c,k.paused]),Z.useEffect(()=>{if(c){Wq.add(k);const T=document.activeElement;if(!c.contains(T)){const $=new CustomEvent(r4,zq);c.addEventListener(r4,h),c.dispatchEvent($),$.defaultPrevented||(jwe(qwe(Hne(c)),{select:!0}),document.activeElement===T&&My(c))}return()=>{c.removeEventListener(r4,h),setTimeout(()=>{const $=new CustomEvent(i4,zq);c.addEventListener(i4,m),c.dispatchEvent($),$.defaultPrevented||My(T??document.body,{select:!0}),c.removeEventListener(i4,m),Wq.remove(k)},0)}}},[c,h,m,k]);const R=Z.useCallback(T=>{if(!t&&!r||k.paused)return;const F=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,$=document.activeElement;if(F&&$){const j=T.currentTarget,[B,I]=Vwe(j);B&&I?!T.shiftKey&&$===I?(T.preventDefault(),t&&My(B,{select:!0})):T.shiftKey&&$===B&&(T.preventDefault(),t&&My(I,{select:!0})):$===j&&T.preventDefault()}},[t,r,k.paused]);return V.jsx(zi.div,{tabIndex:-1,...a,ref:_,onKeyDown:R})});h8.displayName=Bwe;function jwe(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(My(r,{select:e}),document.activeElement!==t)return}function Vwe(n){const e=Hne(n),t=Hq(e,n),r=Hq(e.reverse(),n);return[t,r]}function Hne(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Hq(n,e){for(const t of n)if(!zwe(t,{upTo:e}))return t}function zwe(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Hwe(n){return n instanceof HTMLInputElement&&"select"in n}function My(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Hwe(n)&&e&&n.select()}}var Wq=Wwe();function Wwe(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=qq(n,e),n.unshift(e)},remove(e){var t;n=qq(n,e),(t=n[0])==null||t.resume()}}}function qq(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function qwe(n){return n.filter(e=>e.tagName!=="A")}var o4=0;function Wne(){Z.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Uq()),document.body.insertAdjacentElement("beforeend",n[1]??Uq()),o4++,()=>{o4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),o4--}},[])}function Uq(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Mp=function(){return Mp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Mp.apply(this,arguments)};function qne(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Uwe(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var zM="right-scroll-bar-position",HM="width-before-scroll-bar",Gwe="with-scroll-bars-hidden",Ywe="--removed-body-scroll-bar-size";function s4(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Qwe(n,e){var t=Z.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var Kwe=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,Gq=new WeakMap;function Xwe(n,e){var t=Qwe(null,function(r){return n.forEach(function(i){return s4(i,r)})});return Kwe(function(){var r=Gq.get(t);if(r){var i=new Set(r),o=new Set(n),a=t.current;i.forEach(function(c){o.has(c)||s4(c,null)}),o.forEach(function(c){i.has(c)||s4(c,a)})}Gq.set(t,n)},[n]),t}function Zwe(n){return n}function Jwe(n,e){e===void 0&&(e=Zwe);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var a=e(o,r);return t.push(a),function(){t=t.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(r=!0;t.length;){var a=t;t=[],a.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){r=!0;var a=[];if(t.length){var c=t;t=[],c.forEach(o),a=t}var u=function(){var m=a;a=[],m.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),t={push:function(m){a.push(m),h()},filter:function(m){return a=a.filter(m),t}}}};return i}function e_e(n){n===void 0&&(n={});var e=Jwe(null);return e.options=Mp({async:!0,ssr:!1},n),e}var Une=function(n){var e=n.sideCar,t=qne(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return Z.createElement(r,Mp({},t))};Une.isSideCarExport=!0;function t_e(n,e){return n.useMedium(e),Une}var Gne=e_e(),a4=function(){},RN=Z.forwardRef(function(n,e){var t=Z.useRef(null),r=Z.useState({onScrollCapture:a4,onWheelCapture:a4,onTouchMoveCapture:a4}),i=r[0],o=r[1],a=n.forwardProps,c=n.children,u=n.className,h=n.removeScrollBar,m=n.enabled,v=n.shards,_=n.sideCar,k=n.noIsolation,R=n.inert,T=n.allowPinchZoom,F=n.as,$=F===void 0?"div":F,j=n.gapMode,B=qne(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=_,Y=Xwe([t,e]),oe=Mp(Mp({},B),i);return Z.createElement(Z.Fragment,null,m&&Z.createElement(I,{sideCar:Gne,removeScrollBar:h,shards:v,noIsolation:k,inert:R,setCallbacks:o,allowPinchZoom:!!T,lockRef:t,gapMode:j}),a?Z.cloneElement(Z.Children.only(c),Mp(Mp({},oe),{ref:Y})):Z.createElement($,Mp({},oe,{className:u,ref:Y}),c))});RN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RN.classNames={fullWidth:HM,zeroRight:zM};var n_e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r_e(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=n_e();return e&&n.setAttribute("nonce",e),n}function i_e(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function o_e(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var s_e=function(){var n=0,e=null;return{add:function(t){n==0&&(e=r_e())&&(i_e(e,t),o_e(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},a_e=function(){var n=s_e();return function(e,t){Z.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Yne=function(){var n=a_e(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},l_e={left:0,top:0,right:0,gap:0},l4=function(n){return parseInt(n||"",10)||0},c_e=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[l4(t),l4(r),l4(i)]},u_e=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return l_e;var e=c_e(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},d_e=Yne(),Jw="data-scroll-locked",f_e=function(n,e,t,r){var i=n.left,o=n.top,a=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Gwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Jw,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zM,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(HM,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(zM," .").concat(zM,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(HM," .").concat(HM,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jw,`] {
    `).concat(Ywe,": ").concat(c,`px;
  }
`)},Yq=function(){var n=parseInt(document.body.getAttribute(Jw)||"0",10);return isFinite(n)?n:0},h_e=function(){Z.useEffect(function(){return document.body.setAttribute(Jw,(Yq()+1).toString()),function(){var n=Yq()-1;n<=0?document.body.removeAttribute(Jw):document.body.setAttribute(Jw,n.toString())}},[])},p_e=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;h_e();var o=Z.useMemo(function(){return u_e(i)},[i]);return Z.createElement(d_e,{styles:f_e(o,!e,i,t?"":"!important")})},n6=!1;if(typeof window<"u")try{var xP=Object.defineProperty({},"passive",{get:function(){return n6=!0,!0}});window.addEventListener("test",xP,xP),window.removeEventListener("test",xP,xP)}catch{n6=!1}var aw=n6?{passive:!1}:!1,m_e=function(n){return n.tagName==="TEXTAREA"},Qne=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!m_e(n)&&t[e]==="visible")},g_e=function(n){return Qne(n,"overflowY")},y_e=function(n){return Qne(n,"overflowX")},Qq=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Kne(n,r);if(i){var o=Xne(n,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},v_e=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},b_e=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Kne=function(n,e){return n==="v"?g_e(e):y_e(e)},Xne=function(n,e){return n==="v"?v_e(e):b_e(e)},x_e=function(n,e){return n==="h"&&e==="rtl"?-1:1},w_e=function(n,e,t,r,i){var o=x_e(n,window.getComputedStyle(e).direction),a=o*r,c=t.target,u=e.contains(c),h=!1,m=a>0,v=0,_=0;do{var k=Xne(n,c),R=k[0],T=k[1],F=k[2],$=T-F-o*R;(R||$)&&Kne(n,c)&&(v+=$,_+=R),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(m&&(Math.abs(v)<1||!i)||!m&&(Math.abs(_)<1||!i))&&(h=!0),h},wP=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Kq=function(n){return[n.deltaX,n.deltaY]},Xq=function(n){return n&&"current"in n?n.current:n},__e=function(n,e){return n[0]===e[0]&&n[1]===e[1]},E_e=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},S_e=0,lw=[];function k_e(n){var e=Z.useRef([]),t=Z.useRef([0,0]),r=Z.useRef(),i=Z.useState(S_e++)[0],o=Z.useState(Yne)[0],a=Z.useRef(n);Z.useEffect(function(){a.current=n},[n]),Z.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var T=Uwe([n.lockRef.current],(n.shards||[]).map(Xq),!0).filter(Boolean);return T.forEach(function(F){return F.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(F){return F.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=Z.useCallback(function(T,F){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!a.current.allowPinchZoom;var $=wP(T),j=t.current,B="deltaX"in T?T.deltaX:j[0]-$[0],I="deltaY"in T?T.deltaY:j[1]-$[1],Y,oe=T.target,ne=Math.abs(B)>Math.abs(I)?"h":"v";if("touches"in T&&ne==="h"&&oe.type==="range")return!1;var ae=Qq(ne,oe);if(!ae)return!0;if(ae?Y=ne:(Y=ne==="v"?"h":"v",ae=Qq(ne,oe)),!ae)return!1;if(!r.current&&"changedTouches"in T&&(B||I)&&(r.current=Y),!Y)return!0;var Te=r.current||Y;return w_e(Te,F,T,Te==="h"?B:I,!0)},[]),u=Z.useCallback(function(T){var F=T;if(!(!lw.length||lw[lw.length-1]!==o)){var $="deltaY"in F?Kq(F):wP(F),j=e.current.filter(function(Y){return Y.name===F.type&&(Y.target===F.target||F.target===Y.shadowParent)&&__e(Y.delta,$)})[0];if(j&&j.should){F.cancelable&&F.preventDefault();return}if(!j){var B=(a.current.shards||[]).map(Xq).filter(Boolean).filter(function(Y){return Y.contains(F.target)}),I=B.length>0?c(F,B[0]):!a.current.noIsolation;I&&F.cancelable&&F.preventDefault()}}},[]),h=Z.useCallback(function(T,F,$,j){var B={name:T,delta:F,target:$,should:j,shadowParent:C_e($)};e.current.push(B),setTimeout(function(){e.current=e.current.filter(function(I){return I!==B})},1)},[]),m=Z.useCallback(function(T){t.current=wP(T),r.current=void 0},[]),v=Z.useCallback(function(T){h(T.type,Kq(T),T.target,c(T,n.lockRef.current))},[]),_=Z.useCallback(function(T){h(T.type,wP(T),T.target,c(T,n.lockRef.current))},[]);Z.useEffect(function(){return lw.push(o),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:_}),document.addEventListener("wheel",u,aw),document.addEventListener("touchmove",u,aw),document.addEventListener("touchstart",m,aw),function(){lw=lw.filter(function(T){return T!==o}),document.removeEventListener("wheel",u,aw),document.removeEventListener("touchmove",u,aw),document.removeEventListener("touchstart",m,aw)}},[]);var k=n.removeScrollBar,R=n.inert;return Z.createElement(Z.Fragment,null,R?Z.createElement(o,{styles:E_e(i)}):null,k?Z.createElement(p_e,{gapMode:n.gapMode}):null)}function C_e(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const O_e=t_e(Gne,k_e);var p8=Z.forwardRef(function(n,e){return Z.createElement(RN,Mp({},n,{ref:e,sideCar:O_e}))});p8.classNames=RN.classNames;var T_e=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},cw=new WeakMap,_P=new WeakMap,EP={},c4=0,Zne=function(n){return n&&(n.host||Zne(n.parentNode))},A_e=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Zne(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},R_e=function(n,e,t,r){var i=A_e(e,Array.isArray(n)?n:[n]);EP[t]||(EP[t]=new WeakMap);var o=EP[t],a=[],c=new Set,u=new Set(i),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};i.forEach(h);var m=function(v){!v||u.has(v)||Array.prototype.forEach.call(v.children,function(_){if(c.has(_))m(_);else try{var k=_.getAttribute(r),R=k!==null&&k!=="false",T=(cw.get(_)||0)+1,F=(o.get(_)||0)+1;cw.set(_,T),o.set(_,F),a.push(_),T===1&&R&&_P.set(_,!0),F===1&&_.setAttribute(t,"true"),R||_.setAttribute(r,"true")}catch($){console.error("aria-hidden: cannot operate on ",_,$)}})};return m(e),c.clear(),c4++,function(){a.forEach(function(v){var _=cw.get(v)-1,k=o.get(v)-1;cw.set(v,_),o.set(v,k),_||(_P.has(v)||v.removeAttribute(r),_P.delete(v)),k||v.removeAttribute(t)}),c4--,c4||(cw=new WeakMap,cw=new WeakMap,_P=new WeakMap,EP={})}},Jne=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=T_e(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),R_e(r,i,t,"aria-hidden")):function(){return null}},m8="Dialog",[ere,tre]=VO(m8),[P_e,jh]=ere(m8),nre=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=n,c=Z.useRef(null),u=Z.useRef(null),[h=!1,m]=jD({prop:r,defaultProp:i,onChange:o});return V.jsx(P_e,{scope:e,triggerRef:c,contentRef:u,contentId:Xw(),titleId:Xw(),descriptionId:Xw(),open:h,onOpenChange:m,onOpenToggle:Z.useCallback(()=>m(v=>!v),[m]),modal:a,children:t})};nre.displayName=m8;var rre="DialogTrigger",ire=Z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jh(rre,t),o=zo(e,i.triggerRef);return V.jsx(zi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":v8(i.open),...r,ref:o,onClick:Gr(n.onClick,i.onOpenToggle)})});ire.displayName=rre;var g8="DialogPortal",[M_e,ore]=ere(g8,{forceMount:void 0}),sre=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=jh(g8,e);return V.jsx(M_e,{scope:e,forceMount:t,children:Z.Children.map(r,a=>V.jsx(uE,{present:t||o.open,children:V.jsx(bN,{asChild:!0,container:i,children:a})}))})};sre.displayName=g8;var qD="DialogOverlay",are=Z.forwardRef((n,e)=>{const t=ore(qD,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=jh(qD,n.__scopeDialog);return o.modal?V.jsx(uE,{present:r||o.open,children:V.jsx(D_e,{...i,ref:e})}):null});are.displayName=qD;var D_e=Z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jh(qD,t);return V.jsx(p8,{as:Tv,allowPinchZoom:!0,shards:[i.contentRef],children:V.jsx(zi.div,{"data-state":v8(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ob="DialogContent",lre=Z.forwardRef((n,e)=>{const t=ore(ob,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=jh(ob,n.__scopeDialog);return V.jsx(uE,{present:r||o.open,children:o.modal?V.jsx(N_e,{...i,ref:e}):V.jsx(I_e,{...i,ref:e})})});lre.displayName=ob;var N_e=Z.forwardRef((n,e)=>{const t=jh(ob,n.__scopeDialog),r=Z.useRef(null),i=zo(e,t.contentRef,r);return Z.useEffect(()=>{const o=r.current;if(o)return Jne(o)},[]),V.jsx(cre,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gr(n.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Gr(n.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&o.preventDefault()}),onFocusOutside:Gr(n.onFocusOutside,o=>o.preventDefault())})}),I_e=Z.forwardRef((n,e)=>{const t=jh(ob,n.__scopeDialog),r=Z.useRef(!1),i=Z.useRef(!1);return V.jsx(cre,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,c;(a=n.onCloseAutoFocus)==null||a.call(n,o),o.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,h;(u=n.onInteractOutside)==null||u.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((h=t.triggerRef.current)==null?void 0:h.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),cre=Z.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=n,c=jh(ob,t),u=Z.useRef(null),h=zo(e,u);return Wne(),V.jsxs(V.Fragment,{children:[V.jsx(h8,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:V.jsx(zO,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":v8(c.open),...a,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),V.jsxs(V.Fragment,{children:[V.jsx(F_e,{titleId:c.titleId}),V.jsx(B_e,{contentRef:u,descriptionId:c.descriptionId})]})]})}),y8="DialogTitle",ure=Z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jh(y8,t);return V.jsx(zi.h2,{id:i.titleId,...r,ref:e})});ure.displayName=y8;var dre="DialogDescription",fre=Z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jh(dre,t);return V.jsx(zi.p,{id:i.descriptionId,...r,ref:e})});fre.displayName=dre;var hre="DialogClose",pre=Z.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=jh(hre,t);return V.jsx(zi.button,{type:"button",...r,ref:e,onClick:Gr(n.onClick,()=>i.onOpenChange(!1))})});pre.displayName=hre;function v8(n){return n?"open":"closed"}var mre="DialogTitleWarning",[L_e,gre]=j0e(mre,{contentName:ob,titleName:y8,docsSlug:"dialog"}),F_e=({titleId:n})=>{const e=gre(mre),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return Z.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},$_e="DialogDescriptionWarning",B_e=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gre($_e).contentName}}.`;return Z.useEffect(()=>{var o;const i=(o=n.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},j_e=nre,V_e=ire,z_e=sre,H_e=are,W_e=lre,q_e=ure,U_e=fre,yre=pre,vre="AlertDialog",[G_e,TYe]=VO(vre,[tre]),Sg=tre(),bre=n=>{const{__scopeAlertDialog:e,...t}=n,r=Sg(e);return V.jsx(j_e,{...r,...t,modal:!0})};bre.displayName=vre;var Y_e="AlertDialogTrigger",xre=Z.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Sg(t);return V.jsx(V_e,{...i,...r,ref:e})});xre.displayName=Y_e;var Q_e="AlertDialogPortal",wre=n=>{const{__scopeAlertDialog:e,...t}=n,r=Sg(e);return V.jsx(z_e,{...r,...t})};wre.displayName=Q_e;var K_e="AlertDialogOverlay",_re=Z.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Sg(t);return V.jsx(H_e,{...i,...r,ref:e})});_re.displayName=K_e;var e_="AlertDialogContent",[X_e,Z_e]=G_e(e_),Ere=Z.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,o=Sg(t),a=Z.useRef(null),c=zo(e,a),u=Z.useRef(null);return V.jsx(L_e,{contentName:e_,titleName:Sre,docsSlug:"alert-dialog",children:V.jsx(X_e,{scope:t,cancelRef:u,children:V.jsxs(W_e,{role:"alertdialog",...o,...i,ref:c,onOpenAutoFocus:Gr(i.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=u.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[V.jsx(W9,{children:r}),V.jsx(eEe,{contentRef:a})]})})})});Ere.displayName=e_;var Sre="AlertDialogTitle",kre=Z.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Sg(t);return V.jsx(q_e,{...i,...r,ref:e})});kre.displayName=Sre;var Cre="AlertDialogDescription",Ore=Z.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Sg(t);return V.jsx(U_e,{...i,...r,ref:e})});Ore.displayName=Cre;var J_e="AlertDialogAction",Tre=Z.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Sg(t);return V.jsx(yre,{...i,...r,ref:e})});Tre.displayName=J_e;var Are="AlertDialogCancel",Rre=Z.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=Z_e(Are,t),o=Sg(t),a=zo(e,i);return V.jsx(yre,{...o,...r,ref:a})});Rre.displayName=Are;var eEe=({contentRef:n})=>{const e=`\`${e_}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${e_}\` by passing a \`${Cre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${e_}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return Z.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},tEe=bre,nEe=xre,rEe=wre,Pre=_re,Mre=Ere,Dre=Tre,Nre=Rre,Ire=kre,Lre=Ore;const b8=tEe,x8=nEe,iEe=rEe,Fre=Z.forwardRef(({className:n,...e},t)=>V.jsx(Pre,{className:oi("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));Fre.displayName=Pre.displayName;const PN=Z.forwardRef(({className:n,...e},t)=>V.jsxs(iEe,{children:[V.jsx(Fre,{}),V.jsx(Mre,{ref:t,className:oi("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));PN.displayName=Mre.displayName;const MN=({className:n,...e})=>V.jsx("div",{className:oi("flex flex-col space-y-2 text-center sm:text-left",n),...e});MN.displayName="AlertDialogHeader";const DN=({className:n,...e})=>V.jsx("div",{className:oi("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});DN.displayName="AlertDialogFooter";const NN=Z.forwardRef(({className:n,...e},t)=>V.jsx(Ire,{ref:t,className:oi("text-lg font-semibold",n),...e}));NN.displayName=Ire.displayName;const IN=Z.forwardRef(({className:n,...e},t)=>V.jsx(Lre,{ref:t,className:oi("text-sm text-muted-foreground",n),...e}));IN.displayName=Lre.displayName;const LN=Z.forwardRef(({className:n,...e},t)=>V.jsx(Dre,{ref:t,className:oi(f8(),n),...e}));LN.displayName=Dre.displayName;const FN=Z.forwardRef(({className:n,...e},t)=>V.jsx(Nre,{ref:t,className:oi(f8({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));FN.displayName=Nre.displayName;function Vh(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function sb(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const $re=6048e5,oEe=864e5;let sEe={};function $N(){return sEe}function YC(n,e){var c,u,h,m;const t=$N(),r=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((m=(h=t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=Vh(n),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function UD(n){return YC(n,{weekStartsOn:1})}function Bre(n){const e=Vh(n),t=e.getFullYear(),r=sb(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=UD(r),o=sb(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const a=UD(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function Zq(n){const e=Vh(n);return e.setHours(0,0,0,0),e}function Jq(n){const e=Vh(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function aEe(n,e){const t=Zq(n),r=Zq(e),i=+t-Jq(t),o=+r-Jq(r);return Math.round((i-o)/oEe)}function lEe(n){const e=Bre(n),t=sb(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),UD(t)}function cEe(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function uEe(n){if(!cEe(n)&&typeof n!="number")return!1;const e=Vh(n);return!isNaN(Number(e))}function dEe(n){const e=Vh(n),t=sb(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const fEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hEe=(n,e,t)=>{let r;const i=fEe[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function u4(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const pEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gEe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yEe={date:u4({formats:pEe,defaultWidth:"full"}),time:u4({formats:mEe,defaultWidth:"full"}),dateTime:u4({formats:gEe,defaultWidth:"full"})},vEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bEe=(n,e,t,r)=>vEe[n];function a2(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):a;i=n.formattingValues[c]||n.formattingValues[a]}else{const a=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[c]||n.values[a]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const xEe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wEe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Ee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EEe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CEe=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},OEe={ordinalNumber:CEe,era:a2({values:xEe,defaultWidth:"wide"}),quarter:a2({values:wEe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:a2({values:_Ee,defaultWidth:"wide"}),day:a2({values:EEe,defaultWidth:"wide"}),dayPeriod:a2({values:SEe,defaultWidth:"wide",formattingValues:kEe,defaultFormattingWidth:"wide"})};function l2(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(c)?AEe(c,v=>v.test(a)):TEe(c,v=>v.test(a));let h;h=n.valueCallback?n.valueCallback(u):u,h=t.valueCallback?t.valueCallback(h):h;const m=e.slice(a.length);return{value:h,rest:m}}}function TEe(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function AEe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function REe(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let a=n.valueCallback?n.valueCallback(o[0]):o[0];a=t.valueCallback?t.valueCallback(a):a;const c=e.slice(i.length);return{value:a,rest:c}}}const PEe=/^(\d+)(th|st|nd|rd)?/i,MEe=/\d+/i,DEe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NEe={any:[/^b/i,/^(a|c)/i]},IEe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LEe={any:[/1/i,/2/i,/3/i,/4/i]},FEe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$Ee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BEe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jEe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VEe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HEe={ordinalNumber:REe({matchPattern:PEe,parsePattern:MEe,valueCallback:n=>parseInt(n,10)}),era:l2({matchPatterns:DEe,defaultMatchWidth:"wide",parsePatterns:NEe,defaultParseWidth:"any"}),quarter:l2({matchPatterns:IEe,defaultMatchWidth:"wide",parsePatterns:LEe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:l2({matchPatterns:FEe,defaultMatchWidth:"wide",parsePatterns:$Ee,defaultParseWidth:"any"}),day:l2({matchPatterns:BEe,defaultMatchWidth:"wide",parsePatterns:jEe,defaultParseWidth:"any"}),dayPeriod:l2({matchPatterns:VEe,defaultMatchWidth:"any",parsePatterns:zEe,defaultParseWidth:"any"})},WEe={code:"en-US",formatDistance:hEe,formatLong:yEe,formatRelative:bEe,localize:OEe,match:HEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qEe(n){const e=Vh(n);return aEe(e,dEe(e))+1}function UEe(n){const e=Vh(n),t=+UD(e)-+lEe(e);return Math.round(t/$re)+1}function jre(n,e){var m,v,_,k;const t=Vh(n),r=t.getFullYear(),i=$N(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(_=i.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,a=sb(n,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const c=YC(a,e),u=sb(n,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const h=YC(u,e);return t.getTime()>=c.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function GEe(n,e){var c,u,h,m;const t=$N(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(h=t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=jre(n,e),o=sb(n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),YC(o,e)}function YEe(n,e){const t=Vh(n),r=+YC(t,e)-+GEe(t,e);return Math.round(r/$re)+1}function bo(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Oy={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return bo(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):bo(t+1,2)},d(n,e){return bo(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return bo(n.getHours()%12||12,e.length)},H(n,e){return bo(n.getHours(),e.length)},m(n,e){return bo(n.getMinutes(),e.length)},s(n,e){return bo(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return bo(i,e.length)}},uw={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eU={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Oy.y(n,e)},Y:function(n,e,t,r){const i=jre(n,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return bo(a,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):bo(o,e.length)},R:function(n,e){const t=Bre(n);return bo(t,e.length)},u:function(n,e){const t=n.getFullYear();return bo(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bo(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bo(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Oy.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return bo(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=YEe(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):bo(i,e.length)},I:function(n,e,t){const r=UEe(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):bo(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Oy.d(n,e)},D:function(n,e,t){const r=qEe(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):bo(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return bo(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return bo(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return bo(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=uw.noon:r===0?i=uw.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=uw.evening:r>=12?i=uw.afternoon:r>=4?i=uw.morning:i=uw.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Oy.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Oy.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):bo(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):bo(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Oy.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Oy.s(n,e)},S:function(n,e){return Oy.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return nU(r);case"XXXX":case"XX":return x1(r);case"XXXXX":case"XXX":default:return x1(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return nU(r);case"xxxx":case"xx":return x1(r);case"xxxxx":case"xxx":default:return x1(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tU(r,":");case"OOOO":default:return"GMT"+x1(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tU(r,":");case"zzzz":default:return"GMT"+x1(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return bo(r,e.length)},T:function(n,e,t){const r=n.getTime();return bo(r,e.length)}};function tU(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+bo(o,2)}function nU(n,e){return n%60===0?(n>0?"-":"+")+bo(Math.abs(n)/60,2):x1(n,e)}function x1(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=bo(Math.trunc(r/60),2),o=bo(r%60,2);return t+i+e+o}const rU=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Vre=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},QEe=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return rU(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",rU(r,e)).replace("{{time}}",Vre(i,e))},KEe={p:Vre,P:QEe},XEe=/^D+$/,ZEe=/^Y+$/,JEe=["D","DD","YY","YYYY"];function eSe(n){return XEe.test(n)}function tSe(n){return ZEe.test(n)}function nSe(n,e,t){const r=rSe(n,e,t);if(console.warn(r),JEe.includes(n))throw new RangeError(r)}function rSe(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sSe=/^'([^]*?)'?$/,aSe=/''/g,lSe=/[a-zA-Z]/;function ab(n,e,t){var m,v,_,k;const r=$N(),i=r.locale??WEe,o=r.firstWeekContainsDate??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,a=r.weekStartsOn??((k=(_=r.locale)==null?void 0:_.options)==null?void 0:k.weekStartsOn)??0,c=Vh(n);if(!uEe(c))throw new RangeError("Invalid time value");let u=e.match(oSe).map(R=>{const T=R[0];if(T==="p"||T==="P"){const F=KEe[T];return F(R,i.formatLong)}return R}).join("").match(iSe).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const T=R[0];if(T==="'")return{isToken:!1,value:cSe(R)};if(eU[T])return{isToken:!0,value:R};if(T.match(lSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:R}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const h={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return u.map(R=>{if(!R.isToken)return R.value;const T=R.value;(tSe(T)||eSe(T))&&nSe(T,e,String(n));const F=eU[T[0]];return F(c,T,i.localize,h)}).join("")}function cSe(n){const e=n.match(sSe);return e?e[1].replace(aSe,"'"):n}const uSe=()=>V.jsx("div",{className:"flex h-[calc(100vh-160px)] items-center justify-center",children:V.jsxs("div",{className:"mx-auto flex max-w-md flex-col items-center justify-center text-center",children:[V.jsx("div",{className:"mb-4 rounded-full bg-primary/10 p-3",children:V.jsx(e8,{className:"h-10 w-10 text-primary"})}),V.jsx("h2",{className:"text-2xl font-bold",children:"Nenhum processo BPMN encontrado"}),V.jsx("p",{className:"mt-2 text-muted-foreground",children:"Crie seu primeiro processo BPMN para comear a modelar seus fluxos de trabalho."}),V.jsx(yi,{asChild:!0,className:"mt-6",children:V.jsxs(Cl,{to:"/processes/new",children:[V.jsx(dE,{className:"mr-2 h-4 w-4"}),"Criar Processo"]})})]})}),dSe=()=>V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold",children:"BPMN Processes"}),V.jsx("p",{className:"text-muted-foreground",children:"Manage your business process models"})]})}),V.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((n,e)=>V.jsxs(za,{children:[V.jsxs(Ha,{children:[V.jsx("div",{className:"h-6 w-2/3 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"})]}),V.jsx(Wa,{children:V.jsxs("div",{className:"space-y-2",children:[V.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-md bg-muted"})]})}),V.jsxs(Cb,{className:"flex justify-between",children:[V.jsxs("div",{className:"flex gap-2",children:[V.jsx("div",{className:"h-9 w-16 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"h-9 w-16 animate-pulse rounded-md bg-muted"})]}),V.jsx("div",{className:"h-9 w-20 animate-pulse rounded-md bg-muted"})]})]},e))})]}),fSe=()=>{const n=Uv(),{data:e=[],isLoading:t}=Al({queryKey:["processes"],queryFn:()=>Hp.getAllProcesses()}),r=mg({mutationFn:o=>Hp.deleteProcess(o),onSuccess:()=>{n.invalidateQueries({queryKey:["processes"]}),ls.success("Processo excludo com sucesso")},onError:o=>{ls.error("Falha ao excluir o processo"),console.error(o)}}),i=o=>{r.mutate(o)};return t?V.jsx(dSe,{}):e.length===0?V.jsx(uSe,{}):V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold",children:"Processos BPMN"}),V.jsx("p",{className:"text-muted-foreground",children:"Gerencie seus modelos de processos de negcio"})]}),V.jsx(yi,{asChild:!0,className:"mt-4 sm:mt-0",children:V.jsxs(Cl,{to:"/processes/new",children:[V.jsx(dE,{className:"mr-2 h-4 w-4"}),"Novo Processo"]})})]}),V.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(o=>V.jsxs(za,{children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:o.name}),V.jsx(wf,{children:o.description})]}),V.jsx(Wa,{children:V.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.jsxs("p",{children:["Criado: ",ab(new Date(o.createdAt),"PPP")]}),V.jsxs("p",{children:["ltima atualizao: ",ab(new Date(o.updatedAt),"PPP")]})]})}),V.jsx(Cb,{className:"flex justify-end",children:V.jsxs("div",{className:"flex gap-2",children:[V.jsx(yi,{asChild:!0,variant:"outline",size:"sm",children:V.jsx(Cl,{to:`/processes/${o.id}`,children:V.jsx(tne,{className:"h-4 w-4"})})}),V.jsx(yi,{asChild:!0,variant:"outline",size:"sm",children:V.jsx(Cl,{to:`/processes/${o.id}/edit`,children:V.jsx(I_,{className:"h-4 w-4"})})}),V.jsxs(b8,{children:[V.jsx(x8,{asChild:!0,children:V.jsx(yi,{variant:"destructive",size:"sm",children:V.jsx(J9,{className:"h-4 w-4"})})}),V.jsxs(PN,{children:[V.jsxs(MN,{children:[V.jsx(NN,{children:"Confirmar excluso"}),V.jsx(IN,{children:"Tem certeza que deseja excluir este processo? Esta ao no pode ser desfeita."})]}),V.jsxs(DN,{children:[V.jsx(FN,{children:"Cancelar"}),V.jsx(LN,{onClick:()=>i(o.id),children:"Excluir"})]})]})]})]})})]},o.id))})]})};var zre={exports:{}};/*! bpmn-js - bpmn-modeler v16.3.2 | Copyright (c) 2014-present, camunda Services GmbH | bpmn.io/license */(function(n,e){(function(t,r){n.exports=r()})(mh,function(){function t(s,l){l&&(s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}var r=function(s,l){return s(l={exports:{}},l.exports),l.exports}(function(s){var l=s.exports=function(d,f){if(f||(f=16),d===void 0&&(d=128),d<=0)return"0";for(var p=Math.log(Math.pow(2,d))/Math.log(f),g=2;p===1/0;g*=2)p=Math.log(Math.pow(2,d/g))/Math.log(f)*g;var b=p-Math.floor(p),w="";for(g=0;g<Math.floor(p);g++)w=Math.floor(Math.random()*f).toString(f)+w;if(b){var S=Math.pow(f,b);w=Math.floor(Math.random()*S).toString(f)+w}var O=parseInt(w,f);return O!==1/0&&O>=Math.pow(2,d)?l(d,f):w};l.rack=function(d,f,p){var g=function(w){var S=0;do{if(S++>10){if(!p)throw new Error("too many ID collisions, use more bits");d+=p}var O=l(d,f)}while(Object.hasOwnProperty.call(b,O));return b[O]=w,O},b=g.hats={};return g.get=function(w){return g.hats[w]},g.set=function(w,S){return g.hats[w]=S,g},g.bits=d||128,g.base=f||16,g}});function i(s){if(!(this instanceof i))return new i(s);s=s||[128,36,1],this._seed=s.length?r.rack(s[0],s[1],s[2]):s}function o(s){return Array.prototype.concat.apply([],s)}i.prototype.next=function(s){return this._seed(s||!0)},i.prototype.nextPrefixed=function(s,l){var d;do d=s+this.next(!0);while(this.assigned(d));return this.claim(d,l),d},i.prototype.claim=function(s,l){this._seed.set(s,l||!0)},i.prototype.assigned=function(s){return this._seed.get(s)||!1},i.prototype.unclaim=function(s){delete this._seed.hats[s]},i.prototype.clear=function(){var s,l=this._seed.hats;for(s in l)this.unclaim(s)};const a=Object.prototype.toString,c=Object.prototype.hasOwnProperty;function u(s){return s===void 0}function h(s){return s!==void 0}function m(s){return s==null}function v(s){return a.call(s)==="[object Array]"}function _(s){return a.call(s)==="[object Object]"}function k(s){return a.call(s)==="[object Number]"}function R(s){const l=a.call(s);return l==="[object Function]"||l==="[object AsyncFunction]"||l==="[object GeneratorFunction]"||l==="[object AsyncGeneratorFunction]"||l==="[object Proxy]"}function T(s){return a.call(s)==="[object String]"}function F(s,l){return c.call(s,l)}function $(s,l){const d=De(l);let f;return I(s,function(p,g){if(d(p,g))return f=p,!1}),f}function j(s,l){const d=De(l);let f=v(s)?-1:void 0;return I(s,function(p,g){if(d(p,g))return f=g,!1}),f}function B(s,l){const d=De(l);let f=[];return I(s,function(p,g){d(p,g)&&f.push(p)}),f}function I(s,l){let d,f;if(u(s))return;const p=v(s)?bt:Ze;for(let g in s)if(F(s,g)&&(d=s[g],f=l(d,p(g)),f===!1))return d}function Y(s,l){if(u(s))return[];(function(f){if(!v(f))throw new Error("must supply array")})(s);const d=De(l);return s.filter(function(f,p){return!d(f,p)})}function oe(s,l,d){return I(s,function(f,p){d=l(d,f,p)}),d}function ne(s,l){return!!oe(s,function(d,f,p){return d&&l(f,p)},!0)}function ae(s,l){return!!$(s,l)}function Te(s,l){let d=[];return I(s,function(f,p){d.push(l(f,p))}),d}function Me(s){return s&&Object.keys(s)||[]}function Ee(s){return Te(s,l=>l)}function we(s,l,d={}){return l=dt(l),I(s,function(f){let p=l(f)||"_",g=d[p];g||(g=d[p]=[]),g.push(f)}),d}function Ce(s,...l){s=dt(s);let d={};return I(l,f=>we(f,s,d)),Te(d,function(f,p){return f[0]})}const Oe=Ce;function Fe(s,l){l=dt(l);let d=[];return I(s,function(f,p){let g=l(f,p),b={d:g,v:f};for(var w=0;w<d.length;w++){let{d:S}=d[w];if(g<S)return void d.splice(w,0,b)}d.push(b)}),Te(d,f=>f.v)}function ze(s){return function(l){return ne(s,function(d,f){return l[f]===d})}}function dt(s){return R(s)?s:l=>l[s]}function De(s){return R(s)?s:l=>l===s}function Ze(s){return s}function bt(s){return Number(s)}function Ye(s,l){let d,f,p,g;function b(M){let A=Date.now(),L=M?0:g+l-A;if(L>0)return w(L);s.apply(p,f),S()}function w(M){d=setTimeout(b,M)}function S(){d&&clearTimeout(d),d=g=f=p=void 0}function O(...M){g=Date.now(),f=M,p=this,d||w(l)}return O.flush=function(){d&&b(!0),S()},O.cancel=S,O}function rt(s,l){return s.bind(l)}function ve(s,...l){return Object.assign(s,...l)}function vt(s,l){let d={},f=Object(s);return I(l,function(p){p in f&&(d[p]=s[p])}),d}function gt(s,l){let d={};return I(Object(s),function(f,p){l.indexOf(p)===-1&&(d[p]=f)}),d}function Tt(s,l){return l.forEach(function(d){d&&typeof d!="string"&&!Array.isArray(d)&&Object.keys(d).forEach(function(f){if(f!=="default"&&!(f in s)){var p=Object.getOwnPropertyDescriptor(d,f);Object.defineProperty(s,f,p.get?p:{enumerable:!0,get:function(){return d[f]}})}})}),Object.freeze(s)}const Zt=Object.prototype.toString,pn=Object.prototype.hasOwnProperty;function lr(s,l){return pn.call(s,l)}function ot(s,l){let d,f;if(s===void 0)return;const p=function(g){return Zt.call(g)==="[object Array]"}(s)?Vt:Ht;for(let g in s)if(lr(s,g)&&(d=s[g],f=l(d,p(g)),f===!1))return d}function Ht(s){return s}function Vt(s){return Number(s)}function mn(s,...l){const d=s.style;return ot(l,function(f){f&&ot(f,function(p,g){d[g]=p})}),s}function En(s,l,d){return arguments.length==2?s.getAttribute(l):d===null?s.removeAttribute(l):(s.setAttribute(l,d),s)}const bn=Object.prototype.toString;function nr(s){return new rr(s)}function rr(s){if(!s||!s.nodeType)throw new Error("A DOM element reference is required");this.el=s,this.list=s.classList}function Re(s){for(var l;s.childNodes.length;)l=s.childNodes[0],s.removeChild(l);return s}function We(s,l){return s&&typeof s.matches=="function"&&s.matches(l)}function Je(s,l,d){for(var f=d?s:s.parentNode;f&&f.nodeType!==document.DOCUMENT_NODE&&f.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(We(f,l))return f;f=f.parentNode}return We(f,l)?f:null}rr.prototype.add=function(s){return this.list.add(s),this},rr.prototype.remove=function(s){return bn.call(s)=="[object RegExp]"?this.removeMatching(s):(this.list.remove(s),this)},rr.prototype.removeMatching=function(s){const l=this.array();for(let d=0;d<l.length;d++)s.test(l[d])&&this.remove(l[d]);return this},rr.prototype.toggle=function(s,l){return l!==void 0?l!==this.list.toggle(s,l)&&this.list.toggle(s):this.list.toggle(s),this},rr.prototype.array=function(){return Array.from(this.list)},rr.prototype.has=rr.prototype.contains=function(s){return this.list.contains(s)};var Nt,Bt,At,vn={};function Nn(){Nt=window.addEventListener?"addEventListener":"attachEvent",Bt=window.removeEventListener?"removeEventListener":"detachEvent",At=Nt!=="addEventListener"?"on":""}var Xt=Tt({__proto__:null,bind:vn.bind=function(s,l,d,f){return Nt||Nn(),s[Nt](At+l,d,f||!1),d},unbind:vn.unbind=function(s,l,d,f){return Bt||Nn(),s[Bt](At+l,d,f||!1),d},default:vn},[vn]),Rr=["focus","blur"],Ti,fi={bind:function(s,l,d,f,p){return Rr.indexOf(d)!==-1&&(p=!0),Xt.bind(s,d,function(g){var b=g.target||g.srcElement;g.delegateTarget=Je(b,l,!0),g.delegateTarget&&f.call(s,g)},p)},unbind:function(s,l,d,f){return Rr.indexOf(l)!==-1&&(f=!0),Xt.unbind(s,l,d,f)}},pa=function(s,l){if(typeof s!="string")throw new TypeError("String expected");l||(l=document);var d=/<([\w:]+)/.exec(s);if(!d)return l.createTextNode(s);s=s.replace(/^\s+|\s+$/g,"");var f=d[1];if(f=="body")return(p=l.createElement("html")).innerHTML=s,p.removeChild(p.lastChild);var p,g=Object.prototype.hasOwnProperty.call(zr,f)?zr[f]:zr._default,b=g[0],w=g[1],S=g[2];for((p=l.createElement("div")).innerHTML=w+s+S;b--;)p=p.lastChild;if(p.firstChild==p.lastChild)return p.removeChild(p.firstChild);for(var O=l.createDocumentFragment();p.firstChild;)O.appendChild(p.removeChild(p.firstChild));return O},Vs=!1;typeof document<"u"&&((Ti=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Vs=!Ti.getElementsByTagName("link").length,Ti=void 0);var zr={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:Vs?[1,"X<div>","</div>"]:[0,"",""]};zr.td=zr.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],zr.option=zr.optgroup=[1,'<select multiple="multiple">',"</select>"],zr.thead=zr.tbody=zr.colgroup=zr.caption=zr.tfoot=[1,"<table>","</table>"],zr.polyline=zr.ellipse=zr.polygon=zr.circle=zr.text=zr.line=zr.path=zr.rect=zr.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var _r=pa;function mr(s,l){return(l=l||document).querySelector(s)}function Er(s,l){return(l=l||document).querySelectorAll(s)}function Di(s){s.parentNode&&s.parentNode.removeChild(s)}function Ho(s,l){return l.appendChild(function(d,f){if(d.ownerDocument!==f.ownerDocument)try{return f.ownerDocument.importNode(d,!0)}catch{}return d}(s,l))}function ct(s,l){return Ho(l,s),s}var Et=2,Pr={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Et,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Et,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function Ai(s,l,d){var f=l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),p=Pr[f];p?(p===Et&&typeof d=="number"&&(d=String(d)+"px"),s.style[f]=d):s.setAttributeNS(null,l,d)}function Ct(s,l,d){if(typeof l=="string"){if(d===void 0)return function(f,p){return Pr[p]?f.style[p]:f.getAttributeNS(null,p)}(s,l);Ai(s,l,d)}else(function(f,p){var g,b,w=Object.keys(p);for(g=0;b=w[g];g++)Ai(f,b,p[b])})(s,l);return s}const Ro=Object.prototype.toString;function fe(s){return new be(s)}function be(s){if(!s||!s.nodeType)throw new Error("A DOM element reference is required");this.el=s,this.list=s.classList}function Ie(s){var l=s.parentNode;return l&&l.removeChild(s),s}function pt(s){for(var l;l=s.firstChild;)Ie(l);return s}function Wt(s){return s.cloneNode(!0)}be.prototype.add=function(s){return this.list.add(s),this},be.prototype.remove=function(s){return Ro.call(s)=="[object RegExp]"?this.removeMatching(s):(this.list.remove(s),this)},be.prototype.removeMatching=function(s){const l=this.array();for(let d=0;d<l.length;d++)s.test(l[d])&&this.remove(l[d]);return this},be.prototype.toggle=function(s,l){return l!==void 0?l!==this.list.toggle(s,l)&&this.list.toggle(s):this.list.toggle(s),this},be.prototype.array=function(){return Array.from(this.list)},be.prototype.has=be.prototype.contains=function(s){return this.list.contains(s)};var an={svg:"http://www.w3.org/2000/svg"},br='<svg xmlns="'+an.svg+'"';function tn(s){var l=!1;s.substring(0,4)==="<svg"?s.indexOf(an.svg)===-1&&(s=br+s.substring(4)):(s=br+">"+s+"</svg>",l=!0);var d=function(g){var b;return(b=new DOMParser).async=!1,b.parseFromString(g,"text/xml")}(s);if(!l)return d;for(var f=document.createDocumentFragment(),p=d.firstChild;p.firstChild;)f.appendChild(p.firstChild);return f}function Rt(s,l){var d;return s.charAt(0)==="<"?(d=tn(s).firstChild,d=document.importNode(d,!0)):d=document.createElementNS(an.svg,s),l&&Ct(d,l),d}var Jt=null;function In(){return Jt===null&&(Jt=Rt("svg")),Jt}function li(s,l){var d,f,p=Object.keys(l);for(d=0;f=p[d];d++)s[f]=l[f];return s}function Jo(s){return In().createSVGTransform()}var Po=/([&<>]{1})/g,ul=/([\n\r"]{1})/g,hs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Qc(s,l){return s.replace(l,function(d,f){return hs[f]||f})}function Dl(s,l){var d,f,p,g,b;switch(s.nodeType){case 3:l.push(Qc(s.textContent,Po));break;case 1:if(l.push("<",s.tagName),s.hasAttributes())for(d=0,f=(p=s.attributes).length;d<f;++d)g=p.item(d),l.push(" ",g.name,'="',Qc(g.value,ul),'"');if(s.hasChildNodes()){for(l.push(">"),d=0,f=(b=s.childNodes).length;d<f;++d)Dl(b.item(d),l);l.push("</",s.tagName,">")}else l.push("/>");break;case 8:l.push("<!--",Qc(s.nodeValue,Po),"-->");break;case 4:l.push("<![CDATA[",s.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+s.nodeType)}return l}function Lu(s,l){return function(d){for(var f=d.firstChild,p=[];f;)Dl(f,p),f=f.nextSibling;return p.join("")}(s)}function ea(s,l){return l instanceof SVGMatrix?s.createSVGTransformFromMatrix(l):l}function Kc(s,l){var d=s.transform.baseVal;return l&&(Array.isArray(l)||(l=[l]),function(f,p){var g,b;for(f.clear(),g=0;b=p[g];g++)f.appendItem(ea(f,b))}(d,l)),d.consolidate()}const Bn=/^class[ {]/;function Be(s){return Array.isArray(s)}function jt(s,l){return Object.prototype.hasOwnProperty.call(s,l)}function Sn(...s){s.length===1&&Be(s[0])&&(s=s[0]);const l=(s=[...s]).pop();return l.$inject=s,l}const ir=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Ki=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,bi=/\/\*([^*]*)\*\//m;function As(s){if(typeof s!="function")throw new Error(`Cannot annotate "${s}". Expected a function!`);const l=s.toString().match(function(f){return Bn.test(f.toString())}(s)?ir:Ki);if(!l)return[];const d=l[1]||l[2];return d&&d.split(",").map(f=>{const p=f.match(bi);return(p&&p[1]||f).trim()})||[]}function Ca(s,l){l=l||{get:function(X,K){if(d.push(X),K===!1)return null;throw b(`No provider for "${X}"!`)}};const d=[],f=this._providers=Object.create(l._providers||null),p=this._instances=Object.create(null),g=p.injector=this,b=function(X){const K=d.join(" -> ");return d.length=0,new Error(K?`${X} (Resolving: ${K})`:X)};function w(X,K){if(!f[X]&&X.indexOf(".")!==-1){const ue=X.split(".");let me=w(ue.shift());for(;ue.length;)me=me[ue.shift()];return me}if(jt(p,X))return p[X];if(jt(f,X)){if(d.indexOf(X)!==-1)throw d.push(X),b("Cannot resolve circular dependency!");return d.push(X),p[X]=f[X][0](f[X][1]),d.pop(),p[X]}return l.get(X,K)}function S(X,K){if(K===void 0&&(K={}),typeof X!="function"){if(!Be(X))throw b(`Cannot invoke "${X}". Expected a function!`);X=Sn(X.slice())}return{fn:X,dependencies:(X.$inject||As(X)).map(ue=>jt(K,ue)?K[ue]:w(ue))}}function O(X){const{fn:K,dependencies:ue}=S(X);return new(Function.prototype.bind.apply(K,[null].concat(ue)))}function M(X,K,ue){const{fn:me,dependencies:ge}=S(X,ue);return me.apply(K,ge)}function A(X){return Sn(K=>X.get(K))}function L(X,K){if(K&&K.length){const ue=Object.create(null),me=Object.create(null),ge=[],$e=[],He=[];let Ve,Xe,Mn,zt;for(let nt in f)Ve=f[nt],K.indexOf(nt)!==-1&&(Ve[2]==="private"?(Xe=ge.indexOf(Ve[3]),Xe===-1?(Mn=Ve[3].createChild([],K),zt=A(Mn),ge.push(Ve[3]),$e.push(Mn),He.push(zt),ue[nt]=[zt,nt,"private",Mn]):ue[nt]=[He[Xe],nt,"private",$e[Xe]]):ue[nt]=[Ve[2],Ve[1]],me[nt]=!0),Ve[2]!=="factory"&&Ve[2]!=="type"||!Ve[1].$scope||K.forEach(_t=>{Ve[1].$scope.indexOf(_t)!==-1&&(ue[nt]=[Ve[2],Ve[1]],me[_t]=!0)});K.forEach(nt=>{if(!me[nt])throw new Error('No provider for "'+nt+'". Cannot use provider from the parent!')}),X.unshift(ue)}return new Ca(X,g)}const z={factory:M,type:O,value:function(X){return X}};function H(X,K){const ue=X.__init__||[];return function(){ue.forEach(me=>{typeof me=="string"?K.get(me):K.invoke(me)})}}function Q(X){const K=X.__exports__;if(K){const ue=X.__modules__,me=Object.keys(X).reduce((Ve,Xe)=>(Xe!=="__exports__"&&Xe!=="__modules__"&&Xe!=="__init__"&&Xe!=="__depends__"&&(Ve[Xe]=X[Xe]),Ve),Object.create(null)),ge=L((ue||[]).concat(me)),$e=Sn(function(Ve){return ge.get(Ve)});K.forEach(function(Ve){f[Ve]=[$e,Ve,"private",ge]});const He=(X.__init__||[]).slice();return He.unshift(function(){ge.init()}),H(X=Object.assign({},X,{__init__:He}),ge)}return Object.keys(X).forEach(function(ue){if(ue==="__init__"||ue==="__depends__")return;if(X[ue][2]==="private")return void(f[ue]=X[ue]);const me=X[ue][0],ge=X[ue][1];f[ue]=[z[me],kd(me,ge),me]}),H(X,g)}function re(X,K){return X.indexOf(K)!==-1||(X=(K.__depends__||[]).reduce(re,X)).indexOf(K)!==-1?X:X.concat(K)}this.get=w,this.invoke=M,this.instantiate=O,this.createChild=L,this.init=function(X){const K=X.reduce(re,[]).map(Q);let ue=!1;return function(){ue||(ue=!0,K.forEach(me=>me()))}}(s)}function kd(s,l){return s!=="value"&&Be(l)&&(l=Sn(l.slice())),l}var zs=1e3;function es(s,l){var d=this;l=l||zs,s.on(["render.shape","render.connection"],l,function(f,p){var g=f.type,b=p.element,w=p.gfx,S=p.attrs;if(d.canRender(b))return g==="render.shape"?d.drawShape(w,b,S):d.drawConnection(w,b,S)}),s.on(["render.getShapePath","render.getConnectionPath"],l,function(f,p){if(d.canRender(p))return f.type==="render.getShapePath"?d.getShapePath(p):d.getConnectionPath(p)})}function uc(s){return s.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function Cd(s){return["L",s.x,s.y]}function Of(s,l){const d=s.length,f=[(p=s[0],["M",p.x,p.y])];var p,g,b,w;for(let S=1;S<d;S++){const O=s[S-1],M=s[S],A=s[S+1];if(!A||!l){f.push(Cd(M));continue}const L=Math.min(l,n0(M.x-O.x,M.y-O.y),n0(A.x-M.x,A.y-M.y));if(!L){f.push(Cd(M));continue}const z=Mr(M,O,L),H=Mr(M,O,.5*L),Q=Mr(M,A,L),re=Mr(M,A,.5*L);f.push(Cd(z)),f.push((b=re,w=Q,["C",(g=H).x,g.y,b.x,b.y,w.x,w.y]))}return f}function Mr(s,l,d){const f=l.x-s.x,p=l.y-s.y,g=d/n0(f,p);return{x:s.x+f*g,y:s.y+p*g}}function n0(s,l){return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}function im(s,l,d){k(l)&&(d=l,l=null),l||(l={});const f=Rt("path",l);return k(d)&&(f.dataset.cornerRadius=String(d)),r0(f,s)}function r0(s,l){return Ct(s,{d:uc(Of(l,parseInt(s.dataset.cornerRadius,10)||0))}),s}function om(s){return B(s,function(l){return!$(s,function(d){return d!==l&&Ag(l,d)})})}function Ag(s,l){if(l){if(s===l)return l;if(s.parent)return Ag(s.parent,l)}}function i0(s,l,d){var f=!d||s.indexOf(l)===-1;return f&&s.push(l),f}function Od(s,l,d){d=d||0,v(s)||(s=[s]),I(s,function(f,p){var g=l(f,p,d);v(g)&&g.length&&Od(g,l,d+1)})}function dc(s,l){return function(d,f,p){var g=[],b=[];return Od(d,function(w,S,O){i0(g,w,f);var M=w.children;if(M&&i0(b,M,f))return M}),g}(s,!l)}function So(s,l){var d,f,p,g;return l=!!l,v(s)||(s=[s]),I(s,function(b){var w=b;b.waypoints&&!l&&(w=So(b.waypoints,!0));var S=w.x,O=w.y,M=w.height||0,A=w.width||0;(S<d||d===void 0)&&(d=S),(O<f||f===void 0)&&(f=O),(S+A>p||p===void 0)&&(p=S+A),(O+M>g||g===void 0)&&(g=O+M)}),{x:d,y:f,height:g-f,width:p-d}}function Nb(s){return"waypoints"in s?"connection":"x"in s?"shape":"root"}function o0(s){return!(!s||!s.isFrame)}function Wh(s,l){return ve({},s||{},l||{})}es.prototype.canRender=function(s){},es.prototype.drawShape=function(s,l){},es.prototype.drawConnection=function(s,l){},es.prototype.getShapePath=function(s){},es.prototype.getConnectionPath=function(s){};function fc(s,l){es.call(this,s,1),this.CONNECTION_STYLE=l.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=l.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=l.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}t(fc,es),fc.prototype.canRender=function(){return!0},fc.prototype.drawShape=function(s,l,d){var f=Rt("rect");return Ct(f,{x:0,y:0,width:l.width||0,height:l.height||0}),o0(l)?Ct(f,ve({},this.FRAME_STYLE,d||{})):Ct(f,ve({},this.SHAPE_STYLE,d||{})),ct(s,f),f},fc.prototype.drawConnection=function(s,l,d){var f=im(l.waypoints,ve({},this.CONNECTION_STYLE,d||{}));return ct(s,f),f},fc.prototype.getShapePath=function(s){var l=s.x,d=s.y,f=s.width;return uc([["M",l,d],["l",f,0],["l",0,s.height],["l",-f,0],["z"]])},fc.prototype.getConnectionPath=function(s){var l,d,f=s.waypoints,p=[];for(l=0;d=f[l];l++)d=d.original||d,p.push([l===0?"M":"L",d.x,d.y]);return uc(p)},fc.$inject=["eventBus","styles"];var s0={__init__:["defaultRenderer"],defaultRenderer:["type",fc],styles:["type",function(){var s={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},l=this;this.cls=function(d,f,p){return ve(this.style(f,p),{class:d})},this.style=function(d,f){v(d)||f||(f=d,d=[]);var p=oe(d,function(g,b){return ve(g,s[b]||{})},{});return f?ve(p,f):p},this.computeStyle=function(d,f,p){return v(f)||(p=f,f=[]),l.style(f||[],ve({},p,d||{}))}}]};function Mo(s,l){if(!s||!l)return-1;var d=s.indexOf(l);return d!==-1&&s.splice(d,1),d}function Do(s,l,d){if(s&&l){typeof d!="number"&&(d=-1);var f=s.indexOf(l);if(f!==-1){if(f===d||d===-1)return;s.splice(f,1)}d!==-1?s.splice(d,0,l):s.push(l)}}function Tf(s,l){return s&&l?s.indexOf(l):-1}function io(s,l){return s&&l?Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2)):-1}function Af(s,l,d,f){if(f===void 0&&(f=5),!s||!l||!d)return!1;var p=(l.x-s.x)*(d.y-s.y)-(l.y-s.y)*(d.x-s.x),g=io(s,l);return Math.abs(p/g)<=f}var Ib=2;function Xc(s,l){var d=Array.from(arguments).flat();const f={x:"v",y:"h"};for(const[p,g]of Object.entries(f))if(Zc(p,d))return g;return!1}function Zc(s,l){const d=l[0];return ne(l,function(f){return Math.abs(d[s]-f[s])<=Ib})}function a0(s,l,d){return d=d||0,s.x>l.x-d&&s.y>l.y-d&&s.x<l.x+l.width+d&&s.y<l.y+l.height+d}function qh(s,l){return{x:Math.round(s.x+(l.x-s.x)/2),y:Math.round(s.y+(l.y-s.y)/2)}}var l0=/,?([a-z]),?/gi,c0=parseFloat,No=Math,Nl=No.PI,hc=No.min,dl=No.max,u0=No.pow,Td=No.abs,Rf=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,Rg=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,sm=Array.isArray||function(s){return s instanceof Array};function Fu(s,l){return Object.prototype.hasOwnProperty.call(s,l)}function am(s){if(typeof s=="function"||Object(s)!==s)return s;var l=new s.constructor;for(var d in s)Fu(s,d)&&(l[d]=am(s[d]));return l}function pc(s){var l=pc.ps=pc.ps||{};return l[s]?l[s].sleep=100:l[s]={sleep:100},setTimeout(function(){for(var d in l)Fu(l,d)&&d!=s&&(l[d].sleep--,!l[d].sleep&&delete l[d])}),l[s]}function Pg(s,l,d,f){return arguments.length===1&&(l=s.y,d=s.width,f=s.height,s=s.x),{x:s,y:l,width:d,height:f,x2:s+d,y2:l+f}}function Xi(){return this.join(",").replace(l0,"$1")}function Ei(s){var l=am(s);return l.toString=Xi,l}function d0(s,l,d,f,p,g,b,w,S){var O=1-S,M=u0(O,3),A=u0(O,2),L=S*S*S,z=M*l+3*A*S*f+3*O*S*S*g+L*w;return{x:Uh(M*s+3*A*S*d+3*O*S*S*p+L*b),y:Uh(z)}}function Lb(s){var l=function(d,f,p,g,b,w,S,O){for(var M,A,L,z,H,Q,re,X,K=[],ue=[[],[]],me=0;me<2;++me)if(me==0?(A=6*d-12*p+6*b,M=-3*d+9*p-9*b+3*S,L=3*p-3*d):(A=6*f-12*g+6*w,M=-3*f+9*g-9*w+3*O,L=3*g-3*f),Td(M)<1e-12){if(Td(A)<1e-12)continue;0<(z=-L/A)&&z<1&&K.push(z)}else re=A*A-4*L*M,X=No.sqrt(re),re<0||(0<(H=(-A+X)/(2*M))&&H<1&&K.push(H),0<(Q=(-A-X)/(2*M))&&Q<1&&K.push(Q));for(var ge,$e=K.length,He=$e;$e--;)ge=1-(z=K[$e]),ue[0][$e]=ge*ge*ge*d+3*ge*ge*z*p+3*ge*z*z*b+z*z*z*S,ue[1][$e]=ge*ge*ge*f+3*ge*ge*z*g+3*ge*z*z*w+z*z*z*O;return ue[0][He]=d,ue[1][He]=f,ue[0][He+1]=S,ue[1][He+1]=O,ue[0].length=ue[1].length=He+2,{x0:hc(...ue[0]),y0:hc(...ue[1]),x1:dl(...ue[0]),y1:dl(...ue[1])}}(...s);return Pg(l.x0,l.y0,l.x1-l.x0,l.y1-l.y0)}function Ad(s,l,d){return l>=s.x&&l<=s.x+s.width&&d>=s.y&&d<=s.y+s.height}function f0(s,l,d,f,p){return s*(s*(-3*l+9*d-9*f+3*p)+6*l-12*d+6*f)-3*l+3*d}function Fb(s,l,d,f,p,g,b,w,S){S==null&&(S=1);for(var O=(S=S>1?1:S<0?0:S)/2,M=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],A=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],L=0,z=0;z<12;z++){var H=O*M[z]+O,Q=f0(H,s,d,p,b),re=f0(H,l,f,g,w),X=Q*Q+re*re;L+=A[z]*No.sqrt(X)}return O*L}function Rs(s,l,d,f,p,g,b,w){if(!(dl(s,d)<hc(p,b)||hc(s,d)>dl(p,b)||dl(l,f)<hc(g,w)||hc(l,f)>dl(g,w))){var S=(s*f-l*d)*(g-w)-(l-f)*(p*w-g*b),O=(s-d)*(g-w)-(l-f)*(p-b);if(O){var M=Uh(((s*f-l*d)*(p-b)-(s-d)*(p*w-g*b))/O),A=Uh(S/O),L=+M.toFixed(2),z=+A.toFixed(2);if(!(L<+hc(s,d).toFixed(2)||L>+dl(s,d).toFixed(2)||L<+hc(p,b).toFixed(2)||L>+dl(p,b).toFixed(2)||z<+hc(l,f).toFixed(2)||z>+dl(l,f).toFixed(2)||z<+hc(g,w).toFixed(2)||z>+dl(g,w).toFixed(2)))return{x:M,y:A}}}}function Uh(s){return Math.round(1e11*s)/1e11}function Mg(s,l,d){if(!function(Ve,Xe){return Ve=Pg(Ve),Ad(Xe=Pg(Xe),Ve.x,Ve.y)||Ad(Xe,Ve.x2,Ve.y)||Ad(Xe,Ve.x,Ve.y2)||Ad(Xe,Ve.x2,Ve.y2)||Ad(Ve,Xe.x,Xe.y)||Ad(Ve,Xe.x2,Xe.y)||Ad(Ve,Xe.x,Xe.y2)||Ad(Ve,Xe.x2,Xe.y2)||(Ve.x<Xe.x2&&Ve.x>Xe.x||Xe.x<Ve.x2&&Xe.x>Ve.x)&&(Ve.y<Xe.y2&&Ve.y>Xe.y||Xe.y<Ve.y2&&Xe.y>Ve.y)}(Lb(s),Lb(l)))return[];for(var f=Fb(...s),p=Fb(...l),g=$u(s)?1:~~(f/5)||1,b=$u(l)?1:~~(p/5)||1,w=[],S=[],O={},M=[],A=0;A<g+1;A++){var L=d0(...s,A/g);w.push({x:L.x,y:L.y,t:A/g})}for(A=0;A<b+1;A++)L=d0(...l,A/b),S.push({x:L.x,y:L.y,t:A/b});for(A=0;A<g;A++)for(var z=0;z<b;z++){var H,Q=w[A],re=w[A+1],X=S[z],K=S[z+1],ue=Td(re.x-Q.x)<.01?"y":"x",me=Td(K.x-X.x)<.01?"y":"x",ge=Rs(Q.x,Q.y,re.x,re.y,X.x,X.y,K.x,K.y);if(ge){if(O[H=ge.x.toFixed(9)+"#"+ge.y.toFixed(9)])continue;O[H]=!0;var $e=Q.t+Td((ge[ue]-Q[ue])/(re[ue]-Q[ue]))*(re.t-Q.t),He=X.t+Td((ge[me]-X[me])/(K[me]-X[me]))*(K.t-X.t);$e>=0&&$e<=1&&He>=0&&He<=1&&M.push({x:ge.x,y:ge.y,t1:$e,t2:He})}}return M}function Ps(s,l,d){s=cm(s),l=cm(l);for(var f,p,g,b,w,S,O,M,A,L,z=[],H=0,Q=s.length;H<Q;H++){var re=s[H];if(re[0]=="M")f=w=re[1],p=S=re[2];else{re[0]=="C"?(f=(A=[f,p,...re.slice(1)])[6],p=A[7]):(A=[f,p,f,p,w,S,w,S],f=w,p=S);for(var X=0,K=l.length;X<K;X++){var ue=l[X];if(ue[0]=="M")g=O=ue[1],b=M=ue[2];else{ue[0]=="C"?(g=(L=[g,b,...ue.slice(1)])[6],b=L[7]):(L=[g,b,g,b,O,M,O,M],g=O,b=M);var me=Mg(A,L);{for(var ge=0,$e=me.length;ge<$e;ge++)me[ge].segment1=H,me[ge].segment2=X,me[ge].bez1=A,me[ge].bez2=L;z=z.concat(me)}}}}}return z}function Dg(s){var l=pc(s);if(l.abs)return Ei(l.abs);if(sm(s)&&sm(s&&s[0])||(s=function(X){if(!X)return null;var K=pc(X);if(K.arr)return am(K.arr);var ue={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},me=[];return sm(X)&&sm(X[0])&&(me=am(X)),me.length||String(X).replace(Rf,function(ge,$e,He){var Ve=[],Xe=$e.toLowerCase();for(He.replace(Rg,function(Mn,zt){zt&&Ve.push(+zt)}),Xe=="m"&&Ve.length>2&&(me.push([$e,...Ve.splice(0,2)]),Xe="l",$e=$e=="m"?"l":"L");Ve.length>=ue[Xe]&&(me.push([$e,...Ve.splice(0,ue[Xe])]),ue[Xe]););}),me.toString=pc.toString,K.arr=am(me),me}(s)),!s||!s.length)return[["M",0,0]];var d,f=[],p=0,g=0,b=0,w=0,S=0;s[0][0]=="M"&&(b=p=+s[0][1],w=g=+s[0][2],S++,f[0]=["M",p,g]);for(var O,M,A=S,L=s.length;A<L;A++){if(f.push(O=[]),(d=(M=s[A])[0])!=d.toUpperCase())switch(O[0]=d.toUpperCase(),O[0]){case"A":O[1]=M[1],O[2]=M[2],O[3]=M[3],O[4]=M[4],O[5]=M[5],O[6]=+M[6]+p,O[7]=+M[7]+g;break;case"V":O[1]=+M[1]+g;break;case"H":O[1]=+M[1]+p;break;case"M":b=+M[1]+p,w=+M[2]+g;default:for(var z=1,H=M.length;z<H;z++)O[z]=+M[z]+(z%2?p:g)}else for(var Q=0,re=M.length;Q<re;Q++)O[Q]=M[Q];switch(d=d.toUpperCase(),O[0]){case"Z":p=+b,g=+w;break;case"H":p=O[1];break;case"V":g=O[1];break;case"M":b=O[O.length-2],w=O[O.length-1];default:p=O[O.length-2],g=O[O.length-1]}}return f.toString=Xi,l.abs=Ei(f),f}function $u(s){return s[0]===s[2]&&s[1]===s[3]&&s[4]===s[6]&&s[5]===s[7]}function lm(s,l,d,f){return[s,l,d,f,d,f]}function Hs(s,l,d,f,p,g){var b=.3333333333333333,w=2/3;return[b*s+w*d,b*l+w*f,b*p+w*d,b*g+w*f,p,g]}function ts(s,l,d,f,p,g,b,w,S,O){var M,A=120*Nl/180,L=Nl/180*(+p||0),z=[],H=function(Rc){return function so(){var ki=Array.prototype.slice.call(arguments,0).join(""),xi=so.cache=so.cache||{},ao=so.count=so.count||[];return Fu(xi,ki)?(function(to,$i){for(var Yo=0,Vr=to.length;Yo<Vr;Yo++)if(to[Yo]===$i)return to.push(to.splice(Yo,1)[0])}(ao,ki),xi[ki]):(ao.length>=1e3&&delete xi[ao.shift()],ao.push(ki),xi[ki]=Rc(...arguments),xi[ki])}}(function(Rc,so,ki){return{x:Rc*No.cos(ki)-so*No.sin(ki),y:Rc*No.sin(ki)+so*No.cos(ki)}});if(O)He=O[0],Ve=O[1],ge=O[2],$e=O[3];else{s=(M=H(s,l,-L)).x,l=M.y;var Q=(s-(w=(M=H(w,S,-L)).x))/2,re=(l-(S=M.y))/2,X=Q*Q/(d*d)+re*re/(f*f);X>1&&(d*=X=No.sqrt(X),f*=X);var K=d*d,ue=f*f,me=(g==b?-1:1)*No.sqrt(Td((K*ue-K*re*re-ue*Q*Q)/(K*re*re+ue*Q*Q))),ge=me*d*re/f+(s+w)/2,$e=me*-f*Q/d+(l+S)/2,He=No.asin(((l-$e)/f).toFixed(9)),Ve=No.asin(((S-$e)/f).toFixed(9));(He=s<ge?Nl-He:He)<0&&(He=2*Nl+He),(Ve=w<ge?Nl-Ve:Ve)<0&&(Ve=2*Nl+Ve),b&&He>Ve&&(He-=2*Nl),!b&&Ve>He&&(Ve-=2*Nl)}var Xe=Ve-He;if(Td(Xe)>A){var Mn=Ve,zt=w,nt=S;Ve=He+A*(b&&Ve>He?1:-1),z=ts(w=ge+d*No.cos(Ve),S=$e+f*No.sin(Ve),d,f,p,0,b,zt,nt,[Ve,Mn,ge,$e])}Xe=Ve-He;var _t=No.cos(He),fr=No.sin(He),Yn=No.cos(Ve),Zn=No.sin(Ve),wr=No.tan(Xe/4),Yi=4/3*d*wr,Fi=4/3*f*wr,eo=[s,l],mi=[s+Yi*fr,l-Fi*_t],ni=[w+Yi*Zn,S-Fi*Yn],gn=[w,S];if(mi[0]=2*eo[0]-mi[0],mi[1]=2*eo[1]-mi[1],O)return[mi,ni,gn].concat(z);for(var oo=[],Ri=0,Zu=(z=[mi,ni,gn].concat(z).join().split(",")).length;Ri<Zu;Ri++)oo[Ri]=Ri%2?H(z[Ri-1],z[Ri],L).y:H(z[Ri],z[Ri+1],L).x;return oo}function cm(s){var l=pc(s);if(l.curve)return Ei(l.curve);for(var d=Dg(s),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p=function(z,H,Q){var re,X;if(!z)return["C",H.x,H.y,H.x,H.y,H.x,H.y];switch(!(z[0]in{T:1,Q:1})&&(H.qx=H.qy=null),z[0]){case"M":H.X=z[1],H.Y=z[2];break;case"A":z=["C",...ts(H.x,H.y,...z.slice(1))];break;case"S":Q=="C"||Q=="S"?(re=2*H.x-H.bx,X=2*H.y-H.by):(re=H.x,X=H.y),z=["C",re,X,...z.slice(1)];break;case"T":Q=="Q"||Q=="T"?(H.qx=2*H.x-H.qx,H.qy=2*H.y-H.qy):(H.qx=H.x,H.qy=H.y),z=["C",...Hs(H.x,H.y,H.qx,H.qy,z[1],z[2])];break;case"Q":H.qx=z[1],H.qy=z[2],z=["C",...Hs(H.x,H.y,z[1],z[2],z[3],z[4])];break;case"L":z=["C",...lm(H.x,H.y,z[1],z[2])];break;case"H":z=["C",...lm(H.x,H.y,z[1],H.y)];break;case"V":z=["C",...lm(H.x,H.y,H.x,z[1])];break;case"Z":z=["C",...lm(H.x,H.y,H.X,H.Y)]}return z},g=function(z,H){if(z[H].length>7){z[H].shift();for(var Q=z[H];Q.length;)b[H]="A",z.splice(H++,0,["C",...Q.splice(0,6)]);z.splice(H,1),M=d.length}},b=[],w="",S="",O=0,M=d.length;O<M;O++){d[O]&&(w=d[O][0]),w!="C"&&(b[O]=w,O&&(S=b[O-1])),d[O]=p(d[O],f,S),b[O]!="A"&&w=="C"&&(b[O]="C"),g(d,O);var A=d[O],L=A.length;f.x=A[L-2],f.y=A[L-1],f.bx=c0(A[L-4])||f.x,f.by=c0(A[L-3])||f.y}return l.curve=Ei(d),d}function Si(s){return _(s)&&F(s,"waypoints")}function jr(s){return _(s)&&F(s,"labelTarget")}function h0(s){return{x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height)}}function mc(s){return{x:Math.round(s.x),y:Math.round(s.y)}}function Ln(s){return{top:s.y,right:s.x+(s.width||0),bottom:s.y+(s.height||0),left:s.x}}function ta(s){return{x:s.left,y:s.top,width:s.right-s.left,height:s.bottom-s.top}}function VE(s){for(var l=s.waypoints,d=l.reduce(function(S,O,M){var A=l[M-1];if(A){var L=S[S.length-1],z=L&&L.endLength||0,H=function(Q,re){return Math.sqrt(Math.pow(Q.x-re.x,2)+Math.pow(Q.y-re.y,2))}(A,O);S.push({start:A,end:O,startLength:z,endLength:z+H,length:H})}return S},[]),f=d.reduce(function(S,O){return S+O.length},0),p=f/2,g=0,b=d[g];b.endLength<p;)b=d[++g];var w=(p-b.startLength)/b.length;return{x:b.start.x+(b.end.x-b.start.x)*w,y:b.start.y+(b.end.y-b.start.y)*w}}function Pn(s){return Si(s)?VE(s):mc({x:(l=s).x+(l.width||0)/2,y:l.y+(l.height||0)/2});var l}function na(s,l,d){_(d=d||0)||(d={x:d,y:d});var f=Ln(s),p=Ln(l),g=f.bottom+d.y<=p.top,b=f.left-d.x>=p.right,w=f.top-d.y>=p.bottom,S=g?"top":w?"bottom":null,O=f.right+d.x<=p.left?"left":b?"right":null;return O&&S?S+"-"+O:O||S||"intersect"}function Jc(s,l,d){var f=function(p,g){return Ps(p,g)}(s,l);return f.length===1||f.length===2&&io(f[0],f[1])<1?mc(f[0]):f.length>1?(f=Fe(f,function(p){var g=Math.floor(100*p.t2)||1;return g=((g=100-g)<10?"0":"")+g,p.segment2+"#"+g}),mc(f[d?0:f.length-1])):null}function Il(s,l){return Math.round(s*l)/l}function Rd(s){return k(s)?s+"px":s}function gc(s,l,d){const f=Rt("g");fe(f).add(l);const p=d!==void 0?d:s.childNodes.length-1;return s.insertBefore(f,s.childNodes[p]||null),f}const ko={shape:["x","y","width","height"],connection:["waypoints"]};function Gn(s,l,d,f){this._eventBus=l,this._elementRegistry=f,this._graphicsFactory=d,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(s||{})}function Gh(s,l){const d="matrix("+l.a+","+l.b+","+l.c+","+l.d+","+l.e+","+l.f+")";s.setAttribute("transform",d)}Gn.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Gn.prototype._init=function(s){const l=this._eventBus,d=this._container=function(g){const b=(g=ve({},{width:"100%",height:"100%"},g)).container||document.body,w=document.createElement("div");return w.setAttribute("class","djs-container djs-parent"),mn(w,{position:"relative",overflow:"hidden",width:Rd(g.width),height:Rd(g.height)}),b.appendChild(w),w}(s),f=this._svg=Rt("svg");Ct(f,{width:"100%",height:"100%"}),ct(d,f);const p=this._viewport=gc(f,"viewport");s.deferUpdate&&(this._viewboxChanged=Ye(rt(this._viewboxChanged,this),300)),l.on("diagram.init",()=>{l.fire("canvas.init",{svg:f,viewport:p})}),l.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),l.on("diagram.destroy",500,this._destroy,this),l.on("diagram.clear",500,this._clear,this)},Gn.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const s=this._container.parentNode;s&&s.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},Gn.prototype._clear=function(){this._elementRegistry.getAll().forEach(s=>{const l=Nb(s);l==="root"?this.removeRootElement(s):this._removeElement(s,l)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},Gn.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},Gn.prototype.getLayer=function(s,l){if(!s)throw new Error("must specify a name");let d=this._layers[s];if(d||(d=this._layers[s]=this._createLayer(s,l)),l!==void 0&&d.index!==l)throw new Error("layer <"+s+"> already created at index <"+l+">");return d.group},Gn.prototype._getChildIndex=function(s){return oe(this._layers,function(l,d){return d.visible&&s>=d.index&&l++,l},0)},Gn.prototype._createLayer=function(s,l){l===void 0&&(l=1);const d=this._getChildIndex(l);return{group:gc(this._viewport,"layer-"+s,d),index:l,visible:!0}},Gn.prototype.showLayer=function(s){if(!s)throw new Error("must specify a name");const l=this._layers[s];if(!l)throw new Error("layer <"+s+"> does not exist");const d=this._viewport,f=l.group,p=l.index;if(l.visible)return f;const g=this._getChildIndex(p);return d.insertBefore(f,d.childNodes[g]||null),l.visible=!0,f},Gn.prototype.hideLayer=function(s){if(!s)throw new Error("must specify a name");const l=this._layers[s];if(!l)throw new Error("layer <"+s+"> does not exist");const d=l.group;return l.visible&&(Ie(d),l.visible=!1),d},Gn.prototype._removeLayer=function(s){const l=this._layers[s];l&&(delete this._layers[s],Ie(l.group))},Gn.prototype.getActiveLayer=function(){const s=this._findPlaneForRoot(this.getRootElement());return s?s.layer:null},Gn.prototype.findRoot=function(s){return typeof s=="string"&&(s=this._elementRegistry.get(s)),s?(this._findPlaneForRoot(function(d){for(;d.parent;)d=d.parent;return d}(s))||{}).rootElement:void 0},Gn.prototype.getRootElements=function(){return this._planes.map(function(s){return s.rootElement})},Gn.prototype._findPlaneForRoot=function(s){return $(this._planes,function(l){return l.rootElement===s})},Gn.prototype.getContainer=function(){return this._container},Gn.prototype._updateMarker=function(s,l,d){let f;s.id||(s=this._elementRegistry.get(s)),f=this._elementRegistry._elements[s.id],f&&(I([f.gfx,f.secondaryGfx],function(p){p&&(d?fe(p).add(l):fe(p).remove(l))}),this._eventBus.fire("element.marker.update",{element:s,gfx:f.gfx,marker:l,add:!!d}))},Gn.prototype.addMarker=function(s,l){this._updateMarker(s,l,!0)},Gn.prototype.removeMarker=function(s,l){this._updateMarker(s,l,!1)},Gn.prototype.hasMarker=function(s,l){return s.id||(s=this._elementRegistry.get(s)),fe(this.getGraphics(s)).has(l)},Gn.prototype.toggleMarker=function(s,l){this.hasMarker(s,l)?this.removeMarker(s,l):this.addMarker(s,l)},Gn.prototype.getRootElement=function(){const s=this._rootElement;return s||this._planes.length?s:this.setRootElement(this.addRootElement(null))},Gn.prototype.addRootElement=function(s){const l=this._rootsIdx++;s||(s={id:"__implicitroot_"+l,children:[],isImplicit:!0});const d=s.layer="root-"+l;this._ensureValid("root",s);const f=this.getLayer(d,0);return this.hideLayer(d),this._addRoot(s,f),this._planes.push({rootElement:s,layer:f}),s},Gn.prototype.removeRootElement=function(s){if(typeof s=="string"&&(s=this._elementRegistry.get(s)),this._findPlaneForRoot(s))return this._removeRoot(s),this._removeLayer(s.layer),this._planes=this._planes.filter(function(l){return l.rootElement!==s}),this._rootElement===s&&(this._rootElement=null),s},Gn.prototype.setRootElement=function(s){if(s===this._rootElement)return;let l;if(!s)throw new Error("rootElement required");return l=this._findPlaneForRoot(s),l||(s=this.addRootElement(s)),this._setRoot(s),s},Gn.prototype._removeRoot=function(s){const l=this._elementRegistry,d=this._eventBus;d.fire("root.remove",{element:s}),d.fire("root.removed",{element:s}),l.remove(s)},Gn.prototype._addRoot=function(s,l){const d=this._elementRegistry,f=this._eventBus;f.fire("root.add",{element:s}),d.add(s,l),f.fire("root.added",{element:s,gfx:l})},Gn.prototype._setRoot=function(s,l){const d=this._rootElement;d&&(this._elementRegistry.updateGraphics(d,null,!0),this.hideLayer(d.layer)),s&&(l||(l=this._findPlaneForRoot(s).layer),this._elementRegistry.updateGraphics(s,this._svg,!0),this.showLayer(s.layer)),this._rootElement=s,this._eventBus.fire("root.set",{element:s})},Gn.prototype._ensureValid=function(s,l){if(!l.id)throw new Error("element must have an id");if(this._elementRegistry.get(l.id))throw new Error("element <"+l.id+"> already exists");const d=ko[s];if(!ne(d,function(p){return l[p]!==void 0}))throw new Error("must supply { "+d.join(", ")+" } with "+s)},Gn.prototype._setParent=function(s,l,d){Do(l.children,s,d),s.parent=l},Gn.prototype._addElement=function(s,l,d,f){d=d||this.getRootElement();const p=this._eventBus,g=this._graphicsFactory;this._ensureValid(s,l),p.fire(s+".add",{element:l,parent:d}),this._setParent(l,d,f);const b=g.create(s,l,f);return this._elementRegistry.add(l,b),g.update(s,l,b),p.fire(s+".added",{element:l,gfx:b}),l},Gn.prototype.addShape=function(s,l,d){return this._addElement("shape",s,l,d)},Gn.prototype.addConnection=function(s,l,d){return this._addElement("connection",s,l,d)},Gn.prototype._removeElement=function(s,l){const d=this._elementRegistry,f=this._graphicsFactory,p=this._eventBus;if(s=d.get(s.id||s))return p.fire(l+".remove",{element:s}),f.remove(s),Mo(s.parent&&s.parent.children,s),s.parent=null,p.fire(l+".removed",{element:s}),d.remove(s),s},Gn.prototype.removeShape=function(s){return this._removeElement(s,"shape")},Gn.prototype.removeConnection=function(s){return this._removeElement(s,"connection")},Gn.prototype.getGraphics=function(s,l){return this._elementRegistry.getGraphics(s,l)},Gn.prototype._changeViewbox=function(s){this._eventBus.fire("canvas.viewbox.changing"),s.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Gn.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Gn.prototype.viewbox=function(s){if(s===void 0&&this._cachedViewbox)return this._cachedViewbox;const l=this._viewport,d=this.getSize();let f,p,g,b,w,S,O;return s?(this._changeViewbox(function(){w=Math.min(d.width/s.width,d.height/s.height);const M=this._svg.createSVGMatrix().scale(w).translate(-s.x,-s.y);Kc(l,M)}),s):(g=this._rootElement?this.getActiveLayer():null,f=g&&g.getBBox()||{},b=Kc(l),p=b?b.matrix:function(M,A,L,z,H,Q){var re=In().createSVGMatrix();switch(arguments.length){case 0:return re;case 1:return li(re,M);case 6:return li(re,{a:M,b:A,c:L,d:z,e:H,f:Q})}}(),w=Il(p.a,1e3),S=Il(-p.e||0,1e3),O=Il(-p.f||0,1e3),s=this._cachedViewbox={x:S?S/w:0,y:O?O/w:0,width:d.width/w,height:d.height/w,scale:w,inner:{width:f.width||0,height:f.height||0,x:f.x||0,y:f.y||0},outer:d})},Gn.prototype.scroll=function(s){const l=this._viewport;let d=l.getCTM();return s&&this._changeViewbox(function(){s=ve({dx:0,dy:0},s||{}),d=this._svg.createSVGMatrix().translate(s.dx,s.dy).multiply(d),Gh(l,d)}),{x:d.e,y:d.f}},Gn.prototype.scrollToElement=function(s,l){let d=100;typeof s=="string"&&(s=this._elementRegistry.get(s));const f=this.findRoot(s);if(f!==this.getRootElement()&&this.setRootElement(f),f===s)return;l||(l={}),typeof l=="number"&&(d=l),l={top:l.top||d,right:l.right||d,bottom:l.bottom||d,left:l.left||d};const p=So(s),g=Ln(p),b=this.viewbox(),w=this.zoom();let S,O;b.y+=l.top/w,b.x+=l.left/w,b.width-=(l.right+l.left)/w,b.height-=(l.bottom+l.top)/w;const M=Ln(b);if(p.width<b.width&&p.height<b.height){const A=Math.max(0,g.right-M.right),L=Math.min(0,g.left-M.left),z=Math.max(0,g.bottom-M.bottom),H=Math.min(0,g.top-M.top);S=A||L,O=z||H}else S=p.x-b.x,O=p.y-b.y;this.scroll({dx:-S*w,dy:-O*w})},Gn.prototype.zoom=function(s,l){if(!s)return this.viewbox(s).scale;if(s==="fit-viewport")return this._fitViewport(l);let d,f;return this._changeViewbox(function(){typeof l!="object"&&(d=this.viewbox().outer,l={x:d.width/2,y:d.height/2}),f=this._setZoom(s,l)}),Il(f.a,1e3)},Gn.prototype._fitViewport=function(s){const l=this.viewbox(),d=l.outer,f=l.inner;let p,g;return f.x>=0&&f.y>=0&&f.x+f.width<=d.width&&f.y+f.height<=d.height&&!s?g={x:0,y:0,width:Math.max(f.width+f.x,d.width),height:Math.max(f.height+f.y,d.height)}:(p=Math.min(1,d.width/f.width,d.height/f.height),g={x:f.x+(s?f.width/2-d.width/p/2:0),y:f.y+(s?f.height/2-d.height/p/2:0),width:d.width/p,height:d.height/p}),this.viewbox(g),this.viewbox(!1).scale},Gn.prototype._setZoom=function(s,l){const d=this._svg,f=this._viewport,p=d.createSVGMatrix(),g=d.createSVGPoint();let b,w,S,O,M;S=f.getCTM();const A=S.a;return l?(b=ve(g,l),w=b.matrixTransform(S.inverse()),O=p.translate(w.x,w.y).scale(1/A*s).translate(-w.x,-w.y),M=S.multiply(O)):M=p.scale(s),Gh(this._viewport,M),M},Gn.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Gn.prototype.getAbsoluteBBox=function(s){const l=this.viewbox();let d;return s.waypoints?d=this.getGraphics(s).getBBox():d=s,{x:d.x*l.scale-l.x*l.scale,y:d.y*l.scale-l.y*l.scale,width:d.width*l.scale,height:d.height*l.scale}},Gn.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Pd="data-element-id";function Ws(s){this._elements={},this._eventBus=s}function $b(s,l,d){var f=function(p,g,b,w){var S=b.inverse;return Object.defineProperty(p,"remove",{value:function(O){var M=this.indexOf(O);return M!==-1&&(this.splice(M,1),g.unset(O,S,w)),O}}),Object.defineProperty(p,"contains",{value:function(O){return this.indexOf(O)!==-1}}),Object.defineProperty(p,"add",{value:function(O,M){var A=this.indexOf(O);if(M===void 0){if(A!==-1)return;M=this.length}A!==-1&&this.splice(A,1),this.splice(M,0,O),A===-1&&g.set(O,S,w)}}),Object.defineProperty(p,"__refs_collection",{value:!0}),p}(d[l.name]||[],s,l,d);Object.defineProperty(d,l.name,{enumerable:l.enumerable,value:f}),f.length&&f.forEach(function(p){s.set(p,l.inverse,d)})}function Ll(s,l){if(!(this instanceof Ll))return new Ll(s,l);s.inverse=l,l.inverse=s,this.props={},this.props[s.name]=s,this.props[l.name]=l}Ws.$inject=["eventBus"],Ws.prototype.add=function(s,l,d){var f=s.id;this._validateId(f),Ct(l,Pd,f),d&&Ct(d,Pd,f),this._elements[f]={element:s,gfx:l,secondaryGfx:d}},Ws.prototype.remove=function(s){var l=this._elements,d=s.id||s,f=d&&l[d];f&&(Ct(f.gfx,Pd,""),f.secondaryGfx&&Ct(f.secondaryGfx,Pd,""),delete l[d])},Ws.prototype.updateId=function(s,l){this._validateId(l),typeof s=="string"&&(s=this.get(s)),this._eventBus.fire("element.updateId",{element:s,newId:l});var d=this.getGraphics(s),f=this.getGraphics(s,!0);this.remove(s),s.id=l,this.add(s,d,f)},Ws.prototype.updateGraphics=function(s,l,d){var f=s.id||s,p=this._elements[f];return d?p.secondaryGfx=l:p.gfx=l,l&&Ct(l,Pd,f),l},Ws.prototype.get=function(s){var l;l=typeof s=="string"?s:s&&Ct(s,Pd);var d=this._elements[l];return d&&d.element},Ws.prototype.filter=function(s){var l=[];return this.forEach(function(d,f){s(d,f)&&l.push(d)}),l},Ws.prototype.find=function(s){for(var l=this._elements,d=Object.keys(l),f=0;f<d.length;f++){var p=l[d[f]],g=p.element;if(s(g,p.gfx))return g}},Ws.prototype.getAll=function(){return this.filter(function(s){return s})},Ws.prototype.forEach=function(s){var l=this._elements;Object.keys(l).forEach(function(d){var f=l[d],p=f.element,g=f.gfx;return s(p,g)})},Ws.prototype.getGraphics=function(s,l){var d=s.id||s,f=this._elements[d];return f&&(l?f.secondaryGfx:f.gfx)},Ws.prototype._validateId=function(s){if(!s)throw new Error("element must have an id");if(this._elements[s])throw new Error("element with id "+s+" already added")},Ll.prototype.bind=function(s,l){if(typeof l=="string"){if(!this.props[l])throw new Error("no property <"+l+"> in ref");l=this.props[l]}l.collection?$b(this,l,s):function(d,f,p){var g=f.inverse,b=p[f.name];Object.defineProperty(p,f.name,{configurable:f.configurable,enumerable:f.enumerable,get:function(){return b},set:function(w){if(w!==b){var S=b;b=null,S&&d.unset(S,g,p),b=w,d.set(b,g,p)}}})}(this,l,s)},Ll.prototype.ensureRefsCollection=function(s,l){var d=s[l.name];return function(f){return f.__refs_collection===!0}(d)||$b(this,l,s),d},Ll.prototype.ensureBound=function(s,l){(function(d,f){return Object.prototype.hasOwnProperty.call(d,f.name||f)})(s,l)||this.bind(s,l)},Ll.prototype.unset=function(s,l,d){s&&(this.ensureBound(s,l),l.collection?this.ensureRefsCollection(s,l).remove(d):s[l.name]=void 0)},Ll.prototype.set=function(s,l,d){s&&(this.ensureBound(s,l),l.collection?this.ensureRefsCollection(s,l).add(d):s[l.name]=d)};var p0=new Ll({name:"children",enumerable:!0,collection:!0},{name:"parent"}),m0=new Ll({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Yh=new Ll({name:"attachers",collection:!0},{name:"host"}),Pf=new Ll({name:"outgoing",collection:!0},{name:"source"}),Bu=new Ll({name:"incoming",collection:!0},{name:"target"});function Mf(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(s){var l=this.label,d=this.labels;!s&&l?d.remove(l):d.add(s,0)}}),p0.bind(this,"parent"),m0.bind(this,"labels"),Pf.bind(this,"outgoing"),Bu.bind(this,"incoming")}function ju(){Mf.call(this),p0.bind(this,"children"),Yh.bind(this,"host"),Yh.bind(this,"attachers")}function um(){Mf.call(this),p0.bind(this,"children")}function dm(){ju.call(this),m0.bind(this,"labelTarget")}function g0(){Mf.call(this),Pf.bind(this,"source"),Bu.bind(this,"target")}t(ju,Mf),t(um,ju),t(dm,ju),t(g0,Mf);var cr={connection:g0,shape:ju,label:dm,root:um};function Fl(){this._uid=12}Fl.prototype.createRoot=function(s){return this.create("root",s)},Fl.prototype.createLabel=function(s){return this.create("label",s)},Fl.prototype.createShape=function(s){return this.create("shape",s)},Fl.prototype.createConnection=function(s){return this.create("connection",s)},Fl.prototype.create=function(s,l){return(l=ve({},l||{})).id||(l.id=s+"_"+this._uid++),function(d,f){var p=cr[d];if(!p)throw new Error("unknown type: <"+d+">");return ve(new p,f)}(s,l)};var yc="__fn",fl=Array.prototype.slice;function ma(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Hi(){}function vc(s){return s.childNodes[0]}function Vu(s,l,d,f,p){var g=Jo();g.setTranslate(l,d);var b=Jo();b.setRotate(f||0,0,0);var w=Jo();w.setScale(1,1),Kc(s,[g,b,w])}function ps(s,l,d){var f=Jo();f.setTranslate(l,d),Kc(s,f)}function Ng(s,l){var d=Jo();d.setRotate(l,0,0),Kc(s,d)}function Ka(s,l){this._eventBus=s,this._elementRegistry=l}function Qh(s,l,d){var f=d||l.firstChild;s!==f&&l.insertBefore(s,f)}ma.prototype.on=function(s,l,d,f){if(s=v(s)?s:[s],R(l)&&(f=d,d=l,l=1e3),!k(l))throw new Error("priority must be a number");var p=d;f&&((p=rt(d,f))[yc]=d[yc]||d);var g=this;s.forEach(function(b){g._addListener(b,{priority:l,callback:p,next:null})})},ma.prototype.once=function(s,l,d,f){var p=this;if(R(l)&&(f=d,d=l,l=1e3),!k(l))throw new Error("priority must be a number");function g(){g.__isTomb=!0;var b=d.apply(f,arguments);return p.off(s,g),b}g[yc]=d,this.on(s,l,g)},ma.prototype.off=function(s,l){s=v(s)?s:[s];var d=this;s.forEach(function(f){d._removeListener(f,l)})},ma.prototype.createEvent=function(s){var l=new Hi;return l.init(s),l},ma.prototype.fire=function(s,l){var d,f,p,g;if(g=fl.call(arguments),typeof s=="object"&&(s=(l=s).type),!s)throw new Error("no event type specified");if(f=this._listeners[s]){d=l instanceof Hi?l:this.createEvent(l),g[0]=d;var b=d.type;s!==b&&(d.type=s);try{p=this._invokeListeners(d,g,f)}finally{s!==b&&(d.type=b)}return p===void 0&&d.defaultPrevented&&(p=!1),p}},ma.prototype.handleError=function(s){return this.fire("error",{error:s})===!1},ma.prototype._destroy=function(){this._listeners={}},ma.prototype._invokeListeners=function(s,l,d){for(var f;d&&!s.cancelBubble;)f=this._invokeListener(s,l,d),d=d.next;return f},ma.prototype._invokeListener=function(s,l,d){var f;if(d.callback.__isTomb)return f;try{f=function(p,g){return p.apply(null,g)}(d.callback,l),f!==void 0&&(s.returnValue=f,s.stopPropagation()),f===!1&&s.preventDefault()}catch(p){if(!this.handleError(p))throw console.error("unhandled error in event listener",p),p}return f},ma.prototype._addListener=function(s,l){var d,f=this._getListeners(s);if(f){for(;f;){if(f.priority<l.priority)return l.next=f,void(d?d.next=l:this._setListeners(s,l));d=f,f=f.next}d.next=l}else this._setListeners(s,l)},ma.prototype._getListeners=function(s){return this._listeners[s]},ma.prototype._setListeners=function(s,l){this._listeners[s]=l},ma.prototype._removeListener=function(s,l){var d,f,p,g=this._getListeners(s);if(l)for(;g;)d=g.next,(p=g.callback)!==l&&p[yc]!==l||(f?f.next=d:this._setListeners(s,d)),f=g,g=d;else this._setListeners(s,null)},Hi.prototype.stopPropagation=function(){this.cancelBubble=!0},Hi.prototype.preventDefault=function(){this.defaultPrevented=!0},Hi.prototype.init=function(s){ve(this,s||{})},Ka.$inject=["eventBus","elementRegistry"],Ka.prototype._getChildrenContainer=function(s){var l,d=this._elementRegistry.getGraphics(s);return s.parent?(l=function(f){return f.parentNode.childNodes[1]}(d),l||(fe(l=Rt("g")).add("djs-children"),ct(d.parentNode,l))):l=d,l},Ka.prototype._clear=function(s){var l=vc(s);return Re(l),l},Ka.prototype._createContainer=function(s,l,d,f){var p=Rt("g");fe(p).add("djs-group"),d!==void 0?Qh(p,l,l.childNodes[d]):ct(l,p);var g=Rt("g");fe(g).add("djs-element"),fe(g).add("djs-"+s),f&&fe(g).add("djs-frame"),ct(p,g);var b=Rt("g");return fe(b).add("djs-visual"),ct(g,b),g},Ka.prototype.create=function(s,l,d){var f=this._getChildrenContainer(l.parent);return this._createContainer(s,f,d,o0(l))},Ka.prototype.updateContainments=function(s){var l,d=this,f=this._elementRegistry;l=oe(s,function(p,g){return g.parent&&(p[g.parent.id]=g.parent),p},{}),I(l,function(p){var g=p.children;if(g){var b=d._getChildrenContainer(p);I(g.slice().reverse(),function(w){Qh(f.getGraphics(w).parentNode,b)})}})},Ka.prototype.drawShape=function(s,l,d={}){return this._eventBus.fire("render.shape",{gfx:s,element:l,attrs:d})},Ka.prototype.getShapePath=function(s){return this._eventBus.fire("render.getShapePath",s)},Ka.prototype.drawConnection=function(s,l,d={}){return this._eventBus.fire("render.connection",{gfx:s,element:l,attrs:d})},Ka.prototype.getConnectionPath=function(s){return this._eventBus.fire("render.getConnectionPath",s)},Ka.prototype.update=function(s,l,d){if(l.parent){var f=this._clear(d);if(s==="shape")this.drawShape(f,l),ps(d,l.x,l.y);else{if(s!=="connection")throw new Error("unknown type: "+s);this.drawConnection(f,l)}l.hidden?Ct(d,"display","none"):Ct(d,"display","block")}},Ka.prototype.remove=function(s){Ie(this._elementRegistry.getGraphics(s).parentNode)};var fm={__depends__:[s0],__init__:["canvas"],canvas:["type",Gn],elementRegistry:["type",Ws],elementFactory:["type",Fl],eventBus:["type",ma],graphicsFactory:["type",Ka]};function Bb(s){return function(l){var d=new Ca(l);return d.init(),d}([{config:["value",s=s||{}]},fm].concat(s.modules||[]))}function Df(s,l){this._injector=l=l||Bb(s),this.get=l.get,this.invoke=l.invoke,this.get("eventBus").fire("diagram.init")}function zu(){}function jb(s,l){this.model=s,this.properties=l}Df.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Df.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},zu.prototype.get=function(s){return this.$model.properties.get(this,s)},zu.prototype.set=function(s,l){this.$model.properties.set(this,s,l)},jb.prototype.createType=function(s){var l=this.model,d=this.properties,f=Object.create(zu.prototype);I(s.properties,function(b){b.isMany||b.default===void 0||(f[b.name]=b.default)}),d.defineModel(f,l),d.defineDescriptor(f,s);var p=s.ns.name;function g(b){d.define(this,"$type",{value:p,enumerable:!0}),d.define(this,"$attrs",{value:{}}),d.define(this,"$parent",{writable:!0}),I(b,rt(function(w,S){this.set(S,w)},this))}return g.prototype=f,g.hasType=f.$instanceOf=this.model.hasType,d.defineModel(g,l),d.defineDescriptor(g,s),g};var Kh={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Nf={String:function(s){return s},Boolean:function(s){return s==="true"},Integer:function(s){return parseInt(s,10)},Real:function(s){return parseFloat(s)}};function Ig(s,l){var d=Nf[s];return d?d(l):l}function Io(s){return!!Kh[s]}function Hu(s){return!!Nf[s]}function Wi(s,l){var d,f,p=s.split(/:/);if(p.length===1)d=s,f=l;else{if(p.length!==2)throw new Error("expected <prefix:localName> or <localName>, got "+s);d=p[1],f=p[0]}return{name:s=(f?f+":":"")+d,prefix:f,localName:d}}function Xa(s){this.ns=s,this.name=s.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function Md(s,l){this.packageMap={},this.typeMap={},this.packages=[],this.properties=l,I(s,rt(this.registerPackage,this))}function If(s,l,d){var f=l[d];if(f in s)throw new Error("package with "+d+" <"+f+"> already defined")}function Wo(s){this.model=s}function hm(s,l,d){Object.defineProperty(s,l.name,{enumerable:!l.isReference,writable:!0,value:d,configurable:!0})}function Lg(s){return s.replace(/^:/,"")}function $l(s,l={}){this.properties=new Wo(this),this.factory=new jb(this,this.properties),this.registry=new Md(s,this.properties),this.typeCache={},this.config=l}Xa.prototype.build=function(){return vt(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},Xa.prototype.addProperty=function(s,l,d){typeof l=="boolean"&&(d=l,l=void 0),this.addNamedProperty(s,d!==!1);var f=this.properties;l!==void 0?f.splice(l,0,s):f.push(s)},Xa.prototype.replaceProperty=function(s,l,d){var f=s.ns,p=this.properties,g=this.propertiesByName,b=s.name!==l.name;if(s.isId){if(!l.isId)throw new Error("property <"+l.ns.name+"> must be id property to refine <"+s.ns.name+">");this.setIdProperty(l,!1)}if(s.isBody){if(!l.isBody)throw new Error("property <"+l.ns.name+"> must be body property to refine <"+s.ns.name+">");this.setBodyProperty(l,!1)}var w=p.indexOf(s);if(w===-1)throw new Error("property <"+f.name+"> not found in property list");p.splice(w,1),this.addProperty(l,d?void 0:w,b),g[f.name]=g[f.localName]=l},Xa.prototype.redefineProperty=function(s,l,d){var f=s.ns.prefix,p=l.split("#"),g=Wi(p[0],f),b=Wi(p[1],g.prefix).name,w=this.propertiesByName[b];if(!w)throw new Error("refined property <"+b+"> not found");this.replaceProperty(w,s,d),delete s.redefines},Xa.prototype.addNamedProperty=function(s,l){var d=s.ns,f=this.propertiesByName;l&&(this.assertNotDefined(s,d.name),this.assertNotDefined(s,d.localName)),f[d.name]=f[d.localName]=s},Xa.prototype.removeNamedProperty=function(s){var l=s.ns,d=this.propertiesByName;delete d[l.name],delete d[l.localName]},Xa.prototype.setBodyProperty=function(s,l){if(l&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+s.ns.name+">)");this.bodyProperty=s},Xa.prototype.setIdProperty=function(s,l){if(l&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+s.ns.name+">)");this.idProperty=s},Xa.prototype.assertNotTrait=function(s){if((s.extends||[]).length)throw new Error(`cannot create <${s.name}> extending <${s.extends}>`)},Xa.prototype.assertNotDefined=function(s,l){var d=s.name,f=this.propertiesByName[d];if(f)throw new Error("property <"+d+"> already defined; override of <"+f.definedBy.ns.name+"#"+f.ns.name+"> by <"+s.definedBy.ns.name+"#"+s.ns.name+"> not allowed without redefines")},Xa.prototype.hasProperty=function(s){return this.propertiesByName[s]},Xa.prototype.addTrait=function(s,l){l&&this.assertNotTrait(s);var d=this.allTypesByName,f=this.allTypes,p=s.name;p in d||(I(s.properties,rt(function(g){g=ve({},g,{name:g.ns.localName,inherited:l}),Object.defineProperty(g,"definedBy",{value:s});var b=g.replaces,w=g.redefines;b||w?this.redefineProperty(g,b||w,b):(g.isBody&&this.setBodyProperty(g),g.isId&&this.setIdProperty(g),this.addProperty(g))},this)),f.push(s),d[p]=s)},Md.prototype.getPackage=function(s){return this.packageMap[s]},Md.prototype.getPackages=function(){return this.packages},Md.prototype.registerPackage=function(s){s=ve({},s);var l=this.packageMap;If(l,s,"prefix"),If(l,s,"uri"),I(s.types,rt(function(d){this.registerType(d,s)},this)),l[s.uri]=l[s.prefix]=s,this.packages.push(s)},Md.prototype.registerType=function(s,l){var d=Wi((s=ve({},s,{superClass:(s.superClass||[]).slice(),extends:(s.extends||[]).slice(),properties:(s.properties||[]).slice(),meta:ve(s.meta||{})})).name,l.prefix),f=d.name,p={};I(s.properties,rt(function(g){var b=Wi(g.name,d.prefix),w=b.name;Io(g.type)||(g.type=Wi(g.type,b.prefix).name),ve(g,{ns:b,name:w}),p[w]=g},this)),ve(s,{ns:d,name:f,propertiesByName:p}),I(s.extends,rt(function(g){var b=Wi(g,d.prefix),w=this.typeMap[b.name];w.traits=w.traits||[],w.traits.push(f)},this)),this.definePackage(s,l),this.typeMap[f]=s},Md.prototype.mapTypes=function(s,l,d){var f=Io(s.name)?{name:s.name}:this.typeMap[s.name],p=this;function g(w,S){var O=Wi(w,Io(w)?"":s.prefix);p.mapTypes(O,l,S)}function b(w){return g(w,!0)}if(!f)throw new Error("unknown type <"+s.name+">");I(f.superClass,d?b:function(w){return g(w,!1)}),l(f,!d),I(f.traits,b)},Md.prototype.getEffectiveDescriptor=function(s){var l=Wi(s),d=new Xa(l);this.mapTypes(l,function(p,g){d.addTrait(p,g)});var f=d.build();return this.definePackage(f,f.allTypes[f.allTypes.length-1].$pkg),f},Md.prototype.definePackage=function(s,l){this.properties.define(s,"$pkg",{value:l})},Wo.prototype.set=function(s,l,d){if(!T(l)||!l.length)throw new TypeError("property name must be a non-empty string");var f=this.getProperty(s,l),p=f&&f.name;d===void 0?f?delete s[p]:delete s.$attrs[Lg(l)]:f?p in s?s[p]=d:hm(s,f,d):s.$attrs[Lg(l)]=d},Wo.prototype.get=function(s,l){var d=this.getProperty(s,l);if(!d)return s.$attrs[Lg(l)];var f=d.name;return!s[f]&&d.isMany&&hm(s,d,[]),s[f]},Wo.prototype.define=function(s,l,d){if(!d.writable){var f=d.value;delete(d=ve({},d,{get:function(){return f}})).value}Object.defineProperty(s,l,d)},Wo.prototype.defineDescriptor=function(s,l){this.define(s,"$descriptor",{value:l})},Wo.prototype.defineModel=function(s,l){this.define(s,"$model",{value:l})},Wo.prototype.getProperty=function(s,l){var d=this.model,f=d.getPropertyDescriptor(s,l);if(f)return f;if(l.includes(":"))return null;const p=d.config.strict;if(p!==void 0){const g=new TypeError(`unknown property <${l}> on <${s.$type}>`);if(p)throw g;typeof console<"u"&&console.warn(g)}return null},$l.prototype.create=function(s,l){var d=this.getType(s);if(!d)throw new Error("unknown type <"+s+">");return new d(l)},$l.prototype.getType=function(s){var l=this.typeCache,d=T(s)?s:s.ns.name,f=l[d];return f||(s=this.registry.getEffectiveDescriptor(d),f=l[d]=this.factory.createType(s)),f},$l.prototype.createAny=function(s,l,d){var f=Wi(s),p={$type:s,$instanceOf:function(b){return b===this.$type},get:function(b){return this[b]},set:function(b,w){(function(S,O,M){let A=S;I(O,function(L,z){if(typeof L!="number"&&typeof L!="string")throw new Error("illegal key type: "+typeof L+". Key should be of type number or string.");if(L==="constructor")throw new Error("illegal key: constructor");if(L==="__proto__")throw new Error("illegal key: __proto__");let H=O[z+1],Q=A[L];h(H)&&m(Q)&&(Q=A[L]=isNaN(+H)?{}:[]),u(H)?u(M)?delete A[L]:A[L]=M:A=Q})})(this,[b],w)}},g={name:s,isGeneric:!0,ns:{prefix:f.prefix,localName:f.localName,uri:l}};return this.properties.defineDescriptor(p,g),this.properties.defineModel(p,this),this.properties.define(p,"get",{enumerable:!1,writable:!0}),this.properties.define(p,"set",{enumerable:!1,writable:!0}),this.properties.define(p,"$parent",{enumerable:!1,writable:!0}),this.properties.define(p,"$instanceOf",{enumerable:!1,writable:!0}),I(d,function(b,w){_(b)&&b.value!==void 0?p[b.name]=b.value:p[w]=b}),p},$l.prototype.getPackage=function(s){return this.registry.getPackage(s)},$l.prototype.getPackages=function(){return this.registry.getPackages()},$l.prototype.getElementDescriptor=function(s){return s.$descriptor},$l.prototype.hasType=function(s,l){return l===void 0&&(l=s,s=this),l in s.$model.getElementDescriptor(s).allTypesByName},$l.prototype.getPropertyDescriptor=function(s,l){return this.getElementDescriptor(s).propertiesByName[l]},$l.prototype.getTypeDescriptor=function(s){return this.registry.typeMap[s]};var Vb=String.fromCharCode,y0=Object.prototype.hasOwnProperty,v0=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,bc={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function je(s,l,d,f){return f?y0.call(bc,f)?bc[f]:"&"+f+";":Vb(l||parseInt(d,16))}function ut(s){return s.length>3&&s.indexOf("&")!==-1?s.replace(v0,je):s}Object.keys(bc).forEach(function(s){bc[s.toUpperCase()]=bc[s]});var it="xsi:type",xn="non-whitespace outside of root node";function Qn(s){return new Error(s)}function hi(s){return"missing namespace for prefix <"+s+">"}function Co(s){return{get:s,enumerable:!0}}function Hr(s){var l,d={};for(l in s)d[l]=s[l];return d}function pm(s){return s+"$uri"}function zb(){return{line:0,column:0}}function Bl(s){throw s}function Wu(s){if(!this)return new Wu(s);var l,d,f,p,g,b,w,S,O,M=s&&s.proxy,A=Bl,L=zb,z=!1,H=!1,Q=null,re=!1;function X(ue){ue instanceof Error||(ue=Qn(ue)),Q=ue,A(ue,L)}function K(ue){g&&(ue instanceof Error||(ue=Qn(ue)),g(ue,L))}this.on=function(ue,me){if(typeof me!="function")throw Qn("required args <name, cb>");switch(ue){case"openTag":d=me;break;case"text":l=me;break;case"closeTag":f=me;break;case"error":A=me;break;case"warn":g=me;break;case"cdata":p=me;break;case"attention":S=me;break;case"question":w=me;break;case"comment":b=me;break;default:throw Qn("unsupported event: "+ue)}return this},this.ns=function(ue){if(ue===void 0&&(ue={}),typeof ue!="object")throw Qn("required args <nsMap={}>");var me,ge={};for(me in ue)ge[me]=ue[me];return ge["http://www.w3.org/2001/XMLSchema-instance"]="xsi",H=!0,O=ge,this},this.parse=function(ue){if(typeof ue!="string")throw Qn("required args <xml=string>");return Q=null,function(me){var ge,$e,He,Ve,Xe,Mn,zt,nt,_t,fr,Yn,Zn=H?[]:null,wr=H?function(so){var ki,xi,ao={};for(ki in so)ao[xi=so[ki]]=xi,ao[pm(xi)]=ki;return ao}(O):null,Yi=[],Fi=0,eo=!1,mi=!1,ni=0,gn=0,oo="",Ri=0;function Zu(){if(Yn!==null)return Yn;var so,ki,xi,ao,to,$i,Yo,Vr,Qo,ke,ee,ce=H&&wr.xmlns,Ge=H&&z?[]:null,lt=Ri,cn=oo,hr=cn.length,Xr={},Ko={};e:for(;lt<hr;lt++)if(Qo=!1,!((ke=cn.charCodeAt(lt))===32||ke<14&&ke>8)){for((ke<65||ke>122||ke>90&&ke<97)&&ke!==95&&ke!==58&&(K("illegal first char attribute name"),Qo=!0),ee=lt+1;ee<hr;ee++)if(!((ke=cn.charCodeAt(ee))>96&&ke<123||ke>64&&ke<91||ke>47&&ke<59||ke===46||ke===45||ke===95)){if(ke===32||ke<14&&ke>8){K("missing attribute value"),lt=ee;continue e}if(ke===61)break;K("illegal attribute name char"),Qo=!0}if((Vr=cn.substring(lt,ee))==="xmlns:xmlns"&&(K("illegal declaration of xmlns"),Qo=!0),(ke=cn.charCodeAt(ee+1))===34)(ee=cn.indexOf('"',lt=ee+2))===-1&&(ee=cn.indexOf("'",lt))!==-1&&(K("attribute value quote missmatch"),Qo=!0);else if(ke===39)(ee=cn.indexOf("'",lt=ee+2))===-1&&(ee=cn.indexOf('"',lt))!==-1&&(K("attribute value quote missmatch"),Qo=!0);else for(K("missing attribute value quotes"),Qo=!0,ee+=1;ee<hr&&!((ke=cn.charCodeAt(ee+1))===32||ke<14&&ke>8);ee++);for(ee===-1&&(K("missing closing quotes"),ee=hr,Qo=!0),Qo||($i=cn.substring(lt,ee)),lt=ee;ee+1<hr&&!((ke=cn.charCodeAt(ee+1))===32||ke<14&&ke>8);ee++)lt===ee&&(K("illegal character after attribute end"),Qo=!0);if(lt=ee+1,!Qo)if(Vr in Ko)K("attribute <"+Vr+"> already defined");else if(Ko[Vr]=!0,H)if(z){if((to=Vr==="xmlns"?"xmlns":Vr.charCodeAt(0)===120&&Vr.substr(0,6)==="xmlns:"?Vr.substr(6):null)!==null){if(so=ut($i),ki=pm(to),!(Yo=O[so])){if(to==="xmlns"||ki in wr&&wr[ki]!==so)do Yo="ns"+Fi++;while(wr[Yo]!==void 0);else Yo=to;O[so]=Yo}wr[to]!==Yo&&(ao||(wr=Hr(wr),ao=!0),wr[to]=Yo,to==="xmlns"&&(wr[pm(Yo)]=so,ce=Yo),wr[ki]=so),Xr[Vr]=$i;continue}Ge.push(Vr,$i)}else(ke=Vr.indexOf(":"))!==-1?(xi=wr[Vr.substring(0,ke)])?((Vr=ce===xi?Vr.substr(ke+1):xi+Vr.substr(ke))===it&&((ke=$i.indexOf(":"))!==-1?(xi=$i.substring(0,ke),$i=(xi=wr[xi]||xi)+$i.substring(ke)):$i=ce+":"+$i),Xr[Vr]=$i):K(hi(Vr.substring(0,ke))):Xr[Vr]=$i;else Xr[Vr]=$i}if(z)for(lt=0,hr=Ge.length;lt<hr;lt++){if(Vr=Ge[lt++],$i=Ge[lt],(ke=Vr.indexOf(":"))!==-1){if(!(xi=wr[Vr.substring(0,ke)])){K(hi(Vr.substring(0,ke)));continue}(Vr=ce===xi?Vr.substr(ke+1):xi+Vr.substr(ke))===it&&((ke=$i.indexOf(":"))!==-1?(xi=$i.substring(0,ke),$i=(xi=wr[xi]||xi)+$i.substring(ke)):$i=ce+":"+$i)}Xr[Vr]=$i}return Yn=Xr}function Rc(){for(var so,ki,xi=/(\r\n|\r|\n)/g,ao=0,to=0,$i=0,Yo=gn;ni>=$i&&(so=xi.exec(me))&&!((Yo=so[0].length+so.index)>ni);)ao+=1,$i=Yo;return ni==-1?(to=Yo,ki=me.substring(gn)):gn===0?ki=me.substring(gn,ni):(to=ni-$i,ki=gn==-1?me.substring(ni):me.substring(ni,gn+1)),{data:ki,line:ao,column:to}}for(L=Rc,M&&(fr=Object.create({},{name:Co(function(){return nt}),originalName:Co(function(){return _t}),attrs:Co(Zu),ns:Co(function(){return wr})}));gn!==-1;){if((ni=me.charCodeAt(gn)===60?gn:me.indexOf("<",gn))===-1)return Yi.length?X("unexpected end of file"):gn===0?X("missing start tag"):void(gn<me.length&&me.substring(gn).trim()&&K(xn));if(gn!==ni){if(Yi.length){if(l&&(l(me.substring(gn,ni),ut,L),re))return}else if(me.substring(gn,ni).trim()&&(K(xn),re))return}if((Xe=me.charCodeAt(ni+1))===33){if((Ve=me.charCodeAt(ni+2))===91&&me.substr(ni+3,6)==="CDATA["){if((gn=me.indexOf("]]>",ni))===-1)return X("unclosed cdata");if(p&&(p(me.substring(ni+9,gn),L),re))return;gn+=3;continue}if(Ve===45&&me.charCodeAt(ni+3)===45){if((gn=me.indexOf("-->",ni))===-1)return X("unclosed comment");if(b&&(b(me.substring(ni+4,gn),ut,L),re))return;gn+=3;continue}}if(Xe!==63){for($e=ni+1;;$e++){if(Mn=me.charCodeAt($e),isNaN(Mn))return gn=-1,X("unclosed tag");if(Mn===34)$e=(Ve=me.indexOf('"',$e+1))!==-1?Ve:$e;else if(Mn===39)$e=(Ve=me.indexOf("'",$e+1))!==-1?Ve:$e;else if(Mn===62){gn=$e;break}}if(Xe!==33){if(Yn={},Xe===47){if(eo=!1,mi=!0,!Yi.length)return X("missing open tag");if($e=nt=Yi.pop(),Ve=ni+2+$e.length,me.substring(ni+2,Ve)!==$e)return X("closing tag mismatch");for(;Ve<gn;Ve++)if(!((Xe=me.charCodeAt(Ve))===32||Xe>8&&Xe<14))return X("close tag")}else{if(me.charCodeAt(gn-1)===47?($e=nt=me.substring(ni+1,gn-1),eo=!0,mi=!0):($e=nt=me.substring(ni+1,gn),eo=!0,mi=!1),!(Xe>96&&Xe<123||Xe>64&&Xe<91||Xe===95||Xe===58))return X("illegal first char nodeName");for(Ve=1,He=$e.length;Ve<He;Ve++)if(!((Xe=$e.charCodeAt(Ve))>96&&Xe<123||Xe>64&&Xe<91||Xe>47&&Xe<59||Xe===45||Xe===95||Xe==46)){if(Xe===32||Xe<14&&Xe>8){nt=$e.substring(0,Ve),Yn=null;break}return X("invalid nodeName")}mi||Yi.push(nt)}if(H){if(ge=wr,eo&&(mi||Zn.push(ge),Yn===null&&(z=$e.indexOf("xmlns",Ve)!==-1)&&(Ri=Ve,oo=$e,Zu(),z=!1)),_t=nt,(Xe=nt.indexOf(":"))!==-1){if(!(zt=wr[nt.substring(0,Xe)]))return X("missing namespace on <"+_t+">");nt=nt.substr(Xe+1)}else zt=wr.xmlns;zt&&(nt=zt+":"+nt)}if(eo&&(Ri=Ve,oo=$e,d&&(M?d(fr,ut,mi,L):d(nt,Zu,ut,mi,L),re)))return;if(mi){if(f&&(f(M?fr:nt,ut,eo,L),re))return;H&&(wr=eo?ge:Zn.pop())}gn+=1}else{if(S&&(S(me.substring(ni,gn+1),ut,L),re))return;gn+=1}}else{if((gn=me.indexOf("?>",ni))===-1)return X("unclosed question");if(w&&(w(me.substring(ni,gn+2),L),re))return;gn+=2}}}(ue),L=zb,re=!1,Q},this.stop=function(){re=!0}}function Hb(s){return s.xml&&s.xml.tagAlias==="lowerCase"}var jl={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Dd="xsi:type";function Xh(s){return s.xml&&s.xml.serialize}function si(s){return Xh(s)===Dd}function b0(s,l){return Hb(l)?s.prefix+":"+((d=s.localName).charAt(0).toUpperCase()+d.slice(1)):s.name;var d}function Vl(s){return new Error(s)}function zl(s){return s.$descriptor}function x0(s){ve(this,s),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(l){this.references.push(l)},this.addElement=function(l){if(!l)throw Vl("expected element");var d,f=this.elementsById,p=zl(l).idProperty;if(p&&(d=l.get(p.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(d))throw new Error("illegal ID <"+d+">");if(f[d])throw Vl("duplicate ID <"+d+">");f[d]=l}},this.addWarning=function(l){this.warnings.push(l)}}function Zh(){}function w0(){}function eu(){}function hl(s,l){this.property=s,this.context=l}function Jh(s,l){this.element=l,this.propertyDesc=s}function Nd(){}function ms(s,l,d){this.model=s,this.type=s.getType(l),this.context=d}function mm(s,l,d){ms.call(this,s,l,d)}function Id(s,l,d){this.model=s,this.context=d}function pl(s){s instanceof $l&&(s={model:s}),ve(this,{lax:!1},s)}Zh.prototype.handleEnd=function(){},Zh.prototype.handleText=function(){},Zh.prototype.handleNode=function(){},w0.prototype=Object.create(Zh.prototype),w0.prototype.handleNode=function(){return this},eu.prototype=Object.create(Zh.prototype),eu.prototype.handleText=function(s){this.body=(this.body||"")+s},hl.prototype=Object.create(eu.prototype),hl.prototype.handleNode=function(s){if(this.element)throw Vl("expected no sub nodes");return this.element=this.createReference(s),this},hl.prototype.handleEnd=function(){this.element.id=this.body},hl.prototype.createReference=function(s){return{property:this.property.ns.name,id:""}},Jh.prototype=Object.create(eu.prototype),Jh.prototype.handleEnd=function(){var s=this.body||"",l=this.element,d=this.propertyDesc;s=Ig(d.type,s),d.isMany?l.get(d.name).push(s):l.set(d.name,s)},Nd.prototype=Object.create(eu.prototype),Nd.prototype.handleNode=function(s){var l=this,d=this.element;return d?l=this.handleChild(s):(d=this.element=this.createElement(s),this.context.addElement(d)),l},ms.prototype=Object.create(Nd.prototype),ms.prototype.addReference=function(s){this.context.addReference(s)},ms.prototype.handleText=function(s){if(!zl(this.element).bodyProperty)throw Vl("unexpected body text <"+s+">");eu.prototype.handleText.call(this,s)},ms.prototype.handleEnd=function(){var s=this.body,l=this.element,d=zl(l).bodyProperty;d&&s!==void 0&&(s=Ig(d.type,s),l.set(d.name,s))},ms.prototype.createElement=function(s){var l,d=s.attributes,f=this.type,p=zl(f),g=this.context,b=new f({}),w=this.model;return I(d,function(S,O){var M=p.propertiesByName[O];M&&M.isReference?M.isMany?I(S.split(" "),function(A){g.addReference({element:b,property:M.ns.name,id:A})}):g.addReference({element:b,property:M.ns.name,id:S}):(M?S=Ig(M.type,S):O!=="xmlns"&&(l=Wi(O,p.ns.prefix),w.getPackage(l.prefix)&&g.addWarning({message:"unknown attribute <"+O+">",element:b,property:O,value:S})),b.set(O,S))}),b},ms.prototype.getPropertyForNode=function(s){var l,d,f=Wi(s.name),p=this.type,g=this.model,b=zl(p),w=f.name,S=b.propertiesByName[w];if(S&&!S.isAttr)return si(S)&&(l=s.attributes[Dd])?(l=function(M,A){var L=Wi(M);return function(z,H){var Q=z.name,re=z.localName,X=H.xml&&H.xml.typePrefix;return X&&re.indexOf(X)===0?z.prefix+":"+re.slice(X.length):Q}(L,A.getPackage(L.prefix))}(l,g),ve({},S,{effectiveType:zl(d=g.getType(l)).name})):S;var O=g.getPackage(f.prefix);if(O){if(l=b0(f,O),d=g.getType(l),S=$(b.properties,function(M){return!M.isVirtual&&!M.isReference&&!M.isAttribute&&d.hasType(M.type)}),S)return ve({},S,{effectiveType:zl(d).name})}else if(S=$(b.properties,function(M){return!M.isReference&&!M.isAttribute&&M.type==="Element"}),S)return S;throw Vl("unrecognized element <"+f.name+">")},ms.prototype.toString=function(){return"ElementDescriptor["+zl(this.type).name+"]"},ms.prototype.valueHandler=function(s,l){return new Jh(s,l)},ms.prototype.referenceHandler=function(s){return new hl(s,this.context)},ms.prototype.handler=function(s){return s==="Element"?new Id(this.model,s,this.context):new ms(this.model,s,this.context)},ms.prototype.handleChild=function(s){var l,d,f,p;if(l=this.getPropertyForNode(s),f=this.element,Hu(d=l.effectiveType||l.type))return this.valueHandler(l,f);var g=(p=l.isReference?this.referenceHandler(l).handleNode(s):this.handler(d).handleNode(s)).element;return g!==void 0&&(l.isMany?f.get(l.name).push(g):f.set(l.name,g),l.isReference?(ve(g,{element:f}),this.context.addReference(g)):g.$parent=f),p},mm.prototype=Object.create(ms.prototype),mm.prototype.createElement=function(s){var l=s.name,d=Wi(l),f=this.model,p=this.type,g=f.getPackage(d.prefix),b=g&&b0(d,g)||l;if(!p.hasType(b))throw Vl("unexpected element <"+s.originalName+">");return ms.prototype.createElement.call(this,s)},Id.prototype=Object.create(Nd.prototype),Id.prototype.createElement=function(s){var l=s.name,d=Wi(l).prefix,f=s.ns[d+"$uri"],p=s.attributes;return this.model.createAny(l,f,p)},Id.prototype.handleChild=function(s){var l=new Id(this.model,"Element",this.context).handleNode(s),d=this.element,f=l.element;return f!==void 0&&((d.$children=d.$children||[]).push(f),f.$parent=d),l},Id.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},pl.prototype.fromXML=function(s,l,d){var f=l.rootHandler;l instanceof ms?(f=l,l={}):typeof l=="string"?(f=this.handler(l),l={}):typeof f=="string"&&(f=this.handler(f));var p=this.model,g=this.lax,b=new x0(ve({},l,{rootHandler:f})),w=new Wu({proxy:!0}),S=function(){var re=[];return Object.defineProperty(re,"peek",{value:function(){return this[this.length-1]}}),re}();function O(re,X,K){var ue=X(),me=ue.line,ge=ue.column,$e=ue.data;$e.charAt(0)==="<"&&$e.indexOf(" ")!==-1&&($e=$e.slice(0,$e.indexOf(" "))+">");var He="unparsable content "+($e?$e+" ":"")+`detected
	line: `+me+`
	column: `+ge+`
	nested error: `+re.message;if(K)return b.addWarning({message:He,error:re}),!0;throw Vl(He)}function M(re,X){return O(re,X,!0)}f.context=b,S.push(f);var A=/^<\?xml /i,L=/ encoding="([^"]+)"/i,z=/^utf-8$/i;function H(re,X){try{S.peek().handleText(re)}catch(K){M(K,X)}}var Q=p.getPackages().reduce(function(re,X){return re[X.uri]=X.prefix,re},{"http://www.w3.org/XML/1998/namespace":"xml"});return w.ns(Q).on("openTag",function(re,X,K,ue){var me=re.attrs||{},ge=Object.keys(me).reduce(function($e,He){var Ve=X(me[He]);return $e[He]=Ve,$e},{});(function($e,He){var Ve=S.peek();try{S.push(Ve.handleNode($e))}catch(Xe){O(Xe,He,g)&&S.push(new w0)}})({name:re.name,originalName:re.originalName,attributes:ge,ns:re.ns},ue)}).on("question",function(re){if(A.test(re)){var X=L.exec(re),K=X&&X[1];K&&!z.test(K)&&b.addWarning({message:"unsupported document encoding <"+K+">, falling back to UTF-8"})}}).on("closeTag",function(){S.pop().handleEnd()}).on("cdata",H).on("text",function(re,X,K){(function(ue,me){ue.trim()&&H(ue,me)})(X(re),K)}).on("error",O).on("warn",M),new Promise(function(re,X){var K;try{w.parse(s),function(){var He,Ve,Xe=b.elementsById,Mn=b.references;for(He=0;Ve=Mn[He];He++){var zt=Ve.element,nt=Xe[Ve.id],_t=zl(zt).propertiesByName[Ve.property];if(nt||b.addWarning({message:"unresolved reference <"+Ve.id+">",element:Ve.element,property:Ve.property,value:Ve.id}),_t.isMany){var fr=zt.get(_t.name),Yn=fr.indexOf(Ve);Yn===-1&&(Yn=fr.length),nt?fr[Yn]=nt:fr.splice(Yn,1)}else zt.set(_t.name,nt)}}()}catch(He){K=He}var ue=f.element;K||ue||(K=Vl("failed to parse document as <"+f.type.$descriptor.name+">"));var me=b.warnings,ge=b.references,$e=b.elementsById;return K?(K.warnings=me,X(K)):re({rootElement:ue,elementsById:$e,references:ge,warnings:me})})},pl.prototype.handler=function(s){return new mm(this.model,s)};var tu=/<|>|'|"|&|\n\r|\n/g,ep=/<|>|&/g;function xc(s){var l={},d={},f={},p=[],g=[];this.byUri=function(b){return d[b]||s&&s.byUri(b)},this.add=function(b,w){d[b.uri]=b,w?p.push(b):g.push(b),this.mapPrefix(b.prefix,b.uri)},this.uriByPrefix=function(b){return l[b||"xmlns"]},this.mapPrefix=function(b,w){l[b||"xmlns"]=w},this.getNSKey=function(b){return b.prefix!==void 0?b.uri+"|"+b.prefix:b.uri},this.logUsed=function(b){var w=b.uri,S=this.getNSKey(b);f[S]=this.byUri(w),s&&s.logUsed(b)},this.getUsed=function(b){var w=this;return[].concat(p,g).filter(function(S){var O=w.getNSKey(S);return f[O]})}}function tp(s,l){return Hb(l)?(d=s).charAt(0).toLowerCase()+d.slice(1):s;var d}function Lf(s,l){s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}function np(s){return T(s)?s:(s.prefix?s.prefix+":":"")+s.localName}var _0={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Ff={"<":"lt",">":"gt","&":"amp"};function gs(s,l,d){return(s=T(s)?s:""+s).replace(l,function(f){return"&"+d[f]+";"})}function $f(s){this.tagName=s}function Hl(){}function rp(s){this.tagName=s}function mo(s,l){this.body=[],this.attrs=[],this.parent=s,this.propertyDescriptor=l}function gm(s,l){mo.call(this,s,l)}function Ms(){this.value="",this.write=function(s){this.value+=s}}function ga(s,l){var d=[""];this.append=function(f){return s.write(f),this},this.appendNewLine=function(){return l&&s.write(`
`),this},this.appendIndent=function(){return l&&s.write(d.join("  ")),this},this.indent=function(){return d.push(""),this},this.unindent=function(){return d.pop(),this}}function Wb(s){return s=ve({format:!1,preamble:!0},s||{}),{toXML:function(l,d){var f=d||new Ms,p=new ga(f,s.format);if(s.preamble&&p.append(`<?xml version="1.0" encoding="UTF-8"?>
`),new mo().build(l).serializeTo(p),!d)return f.value}}}function ym(s,l){$l.call(this,s,l)}$f.prototype.build=function(s){return this.element=s,this},$f.prototype.serializeTo=function(s){s.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Hl.prototype.serializeValue=Hl.prototype.serializeTo=function(s){s.append(this.escape?gs(this.value,ep,Ff):this.value)},Hl.prototype.build=function(s,l){return this.value=l,s.type==="String"&&l.search(ep)!==-1&&(this.escape=!0),this},Lf(rp,Hl),rp.prototype.serializeTo=function(s){s.appendIndent().append("<"+this.tagName+">"),this.serializeValue(s),s.append("</"+this.tagName+">").appendNewLine()},mo.prototype.build=function(s){this.element=s;var l,d,f=s.$descriptor,p=this.propertyDescriptor,g=f.isGeneric;return l=g?this.parseGeneric(s):this.parseNsAttributes(s),this.ns=p?this.nsPropertyTagName(p):this.nsTagName(f),this.tagName=this.addTagName(this.ns),g||(d=function(b){return B(b.$descriptor.properties,function(w){var S=w.name;if(w.isVirtual||!F(b,S))return!1;var O=b[S];return O!==w.default&&O!==null&&(!w.isMany||O.length)})}(s),this.parseAttributes(B(d,function(b){return b.isAttr})),this.parseContainments(function(b){return B(b,function(w){return!w.isAttr})}(d))),this.parseGenericAttributes(s,l),this},mo.prototype.nsTagName=function(s){return function(l,d){return d.isGeneric?ve({localName:d.ns.localName},l):ve({localName:tp(d.ns.localName,d.$pkg)},l)}(this.logNamespaceUsed(s.ns),s)},mo.prototype.nsPropertyTagName=function(s){return function(l,d){return ve({localName:d.ns.localName},l)}(this.logNamespaceUsed(s.ns),s)},mo.prototype.isLocalNs=function(s){return s.uri===this.ns.uri},mo.prototype.nsAttributeName=function(s){var l;if(l=T(s)?Wi(s):s.ns,s.inherited)return{localName:l.localName};var d=this.logNamespaceUsed(l);return this.getNamespaces().logUsed(d),this.isLocalNs(d)?{localName:l.localName}:ve({localName:l.localName},d)},mo.prototype.parseGeneric=function(s){var l=this,d=this.body,f=[];return I(s,function(p,g){g==="$body"?d.push(new Hl().build({type:"String"},p)):g==="$children"?I(p,function(b){d.push(new mo(l).build(b))}):g.indexOf("$")!==0&&l.parseNsAttribute(s,g,p)&&f.push({name:g,value:p})}),f},mo.prototype.parseNsAttribute=function(s,l,d){var f,p=s.$model,g=Wi(l);if(g.prefix==="xmlns"&&(f={prefix:g.localName,uri:d}),g.prefix||g.localName!=="xmlns"||(f={uri:d}),!f)return{name:l,value:d};if(p&&p.getPackage(d))this.logNamespace(f,!0,!0);else{var b=this.logNamespaceUsed(f,!0);this.getNamespaces().logUsed(b)}},mo.prototype.parseNsAttributes=function(s,l){var d=this,f=s.$attrs,p=[];return I(f,function(g,b){var w=d.parseNsAttribute(s,b,g);w&&p.push(w)}),p},mo.prototype.parseGenericAttributes=function(s,l){var d=this;I(l,function(f){if(f.name!==Dd)try{d.addAttribute(d.nsAttributeName(f.name),f.value)}catch(p){console.warn("missing namespace information for ",f.name,"=",f.value,"on",s,p)}})},mo.prototype.parseContainments=function(s){var l=this,d=this.body,f=this.element;I(s,function(p){var g=f.get(p.name),b=p.isReference;if(p.isMany||(g=[g]),p.isBody)d.push(new Hl().build(p,g[0]));else if(Hu(p.type))I(g,function(O){d.push(new rp(l.addTagName(l.nsPropertyTagName(p))).build(p,O))});else if(b)I(g,function(O){d.push(new $f(l.addTagName(l.nsPropertyTagName(p))).build(O))});else{var w=si(p),S=function(O){return Xh(O)==="property"}(p);I(g,function(O){var M;M=w?new gm(l,p):S?new mo(l,p):new mo(l),d.push(M.build(O))})}})},mo.prototype.getNamespaces=function(s){var l,d=this.namespaces,f=this.parent;return d||(l=f&&f.getNamespaces(),s||!l?this.namespaces=d=new xc(l):d=l),d},mo.prototype.logNamespace=function(s,l,d){var f=this.getNamespaces(d),p=s.uri,g=s.prefix;return f.byUri(p)&&!d||f.add(s,l),f.mapPrefix(g,p),s},mo.prototype.logNamespaceUsed=function(s,l){var d,f,p,g=this.element.$model,b=this.getNamespaces(l),w=s.prefix,S=s.uri;if(!w&&!S)return{localName:s.localName};if(p=jl[w]||g&&(g.getPackage(w)||{}).uri,!(S=S||p||b.uriByPrefix(w)))throw new Error("no namespace uri given for prefix <"+w+">");if(!(s=b.byUri(S))){for(d=w,f=1;b.uriByPrefix(d);)d=w+"_"+f++;s=this.logNamespace({prefix:d,uri:S},p===S)}return w&&b.mapPrefix(w,S),s},mo.prototype.parseAttributes=function(s){var l=this,d=this.element;I(s,function(f){var p=d.get(f.name);if(f.isReference)if(f.isMany){var g=[];I(p,function(b){g.push(b.id)}),p=g.join(" ")}else p=p.id;l.addAttribute(l.nsAttributeName(f),p)})},mo.prototype.addTagName=function(s){var l=this.logNamespaceUsed(s);return this.getNamespaces().logUsed(l),np(s)},mo.prototype.addAttribute=function(s,l){var d=this.attrs;T(l)&&(l=gs(l,tu,_0));var f=j(d,function(g){return g.name.localName===s.localName&&g.name.uri===s.uri&&g.name.prefix===s.prefix}),p={name:s,value:l};f!==-1?d.splice(f,1,p):d.push(p)},mo.prototype.serializeAttributes=function(s){var l=this.attrs,d=this.namespaces;d&&(l=function(f){return f.getUsed().filter(function(p){return p.prefix!=="xml"}).map(function(p){return{name:"xmlns"+(p.prefix?":"+p.prefix:""),value:p.uri}})}(d).concat(l)),I(l,function(f){s.append(" ").append(np(f.name)).append('="').append(f.value).append('"')})},mo.prototype.serializeTo=function(s){var l=this.body[0],d=l&&l.constructor!==Hl;s.appendIndent().append("<"+this.tagName),this.serializeAttributes(s),s.append(l?">":" />"),l&&(d&&s.appendNewLine().indent(),I(this.body,function(f){f.serializeTo(s)}),d&&s.unindent().appendIndent(),s.append("</"+this.tagName+">")),s.appendNewLine()},Lf(gm,mo),gm.prototype.parseNsAttributes=function(s){var l=mo.prototype.parseNsAttributes.call(this,s),d=s.$descriptor;if(d.name===this.propertyDescriptor.type)return l;var f=this.typeNs=this.nsTagName(d);this.getNamespaces().logUsed(this.typeNs);var p=s.$model.getPackage(f.uri),g=p.xml&&p.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Dd),(f.prefix?f.prefix+":":"")+g+d.ns.localName),l},gm.prototype.isLocalNs=function(s){return s.uri===(this.typeNs||this.ns).uri},ym.prototype=Object.create($l.prototype),ym.prototype.fromXML=function(s,l,d){T(l)||(d=l,l="bpmn:Definitions");var f=new pl(ve({model:this,lax:!0},d)),p=f.handler(l);return f.fromXML(s,p)},ym.prototype.toXML=function(s,l){var d=new Wb(l);return new Promise(function(f,p){try{return f({xml:d.toXML(s)})}catch(g){return p(g)}})};var qb={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function zE(s,l){return new ym(ve({},qb,s),l)}function ys(s){return s?"<"+s.$type+(s.id?' id="'+s.id:"")+'" />':"<null>"}var Bf="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function nu(s){F(s,"di")||Object.defineProperty(s,"di",{enumerable:!1,get:function(){throw new Error(Bf)}})}function qo(s,l){return s.$instanceOf(l)}function Ni(s,l){var d={},f=[],p={};function g(nt,_t){return function(fr){nt(fr,_t)}}function b(nt){d[nt.id]=nt}function w(nt,_t){try{var fr=p[nt.id]&&function(Yn,Zn){if(Yn.gfx)throw new Error(l("already rendered {element}",{element:ys(Yn)}));return s.element(Yn,p[Yn.id],Zn)}(nt,_t);return b(nt),fr}catch(Yn){S(Yn.message,{element:nt,error:Yn}),console.error(l("failed to import {element}",{element:ys(nt)})),console.error(Yn)}}function S(nt,_t){s.error(nt,_t)}var O=this.registerDi=function(nt){var _t=nt.bpmnElement;_t?p[_t.id]?S(l("multiple DI elements defined for {element}",{element:ys(_t)}),{element:_t}):(p[_t.id]=nt,nu(_t)):S(l("no bpmnElement referenced in {element}",{element:ys(nt)}),{element:nt})};function M(nt){var _t;_t=nt.plane,O(_t),I(_t.planeElement,A)}function A(nt){O(nt)}this.handleDefinitions=function(nt,_t){var fr=nt.diagrams;if(_t&&fr.indexOf(_t)===-1)throw new Error(l("diagram not part of bpmn:Definitions"));if(!_t&&fr&&fr.length&&(_t=fr[0]),!_t)throw new Error(l("no diagram to display"));p={},M(_t);var Yn=_t.plane;if(!Yn)throw new Error(l("no plane for {element}",{element:ys(_t)}));var Zn=Yn.bpmnElement;if(!Zn){if(Zn=function(eo){return $(eo.rootElements,function(mi){return qo(mi,"bpmn:Process")||qo(mi,"bpmn:Collaboration")})}(nt),!Zn)throw new Error(l("no process or collaboration to display"));S(l("correcting missing bpmnElement on {plane} to {rootElement}",{plane:ys(Yn),rootElement:ys(Zn)})),Yn.bpmnElement=Zn,O(Yn)}var wr,Yi,Fi=function(eo,mi){return s.root(eo,p[eo.id],mi)}(Zn,Yn);if(qo(Zn,"bpmn:Process")||qo(Zn,"bpmn:SubProcess"))z(Zn,Fi);else{if(!qo(Zn,"bpmn:Collaboration"))throw new Error(l("unsupported bpmnElement for {plane}: {rootElement}",{plane:ys(Yn),rootElement:ys(Zn)}));Yi=Fi,I((wr=Zn).participants,g(zt,Yi)),ue(wr.artifacts,Yi),f.push(function(){(function(eo,mi){I(eo,g(H,mi))})(wr.messageFlows,Yi)}),function(eo,mi){var ni=B(eo,function(gn){return!d[gn.id]&&qo(gn,"bpmn:Process")&&gn.laneSets});ni.forEach(g(z,mi))}(nt.rootElements,Fi)}L(f)};var L=this.handleDeferred=function(){for(;f.length;)f.shift()()};function z(nt,_t){Mn(nt,_t),me(nt.ioSpecification,_t),ue(nt.artifacts,_t),b(nt)}function H(nt,_t){w(nt,_t)}function Q(nt,_t){w(nt,_t)}function re(nt,_t){w(nt,_t)}function X(nt,_t){w(nt,_t)}function K(nt,_t){w(nt,_t)}function ue(nt,_t){I(nt,function(fr){qo(fr,"bpmn:Association")?f.push(function(){K(fr,_t)}):K(fr,_t)})}function me(nt,_t){nt&&(I(nt.dataInputs,g(re,_t)),I(nt.dataOutputs,g(X,_t)))}var ge=this.handleSubProcess=function(nt,_t){Mn(nt,_t),ue(nt.artifacts,_t)};function $e(nt,_t){var fr=w(nt,_t);qo(nt,"bpmn:SubProcess")&&ge(nt,fr||_t),qo(nt,"bpmn:Activity")&&me(nt.ioSpecification,_t),f.push(function(){I(nt.dataInputAssociations,g(Q,_t)),I(nt.dataOutputAssociations,g(Q,_t))})}function He(nt,_t){w(nt,_t)}function Ve(nt,_t){f.push(function(){var fr=w(nt,_t);nt.childLaneSet&&Xe(nt.childLaneSet,fr||_t),function(Yn){I(Yn.flowNodeRef,function(Zn){var wr=Zn.get("lanes");wr&&wr.push(Yn)})}(nt)})}function Xe(nt,_t){I(nt.lanes,g(Ve,_t))}function Mn(nt,_t){(function(fr,Yn){I(fr,function(Zn){qo(Zn,"bpmn:SequenceFlow")?f.push(function(){(function(wr,Yi){w(wr,Yi)})(Zn,Yn)}):qo(Zn,"bpmn:BoundaryEvent")?f.unshift(function(){$e(Zn,Yn)}):qo(Zn,"bpmn:FlowNode")?$e(Zn,Yn):qo(Zn,"bpmn:DataObject")||(qo(Zn,"bpmn:DataStoreReference")||qo(Zn,"bpmn:DataObjectReference")?He(Zn,Yn):S(l("unrecognized flowElement {element} in context {context}",{element:ys(Zn),context:Yn?ys(Yn.businessObject):"null"}),{element:Zn,context:Yn}))})})(nt.flowElements,_t),nt.laneSets&&function(fr,Yn){I(fr,g(Xe,Yn))}(nt.laneSets,_t)}function zt(nt,_t){var fr=w(nt,_t),Yn=nt.processRef;Yn&&z(Yn,fr||_t)}}function ie(s,l){var d=Ft(s);return d&&typeof d.$instanceOf=="function"&&d.$instanceOf(l)}function Sr(s,l){return ae(l,function(d){return ie(s,d)})}function Ft(s){return s&&s.businessObject||s}function Qr(s){return s&&s.di}function Fg(s,l,d){var f,p,g,b,w=[];function S(O,M){var A=new Ni({root:function(H,Q){return f.add(H,Q)},element:function(H,Q,re){return f.add(H,Q,re)},error:function(H,Q){w.push({message:H,context:Q})}},g);M=M||O.diagrams&&O.diagrams[0];var L=function(H,Q){if(Q){var re,X=Q.plane.bpmnElement,K=X;ie(X,"bpmn:Process")||ie(X,"bpmn:Collaboration")||(K=function(He){for(var Ve=He;Ve;){if(ie(Ve,"bpmn:Process"))return Ve;Ve=Ve.$parent}}(X)),re=ie(K,"bpmn:Collaboration")?K:$(H.rootElements,function(He){if(ie(He,"bpmn:Collaboration"))return $(He.participants,function(Ve){return Ve.processRef===K})});var ue=[K];re&&(ue=Te(re.participants,function(He){return He.processRef})).push(re);var me=Ub(ue),ge=[Q],$e=[X];return I(H.diagrams,function(He){var Ve=He.plane.bpmnElement;me.indexOf(Ve)!==-1&&$e.indexOf(Ve)===-1&&(ge.push(He),$e.push(Ve))}),ge}}(O,M);if(!L)throw new Error(g("no diagram to display"));I(L,function(H){A.handleDefinitions(O,H)});var z=M.plane.bpmnElement.id;b.setRootElement(b.findRoot(z+"_plane")||b.findRoot(z))}return new Promise(function(O,M){try{return f=s.get("bpmnImporter"),p=s.get("eventBus"),g=s.get("translate"),b=s.get("canvas"),p.fire("import.render.start",{definitions:l}),S(l,d),p.fire("import.render.complete",{error:void 0,warnings:w}),O({warnings:w})}catch(A){return A.warnings=w,M(A)}})}function Ub(s){var l=[];return I(s,function(d){d&&(l.push(d),l=l.concat(Ub(d.flowElements)))}),l}var qu,Gb='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',Ds={verticalAlign:"middle"},ip={color:"#404040"},Yb={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},pe={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Za={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},vm='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+Gb+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function ml(){qu||(mn(qu=_r(vm),Yb),mn(mr("svg",qu),Ds),mn(mr(".backdrop",qu),pe),mn(mr(".notice",qu),Za),mn(mr(".link",qu),ip,{margin:"15px 20px 15px 10px",alignSelf:"center"}),fi.bind(qu,".backdrop","click",function(s){document.body.removeChild(qu)})),document.body.appendChild(qu)}function jn(s){s=ve({},HE,s),this._moddle=this._createModdle(s),this._container=this._createContainer(s),function(l){const d=_r('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+Gb+"</a>");mn(mr("svg",d),Ds),mn(d,ip,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),l.appendChild(d),Xt.bind(d,"click",function(f){ml(),f.preventDefault()})}(this._container),this._init(this._container,this._moddle,s)}function $g(s,l){return s.warnings=l,s}t(jn,Df),jn.prototype.importXML=async function(s,l){const d=this;let f=[];try{let g;s=this._emit("import.parse.start",{xml:s})||s;try{g=await this._moddle.fromXML(s,"bpmn:Definitions")}catch(A){throw this._emit("import.parse.complete",{error:A}),A}let b=g.rootElement;const w=g.references,S=g.warnings,O=g.elementsById;f=f.concat(S),b=this._emit("import.parse.complete",(p={error:null,definitions:b,elementsById:O,references:w,warnings:f},d.get("eventBus").createEvent(p)))||b;const M=await this.importDefinitions(b,l);return f=f.concat(M.warnings),this._emit("import.done",{error:null,warnings:f}),{warnings:f}}catch(g){let b=g;throw f=f.concat(b.warnings||[]),$g(b,f),b=function(w){const S=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(w.message);return S&&(w.message="unparsable content <"+S[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+S[2]),w}(b),this._emit("import.done",{error:b,warnings:b.warnings}),b}var p},jn.prototype.importDefinitions=async function(s,l){return this._setDefinitions(s),{warnings:(await this.open(l)).warnings}},jn.prototype.open=async function(s){const l=this._definitions;let d=s;if(!l){const p=new Error("no XML imported");throw $g(p,[]),p}if(typeof s=="string"&&(d=function(p,g){return g&&$(p.diagrams,function(b){return b.id===g})||null}(l,s),!d)){const p=new Error("BPMNDiagram <"+s+"> not found");throw $g(p,[]),p}try{this.clear()}catch(p){throw $g(p,[]),p}const{warnings:f}=await Fg(this,l,d);return{warnings:f}},jn.prototype.saveXML=async function(s){s=s||{};let l,d,f=this._definitions;try{if(!f)throw new Error("no definitions loaded");f=this._emit("saveXML.start",{definitions:f})||f,d=(await this._moddle.toXML(f,s)).xml,d=this._emit("saveXML.serialized",{xml:d})||d}catch(g){l=g}const p=l?{error:l}:{xml:d};if(this._emit("saveXML.done",p),l)throw l;return p},jn.prototype.saveSVG=async function(){let s,l;this._emit("saveSVG.start");try{const d=this.get("canvas"),f=d.getActiveLayer(),p=mr("defs",d._svg),g=Lu(f),b=p?"<defs>"+Lu(p)+"</defs>":"",w=f.getBBox();s=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+w.width+'" height="'+w.height+'" viewBox="'+w.x+" "+w.y+" "+w.width+" "+w.height+'" version="1.1">'+b+g+"</svg>"}catch(d){l=d}if(this._emit("saveSVG.done",{error:l,svg:s}),l)throw l;return{svg:s}},jn.prototype._setDefinitions=function(s){this._definitions=s},jn.prototype.getModules=function(){return this._modules},jn.prototype.clear=function(){this.getDefinitions()&&Df.prototype.clear.call(this)},jn.prototype.destroy=function(){Df.prototype.destroy.call(this),Di(this._container)},jn.prototype.on=function(s,l,d,f){return this.get("eventBus").on(s,l,d,f)},jn.prototype.off=function(s,l){this.get("eventBus").off(s,l)},jn.prototype.attachTo=function(s){if(!s)throw new Error("parentNode required");this.detach(),s.get&&s.constructor.prototype.jquery&&(s=s.get(0)),typeof s=="string"&&(s=mr(s)),s.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},jn.prototype.getDefinitions=function(){return this._definitions},jn.prototype.detach=function(){const s=this._container,l=s.parentNode;l&&(this._emit("detach",{}),l.removeChild(s))},jn.prototype._init=function(s,l,d){const f=d.modules||this.getModules(d),p=d.additionalModules||[],g=[].concat([{bpmnjs:["value",this],moddle:["value",l]}],f,p),b=ve(gt(d,["additionalModules"]),{canvas:ve({},d.canvas,{container:s}),modules:g});Df.call(this,b),d&&d.container&&this.attachTo(d.container)},jn.prototype._emit=function(s,l){return this.get("eventBus").fire(s,l)},jn.prototype._createContainer=function(s){const l=_r('<div class="bjs-container"></div>');return mn(l,{width:Qb(s.width),height:Qb(s.height),position:s.position}),l},jn.prototype._createModdle=function(s){return new zE(ve({},this._moddleExtensions,s.moddleExtensions))},jn.prototype._modules=[];const HE={width:"100%",height:"100%",position:"relative"};function Qb(s){return s+(k(s)?"px":"")}function wc(s){jn.call(this,s),this.on("import.parse.complete",function(l){l.error||this._collectIds(l.definitions,l.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}function Dr(s,l){return!ie(s,"bpmn:CallActivity")&&(ie(s,"bpmn:SubProcess")?!(!(l=l||Qr(s))||!ie(l,"bpmndi:BPMNPlane"))||l&&!!l.isExpanded:!ie(s,"bpmn:Participant")||!!Ft(s).processRef)}function go(s){if(ie(s,"bpmn:Participant")||ie(s,"bpmn:Lane")){var l=Qr(s).isHorizontal;return l===void 0||l}}function vs(s){return s&&!!Ft(s).triggeredByEvent}function bm(s,l){return ae(Ft(s).eventDefinitions,function(d){return ie(d,l)})}t(wc,jn),wc.prototype._createModdle=function(s){var l=jn.prototype._createModdle.call(this,s);return l.ids=new i([32,36,1]),l},wc.prototype._collectIds=function(s,l){var d,f=s.$model.ids;for(d in f.clear(),l)f.claim(d,l[d])};var op={width:90,height:20},Oa=15;function jf(s){return ie(s,"bpmn:Event")||ie(s,"bpmn:Gateway")||ie(s,"bpmn:DataStoreReference")||ie(s,"bpmn:DataObjectReference")||ie(s,"bpmn:DataInput")||ie(s,"bpmn:DataOutput")||ie(s,"bpmn:SequenceFlow")||ie(s,"bpmn:MessageFlow")||ie(s,"bpmn:Group")}function Bg(s){return jr(s.label)}function WE(s){var l=s.length/2-1,d=s[Math.floor(l)],f=s[Math.ceil(l+.01)],p=function(S){var O=S.length/2-1,M=S[Math.floor(O)],A=S[Math.ceil(O+.01)];return{x:M.x+(A.x-M.x)/2,y:M.y+(A.y-M.y)/2}}(s),g=Math.atan((f.y-d.y)/(f.x-d.x)),b=p.x,w=p.y;return Math.abs(g)<Math.PI/2?w-=Oa:b+=Oa,{x:b,y:w}}function jg(s){return s.waypoints?WE(s.waypoints):ie(s,"bpmn:Group")?{x:s.x+s.width/2,y:s.y+op.height/2}:{x:s.x+s.width/2,y:s.y+s.height+op.height/2}}function ru(s){return ie(s,"bpmn:FlowElement")||ie(s,"bpmn:Participant")||ie(s,"bpmn:Lane")||ie(s,"bpmn:SequenceFlow")||ie(s,"bpmn:MessageFlow")||ie(s,"bpmn:DataInput")||ie(s,"bpmn:DataOutput")?"name":ie(s,"bpmn:TextAnnotation")?"text":ie(s,"bpmn:Group")?"categoryValueRef":void 0}function Ii(s){var l=s.businessObject,d=ru(l);if(d)return d==="categoryValueRef"?function(f){var p=f.categoryValueRef;return p&&p.value||""}(l):l[d]||""}var xm="hsl(225, 10%, 15%)",Vg="white";function _c(s,l){return ae(s.eventDefinitions,function(d){return d.$type===l})}function zn(s,l,d){var f=Qr(s);return d||f.get("color:background-color")||f.get("bioc:fill")||l||Vg}function on(s,l,d){var f=Qr(s);return d||f.get("color:border-color")||f.get("bioc:stroke")||l||xm}function Ec(s,l,d,f){var p=Qr(s).get("label");return f||p&&p.get("color:color")||l||on(s,d)}function wm(s,l={}){return{width:gl(s,l),height:Oo(s,l)}}function gl(s,l={}){return F(l,"width")?l.width:s.width}function Oo(s,l={}){return F(l,"height")?l.height:s.height}var qE=new i,Vf=.95;function zf(s,l,d,f,p,g,b){es.call(this,l,b);var w=s&&s.defaultFillColor,S=s&&s.defaultStrokeColor,O=s&&s.defaultLabelColor,M=qE.next(),A={};function L(ke){return d.computeStyle(ke,{strokeLinecap:"round",strokeLinejoin:"round",stroke:xm,strokeWidth:2,fill:"white"})}function z(ke){return d.computeStyle(ke,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:xm,strokeWidth:2})}function H(ke,ee){var{ref:ce={x:0,y:0},scale:Ge=1,element:lt}=ee,cn=Rt("marker",{id:ke,viewBox:"0 0 20 20",refX:ce.x,refY:ce.y,markerWidth:20*Ge,markerHeight:20*Ge,orient:"auto"});ct(cn,lt);var hr=mr("defs",p._svg);hr||(hr=Rt("defs"),ct(p._svg,hr)),ct(hr,cn),A[ke]=cn}function Q(ke){return ke.replace(/[^0-9a-zA-Z]+/g,"_")}function re(ke,ee,ce){var Ge=ke+"-"+Q(ee)+"-"+Q(ce)+"-"+M;return A[Ge]||function(lt,cn,hr,Xr){cn==="sequenceflow-end"&&H(lt,{element:Rt("path",{d:"M 1 5 L 11 10 L 1 15 Z",...L({fill:Xr,stroke:Xr,strokeWidth:1})}),ref:{x:11,y:10},scale:.5}),cn==="messageflow-start"&&H(lt,{element:Rt("circle",{cx:6,cy:6,r:3.5,...L({fill:hr,stroke:Xr,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6}}),cn==="messageflow-end"&&H(lt,{element:Rt("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...L({fill:hr,stroke:Xr,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5}}),cn==="association-start"&&H(lt,{element:Rt("path",{d:"M 11 5 L 1 10 L 11 15",...z({fill:"none",stroke:Xr,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5}),cn==="association-end"&&H(lt,{element:Rt("path",{d:"M 1 5 L 11 10 L 1 15",...z({fill:"none",stroke:Xr,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5}),cn==="conditional-flow-marker"&&H(lt,{element:Rt("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...L({fill:hr,stroke:Xr})}),ref:{x:-1,y:10},scale:.5}),cn==="conditional-default-flow-marker"&&H(lt,{element:Rt("path",{d:"M 6 4 L 10 16",...L({stroke:Xr})}),ref:{x:0,y:10},scale:.5})}(Ge,ke,ee,ce),"url(#"+Ge+")"}function X(ke,ee,ce,Ge,lt={}){_(Ge)&&(lt=Ge,Ge=0),Ge=Ge||0,lt=L(lt);var cn=Rt("circle",{cx:ee/2,cy:ce/2,r:Math.round((ee+ce)/4-Ge),...lt});return ct(ke,cn),cn}function K(ke,ee,ce,Ge,lt,cn){_(lt)&&(cn=lt,lt=0),lt=lt||0,cn=L(cn);var hr=Rt("rect",{x:lt,y:lt,width:ee-2*lt,height:ce-2*lt,rx:Ge,ry:Ge,...cn});return ct(ke,hr),hr}function ue(ke,ee,ce,Ge){var lt=im(ee,ce=z(ce),Ge);return ct(ke,lt),lt}function me(ke,ee,ce){return ue(ke,ee,ce,5)}function ge(ke,ee,ce){ce=z(ce);var Ge=Rt("path",{...ce,d:ee});return ct(ke,Ge),Ge}function $e(ke,ee,ce,Ge){return ge(ee,ce,ve({"data-marker":ke},Ge))}function He(ke){return Qo[ke]}function Ve(ke){return function(ee,ce,Ge){return He(ke)(ee,ce,Ge)}}var Xe=function(ke,ee,ce={},Ge){return ge(ke,f.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.235,my:.315}}),{fill:Ge?on(ee,S,ce.stroke):zn(ee,w,ce.fill),stroke:Ge?zn(ee,w,ce.fill):on(ee,S,ce.stroke),strokeWidth:1})},Mn=function(ke,ee,ce={}){var Ge=X(ke,ee.width,ee.height,.2*ee.height,{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:2});ge(ke,f.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.5,my:.5}}),{stroke:on(ee,S,ce.stroke),strokeWidth:2});for(var lt=0;lt<12;lt++){var cn=f.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.5,my:.5}}),hr=ee.width/2,Xr=ee.height/2;ge(ke,cn,{strokeWidth:1,stroke:on(ee,S,ce.stroke),transform:"rotate("+30*lt+","+Xr+","+hr+")"})}return Ge},zt=function(ke,ee,ce={},Ge){return ge(ke,f.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.5,my:.2}}),{fill:Ge?on(ee,S,ce.stroke):zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1})},nt=function(ke,ee,ce={}){return ge(ke,f.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.5,my:.222}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1})},_t=function(ke,ee,ce={},Ge){return ge(ke,f.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.57,my:.263}}),{fill:Ge?on(ee,S,ce.stroke):zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1})},fr=function(ke,ee,ce={},Ge){return ge(ke,f.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.2,my:.722}}),{fill:Ge?on(ee,S,ce.stroke):zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1})},Yn=function(ke,ee,ce={},Ge){var lt=ge(ke,f.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.638,my:-.055}}),{fill:Ge?on(ee,S,ce.stroke):"none",stroke:on(ee,S,ce.stroke),strokeWidth:1});return Ng(lt,45),lt},Zn=function(ke,ee,ce={},Ge){return ge(ke,f.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.22,my:.5}}),{fill:Ge?on(ee,S,ce.stroke):zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1})},wr=function(ke,ee,ce={},Ge){return ge(ke,f.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:Ge?on(ee,S,ce.stroke):zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)})},Yi=function(ke,ee,ce={},Ge){return ge(ke,f.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.222,my:.36}}),{fill:Ge?on(ee,S,ce.stroke):zn(ee,w,ce.fill),strokeWidth:1})},Fi=function(ke,ee,ce={}){return ge(ke,f.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.458,my:.194}}),{fill:on(ee,S,ce.stroke),stroke:on(ee,S,ce.stroke),strokeWidth:1})},eo=function(ke,ee,ce={}){return X(ke,ee.width,ee.height,8,{fill:on(ee,S,ce.stroke),stroke:on(ee,S,ce.stroke),strokeWidth:4})};function mi(ke,ee,ce={}){var Ge=Ft(ke),lt=function(cn){return cn.$type==="bpmn:IntermediateThrowEvent"||cn.$type==="bpmn:EndEvent"}(Ge);return Ge.get("eventDefinitions")&&Ge.get("eventDefinitions").length>1?Ge.get("parallelMultiple")?Fi(ee,ke,ce):Yi(ee,ke,ce,lt):_c(Ge,"bpmn:MessageEventDefinition")?Xe(ee,ke,ce,lt):_c(Ge,"bpmn:TimerEventDefinition")?Mn(ee,ke,ce):_c(Ge,"bpmn:ConditionalEventDefinition")?nt(ee,ke,ce):_c(Ge,"bpmn:SignalEventDefinition")?wr(ee,ke,ce,lt):_c(Ge,"bpmn:EscalationEventDefinition")?zt(ee,ke,ce,lt):_c(Ge,"bpmn:LinkEventDefinition")?_t(ee,ke,ce,lt):_c(Ge,"bpmn:ErrorEventDefinition")?fr(ee,ke,ce,lt):_c(Ge,"bpmn:CancelEventDefinition")?Yn(ee,ke,ce,lt):_c(Ge,"bpmn:CompensateEventDefinition")?Zn(ee,ke,ce,lt):_c(Ge,"bpmn:TerminateEventDefinition")?eo(ee,ke,ce):null}var ni={ParticipantMultiplicityMarker:function(ke,ee,ce={}){var Ge=gl(ee,ce),lt=Oo(ee,ce);$e("participant-multiplicity",ke,f.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ge,containerHeight:lt,position:{mx:(Ge/2-6)/Ge,my:(lt-15)/lt}}),{strokeWidth:2,fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)})},SubProcessMarker:function(ke,ee,ce={}){ps(K(ke,14,14,0,{strokeWidth:1,fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)}),ee.width/2-7.5,ee.height-20),$e("sub-process",ke,f.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:ee.width,containerHeight:ee.height,position:{mx:(ee.width/2-7.5)/ee.width,my:(ee.height-20)/ee.height}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)})},ParallelMarker:function(ke,ee,ce){var Ge=gl(ee,ce),lt=Oo(ee,ce);$e("parallel",ke,f.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ge,containerHeight:lt,position:{mx:(Ge/2+ce.parallel)/Ge,my:(lt-20)/lt}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)})},SequentialMarker:function(ke,ee,ce){$e("sequential",ke,f.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:(ee.width/2+ce.seq)/ee.width,my:(ee.height-19)/ee.height}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)})},CompensationMarker:function(ke,ee,ce){$e("compensation",ke,f.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:(ee.width/2+ce.compensation)/ee.width,my:(ee.height-13)/ee.height}}),{strokeWidth:1,fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)})},LoopMarker:function(ke,ee,ce){var Ge=gl(ee,ce),lt=Oo(ee,ce);$e("loop",ke,f.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ge,containerHeight:lt,position:{mx:(Ge/2+ce.loop)/Ge,my:(lt-7)/lt}}),{strokeWidth:1.5,fill:"none",stroke:on(ee,S,ce.stroke),strokeMiterlimit:.5})},AdhocMarker:function(ke,ee,ce){var Ge=gl(ee,ce),lt=Oo(ee,ce);$e("adhoc",ke,f.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ge,containerHeight:lt,position:{mx:(Ge/2+ce.adhoc)/Ge,my:(lt-15)/lt}}),{strokeWidth:1,fill:on(ee,S,ce.stroke),stroke:on(ee,S,ce.stroke)})}};function gn(ke,ee,ce,Ge){ni[ke](ee,ce,Ge)}function oo(ke,ee,ce,Ge={}){Ge={fill:Ge.fill,stroke:Ge.stroke,width:gl(ee,Ge),height:Oo(ee,Ge)};var lt=Ft(ee),cn=ce&&ce.includes("SubProcessMarker");Ge=cn?{...Ge,seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{...Ge,seq:-5,parallel:-6,compensation:-27,loop:0,adhoc:10},I(ce,function(Ko){gn(Ko,ke,ee,Ge)}),lt.get("isForCompensation")&&gn("CompensationMarker",ke,ee,Ge),ie(lt,"bpmn:AdHocSubProcess")&&gn("AdhocMarker",ke,ee,Ge);var hr=lt.get("loopCharacteristics"),Xr=hr&&hr.get("isSequential");hr&&(Xr===void 0&&gn("LoopMarker",ke,ee,Ge),Xr===!1&&gn("ParallelMarker",ke,ee,Ge),Xr===!0&&gn("SequentialMarker",ke,ee,Ge))}function Ri(ke,ee,ce={}){ce=ve({size:{width:100}},ce);var Ge=g.createText(ee||"",ce);return fe(Ge).add("djs-label"),ct(ke,Ge),Ge}function Zu(ke,ee,ce,Ge={}){var lt=Ft(ee),cn=wm({x:ee.x,y:ee.y,width:ee.width,height:ee.height},Ge);return Ri(ke,lt.name,{align:ce,box:cn,padding:7,style:{fill:Ec(ee,O,S,Ge.stroke)}})}function Rc(ke,ee,ce,Ge={}){var lt=go(ce),cn=Ri(ke,ee,{box:{height:30,width:lt?Oo(ce,Ge):gl(ce,Ge)},align:"center-middle",style:{fill:Ec(ce,O,S,Ge.stroke)}});lt&&Vu(cn,0,-(-1*Oo(ce,Ge)),270)}function so(ke,ee,ce={}){var{width:Ge,height:lt}=wm(ee,ce);return K(ke,Ge,lt,10,{...ce,fill:zn(ee,w,ce.fill),fillOpacity:Vf,stroke:on(ee,S,ce.stroke)})}function ki(ke,ee,ce={}){var Ge=Ft(ee),lt=zn(ee,w,ce.fill),cn=on(ee,S,ce.stroke);return Ge.get("associationDirection")!=="One"&&Ge.get("associationDirection")!=="Both"||(ce.markerEnd=re("association-end",lt,cn)),Ge.get("associationDirection")==="Both"&&(ce.markerStart=re("association-start",lt,cn)),ce=$r(ce,["markerStart","markerEnd"]),me(ke,ee.waypoints,{...ce,stroke:cn,strokeDasharray:"0, 5"})}function xi(ke,ee,ce={}){var Ge=zn(ee,w,ce.fill),lt=on(ee,S,ce.stroke),cn=ge(ke,f.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.474,my:.296}}),{fill:Ge,fillOpacity:Vf,stroke:lt});return function(hr){var Xr=hr.dataObjectRef;return hr.isCollection||Xr&&Xr.isCollection}(Ft(ee))&&ge(ke,f.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.33,my:(ee.height-18)/ee.height}}),{strokeWidth:2,fill:Ge,stroke:lt}),cn}function ao(ke,ee,ce={}){return X(ke,ee.width,ee.height,{fillOpacity:Vf,...ce,fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)})}function to(ke,ee,ce={}){return function(Ge,lt,cn,hr){var Xr=lt/2,Ko=cn/2,i1=[{x:Xr,y:0},{x:lt,y:Ko},{x:Xr,y:cn},{x:0,y:Ko}].map(function(nw){return nw.x+","+nw.y}).join(" ");hr=L(hr);var Ju=Rt("polygon",{...hr,points:i1});return ct(Ge,Ju),Ju}(ke,ee.width,ee.height,{fill:zn(ee,w,ce.fill),fillOpacity:Vf,stroke:on(ee,S,ce.stroke)})}function $i(ke,ee,ce={}){var Ge=K(ke,gl(ee,ce),Oo(ee,ce),0,{fill:zn(ee,w,ce.fill),fillOpacity:ce.fillOpacity||Vf,stroke:on(ee,S,ce.stroke),strokeWidth:1.5}),lt=Ft(ee);return ie(lt,"bpmn:Lane")&&Rc(ke,lt.get("name"),ee,ce),Ge}function Yo(ke,ee,ce={}){var Ge=so(ke,ee,ce);vs(ee)&&Ct(Ge,{strokeDasharray:"0, 5.5",strokeWidth:2.5});var lt=Dr(ee);return Zu(ke,ee,lt?"center-top":"center-middle",ce),oo(ke,ee,lt?void 0:["SubProcessMarker"],ce),Ge}function Vr(ke,ee,ce={}){var Ge=so(ke,ee,ce);return Zu(ke,ee,"center-middle",ce),oo(ke,ee,void 0,ce),Ge}var Qo=this.handlers={"bpmn:AdHocSubProcess":function(ke,ee,ce={}){return Yo(ke,ee,ce=Dr(ee)?$r(ce,["fill","stroke","width","height"]):$r(ce,["fill","stroke"]))},"bpmn:Association":function(ke,ee,ce={}){return ki(ke,ee,ce=$r(ce,["fill","stroke"]))},"bpmn:BoundaryEvent":function(ke,ee,ce={}){var{renderIcon:Ge=!0}=ce;ce=$r(ce,["fill","stroke"]);var lt=Ft(ee).get("cancelActivity");ce={strokeWidth:1.5,fill:zn(ee,w,ce.fill),fillOpacity:1,stroke:on(ee,S,ce.stroke)},lt||(ce.strokeDasharray="6");var cn=ao(ke,ee,ce);return X(ke,ee.width,ee.height,3,{...ce,fill:"none"}),Ge&&mi(ee,ke,ce),cn},"bpmn:BusinessRuleTask":function(ke,ee,ce={}){var Ge=Vr(ke,ee,ce=$r(ce,["fill","stroke"]));return Ct(ge(ke,f.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1}),Ct(ge(ke,f.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{fill:on(ee,S,ce.stroke),stroke:on(ee,S,ce.stroke),strokeWidth:1}),Ge},"bpmn:CallActivity":function(ke,ee,ce={}){return ce=$r(ce,["fill","stroke"]),Yo(ke,ee,{strokeWidth:5,...ce})},"bpmn:ComplexGateway":function(ke,ee,ce={}){var Ge=to(ke,ee,ce=$r(ce,["fill","stroke"]));return ge(ke,f.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.46,my:.26}}),{fill:on(ee,S,ce.stroke),stroke:on(ee,S,ce.stroke),strokeWidth:1}),Ge},"bpmn:DataInput":function(ke,ee,ce={}){ce=$r(ce,["fill","stroke"]);var Ge=f.getRawPath("DATA_ARROW"),lt=xi(ke,ee,ce);return ge(ke,Ge,{fill:"none",stroke:on(ee,S,ce.stroke),strokeWidth:1}),lt},"bpmn:DataInputAssociation":function(ke,ee,ce={}){return ce=$r(ce,["fill","stroke"]),ki(ke,ee,{...ce,markerEnd:re("association-end",zn(ee,w,ce.fill),on(ee,S,ce.stroke))})},"bpmn:DataObject":function(ke,ee,ce={}){return xi(ke,ee,ce=$r(ce,["fill","stroke"]))},"bpmn:DataObjectReference":Ve("bpmn:DataObject"),"bpmn:DataOutput":function(ke,ee,ce={}){ce=$r(ce,["fill","stroke"]);var Ge=f.getRawPath("DATA_ARROW"),lt=xi(ke,ee,ce);return ge(ke,Ge,{strokeWidth:1,fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke)}),lt},"bpmn:DataOutputAssociation":function(ke,ee,ce={}){return ce=$r(ce,["fill","stroke"]),ki(ke,ee,{...ce,markerEnd:re("association-end",zn(ee,w,ce.fill),on(ee,S,ce.stroke))})},"bpmn:DataStoreReference":function(ke,ee,ce={}){return ce=$r(ce,["fill","stroke"]),ge(ke,f.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:ee.width,containerHeight:ee.height,position:{mx:0,my:.133}}),{fill:zn(ee,w,ce.fill),fillOpacity:Vf,stroke:on(ee,S,ce.stroke),strokeWidth:2})},"bpmn:EndEvent":function(ke,ee,ce={}){var{renderIcon:Ge=!0}=ce;ce=$r(ce,["fill","stroke"]);var lt=ao(ke,ee,{...ce,strokeWidth:4});return Ge&&mi(ee,ke,ce),lt},"bpmn:EventBasedGateway":function(ke,ee,ce={}){ce=$r(ce,["fill","stroke"]);var Ge=Ft(ee),lt=to(ke,ee,ce);X(ke,ee.width,ee.height,.2*ee.height,{fill:zn(ee,"none",ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1});var cn=Ge.get("eventGatewayType"),hr=!!Ge.get("instantiate");if(cn==="Parallel"){var Xr=f.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.474,my:.296}});ge(ke,Xr,{fill:"none",stroke:on(ee,S,ce.stroke),strokeWidth:1})}else cn==="Exclusive"&&(hr||X(ke,ee.width,ee.height,.26*ee.height,{fill:"none",stroke:on(ee,S,ce.stroke),strokeWidth:1}),function(){var Ko=f.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.36,my:.44}});ge(ke,Ko,{fill:"none",stroke:on(ee,S,ce.stroke),strokeWidth:2})}());return lt},"bpmn:ExclusiveGateway":function(ke,ee,ce={}){var Ge=to(ke,ee,ce=$r(ce,["fill","stroke"])),lt=f.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.32,my:.3}});return Qr(ee).get("isMarkerVisible")&&ge(ke,lt,{fill:on(ee,S,ce.stroke),stroke:on(ee,S,ce.stroke),strokeWidth:1}),Ge},"bpmn:Gateway":function(ke,ee,ce={}){return to(ke,ee,ce=$r(ce,["fill","stroke"]))},"bpmn:Group":function(ke,ee,ce={}){return ce=$r(ce,["fill","stroke","width","height"]),K(ke,ee.width,ee.height,10,{stroke:on(ee,S,ce.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:gl(ee,ce),height:Oo(ee,ce)})},"bpmn:InclusiveGateway":function(ke,ee,ce={}){var Ge=to(ke,ee,ce=$r(ce,["fill","stroke"]));return X(ke,ee.width,ee.height,.24*ee.height,{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:2.5}),Ge},"bpmn:IntermediateEvent":function(ke,ee,ce={}){var{renderIcon:Ge=!0}=ce;ce=$r(ce,["fill","stroke"]);var lt=ao(ke,ee,{...ce,strokeWidth:1.5});return X(ke,ee.width,ee.height,3,{fill:"none",stroke:on(ee,S,ce.stroke),strokeWidth:1.5}),Ge&&mi(ee,ke,ce),lt},"bpmn:IntermediateCatchEvent":Ve("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":Ve("bpmn:IntermediateEvent"),"bpmn:Lane":function(ke,ee,ce={}){return ce=$r(ce,["fill","stroke","width","height"]),$i(ke,ee,{...ce,fillOpacity:.25})},"bpmn:ManualTask":function(ke,ee,ce={}){var Ge=Vr(ke,ee,ce=$r(ce,["fill","stroke"]));return ge(ke,f.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:.5}),Ge},"bpmn:MessageFlow":function(ke,ee,ce={}){ce=$r(ce,["fill","stroke"]);var Ge=Ft(ee),lt=Qr(ee),cn=zn(ee,w,ce.fill),hr=on(ee,S,ce.stroke),Xr=me(ke,ee.waypoints,{markerEnd:re("messageflow-end",cn,hr),markerStart:re("messageflow-start",cn,hr),stroke:hr,strokeDasharray:"10, 11",strokeWidth:1.5});if(Ge.get("messageRef")){var Ko=Xr.getPointAtLength(Xr.getTotalLength()/2),i1=f.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Ko.x,y:Ko.y}}),Ju={strokeWidth:1};lt.get("messageVisibleKind")==="initiating"?(Ju.fill=cn,Ju.stroke=hr):(Ju.fill=hr,Ju.stroke=cn);var nw=ge(ke,i1,Ju),VR=Ri(ke,Ge.get("messageRef").get("name"),{align:"center-top",fitBox:!0,style:{fill:hr}}),zR=nw.getBBox(),HR=VR.getBBox();Vu(VR,Ko.x-HR.width/2,Ko.y+zR.height/2+10,0)}return Xr},"bpmn:ParallelGateway":function(ke,ee,ce={}){var Ge=to(ke,ee,ce=$r(ce,["fill","stroke"]));return ge(ke,f.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:ee.width,containerHeight:ee.height,position:{mx:.46,my:.2}}),{fill:on(ee,S,ce.stroke),stroke:on(ee,S,ce.stroke),strokeWidth:1}),Ge},"bpmn:Participant":function(ke,ee,ce={}){var Ge=$i(ke,ee,ce=$r(ce,["fill","stroke","width","height"])),lt=Dr(ee),cn=go(ee),hr=Ft(ee),Xr=hr.get("name");if(lt)ue(ke,cn?[{x:30,y:0},{x:30,y:Oo(ee,ce)}]:[{x:0,y:30},{x:gl(ee,ce),y:30}],{stroke:on(ee,S,ce.stroke),strokeWidth:1.5}),Rc(ke,Xr,ee,ce);else{var Ko=wm(ee,ce);cn||(Ko.height=gl(ee,ce),Ko.width=Oo(ee,ce));var i1=Ri(ke,Xr,{box:Ko,align:"center-middle",style:{fill:Ec(ee,O,S,ce.stroke)}});cn||Vu(i1,0,-(-1*Oo(ee,ce)),270)}return hr.get("participantMultiplicity")&&gn("ParticipantMultiplicityMarker",ke,ee,ce),Ge},"bpmn:ReceiveTask":function(ke,ee,ce={}){ce=$r(ce,["fill","stroke"]);var Ge,lt=Ft(ee),cn=Vr(ke,ee,ce);return lt.get("instantiate")?(X(ke,28,28,4.4,{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1}),Ge=f.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):Ge=f.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),ge(ke,Ge,{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1}),cn},"bpmn:ScriptTask":function(ke,ee,ce={}){var Ge=Vr(ke,ee,ce=$r(ce,["fill","stroke"]));return ge(ke,f.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1}),Ge},"bpmn:SendTask":function(ke,ee,ce={}){var Ge=Vr(ke,ee,ce=$r(ce,["fill","stroke"]));return ge(ke,f.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{fill:on(ee,S,ce.stroke),stroke:zn(ee,w,ce.fill),strokeWidth:1}),Ge},"bpmn:SequenceFlow":function(ke,ee,ce={}){ce=$r(ce,["fill","stroke"]);var Ge=zn(ee,w,ce.fill),lt=on(ee,S,ce.stroke),cn=me(ke,ee.waypoints,{markerEnd:re("sequenceflow-end",Ge,lt),stroke:lt}),hr=Ft(ee),{source:Xr}=ee;if(Xr){var Ko=Ft(Xr);hr.get("conditionExpression")&&ie(Ko,"bpmn:Activity")&&Ct(cn,{markerStart:re("conditional-flow-marker",Ge,lt)}),Ko.get("default")&&(ie(Ko,"bpmn:Gateway")||ie(Ko,"bpmn:Activity"))&&Ko.get("default")===hr&&Ct(cn,{markerStart:re("conditional-default-flow-marker",Ge,lt)})}return cn},"bpmn:ServiceTask":function(ke,ee,ce={}){var Ge=Vr(ke,ee,ce=$r(ce,["fill","stroke"]));return X(ke,10,10,{fill:zn(ee,w,ce.fill),stroke:"none",transform:"translate(6, 6)"}),ge(ke,f.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1}),X(ke,10,10,{fill:zn(ee,w,ce.fill),stroke:"none",transform:"translate(11, 10)"}),ge(ke,f.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:1}),Ge},"bpmn:StartEvent":function(ke,ee,ce={}){var{renderIcon:Ge=!0}=ce;ce=$r(ce,["fill","stroke"]),Ft(ee).get("isInterrupting")||(ce={...ce,strokeDasharray:"6"});var lt=ao(ke,ee,ce);return Ge&&mi(ee,ke,ce),lt},"bpmn:SubProcess":function(ke,ee,ce={}){return Yo(ke,ee,ce=Dr(ee)?$r(ce,["fill","stroke","width","height"]):$r(ce,["fill","stroke"]))},"bpmn:Task":function(ke,ee,ce={}){return Vr(ke,ee,ce=$r(ce,["fill","stroke"]))},"bpmn:TextAnnotation":function(ke,ee,ce={}){ce=$r(ce,["fill","stroke","width","height"]);var{width:Ge,height:lt}=wm(ee,ce),cn=K(ke,Ge,lt,0,0,{fill:"none",stroke:"none"});return ge(ke,f.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ge,containerHeight:lt,position:{mx:0,my:0}}),{stroke:on(ee,S,ce.stroke)}),Ri(ke,Ft(ee).get("text")||"",{align:"left-top",box:wm(ee,ce),padding:7,style:{fill:Ec(ee,O,S,ce.stroke)}}),cn},"bpmn:Transaction":function(ke,ee,ce={}){ce=Dr(ee)?$r(ce,["fill","stroke","width","height"]):$r(ce,["fill","stroke"]);var Ge=Yo(ke,ee,{strokeWidth:1.5,...ce}),lt=d.style(["no-fill","no-events"],{stroke:on(ee,S,ce.stroke),strokeWidth:1.5});return Dr(ee)||(ce={}),K(ke,gl(ee,ce),Oo(ee,ce),7,3,lt),Ge},"bpmn:UserTask":function(ke,ee,ce={}){var Ge=Vr(ke,ee,ce=$r(ce,["fill","stroke"]));return ge(ke,f.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:.5}),ge(ke,f.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{fill:zn(ee,w,ce.fill),stroke:on(ee,S,ce.stroke),strokeWidth:.5}),ge(ke,f.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{fill:on(ee,S,ce.stroke),stroke:on(ee,S,ce.stroke),strokeWidth:.5}),Ge},label:function(ke,ee,ce={}){return function(Ge,lt,cn={}){var hr={width:90,height:30,x:lt.width/2+lt.x,y:lt.height/2+lt.y};return Ri(Ge,Ii(lt),{box:hr,fitBox:!0,style:ve({},g.getExternalStyle(),{fill:Ec(lt,O,S,cn.stroke)})})}(ke,ee,ce)}};this._drawPath=ge,this._renderer=He}function $r(s,l=[]){return l.reduce((d,f)=>(s[f]&&(d[f]=s[f]),d),{})}t(zf,es),zf.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],zf.prototype.canRender=function(s){return ie(s,"bpmn:BaseElement")},zf.prototype.drawShape=function(s,l,d={}){var{type:f}=l;return this._renderer(f)(s,l,d)},zf.prototype.drawConnection=function(s,l,d={}){var{type:f}=l;return this._renderer(f)(s,l,d)},zf.prototype.getShapePath=function(s){return ie(s,"bpmn:Event")?(d=(l=s).x+l.width/2,f=l.y+l.height/2,p=l.width/2,uc([["M",d,f],["m",0,-p],["a",p,p,0,1,1,0,2*p],["a",p,p,0,1,1,0,-2*p],["z"]])):ie(s,"bpmn:Activity")?function(g,b){var w=g.x,S=g.y,O=g.width,M=g.height;return uc([["M",w+b,S],["l",O-2*b,0],["a",b,b,0,0,1,b,b],["l",0,M-2*b],["a",b,b,0,0,1,-b,b],["l",2*b-O,0],["a",b,b,0,0,1,-b,-b],["l",0,2*b-M],["a",b,b,0,0,1,b,-b],["z"]])}(s,10):ie(s,"bpmn:Gateway")?function(g){var b=g.width/2,w=g.height/2;return uc([["M",g.x+b,g.y],["l",b,w],["l",-b,w],["l",-b,-w],["z"]])}(s):function(g){var b=g.x,w=g.y,S=g.width;return uc([["M",b,w],["l",S,0],["l",0,g.height],["l",-S,0],["z"]])}(s);var l,d,f,p};var Kb=0,Xb={width:150,height:50};function zg(s,l){var d;l.textContent=s;try{var f,p=s==="";return l.textContent=p?"dummy":s,f={width:(d=l.getBBox()).width+2*d.x,height:d.height},p&&(f.width=0),f}catch{return{width:0,height:0}}}function Zb(s,l,d){for(var f,p=s.shift(),g=p;;){if((f=zg(g,d)).width=g?f.width:0,g===" "||g===""||f.width<Math.round(l)||g.length<2)return UE(s,g,p,f);g=Ja(g,f.width,l)}}function UE(s,l,d,f){if(l.length<d.length){var p=d.slice(l.length).trim();s.unshift(p)}return{width:f.width,height:f.height,text:l}}var sp="";function Ja(s,l,d){var f=Math.max(s.length*(d/l),1),p=function(g,b){var w,S=g.split(/(\s|-|\u00AD)/g),O=[],M=0;if(S.length>1)for(;w=S.shift();){if(!(w.length+M<b)){w!=="-"&&w!==sp||O.pop();break}O.push(w),M+=w.length}var A=O[O.length-1];return A&&A===sp&&(O[O.length-1]="-"),O.join("")}(s,f);return p||(p=s.slice(0,Math.max(Math.round(f-1),1))),p}function Hf(s){this._config=ve({},{size:Xb,padding:Kb,style:{},align:"center-top"},s||{})}Hf.prototype.createText=function(s,l){return this.layoutText(s,l).element},Hf.prototype.getDimensions=function(s,l){return this.layoutText(s,l).dimensions},Hf.prototype.layoutText=function(s,l){var d=ve({},this._config.size,l.box),f=ve({},this._config.style,l.style),p=function(re){var X=re.split("-");return{horizontal:X[0]||"center",vertical:X[1]||"top"}}(l.align||this._config.align),g=function(re){return _(re)?ve({top:0,left:0,right:0,bottom:0},re):{top:re,left:re,right:re,bottom:re}}(l.padding!==void 0?l.padding:this._config.padding),b=l.fitBox||!1,w=function(re){if("fontSize"in re&&"lineHeight"in re)return re.lineHeight*parseInt(re.fontSize,10)}(f),S=s.split(/\u00AD?\r?\n/),O=[],M=d.width-g.left-g.right,A=Rt("text");for(Ct(A,{x:0,y:0}),Ct(A,f),ct(function(){var re=document.getElementById("helper-svg");return re||(Ct(re=Rt("svg"),{id:"helper-svg"}),mn(re,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(re)),re}(),A);S.length;)O.push(Zb(S,M,A));p.vertical==="middle"&&(g.top=g.bottom=0);var L=oe(O,function(re,X,K){return re+(w||X.height)},0)+g.top+g.bottom,z=oe(O,function(re,X,K){return X.width>re?X.width:re},0),H=g.top;p.vertical==="middle"&&(H+=(d.height-L)/2),H-=(w||O[0].height)/4;var Q=Rt("text");return Ct(Q,f),I(O,function(re){var X;switch(H+=w||re.height,p.horizontal){case"left":X=g.left;break;case"right":X=(b?z:M)-g.right-re.width;break;default:X=Math.max(((b?z:M)-re.width)/2+g.left,0)}var K=Rt("tspan");Ct(K,{x:X,y:H}),K.textContent=re.text,ct(Q,K)}),Ie(A),{dimensions:{width:z,height:L},element:Q}};function ap(s){var l=ve({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},s&&s.defaultStyle||{}),d=parseInt(l.fontSize,10)-1,f=ve({},l,{fontSize:d},s&&s.externalStyle||{}),p=new Hf({style:l});this.getExternalLabelBounds=function(g,b){var w=p.getDimensions(b,{box:{width:90,height:30},style:f});return{x:Math.round(g.x+g.width/2-w.width/2),y:Math.round(g.y),width:Math.ceil(w.width),height:Math.ceil(w.height)}},this.getTextAnnotationBounds=function(g,b){var w=p.getDimensions(b,{box:g,style:l,align:"left-top",padding:5});return{x:g.x,y:g.y,width:g.width,height:Math.max(30,Math.round(w.height))}},this.createText=function(g,b){return p.createText(g,b||{})},this.getDefaultStyle=function(){return l},this.getExternalStyle=function(){return f}}ap.$inject=["config.textRenderer"];var x=/\{([^{}]+)\}/g,C=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,P={__init__:["bpmnRenderer"],bpmnRenderer:["type",zf],textRenderer:["type",ap],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(s){return this.pathMap[s].d},this.getScaledPath=function(s,l){var d,f,p=this.pathMap[s];l.abspos?(d=l.abspos.x,f=l.abspos.y):(d=l.containerWidth*l.position.mx,f=l.containerHeight*l.position.my);var g={};if(l.position){for(var b=l.containerHeight/p.height*l.yScaleFactor,w=l.containerWidth/p.width*l.xScaleFactor,S=0;S<p.heightElements.length;S++)g["y"+S]=p.heightElements[S]*b;for(var O=0;O<p.widthElements.length;O++)g["x"+O]=p.widthElements[O]*w}var M,A,L=(M=p.d,A={mx:d,my:f,e:g},String(M).replace(x,function(z,H){return function(Q,re,X){var K=X;return re.replace(C,function(ue,me,ge,$e,He){me=me||$e,K&&(me in K&&(K=K[me]),typeof K=="function"&&He&&(K=K()))}),K=(K==null||K==X?Q:K)+""}(z,H,A)}));return L}}]},N={translate:["value",function(s,l){return l=l||{},s.replace(/{([^}]+)}/g,function(d,f){return l[f]||"{"+f+"}"})}]};function W(s,l,d){return ve({id:s.id,type:s.$type,businessObject:s,di:l},d)}function G(s,l,d){var f=s.waypoint;return!f||f.length<2?[Pn(l),Pn(d)]:f.map(function(p){return{x:p.x,y:p.y}})}function te(s,l,d,f){return new Error(s("element {element} referenced by {referenced}#{property} not yet drawn",{element:ys(d),referenced:ys(l),property:f}))}function de(s,l,d,f,p,g){this._eventBus=s,this._canvas=l,this._elementFactory=d,this._elementRegistry=f,this._translate=p,this._textRenderer=g}de.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],de.prototype.add=function(s,l,d){var f,p,g,b=this._translate;if(ie(l,"bpmndi:BPMNPlane")){var w=ie(s,"bpmn:SubProcess")?{id:s.id+"_plane"}:{};f=this._elementFactory.createRoot(W(s,l,w)),this._canvas.addRootElement(f)}else if(ie(l,"bpmndi:BPMNShape")){var S=!Dr(s,l),O=function(z){return ie(z,"bpmn:Group")}(s);p=d&&(d.hidden||d.collapsed);var M=l.bounds;f=this._elementFactory.createShape(W(s,l,{collapsed:S,hidden:p,x:Math.round(M.x),y:Math.round(M.y),width:Math.round(M.width),height:Math.round(M.height),isFrame:O})),ie(s,"bpmn:BoundaryEvent")&&this._attachBoundary(s,f),ie(s,"bpmn:Lane")&&(g=0),ie(s,"bpmn:DataStoreReference")&&(function(z,H){var Q=H.x,re=H.y;return Q>=z.x&&Q<=z.x+z.width&&re>=z.y&&re<=z.y+z.height}(d,Pn(M))||(d=this._canvas.findRoot(d))),this._canvas.addShape(f,d,g)}else{if(!ie(l,"bpmndi:BPMNEdge"))throw new Error(b("unknown di {di} for element {semantic}",{di:ys(l),semantic:ys(s)}));var A=this._getSource(s),L=this._getTarget(s);p=d&&(d.hidden||d.collapsed),f=this._elementFactory.createConnection(W(s,l,{hidden:p,source:A,target:L,waypoints:G(l,A,L)})),ie(s,"bpmn:DataAssociation")&&(d=this._canvas.findRoot(d)),this._canvas.addConnection(f,d,g)}return jf(s)&&Ii(f)&&this.addLabel(s,l,f),this._eventBus.fire("bpmnElement.added",{element:f}),f},de.prototype._attachBoundary=function(s,l){var d=this._translate,f=s.attachedToRef;if(!f)throw new Error(d("missing {semantic}#attachedToRef",{semantic:ys(s)}));var p=this._elementRegistry.get(f.id),g=p&&p.attachers;if(!p)throw te(d,s,f,"attachedToRef");l.host=p,g||(p.attachers=g=[]),g.indexOf(l)===-1&&g.push(l)},de.prototype.addLabel=function(s,l,d){var f,p,g;return f=function(b,w){var S,O,M,A=b.label;return A&&A.bounds?(M=A.bounds,O={width:Math.max(op.width,M.width),height:M.height},S={x:M.x+M.width/2,y:M.y+M.height/2}):(S=jg(w),O=op),ve({x:S.x-O.width/2,y:S.y-O.height/2},O)}(l,d),(p=Ii(d))&&(f=this._textRenderer.getExternalLabelBounds(f,p)),g=this._elementFactory.createLabel(W(s,l,{id:s.id+"_label",labelTarget:d,type:"label",hidden:d.hidden||!Ii(d),x:Math.round(f.x),y:Math.round(f.y),width:Math.round(f.width),height:Math.round(f.height)})),this._canvas.addShape(g,d.parent)},de.prototype._getConnectedElement=function(s,l){var d,f,p=s.$type,g=this._translate;if(f=s[l+"Ref"],l==="source"&&p==="bpmn:DataInputAssociation"&&(f=f&&f[0]),(l==="source"&&p==="bpmn:DataOutputAssociation"||l==="target"&&p==="bpmn:DataInputAssociation")&&(f=s.$parent),d=f&&this._getElement(f))return d;throw f?te(g,s,f,l+"Ref"):new Error(g("{semantic}#{side} Ref not specified",{semantic:ys(s),side:l}))},de.prototype._getSource=function(s){return this._getConnectedElement(s,"source")},de.prototype._getTarget=function(s){return this._getConnectedElement(s,"target")},de.prototype._getElement=function(s){return this._elementRegistry.get(s.id)};var xe={__depends__:[P,{__depends__:[N],bpmnImporter:["type",de]}]};function qe(s){s&&typeof s.stopPropagation=="function"&&s.stopPropagation()}function st(s){return s.originalEvent||s.srcEvent}function It(s){qe(s),qe(st(s))}function Ut(s){return s.pointers&&s.pointers.length&&(s=s.pointers[0]),s.touches&&s.touches.length&&(s=s.touches[0]),s?{x:s.clientX,y:s.clientY}:null}function Tn(){return/mac/i.test(navigator.platform)}function en(s,l){return(st(s)||s).button===l}function kn(s){return en(s,0)}function mt(s){var l=st(s)||s;return!!kn(s)&&(Tn()?l.metaKey:l.ctrlKey)}function et(s){var l=st(s)||s;return kn(s)&&l.shiftKey}function tt(s){return!0}function ft(s){return kn(s)||function(l){return en(l,1)}(s)}function ht(s,l,d){var f=this;function p(K,ue,me){var ge,$e;(function(He,Ve){var Xe=S[He]||kn;return!Xe(Ve)})(K,ue)||(me?$e=l.getGraphics(me):(ge=ue.delegateTarget||ue.target)&&($e=ge,me=l.get($e)),$e&&me&&s.fire(K,{element:me,gfx:$e,originalEvent:ue})===!1&&(ue.stopPropagation(),ue.preventDefault()))}var g={};function b(K){return g[K]}var w={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},S={"element.contextmenu":tt,"element.mousedown":ft,"element.mouseup":ft,"element.click":ft,"element.dblclick":ft},O="svg, .djs-element";function M(K,ue,me,ge){var $e=g[me]=function(He){p(me,He)};ge&&(S[me]=ge),$e.$delegate=fi.bind(K,O,ue,$e)}function A(K,ue,me){var ge=b(me);ge&&fi.unbind(K,ue,ge.$delegate)}s.on("canvas.destroy",function(K){var ue;ue=K.svg,I(w,function(me,ge){A(ue,ge,me)})}),s.on("canvas.init",function(K){var ue;ue=K.svg,I(w,function(me,ge){M(ue,ge,me)})}),s.on(["shape.added","connection.added"],function(K){var ue=K.element,me=K.gfx;s.fire("interactionEvents.createHit",{element:ue,gfx:me})}),s.on(["shape.changed","connection.changed"],500,function(K){var ue=K.element,me=K.gfx;s.fire("interactionEvents.updateHit",{element:ue,gfx:me})}),s.on("interactionEvents.createHit",500,function(K){var ue=K.element,me=K.gfx;f.createDefaultHit(ue,me)}),s.on("interactionEvents.updateHit",function(K){var ue=K.element,me=K.gfx;f.updateDefaultHit(ue,me)});var L=Q("djs-hit djs-hit-stroke"),z=Q("djs-hit djs-hit-click-stroke"),H={all:Q("djs-hit djs-hit-all"),"click-stroke":z,stroke:L,"no-move":Q("djs-hit djs-hit-no-move")};function Q(K,ue){return ue=ve({stroke:"white",strokeWidth:15},ue||{}),d.cls(K,["no-fill","no-border"],ue)}function re(K,ue){var me=H[ue];if(!me)throw new Error("invalid hit type <"+ue+">");return Ct(K,me),K}function X(K,ue){ct(K,ue)}this.removeHits=function(K){I(Er(".djs-hit",K),Ie)},this.createDefaultHit=function(K,ue){var me,ge=K.waypoints,$e=K.isFrame;return ge?this.createWaypointsHit(ue,ge):(me=$e?"stroke":"all",this.createBoxHit(ue,me,{width:K.width,height:K.height}))},this.createWaypointsHit=function(K,ue){var me=im(ue);return re(me,"stroke"),X(K,me),me},this.createBoxHit=function(K,ue,me){me=ve({x:0,y:0},me);var ge=Rt("rect");return re(ge,ue),Ct(ge,me),X(K,ge),ge},this.updateDefaultHit=function(K,ue){var me=mr(".djs-hit",ue);if(me)return K.waypoints?r0(me,K.waypoints):Ct(me,{width:K.width,height:K.height}),me},this.fire=p,this.triggerMouseEvent=function(K,ue,me){var ge=w[K];if(!ge)throw new Error("unmapped DOM event name <"+K+">");return p(ge,ue,me)},this.mouseHandler=b,this.registerEvent=M,this.unregisterEvent=A}ht.$inject=["eventBus","elementRegistry","styles"];var Lt={__init__:["interactionEvents"],interactionEvents:["type",ht]};function nn(s,l){this._eventBus=s,this.offset=5;var d=l.cls("djs-outline",["no-fill"]),f=this;function p(g){var b=Rt("rect");return Ct(b,ve({x:0,y:0,rx:4,width:100,height:100},d)),b}s.on(["shape.added","shape.changed"],500,function(g){var b=g.element,w=g.gfx,S=mr(".djs-outline",w);S||ct(w,S=f.getOutline(b)||p()),f.updateShapeOutline(S,b)}),s.on(["connection.added","connection.changed"],function(g){var b=g.element,w=g.gfx,S=mr(".djs-outline",w);S||ct(w,S=p()),f.updateConnectionOutline(S,b)})}nn.prototype.updateShapeOutline=function(s,l){var d=!1,f=this._getProviders();f.length&&I(f,function(p){d=d||p.updateOutline(l,s)}),d||Ct(s,{x:-this.offset,y:-this.offset,width:l.width+2*this.offset,height:l.height+2*this.offset})},nn.prototype.updateConnectionOutline=function(s,l){var d=So(l);Ct(s,{x:d.x-this.offset,y:d.y-this.offset,width:d.width+2*this.offset,height:d.height+2*this.offset})},nn.prototype.registerProvider=function(s,l){l||(l=s,s=1e3),this._eventBus.on("outline.getProviders",s,function(d){d.providers.push(l)})},nn.prototype._getProviders=function(){var s=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(s),s.providers},nn.prototype.getOutline=function(s){var l;return I(this._getProviders(),function(d){R(d.getOutline)&&(l=l||d.getOutline(s))}),l},nn.$inject=["eventBus","styles","elementRegistry"];var gr={__init__:["outline"],outline:["type",nn]};function $t(s,l){this._eventBus=s,this._canvas=l,this._selectedElements=[];var d=this;s.on(["shape.remove","connection.remove"],function(f){var p=f.element;d.deselect(p)}),s.on(["diagram.clear","root.set"],function(f){d.select(null)})}$t.$inject=["eventBus","canvas"],$t.prototype.deselect=function(s){var l=this._selectedElements,d=l.indexOf(s);if(d!==-1){var f=l.slice();l.splice(d,1),this._eventBus.fire("selection.changed",{oldSelection:f,newSelection:l})}},$t.prototype.get=function(){return this._selectedElements},$t.prototype.isSelected=function(s){return this._selectedElements.indexOf(s)!==-1},$t.prototype.select=function(s,l){var d=this._selectedElements,f=d.slice();v(s)||(s=s?[s]:[]);var p=this._canvas,g=p.getRootElement();s=s.filter(function(b){var w=p.findRoot(b);return g===w}),l?I(s,function(b){d.indexOf(b)===-1&&d.push(b)}):this._selectedElements=d=s.slice(),this._eventBus.fire("selection.changed",{oldSelection:f,newSelection:d})};var Un="hover",bs="selected";function xs(s,l,d){this._canvas=s;var f=this;function p(b,w){s.addMarker(b,w)}function g(b,w){s.removeMarker(b,w)}this._multiSelectionBox=null,l.on("element.hover",function(b){p(b.element,Un)}),l.on("element.out",function(b){g(b.element,Un)}),l.on("selection.changed",function(b){var w=b.oldSelection,S=b.newSelection;I(w,function(O){S.indexOf(O)===-1&&function(M){g(M,bs)}(O)}),I(S,function(O){w.indexOf(O)===-1&&function(M){p(M,bs)}(O)}),f._updateSelectionOutline(S)}),l.on("element.changed",function(b){d.isSelected(b.element)&&f._updateSelectionOutline(d.get())})}function Ot(s,l,d,f){s.on("create.end",500,function(p){var g=p.context,b=g.canExecute,w=g.elements,S=(g.hints||{}).autoSelect;if(b){if(S===!1)return;v(S)?l.select(S):l.select(w.filter(ln))}}),s.on("connect.end",500,function(p){var g=p.context.connection;g&&l.select(g)}),s.on("shape.move.end",500,function(p){var g=p.previousSelection||[],b=f.get(p.context.shape.id);$(g,function(w){return b.id===w.id})||l.select(b)}),s.on("element.click",function(p){if(kn(p)){var g=p.element;g===d.getRootElement()&&(g=null);var b=l.isSelected(g),w=l.get().length>1,S=mt(p)||et(p);if(b&&w)return S?l.deselect(g):l.select(g);b?l.deselect(g):l.select(g,S)}})}function ln(s){return!s.hidden}xs.$inject=["canvas","eventBus","selection"],xs.prototype._updateSelectionOutline=function(s){var l=this._canvas.getLayer("selectionOutline");pt(l);var d=s.length>1;if(fe(this._canvas.getContainer())[d?"add":"remove"]("djs-multi-select"),d){var f=function(g){return{x:g.x-6,y:g.y-6,width:g.width+12,height:g.height+12}}(So(s)),p=Rt("rect");Ct(p,ve({rx:3},f)),fe(p).add("djs-selection-outline"),ct(l,p)}},Ot.$inject=["eventBus","selection","canvas","elementRegistry"];var ur={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Lt,gr],selection:["type",$t],selectionVisuals:["type",xs],selectionBehavior:["type",Ot]};function tr(s){this._counter=0,this._prefix=(s?s+"-":"")+Math.floor(1e9*Math.random())+"-"}tr.prototype.next=function(){return this._prefix+ ++this._counter};var ai=new tr("ov");function yr(s,l,d,f){var p,g;this._eventBus=l,this._canvas=d,this._elementRegistry=f,this._ids=ai,this._overlayDefaults=ve({show:null,scale:!0},s&&s.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(p=d.getContainer(),mn(g=_r('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),p.insertBefore(g,p.firstChild),g),this._init()}function Ta(s,l,d){mn(s,{left:l+"px",top:d+"px"})}function el(s,l){s.style.display=l===!1?"none":""}function Ns(s,l){s.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(d){s.style[d+"transform"]=l})}yr.$inject=["config.overlays","eventBus","canvas","elementRegistry"],yr.prototype.get=function(s){if(T(s)&&(s={id:s}),T(s.element)&&(s.element=this._elementRegistry.get(s.element)),s.element){var l=this._getOverlayContainer(s.element,!0);return l?s.type?B(l.overlays,ze({type:s.type})):l.overlays.slice():[]}return s.type?B(this._overlays,ze({type:s.type})):s.id?this._overlays[s.id]:null},yr.prototype.add=function(s,l,d){if(_(l)&&(d=l,l=null),s.id||(s=this._elementRegistry.get(s)),!d.position)throw new Error("must specifiy overlay position");if(!d.html)throw new Error("must specifiy overlay html");if(!s)throw new Error("invalid element specified");var f=this._ids.next();return d=ve({},this._overlayDefaults,d,{id:f,type:l,element:s,html:d.html}),this._addOverlay(d),f},yr.prototype.remove=function(s){var l=this.get(s)||[];v(l)||(l=[l]);var d=this;I(l,function(f){var p=d._getOverlayContainer(f.element,!0);if(f&&(Di(f.html),Di(f.htmlContainer),delete f.htmlContainer,delete f.element,delete d._overlays[f.id]),p){var g=p.overlays.indexOf(f);g!==-1&&p.overlays.splice(g,1)}})},yr.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"},yr.prototype.show=function(){el(this._overlayRoot)},yr.prototype.hide=function(){el(this._overlayRoot,!1)},yr.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Re(this._overlayRoot)},yr.prototype._updateOverlayContainer=function(s){var l=s.element,d=s.html,f=l.x,p=l.y;if(l.waypoints){var g=So(l);f=g.x,p=g.y}Ta(d,f,p),En(s.html,"data-container-id",l.id)},yr.prototype._updateOverlay=function(s){var l,d,f=s.position,p=s.htmlContainer,g=s.element,b=f.left,w=f.top;f.right!==void 0&&(l=g.waypoints?So(g).width:g.width,b=-1*f.right+l),f.bottom!==void 0&&(d=g.waypoints?So(g).height:g.height,w=-1*f.bottom+d),Ta(p,b||0,w||0),this._updateOverlayVisibilty(s,this._canvas.viewbox())},yr.prototype._createOverlayContainer=function(s){var l=_r('<div class="djs-overlays" />');mn(l,{position:"absolute"}),this._overlayRoot.appendChild(l);var d={html:l,element:s,overlays:[]};return this._updateOverlayContainer(d),this._overlayContainers.push(d),d},yr.prototype._updateRoot=function(s){var l=s.scale||1,d="matrix("+[l,0,0,l,-1*s.x*l,-1*s.y*l].join(",")+")";Ns(this._overlayRoot,d)},yr.prototype._getOverlayContainer=function(s,l){var d=$(this._overlayContainers,function(f){return f.element===s});return d||l?d:this._createOverlayContainer(s)},yr.prototype._addOverlay=function(s){var l,d,f=s.id,p=s.element,g=s.html;g.get&&g.constructor.prototype.jquery&&(g=g.get(0)),T(g)&&(g=_r(g)),d=this._getOverlayContainer(p),mn(l=_r('<div class="djs-overlay" data-overlay-id="'+f+'">'),{position:"absolute"}),l.appendChild(g),s.type&&nr(l).add("djs-overlay-"+s.type),el(l,this._canvas.findRoot(p)===this._canvas.getRootElement()),s.htmlContainer=l,d.overlays.push(s),d.html.appendChild(l),this._overlays[f]=s,this._updateOverlay(s),this._updateOverlayVisibilty(s,this._canvas.viewbox())},yr.prototype._updateOverlayVisibilty=function(s,l){var d=s.show,f=this._canvas.findRoot(s.element),p=d&&d.minZoom,g=d&&d.maxZoom,b=s.htmlContainer,w=!0;(f!==this._canvas.getRootElement()||d&&(h(p)&&p>l.scale||h(g)&&g<l.scale))&&(w=!1),el(b,w),this._updateOverlayScale(s,l)},yr.prototype._updateOverlayScale=function(s,l){var d,f,p,g=s.scale,b=s.htmlContainer,w="";g!==!0&&(g===!1?(d=1,f=1):(d=g.min,f=g.max),h(d)&&l.scale<d&&(p=(1/l.scale||1)*d),h(f)&&l.scale>f&&(p=(1/l.scale||1)*f)),h(p)&&(w="scale("+p+","+p+")"),Ns(b,w)},yr.prototype._updateOverlaysVisibilty=function(s){var l=this;I(this._overlays,function(d){l._updateOverlayVisibilty(d,s)})},yr.prototype._init=function(){var s=this._eventBus,l=this;s.on("canvas.viewbox.changing",function(d){l.hide()}),s.on("canvas.viewbox.changed",function(d){var f;f=d.viewbox,l._updateRoot(f),l._updateOverlaysVisibilty(f),l.show()}),s.on(["shape.remove","connection.remove"],function(d){var f=d.element;I(l.get({element:f}),function(b){l.remove(b.id)});var p=l._getOverlayContainer(f);if(p){Di(p.html);var g=l._overlayContainers.indexOf(p);g!==-1&&l._overlayContainers.splice(g,1)}}),s.on("element.changed",500,function(d){var f=d.element,p=l._getOverlayContainer(f,!0);p&&(I(p.overlays,function(g){l._updateOverlay(g)}),l._updateOverlayContainer(p))}),s.on("element.marker.update",function(d){var f=l._getOverlayContainer(d.element,!0);f&&nr(f.html)[d.add?"add":"remove"](d.marker)}),s.on("root.set",function(){l._updateOverlaysVisibilty(l._canvas.viewbox())}),s.on("diagram.clear",this.clear,this)};var yo={__init__:["overlays"],overlays:["type",yr]};function ci(s,l,d,f){s.on("element.changed",function(p){var g=p.element;(g.parent||g===l.getRootElement())&&(p.gfx=d.getGraphics(g)),p.gfx&&s.fire(Nb(g)+".changed",p)}),s.on("elements.changed",function(p){var g=p.elements;g.forEach(function(b){s.fire("element.changed",{element:b})}),f.updateContainments(g)}),s.on("shape.changed",function(p){f.update("shape",p.element,p.gfx)}),s.on("connection.changed",function(p){f.update("connection",p.element,p.gfx)})}ci.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var dr={__init__:["changeSupport"],changeSupport:["type",ci]};function Pt(s){this._eventBus=s}function qs(s){return function(l,d,f,p,g){(R(l)||k(l))&&(g=p,p=f,f=d,d=l,l=null),this.on(l,s,d,f,p,g)}}function Ld(s,l){l.invoke(Pt,this),this.executed(function(d){var f=d.context;f.rootElement?s.setRootElement(f.rootElement):f.rootElement=s.getRootElement()}),this.revert(function(d){var f=d.context;f.rootElement&&s.setRootElement(f.rootElement)})}Pt.$inject=["eventBus"],Pt.prototype.on=function(s,l,d,f,p,g){if((R(l)||k(l))&&(g=p,p=f,f=d,d=l,l=null),R(d)&&(g=p,p=f,f=d,d=1e3),_(p)&&(g=p,p=!1),!R(f))throw new Error("handlerFn must be a function");v(s)||(s=[s]);var b=this._eventBus;I(s,function(w){var S=["commandStack",w,l].filter(function(O){return O}).join(".");b.on(S,d,p?function(O,M){return function(A){return O.call(M||null,A.context,A.command,A)}}(f,g):f,g)})},Pt.prototype.canExecute=qs("canExecute"),Pt.prototype.preExecute=qs("preExecute"),Pt.prototype.preExecuted=qs("preExecuted"),Pt.prototype.execute=qs("execute"),Pt.prototype.executed=qs("executed"),Pt.prototype.postExecute=qs("postExecute"),Pt.prototype.postExecuted=qs("postExecuted"),Pt.prototype.revert=qs("revert"),Pt.prototype.reverted=qs("reverted"),t(Ld,Pt),Ld.$inject=["canvas","injector"];var _m={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",Ld]};function Uo(s){return CSS.escape(s)}var ra={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qi(s){return(s=""+s)&&s.replace(/[&<>"']/g,function(l){return ra[l]})}var ya="_plane";function ws(s){return function(l){return l.replace(new RegExp(ya+"$"),"")}(s.id)}function Kr(s){var l=s.id;return ie(s,"bpmn:SubProcess")?Aa(l):l}function Zi(s){return Aa(s)}function Wr(s){return ie(Qr(s),"bpmndi:BPMNPlane")}function Aa(s){return s+ya}function _e(s,l,d){var f=_r('<ul class="bjs-breadcrumbs"></ul>'),p=d.getContainer(),g=nr(p);p.appendChild(f);var b=[];function w(S){S&&(b=function(A){for(var L=Ft(A),z=[],H=L;H;H=H.$parent)(ie(H,"bpmn:SubProcess")||ie(H,"bpmn:Process"))&&z.push(H);return z.reverse()}(S));var O=b.map(function(A){var L=qi(A.name||A.id),z=_r('<li><span class="bjs-crumb"><a title="'+L+'">'+L+"</a></span></li>"),H=d.findRoot(Kr(A))||d.findRoot(A.id);if(!H&&ie(A,"bpmn:Process")){var Q=l.find(function(re){var X=Ft(re);return X&&X.get("processRef")&&X.get("processRef")===A});H=d.findRoot(Q.id)}return z.addEventListener("click",function(){d.setRootElement(H)}),z});f.innerHTML="";var M=O.length>1;g.toggle("bjs-breadcrumbs-shown",M),O.forEach(function(A){f.appendChild(A)})}s.on("element.changed",function(S){var O=Ft(S.element);$(b,function(M){return M===O})&&w()}),s.on("root.set",function(S){w(S.element)})}function J(s,l){var d=null,f=new le;s.on("root.set",function(p){var g=p.element,b=l.viewbox(),w=f.get(g);if(f.set(d,{x:b.x,y:b.y,zoom:b.scale}),d=g,!ie(g,"bpmn:Collaboration")||w){w=w||{x:0,y:0,zoom:1};var S=(b.x-w.x)*b.scale,O=(b.y-w.y)*b.scale;S===0&&O===0||l.scroll({dx:S,dy:O}),w.zoom!==b.scale&&l.zoom(w.zoom,{x:0,y:0})}}),s.on("diagram.clear",function(){f.clear(),d=null})}function le(){this._entries=[],this.set=function(s,l){var d=!1;for(var f in this._entries)if(this._entries[f][0]===s){this._entries[f][1]=l,d=!0;break}d||this._entries.push([s,l])},this.get=function(s){for(var l in this._entries)if(this._entries[l][0]===s)return this._entries[l][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(s){var l=-1;for(var d in this._entries)if(this._entries[d][0]===s){l=d;break}l!==-1&&this._entries.splice(l,1)}}_e.$inject=["eventBus","elementRegistry","canvas"],J.$inject=["eventBus","canvas"];var Ue=180,at=160;function Qt(s,l){this._eventBus=s,this._moddle=l;var d=this;s.on("import.render.start",1500,function(f,p){d._handleImport(p.definitions)})}function Xn(s){return ie(s,"bpmndi:BPMNDiagram")?s:Xn(s.$parent)}Qt.prototype._handleImport=function(s){if(s.diagrams){var l=this;this._definitions=s,this._processToDiagramMap={},s.diagrams.forEach(function(f){f.plane&&f.plane.bpmnElement&&(l._processToDiagramMap[f.plane.bpmnElement.id]=f)});var d=[];s.diagrams.forEach(function(f){var p=l._createNewDiagrams(f.plane);Array.prototype.push.apply(d,p)}),d.forEach(function(f){l._movePlaneElementsToOrigin(f.plane)})}},Qt.prototype._createNewDiagrams=function(s){var l=this,d=[],f=[];s.get("planeElement").forEach(function(g){var b=g.bpmnElement;if(b){var w=b.$parent;ie(b,"bpmn:SubProcess")&&!g.isExpanded&&d.push(b),function(S,O){var M=S.$parent;return!(!ie(M,"bpmn:SubProcess")||M===O.bpmnElement||Sr(S,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}(b,s)&&f.push({diElement:g,parent:w})}});var p=[];return d.forEach(function(g){if(!l._processToDiagramMap[g.id]){var b=l._createDiagram(g);l._processToDiagramMap[g.id]=b,p.push(b)}}),f.forEach(function(g){for(var b=g.diElement,w=g.parent;w&&d.indexOf(w)===-1;)w=w.$parent;if(w){var S=l._processToDiagramMap[w.id];l._moveToDiPlane(b,S.plane)}}),p},Qt.prototype._movePlaneElementsToOrigin=function(s){var l=s.get("planeElement"),d=function(g){var b={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return g.planeElement.forEach(function(w){if(w.bounds){var S=Ln(w.bounds);b.top=Math.min(S.top,b.top),b.left=Math.min(S.left,b.left)}}),ta(b)}(s),f=d.x-Ue,p=d.y-at;l.forEach(function(g){g.waypoint?g.waypoint.forEach(function(b){b.x=b.x-f,b.y=b.y-p}):g.bounds&&(g.bounds.x=g.bounds.x-f,g.bounds.y=g.bounds.y-p)})},Qt.prototype._moveToDiPlane=function(s,l){var d=Xn(s).plane.get("planeElement");d.splice(d.indexOf(s),1),l.get("planeElement").push(s)},Qt.prototype._createDiagram=function(s){var l=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:s}),d=this._moddle.create("bpmndi:BPMNDiagram",{plane:l});return l.$parent=d,l.bpmnElement=s,d.$parent=this._definitions,this._definitions.diagrams.push(d),d},Qt.$inject=["eventBus","moddle"];var kr=250;function pi(s,l,d,f){Pt.call(this,l),this._canvas=s,this._eventBus=l,this._elementRegistry=d,this._overlays=f;var p=this;this.executed("shape.toggleCollapse",kr,function(g){var b=g.shape;p._canDrillDown(b)?p._addOverlay(b):p._removeOverlay(b)},!0),this.reverted("shape.toggleCollapse",kr,function(g){var b=g.shape;p._canDrillDown(b)?p._addOverlay(b):p._removeOverlay(b)},!0),this.executed(["shape.create","shape.move","shape.delete"],kr,function(g){var b=g.oldParent,w=g.newParent||g.parent,S=g.shape;p._canDrillDown(S)&&p._addOverlay(S),p._updateDrilldownOverlay(b),p._updateDrilldownOverlay(w),p._updateDrilldownOverlay(S)},!0),this.reverted(["shape.create","shape.move","shape.delete"],kr,function(g){var b=g.oldParent,w=g.newParent||g.parent,S=g.shape;p._canDrillDown(S)&&p._addOverlay(S),p._updateDrilldownOverlay(b),p._updateDrilldownOverlay(w),p._updateDrilldownOverlay(S)},!0),l.on("import.render.complete",function(){d.filter(function(g){return p._canDrillDown(g)}).map(function(g){p._addOverlay(g)})})}t(pi,Pt),pi.prototype._updateDrilldownOverlay=function(s){var l=this._canvas;if(s){var d=l.findRoot(s);d&&this._updateOverlayVisibility(d)}},pi.prototype._canDrillDown=function(s){var l=this._canvas;return ie(s,"bpmn:SubProcess")&&l.findRoot(Kr(s))},pi.prototype._updateOverlayVisibility=function(s){var l=this._overlays,d=Ft(s),f=l.get({element:d.id,type:"drilldown"})[0];if(f){var p=d&&d.get("flowElements")&&d.get("flowElements").length;nr(f.html).toggle("bjs-drilldown-empty",!p)}},pi.prototype._addOverlay=function(s){var l=this._canvas,d=this._overlays;d.get({element:s,type:"drilldown"}).length&&this._removeOverlay(s);var f=_r('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');f.addEventListener("click",function(){l.setRootElement(l.findRoot(Kr(s)))}),d.add(s,"drilldown",{position:{bottom:-7,right:-8},html:f}),this._updateOverlayVisibility(s)},pi.prototype._removeOverlay=function(s){this._overlays.remove({element:s,type:"drilldown"})},pi.$inject=["canvas","eventBus","elementRegistry","overlays"];var Tr={__depends__:[yo,dr,_m],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",_e],drilldownCentering:["type",J],drilldownOverlayBehavior:["type",pi],subprocessCompatibility:["type",Qt]};function Ra(s){jn.call(this,s)}t(Ra,jn),Ra.prototype._modules=[xe,N,ur,yo,Tr],Ra.prototype._moddleExtensions={};var Hg=["c","C"],lp=["v","V"],Jb=["y","Y"],ex=["z","Z"];function Sc(s){return!s.altKey&&(s.ctrlKey||s.metaKey)}function Ui(s,l){return(s=v(s)?s:[s]).indexOf(l.key)!==-1||s.indexOf(l.code)!==-1}function GE(s){return s.shiftKey}var Em="keyboard.keydown",tx="input-handle-modified-keys";function ia(s,l){var d=this;this._config=s||{},this._eventBus=l,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),l.on("diagram.destroy",function(){d._fire("destroy"),d.unbind()}),l.on("diagram.init",function(){d._fire("init")}),l.on("attach",function(){s&&s.bindTo&&d.bind(s.bindTo)}),l.on("detach",function(){d.unbind()})}ia.$inject=["config.keyboard","eventBus"],ia.prototype._keydownHandler=function(s){this._keyHandler(s,Em)},ia.prototype._keyupHandler=function(s){this._keyHandler(s,"keyboard.keyup")},ia.prototype._keyHandler=function(s,l){if(!this._isEventIgnored(s)){var d={keyEvent:s};this._eventBus.fire(l||Em,d)&&s.preventDefault()}},ia.prototype._isEventIgnored=function(s){return!!s.defaultPrevented||(l=s.target)&&(We(l,"input, textarea")||l.contentEditable==="true")&&this._isModifiedKeyIgnored(s);var l},ia.prototype._isModifiedKeyIgnored=function(s){return!Sc(s)||this._getAllowedModifiers(s.target).indexOf(s.key)===-1},ia.prototype._getAllowedModifiers=function(s){var l=Je(s,"["+tx+"]",!0);return!l||this._node&&!this._node.contains(l)?[]:l.getAttribute(tx).split(",")},ia.prototype.bind=function(s){this.unbind(),this._node=s,Xt.bind(s,"keydown",this._keydownHandler),Xt.bind(s,"keyup",this._keyupHandler),this._fire("bind")},ia.prototype.getBinding=function(){return this._node},ia.prototype.unbind=function(){var s=this._node;s&&(this._fire("unbind"),Xt.unbind(s,"keydown",this._keydownHandler),Xt.unbind(s,"keyup",this._keyupHandler)),this._node=null},ia.prototype._fire=function(s){this._eventBus.fire("keyboard."+s,{node:this._node})},ia.prototype.addListener=function(s,l,d){R(s)&&(d=l,l=s,s=1e3),this._eventBus.on(d||Em,s,l)},ia.prototype.removeListener=function(s,l){this._eventBus.off(l||Em,s)},ia.prototype.hasModifier=function(s){return s.ctrlKey||s.metaKey||s.shiftKey||s.altKey},ia.prototype.isCmd=Sc,ia.prototype.isShift=GE,ia.prototype.isKey=Ui;var yT=500;function va(s,l){var d=this;s.on("editorActions.init",yT,function(f){var p=f.editorActions;d.registerBindings(l,p)})}va.$inject=["eventBus","keyboard"],va.prototype.registerBindings=function(s,l){function d(f,p){l.isRegistered(f)&&s.addListener(p)}d("undo",function(f){if(function(p){return Sc(p)&&!GE(p)&&Ui(ex,p)}(f.keyEvent))return l.trigger("undo"),!0}),d("redo",function(f){if(function(p){return Sc(p)&&(Ui(Jb,p)||Ui(ex,p)&&GE(p))}(f.keyEvent))return l.trigger("redo"),!0}),d("copy",function(f){if(function(p){return Sc(p)&&Ui(Hg,p)}(f.keyEvent))return l.trigger("copy"),!0}),d("paste",function(f){if(function(p){return Sc(p)&&Ui(lp,p)}(f.keyEvent))return l.trigger("paste"),!0}),d("stepZoom",function(f){var p=f.keyEvent;if(Ui(["+","Add","="],p)&&Sc(p))return l.trigger("stepZoom",{value:1}),!0}),d("stepZoom",function(f){var p=f.keyEvent;if(Ui(["-","Subtract"],p)&&Sc(p))return l.trigger("stepZoom",{value:-1}),!0}),d("zoom",function(f){var p=f.keyEvent;if(Ui("0",p)&&Sc(p))return l.trigger("zoom",{value:1}),!0}),d("removeSelection",function(f){if(Ui(["Backspace","Delete","Del"],f.keyEvent))return l.trigger("removeSelection"),!0})};var Fd={__init__:["keyboard","keyboardBindings"],keyboard:["type",ia],keyboardBindings:["type",va]},YE={moveSpeed:50,moveSpeedAccelerated:200};function QE(s,l,d){var f=this;this._config=ve({},YE,s||{}),l.addListener(function(p){var g=p.keyEvent,b=f._config;if(l.isCmd(g)&&l.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],g)){var w,S=l.isShift(g)?b.moveSpeedAccelerated:b.moveSpeed;switch(g.key){case"ArrowLeft":case"Left":w="left";break;case"ArrowUp":case"Up":w="up";break;case"ArrowRight":case"Right":w="right";break;case"ArrowDown":case"Down":w="down"}return f.moveCanvas({speed:S,direction:w}),!0}}),this.moveCanvas=function(p){var g=0,b=0,w=p.speed/Math.min(Math.sqrt(d.viewbox().scale),1);switch(p.direction){case"left":g=w;break;case"up":b=w;break;case"right":g=-w;break;case"down":b=-w}d.scroll({dx:g,dy:b})}}QE.$inject=["config.keyboardMove","keyboard","canvas"];var E0={__depends__:[Fd],__init__:["keyboardMove"],keyboardMove:["type",QE]},vT=/^djs-cursor-.*$/;function Wg(s){var l=nr(document.body);l.removeMatching(vT),s&&l.add("djs-cursor-"+s)}function KE(){Wg(null)}var XE=5e3;function nx(s,l){function d(){return!1}return l=l||"element.click",s.once(l,XE,d),function(){s.off(l,d)}}function iu(s){return{x:s.x+s.width/2,y:s.y+s.height/2}}function Uu(s,l){return{x:s.x-l.x,y:s.y-l.y}}function Wf(s,l){var d;function f(g){var b,w=d.start,S=d.button,O=Ut(g),M=Uu(O,w);!d.dragging&&(b=M,Math.sqrt(Math.pow(b.x,2)+Math.pow(b.y,2))>15)&&(d.dragging=!0,S===0&&nx(s),Wg("grab")),d.dragging&&(M=Uu(O,d.last||d.start),l.scroll({dx:M.x,dy:M.y}),d.last=O),g.preventDefault()}function p(g){Xt.unbind(document,"mousemove",f),Xt.unbind(document,"mouseup",p),d=null,KE()}s.on("element.mousedown",500,function(g){return function(b){if(!Je(b.target,".djs-draggable")){var w=b.button;if(!(w>=2||b.ctrlKey||b.shiftKey||b.altKey))return d={button:w,start:Ut(b)},Xt.bind(document,"mousemove",f),Xt.bind(document,"mouseup",p),!0}}(g.originalEvent)}),this.isActive=function(){return!!d}}Wf.$inject=["eventBus","canvas"];var ZE={__init__:["moveCanvas"],moveCanvas:["type",Wf]};function rx(s){return Math.log(s)/Math.log(10)}function ix(s,l){var d=rx(s.min),f=rx(s.max);return(Math.abs(d)+Math.abs(f))/l}var $5=Math.sign||function(s){return s>=0?1:-1},JE={min:.2,max:4};function $d(s,l,d){s=s||{},this._enabled=!1,this._canvas=d,this._container=d._container,this._handleWheel=rt(this._handleWheel,this),this._totalDelta=0,this._scale=s.scale||.75;var f=this;l.on("canvas.init",function(p){f._init(s.enabled!==!1)})}$d.$inject=["config.zoomScroll","eventBus","canvas"],$d.prototype.scroll=function(s){this._canvas.scroll(s)},$d.prototype.reset=function(){this._canvas.zoom("fit-viewport")},$d.prototype.zoom=function(s,l){var d=ix(JE,20);this._totalDelta+=s,Math.abs(this._totalDelta)>.1&&(this._zoom(s,l,d),this._totalDelta=0)},$d.prototype._handleWheel=function(s){if(!Je(s.target,".djs-scrollable",!0)){var l=this._container;s.preventDefault();var d,f=s.ctrlKey||Tn()&&s.metaKey,p=s.shiftKey,g=-1*this._scale;if(g*=f?s.deltaMode===0?.02:.32:s.deltaMode===0?1:16,f){var b=l.getBoundingClientRect(),w={x:s.clientX-b.left,y:s.clientY-b.top};d=Math.sqrt(Math.pow(s.deltaY,2)+Math.pow(s.deltaX,2))*$5(s.deltaY)*g,this.zoom(d,w)}else d=p?{dx:g*s.deltaY,dy:0}:{dx:g*s.deltaX,dy:g*s.deltaY},this.scroll(d)}},$d.prototype.stepZoom=function(s,l){var d=ix(JE,10);this._zoom(s,l,d)},$d.prototype._zoom=function(s,l,d){var f=this._canvas,p=s>0?1:-1,g=rx(f.zoom()),b=Math.round(g/d)*d;b+=d*p;var w,S,O=Math.pow(10,b);f.zoom((w=JE,S=O,Math.max(w.min,Math.min(w.max,S))),l)},$d.prototype.toggle=function(s){var l=this._container,d=this._handleWheel,f=this._enabled;return s===void 0&&(s=!f),f!==s&&Xt[s?"bind":"unbind"](l,"wheel",d,!1),this._enabled=s,s},$d.prototype._init=function(s){this.toggle(s)};var eS={__init__:["zoomScroll"],zoomScroll:["type",$d]};function qg(s){Ra.call(this,s)}function B5(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}t(qg,Ra),qg.prototype._navigationModules=[E0,ZE,eS],qg.prototype._modules=[].concat(Ra.prototype._modules,qg.prototype._navigationModules);var tS={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
   * http://hammerjs.github.io/
   *
   * Copyright (c) 2016 Jorik Tangelder;
   * Licensed under the MIT license */(function(s){(function(l,d,f,p){var g,b=["","webkit","Moz","MS","ms","o"],w=d.createElement("div"),S="function",O=Math.round,M=Math.abs,A=Date.now;function L(he,Pe,Ke){return setTimeout(ue(he,Ke),Pe)}function z(he,Pe,Ke){return!!Array.isArray(he)&&(H(he,Ke[Pe],Ke),!0)}function H(he,Pe,Ke){var yt;if(he)if(he.forEach)he.forEach(Pe,Ke);else if(he.length!==p)for(yt=0;yt<he.length;)Pe.call(Ke,he[yt],yt,he),yt++;else for(yt in he)he.hasOwnProperty(yt)&&Pe.call(Ke,he[yt],yt,he)}function Q(he,Pe,Ke){var yt="DEPRECATED METHOD: "+Pe+`
`+Ke+` AT 
`;return function(){var Gt=new Error("get-stack-trace"),qr=Gt&&Gt.stack?Gt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",vo=l.console&&(l.console.warn||l.console.log);return vo&&vo.call(l.console,yt,qr),he.apply(this,arguments)}}g=typeof Object.assign!="function"?function(he){if(he===p||he===null)throw new TypeError("Cannot convert undefined or null to object");for(var Pe=Object(he),Ke=1;Ke<arguments.length;Ke++){var yt=arguments[Ke];if(yt!==p&&yt!==null)for(var Gt in yt)yt.hasOwnProperty(Gt)&&(Pe[Gt]=yt[Gt])}return Pe}:Object.assign;var re=Q(function(he,Pe,Ke){for(var yt=Object.keys(Pe),Gt=0;Gt<yt.length;)(!Ke||Ke&&he[yt[Gt]]===p)&&(he[yt[Gt]]=Pe[yt[Gt]]),Gt++;return he},"extend","Use `assign`."),X=Q(function(he,Pe){return re(he,Pe,!0)},"merge","Use `assign`.");function K(he,Pe,Ke){var yt,Gt=Pe.prototype;(yt=he.prototype=Object.create(Gt)).constructor=he,yt._super=Gt,Ke&&g(yt,Ke)}function ue(he,Pe){return function(){return he.apply(Pe,arguments)}}function me(he,Pe){return typeof he==S?he.apply(Pe&&Pe[0]||p,Pe):he}function ge(he,Pe){return he===p?Pe:he}function $e(he,Pe,Ke){H(Mn(Pe),function(yt){he.addEventListener(yt,Ke,!1)})}function He(he,Pe,Ke){H(Mn(Pe),function(yt){he.removeEventListener(yt,Ke,!1)})}function Ve(he,Pe){for(;he;){if(he==Pe)return!0;he=he.parentNode}return!1}function Xe(he,Pe){return he.indexOf(Pe)>-1}function Mn(he){return he.trim().split(/\s+/g)}function zt(he,Pe,Ke){if(he.indexOf&&!Ke)return he.indexOf(Pe);for(var yt=0;yt<he.length;){if(Ke&&he[yt][Ke]==Pe||!Ke&&he[yt]===Pe)return yt;yt++}return-1}function nt(he){return Array.prototype.slice.call(he,0)}function _t(he,Pe,Ke){for(var yt=[],Gt=[],qr=0;qr<he.length;){var vo=he[qr][Pe];zt(Gt,vo)<0&&yt.push(he[qr]),Gt[qr]=vo,qr++}return yt=yt.sort(function(_l,Ci){return _l[Pe]>Ci[Pe]}),yt}function fr(he,Pe){for(var Ke,yt,Gt=Pe[0].toUpperCase()+Pe.slice(1),qr=0;qr<b.length;){if((yt=(Ke=b[qr])?Ke+Gt:Pe)in he)return yt;qr++}return p}var Yn=1;function Zn(he){var Pe=he.ownerDocument||he;return Pe.defaultView||Pe.parentWindow||l}var wr="ontouchstart"in l,Yi=fr(l,"PointerEvent")!==p,Fi=wr&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),eo="touch",mi="mouse",ni=25,gn=1,oo=4,Ri=8,Zu=1,Rc=2,so=4,ki=8,xi=16,ao=Rc|so,to=ki|xi,$i=ao|to,Yo=["x","y"],Vr=["clientX","clientY"];function Qo(he,Pe){var Ke=this;this.manager=he,this.callback=Pe,this.element=he.element,this.target=he.options.inputTarget,this.domHandler=function(yt){me(he.options.enable,[he])&&Ke.handler(yt)},this.init()}function ke(he,Pe,Ke){var yt=Ke.pointers.length,Gt=Ke.changedPointers.length,qr=Pe&gn&&yt-Gt==0,vo=Pe&(oo|Ri)&&yt-Gt==0;Ke.isFirst=!!qr,Ke.isFinal=!!vo,qr&&(he.session={}),Ke.eventType=Pe,function(_l,Ci){var Ul=_l.session,KR=Ci.pointers,jH=KR.length;Ul.firstInput||(Ul.firstInput=ee(Ci)),jH>1&&!Ul.firstMultiple?Ul.firstMultiple=ee(Ci):jH===1&&(Ul.firstMultiple=!1);var VH=Ul.firstInput,rw=Ul.firstMultiple,zH=rw?rw.center:VH.center,HH=Ci.center=ce(KR);Ci.timeStamp=A(),Ci.deltaTime=Ci.timeStamp-VH.timeStamp,Ci.angle=hr(zH,HH),Ci.distance=cn(zH,HH),function(th,nl){var _y=nl.center,s1=th.offsetDelta||{},a1=th.prevDelta||{},l1=th.prevInput||{};nl.eventType!==gn&&l1.eventType!==oo||(a1=th.prevDelta={x:l1.deltaX||0,y:l1.deltaY||0},s1=th.offsetDelta={x:_y.x,y:_y.y}),nl.deltaX=a1.x+(_y.x-s1.x),nl.deltaY=a1.y+(_y.y-s1.y)}(Ul,Ci),Ci.offsetDirection=lt(Ci.deltaX,Ci.deltaY);var iw=Ge(Ci.deltaTime,Ci.deltaX,Ci.deltaY);Ci.overallVelocityX=iw.x,Ci.overallVelocityY=iw.y,Ci.overallVelocity=M(iw.x)>M(iw.y)?iw.x:iw.y,Ci.scale=rw?(vL=rw.pointers,bL=KR,cn(bL[0],bL[1],Vr)/cn(vL[0],vL[1],Vr)):1,Ci.rotation=rw?function(th,nl){return hr(nl[1],nl[0],Vr)+hr(th[1],th[0],Vr)}(rw.pointers,KR):0,Ci.maxPointers=Ul.prevInput?Ci.pointers.length>Ul.prevInput.maxPointers?Ci.pointers.length:Ul.prevInput.maxPointers:Ci.pointers.length,function(th,nl){var _y,s1,a1,l1,Ey=th.lastInterval||nl,WH=nl.timeStamp-Ey.timeStamp;if(nl.eventType!=Ri&&(WH>ni||Ey.velocity===p)){var qH=nl.deltaX-Ey.deltaX,UH=nl.deltaY-Ey.deltaY,ow=Ge(WH,qH,UH);s1=ow.x,a1=ow.y,_y=M(ow.x)>M(ow.y)?ow.x:ow.y,l1=lt(qH,UH),th.lastInterval=nl}else _y=Ey.velocity,s1=Ey.velocityX,a1=Ey.velocityY,l1=Ey.direction;nl.velocity=_y,nl.velocityX=s1,nl.velocityY=a1,nl.direction=l1}(Ul,Ci);var vL,bL,xL=_l.element;Ve(Ci.srcEvent.target,xL)&&(xL=Ci.srcEvent.target),Ci.target=xL}(he,Ke),he.emit("hammer.input",Ke),he.recognize(Ke),he.session.prevInput=Ke}function ee(he){for(var Pe=[],Ke=0;Ke<he.pointers.length;)Pe[Ke]={clientX:O(he.pointers[Ke].clientX),clientY:O(he.pointers[Ke].clientY)},Ke++;return{timeStamp:A(),pointers:Pe,center:ce(Pe),deltaX:he.deltaX,deltaY:he.deltaY}}function ce(he){var Pe=he.length;if(Pe===1)return{x:O(he[0].clientX),y:O(he[0].clientY)};for(var Ke=0,yt=0,Gt=0;Gt<Pe;)Ke+=he[Gt].clientX,yt+=he[Gt].clientY,Gt++;return{x:O(Ke/Pe),y:O(yt/Pe)}}function Ge(he,Pe,Ke){return{x:Pe/he||0,y:Ke/he||0}}function lt(he,Pe){return he===Pe?Zu:M(he)>=M(Pe)?he<0?Rc:so:Pe<0?ki:xi}function cn(he,Pe,Ke){Ke||(Ke=Yo);var yt=Pe[Ke[0]]-he[Ke[0]],Gt=Pe[Ke[1]]-he[Ke[1]];return Math.sqrt(yt*yt+Gt*Gt)}function hr(he,Pe,Ke){Ke||(Ke=Yo);var yt=Pe[Ke[0]]-he[Ke[0]],Gt=Pe[Ke[1]]-he[Ke[1]];return 180*Math.atan2(Gt,yt)/Math.PI}Qo.prototype={handler:function(){},init:function(){this.evEl&&$e(this.element,this.evEl,this.domHandler),this.evTarget&&$e(this.target,this.evTarget,this.domHandler),this.evWin&&$e(Zn(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&He(this.element,this.evEl,this.domHandler),this.evTarget&&He(this.target,this.evTarget,this.domHandler),this.evWin&&He(Zn(this.element),this.evWin,this.domHandler)}};var Xr={mousedown:gn,mousemove:2,mouseup:oo},Ko="mousedown",i1="mousemove mouseup";function Ju(){this.evEl=Ko,this.evWin=i1,this.pressed=!1,Qo.apply(this,arguments)}K(Ju,Qo,{handler:function(he){var Pe=Xr[he.type];Pe&gn&&he.button===0&&(this.pressed=!0),2&Pe&&he.which!==1&&(Pe=oo),this.pressed&&(Pe&oo&&(this.pressed=!1),this.callback(this.manager,Pe,{pointers:[he],changedPointers:[he],pointerType:mi,srcEvent:he}))}});var nw={pointerdown:gn,pointermove:2,pointerup:oo,pointercancel:Ri,pointerout:Ri},VR={2:eo,3:"pen",4:mi,5:"kinect"},zR="pointerdown",HR="pointermove pointerup pointercancel";function cL(){this.evEl=zR,this.evWin=HR,Qo.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}l.MSPointerEvent&&!l.PointerEvent&&(zR="MSPointerDown",HR="MSPointerMove MSPointerUp MSPointerCancel"),K(cL,Qo,{handler:function(he){var Pe=this.store,Ke=!1,yt=he.type.toLowerCase().replace("ms",""),Gt=nw[yt],qr=VR[he.pointerType]||he.pointerType,vo=qr==eo,_l=zt(Pe,he.pointerId,"pointerId");Gt&gn&&(he.button===0||vo)?_l<0&&(Pe.push(he),_l=Pe.length-1):Gt&(oo|Ri)&&(Ke=!0),_l<0||(Pe[_l]=he,this.callback(this.manager,Gt,{pointers:Pe,changedPointers:[he],pointerType:qr,srcEvent:he}),Ke&&Pe.splice(_l,1))}});var yme={touchstart:gn,touchmove:2,touchend:oo,touchcancel:Ri};function PH(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Qo.apply(this,arguments)}function vme(he,Pe){var Ke=nt(he.touches),yt=nt(he.changedTouches);return Pe&(oo|Ri)&&(Ke=_t(Ke.concat(yt),"identifier")),[Ke,yt]}K(PH,Qo,{handler:function(he){var Pe=yme[he.type];if(Pe===gn&&(this.started=!0),this.started){var Ke=vme.call(this,he,Pe);Pe&(oo|Ri)&&Ke[0].length-Ke[1].length==0&&(this.started=!1),this.callback(this.manager,Pe,{pointers:Ke[0],changedPointers:Ke[1],pointerType:eo,srcEvent:he})}}});var bme={touchstart:gn,touchmove:2,touchend:oo,touchcancel:Ri},xme="touchstart touchmove touchend touchcancel";function WR(){this.evTarget=xme,this.targetIds={},Qo.apply(this,arguments)}function wme(he,Pe){var Ke=nt(he.touches),yt=this.targetIds;if(Pe&(2|gn)&&Ke.length===1)return yt[Ke[0].identifier]=!0,[Ke,Ke];var Gt,qr,vo=nt(he.changedTouches),_l=[],Ci=this.target;if(qr=Ke.filter(function(Ul){return Ve(Ul.target,Ci)}),Pe===gn)for(Gt=0;Gt<qr.length;)yt[qr[Gt].identifier]=!0,Gt++;for(Gt=0;Gt<vo.length;)yt[vo[Gt].identifier]&&_l.push(vo[Gt]),Pe&(oo|Ri)&&delete yt[vo[Gt].identifier],Gt++;return _l.length?[_t(qr.concat(_l),"identifier"),_l]:void 0}K(WR,Qo,{handler:function(he){var Pe=bme[he.type],Ke=wme.call(this,he,Pe);Ke&&this.callback(this.manager,Pe,{pointers:Ke[0],changedPointers:Ke[1],pointerType:eo,srcEvent:he})}});var _me=2500;function uL(){Qo.apply(this,arguments);var he=ue(this.handler,this);this.touch=new WR(this.manager,he),this.mouse=new Ju(this.manager,he),this.primaryTouch=null,this.lastTouches=[]}function Eme(he,Pe){he&gn?(this.primaryTouch=Pe.changedPointers[0].identifier,MH.call(this,Pe)):he&(oo|Ri)&&MH.call(this,Pe)}function MH(he){var Pe=he.changedPointers[0];if(Pe.identifier===this.primaryTouch){var Ke={x:Pe.clientX,y:Pe.clientY};this.lastTouches.push(Ke);var yt=this.lastTouches;setTimeout(function(){var Gt=yt.indexOf(Ke);Gt>-1&&yt.splice(Gt,1)},_me)}}function Sme(he){for(var Pe=he.srcEvent.clientX,Ke=he.srcEvent.clientY,yt=0;yt<this.lastTouches.length;yt++){var Gt=this.lastTouches[yt],qr=Math.abs(Pe-Gt.x),vo=Math.abs(Ke-Gt.y);if(qr<=25&&vo<=25)return!0}return!1}K(uL,Qo,{handler:function(he,Pe,Ke){var yt=Ke.pointerType==eo,Gt=Ke.pointerType==mi;if(!(Gt&&Ke.sourceCapabilities&&Ke.sourceCapabilities.firesTouchEvents)){if(yt)Eme.call(this,Pe,Ke);else if(Gt&&Sme.call(this,Ke))return;this.callback(he,Pe,Ke)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var DH=fr(w.style,"touchAction"),NH=DH!==p,IH="compute",LH="auto",dL="manipulation",o1="none",Qk="pan-x",Kk="pan-y",qR=function(){if(!NH)return!1;var he={},Pe=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ke){he[Ke]=!Pe||l.CSS.supports("touch-action",Ke)}),he}();function fL(he,Pe){this.manager=he,this.set(Pe)}fL.prototype={set:function(he){he==IH&&(he=this.compute()),NH&&this.manager.element.style&&qR[he]&&(this.manager.element.style[DH]=he),this.actions=he.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var he=[];return H(this.manager.recognizers,function(Pe){me(Pe.options.enable,[Pe])&&(he=he.concat(Pe.getTouchAction()))}),function(Pe){if(Xe(Pe,o1))return o1;var Ke=Xe(Pe,Qk),yt=Xe(Pe,Kk);return Ke&&yt?o1:Ke||yt?Ke?Qk:Kk:Xe(Pe,dL)?dL:LH}(he.join(" "))},preventDefaults:function(he){var Pe=he.srcEvent,Ke=he.offsetDirection;if(this.manager.session.prevented)Pe.preventDefault();else{var yt=this.actions,Gt=Xe(yt,o1)&&!qR[o1],qr=Xe(yt,Kk)&&!qR[Kk],vo=Xe(yt,Qk)&&!qR[Qk];if(Gt){var _l=he.pointers.length===1,Ci=he.distance<2,Ul=he.deltaTime<250;if(_l&&Ci&&Ul)return}if(!vo||!qr)return Gt||qr&&Ke&ao||vo&&Ke&to?this.preventSrc(Pe):void 0}},preventSrc:function(he){this.manager.session.prevented=!0,he.preventDefault()}};var UR=1,Fm=32;function $m(he){this.options=g({},this.defaults,he||{}),this.id=Yn++,this.manager=null,this.options.enable=ge(this.options.enable,!0),this.state=UR,this.simultaneous={},this.requireFail=[]}function FH(he){return 16&he?"cancel":8&he?"end":4&he?"move":2&he?"start":""}function $H(he){return he==xi?"down":he==ki?"up":he==Rc?"left":he==so?"right":""}function GR(he,Pe){var Ke=Pe.manager;return Ke?Ke.get(he):he}function eh(){$m.apply(this,arguments)}function YR(){eh.apply(this,arguments),this.pX=null,this.pY=null}function hL(){eh.apply(this,arguments)}function pL(){$m.apply(this,arguments),this._timer=null,this._input=null}function mL(){eh.apply(this,arguments)}function gL(){eh.apply(this,arguments)}function QR(){$m.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function wy(he,Pe){return(Pe=Pe||{}).recognizers=ge(Pe.recognizers,wy.defaults.preset),new yL(he,Pe)}$m.prototype={defaults:{},set:function(he){return g(this.options,he),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(he){if(z(he,"recognizeWith",this))return this;var Pe=this.simultaneous;return Pe[(he=GR(he,this)).id]||(Pe[he.id]=he,he.recognizeWith(this)),this},dropRecognizeWith:function(he){return z(he,"dropRecognizeWith",this)||(he=GR(he,this),delete this.simultaneous[he.id]),this},requireFailure:function(he){if(z(he,"requireFailure",this))return this;var Pe=this.requireFail;return zt(Pe,he=GR(he,this))===-1&&(Pe.push(he),he.requireFailure(this)),this},dropRequireFailure:function(he){if(z(he,"dropRequireFailure",this))return this;he=GR(he,this);var Pe=zt(this.requireFail,he);return Pe>-1&&this.requireFail.splice(Pe,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(he){return!!this.simultaneous[he.id]},emit:function(he){var Pe=this,Ke=this.state;function yt(Gt){Pe.manager.emit(Gt,he)}Ke<8&&yt(Pe.options.event+FH(Ke)),yt(Pe.options.event),he.additionalEvent&&yt(he.additionalEvent),Ke>=8&&yt(Pe.options.event+FH(Ke))},tryEmit:function(he){if(this.canEmit())return this.emit(he);this.state=Fm},canEmit:function(){for(var he=0;he<this.requireFail.length;){if(!(this.requireFail[he].state&(Fm|UR)))return!1;he++}return!0},recognize:function(he){var Pe=g({},he);if(!me(this.options.enable,[this,Pe]))return this.reset(),void(this.state=Fm);56&this.state&&(this.state=UR),this.state=this.process(Pe),30&this.state&&this.tryEmit(Pe)},process:function(he){},getTouchAction:function(){},reset:function(){}},K(eh,$m,{defaults:{pointers:1},attrTest:function(he){var Pe=this.options.pointers;return Pe===0||he.pointers.length===Pe},process:function(he){var Pe=this.state,Ke=he.eventType,yt=6&Pe,Gt=this.attrTest(he);return yt&&(Ke&Ri||!Gt)?16|Pe:yt||Gt?Ke&oo?8|Pe:2&Pe?4|Pe:2:Fm}}),K(YR,eh,{defaults:{event:"pan",threshold:10,pointers:1,direction:$i},getTouchAction:function(){var he=this.options.direction,Pe=[];return he&ao&&Pe.push(Kk),he&to&&Pe.push(Qk),Pe},directionTest:function(he){var Pe=this.options,Ke=!0,yt=he.distance,Gt=he.direction,qr=he.deltaX,vo=he.deltaY;return Gt&Pe.direction||(Pe.direction&ao?(Gt=qr===0?Zu:qr<0?Rc:so,Ke=qr!=this.pX,yt=Math.abs(he.deltaX)):(Gt=vo===0?Zu:vo<0?ki:xi,Ke=vo!=this.pY,yt=Math.abs(he.deltaY))),he.direction=Gt,Ke&&yt>Pe.threshold&&Gt&Pe.direction},attrTest:function(he){return eh.prototype.attrTest.call(this,he)&&(2&this.state||!(2&this.state)&&this.directionTest(he))},emit:function(he){this.pX=he.deltaX,this.pY=he.deltaY;var Pe=$H(he.direction);Pe&&(he.additionalEvent=this.options.event+Pe),this._super.emit.call(this,he)}}),K(hL,eh,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[o1]},attrTest:function(he){return this._super.attrTest.call(this,he)&&(Math.abs(he.scale-1)>this.options.threshold||2&this.state)},emit:function(he){if(he.scale!==1){var Pe=he.scale<1?"in":"out";he.additionalEvent=this.options.event+Pe}this._super.emit.call(this,he)}}),K(pL,$m,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[LH]},process:function(he){var Pe=this.options,Ke=he.pointers.length===Pe.pointers,yt=he.distance<Pe.threshold,Gt=he.deltaTime>Pe.time;if(this._input=he,!yt||!Ke||he.eventType&(oo|Ri)&&!Gt)this.reset();else if(he.eventType&gn)this.reset(),this._timer=L(function(){this.state=8,this.tryEmit()},Pe.time,this);else if(he.eventType&oo)return 8;return Fm},reset:function(){clearTimeout(this._timer)},emit:function(he){this.state===8&&(he&&he.eventType&oo?this.manager.emit(this.options.event+"up",he):(this._input.timeStamp=A(),this.manager.emit(this.options.event,this._input)))}}),K(mL,eh,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[o1]},attrTest:function(he){return this._super.attrTest.call(this,he)&&(Math.abs(he.rotation)>this.options.threshold||2&this.state)}}),K(gL,eh,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ao|to,pointers:1},getTouchAction:function(){return YR.prototype.getTouchAction.call(this)},attrTest:function(he){var Pe,Ke=this.options.direction;return Ke&(ao|to)?Pe=he.overallVelocity:Ke&ao?Pe=he.overallVelocityX:Ke&to&&(Pe=he.overallVelocityY),this._super.attrTest.call(this,he)&&Ke&he.offsetDirection&&he.distance>this.options.threshold&&he.maxPointers==this.options.pointers&&M(Pe)>this.options.velocity&&he.eventType&oo},emit:function(he){var Pe=$H(he.offsetDirection);Pe&&this.manager.emit(this.options.event+Pe,he),this.manager.emit(this.options.event,he)}}),K(QR,$m,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[dL]},process:function(he){var Pe=this.options,Ke=he.pointers.length===Pe.pointers,yt=he.distance<Pe.threshold,Gt=he.deltaTime<Pe.time;if(this.reset(),he.eventType&gn&&this.count===0)return this.failTimeout();if(yt&&Gt&&Ke){if(he.eventType!=oo)return this.failTimeout();var qr=!this.pTime||he.timeStamp-this.pTime<Pe.interval,vo=!this.pCenter||cn(this.pCenter,he.center)<Pe.posThreshold;if(this.pTime=he.timeStamp,this.pCenter=he.center,vo&&qr?this.count+=1:this.count=1,this._input=he,this.count%Pe.taps===0)return this.hasRequireFailures()?(this._timer=L(function(){this.state=8,this.tryEmit()},Pe.interval,this),2):8}return Fm},failTimeout:function(){return this._timer=L(function(){this.state=Fm},this.options.interval,this),Fm},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),wy.VERSION="2.0.7",wy.defaults={domEvents:!1,touchAction:IH,enable:!0,inputTarget:null,inputClass:null,preset:[[mL,{enable:!1}],[hL,{enable:!1},["rotate"]],[gL,{direction:ao}],[YR,{direction:ao},["swipe"]],[QR],[QR,{event:"doubletap",taps:2},["tap"]],[pL]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function yL(he,Pe){var Ke;this.options=g({},wy.defaults,Pe||{}),this.options.inputTarget=this.options.inputTarget||he,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=he,this.input=new((Ke=this).options.inputClass||(Yi?cL:Fi?WR:wr?uL:Ju))(Ke,ke),this.touchAction=new fL(this,this.options.touchAction),BH(this,!0),H(this.options.recognizers,function(yt){var Gt=this.add(new yt[0](yt[1]));yt[2]&&Gt.recognizeWith(yt[2]),yt[3]&&Gt.requireFailure(yt[3])},this)}function BH(he,Pe){var Ke,yt=he.element;yt.style&&(H(he.options.cssProps,function(Gt,qr){Ke=fr(yt.style,qr),Pe?(he.oldCssProps[Ke]=yt.style[Ke],yt.style[Ke]=Gt):yt.style[Ke]=he.oldCssProps[Ke]||""}),Pe||(he.oldCssProps={}))}yL.prototype={set:function(he){return g(this.options,he),he.touchAction&&this.touchAction.update(),he.inputTarget&&(this.input.destroy(),this.input.target=he.inputTarget,this.input.init()),this},stop:function(he){this.session.stopped=he?2:1},recognize:function(he){var Pe=this.session;if(!Pe.stopped){var Ke;this.touchAction.preventDefaults(he);var yt=this.recognizers,Gt=Pe.curRecognizer;(!Gt||Gt&&8&Gt.state)&&(Gt=Pe.curRecognizer=null);for(var qr=0;qr<yt.length;)Ke=yt[qr],Pe.stopped===2||Gt&&Ke!=Gt&&!Ke.canRecognizeWith(Gt)?Ke.reset():Ke.recognize(he),!Gt&&14&Ke.state&&(Gt=Pe.curRecognizer=Ke),qr++}},get:function(he){if(he instanceof $m)return he;for(var Pe=this.recognizers,Ke=0;Ke<Pe.length;Ke++)if(Pe[Ke].options.event==he)return Pe[Ke];return null},add:function(he){if(z(he,"add",this))return this;var Pe=this.get(he.options.event);return Pe&&this.remove(Pe),this.recognizers.push(he),he.manager=this,this.touchAction.update(),he},remove:function(he){if(z(he,"remove",this))return this;if(he=this.get(he)){var Pe=this.recognizers,Ke=zt(Pe,he);Ke!==-1&&(Pe.splice(Ke,1),this.touchAction.update())}return this},on:function(he,Pe){if(he!==p&&Pe!==p){var Ke=this.handlers;return H(Mn(he),function(yt){Ke[yt]=Ke[yt]||[],Ke[yt].push(Pe)}),this}},off:function(he,Pe){if(he!==p){var Ke=this.handlers;return H(Mn(he),function(yt){Pe?Ke[yt]&&Ke[yt].splice(zt(Ke[yt],Pe),1):delete Ke[yt]}),this}},emit:function(he,Pe){this.options.domEvents&&function(Gt,qr){var vo=d.createEvent("Event");vo.initEvent(Gt,!0,!0),vo.gesture=qr,qr.target.dispatchEvent(vo)}(he,Pe);var Ke=this.handlers[he]&&this.handlers[he].slice();if(Ke&&Ke.length){Pe.type=he,Pe.preventDefault=function(){Pe.srcEvent.preventDefault()};for(var yt=0;yt<Ke.length;)Ke[yt](Pe),yt++}},destroy:function(){this.element&&BH(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},g(wy,{INPUT_START:gn,INPUT_MOVE:2,INPUT_END:oo,INPUT_CANCEL:Ri,STATE_POSSIBLE:UR,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Fm,DIRECTION_NONE:Zu,DIRECTION_LEFT:Rc,DIRECTION_RIGHT:so,DIRECTION_UP:ki,DIRECTION_DOWN:xi,DIRECTION_HORIZONTAL:ao,DIRECTION_VERTICAL:to,DIRECTION_ALL:$i,Manager:yL,Input:Qo,TouchAction:fL,TouchInput:WR,MouseInput:Ju,PointerEventInput:cL,TouchMouseInput:uL,SingleTouchInput:PH,Recognizer:$m,AttrRecognizer:eh,Tap:QR,Pan:YR,Swipe:gL,Pinch:hL,Rotate:mL,Press:pL,on:$e,off:He,each:H,merge:X,extend:re,assign:g,inherit:K,bindFn:ue,prefixed:fr}),(l!==void 0?l:typeof self<"u"?self:{}).Hammer=wy,s.exports?s.exports=wy:l.Hammer=wy})(window,document)})(tS);var cp=B5(tS.exports),yl=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function kc(s,l){return l.get(s,!1)}function nS(s){s.preventDefault(),typeof s.stopPropagation=="function"?s.stopPropagation():s.srcEvent&&typeof s.srcEvent.stopPropagation=="function"&&s.srcEvent.stopPropagation(),typeof s.stopImmediatePropagation=="function"&&s.stopImmediatePropagation()}function rS(s){function l(S){setTimeout(function(){I(yl,function(O){Xt.unbind(s,O,nS,!0)})},500)}Xt.bind(s,"touchstart",function(S){I(yl,function(O){Xt.bind(s,O,nS,!0)})},!0),Xt.bind(s,"touchend",l,!0),Xt.bind(s,"touchcancel",l,!0);var d=new cp.Manager(s,{inputClass:cp.TouchInput,recognizers:[],domEvents:!0}),f=new cp.Tap,p=new cp.Pan({threshold:10}),g=new cp.Press,b=new cp.Pinch,w=new cp.Tap({event:"doubletap",taps:2});return b.requireFailure(p),b.requireFailure(g),d.add([p,g,b,w,f]),d.reset=function(S){var O=this.recognizers,M=this.session;M.stopped||(d.stop(S),setTimeout(function(){var A,L;for(A=0;L=O[A];A++)L.reset(),L.state=8;M.curRecognizer=null},0))},d.on("hammer.input",function(S){S.srcEvent.defaultPrevented&&d.reset(!0)}),d}function S0(s,l,d,f,p){var g,b=kc("dragging",s),w=kc("move",s),S=kc("contextPad",s),O=kc("palette",s);function M(z,H){return function(Q){var re=A(Q.target),X=re&&f.get(re);return H&&(Q.srcEvent.button=H),p.fire(z,Q,X)}}function A(z){return Je(z,"svg, .djs-element",!0)}function L(z){function H(Q){var re=A(Q.target),X=re&&f.get(re);if(w&&l.getRootElement()!==X)return w.start(Q,X,!0);(function(K){var ue=0,me=0;function ge(He){var Ve=He.deltaX-ue,Xe=He.deltaY-me;l.scroll({dx:Ve,dy:Xe}),ue=He.deltaX,me=He.deltaY}function $e(He){g.off("panmove",ge),g.off("panend",$e),g.off("pancancel",$e)}g.on("panmove",ge),g.on("panend",$e),g.on("pancancel",$e)})()}(g=rS(z)).on("tap",M("element.click")),g.on("doubletap",M("element.dblclick",1)),g.on("panstart",H),g.on("press",H),g.on("pinchstart",function(Q){var re=l.zoom(),X=Q.center;function K(me){var ge=1-(1-me.scale)/1.5,$e=Math.max(.2,Math.min(4,ge*re));l.zoom($e,X),nS(me)}function ue(me){g.off("pinchmove",K),g.off("pinchend",ue),g.off("pinchcancel",ue),g.reset(!0)}g.on("pinchmove",K),g.on("pinchend",ue),g.on("pinchcancel",ue)})}b&&d.on("drag.move",function(z){var H=z.originalEvent;if(H&&!(H instanceof MouseEvent)){var Q=Ut(H),re=A(document.elementFromPoint(Q.x,Q.y)),X=re&&f.get(re);X!==z.hover&&(z.hover&&b.out(z),X&&(b.hover({element:X,gfx:re}),z.hover=X,z.hoverGfx=re))}}),S&&d.on("contextPad.create",function(z){var H=rS(z.pad.html);H.on("panstart",function(Q){S.trigger("dragstart",Q,!0)}),H.on("press",function(Q){S.trigger("dragstart",Q,!0)}),H.on("tap",function(Q){S.trigger("click",Q)})}),O&&d.on("palette.create",function(z){var H=rS(z.container);H.on("panstart",function(Q){O.trigger("dragstart",Q,!0)}),H.on("press",function(Q){O.trigger("dragstart",Q,!0)}),H.on("tap",function(Q){O.trigger("click",Q)})}),d.on("canvas.init",function(z){L(z.svg)})}function up(s){var l=this;s.on("canvas.init",function(d){l.addBBoxMarker(d.svg)})}S0.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],up.$inject=["eventBus"],up.prototype.addBBoxMarker=function(s){var l={fill:"none",class:"outer-bound-marker"},d=Rt("rect");Ct(d,{x:-1e4,y:1e4,width:10,height:10}),Ct(d,l),ct(s,d);var f=Rt("rect");Ct(f,{x:1e4,y:1e4,width:10,height:10}),Ct(f,l),ct(s,f)};var bT={__depends__:[{__depends__:[Lt],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",S0],touchFix:["type",up]}]};function ox(s){return s&&s[s.length-1]}function xT(s){return s.y}function iS(s){return s.x}var Ug={left:iS,center:iS,right:function(s){return s.x+s.width},top:xT,middle:xT,bottom:function(s){return s.y+s.height}};function Bd(s,l){this._modeling=s,this._rules=l}Bd.$inject=["modeling","rules"],Bd.prototype._getOrientationDetails=function(s){var l="x",d="width";return["top","bottom","middle"].indexOf(s)!==-1&&(l="y",d="height"),{axis:l,dimension:d}},Bd.prototype._isType=function(s,l){return l.indexOf(s)!==-1},Bd.prototype._alignmentPosition=function(s,l){var d,f,p,g=this._getOrientationDetails(s),b=g.axis,w=g.dimension,S={},O={},M=!1;if(this._isType(s,["left","top"]))S[s]=l[0][b];else if(this._isType(s,["right","bottom"]))p=ox(l),S[s]=p[b]+p[w];else if(this._isType(s,["center","middle"])){if(I(l,function(A){var L=A[b]+Math.round(A[w]/2);O[L]?O[L].elements.push(A):O[L]={elements:[A],center:L}}),d=Fe(O,function(A){return A.elements.length>1&&(M=!0),A.elements.length}),M)return S[s]=ox(d).center,S;f=l[0],p=ox(l=Fe(l,function(A){return A[b]+A[w]})),S[s]=function(A,L){return Math.round((A[b]+L[b]+L[w])/2)}(f,p)}return S},Bd.prototype.trigger=function(s,l){var d,f=this._modeling,p=B(s,function(w){return!(w.waypoints||w.host||w.labelTarget)});if(v(d=this._rules.allowed("elements.align",{elements:p}))&&(p=d),!(p.length<2)&&d){var g=Fe(p,Ug[l]),b=this._alignmentPosition(l,g);f.alignElements(g,b)}};var j5={__init__:["alignElements"],alignElements:["type",Bd]},k0=".entry";function tl(s,l,d,f){this._canvas=s,this._eventBus=d,this._overlays=f;var p=h(l&&l.scale)?l.scale:{min:1,max:1.5};this._overlaysConfig={scale:p},this._current=null,this._init()}function C0(s,l){return s.indexOf(l)!==-1}tl.$inject=["canvas","config.contextPad","eventBus","overlays"],tl.prototype._init=function(){var s=this;this._eventBus.on("selection.changed",function(l){var d=l.newSelection,f=d.length?d.length===1?d[0]:d:null;f?s.open(f,!0):s.close()}),this._eventBus.on("elements.changed",function(l){var d=l.elements,f=s._current;if(f){var p=f.target;ae(v(p)?p:[p],function(g){return C0(d,g)})&&s.open(p,!0)}})},tl.prototype.registerProvider=function(s,l){l||(l=s,s=1e3),this._eventBus.on("contextPad.getProviders",s,function(d){d.providers.push(l)})},tl.prototype.getEntries=function(s){var l=this._getProviders(),d=v(s)?"getMultiElementContextPadEntries":"getContextPadEntries",f={};return I(l,function(p){if(R(p[d])){var g=p[d](s);R(g)?f=g(f):I(g,function(b,w){f[w]=b})}}),f},tl.prototype.trigger=function(s,l,d){var f,p,g=l.delegateTarget||l.target;return g?(f=En(g,"data-action"),p=l.originalEvent||l,s==="mouseover"?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(f,"hover",p,d)},300):s==="mouseout"&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(f,s,p,d)):l.preventDefault()},tl.prototype.triggerEntry=function(s,l,d,f){if(this.isShown()){var p=this._current.target,g=this._current.entries[s];if(g){var b=g.action;if(this._eventBus.fire("contextPad.trigger",{entry:g,event:d})!==!1){if(R(b)){if(l==="click")return b(d,p,f)}else if(b[l])return b[l](d,p,f);d.preventDefault()}}}},tl.prototype.open=function(s,l){!l&&this.isOpen(s)||(this.close(),this._updateAndOpen(s))},tl.prototype._getProviders=function(){var s=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(s),s.providers},tl.prototype._updateAndOpen=function(s){var l,d=this.getEntries(s),f=this.getPad(s),p=f.html;I(d,function(g,b){var w,S=g.group||"default",O=_r(g.html||'<div class="entry" draggable="true"></div>');En(O,"data-action",b),(w=mr("[data-group="+Uo(S)+"]",p))||(En(w=_r('<div class="group"></div>'),"data-group",S),p.appendChild(w)),w.appendChild(O),g.className&&function(M,A){var L=nr(M);(A=v(A)?A:A.split(/\s+/g)).forEach(function(z){L.add(z)})}(O,g.className),g.title&&En(O,"title",g.title),g.imageUrl&&(En(l=_r("<img>"),"src",g.imageUrl),l.style.width="100%",l.style.height="100%",O.appendChild(l))}),nr(p).add("open"),this._current={target:s,entries:d,pad:f},this._eventBus.fire("contextPad.open",{current:this._current})},tl.prototype.getPad=function(s){if(this.isOpen())return this._current.pad;var l=this,d=this._overlays,f=_r('<div class="djs-context-pad"></div>'),p=this._getPosition(s),g=ve({html:f},this._overlaysConfig,p);fi.bind(f,k0,"click",function(S){l.trigger("click",S)}),fi.bind(f,k0,"dragstart",function(S){l.trigger("dragstart",S)}),fi.bind(f,k0,"mouseover",function(S){l.trigger("mouseover",S)}),fi.bind(f,k0,"mouseout",function(S){l.trigger("mouseout",S)}),Xt.bind(f,"mousedown",function(S){S.stopPropagation()});var b=this._canvas.getRootElement();this._overlayId=d.add(b,"context-pad",g);var w=d.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:s,pad:w}),w},tl.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},tl.prototype.isOpen=function(s){var l=this._current;if(!l)return!1;if(!s)return!0;var d=l.target;return v(s)===v(d)&&(v(s)?s.length===d.length&&ne(s,function(f){return C0(d,f)}):d===s)},tl.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},tl.prototype._getPosition=function(s){var l,d=So(v(s=Si(s)?(l=s).waypoints[l.waypoints.length-1]:s)?s:[s]);return{position:{left:d.x+d.width+12,top:d.y-6}}};var O0,Nr,sx,jd,wT,oS,Gg,sS={__depends__:[Lt,yo],contextPad:["type",tl]},dp={},_T=[],ET=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Gu=Array.isArray;function qf(s,l){for(var d in l)s[d]=l[d];return s}function aS(s){var l=s.parentNode;l&&l.removeChild(s)}function ST(s,l,d){var f,p,g,b={};for(g in l)g=="key"?f=l[g]:g=="ref"?p=l[g]:b[g]=l[g];if(arguments.length>2&&(b.children=arguments.length>3?O0.call(arguments,2):d),typeof s=="function"&&s.defaultProps!=null)for(g in s.defaultProps)b[g]===void 0&&(b[g]=s.defaultProps[g]);return T0(s,b,f,p,null)}function T0(s,l,d,f,p){var g={type:s,props:l,key:d,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:p??++sx};return p==null&&Nr.vnode!=null&&Nr.vnode(g),g}function ax(s){return s.children}function lx(s,l){this.props=s,this.context=l}function Cc(s,l){if(l==null)return s.__?Cc(s.__,s.__.__k.indexOf(s)+1):null;for(var d;l<s.__k.length;l++)if((d=s.__k[l])!=null&&d.__e!=null)return d.__d||d.__e;return typeof s.type=="function"?Cc(s):null}function cx(s){var l,d;if((s=s.__)!=null&&s.__c!=null){for(s.__e=s.__c.base=null,l=0;l<s.__k.length;l++)if((d=s.__k[l])!=null&&d.__e!=null){s.__e=s.__c.base=d.__e;break}return cx(s)}}function ux(s){(!s.__d&&(s.__d=!0)&&jd.push(s)&&!Yg.__r++||wT!==Nr.debounceRendering)&&((wT=Nr.debounceRendering)||oS)(Yg)}function Yg(){var s,l,d,f,p,g,b,w,S;for(jd.sort(Gg);s=jd.shift();)s.__d&&(l=jd.length,f=void 0,p=void 0,g=void 0,w=(b=(d=s).__v).__e,(S=d.__P)&&(f=[],p=[],(g=qf({},b)).__v=b.__v+1,px(S,b,g,d.__n,S.ownerSVGElement!==void 0,b.__h!=null?[w]:null,f,w??Cc(b),b.__h,p),Pa(f,b,p),b.__e!=w&&cx(b)),jd.length>l&&jd.sort(Gg));Yg.__r=0}function A0(s,l,d,f,p,g,b,w,S,O,M){var A,L,z,H,Q,re,X,K,ue,me=0,ge=f&&f.__k||_T,$e=ge.length,He=$e,Ve=l.length;for(d.__k=[],A=0;A<Ve;A++)(H=d.__k[A]=(H=l[A])==null||typeof H=="boolean"||typeof H=="function"?null:typeof H=="string"||typeof H=="number"||typeof H=="bigint"?T0(null,H,null,null,H):Gu(H)?T0(ax,{children:H},null,null,null):H.__b>0?T0(H.type,H.props,H.key,H.ref?H.ref:null,H.__v):H)!=null?(H.__=d,H.__b=d.__b+1,(K=dx(H,ge,X=A+me,He))===-1?z=dp:(z=ge[K]||dp,ge[K]=void 0,He--),px(s,H,z,p,g,b,w,S,O,M),Q=H.__e,(L=H.ref)&&z.ref!=L&&(z.ref&&lS(z.ref,null,H),M.push(L,H.__c||Q,H)),Q!=null&&(re==null&&(re=Q),(ue=z===dp||z.__v===null)?K==-1&&me--:K!==X&&(K===X+1?me++:K>X?He>Ve-X?me+=K-X:me--:me=K<X&&K==X-1?K-X:0),X=A+me,typeof H.type!="function"||K===X&&z.__k!==H.__k?typeof H.type=="function"||K===X&&!ue?H.__d!==void 0?(S=H.__d,H.__d=void 0):S=Q.nextSibling:S=sr(s,Q,S):S=Sm(H,S,s),typeof d.type=="function"&&(d.__d=S))):(z=ge[A])&&z.key==null&&z.__e&&(z.__e==S&&(z.__=f,S=Cc(z)),mx(z,z,!1),ge[A]=null);for(d.__e=re,A=$e;A--;)ge[A]!=null&&(typeof d.type=="function"&&ge[A].__e!=null&&ge[A].__e==d.__d&&(d.__d=ge[A].__e.nextSibling),mx(ge[A],ge[A]))}function Sm(s,l,d){for(var f,p=s.__k,g=0;p&&g<p.length;g++)(f=p[g])&&(f.__=s,l=typeof f.type=="function"?Sm(f,l,d):sr(d,f.__e,l));return l}function sr(s,l,d){return d==null||d.parentNode!==s?s.insertBefore(l,null):l==d&&l.parentNode!=null||s.insertBefore(l,d),l.nextSibling}function dx(s,l,d,f){var p=s.key,g=s.type,b=d-1,w=d+1,S=l[d];if(S===null||S&&p==S.key&&g===S.type)return d;if(f>(S!=null?1:0))for(;b>=0||w<l.length;){if(b>=0){if((S=l[b])&&p==S.key&&g===S.type)return b;b--}if(w<l.length){if((S=l[w])&&p==S.key&&g===S.type)return w;w++}}return-1}function fx(s,l,d){l[0]==="-"?s.setProperty(l,d??""):s[l]=d==null?"":typeof d!="number"||ET.test(l)?d:d+"px"}function Vd(s,l,d,f,p){var g;e:if(l==="style")if(typeof d=="string")s.style.cssText=d;else{if(typeof f=="string"&&(s.style.cssText=f=""),f)for(l in f)d&&l in d||fx(s.style,l,"");if(d)for(l in d)f&&d[l]===f[l]||fx(s.style,l,d[l])}else if(l[0]==="o"&&l[1]==="n")g=l!==(l=l.replace(/(PointerCapture)$|Capture$/,"$1")),l=l.toLowerCase()in s?l.toLowerCase().slice(2):l.slice(2),s.l||(s.l={}),s.l[l+g]=d,d?f?d.u=f.u:(d.u=Date.now(),s.addEventListener(l,g?hx:kT,g)):s.removeEventListener(l,g?hx:kT,g);else if(l!=="dangerouslySetInnerHTML"){if(p)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(l!=="width"&&l!=="height"&&l!=="href"&&l!=="list"&&l!=="form"&&l!=="tabIndex"&&l!=="download"&&l!=="rowSpan"&&l!=="colSpan"&&l!=="role"&&l in s)try{s[l]=d??"";break e}catch{}typeof d=="function"||(d==null||d===!1&&l[4]!=="-"?s.removeAttribute(l):s.setAttribute(l,d))}}function kT(s){var l=this.l[s.type+!1];if(s.t){if(s.t<=l.u)return}else s.t=Date.now();return l(Nr.event?Nr.event(s):s)}function hx(s){return this.l[s.type+!0](Nr.event?Nr.event(s):s)}function px(s,l,d,f,p,g,b,w,S,O){var M,A,L,z,H,Q,re,X,K,ue,me,ge,$e,He,Ve,Xe=l.type;if(l.constructor!==void 0)return null;d.__h!=null&&(S=d.__h,w=l.__e=d.__e,l.__h=null,g=[w]),(M=Nr.__b)&&M(l);e:if(typeof Xe=="function")try{if(X=l.props,K=(M=Xe.contextType)&&f[M.__c],ue=M?K?K.props.value:M.__:f,d.__c?re=(A=l.__c=d.__c).__=A.__E:("prototype"in Xe&&Xe.prototype.render?l.__c=A=new Xe(X,ue):(l.__c=A=new lx(X,ue),A.constructor=Xe,A.render=z5),K&&K.sub(A),A.props=X,A.state||(A.state={}),A.context=ue,A.__n=f,L=A.__d=!0,A.__h=[],A._sb=[]),A.__s==null&&(A.__s=A.state),Xe.getDerivedStateFromProps!=null&&(A.__s==A.state&&(A.__s=qf({},A.__s)),qf(A.__s,Xe.getDerivedStateFromProps(X,A.__s))),z=A.props,H=A.state,A.__v=l,L)Xe.getDerivedStateFromProps==null&&A.componentWillMount!=null&&A.componentWillMount(),A.componentDidMount!=null&&A.__h.push(A.componentDidMount);else{if(Xe.getDerivedStateFromProps==null&&X!==z&&A.componentWillReceiveProps!=null&&A.componentWillReceiveProps(X,ue),!A.__e&&(A.shouldComponentUpdate!=null&&A.shouldComponentUpdate(X,A.__s,ue)===!1||l.__v===d.__v)){for(l.__v!==d.__v&&(A.props=X,A.state=A.__s,A.__d=!1),l.__e=d.__e,l.__k=d.__k,l.__k.forEach(function(Mn){Mn&&(Mn.__=l)}),me=0;me<A._sb.length;me++)A.__h.push(A._sb[me]);A._sb=[],A.__h.length&&b.push(A);break e}A.componentWillUpdate!=null&&A.componentWillUpdate(X,A.__s,ue),A.componentDidUpdate!=null&&A.__h.push(function(){A.componentDidUpdate(z,H,Q)})}if(A.context=ue,A.props=X,A.__P=s,A.__e=!1,ge=Nr.__r,$e=0,"prototype"in Xe&&Xe.prototype.render){for(A.state=A.__s,A.__d=!1,ge&&ge(l),M=A.render(A.props,A.state,A.context),He=0;He<A._sb.length;He++)A.__h.push(A._sb[He]);A._sb=[]}else do A.__d=!1,ge&&ge(l),M=A.render(A.props,A.state,A.context),A.state=A.__s;while(A.__d&&++$e<25);A.state=A.__s,A.getChildContext!=null&&(f=qf(qf({},f),A.getChildContext())),L||A.getSnapshotBeforeUpdate==null||(Q=A.getSnapshotBeforeUpdate(z,H)),A0(s,Gu(Ve=M!=null&&M.type===ax&&M.key==null?M.props.children:M)?Ve:[Ve],l,d,f,p,g,b,w,S,O),A.base=l.__e,l.__h=null,A.__h.length&&b.push(A),re&&(A.__E=A.__=null)}catch(Mn){l.__v=null,(S||g!=null)&&(l.__e=w,l.__h=!!S,g[g.indexOf(w)]=null),Nr.__e(Mn,l,d)}else g==null&&l.__v===d.__v?(l.__k=d.__k,l.__e=d.__e):l.__e=V5(d.__e,l,d,f,p,g,b,S,O);(M=Nr.diffed)&&M(l)}function Pa(s,l,d){for(var f=0;f<d.length;f++)lS(d[f],d[++f],d[++f]);Nr.__c&&Nr.__c(l,s),s.some(function(p){try{s=p.__h,p.__h=[],s.some(function(g){g.call(p)})}catch(g){Nr.__e(g,p.__v)}})}function V5(s,l,d,f,p,g,b,w,S){var O,M,A,L=d.props,z=l.props,H=l.type,Q=0;if(H==="svg"&&(p=!0),g!=null){for(;Q<g.length;Q++)if((O=g[Q])&&"setAttribute"in O==!!H&&(H?O.localName===H:O.nodeType===3)){s=O,g[Q]=null;break}}if(s==null){if(H===null)return document.createTextNode(z);s=p?document.createElementNS("http://www.w3.org/2000/svg",H):document.createElement(H,z.is&&z),g=null,w=!1}if(H===null)L===z||w&&s.data===z||(s.data=z);else{if(g=g&&O0.call(s.childNodes),M=(L=d.props||dp).dangerouslySetInnerHTML,A=z.dangerouslySetInnerHTML,!w){if(g!=null)for(L={},Q=0;Q<s.attributes.length;Q++)L[s.attributes[Q].name]=s.attributes[Q].value;(A||M)&&(A&&(M&&A.__html==M.__html||A.__html===s.innerHTML)||(s.innerHTML=A&&A.__html||""))}if(function(re,X,K,ue,me){var ge;for(ge in K)ge==="children"||ge==="key"||ge in X||Vd(re,ge,null,K[ge],ue);for(ge in X)me&&typeof X[ge]!="function"||ge==="children"||ge==="key"||ge==="value"||ge==="checked"||K[ge]===X[ge]||Vd(re,ge,X[ge],K[ge],ue)}(s,z,L,p,w),A)l.__k=[];else if(A0(s,Gu(Q=l.props.children)?Q:[Q],l,d,f,p&&H!=="foreignObject",g,b,g?g[0]:d.__k&&Cc(d,0),w,S),g!=null)for(Q=g.length;Q--;)g[Q]!=null&&aS(g[Q]);w||("value"in z&&(Q=z.value)!==void 0&&(Q!==s.value||H==="progress"&&!Q||H==="option"&&Q!==L.value)&&Vd(s,"value",Q,L.value,!1),"checked"in z&&(Q=z.checked)!==void 0&&Q!==s.checked&&Vd(s,"checked",Q,L.checked,!1))}return s}function lS(s,l,d){try{typeof s=="function"?s(l):s.current=l}catch(f){Nr.__e(f,d)}}function mx(s,l,d){var f,p;if(Nr.unmount&&Nr.unmount(s),(f=s.ref)&&(f.current&&f.current!==s.__e||lS(f,null,l)),(f=s.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(g){Nr.__e(g,l)}f.base=f.__P=null,s.__c=void 0}if(f=s.__k)for(p=0;p<f.length;p++)f[p]&&mx(f[p],l,d||typeof s.type!="function");d||s.__e==null||aS(s.__e),s.__=s.__e=s.__d=void 0}function z5(s,l,d){return this.constructor(s,d)}function cS(s,l,d){var f,p,g,b;Nr.__&&Nr.__(s,l),p=(f=typeof d=="function")?null:l.__k,g=[],b=[],px(l,s=(!f&&d||l).__k=ST(ax,null,[s]),p||dp,dp,l.ownerSVGElement!==void 0,!f&&d?[d]:p?null:l.firstChild?O0.call(l.childNodes):null,g,!f&&d?d:p?p.__e:l.firstChild,f,b),Pa(g,s,b)}O0=_T.slice,Nr={__e:function(s,l,d,f){for(var p,g,b;l=l.__;)if((p=l.__c)&&!p.__)try{if((g=p.constructor)&&g.getDerivedStateFromError!=null&&(p.setState(g.getDerivedStateFromError(s)),b=p.__d),p.componentDidCatch!=null&&(p.componentDidCatch(s,f||{}),b=p.__d),b)return p.__E=p}catch(w){s=w}throw s}},sx=0,lx.prototype.setState=function(s,l){var d;d=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=qf({},this.state),typeof s=="function"&&(s=s(qf({},d),this.props)),s&&qf(d,s),s!=null&&this.__v&&(l&&this._sb.push(l),ux(this))},lx.prototype.forceUpdate=function(s){this.__v&&(this.__e=!0,s&&this.__h.push(s),ux(this))},lx.prototype.render=ax,jd=[],oS=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Gg=function(s,l){return s.__v.__b-l.__v.__b},Yg.__r=0;var CT=function(s,l,d,f){var p;l[0]=0;for(var g=1;g<l.length;g++){var b=l[g++],w=l[g]?(l[0]|=b?1:2,d[l[g++]]):l[++g];b===3?f[0]=w:b===4?f[1]=Object.assign(f[1]||{},w):b===5?(f[1]=f[1]||{})[l[++g]]=w:b===6?f[1][l[++g]]+=w+"":b?(p=s.apply(w,CT(s,w,d,["",null])),f.push(p),w[0]?l[0]|=2:(l[g-2]=0,l[g]=p)):f.push(w)}return f},OT=new Map,Qg,Gi,Ma,gx,Is=(function(s){var l=OT.get(this);return l||(l=new Map,OT.set(this,l)),(l=CT(this,l.get(s)||(l.set(s,l=function(d){for(var f,p,g=1,b="",w="",S=[0],O=function(L){g===1&&(L||(b=b.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?S.push(0,L,b):g===3&&(L||b)?(S.push(3,L,b),g=2):g===2&&b==="..."&&L?S.push(4,L,0):g===2&&b&&!L?S.push(5,0,!0,b):g>=5&&((b||!L&&g===5)&&(S.push(g,0,b,p),g=6),L&&(S.push(g,L,0,p),g=6)),b=""},M=0;M<d.length;M++){M&&(g===1&&O(),O(M));for(var A=0;A<d[M].length;A++)f=d[M][A],g===1?f==="<"?(O(),S=[S],g=3):b+=f:g===4?b==="--"&&f===">"?(g=1,b=""):b=f+b[0]:w?f===w?w="":b+=f:f==='"'||f==="'"?w=f:f===">"?(O(),g=1):g&&(f==="="?(g=5,p=b,b=""):f==="/"&&(g<5||d[M][A+1]===">")?(O(),g===3&&(S=S[0]),g=S,(S=S[0]).push(2,0,g),g=0):f===" "||f==="	"||f===`
`||f==="\r"?(O(),g=2):b+=f),g===3&&b==="!--"&&(g=4,S=S[0])}return O(),S}(s)),l),arguments,[])).length>1?l:l[0]}).bind(ST),km=0,TT=[],yx=[],Kg=Nr.__b,uS=Nr.__r,dS=Nr.diffed,AT=Nr.__c,RT=Nr.unmount;function vx(s,l){Nr.__h&&Nr.__h(Gi,s,km||l),km=0;var d=Gi.__H||(Gi.__H={__:[],__h:[]});return s>=d.__.length&&d.__.push({__V:yx}),d.__[s]}function fS(s){return km=1,function(l,d,f){var p=vx(Qg++,2);if(p.t=l,!p.__c&&(p.__=[Yu(void 0,d),function(S){var O=p.__N?p.__N[0]:p.__[0],M=p.t(O,S);O!==M&&(p.__N=[M,p.__[1]],p.__c.setState({}))}],p.__c=Gi,!Gi.u)){var g=function(S,O,M){if(!p.__c.__H)return!0;var A=p.__c.__H.__.filter(function(z){return z.__c});if(A.every(function(z){return!z.__N}))return!b||b.call(this,S,O,M);var L=!1;return A.forEach(function(z){if(z.__N){var H=z.__[0];z.__=z.__N,z.__N=void 0,H!==z.__[0]&&(L=!0)}}),!(!L&&p.__c.props===S)&&(!b||b.call(this,S,O,M))};Gi.u=!0;var b=Gi.shouldComponentUpdate,w=Gi.componentWillUpdate;Gi.componentWillUpdate=function(S,O,M){if(this.__e){var A=b;b=void 0,g(S,O,M),b=A}w&&w.call(this,S,O,M)},Gi.shouldComponentUpdate=g}return p.__N||p.__}(Yu,s)}function bx(s,l){var d=vx(Qg++,3);!Nr.__s&&wx(d.__H,l)&&(d.__=s,d.i=l,Gi.__H.__h.push(d))}function R0(s,l){var d=vx(Qg++,4);!Nr.__s&&wx(d.__H,l)&&(d.__=s,d.i=l,Gi.__h.push(d))}function hS(s){return km=5,Cm(function(){return{current:s}},[])}function Cm(s,l){var d=vx(Qg++,7);return wx(d.__H,l)?(d.__V=s(),d.i=l,d.__h=s,d.__V):d.__}function Om(s,l){return km=8,Cm(function(){return s},l)}function P0(){for(var s;s=TT.shift();)if(s.__P&&s.__H)try{s.__H.__h.forEach(M0),s.__H.__h.forEach(Xg),s.__H.__h=[]}catch(l){s.__H.__h=[],Nr.__e(l,s.__v)}}Nr.__b=function(s){Gi=null,Kg&&Kg(s)},Nr.__r=function(s){uS&&uS(s),Qg=0;var l=(Gi=s.__c).__H;l&&(Ma===Gi?(l.__h=[],Gi.__h=[],l.__.forEach(function(d){d.__N&&(d.__=d.__N),d.__V=yx,d.__N=d.i=void 0})):(l.__h.forEach(M0),l.__h.forEach(Xg),l.__h=[],Qg=0)),Ma=Gi},Nr.diffed=function(s){dS&&dS(s);var l=s.__c;l&&l.__H&&(l.__H.__h.length&&(TT.push(l)!==1&&gx===Nr.requestAnimationFrame||((gx=Nr.requestAnimationFrame)||PT)(P0)),l.__H.__.forEach(function(d){d.i&&(d.__H=d.i),d.__V!==yx&&(d.__=d.__V),d.i=void 0,d.__V=yx})),Ma=Gi=null},Nr.__c=function(s,l){l.some(function(d){try{d.__h.forEach(M0),d.__h=d.__h.filter(function(f){return!f.__||Xg(f)})}catch(f){l.some(function(p){p.__h&&(p.__h=[])}),l=[],Nr.__e(f,d.__v)}}),AT&&AT(s,l)},Nr.unmount=function(s){RT&&RT(s);var l,d=s.__c;d&&d.__H&&(d.__H.__.forEach(function(f){try{M0(f)}catch(p){l=p}}),d.__H=void 0,l&&Nr.__e(l,d.__v))};var xx=typeof requestAnimationFrame=="function";function PT(s){var l,d=function(){clearTimeout(f),xx&&cancelAnimationFrame(l),setTimeout(s)},f=setTimeout(d,100);xx&&(l=requestAnimationFrame(d))}function M0(s){var l=Gi,d=s.__c;typeof d=="function"&&(s.__c=void 0,d()),Gi=l}function Xg(s){var l=Gi;s.__c=s.__(),Gi=l}function wx(s,l){return!s||s.length!==l.length||l.some(function(d,f){return d!==s[f]})}function Yu(s,l){return typeof l=="function"?l(s):l}function fp(s){var l,d,f="";if(typeof s=="string"||typeof s=="number")f+=s;else if(typeof s=="object")if(Array.isArray(s))for(l=0;l<s.length;l++)s[l]&&(d=fp(s[l]))&&(f&&(f+=" "),f+=d);else for(l in s)s[l]&&(f&&(f+=" "),f+=l);return f}function _x(){for(var s,l,d=0,f="";d<arguments.length;)(s=arguments[d++])&&(l=fp(s))&&(f&&(f+=" "),f+=l);return f}function MT(s){const{entry:l,selected:d,onMouseEnter:f,onMouseLeave:p,onAction:g}=s;return Is`
    <li
      class=${_x("entry",{selected:d})}
      data-id=${l.id}
      title=${l.title||l.label}
      onClick=${g}
      onMouseEnter=${f}
      onMouseLeave=${p}
      onDragStart=${b=>g(b,l,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${_x("djs-popup-entry-name",l.className)}
        >
          ${l.imageUrl&&Is`<img class="djs-popup-entry-icon" src=${l.imageUrl} alt="" />`||l.imageHtml&&Is`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:l.imageHtml}} />`}

          ${l.label?Is`
            <span class="djs-popup-label">
              ${l.label}
            </span>
          `:null}
        </span>
        ${l.description&&Is`
          <span
            class="djs-popup-entry-description"
            title=${l.description}
          >
            ${l.description}
          </span>
        `}
      </div>
      ${l.documentationRef&&Is`
        <div class="djs-popup-entry-docs">
          <a
            href="${l.documentationRef}"
            onClick=${b=>b.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function H5(s){const{selectedEntry:l,setSelectedEntry:d,entries:f,...p}=s,g=hS(),b=Cm(()=>function(w){const S=[],O=L=>S.find(z=>L.id===z.id),M=L=>!!O(L),A=L=>typeof L=="string"?{id:L}:L;return w.forEach(L=>{const z=L.group?A(L.group):{id:"default"};M(z)?O(z).entries.push(L):S.push({...z,entries:[L]})}),S}(f),[f]);return R0(()=>{const w=g.current;if(!w)return;const S=w.querySelector(".selected");var O;S&&(typeof(O=S).scrollIntoViewIfNeeded=="function"?O.scrollIntoViewIfNeeded():O.scrollIntoView({scrollMode:"if-needed",block:"nearest"}))},[l]),Is`
    <div class="djs-popup-results" ref=${g}>
      ${b.map(w=>Is`
        ${w.name&&Is`
          <div key=${w.id} class="entry-header" title=${w.name}>
            ${w.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${w.id}>
          ${w.entries.map(S=>Is`
            <${MT}
              key=${S.id}
              entry=${S}
              selected=${S===l}
              onMouseEnter=${()=>d(S)}
              onMouseLeave=${()=>d(null)}
              ...${p}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function W5(s){const{onClose:l,onSelect:d,className:f,headerEntries:p,position:g,title:b,width:w,scale:S,search:O,entries:M,onOpened:A,onClosed:L}=s,z=Cm(()=>!!h(O)&&M.length>5,[O,M]),H=hS(),[Q,re]=fS(""),X=Om((zt,nt)=>z?zt.filter(_t=>{if(!nt)return(_t.rank||0)>=0;if(_t.searchable===!1)return!1;const fr=[_t.description||"",_t.label||"",_t.search||""].join("---").toLowerCase();return nt.toLowerCase().split(/\s/g).every(Yn=>fr.includes(Yn))}):zt,[z]),[K,ue]=fS(X(M,Q)),[me,ge]=fS(K[0]),$e=Om(zt=>{me&&zt.includes(me)||ge(zt[0]),ue(zt)},[me,ue,ge]);bx(()=>{$e(X(M,Q))},[Q,M]),bx(()=>{const zt=nt=>{if(nt.key==="Escape")return nt.preventDefault(),l()};return document.documentElement.addEventListener("keydown",zt),()=>{document.documentElement.removeEventListener("keydown",zt)}},[]),R0(()=>{H.current&&H.current.focus()},[]);const He=Om(zt=>{let nt=K.indexOf(me)+zt;nt<0&&(nt=K.length-1),nt>=K.length&&(nt=0),ge(K[nt])},[K,me,ge]),Ve=Om(zt=>zt.key==="Enter"&&me?d(zt,me):zt.key==="ArrowUp"||zt.key==="Tab"&&zt.shiftKey?(He(-1),zt.preventDefault()):zt.key==="ArrowDown"||zt.key==="Tab"?(He(1),zt.preventDefault()):void 0,[d,l,me,He]),Xe=Om(zt=>{We(zt.target,"input")&&re(()=>zt.target.value)},[re]);bx(()=>(A(),()=>{L()}),[]);const Mn=Cm(()=>b||p.length>0,[b,p]);return Is`
    <${DT}
      onClose=${l}
      onKeyup=${Xe}
      onKeydown=${Ve}
      className=${f}
      position=${g}
      width=${w}
      scale=${S}
    >
      ${Mn&&Is`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${b}>${b}</h3>
          ${p.map(zt=>Is`
            <span
              class=${function(nt,_t){return _x("entry",nt.className,nt.active?"active":"",nt.disabled?"disabled":"",_t?"selected":"")}(zt,zt===me)}
              onClick=${nt=>d(nt,zt)}
              title=${zt.title||zt.label}
              data-id=${zt.id}
              onMouseEnter=${()=>ge(zt)}
              onMouseLeave=${()=>ge(null)}
            >
            ${zt.imageUrl&&Is`<img class="djs-popup-entry-icon" src=${zt.imageUrl} alt="" />`||zt.imageHtml&&Is`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:zt.imageHtml}} />`}

              ${zt.label?Is`
                <span class="djs-popup-label">${zt.label}</span>
              `:null}
            </span>
          `)}
        </div>
      `}
      ${M.length>0&&Is`
        <div class="djs-popup-body">

          ${z&&Is`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${H}
                type="text"
              />
          </div>
          `}

          <${H5}
            entries=${K}
            selectedEntry=${me}
            setSelectedEntry=${ge}
            onAction=${d}
          />
        </div>
        ${K.length===0&&Is`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${DT}>
  `}function DT(s){const{onClose:l,onKeydown:d,onKeyup:f,className:p,children:g,position:b}=s,w=hS(),S=Om(O=>{Je(O.target,".djs-popup",!0)||l()},[l]);return R0(()=>{if(typeof b!="function")return;const O=w.current,M=b(O);O.style.left=`${M.x}px`,O.style.top=`${M.y}px`},[w.current,b]),R0(()=>{w.current&&w.current.focus()},[]),Is`
    <div
      class="djs-popup-backdrop"
      onClick=${S}
    >
      <div
        class=${_x("djs-popup",p)}
        style=${function(O){return{transform:`scale(${O.scale})`,width:`${O.width}px`}}(s)}
        onKeydown=${d}
        onKeyup=${f}
        ref=${w}
        tabIndex="-1"
      >
        ${g}
      </div>
    </div>
  `}var NT=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function ns(s,l,d){this._eventBus=l,this._canvas=d,this._current=null;var f=h(s&&s.scale)?s.scale:{min:1,max:1.5};this._config={scale:f},l.on("diagram.destroy",()=>{this.close()}),l.on("element.changed",p=>{const g=this.isOpen()&&this._current.target;p.element===g&&this._render()})}ns.$inject=["config.popupMenu","eventBus","canvas"],ns.prototype._render=function(){const{position:s,className:l,entries:d,headerEntries:f,options:p}=this._current,g=Object.entries(d).map(([O,M])=>({id:O,...M})),b=Object.entries(f).map(([O,M])=>({id:O,...M})),w=s&&(O=>this._ensureVisible(O,s)),S=this._updateScale(this._current.container);cS(Is`
      <${W5}
        onClose=${O=>this.close(O)}
        onSelect=${(O,M,A)=>this.trigger(O,M,A)}
        position=${w}
        className=${l}
        entries=${g}
        headerEntries=${b}
        scale=${S}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...p}}
      />
    `,this._current.container)},ns.prototype.open=function(s,l,d,f){if(!s)throw new Error("target is missing");if(!l)throw new Error("providers for <"+l+"> not found");if(!d)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:p,headerEntries:g}=this._getContext(s,l);this._current={position:d,className:l,target:s,entries:p,headerEntries:g,container:this._createContainer({provider:l}),options:f},this._emit("open"),this._bindAutoClose(),this._render()},ns.prototype._getContext=function(s,l){const d=this._getProviders(l);if(!d||!d.length)throw new Error("provider for <"+l+"> not found");const f=this._getEntries(s,d),p=this._getHeaderEntries(s,d);return{entries:f,headerEntries:p,empty:!(Object.keys(f).length||Object.keys(p).length)}},ns.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},ns.prototype.reset=function(){const s=this._current.container;cS(null,s),Di(s)},ns.prototype._emit=function(s,l){this._eventBus.fire(`popupMenu.${s}`,l)},ns.prototype._onOpened=function(){this._emit("opened")},ns.prototype._onClosed=function(){this._emit("closed")},ns.prototype._createContainer=function(s){var l=this._canvas.getContainer();const d=_r(`<div class="djs-popup-parent djs-scrollable" data-popup=${s.provider}></div>`);return l.appendChild(d),d},ns.prototype._bindAutoClose=function(){this._eventBus.once(NT,this.close,this)},ns.prototype._unbindAutoClose=function(){this._eventBus.off(NT,this.close,this)},ns.prototype._updateScale=function(){var s,l,d=this._canvas.zoom(),f=this._config.scale,p=d;return f!==!0&&(f===!1?(s=1,l=1):(s=f.min,l=f.max),h(s)&&d<s&&(p=s),h(l)&&d>l&&(p=l)),p},ns.prototype._ensureVisible=function(s,l){var d=document.documentElement.getBoundingClientRect(),f=s.getBoundingClientRect(),p={},g=l.x,b=l.y;return l.x+f.width>d.width&&(p.x=!0),l.y+f.height>d.height&&(p.y=!0),p.x&&p.y?(g=l.x-f.width,b=l.y-f.height):p.x?(g=l.x-f.width,b=l.y):p.y&&l.y<f.height?(g=l.x,b=10):p.y&&(g=l.x,b=l.y-f.height),l.y<d.top&&(b=l.y+f.height),{x:g,y:b}},ns.prototype.isEmpty=function(s,l){if(!s)throw new Error("target is missing");if(!l)throw new Error("provider ID is missing");const d=this._getProviders(l);return!d||!d.length||this._getContext(s,l).empty},ns.prototype.registerProvider=function(s,l,d){d||(d=l,l=1e3),this._eventBus.on("popupMenu.getProviders."+s,l,function(f){f.providers.push(d)})},ns.prototype._getProviders=function(s){var l=this._eventBus.createEvent({type:"popupMenu.getProviders."+s,providers:[]});return this._eventBus.fire(l),l.providers},ns.prototype._getEntries=function(s,l){var d={};return I(l,function(f){if(f.getPopupMenuEntries){var p=f.getPopupMenuEntries(s);R(p)?d=p(d):I(p,function(g,b){d[b]=g})}else I(f.getEntries(s),function(g){var b=g.id;if(!b)throw new Error("entry ID is missing");d[b]=gt(g,["id"])})}),d},ns.prototype._getHeaderEntries=function(s,l){var d={};return I(l,function(f){if(f.getPopupMenuHeaderEntries){var p=f.getPopupMenuHeaderEntries(s);R(p)?d=p(d):I(p,function(g,b){d[b]=g})}else{if(!f.getHeaderEntries)return;I(f.getHeaderEntries(s),function(g){var b=g.id;if(!b)throw new Error("entry ID is missing");d[b]=gt(g,["id"])})}}),d},ns.prototype.isOpen=function(){return!!this._current},ns.prototype.trigger=function(s,l,d="click"){if(s.preventDefault(),!l){let p=En(Je(s.delegateTarget||s.target,".entry",!0),"data-id");l={id:p,...this._getEntry(p)}}const f=l.action;if(this._emit("trigger",{entry:l,event:s})!==!1){if(R(f)){if(d==="click")return f(s,l)}else if(f[d])return f[d](s,l)}},ns.prototype._getEntry=function(s){var l=this._current.entries[s]||this._current.headerEntries[s];if(!l)throw new Error("entry not found");return l};var pS={__init__:["popupMenu"],popupMenu:["type",ns]},IT={align:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">
              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,bottom:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,center:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,left:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,right:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,top:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,middle:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`};function Zg(s,l,d,f){s.registerProvider(900,this),this._contextPad=s,this._popupMenu=l,this._translate=d,this._canvas=f}Zg.$inject=["contextPad","popupMenu","translate","canvas"],Zg.prototype.getMultiElementContextPadEntries=function(s){var l={};return this._isAllowed(s)&&ve(l,this._getEntries(s)),l},Zg.prototype._isAllowed=function(s){return!this._popupMenu.isEmpty(s,"align-elements")},Zg.prototype._getEntries=function(){var s=this;return{"align-elements":{group:"align-elements",title:s._translate("Align elements"),html:`<div class="entry">${IT.align}</div>`,action:{click:function(l,d){var f=s._getMenuPosition(d);ve(f,{cursor:{x:l.x,y:l.y}}),s._popupMenu.open(d,"align-elements",f)}}}}},Zg.prototype._getMenuPosition=function(s){var l=this._contextPad.getPad(s).html.getBoundingClientRect();return{x:l.left,y:l.bottom+5}};var q5=["left","center","right","top","middle","bottom"];function D0(s,l,d,f){this._alignElements=l,this._translate=d,this._popupMenu=s,this._rules=f,s.registerProvider("align-elements",this)}function ou(s){Pt.call(this,s),this.init()}function N0(s){ou.call(this,s)}D0.$inject=["popupMenu","alignElements","translate","rules"],D0.prototype.getPopupMenuEntries=function(s){var l={};return this._isAllowed(s)&&ve(l,this._getEntries(s)),l},D0.prototype._isAllowed=function(s){return this._rules.allowed("elements.align",{elements:s})},D0.prototype._getEntries=function(s){var l=this._alignElements,d=this._translate,f=this._popupMenu,p={};return I(q5,function(g){p["align-elements-"+g]={group:"align",title:d("Align elements "+g),className:"bjs-align-elements-menu-entry",imageHtml:IT[g],action:function(){l.trigger(s,g),f.close()}}}),p},ou.$inject=["eventBus"],t(ou,Pt),ou.prototype.addRule=function(s,l,d){var f=this;typeof s=="string"&&(s=[s]),s.forEach(function(p){f.canExecute(p,l,function(g,b,w){return d(g)},!0)})},ou.prototype.init=function(){},N0.$inject=["eventBus"],t(N0,ou),N0.prototype.init=function(){this.addRule("elements.align",function(s){var l=B(s.elements,function(d){return!(d.waypoints||d.host||d.labelTarget)});return!((l=om(l)).length<2)&&l})};var LT={__depends__:[j5,sS,pS],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Zg],alignElementsMenuProvider:["type",D0],bpmnAlignElements:["type",N0]},FT=10,$T=50,U5=250;function mS(s,l,d,f){for(var p;p=G5(s,d,l);)d=f(l,d,p);return d}function Ex(s){return function(l,d,f){var p={x:d.x,y:d.y};return["x","y"].forEach(function(g){var b=s[g];if(b){var w=g==="x"?"width":"height",S=b.margin,O=b.minDistance;p[g]=S<0?Math.min(f[g]+S-l[w]/2,d[g]-O+S):Math.max(f[g]+f[w]+S+l[w]/2,d[g]+O+S)}}),p}}function G5(s,l,d){var f={x:l.x-d.width/2,y:l.y-d.height/2,width:d.width,height:d.height},p=function(g){var b=gS(g);return g.host&&(b=b.concat(gS(g.host))),g.attachers&&(b=b.concat(g.attachers.reduce(function(w,S){return w.concat(gS(S))},[]))),b}(s);return $(p,function(g){return g!==d&&na(g,f,FT)==="intersect"})}function gS(s){return(l=s,l.outgoing.map(function(d){return d.target})).concat(function(d){return d.incoming.map(function(f){return f.source})}(s));var l}function Y5(){return!0}function BT(s,l,d){s.on("autoPlace",100,function(f){var p=f.shape;return function(g,b,w){w||(w={});var S=w.defaultDistance||$T,O=Pn(g),M=Ln(g);return{x:M.right+S+b.width/2,y:O.y}}(f.source,p)}),s.on("autoPlace.end",function(f){d.scrollToElement(f.shape)}),this.append=function(f,p,g){s.fire("autoPlace.start",{source:f,shape:p});var b=s.fire("autoPlace",{source:f,shape:p}),w=l.appendShape(f,p,b,f.parent,g);return s.fire("autoPlace.end",{source:f,shape:w}),w}}function jT(s,l){s.on("autoPlace.end",500,function(d){l.select(d.shape)})}BT.$inject=["eventBus","modeling","canvas"],jT.$inject=["eventBus","selection"];var Q5={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",BT],autoPlaceSelectionBehavior:["type",jT]};function vl(s,l){for(T(l)&&(l=[l]);s=s.parent;)if(Sr(s,l))return s;return null}function VT(s,l){return ie(l,"bpmn:TextAnnotation")?function(d,f){var p=Ln(d),g={x:p.right+f.width/2,y:p.top-50-f.height/2};return Si(d)&&((g=Pn(d)).x+=100,g.y-=50),mS(d,f,g,Ex({y:{margin:-30,minDistance:20}}))}(s,l):Sr(l,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(d,f){var p=Ln(d),g={x:p.right-10+f.width/2,y:p.bottom+40+f.width/2};return mS(d,f,g,Ex({x:{margin:30,minDistance:30}}))}(s,l):ie(l,"bpmn:FlowNode")?function(d,f){var p=Ln(d),g=Pn(d),b=function(A,L){L||(L={});var z=L.defaultDistance||$T,H=L.direction||"e",Q=L.filter,re=L.getWeight||function(He){return He.source===A?1:-1},X=L.maxDistance||U5,K=L.reference||"start";function ue(He,Ve){return H==="n"?K==="start"?Ln(He).top-Ln(Ve).bottom:K==="center"?Ln(He).top-Pn(Ve).y:Ln(He).top-Ln(Ve).top:H==="w"?K==="start"?Ln(He).left-Ln(Ve).right:K==="center"?Ln(He).left-Pn(Ve).x:Ln(He).left-Ln(Ve).left:H==="s"?K==="start"?Ln(Ve).top-Ln(He).bottom:K==="center"?Pn(Ve).y-Ln(He).bottom:Ln(Ve).bottom-Ln(He).bottom:K==="start"?Ln(Ve).left-Ln(He).right:K==="center"?Pn(Ve).x-Ln(He).right:Ln(Ve).right-Ln(He).right}Q||(Q=Y5);var me=A.incoming.filter(Q).map(function(He){var Ve=re(He),Xe=Ve<0?ue(He.source,A):ue(A,He.source);return{id:He.source.id,distance:Xe,weight:Ve}}),ge=A.outgoing.filter(Q).map(function(He){var Ve=re(He),Xe=Ve>0?ue(A,He.target):ue(He.target,A);return{id:He.target.id,distance:Xe,weight:Ve}}),$e=oe(me.concat(ge).reduce(function(He,Ve){return He[Ve.id+"__weight_"+Ve.weight]=Ve,He},{}),function(He,Ve){var Xe=Ve.distance,Mn=Ve.weight;return Xe<0||Xe>X||(He[String(Xe)]||(He[String(Xe)]=0),He[String(Xe)]+=1*Mn,(!He.distance||He[He.distance]<He[String(Xe)])&&(He.distance=Xe)),He},{});return $e.distance||z}(d,{filter:function(A){return ie(A,"bpmn:SequenceFlow")}}),w=30,S=80,O="left";ie(d,"bpmn:BoundaryEvent")&&(O=na(d,d.host,-25)).indexOf("top")!==-1&&(w*=-1);var M={x:p.right+b+f.width/2,y:g.y+K5(O,S)};return mS(d,f,M,Ex({y:{margin:w,minDistance:S}}))}(s,l):void 0}function K5(s,l){return s.includes("top")?-1*l:s.includes("bottom")?l:0}function zT(s){s.on("autoPlace",function(l){var d=l.shape;return VT(l.source,d)})}zT.$inject=["eventBus"];var Sx={__depends__:[Q5],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",zT]};function Uf(s,l,d,f){Pt.call(this,s),this._elementRegistry=l,this._modeling=d,this._rules=f;var p=this;this.postExecuted(["shape.create"],function(g){var b=g.context,w=b.hints||{},S=b.shape,O=b.parent||b.newParent;w.autoResize!==!1&&p._expand([S],O)}),this.postExecuted(["elements.move"],function(g){var b=g.context,w=o(Ee(b.closure.topLevel)),S=b.hints,O=!S||S.autoResize;O!==!1&&I(we(w,function(M){return M.parent.id}),function(M,A){v(O)&&(M=M.filter(function(L){return $(O,ze({id:L.id}))})),p._expand(M,A)})}),this.postExecuted(["shape.toggleCollapse"],function(g){var b=g.context,w=b.hints,S=b.shape;w&&w.autoResize===!1||S.collapsed||p._expand(S.children||[],S)}),this.postExecuted(["shape.resize"],function(g){var b=g.context,w=b.hints,S=b.shape,O=S.parent;w&&w.autoResize===!1||O&&p._expand([S],O)})}function kx(s){s.invoke(Uf,this)}function I0(s){ou.call(this,s);var l=this;this.addRule("element.autoResize",function(d){return l.canResize(d.elements,d.target)})}function Cx(s,l){I0.call(this,s),this._modeling=l}Uf.$inject=["eventBus","elementRegistry","modeling","rules"],t(Uf,Pt),Uf.prototype._getOptimalBounds=function(s,l){var d=this.getOffset(l),f=this.getPadding(l),p=Ln(So(s)),g=Ln(l),b={};return p.top-g.top<f.top&&(b.top=p.top-d.top),p.left-g.left<f.left&&(b.left=p.left-d.left),g.right-p.right<f.right&&(b.right=p.right+d.right),g.bottom-p.bottom<f.bottom&&(b.bottom=p.bottom+d.bottom),ta(ve({},g,b))},Uf.prototype._expand=function(s,l){if(typeof l=="string"&&(l=this._elementRegistry.get(l)),this._rules.allowed("element.autoResize",{elements:s,target:l})){var d=this._getOptimalBounds(s,l);if(function(g,b){return g.x!==b.x||g.y!==b.y||g.width!==b.width||g.height!==b.height}(d,l)){var f=function(g,b){var w="";return g=Ln(g),b=Ln(b),g.top>b.top&&(w=w.concat("n")),g.right<b.right&&(w=w.concat("w")),g.bottom<b.bottom&&(w=w.concat("s")),g.left>b.left&&(w=w.concat("e")),w}(vt(l,["x","y","width","height"]),d);this.resize(l,d,{autoResize:f});var p=l.parent;p&&this._expand([l],p)}}},Uf.prototype.getOffset=function(s){return{top:60,bottom:60,left:100,right:100}},Uf.prototype.getPadding=function(s){return{top:2,bottom:2,left:15,right:15}},Uf.prototype.resize=function(s,l,d){this._modeling.resizeShape(s,l,null,d)},kx.$inject=["injector"],t(kx,Uf),kx.prototype.resize=function(s,l,d){ie(s,"bpmn:Participant")?this._modeling.resizeLane(s,l,null,d):this._modeling.resizeShape(s,l,null,d)},I0.$inject=["eventBus"],t(I0,ou),I0.prototype.canResize=function(s,l){return!1},t(Cx,I0),Cx.$inject=["eventBus","modeling"],Cx.prototype.canResize=function(s,l){if(ie(l.di,"bpmndi:BPMNPlane")||!ie(l,"bpmn:Participant")&&!ie(l,"bpmn:Lane")&&!ie(l,"bpmn:SubProcess"))return!1;var d=!0;return I(s,function(f){(ie(f,"bpmn:Lane")||jr(f))&&(d=!1)}),d};var yS={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",kx],bpmnAutoResizeProvider:["type",Cx]};function HT(s,l,d){var f,p,g=this,b=d.get("dragging",!1);b&&l.on("drag.start",function(w){l.once("drag.move",1500,function(S){(function(O){if(!O.hover){var M=O.originalEvent,A=g._findTargetGfx(M),L=A&&s.get(A);A&&L&&(O.stopPropagation(),b.hover({element:L,gfx:A}),b.move(M))}})(S)})}),l.on("element.hover",function(w){f=w.gfx,p=w.element}),l.on("element.hover",1500,function(w){p&&l.fire("element.out",{element:p,gfx:f})}),l.on("element.out",function(){f=null,p=null}),this._findTargetGfx=function(w){var S;if(w instanceof MouseEvent)return S=Ut(w),function(O){return Je(O,"svg, .djs-element",!0)}(document.elementFromPoint(S.x,S.y))}}HT.$inject=["elementRegistry","eventBus","injector"];var X5={__init__:["hoverFix"],hoverFix:["type",HT]},Jg=Math.round,WT="djs-drag-active";function Tm(s){s.preventDefault()}function qT(s,l,d,f){var p,g={threshold:5,trapClick:!0};function b(X){var K=l.viewbox(),ue=l._container.getBoundingClientRect();return{x:K.x+(X.x-ue.left)/K.scale,y:K.y+(X.y-ue.top)/K.scale}}function w(X,K){K=K||p;var ue=s.createEvent(ve({},K.payload,K.data,{isTouch:K.isTouch}));return s.fire("drag."+X,ue)!==!1&&s.fire(K.prefix+"."+X,ue)}function S(X,K){var ue,me=p.payload,ge=p.displacement,$e=p.globalStart,He=Ut(X),Ve=Uu(He,$e),Xe=p.localStart,Mn=b(He),zt=Uu(Mn,Xe);if(!p.active&&(K||(ue=Ve,Math.sqrt(Math.pow(ue.x,2)+Math.pow(ue.y,2))>p.threshold))){if(ve(me,{x:Jg(Xe.x+ge.x),y:Jg(Xe.y+ge.y),dx:0,dy:0},{originalEvent:X}),w("start")===!1)return Q();p.active=!0,p.keepSelection||(me.previousSelection=d.get(),d.select(null)),p.cursor&&Wg(p.cursor),l.addMarker(l.getRootElement(),WT)}It(X),p.active&&(ve(me,{x:Jg(Mn.x+ge.x),y:Jg(Mn.y+ge.y),dx:Jg(zt.x),dy:Jg(zt.y)},{originalEvent:X}),w("move"))}function O(X){var K=!0;p.active&&(X&&(p.payload.originalEvent=X,It(X)),K=w("end")),K===!1&&w("rejected"),w("ended",re(K!==!0))}function M(X){Ui("Escape",X)&&(Tm(X),Q())}function A(X){var K;p.active&&(K=nx(s),setTimeout(K,400),Tm(X)),O(X)}function L(X){S(X)}function z(X){var K=p.payload;K.hoverGfx=X.gfx,K.hover=X.element,w("hover")}function H(X){w("out");var K=p.payload;K.hoverGfx=null,K.hover=null}function Q(X){var K;if(p){var ue=p.active;ue&&w("cancel"),K=re(X),ue&&w("canceled",K)}}function re(X){var K,ue;w("cleanup"),KE(),ue=p.trapClick?A:O,Xt.unbind(document,"mousemove",S),Xt.unbind(document,"dragstart",Tm),Xt.unbind(document,"selectstart",Tm),Xt.unbind(document,"mousedown",ue,!0),Xt.unbind(document,"mouseup",ue,!0),Xt.unbind(document,"keyup",M),Xt.unbind(document,"touchstart",L,!0),Xt.unbind(document,"touchcancel",Q,!0),Xt.unbind(document,"touchmove",S,!0),Xt.unbind(document,"touchend",O,!0),s.off("element.hover",z),s.off("element.out",H),l.removeMarker(l.getRootElement(),WT);var me=p.payload.previousSelection;return X!==!1&&me&&!d.get().length&&function(ge){var $e=ge.filter(function(He){return f.get(He.id)});$e.length&&d.select($e)}(me),K=p,p=null,K}s.on("diagram.destroy",Q),this.init=function(X,K,ue,me){p&&Q(!1),typeof K=="string"&&(me=ue,ue=K,K=null);var ge,$e,He,Ve,Xe,Mn=(me=ve({},g,me||{})).data||{};Ve=me.trapClick?A:O,X?(ge=st(X)||X,$e=Ut(X),It(X),ge.type==="dragstart"&&Tm(ge)):(ge=null,$e={x:0,y:0}),He=b($e),K||(K=He),Xe=function(zt){return typeof TouchEvent<"u"&&zt instanceof TouchEvent}(ge),p=ve({prefix:ue,data:Mn,payload:{},globalStart:$e,displacement:Uu(K,He),localStart:He,isTouch:Xe},me),me.manual||(Xe?(Xt.bind(document,"touchstart",L,!0),Xt.bind(document,"touchcancel",Q,!0),Xt.bind(document,"touchmove",S,!0),Xt.bind(document,"touchend",O,!0)):(Xt.bind(document,"mousemove",S),Xt.bind(document,"dragstart",Tm),Xt.bind(document,"selectstart",Tm),Xt.bind(document,"mousedown",Ve,!0),Xt.bind(document,"mouseup",Ve,!0)),Xt.bind(document,"keyup",M),s.on("element.hover",z),s.on("element.out",H)),w("init"),me.autoActivate&&S(X,!0)},this.move=S,this.hover=z,this.out=H,this.end=O,this.cancel=Q,this.context=function(){return p},this.setOptions=function(X){ve(g,X)}}qT.$inject=["eventBus","canvas","selection","elementRegistry"];var Gf={__depends__:[X5,ur],dragging:["type",qT]};function ey(s,l,d){this._canvas=d,this._opts=ve({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},s);var f=this;l.on("drag.move",function(p){var g=f._toBorderPoint(p);f.startScroll(g)}),l.on(["drag.cleanup"],function(){f.stopScroll()})}function Z5(s,l,d){return l<s&&s<d}ey.$inject=["config.autoScroll","eventBus","canvas"],ey.prototype.startScroll=function(s){var l=this._canvas,d=this._opts,f=this,p=l.getContainer().getBoundingClientRect(),g=[s.x,s.y,p.width-s.x,p.height-s.y];this.stopScroll();for(var b=0,w=0,S=0;S<4;S++)Z5(g[S],d.scrollThresholdOut[S],d.scrollThresholdIn[S])&&(S===0?b=d.scrollStep:S==1?w=d.scrollStep:S==2?b=-d.scrollStep:S==3&&(w=-d.scrollStep));b===0&&w===0||(l.scroll({dx:b,dy:w}),this._scrolling=setTimeout(function(){f.startScroll(s)},d.scrollRepeatTimeout))},ey.prototype.stopScroll=function(){clearTimeout(this._scrolling)},ey.prototype.setOptions=function(s){this._opts=ve({},this._opts,s)},ey.prototype._toBorderPoint=function(s){var l=this._canvas._container.getBoundingClientRect(),d=Ut(s.originalEvent);return{x:d.x-l.left,y:d.y-l.top}};var J5={__depends__:[Gf],__init__:["autoScroll"],autoScroll:["type",ey]};function vS(s){this._commandStack=s.get("commandStack",!1)}vS.$inject=["injector"],vS.prototype.allowed=function(s,l){var d=!0,f=this._commandStack;return f&&(d=f.canExecute(s,l)),d===void 0||d};var zd={__init__:["rules"],rules:["type",vS]},Ox=Math.round,eI=Math.max,UT=10;function bS(s,l){return function(d,f){var p,g;for(p=0;g=d[p];p++)if(io(g,f)<=UT)return{point:d[p],bendpoint:!0,index:p};return null}(s,l)||function(d,f){var p,g,b=Ps(function(O,M){return[["M",O.x,O.y],["m",0,-M],["a",M,M,0,1,1,0,2*M],["a",M,M,0,1,1,0,-2*M],["z"]]}(f,UT),(p=[],d.forEach(function(O,M){p.push([M===0?"M":"L",O.x,O.y])}),p)),w=b[0],S=b[b.length-1];return w?w!==S?w.segment2!==S.segment2?{point:d[g=eI(w.segment2,S.segment2)-1],bendpoint:!0,index:g}:{point:{x:Ox(w.x+S.x)/2,y:Ox(w.y+S.y)/2},index:w.segment2}:{point:{x:Ox(w.x),y:Ox(w.y)},index:w.segment2}:null}(s,l)}function GT(s){return Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2))}function YT(s){return Math.atan((s[1].y-s[0].y)/(s[1].x-s[0].x))}function xS(s,l){var d=l[0],f=l[1],p={x:f.x-d.x,y:f.y-d.y},g=function(b,w,S){var O=[{n:b[0]-S[0],lambda:w[0]},{n:b[1]-S[1],lambda:w[1]}];return-(O[0].n*w[0]+O[1].n*w[1])/(O[0].lambda*w[0]+O[1].lambda*w[1])}([d.x,d.y],[p.x,p.y],[s.x,s.y]);return{x:d.x+g*p.x,y:d.y+g*p.y}}function QT(s,l){var d=xS(s,l);return GT({x:d.x-s.x,y:d.y-s.y})}function ty(s,l){return GT({x:s.x-l.x,y:s.y-l.y})}var wS="djs-bendpoint",KT="djs-segment-dragger";function _S(s,l,d){var f=function(p,g){var b,w=Ut(g),S=p._container.getBoundingClientRect();b={x:S.left,y:S.top};var O=p.viewbox();return{x:O.x+(w.x-b.x)/O.scale,y:O.y+(w.y-b.y)/O.scale}}(s,d);return bS(l,f)}function ES(s,l){var d=Rt("g");fe(d).add(wS),ct(s,d);var f=Rt("circle");Ct(f,{cx:0,cy:0,r:4}),fe(f).add("djs-visual"),ct(d,f);var p=Rt("circle");return Ct(p,{cx:0,cy:0,r:10}),fe(p).add("djs-hit"),ct(d,p),l&&fe(d).add(l),d}function tI(s,l,d,f){var p=Rt("g");ct(s,p);var g=function(S,O,M){var A=O.x-S.x,L=O.y-S.y;return ZT(M==="h"?A:L)}(l,d,f),b=Rt("rect");Ct(b,{x:-9,y:-3,width:18,height:6}),fe(b).add("djs-visual"),ct(p,b);var w=Rt("rect");return Ct(w,{x:-g/2,y:-8.5,width:g,height:17}),fe(w).add("djs-hit"),ct(p,w),Ng(p,f==="v"?90:0),p}function XT(s,l,d){var f=Rt("g"),p=qh(l,d),g=Xc(l,d);return ct(s,f),tI(f,l,d,g),fe(f).add(KT),fe(f).add(g==="h"?"horizontal":"vertical"),ps(f,p.x,p.y),f}function ZT(s){return Math.abs(Math.round(2*s/3))}function nI(s,l){var d=function(f,p){for(var g,b=p.waypoints,w=1/0,S=0;S<b.length-1;S++){var O=QT(f,[b[S],b[S+1]]);O<w&&(w=O,g=S)}return[b[g],b[g+1]]}(s,l);return xS(s,d)}function JT(s,l,d,f,p){function g(H,Q){var re,X=Q.waypoints,K=_S(l,X,H);if(K)return re=function(ue,me){var ge,$e,He=ue.waypoints;return me.index<=0||me.bendpoint?null:($e=Xc((ge={start:He[me.index-1],end:He[me.index]}).start,ge.end))?ZT($e==="h"?ge.end.x-ge.start.x:ge.end.y-ge.start.y)/2:null}(Q,K),function(ue,me,ge){var $e,He,Ve,Xe,Mn,zt,nt=ue.index,_t=ue.point;return!(nt<=0||ue.bendpoint)&&(Ve=qh($e=me[nt-1],He=me[nt]),Xe=Xc($e,He),Mn=Math.abs(_t.x-Ve.x),zt=Math.abs(_t.y-Ve.y),Xe&&Mn<=ge&&zt<=ge)}(K,X,re)?p.start(H,Q,K.index):f.start(H,Q,K.index,!K.bendpoint),!0}function b(H,Q,re){Xt.bind(H,Q,function(X){d.triggerMouseEvent(Q,X,re),X.stopPropagation()})}function w(H,Q){var re=l.getLayer("overlays"),X=mr('.djs-bendpoints[data-element-id="'+Uo(H.id)+'"]',re);return!X&&Q&&(Ct(X=Rt("g"),{"data-element-id":H.id}),fe(X).add("djs-bendpoints"),ct(re,X),b(X,"mousedown",H),b(X,"click",H),b(X,"dblclick",H)),X}function S(H,Q){return mr('.djs-segment-dragger[data-segment-idx="'+H+'"]',Q)}function O(H,Q){Q.waypoints.forEach(function(re,X){var K=ES(H);ct(H,K),ps(K,re.x,re.y)}),ES(H,"floating")}function M(H,Q){for(var re,X,K,ue=Q.waypoints,me=1;me<ue.length;me++)Xc(re=ue[me-1],X=ue[me])&&(Ct(K=XT(H,re,X),{"data-segment-idx":me}),b(K,"mousemove",Q))}function A(H){var Q=w(H);return Q||(O(Q=w(H,!0),H),M(Q,H)),Q}function L(H){var Q=w(H);Q&&(function(re){I(Er("."+KT,re),function(X){Ie(X)})}(Q),function(re){I(Er("."+wS,re),function(X){Ie(X)})}(Q),M(Q,H),O(Q,H))}function z(H,Q,re){var X,K,ue=S(Q.index,H),me=re[Q.index-1],ge=re[Q.index],$e=Q.point,He=qh(me,ge),Ve=Xc(me,ge);ue&&(X=function(Xe){return mr(".djs-visual",Xe)}(ue),K={x:$e.x-He.x,y:$e.y-He.y},Ve==="v"&&(K={x:K.y,y:K.x}),ps(X,K.x,K.y))}s.on("connection.changed",function(H){L(H.element)}),s.on("connection.remove",function(H){var Q=w(H.element);Q&&Ie(Q)}),s.on("element.marker.update",function(H){var Q,re=H.element;re.waypoints&&(Q=A(re),H.add?fe(Q).add(H.marker):fe(Q).remove(H.marker))}),s.on("element.mousemove",function(H){var Q,re,X=H.element,K=X.waypoints;if(K){if(Q=w(X,!0),!(re=_S(l,K,H.originalEvent)))return;(function(ue,me){var ge=mr(".floating",ue),$e=me.point;ge&&ps(ge,$e.x,$e.y)})(Q,re),re.bendpoint||z(Q,re,K)}}),s.on("element.mousedown",function(H){if(kn(H)){var Q=H.originalEvent,re=H.element;if(re.waypoints)return g(Q,re)}}),s.on("selection.changed",function(H){var Q=H.newSelection[0];Q&&Q.waypoints&&A(Q)}),s.on("element.hover",function(H){var Q=H.element;Q.waypoints&&(A(Q),d.registerEvent(H.gfx,"mousemove","element.mousemove"))}),s.on("element.out",function(H){d.unregisterEvent(H.gfx,"mousemove","element.mousemove")}),s.on("element.updateId",function(H){var Q=H.element,re=H.newId;if(Q.waypoints){var X=w(Q);X&&Ct(X,{"data-element-id":re})}}),this.addHandles=A,this.updateHandles=L,this.getBendpointsContainer=w,this.getSegmentDragger=S}JT.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var SS=Math.round,Am="reconnectStart",Hd="reconnectEnd",L0="updateWaypoints";function kS(s,l,d,f,p,g){this._injector=s,this.start=function(b,w,S,O){var M,A=d.getGraphics(w),L=w.source,z=w.target,H=w.waypoints,Q=(M=O||S!==0?O||S!==H.length-1?L0:Hd:Am)===L0?"connection.updateWaypoints":"connection.reconnect",re=p.allowed(Q,{connection:w,source:L,target:z});re===!1&&(re=p.allowed(Q,{connection:w,source:z,target:L})),re!==!1&&f.init(b,"bendpoint.move",{data:{connection:w,connectionGfx:A,context:{allowed:re,bendpointIndex:S,connection:w,source:L,target:z,insert:O,type:M}}})},l.on("bendpoint.move.hover",function(b){var w,S=b.context,O=S.connection,M=O.source,A=O.target,L=b.hover,z=S.type;if(S.hover=L,L){var H=z===L0?"connection.updateWaypoints":"connection.reconnect";if(w=S.allowed=p.allowed(H,{connection:O,source:z===Am?L:M,target:z===Hd?L:A}))return S.source=z===Am?L:M,void(S.target=z===Hd?L:A);w===!1&&(w=S.allowed=p.allowed(H,{connection:O,source:z===Hd?L:A,target:z===Am?L:M})),w&&(S.source=z===Hd?L:A,S.target=z===Am?L:M)}}),l.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(b){var w=b.context,S=w.type;w.hover=null,w.source=null,w.target=null,S!==L0&&(w.allowed=!1)}),l.on("bendpoint.move.end",function(b){var w=b.context,S=w.allowed,O=w.bendpointIndex,M=w.connection,A=w.insert,L=M.waypoints.slice(),z=w.source,H=w.target,Q=w.type,re=w.hints||{},X={x:SS(b.x),y:SS(b.y)};if(!S)return!1;Q===L0?(A?L.splice(O,0,X):L[O]=X,re.bendpointMove={insert:A,bendpointIndex:O},L=this.cropWaypoints(M,L),g.updateWaypoints(M,function(K){K=K.slice();for(var ue,me,ge,$e=0;K[$e];)ue=K[$e],me=K[$e-1],io(ue,ge=K[$e+1])===0||Af(me,ge,ue)?K.splice($e,1):$e++;return K}(L),re)):(Q===Am?(re.docking="source",Tx(w)&&(re.docking="target",re.newWaypoints=L.reverse())):Q===Hd&&(re.docking="target",Tx(w)&&(re.docking="source",re.newWaypoints=L.reverse())),g.reconnect(M,z,H,X,re))},this)}function Tx(s){var l=s.hover,d=s.source,f=s.target,p=s.type;return p===Am?l&&f&&l===f&&d!==f:p===Hd?l&&d&&l===d&&d!==f:void 0}kS.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],kS.prototype.cropWaypoints=function(s,l){var d=this._injector.get("connectionDocking",!1);if(!d)return l;var f=s.waypoints;return s.waypoints=l,s.waypoints=d.getCroppedWaypoints(s),l=s.waypoints,s.waypoints=f,l};var eA="updateWaypoints",F0="connect-ok",Ax="connect-not-ok",tA="connect-hover",nA="djs-updating",rA="djs-dragging";function iA(s,l,d,f){this._injector=l;var p=l.get("connectionPreview",!1);d.on("bendpoint.move.start",function(g){var b=g.context,w=b.bendpointIndex,S=b.connection,O=b.insert,M=S.waypoints,A=M.slice();b.waypoints=M,O&&A.splice(w,0,{x:g.x,y:g.y}),S.waypoints=A,fe(b.draggerGfx=ES(f.getLayer("overlays"))).add("djs-dragging"),f.addMarker(S,rA),f.addMarker(S,nA)}),d.on("bendpoint.move.hover",function(g){var b=g.context,w=b.allowed,S=b.hover,O=b.type;if(S){if(f.addMarker(S,tA),O===eA)return;w?(f.removeMarker(S,Ax),f.addMarker(S,F0)):w===!1&&(f.removeMarker(S,F0),f.addMarker(S,Ax))}}),d.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,function(g){var b=g.context,w=b.hover,S=b.target;w&&(f.removeMarker(w,tA),f.removeMarker(w,S?F0:Ax))}),d.on("bendpoint.move.move",function(g){var b=g.context,w=b.allowed,S=b.bendpointIndex,O=b.draggerGfx,M=b.hover,A=b.type,L=b.connection,z=L.source,H=L.target,Q=L.waypoints.slice(),re={x:g.x,y:g.y},X=b.hints||{},K={};p&&(X.connectionStart&&(K.connectionStart=X.connectionStart),X.connectionEnd&&(K.connectionEnd=X.connectionEnd),A==="reconnectStart"?Tx(b)?(K.connectionEnd=K.connectionEnd||re,K.source=H,K.target=M||z,Q=Q.reverse()):(K.connectionStart=K.connectionStart||re,K.source=M||z,K.target=H):A==="reconnectEnd"?Tx(b)?(K.connectionStart=K.connectionStart||re,K.source=M||H,K.target=z,Q=Q.reverse()):(K.connectionEnd=K.connectionEnd||re,K.source=z,K.target=M||H):(K.noCropping=!0,K.noLayout=!0,Q[S]=re),A===eA&&(Q=s.cropWaypoints(L,Q)),K.waypoints=Q,p.drawPreview(b,w,K)),ps(O,g.x,g.y)},this),d.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,function(g){var b=g.context,w=b.connection,S=b.draggerGfx,O=b.hover,M=b.target,A=b.waypoints;w.waypoints=A,Ie(S),f.removeMarker(w,nA),f.removeMarker(w,rA),O&&(f.removeMarker(O,F0),f.removeMarker(O,M?F0:Ax)),p&&p.cleanUp(b)})}iA.$inject=["bendpointMove","injector","eventBus","canvas"];var oA="connect-hover",sA="djs-updating";function aA(s,l,d){return CS(s,l,s[l]+d)}function CS(s,l,d){return{x:l==="x"?d:s.x,y:l==="y"?d:s.y}}function lA(s){return s==="x"?"y":"x"}function cA(s,l,d){var f,p;return s.original?s.original:(f=Pn(l),CS(s,p=lA(d),f[p]))}function OS(s,l,d,f,p,g){var b=s.get("connectionDocking",!1);function w(M,A){if(!b)return A;var L,z=M.waypoints;return M.waypoints=A,L=b.getCroppedWaypoints(M),M.waypoints=z,L}function S(M){p.update("connection",M.connection,M.connectionGfx)}function O(M,A,L){var z=M.newWaypoints,H=function(Q,re,X,K){var ue=Math.max(re[K],X[K]),me=Math.min(re[K],X[K]);return CS(re,K,Math.min(Math.max(me+20,Q[K]),ue-20))}(L,z[M.segmentStartIndex+A],z[M.segmentEndIndex+A],lA(M.axis));ps(M.draggerGfx,H.x,H.y)}this.start=function(M,A,L){var z,H,Q,re,X=d.getGraphics(A),K=L-1,ue=L,me=A.waypoints,ge=me[K],$e=me[ue],He=_S(d,me,M);(H=Xc(ge,$e))&&(Q=H==="v"?"x":"y",K===0&&(ge=cA(ge,A.source,Q)),ue===me.length-1&&($e=cA($e,A.target,Q)),z={connection:A,segmentStartIndex:K,segmentEndIndex:ue,segmentStart:ge,segmentEnd:$e,axis:Q,dragPosition:re=He?He.point:{x:(ge.x+$e.x)/2,y:(ge.y+$e.y)/2}},f.init(M,re,"connectionSegment.move",{cursor:Q==="x"?"resize-ew":"resize-ns",data:{connection:A,connectionGfx:X,context:z}}))},l.on("connectionSegment.move.start",function(M){var A=M.context,L=M.connection,z=d.getLayer("overlays");A.originalWaypoints=L.waypoints.slice(),A.draggerGfx=XT(z,A.segmentStart,A.segmentEnd),fe(A.draggerGfx).add("djs-dragging"),d.addMarker(L,sA)}),l.on("connectionSegment.move.move",function(M){var A,L,z=M.context,H=z.connection,Q=z.segmentStartIndex,re=z.segmentEndIndex,X=z.segmentStart,K=z.segmentEnd,ue=z.axis,me=z.originalWaypoints.slice(),ge=aA(X,ue,M["d"+ue]),$e=aA(K,ue,M["d"+ue]),He=me.length,Ve=0;me[Q]=ge,me[re]=$e,Q<2&&(A=na(H.source,ge),Q===1?A==="intersect"&&(me.shift(),me[0]=ge,Ve--):A!=="intersect"&&(me.unshift(X),Ve++)),re>He-3&&(L=na(H.target,$e),re===He-2?L==="intersect"&&(me.pop(),me[me.length-1]=$e):L!=="intersect"&&me.push(K)),z.newWaypoints=H.waypoints=w(H,me),O(z,Ve,M),z.newSegmentStartIndex=Q+Ve,S(M)}),l.on("connectionSegment.move.hover",function(M){M.context.hover=M.hover,d.addMarker(M.hover,oA)}),l.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(M){var A=M.context.hover;A&&d.removeMarker(A,oA)}),l.on("connectionSegment.move.cleanup",function(M){var A=M.context,L=A.connection;A.draggerGfx&&Ie(A.draggerGfx),d.removeMarker(L,sA)}),l.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(M){var A=M.context;A.connection.waypoints=A.originalWaypoints,S(M)}),l.on("connectionSegment.move.end",function(M){var A=M.context,L=A.connection,z=A.newWaypoints,H=A.newSegmentStartIndex;z=z.map(function(ue){return{original:ue.original,x:Math.round(ue.x),y:Math.round(ue.y)}});var Q=function(ue,me){var ge=0,$e=ue.filter(function(He,Ve){return!Af(ue[Ve-1],ue[Ve+1],He)||(ge=Ve<=me?ge-1:ge,!1)});return{waypoints:$e,segmentOffset:ge}}(z,H),re=w(L,Q.waypoints),X=Q.segmentOffset,K={segmentMove:{segmentStartIndex:A.segmentStartIndex,newSegmentStartIndex:H+X}};g.updateWaypoints(L,re,K)})}OS.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var uA=Math.abs,dA=Math.round;function fA(s){return{x:s.x,y:s.y}}function hA(s){return{x:s.x+s.width,y:s.y+s.height}}function su(s,l){return!s||isNaN(s.x)||isNaN(s.y)?l:{x:dA(s.x+s.width/2),y:dA(s.y+s.height/2)}}function Yf(s,l){var d=s.snapped;return!!d&&(typeof l=="string"?d[l]:d.x&&d.y)}function _s(s,l,d){if(typeof l!="string")throw new Error("axis must be in [x, y]");if(typeof d!="number"&&d!==!1)throw new Error("value must be Number or false");var f,p=s[l],g=s.snapped=s.snapped||{};return d===!1?g[l]=!1:(g[l]=!0,f=d-p,s[l]+=f,s["d"+l]+=f),p}function pA(s){return s.children||[]}var rI=Math.abs,mA=Math.round;function gA(s){function l(f,p){if(v(f)){for(var g=f.length;g--;)if(rI(f[g]-p)<=10)return f[g]}else{var b=p%(f=+f);if(b<10)return p-b;if(b>f-10)return p-b+f}return p}function d(f,p){return f.waypoints?nI(p,f):f.width?{x:mA(f.width/2+f.x),y:mA(f.height/2+f.y)}:void 0}s.on("connectionSegment.move.move",1500,function(f){var p,g,b=function(A){var L=A.context,z=L.snapPoints,H=L.connection,Q=H.waypoints,re=L.segmentStart,X=L.segmentStartIndex,K=L.segmentEnd,ue=L.segmentEndIndex,me=L.axis;if(z)return z;var ge=[Q[X-1],re,K,Q[ue+1]];return X<2&&ge.unshift(d(H.source,A)),ue>Q.length-3&&ge.unshift(d(H.target,A)),L.snapPoints=z={horizontal:[],vertical:[]},I(ge,function($e){$e&&($e=$e.original||$e,me==="y"&&z.horizontal.push($e.y),me==="x"&&z.vertical.push($e.x))}),z}(f),w=f.x,S=f.y;if(b){var O=w-(p=l(b.vertical,w)),M=S-(g=l(b.horizontal,S));ve(f,{dx:f.dx-O,dy:f.dy-M,x:p,y:g}),(O||b.vertical.indexOf(w)!==-1)&&_s(f,"x",p),(M||b.horizontal.indexOf(S)!==-1)&&_s(f,"y",g)}}),s.on(["connect.hover","connect.move","connect.end"],1500,function(f){var p=f.context.hover,g=p&&d(p,f);Si(p)&&g&&g.x&&g.y&&(_s(f,"x",g.x),_s(f,"y",g.y))}),s.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(f){var p,g,b=f.context,w=function(H){var Q=H.snapPoints,re=H.connection.waypoints,X=H.bendpointIndex;if(Q)return Q;var K=[re[X-1],re[X+1]];return H.snapPoints=Q={horizontal:[],vertical:[]},I(K,function(ue){ue&&(ue=ue.original||ue,Q.horizontal.push(ue.y),Q.vertical.push(ue.x))}),Q}(b),S=b.hover,O=S&&d(S,f),M=f.x,A=f.y;if(w){var L=M-(p=l(O?w.vertical.concat([O.x]):w.vertical,M)),z=A-(g=l(O?w.horizontal.concat([O.y]):w.horizontal,A));ve(f,{dx:f.dx-L,dy:f.dy-z,x:f.x-L,y:f.y-z}),(L||w.vertical.indexOf(M)!==-1)&&_s(f,"x",p),(z||w.horizontal.indexOf(A)!==-1)&&_s(f,"y",g)}})}gA.$inject=["eventBus"];var iI={__depends__:[Gf,zd],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",JT],bendpointMove:["type",kS],bendpointMovePreview:["type",iA],connectionSegmentMove:["type",OS],bendpointSnapping:["type",gA]};function yA(s,l,d,f){function p(g,b){return f.allowed("connection.create",{source:g,target:b})}s.on("connect.hover",function(g){var b,w=g.context,S=w.start,O=g.hover;if(w.hover=O,!m(b=w.canExecute=p(S,O))){if(b!==!1)return w.source=S,void(w.target=O);m(b=w.canExecute=p(O,S))||b!==!1&&(w.source=O,w.target=S)}}),s.on(["connect.out","connect.cleanup"],function(g){var b=g.context;b.hover=null,b.source=null,b.target=null,b.canExecute=!1}),s.on("connect.end",function(g){var b=g.context,w=b.canExecute,S=b.connectionStart,O={x:g.x,y:g.y},M=b.source,A=b.target;if(!w)return!1;var L=null,z={connectionStart:TS(b)?O:S,connectionEnd:TS(b)?S:O};_(w)&&(L=w),b.connection=d.connect(M,A,L,z)}),this.start=function(g,b,w,S){_(w)||(S=w,w=Pn(b)),l.init(g,"connect",{autoActivate:S,data:{shape:b,context:{start:b,connectionStart:w}}})}}function TS(s){var l=s.hover,d=s.source,f=s.target;return l&&d&&l===d&&d!==f}yA.$inject=["eventBus","dragging","modeling","rules"];var vA="connect-ok",bA="connect-not-ok";function xA(s,l,d){var f=s.get("connectionPreview",!1);f&&l.on("connect.move",function(p){var g=p.context,b=g.canExecute,w=g.hover,S=g.source,O=g.start,M=g.startPosition,A=g.target,L=g.connectionStart||M,z=g.connectionEnd||{x:p.x,y:p.y},H=L,Q=z;TS(g)&&(H=z,Q=L),f.drawPreview(g,b,{source:S||O,target:A||w,connectionStart:H,connectionEnd:Q})}),l.on("connect.hover",900,function(p){var g=p.context,b=p.hover,w=g.canExecute;w!==null&&d.addMarker(b,w?vA:bA)}),l.on(["connect.out","connect.cleanup"],1100,function(p){var g=p.hover;g&&(d.removeMarker(g,vA),d.removeMarker(g,bA))}),f&&l.on("connect.cleanup",function(p){f.cleanUp(p.context)})}xA.$inject=["injector","eventBus","canvas"];var ny={__depends__:[ur,zd,Gf],__init__:["connectPreview"],connect:["type",yA],connectPreview:["type",xA]};function Qf(s,l,d,f){this._canvas=l,this._graphicsFactory=d,this._elementFactory=f,this._connectionDocking=s.get("connectionDocking",!1),this._layouter=s.get("layouter",!1)}Qf.$inject=["injector","canvas","graphicsFactory","elementFactory"],Qf.prototype.drawPreview=function(s,l,d){d=d||{};var f,p,g,b=s.connectionPreviewGfx,w=s.getConnection,S=d.source,O=d.target,M=d.waypoints,A=d.connectionStart,L=d.connectionEnd,z=d.noLayout,H=d.noCropping,Q=d.noNoop,re=this;b||(b=s.connectionPreviewGfx=this.createConnectionPreviewGfx()),pt(b),w||(w=s.getConnection=(p=function(X,K,ue){return re.getConnection(X,K,ue)},g={},function(X){var K=JSON.stringify(X),ue=g[K];return ue||(ue=g[K]=p.apply(null,arguments)),ue})),l&&(f=w(l,S,O)),f?(f.waypoints=M||[],this._layouter&&!z&&(f.waypoints=this._layouter.layoutConnection(f,{source:S,target:O,connectionStart:A,connectionEnd:L,waypoints:d.waypoints||f.waypoints})),f.waypoints&&f.waypoints.length||(f.waypoints=[S?Pn(S):A,O?Pn(O):L]),this._connectionDocking&&(S||O)&&!H&&(f.waypoints=this._connectionDocking.getCroppedWaypoints(f,S,O)),this._graphicsFactory.drawConnection(b,f,{stroke:"var(--element-dragger-color)"})):!Q&&this.drawNoopPreview(b,d)},Qf.prototype.drawNoopPreview=function(s,l){var d=l.source,f=l.target,p=l.connectionStart||Pn(d),g=l.connectionEnd||Pn(f),b=this.cropWaypoints(p,g,d,f);ct(s,this.createNoopConnection(b[0],b[1]))},Qf.prototype.cropWaypoints=function(s,l,d,f){var p=this._graphicsFactory,g=d&&p.getShapePath(d),b=f&&p.getShapePath(f),w=p.getConnectionPath({waypoints:[s,l]});return[s=d&&Jc(g,w,!0)||s,l=f&&Jc(b,w,!1)||l]},Qf.prototype.cleanUp=function(s){s&&s.connectionPreviewGfx&&Ie(s.connectionPreviewGfx)},Qf.prototype.getConnection=function(s){var l=function(d){return _(d)?d:{}}(s);return this._elementFactory.createConnection(l)},Qf.prototype.createConnectionPreviewGfx=function(){var s=Rt("g");return Ct(s,{pointerEvents:"none"}),fe(s).add("djs-dragger"),ct(this._canvas.getActiveLayer(),s),s},Qf.prototype.createNoopConnection=function(s,l){return im([s,l],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};var wA={__init__:["connectionPreview"],connectionPreview:["type",Qf]},_A=["marker-start","marker-mid","marker-end"],AS=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Kf(s,l,d,f){this._elementRegistry=s,this._canvas=d,this._styles=f,this._clonedMarkers={};var p=this;l.on("drag.cleanup",function(){p.cleanUp()})}Kf.$inject=["elementRegistry","eventBus","canvas","styles"],Kf.prototype.cleanUp=function(){I(this._clonedMarkers,function(s){Ie(s)}),this._clonedMarkers={}},Kf.prototype.getGfx=function(s){return this._elementRegistry.getGraphics(s)},Kf.prototype.addDragger=function(s,l,d,f="djs-dragger"){var p=Wt(d=d||this.getGfx(s)),g=d.getBoundingClientRect();return this._cloneMarkers(vc(p),f),Ct(p,this._styles.cls(f,[],{x:g.top,y:g.left})),ct(l,p),Ct(p,"data-preview-support-element-id",s.id),p},Kf.prototype.addFrame=function(s,l){var d=Rt("rect",{class:"djs-resize-overlay",width:s.width,height:s.height,x:s.x,y:s.y});return ct(l,d),Ct(d,"data-preview-support-element-id",s.id),d},Kf.prototype._cloneMarkers=function(s,l="djs-dragger"){var d=this;if(s.childNodes)for(var f=0;f<s.childNodes.length;f++)d._cloneMarkers(s.childNodes[f],l);(function(p){return AS.indexOf(p.nodeName)!==-1})(s)&&_A.forEach(function(p){if(Ct(s,p)){var g=function(b,w,S){var O=(M=Ct(b,w),M.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]),M;return mr("marker#"+O,S||document)}(s,p,d._canvas.getContainer());d._cloneMarker(s,g,p,l)}})},Kf.prototype._cloneMarker=function(s,l,d,f="djs-dragger"){var p=l.id+"-"+f,g=this._clonedMarkers[p];if(!g){var b=p+"-clone";(g=Wt(l)).id=b,fe(g).add(f),this._clonedMarkers[p]=g;var w=mr("defs",this._canvas._svg);w||(w=Rt("defs"),ct(this._canvas._svg,w)),ct(w,g)}Ct(s,d,"url(#"+this._clonedMarkers[p].id+")")};var Rm={__init__:["previewSupport"],previewSupport:["type",Kf]};const $0="complex-preview";class RS{constructor(l,d,f){this._canvas=l,this._graphicsFactory=d,this._previewSupport=f,this._markers=[]}create(l){this.cleanUp();const{created:d=[],moved:f=[],removed:p=[],resized:g=[]}=l,b=this._canvas.getLayer($0);d.filter(w=>!function(S){return S.hidden}(w)).forEach(w=>{let S;Si(w)?(S=this._graphicsFactory._createContainer("connection",Rt("g")),this._graphicsFactory.drawConnection(vc(S),w)):(S=this._graphicsFactory._createContainer("shape",Rt("g")),this._graphicsFactory.drawShape(vc(S),w),ps(S,w.x,w.y)),this._previewSupport.addDragger(w,b,S)}),f.forEach(({element:w,delta:S})=>{this._previewSupport.addDragger(w,b,void 0,"djs-dragging"),this._canvas.addMarker(w,"djs-element-hidden"),this._markers.push([w,"djs-element-hidden"]);const O=this._previewSupport.addDragger(w,b);Si(w)?ps(O,S.x,S.y):ps(O,w.x+S.x,w.y+S.y)}),p.forEach(w=>{this._previewSupport.addDragger(w,b,void 0,"djs-dragging"),this._canvas.addMarker(w,"djs-element-hidden"),this._markers.push([w,"djs-element-hidden"])}),g.forEach(({shape:w,bounds:S})=>{this._canvas.addMarker(w,"djs-hidden"),this._markers.push([w,"djs-hidden"]),this._previewSupport.addDragger(w,b,void 0,"djs-dragging");const O=this._graphicsFactory._createContainer("shape",Rt("g"));this._graphicsFactory.drawShape(vc(O),w,{width:S.width,height:S.height}),ps(O,S.x,S.y),this._previewSupport.addDragger(w,b,O)})}cleanUp(){pt(this._canvas.getLayer($0)),this._markers.forEach(([l,d])=>this._canvas.removeMarker(l,d)),this._markers=[],this._previewSupport.cleanUp()}show(){this._canvas.showLayer($0)}hide(){this._canvas.hideLayer($0)}}RS.$inject=["canvas","graphicsFactory","previewSupport"];var oI={__depends__:[Rm],__init__:["complexPreview"],complexPreview:["type",RS]},PS=["top","bottom","left","right"],Rx=10;function ry(s,l){function d(f){if(Bg(f)){var p=function(g){var b=Pn(g.label),w=Pn(g),S=B0(w,b);if(O=S,PS.indexOf(O)!==-1){var O,M=function(z){var H=Pn(z),Q=[].concat(z.incoming.map(function(re){return re.waypoints[re.waypoints.length-2]}),z.outgoing.map(function(re){return re.waypoints[1]})).map(function(re){return B0(H,re)});return Q}(g);if(g.host){var A=function(z){var H,Q=z.host,re=Pn(z),X=na(re,Q);H=X.indexOf("-")>=0?X.split("-"):[X];var K=PS.filter(function(ue){return H.indexOf(ue)===-1});return K}(g);M=M.concat(A)}var L=PS.filter(function(z){return M.indexOf(z)===-1});if(L.indexOf(S)===-1)return L[0]}}(f);p&&function(g,b){var w=Pn(g),S=g.label,O=Pn(S);if(S.parent){var M,A=Ln(g);switch(b){case"top":M={x:w.x,y:A.top-Rx-S.height/2};break;case"left":M={x:A.left-Rx-S.width/2,y:w.y};break;case"bottom":M={x:w.x,y:A.bottom+Rx+S.height/2};break;case"right":M={x:A.right+Rx+S.width/2,y:w.y}}var L=Uu(M,O);l.moveShape(S,L)}}(f,p)}}Pt.call(this,s),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(f){var p=f.context,g=p.connection,b=g.source,w=g.target;(p.hints||{}).createElementsBehavior!==!1&&(d(b),d(w))}),this.postExecuted(["label.create"],function(f){var p=f.context,g=p.shape;(p.hints||{}).createElementsBehavior!==!1&&d(g.labelTarget)}),this.postExecuted(["elements.create"],function(f){var p=f.context,g=p.elements;(p.hints||{}).createElementsBehavior!==!1&&g.forEach(function(b){d(b)})})}function B0(s,l){return na(l,s,5)}function MS(s){Pt.call(this,s),this.preExecute("shape.append",function(l){var d=l.source,f=l.shape;l.position||(ie(f,"bpmn:TextAnnotation")?l.position={x:d.x+d.width/2+75,y:d.y-50-f.height/2}:l.position={x:d.x+d.width+80+f.width/2,y:d.y+d.height/2})},!0)}function DS(s,l){s.invoke(Pt,this),this.postExecute("shape.move",function(d){var f=d.newParent,p=d.shape;I(B(p.incoming.concat(p.outgoing),function(g){return ie(g,"bpmn:Association")}),function(g){l.moveConnection(g,{x:0,y:0},f)})},!0)}t(ry,Pt),ry.$inject=["eventBus","modeling"],t(MS,Pt),MS.$inject=["eventBus"],t(DS,Pt),DS.$inject=["injector","modeling"];function iy(s,l){l.invoke(Pt,this),this._bpmnReplace=s;var d=this;this.postExecuted("elements.create",500,function(f){var p=f.elements;(p=p.filter(function(g){return NS(g,g.host)})).length===1&&p.map(function(g){return p.indexOf(g)}).forEach(function(g){var b=p[g];f.elements[g]=d._replaceShape(p[g],b)})},!0),this.preExecute("elements.move",500,function(f){var p=f.shapes,g=f.newHost;if(p.length===1){var b=p[0];NS(b,g)&&(f.shapes=[d._replaceShape(b,g)])}},!0)}function NS(s,l){return!jr(s)&&Sr(s,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!l}function IS(s,l){function d(f){return B(f.attachers,function(p){return ie(p,"bpmn:BoundaryEvent")})}Pt.call(this,s),this.postExecute("connection.create",function(f){var p=f.context.source,g=f.context.target,b=d(g);ie(p,"bpmn:EventBasedGateway")&&ie(g,"bpmn:ReceiveTask")&&b.length>0&&l.removeElements(b)}),this.postExecute("connection.reconnect",function(f){var p=f.context.oldSource,g=f.context.newSource;ie(p,"bpmn:Gateway")&&ie(g,"bpmn:EventBasedGateway")&&I(g.outgoing,function(b){var w=b.target,S=d(w);ie(w,"bpmn:ReceiveTask")&&S.length>0&&l.removeElements(S)})})}function LS(s,l,d){function f(g){l.updateProperties(g,{isForCompensation:!0})}function p(g){l.updateProperties(g,{isForCompensation:void 0})}Pt.call(this,s),this.preExecute("shape.replace",function(g){const{newData:b,oldShape:w}=g;if(oy(g.oldShape)&&b.eventDefinitionType!=="bpmn:CompensateEventDefinition"||b.type!=="bpmn:BoundaryEvent"){const S=w.outgoing.find(({target:O})=>j0(O));S&&S.target&&(g._connectionTarget=S.target)}else if(!oy(g.oldShape)&&b.eventDefinitionType==="bpmn:CompensateEventDefinition"&&b.type==="bpmn:BoundaryEvent"){const S=w.outgoing.find(({target:O})=>Px(O));S&&S.target&&(g._connectionTarget=S.target),function(O){const M=O.outgoing.filter(A=>ie(A,"bpmn:SequenceFlow"));l.removeElements(M)}(w)}},!0),this.postExecuted("shape.replace",function(g){const{_connectionTarget:b,newShape:w}=g;b&&l.connect(w,b)},!0),this.preExecute("connection.create",function(g){const b=g.connection,w=g.source,S=g.target;oy(w)&&Px(S)&&(f(S),function(O,M){O.outgoing.filter(z=>ie(z,"bpmn:Association")).filter(z=>j0(z.target)&&!M.includes(z)).forEach(z=>l.removeConnection(z))}(w,[b]))},!0),this.postExecuted("connection.delete",function(g){const b=g.source,w=g.target;oy(b)&&j0(w)&&p(w)},!0),this.postExecuted("connection.reconnect",function(g){const b=g.newTarget,w=g.oldSource,S=g.oldTarget;if(S!==b){const O=w;j0(S)&&p(S),oy(O)&&Px(b)&&f(b)}},!0),this.postExecuted("element.updateProperties",function(g){const{element:b}=g;j0(b)?(function(w){for(const S of w.incoming)d.canConnect(S.source,w)||l.removeConnection(S);for(const S of w.outgoing)d.canConnect(w,S.target)||l.removeConnection(S)}(b),function(w){const S=w.attachers.slice();S.length&&l.removeElements(S)}(b)):Px(b)&&function(w){const S=w.incoming.filter(O=>oy(O.source));l.removeElements(S)}(b)},!0)}function j0(s){const l=Ft(s);return l&&l.get("isForCompensation")}function oy(s){return s&&ie(s,"bpmn:BoundaryEvent")&&bm(s,"bpmn:CompensateEventDefinition")}function Px(s){return s&&ie(s,"bpmn:Activity")&&!vs(s)}function FS(s){s.invoke(Pt,this),this.preExecute("shape.create",1500,function(l){var d=l.context,f=d.parent,p=d.shape;ie(f,"bpmn:Lane")&&!ie(p,"bpmn:Lane")&&(d.parent=vl(f,"bpmn:Participant"))})}function $S(s,l){Pt.call(this,s),this.preExecute("shape.create",function(d){var f=d.context.shape;if(ie(f,"bpmn:DataObjectReference")&&f.type!=="label"){var p=l.create("bpmn:DataObject");f.businessObject.dataObjectRef=p}})}iy.$inject=["bpmnReplace","injector"],t(iy,Pt),iy.prototype._replaceShape=function(s,l){var d,f=(d=Ft(s).eventDefinitions)&&d[0],p={type:"bpmn:BoundaryEvent",host:l};return f&&(p.eventDefinitionType=f.$type),this._bpmnReplace.replaceElement(s,p,{layoutConnection:!1})},IS.$inject=["eventBus","modeling"],t(IS,Pt),t(LS,Pt),LS.$inject=["eventBus","modeling","bpmnRules"],FS.$inject=["injector"],t(FS,Pt),$S.$inject=["eventBus","bpmnFactory"],t($S,Pt);var BS=20,jS=20,EA=30,Mx=2e3;function VS(s,l,d){function f(){var p=s.getRootElement();return ie(p,"bpmn:Collaboration")?p:d.makeCollaboration()}Pt.call(this,l),l.on(["create.start","shape.move.start"],Mx,function(p){var g=p.context,b=g.shape,w=s.getRootElement();if(ie(b,"bpmn:Participant")&&ie(w,"bpmn:Process")&&w.children.length){var S=w.children.filter(function(A){return!ie(A,"bpmn:Group")&&!jr(A)&&!Si(A)});if(S.length){var O=So(S),M=function(A,L){L={width:L.width+2*BS+EA,height:L.height+2*jS};var z=Math.max(A.width,L.width),H=Math.max(A.height,L.height);return{x:-z/2,y:-H/2,width:z,height:H}}(b,O);ve(b,M),g.createConstraints=function(A,L){return L=Ln(L),{bottom:L.top+A.height/2-jS,left:L.right-A.width/2+BS,top:L.bottom-A.height/2+jS,right:L.left+A.width/2-BS-EA}}(b,O)}}}),l.on("create.start",Mx,function(p){var g=p.context.shape,b=s.getRootElement(),w=s.getGraphics(b);function S(O){O.element=b,O.gfx=w}ie(g,"bpmn:Participant")&&ie(b,"bpmn:Process")&&(l.on("element.hover",Mx,S),l.once("create.cleanup",function(){l.off("element.hover",S)}))}),this.preExecute("elements.create",Mx,function(p){var g,b=p.elements,w=p.parent,S=function(O){return $(O,function(M){return ie(M,"bpmn:Participant")})}(b);S&&ie(w,"bpmn:Process")&&(p.parent=f(),(g=p.hints=p.hints||{}).participant=S,g.process=w,g.processRef=Ft(S).get("processRef"))},!0),this.preExecute("shape.create",function(p){var g=p.parent,b=p.shape;ie(b,"bpmn:Participant")&&ie(g,"bpmn:Process")&&(p.parent=f(),p.process=g,p.processRef=Ft(b).get("processRef"))},!0),this.execute("shape.create",function(p){var g=p.hints||{},b=p.process||g.process,w=p.shape,S=g.participant;!b||S&&w!==S||Ft(w).set("processRef",Ft(b))},!0),this.revert("shape.create",function(p){var g=p.hints||{},b=p.process||g.process,w=p.processRef||g.processRef,S=p.shape,O=g.participant;!b||O&&S!==O||Ft(S).set("processRef",w)},!0),this.postExecute("shape.create",function(p){var g=p.hints||{},b=p.process||p.hints.process,w=p.shape,S=g.participant;if(b){var O=b.children.slice();S?w===S&&d.moveElements(O,{x:0,y:0},S):d.moveElements(O,{x:0,y:0},w)}},!0)}VS.$inject=["canvas","eventBus","modeling"],t(VS,Pt);var au="__targetRef_placeholder";function zS(s,l){function d(g,b){var w=g.get("properties"),S=$(w,function(O){return O.name===au});return!S&&b&&Do(w,S=l.create("bpmn:Property",{name:au})),S}function f(g,b){var w=d(g);w&&(function(S,O,M){return $(S.get("dataInputAssociations"),function(A){return A!==M&&A.targetRef===O})}(g,w,b)||Mo(g.get("properties"),w))}function p(g){var b,w=g.context,S=w.connection,O=S.businessObject,M=S.target,A=M&&M.businessObject,L=w.newTarget,z=L&&L.businessObject,H=w.oldTarget||w.target,Q=H&&H.businessObject,re=S.businessObject;Q&&Q!==A&&f(Q,O),z&&z!==A&&f(z,O),A?(b=d(A,!0),re.targetRef=b):re.targetRef=null}Pt.call(this,s),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],SA(p)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],SA(p))}function SA(s){return function(l){if(ie(l.context.connection,"bpmn:DataInputAssociation"))return s(l)}}function Wd(s){this._bpmnUpdater=s}function Ar(s,l,d,f){function p(b){return b.children.filter(function(w){return ie(w,"bpmn:DataStoreReference")&&!w.labelTarget})}function g(b,w){var S=b.businessObject||b;if(w=w||d.filter(function(M){return ie(M,"bpmn:Participant")&&Ft(M).processRef})[0]){var O=w.businessObject||w;l.execute("dataStore.updateContainment",{dataStoreBo:S,dataStoreDi:Qr(b),newSemanticParent:O.processRef||O,newDiParent:Qr(w)})}}Pt.call(this,f),l.registerHandler("dataStore.updateContainment",Wd),this.preExecute("shape.create",function(b){var w=b.context,S=w.shape;ie(S,"bpmn:DataStoreReference")&&S.type!=="label"&&(w.hints||(w.hints={}),w.hints.autoResize=!1)}),this.preExecute("elements.move",function(b){var w=b.context,S=w.shapes;S.filter(function(O){return ie(O,"bpmn:DataStoreReference")}).length&&(w.hints||(w.hints={}),w.hints.autoResize=S.filter(function(O){return!ie(O,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(b){var w=b.context.shape,S=w.parent;ie(w,"bpmn:DataStoreReference")&&w.type!=="label"&&ie(S,"bpmn:Collaboration")&&g(w)}),this.postExecute("shape.move",function(b){var w=b.context,S=w.shape,O=w.oldParent,M=S.parent;ie(O,"bpmn:Collaboration")||ie(S,"bpmn:DataStoreReference")&&S.type!=="label"&&ie(M,"bpmn:Collaboration")&&g(S,ie(O,"bpmn:Participant")?O:function(A,L){for(;A.parent;){if(ie(A.parent,L))return A.parent;A=A.parent}}(O,"bpmn:Participant"))}),this.postExecute("shape.delete",function(b){var w=b.context.shape,S=s.getRootElement();Sr(w,["bpmn:Participant","bpmn:SubProcess"])&&ie(S,"bpmn:Collaboration")&&p(S).filter(function(O){return function(M,A){for(var L=M.businessObject||M,z=A.businessObject||A;L.$parent;){if(L.$parent===z.processRef||z)return!0;L=L.$parent}return!1}(O,w)}).forEach(function(O){g(O)})}),this.postExecute("canvas.updateRoot",function(b){var w=b.context,S=w.oldRoot,O=w.newRoot;p(S).forEach(function(M){ie(O,"bpmn:Process")&&g(M,O)})})}zS.$inject=["eventBus","bpmnFactory"],t(zS,Pt),Wd.$inject=["bpmnUpdater"],Wd.prototype.execute=function(s){var l=s.dataStoreBo,d=s.dataStoreDi,f=s.newSemanticParent,p=s.newDiParent;return s.oldSemanticParent=l.$parent,s.oldDiParent=d.$parent,this._bpmnUpdater.updateSemanticParent(l,f),this._bpmnUpdater.updateDiParent(d,p),[]},Wd.prototype.revert=function(s){var l=s.dataStoreBo,d=s.dataStoreDi,f=s.oldSemanticParent,p=s.oldDiParent;return this._bpmnUpdater.updateSemanticParent(l,f),this._bpmnUpdater.updateDiParent(d,p),[]},Ar.$inject=["canvas","commandStack","elementRegistry","eventBus"],t(Ar,Pt);var Dx=Math.max,Da=Math.min,Ls=20;function kA(s,l){return{top:s.top-l.top,right:s.right-l.right,bottom:s.bottom-l.bottom,left:s.left-l.left}}function Qu(s,l,d){var f=l[s],p=d.min&&d.min[s],g=d.max&&d.max[s];return k(p)&&(f=(/top|left/.test(s)?Da:Dx)(f,p)),k(g)&&(f=(/top|left/.test(s)?Dx:Da)(f,g)),f}function V0(s,l){return s!==void 0?s:Ls}function sI(s){return!s.waypoints&&s.type!=="label"}function CA(s,l){var d;if((d=s.length===void 0?B(s.children,sI):s).length)return function(f,p){var g,b,w,S;return typeof p=="object"?(g=V0(p.left),b=V0(p.right),w=V0(p.top),S=V0(p.bottom)):g=b=w=S=V0(p),{x:f.x-g,y:f.y-w,width:f.width+g+b,height:f.height+w+S}}(So(d),l)}var Nx=Math.abs,aI=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],hp=30;function Ix(s,l){return l=l||[],s.children.filter(function(d){ie(d,"bpmn:Lane")&&(Ix(d,l),l.push(d))}),l}function bl(s){return s.children.filter(function(l){return ie(l,"bpmn:Lane")})}function Oc(s){return vl(s,aI)||s}function Lx(s,l){var d=Oc(s),f=Ix(d,ie(d,"bpmn:Process")?[]:[d]),p=Ln(s),g=Ln(l),b=function(S,O){return kA(Ln(O),Ln(S))}(s,l),w=[];return f.forEach(function(S){if(S!==s){var O,M,A=0,L=b.right,z=0,H=b.left,Q=Ln(S);b.top&&(Nx(Q.bottom-p.top)<10&&(z=g.top-Q.bottom),Nx(Q.top-p.top)<5&&(A=g.top-Q.top)),b.bottom&&(Nx(Q.top-p.bottom)<10&&(A=g.bottom-Q.top),Nx(Q.bottom-p.bottom)<5&&(z=g.bottom-Q.bottom)),(A||L||z||H)&&w.push({shape:S,newBounds:(O=S,M={top:A,right:L,bottom:z,left:H},{x:O.x+(M.left||0),y:O.y+(M.top||0),width:O.width-(M.left||0)+(M.right||0),height:O.height-(M.top||0)+(M.bottom||0)})})}}),w}function Lo(s,l){Pt.call(this,s),this.postExecuted("shape.delete",500,function(d){var f=d.context,p=f.hints,g=f.shape,b=f.oldParent;ie(g,"bpmn:Lane")&&(p&&p.nested||function(w,S){var O,M,A,L=bl(S),z=[],H=[];Od(L,function(Q){return Q.y>w.y?H.push(Q):z.push(Q),Q.children}),L.length&&(O=H.length&&z.length?w.height/2:w.height,z.length&&(M=l.calculateAdjustments(z,"y",O,w.y-10),l.makeSpace(M.movingShapes,M.resizingShapes,{x:0,y:O},"s")),H.length&&(A=l.calculateAdjustments(H,"y",-O,w.y+w.height+10),l.makeSpace(A.movingShapes,A.resizingShapes,{x:0,y:-O},"n")))}(g,b))})}Lo.$inject=["eventBus","spaceTool"],t(Lo,Pt);function Fo(s,l){l.invoke(Pt,this),this._bpmnReplace=s;var d=this;this.postExecuted("elements.create",500,function(f){var p=f.elements;p.filter(function(g){return HS(g,g.host)}).map(function(g){return p.indexOf(g)}).forEach(function(g){f.elements[g]=d._replaceShape(p[g])})},!0),this.preExecute("elements.move",500,function(f){var p=f.shapes,g=f.newHost;p.forEach(function(b,w){var S,O=b.host;HS(b,(S=O,p.indexOf(S)!==-1?O:g))&&(p[w]=d._replaceShape(b))})},!0)}function HS(s,l){return!jr(s)&&ie(s,"bpmn:BoundaryEvent")&&!l}function WS(s,l,d){function f(p,g,b){var w,S,O,M,A,L,z,H,Q=g.waypoints,re=p.outgoing.slice(),X=p.incoming.slice(),K=bS(Q,H=k(b.width)?Pn(b):b);if(K){if(w=Q.slice(0,K.index),S=Q.slice(K.index+(K.bendpoint?1:0)),!w.length||!S.length)return;O=K.bendpoint?Q[K.index]:H,w.length!==1&&OA(p,w[w.length-1])||w.push(TA(O)),S.length!==1&&OA(p,S[0])||S.unshift(TA(O))}M=g.source,A=g.target,l.canConnect(M,p,g)&&(d.reconnectEnd(g,p,w||H),L=g),l.canConnect(p,A,g)&&(L?z=d.connect(p,A,{type:g.type,waypoints:S}):(d.reconnectStart(g,p,S||H),z=g));var ue=[].concat(L&&B(X,function(me){return me.source===L.source})||[],z&&B(re,function(me){return me.target===z.target})||[]);ue.length&&d.removeElements(ue)}Pt.call(this,s),this.preExecute("elements.move",function(p){var g=p.newParent,b=p.shapes,w=p.delta,S=b[0];if(S&&g){g&&g.waypoints&&(p.newParent=g=g.parent);var O=Pn(S),M={x:O.x+w.x,y:O.y+w.y},A=$(g.children,function(L){return l.canInsert(b,L)&&bS(L.waypoints,M)});A&&(p.targetFlow=A,p.position=M)}},!0),this.postExecuted("elements.move",function(p){var g=p.shapes,b=p.targetFlow,w=p.position;b&&f(g[0],b,w)},!0),this.preExecute("shape.create",function(p){var g=p.parent,b=p.shape;l.canInsert(b,g)&&(p.targetFlow=g,p.parent=g.parent)},!0),this.postExecuted("shape.create",function(p){var g=p.shape,b=p.targetFlow,w=p.position;b&&f(g,b,w)},!0)}function OA(s,l){var d=l.x,f=l.y;return d>=s.x&&d<=s.x+s.width&&f>=s.y&&f<=s.y+s.height}function TA(s){return ve({},s)}function qS(s,l){Pt.call(this,s),this.preExecuted("connection.create",function(d){var f=d.context,p=f.connection,g=f.source,b=f.target,w=f.hints;(!w||w.createElementsBehavior!==!1)&&sy(p)&&(ie(g,"bpmn:EventBasedGateway")?b.incoming.filter(S=>S!==p&&sy(S)):b.incoming.filter(S=>S!==p&&sy(S)&&ie(S.source,"bpmn:EventBasedGateway"))).forEach(function(S){l.removeConnection(S)})}),this.preExecuted("shape.replace",function(d){var f=d.context.newShape;ie(f,"bpmn:EventBasedGateway")&&f.outgoing.filter(sy).reduce(function(p,g){return p.includes(g.target)?p:p.concat(g.target)},[]).forEach(function(p){p.incoming.filter(sy).forEach(function(g){const b=p.incoming.filter(sy).filter(function(w){return w.source===f});(g.source!==f||b.length>1)&&l.removeConnection(g)})})})}function sy(s){return ie(s,"bpmn:SequenceFlow")}Fo.$inject=["bpmnReplace","injector"],t(Fo,Pt),Fo.prototype._replaceShape=function(s){var l,d,f=(d=Ft(s).eventDefinitions)&&d[0];return l=f?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:f.$type}:{type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(s,l,{layoutConnection:!1})},t(WS,Pt),WS.$inject=["eventBus","bpmnRules","modeling"],qS.$inject=["eventBus","modeling"],t(qS,Pt);var Fx=1500;function US(s,l,d){l.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],Fx,function(f){var p=f.context.shape||f.shape,g=f.hover;ie(g,"bpmn:Lane")&&!Sr(p,["bpmn:Lane","bpmn:Participant"])&&(f.hover=Oc(g),f.hoverGfx=s.getGraphics(f.hover));var b=d.getRootElement();g!==b&&(p.labelTarget||ie(p,"bpmn:Group"))&&(f.hover=b,f.hoverGfx=s.getGraphics(f.hover))}),l.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],Fx,function(f){var p=f.hover;ie(p,"bpmn:Lane")&&(f.hover=Oc(p)||p,f.hoverGfx=s.getGraphics(f.hover))}),l.on(["bendpoint.move.hover"],Fx,function(f){var p=f.context,g=f.hover,b=p.type;ie(g,"bpmn:Lane")&&/reconnect/.test(b)&&(f.hover=Oc(g)||g,f.hoverGfx=s.getGraphics(f.hover))}),l.on(["connect.start"],Fx,function(f){var p=f.context,g=p.start;ie(g,"bpmn:Lane")&&(p.start=Oc(g)||g)}),l.on("shape.move.start",2e3,function(f){var p=f.shape;ie(p,"bpmn:Lane")&&(f.shape=Oc(p)||p)}),l.on("spaceTool.move",2e3,function(f){var p=f.hover;p&&ie(p,"bpmn:Lane")&&(f.hover=Oc(p))})}US.$inject=["elementRegistry","eventBus","canvas"];function Pm(s,l,d,f,p,g){function b(A,L,z){var H=d.filter(function(Q){return ie(Q,"bpmn:Group")}).filter(function(Q){return Q.businessObject!==z});L&&!function(Q,re){return Q.some(function(X){var K=Ft(X);return(K.categoryValueRef&&K.categoryValueRef.$parent)===re})}(H,L)&&function(Q){var re=Q.$parent;re&&(Mo(re.get("rootElements"),Q),Q.$parent=null)}(L),A&&!function(Q,re){return Q.some(function(X){return Ft(X).categoryValueRef===re})}(H,A)&&function(Q){var re=Q.$parent;re&&(Mo(re.get("categoryValue"),Q),Q.$parent=null)}(A)}function w(A,L){return function(z,H,Q){return Do(H.get("categoryValue"),z),z.$parent=H,Do(Q.get("rootElements"),H),H.$parent=Q,z}(A,L,l.getDefinitions())}function S(A,L){var z=Ft(A),H=z.categoryValueRef;H||(H=z.categoryValueRef=L.categoryValue=L.categoryValue||function(re){return re.create("bpmn:CategoryValue")}(s));var Q=H.$parent;Q||(Q=H.$parent=L.category=L.category||function(re){return re.create("bpmn:Category")}(s)),w(H,Q,l.getDefinitions())}function O(A,L){var z=L.category,H=L.categoryValue,Q=Ft(A);H?(Q.categoryValueRef=null,b(H,z,Q)):b(null,Q.categoryValueRef.$parent,Q)}function M(A,L){var z=s.create(A.$type);return g.copyElement(A,z,null,L)}p.invoke(Pt,this),this.execute("label.create",function(A){var L=A.context,z=L.labelTarget;ie(z,"bpmn:Group")&&S(z,L)}),this.revert("label.create",function(A){var L=A.context,z=L.labelTarget;ie(z,"bpmn:Group")&&O(z,L)}),this.execute("shape.delete",function(A){var L=A.context,z=L.shape,H=Ft(z);if(ie(z,"bpmn:Group")&&!z.labelTarget){var Q=L.categoryValue=H.categoryValueRef;Q&&(b(Q,L.category=Q.$parent,H),H.categoryValueRef=null)}}),this.reverted("shape.delete",function(A){var L=A.context,z=L.shape;if(ie(z,"bpmn:Group")&&!z.labelTarget){var H=L.category,Q=L.categoryValue,re=Ft(z);Q&&(re.categoryValueRef=Q,w(Q,H))}}),this.execute("shape.create",function(A){var L=A.context,z=L.shape;ie(z,"bpmn:Group")&&!z.labelTarget&&Ft(z).categoryValueRef&&S(z,L)}),this.reverted("shape.create",function(A){var L=A.context,z=L.shape;ie(z,"bpmn:Group")&&!z.labelTarget&&Ft(z).categoryValueRef&&O(z,L)}),f.on("copyPaste.copyElement",770,function(A){var L=A.descriptor,z=A.element;if(ie(z,"bpmn:Group")&&!z.labelTarget){var H=Ft(z);if(H.categoryValueRef){var Q=H.categoryValueRef;L.categoryValue=M(Q,!0),Q.$parent&&(L.category=M(Q.$parent,!0))}}}),f.on("copyPaste.pasteElement",770,function(A){var L=A.descriptor,z=L.businessObject,H=L.categoryValue,Q=L.category;H&&(H=z.categoryValueRef=M(H)),Q&&(H.$parent=M(Q)),delete L.category,delete L.categoryValue})}function z0(s,l,d,f){var p,g,b,w;return(p=(f.y-d.y)*(l.x-s.x)-(f.x-d.x)*(l.y-s.y))==0?null:(g=s.y-d.y,b=s.x-d.x,w=((f.x-d.x)*g-(f.y-d.y)*b)/p,{x:Math.round(s.x+w*(l.x-s.x)),y:Math.round(s.y+w*(l.y-s.y))})}function AA(s){function l(d,f,p){var g,b={x:p.x,y:p.y-50},w={x:p.x-50,y:p.y},S=z0(d,f,p,b),O=z0(d,f,p,w);g=S&&O?GS(S,p)>GS(O,p)?O:S:S||O,d.original=g}s.on("bpmnElement.added",function(d){var f,p,g=d.element;g.waypoints&&(l((p=(f=g).waypoints)[0],p[1],Pn(f.source)),l(p[p.length-1],p[p.length-2],Pn(f.target)))})}function GS(s,l){return Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2))}function ay(s){Pt.call(this,s);var l=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(d){var f=d.context.shape,p=Ft(f),g=Qr(f);if(Sr(p,l)){var b=g.get("isHorizontal");b===void 0&&(b=!0),g.set("isHorizontal",b)}})}Pm.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],t(Pm,Pt),AA.$inject=["eventBus"],ay.$inject=["eventBus"],t(ay,Pt);var Wl=Math.sqrt,Mm=Math.min,lI=Math.max,RA=Math.abs;function PA(s){return Math.pow(s,2)}function H0(s,l){return Wl(PA(s.x-l.x)+PA(s.y-l.y))}function cI(s,l,d,f){var p=l.x-s.x,g=l.y-s.y,b=d.x-s.x,w=d.y-s.y,S=p*p+g*g,O=(p*b+g*w)/S,M=O*O-(b*b+w*w-f*f)/S;if(M<0&&M>-1e-6&&(M=0),M<0)return[];var A=Wl(M),L=-O+A,z=-O-A,H={x:s.x-p*L,y:s.y-g*L};return M===0?[H]:[H,{x:s.x-p*z,y:s.y-g*z}].filter(function(Q){return function(re,X,K){return YS(re.x,X.x,K.x)&&YS(re.y,X.y,K.y)}(Q,s,l)})}function YS(s,l,d){return s>=Mm(l,d)-lu&&s<=lI(l,d)+lu}var lu=.1;function Br(s,l){return RA(s.x-l.x)<=lu&&RA(s.y-l.y)<=lu}function QS(s,l,d,f){var p=0,g=0,b={point:s,delta:{x:0,y:0}},w=function(Xe,Mn){var zt,nt,_t,fr,Yn,Zn,wr,Yi,Fi,eo,mi,ni,gn=0;for(gn=0;gn<Mn.length-1;gn++){if(Br(zt=Mn[gn],nt=Mn[gn+1])?Zn=[zt]:(_t=H0(Xe,zt),fr=H0(Xe,nt),Zn=cI(zt,nt,Xe,Mm(_t,fr))),Zn.length<1)throw new Error("expected between [1, 2] circle -> line intersections");Zn.length===1&&(wr={type:"bendpoint",position:Zn[0],segmentIndex:gn,bendpointIndex:Br(zt,Zn[0])?gn:gn+1}),Zn.length===2&&(mi=Zn[0],ni=Zn[1],wr={type:"segment",position:Yn={x:(mi.x+ni.x)/2,y:(mi.y+ni.y)/2},segmentIndex:gn,relativeLocation:H0(zt,Yn)/H0(zt,nt)}),Yi=H0(wr.position,Xe),(!eo||Fi>Yi)&&(eo=wr,Fi=Yi)}return eo}(s,d),S=w.segmentIndex,O=function(Xe,Mn,zt,nt){var _t=zt.segmentIndex,fr=Mn.length-Xe.length;if(nt.segmentMove){var Yn=nt.segmentMove.segmentStartIndex,Zn=nt.segmentMove.newSegmentStartIndex;return _t===Yn?Zn:_t>=Zn?_t+fr<Zn?Zn:_t+fr:_t}if(nt.bendpointMove){var wr,Yi=nt.bendpointMove.insert,Fi=nt.bendpointMove.bendpointIndex;return fr===0?_t:(_t>=Fi&&(wr=Yi?_t+1:_t-1),_t<Fi&&(wr=_t,Yi&&zt.type!=="bendpoint"&&Fi-1===_t&&Tc(Mn,Fi)<zt.relativeLocation&&wr++),wr)}return fr===0?_t:nt.connectionStart&&_t===0?0:nt.connectionEnd&&_t===Xe.length-2?Mn.length-2:Math.floor((Mn.length-2)/2)}(d,l,w,f);if(O<0||O>l.length-2||O===null)return b;var M,A,L=KS(d,S),z=KS(l,O),H=w.position,Q=function(Xe,Mn){var zt=ty(Xe[0],Xe[1]),nt=ty(Xe[0],Mn);return zt===0?0:nt/zt}(L,H),re=(M=z,A=YT(L),YT(M)-A);if(w.type==="bendpoint"){var X=l.length-d.length,K=w.bendpointIndex,ue=d[K];if(l.indexOf(ue)!==-1)return b;if(X===0){var me=l[K];return{delta:{x:p=me.x-w.position.x,y:g=me.y-w.position.y},point:{x:s.x+p,y:s.y+g}}}X<0&&K!==0&&K<d.length-1&&(Q=Tc(d,K))}var ge,$e,He={x:(z[1].x-z[0].x)*Q+z[0].x,y:(z[1].y-z[0].y)*Q+z[0].y},Ve=(ge={x:s.x-H.x,y:s.y-H.y},($e=re)?{x:Math.cos($e)*ge.x-Math.sin($e)*ge.y,y:Math.sin($e)*ge.x+Math.cos($e)*ge.y}:ge);return p=He.x+Ve.x-s.x,g=He.y+Ve.y-s.y,{point:mc(He),delta:mc({x:p,y:g})}}function Tc(s,l){var d=ty(s[l-1],s[l]);return d/(d+ty(s[l],s[l+1]))}function KS(s,l){return[s[l],s[l+1]]}function W0(s,l,d){var f=iu(l),p=iu(d),g=Uu(s,f),b=g.x*(d.width/l.width),w=g.y*(d.height/l.height);return mc({x:p.x+b,y:p.y+w})}function Li(s,l,d){var f=iu(s),p=iu(l),g=iu(d),b=Uu(s,f),w=Uu(f,p),S=function(z,H,Q){var re=Ln(H),X=Ln(Q);if(function($e,He){return function(Ve,Xe){return Ve.right!==Xe.right&&Ve.left!==Xe.left}($e,He)||function(Ve,Xe){return Ve.top!==Xe.top&&Ve.bottom!==Xe.bottom}($e,He)}(re,X))return null;var K,ue,me,ge=na(H,z);if(ge==="top")K={x:0,y:X.bottom-re.bottom};else if(ge==="bottom")K={x:0,y:X.top-re.top};else if(ge==="right")K={x:X.left-re.left,y:0};else{if(ge!=="left")return null;K={x:X.right-re.right,y:0}}return ue={x:z.x+K.x,y:z.y+K.y},me=na(Q,ue),me!==ge?null:K}(f,l,d);if(S)return S;var O=w.x*(d.width/l.width),M=w.y*(d.height/l.height),A=g.x+O,L=g.y+M;return mc({x:A+b.x-s.x,y:L+b.y-s.y})}var MA="name",XS="text";function ly(s,l,d,f){function p(b){var w=b.context,S=w.element,O=w.properties;if(MA in O&&l.updateLabel(S,O[MA]),XS in O&&ie(S,"bpmn:TextAnnotation")){var M=f.getTextAnnotationBounds({x:S.x,y:S.y,width:S.width,height:S.height},O[XS]||"");l.updateLabel(S,O.text,M)}}function g(b){var w=b.context,S=w.connection,O=S.label,M=ve({},w.hints),A=w.newWaypoints||S.waypoints,L=w.oldWaypoints;return M.startChanged===void 0&&(M.startChanged=!!M.connectionStart),M.endChanged===void 0&&(M.endChanged=!!M.connectionEnd),function(z,H,Q,re){return QS(Pn(z),H,Q,re).delta}(O,A,L,M)}Pt.call(this,s),this.postExecute("element.updateProperties",p),this.postExecute("element.updateModdleProperties",b=>{Ft(b.context.element)===b.context.moddleElement&&p(b)}),this.postExecute(["shape.create","connection.create"],function(b){var w=b.context;if((w.hints||{}).createElementsBehavior!==!1){var S=w.shape||w.connection;!jr(S)&&jf(S)&&Ii(S)&&l.updateLabel(S,Ii(S))}}),this.postExecute("shape.delete",function(b){var w=b.context,S=w.labelTarget,O=w.hints||{};S&&O.unsetLabel!==!1&&l.updateLabel(S,null,null,{removeShape:!1})}),this.postExecute(["connection.layout","connection.updateWaypoints"],function(b){var w=b.context;if((w.hints||{}).labelBehavior!==!1){var S,O=w.connection.label;O&&O.parent&&(S=g(b),l.moveShape(O,S))}}),this.postExecute(["shape.replace"],function(b){var w=b.context,S=w.newShape,O=w.oldShape,M=Ft(S);M&&jf(M)&&O.label&&S.label&&(S.label.x=O.label.x,S.label.y=O.label.y)}),this.postExecute("shape.resize",function(b){var w,S=b.context,O=S.shape,M=S.newBounds,A=S.oldBounds;if(Bg(O)){var L=O.label,z=function(Q,re){if(re.length){var X=function(K,ue){var me=ue.map(function(ge){return{line:ge,distance:QT(K,ge)}});return Fe(me,"distance")[0].line}(Q,re);return xS(Q,X)}}(Pn(L),[[{x:(w=A).x,y:w.y},{x:w.x+(w.width||0),y:w.y}],[{x:w.x+(w.width||0),y:w.y},{x:w.x+(w.width||0),y:w.y+(w.height||0)}],[{x:w.x,y:w.y+(w.height||0)},{x:w.x+(w.width||0),y:w.y+(w.height||0)}],[{x:w.x,y:w.y},{x:w.x,y:w.y+(w.height||0)}]]),H=uI(z,A,M);l.moveShape(L,H)}})}function uI(s,l,d){return mc(Uu(W0(s,l,d),s))}function ZS(s,l){function d(f,p){var g=f.context,b=g.connection,w=ve({},g.hints),S=g.newWaypoints||b.waypoints,O=g.oldWaypoints;return w.startChanged===void 0&&(w.startChanged=!!w.connectionStart),w.endChanged===void 0&&(w.endChanged=!!w.connectionEnd),function(M,A,L,z){return QS(M,A,L,z).point}(p,S,O,w)}Pt.call(this,s),this.postExecute(["connection.layout","connection.updateWaypoints"],function(f){var p=f.context.connection,g=p.outgoing;p.incoming.forEach(function(b){var w=b.waypoints[b.waypoints.length-1],S=d(f,w),O=[].concat(b.waypoints.slice(0,-1),[S]);l.updateWaypoints(b,O)}),g.forEach(function(b){var w=b.waypoints[0],S=d(f,w),O=[].concat([S],b.waypoints.slice(1));l.updateWaypoints(b,O)})}),this.postExecute(["connection.move"],function(f){var p=f.context,g=p.connection,b=g.outgoing,w=g.incoming,S=p.delta;w.forEach(function(O){var M=O.waypoints[O.waypoints.length-1],A={x:M.x+S.x,y:M.y+S.y},L=[].concat(O.waypoints.slice(0,-1),[A]);l.updateWaypoints(O,L)}),b.forEach(function(O){var M=O.waypoints[0],A={x:M.x+S.x,y:M.y+S.y},L=[].concat([A],O.waypoints.slice(1));l.updateWaypoints(O,L)})})}function $x(s,l,d){var f=jx(s),p=NA(f,l),g=f[0];return p.length?p[p.length-1]:W0(g.original||g,d,l)}function Bx(s,l,d){var f=jx(s),p=NA(f,l),g=f[f.length-1];return p.length?p[0]:W0(g.original||g,d,l)}function JS(s,l,d){var f=jx(s),p=DA(l,d),g=f[0];return W0(g.original||g,p,l)}function ek(s,l,d){var f=jx(s),p=DA(l,d),g=f[f.length-1];return W0(g.original||g,p,l)}function DA(s,l){return{x:s.x-l.x,y:s.y-l.y,width:s.width,height:s.height}}function jx(s){var l=s.waypoints;if(!l.length)throw new Error("connection#"+s.id+": no waypoints");return l}function NA(s,l){return B(Te(s,dI),function(d){return function(f,p){return na(p,f,1)==="intersect"}(d,l)})}function dI(s){return s.original||s}function tk(s,l){Pt.call(this,s),this.postExecute("shape.replace",function(d){var f=d.oldShape,p=d.newShape;if(function(M,A){return ie(M,"bpmn:Participant")&&Dr(M)&&ie(A,"bpmn:Participant")&&!Dr(A)}(f,p)){var g,b,w,S,O=(b=dc([g=f],!1),w=[],S=[],b.forEach(function(M){M!==g&&(M.incoming.forEach(function(A){ie(A,"bpmn:MessageFlow")&&w.push(A)}),M.outgoing.forEach(function(A){ie(A,"bpmn:MessageFlow")&&S.push(A)}))},[]),{incoming:w,outgoing:S});O.incoming.forEach(function(M){var A=Bx(M,p,f);l.reconnectEnd(M,p,A)}),O.outgoing.forEach(function(M){var A=$x(M,p,f);l.reconnectStart(M,p,A)})}},!0)}t(ly,Pt),ly.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],t(ZS,Pt),ZS.$inject=["eventBus","modeling"],tk.$inject=["eventBus","modeling"],t(tk,Pt);const fI=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function IA(s){const l=Ft(s);if(!(ie(l,"bpmn:BoundaryEvent")||ie(l,"bpmn:StartEvent")&&vs(l.$parent)))return!1;const d=l.get("eventDefinitions");return!(!d||!d.length)&&fI.some(f=>ie(d[0],f))}function Vx(s){return ie(s,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function nk(s,l){s.invoke(Pt,this),this.postExecuted("shape.replace",function(d){const f=d.context.oldShape,p=d.context.newShape,g=d.context.hints;if(!IA(p))return;const b=Vx(p);if(g.targetElement&&g.targetElement[b]!==void 0)return;const w=Ft(f).get(b);w!==Ft(p).get(b)&&l.updateProperties(p,{[b]:w})})}function q0(s,l){Pt.call(this,s),this.preExecute("shape.resize",function(d){var f=d.shape,p=Qr(f),g=p&&p.get("label");g&&g.get("bounds")&&l.updateModdleProperties(f,g,{bounds:void 0})},!0)}function rk(s,l,d){Pt.call(this,s),this.preExecute("shape.delete",function(f){var p=f.context.shape;if(p.incoming.length===1&&p.outgoing.length===1){var g=p.incoming[0],b=p.outgoing[0];if(ie(g,"bpmn:SequenceFlow")&&ie(b,"bpmn:SequenceFlow")&&l.canConnect(g.source,b.target,g)){var w=function(S,O){var M=z0(cy(S[S.length-2]),cy(S[S.length-1]),cy(O[1]),cy(O[0]));return M?[].concat(S.slice(0,S.length-1),[M],O.slice(1)):[cy(S[0]),cy(O[O.length-1])]}(g.waypoints,b.waypoints);d.reconnectEnd(g,b.target,w)}}})}function cy(s){return s.original||s}function ik(s,l){Pt.call(this,s),this.preExecute("shape.delete",function(d){var f=d.shape,p=f.parent;ie(f,"bpmn:Participant")&&(d.collaborationRoot=p)},!0),this.postExecute("shape.delete",function(d){var f=d.collaborationRoot;f&&!f.businessObject.participants.length&&l.makeProcess()},!0)}function Us(s,l,d,f){Pt.call(this,s);var p=f.get("dragging",!1);function g(b){var w,S,O=b.source,M=b.target;b.parent&&(ie(b,"bpmn:SequenceFlow")&&(d.canConnectSequenceFlow(O,M)||(S=!0),d.canConnectMessageFlow(O,M)&&(w="bpmn:MessageFlow")),ie(b,"bpmn:MessageFlow")&&(d.canConnectMessageFlow(O,M)||(S=!0),d.canConnectSequenceFlow(O,M)&&(w="bpmn:SequenceFlow")),S&&l.removeConnection(b),w&&l.connect(O,M,{type:w,waypoints:b.waypoints.slice()}))}this.postExecuted("elements.move",function(b){I(b.closure.allConnections,g)},!0),this.preExecute("connection.reconnect",function(b){var w,S,O=b.context,M=O.connection,A=O.newSource||M.source,L=O.newTarget||M.target;(w=d.canConnect(A,L))&&w.type!==M.type&&(S=l.connect(A,L,{type:w.type,associationDirection:w.associationDirection,waypoints:M.waypoints.slice()}),M.parent&&l.removeConnection(M),O.connection=S,p&&function(z,H){var Q,re=p.context(),X=re&&re.payload.previousSelection;!X||!X.length||(Q=X.indexOf(z))!==-1&&X.splice(Q,1,H)}(M,S))}),this.postExecuted("element.updateProperties",function(b){var w,S=b.context,O=S.properties,M=S.element,A=M.businessObject;O.default&&(w=$(M.outgoing,ze({id:M.businessObject.default.id})))&&l.updateProperties(w,{conditionExpression:void 0}),O.conditionExpression&&A.sourceRef.default===A&&l.updateProperties(M.source,{default:void 0})})}function Na(s,l,d,f,p,g){f.invoke(Pt,this),this._bpmnReplace=s,this._elementRegistry=d,this._selection=g,this.postExecuted(["elements.create"],500,function(b){var w=b.context,S=w.parent,O=w.elements,M=oe(O,function(A,L){var z=l.canReplace([L],L.host||L.parent||S);return z?A.concat(z.replacements):A},[]);M.length&&this._replaceElements(O,M)},this),this.postExecuted(["elements.move"],500,function(b){var w=b.context,S=w.newParent,O=w.newHost,M=[];I(w.closure.topLevel,function(L){M=vs(L)?M.concat(L.children):M.concat(L)}),M.length===1&&O&&(S=O);var A=l.canReplace(M,S);A&&this._replaceElements(M,A.replacements,O)},this),this.postExecute(["shape.replace"],1500,function(b){var w,S=b.context,O=S.oldShape,M=S.newShape,A=O.attachers;A&&A.length&&(w=l.canReplace(A,M),this._replaceElements(A,w.replacements))},this),this.postExecuted(["shape.replace"],1500,function(b){var w=b.context,S=w.oldShape,O=w.newShape;p.unclaimId(S.businessObject.id,S.businessObject),p.updateProperties(O,{id:S.id})})}nk.$inject=["injector","modeling"],t(nk,Pt),t(q0,Pt),q0.$inject=["eventBus","modeling"],t(rk,Pt),rk.$inject=["eventBus","bpmnRules","modeling"],ik.$inject=["eventBus","modeling"],t(ik,Pt),t(Us,Pt),Us.$inject=["eventBus","modeling","bpmnRules","injector"],t(Na,Pt),Na.prototype._replaceElements=function(s,l){var d=this._elementRegistry,f=this._bpmnReplace,p=this._selection;I(l,function(g){var b={type:g.newElementType},w=d.get(g.oldElementId),S=s.indexOf(w);s[S]=f.replaceElement(w,b,{select:!1})}),l&&p.select(s)},Na.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var hI={width:140,height:120},Dm={width:300,height:60},U0={width:300,height:150},ok={width:140,height:120},LA={width:50,height:30};function FA(s){s.on("resize.start",1500,function(l){var d=l.context,f=d.shape,p=d.direction,g=d.balanced;(ie(f,"bpmn:Lane")||ie(f,"bpmn:Participant"))&&(d.resizeConstraints=function(b,w,S){var O=Oc(b),M=!0,A=!0,L=Ix(O,[O]),z=Ln(b),H={},Q={};/e/.test(w)?Q.right=z.left+Dm.width:/w/.test(w)&&(Q.left=z.right-Dm.width),L.forEach(function(X){var K=Ln(X);/n/.test(w)&&(K.top<z.top-10&&(M=!1),S&&zx(z.top-K.bottom)<10&&G0(H,"top",K.top+Dm.height),zx(z.top-K.top)<5&&Hx(Q,"top",K.bottom-Dm.height)),/s/.test(w)&&(K.bottom>z.bottom+10&&(A=!1),S&&zx(z.bottom-K.top)<10&&Hx(H,"bottom",K.bottom-Dm.height),zx(z.bottom-K.bottom)<5&&G0(Q,"bottom",K.top+Dm.height))});var re=O.children.filter(function(X){return!X.hidden&&!X.waypoints&&(ie(X,"bpmn:FlowElement")||ie(X,"bpmn:Artifact"))});return re.forEach(function(X){var K=Ln(X);M&&/n/.test(w)&&Hx(Q,"top",K.top-gI),/e/.test(w)&&G0(Q,"right",K.right+jA),A&&/s/.test(w)&&G0(Q,"bottom",K.bottom+yI),/w/.test(w)&&Hx(Q,"left",K.left-mI)}),{min:Q,max:H}}(f,p,g)),ie(f,"bpmn:Participant")&&(d.minDimensions=U0),ie(f,"bpmn:SubProcess")&&Dr(f)&&(d.minDimensions=ok),ie(f,"bpmn:TextAnnotation")&&(d.minDimensions=LA)})}FA.$inject=["eventBus"];var zx=Math.abs,$A=Math.min,pI=Math.max;function BA(s,l,d,f){var p=s[l];s[l]=p===void 0?d:f(d,p)}function Hx(s,l,d){return BA(s,l,d,$A)}function G0(s,l,d){return BA(s,l,d,pI)}var jA=20,mI=50,gI=20,yI=20;function VA(s,l){s.on("resize.start",1501,function(d){var f=d.context,p=f.shape;(ie(p,"bpmn:Lane")||ie(p,"bpmn:Participant"))&&(f.balanced=!mt(d))}),s.on("resize.end",1001,function(d){var f=d.context,p=f.shape,g=f.canExecute,b=f.newBounds;if(ie(p,"bpmn:Lane")||ie(p,"bpmn:Participant"))return g&&(b=h0(b),l.resizeLane(p,b,f.balanced)),!1})}VA.$inject=["eventBus","modeling"];function pp(s,l,d,f,p){function g(O){return Sr(O,["bpmn:ReceiveTask","bpmn:SendTask"])||function(M,A){return v(A)||(A=[A]),ae(A,function(L){return bm(M,L)})}(O,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function b(O){return!!$(s.getDefinitions().get("rootElements"),ze({id:O.id}))}function w(O){return ie(O,"bpmn:ErrorEventDefinition")?"errorRef":ie(O,"bpmn:EscalationEventDefinition")?"escalationRef":ie(O,"bpmn:MessageEventDefinition")?"messageRef":ie(O,"bpmn:SignalEventDefinition")?"signalRef":void 0}function S(O){if(Sr(O,["bpmn:ReceiveTask","bpmn:SendTask"]))return O.get("messageRef");var M=O.get("eventDefinitions")[0];return M.get(w(M))}d.invoke(Pt,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(O){var M=O.shape||O.element;if(g(M)){var A=S(Ft(M));A&&!b(A)&&(Do(s.getDefinitions().get("rootElements"),A),O.addedRootElement=A)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(O){var M=O.addedRootElement;M&&Mo(s.getDefinitions().get("rootElements"),M)},!0),l.on("copyPaste.copyElement",function(O){var M=O.descriptor,A=O.element;if(!A.labelTarget&&g(A)){var L=S(Ft(A));L&&(M.referencedRootElement=L)}}),l.on("copyPaste.pasteElement",500,function(O){var M=O.descriptor,A=M.businessObject,L=M.referencedRootElement;L&&(b(L)||(L=f.copyElement(L,p.create(L.$type))),function(z,H){if(Sr(z,["bpmn:ReceiveTask","bpmn:SendTask"]))return z.set("messageRef",H);var Q=z.get("eventDefinitions")[0];Q.set(w(Q),H)}(A,L),delete M.referencedRootElement)})}pp.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],t(pp,Pt);var vI=Math.max;function zA(s){s.on("spaceTool.getMinDimensions",function(l){var d=l.shapes,f=l.axis,p=l.start,g={};return I(d,function(b){var w=b.id;ie(b,"bpmn:Participant")&&(function(S){return S==="x"}(f)?g[w]=U0:g[w]={width:U0.width,height:bI(b,p)}),ie(b,"bpmn:SubProcess")&&Dr(b)&&(g[w]=ok),ie(b,"bpmn:TextAnnotation")&&(g[w]=LA),ie(b,"bpmn:Group")&&(g[w]=hI)}),g})}function bI(s,l){var d;return bl(s).length?(d=function(f,p){var g,b=bl(f);return g=HA(b,p),f.height-g.height+Dm.height}(s,l),vI(U0.height,d)):U0.height}function HA(s,l){var d,f,p;for(d=0;d<s.length;d++)if(l>=(f=s[d]).y&&l<=f.y+f.height)return(p=bl(f)).length?HA(p,l):f}zA.$inject=["eventBus"];var xI=180,WA=160;function Xf(s,l,d,f,p,g,b){Pt.call(this,l),this._canvas=s,this._eventBus=l,this._modeling=d,this._elementFactory=f,this._bpmnFactory=p,this._bpmnjs=g,this._elementRegistry=b;var w=this;function S(A){return ie(A,"bpmn:SubProcess")&&!Dr(A)}function O(A){var L=A.shape,z=A.newRootElement,H=Ft(L);z=w._addDiagram(z||H),A.newRootElement=s.addRootElement(z)}function M(A){var L=Ft(A.shape);w._removeDiagram(L);var z=A.newRootElement=b.get(Kr(L));s.removeRootElement(z)}this.executed("shape.create",function(A){S(A.shape)&&O(A)},!0),this.postExecuted("shape.create",function(A){var L=A.shape,z=A.newRootElement;z&&L.children&&(w._showRecursively(L.children),w._moveChildrenToShape(L,z))},!0),this.reverted("shape.create",function(A){S(A.shape)&&M(A)},!0),this.preExecuted("shape.delete",function(A){var L=A.shape;if(S(L)){var z=b.get(Kr(L));z&&d.removeElements(z.children.slice())}},!0),this.executed("shape.delete",function(A){S(A.shape)&&M(A)},!0),this.reverted("shape.delete",function(A){S(A.shape)&&O(A)},!0),this.preExecuted("shape.replace",function(A){var L=A.oldShape,z=A.newShape;S(L)&&S(z)&&(A.oldRoot=s.removeRootElement(Kr(L)))},!0),this.postExecuted("shape.replace",function(A){var L=A.newShape,z=A.oldRoot,H=s.findRoot(Kr(L));if(z&&H){var Q=z.children;d.moveElements(Q,{x:0,y:0},H)}},!0),this.executed("element.updateProperties",function(A){var L=A.element;if(ie(L,"bpmn:SubProcess")){var z=A.properties,H=A.oldProperties.id,Q=z.id;if(H!==Q){if(Wr(L))return b.updateId(L,Zi(Q)),void b.updateId(H,Q);b.get(Zi(H))&&b.updateId(Zi(H),Zi(Q))}}},!0),this.reverted("element.updateProperties",function(A){var L=A.element;if(ie(L,"bpmn:SubProcess")){var z=A.properties,H=A.oldProperties.id,Q=z.id;if(H!==Q){if(Wr(L))return b.updateId(L,Zi(H)),void b.updateId(Q,H);var re=b.get(Zi(Q));re&&b.updateId(re,Zi(H))}}},!0),l.on("element.changed",function(A){var L=A.element;if(Wr(L)){var z=L,H=b.get(ws(z));H&&H!==z&&l.fire("element.changed",{element:H})}}),this.executed("shape.toggleCollapse",400,function(A){var L=A.shape;ie(L,"bpmn:SubProcess")&&(Dr(L)?M(A):(O(A),w._showRecursively(L.children)))},!0),this.reverted("shape.toggleCollapse",400,function(A){var L=A.shape;ie(L,"bpmn:SubProcess")&&(Dr(L)?M(A):(O(A),w._showRecursively(L.children)))},!0),this.postExecuted("shape.toggleCollapse",600,function(A){var L=A.shape;if(ie(L,"bpmn:SubProcess")){var z=A.newRootElement;z&&(Dr(L)?w._moveChildrenToShape(z,L):w._moveChildrenToShape(L,z))}},!0),l.on("copyPaste.createTree",function(A){var L=A.element,z=A.children;if(S(L)){var H=Kr(L),Q=b.get(H);Q&&z.push.apply(z,Q.children)}}),l.on("copyPaste.copyElement",function(A){var L=A.descriptor,z=A.element,H=A.elements,Q=z.parent;if(ie(Qr(Q),"bpmndi:BPMNPlane")){var re=ws(Q),X=$(H,function(K){return K.id===re});X&&(L.parent=X.id)}}),l.on("copyPaste.pasteElement",function(A){var L=A.descriptor;L.parent&&(S(L.parent)||L.parent.hidden)&&(L.hidden=!0)})}function sk(s,l){s.invoke(Pt,this),this.postExecuted("shape.replace",function(d){var f=d.context.oldShape,p=d.context.newShape;if(ie(p,"bpmn:SubProcess")&&(ie(f,"bpmn:Task")||ie(f,"bpmn:CallActivity"))&&Dr(p)){var g,b={x:(g=p).x+g.width/6,y:g.y+g.height/2};l.createShape({type:"bpmn:StartEvent"},b,p)}})}function ak(s,l){Pt.call(this,s),this.postExecuted("shape.toggleCollapse",1500,function(d){var f=d.shape;if(!Dr(f)){var p=dc(f);p.forEach(function(b){var w=b.incoming.slice(),S=b.outgoing.slice();I(w,function(O){g(O,!0)}),I(S,function(O){g(O,!1)})})}function g(b,w){p.indexOf(b.source)!==-1&&p.indexOf(b.target)!==-1||(w?l.reconnectEnd(b,f,Pn(f)):l.reconnectStart(b,f,Pn(f)))}},!0)}t(Xf,Pt),Xf.prototype._moveChildrenToShape=function(s,l){var d,f=this._modeling,p=s.children;if(p){var g=(p=p.concat(p.reduce(function(O,M){return M.label&&M.label.parent!==s?O.concat(M.label):O},[]))).filter(function(O){return!O.hidden});if(g.length){var b=So(g);if(l.x){var w=Pn(l),S=Pn(b);d={x:w.x-S.x,y:w.y-S.y}}else d={x:xI-b.x,y:WA-b.y};f.moveElements(p,d,l,{autoResize:!1})}else f.moveElements(p,{x:0,y:0},l,{autoResize:!1})}},Xf.prototype._showRecursively=function(s,l){var d=this,f=[];return s.forEach(function(p){p.hidden=!!l,f=f.concat(p),p.children&&(f=f.concat(d._showRecursively(p.children,p.collapsed||l)))}),f},Xf.prototype._addDiagram=function(s){var l=this._bpmnjs.getDefinitions().diagrams;return s.businessObject||(s=this._createNewDiagram(s)),l.push(s.di.$parent),s},Xf.prototype._createNewDiagram=function(s){var l=this._bpmnFactory,d=this._elementFactory,f=l.create("bpmndi:BPMNPlane",{bpmnElement:s}),p=l.create("bpmndi:BPMNDiagram",{plane:f});return f.$parent=p,d.createRoot({id:Kr(s),type:s.$type,di:f,businessObject:s,collapsed:!0})},Xf.prototype._removeDiagram=function(s){var l=this._bpmnjs.getDefinitions().diagrams,d=$(l,function(f){return f.plane.bpmnElement.id===s.id});return l.splice(l.indexOf(d),1),d},Xf.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],sk.$inject=["injector","modeling"],t(sk,Pt),t(ak,Pt),ak.$inject=["eventBus","modeling"];function lk(s,l,d){Pt.call(this,s),this.executed(["shape.toggleCollapse"],500,function(f){var p,g=f.context.shape;ie(g,"bpmn:SubProcess")&&(g.collapsed?Qr(g).isExpanded=!1:((p=g.children).length&&p.forEach(function(b){b.type!=="label"||b.businessObject.name||(b.hidden=!0)}),Qr(g).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],500,function(f){var p=f.context.shape;p.collapsed?Qr(p).isExpanded=!1:Qr(p).isExpanded=!0}),this.postExecuted(["shape.toggleCollapse"],500,function(f){var p,g=f.context.shape,b=l.getDefaultSize(g);p=g.collapsed?function(w,S){return{x:w.x+(w.width-S.width)/2,y:w.y+(w.height-S.height)/2,width:S.width,height:S.height}}(g,b):function(w,S){var O,M,A,L=w.children,z=S;return O=(A=L,A.filter(function(H){return!H.hidden})).concat([w]),(M=CA(O))?(z.width=Math.max(M.width,z.width),z.height=Math.max(M.height,z.height),z.x=M.x+(M.width-z.width)/2,z.y=M.y+(M.height-z.height)/2):(z.x=w.x+(w.width-z.width)/2,z.y=w.y+(w.height-z.height)/2),z}(g,b),d.resizeShape(g,p,null,{autoResize:!g.collapsed&&"nwse"})})}function ck(s,l,d,f){l.invoke(Pt,this),this.preExecute("shape.delete",function(p){var g=p.context.shape,b=g.businessObject;jr(g)||(ie(g,"bpmn:Participant")&&Dr(g)&&d.ids.unclaim(b.processRef.id),f.unclaimId(b.id,b))}),this.preExecute("connection.delete",function(p){var g=p.context.connection.businessObject;f.unclaimId(g.id,g)}),this.preExecute("canvas.updateRoot",function(){var p=s.getRootElement(),g=p.businessObject;ie(p,"bpmn:Collaboration")&&d.ids.unclaim(g.id)})}function uk(s,l){Pt.call(this,s),this.preExecute("connection.delete",function(d){var f=d.context.connection,p=f.source;(function(g,b){if(!ie(g,"bpmn:SequenceFlow"))return!1;var w=Ft(b),S=Ft(g);return w.get("default")===S})(f,p)&&l.updateProperties(p,{default:null})})}t(lk,Pt),lk.$inject=["eventBus","elementFactory","modeling"],t(ck,Pt),ck.$inject=["canvas","injector","moddle","modeling"],t(uk,Pt),uk.$inject=["eventBus","modeling"];function dk(s,l,d){var f;function p(){if(!f)throw new Error(d("out of bounds release"));return f}Pt.call(this,s);var g=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(g,5e3,function(b){(f=f||new wI).enter()}),this.postExecuted(g,500,function(b){(function(){if(!f)throw new Error(d("out of bounds release"));var w=f.leave();w&&(l.updateLaneRefs(f.flowNodes,f.lanes),f=null)})()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(b){var w=b.context.shape,S=p();w.labelTarget||(ie(w,"bpmn:Lane")&&S.addLane(w),ie(w,"bpmn:FlowNode")&&S.addFlowNode(w))})}function wI(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(s){this.lanes.push(s)},this.addFlowNode=function(s){this.flowNodes.push(s)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}dk.$inject=["eventBus","modeling","translate"],t(dk,Pt);var _I={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",ry],appendBehavior:["type",MS],associationBehavior:["type",DS],attachEventBehavior:["type",iy],boundaryEventBehavior:["type",IS],compensateBoundaryEventBehaviour:["type",LS],createBehavior:["type",FS],createDataObjectBehavior:["type",$S],createParticipantBehavior:["type",VS],dataInputAssociationBehavior:["type",zS],dataStoreBehavior:["type",Ar],deleteLaneBehavior:["type",Lo],detachEventBehavior:["type",Fo],dropOnFlowBehavior:["type",WS],eventBasedGatewayBehavior:["type",qS],fixHoverBehavior:["type",US],groupBehavior:["type",Pm],importDockingFix:["type",AA],isHorizontalFix:["type",ay],labelBehavior:["type",ly],layoutConnectionBehavior:["type",ZS],messageFlowBehavior:["type",tk],nonInterruptingBehavior:["type",nk],removeElementBehavior:["type",rk],removeEmbeddedLabelBoundsBehavior:["type",q0],removeParticipantBehavior:["type",ik],replaceConnectionBehavior:["type",Us],replaceElementBehaviour:["type",Na],resizeBehavior:["type",FA],resizeLaneBehavior:["type",VA],rootElementReferenceBehavior:["type",pp],spaceToolBehavior:["type",zA],subProcessPlaneBehavior:["type",Xf],subProcessStartEventBehavior:["type",sk],toggleCollapseConnectionBehaviour:["type",ak],toggleElementCollapseBehaviour:["type",lk],unclaimIdBehavior:["type",ck],unsetDefaultFlowBehavior:["type",uk],updateFlowNodeRefsBehavior:["type",dk]};function qA(s,l){var d=na(s,l,-15);return d!=="intersect"?d:null}function ba(s){ou.call(this,s)}function fk(s){return!s||jr(s)}function UA(s){do{if(ie(s,"bpmn:Process"))return Ft(s);if(ie(s,"bpmn:Participant"))return Ft(s).processRef||Ft(s)}while(s=s.parent)}function hk(s){return ie(s,"bpmn:TextAnnotation")}function pk(s){return ie(s,"bpmn:Group")&&!s.labelTarget}function GA(s){return ie(s,"bpmn:BoundaryEvent")&&qd(s,"bpmn:CompensateEventDefinition")}function Wx(s){return Ft(s).isForCompensation}function YA(s){for(var l=s;l=l.parent;){if(ie(l,"bpmn:FlowElementsContainer"))return Ft(l);if(ie(l,"bpmn:Participant"))return Ft(l).processRef}return null}function QA(s,l){return YA(s)===YA(l)}function qd(s,l){return!!$(Ft(s).eventDefinitions||[],function(d){return ie(d,l)})}function KA(s,l){return(Ft(s).eventDefinitions||[]).every(function(d){return ie(d,l)})}function mk(s,l){var d=function(f){for(var p=[];f;)(f=f.parent)&&p.push(f);return p}(l);return d.indexOf(s)!==-1}function qx(s,l,d){if(fk(s)||fk(l))return null;if(!ie(d,"bpmn:DataAssociation")){if(xl(s,l))return{type:"bpmn:MessageFlow"};if(Gx(s,l))return{type:"bpmn:SequenceFlow"}}var f=vk(s,l);return f||(tR(s,l)?{type:"bpmn:Association",associationDirection:"One"}:!!eR(s,l)&&{type:"bpmn:Association",associationDirection:"None"})}function uy(s,l){return!(!jr(s)&&!pk(s))||!(ie(l,"bpmn:Participant")&&!Dr(l))&&(ie(s,"bpmn:Participant")?ie(l,"bpmn:Process")||ie(l,"bpmn:Collaboration"):Sr(s,["bpmn:DataInput","bpmn:DataOutput"])&&s.parent?l===s.parent:ie(s,"bpmn:Lane")?ie(l,"bpmn:Participant")||ie(l,"bpmn:Lane"):!(ie(s,"bpmn:BoundaryEvent")&&!function(d){return Ft(d).cancelActivity&&(Ux(d)||gk(d))}(s))&&(ie(s,"bpmn:FlowElement")&&!ie(s,"bpmn:DataStoreReference")?ie(l,"bpmn:FlowElementsContainer")?Dr(l):Sr(l,["bpmn:Participant","bpmn:Lane"]):ie(s,"bpmn:DataStoreReference")&&ie(l,"bpmn:Collaboration")?ae(Ft(l).get("participants"),function(d){return!!d.get("processRef")}):Sr(s,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Sr(l,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!ie(s,"bpmn:MessageFlow")&&(ie(l,"bpmn:Collaboration")||s.source.parent==l||s.target.parent==l)))}function EI(s){return ie(s,"bpmn:Lane")}function SI(s){return!!function(l){return!jr(l)&&ie(l,"bpmn:BoundaryEvent")}(s)||!(!ie(s,"bpmn:IntermediateThrowEvent")||!Ux(s))||ie(s,"bpmn:IntermediateCatchEvent")&&gk(s)}function Ux(s){var l=Ft(s);return l&&!(l.eventDefinitions&&l.eventDefinitions.length)}function gk(s){return yk(s,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function yk(s,l){return l.some(function(d){return qd(s,d)})}function Y0(s,l,d,f){if(Array.isArray(s)||(s=[s]),s.length!==1)return!1;var p=s[0];return!jr(p)&&!!SI(p)&&!vs(l)&&!(!ie(l,"bpmn:Activity")||Wx(l))&&!(f&&!qA(f,l))&&!function(g){return ie(g,"bpmn:ReceiveTask")&&$(g.incoming,function(b){return ie(b.source,"bpmn:EventBasedGateway")})}(l)&&"attach"}function XA(s,l,d){if(!l)return!1;var f={replacements:[]};return I(s,function(p){vs(l)||ie(p,"bpmn:StartEvent")&&p.type!=="label"&&uy(p,l)&&(function(g){return g&&Ft(g).isInterrupting!==!1}(p)||f.replacements.push({oldElementId:p.id,newElementType:"bpmn:StartEvent"}),(function(g){return bm(g,"bpmn:ErrorEventDefinition")}(p)||function(g){return bm(g,"bpmn:EscalationEventDefinition")}(p)||function(g){return bm(g,"bpmn:CompensateEventDefinition")}(p))&&f.replacements.push({oldElementId:p.id,newElementType:"bpmn:StartEvent"}),yk(p,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&ie(l,"bpmn:SubProcess")&&f.replacements.push({oldElementId:p.id,newElementType:"bpmn:StartEvent"})),ie(l,"bpmn:Transaction")||qd(p,"bpmn:CancelEventDefinition")&&p.type!=="label"&&(ie(p,"bpmn:EndEvent")&&uy(p,l)&&f.replacements.push({oldElementId:p.id,newElementType:"bpmn:EndEvent"}),ie(p,"bpmn:BoundaryEvent")&&Y0(p,l,0,d)&&f.replacements.push({oldElementId:p.id,newElementType:"bpmn:BoundaryEvent"}))}),!!f.replacements.length&&f}function ZA(s,l){return!ae(s,EI)&&(!l||s.every(function(d){return uy(d,l)}))}function Q0(s,l,d,f){return!!l&&(!(!jr(s)&&!pk(s))||!function(p,g){return p===g}(d,l)&&(!d||!mk(d,l))&&(uy(s,l)||Yx(s,l)))}function JA(s,l){return ie(s,"bpmn:SubProcess")?Dr(s)&&(!l||l.width>=100&&l.height>=80):ie(s,"bpmn:Lane")?!l||l.width>=130&&l.height>=60:ie(s,"bpmn:Participant")?!l||l.width>=250&&l.height>=50:!!hk(s)||!!pk(s)}function eR(s,l){return!mk(l,s)&&!mk(s,l)&&(!!function(d,f){var p=hk(d),g=hk(f);return(p||g)&&p!==g}(s,l)||!!vk(s,l))}function tR(s,l){return QA(s,l)&&GA(s)&&ie(l,"bpmn:Activity")&&(d=s,!l.attachers.includes(d))&&!vs(l);var d}function xl(s,l){return!(rR(s)&&!rR(l))&&ie(d=s,"bpmn:InteractionNode")&&!ie(d,"bpmn:BoundaryEvent")&&(!ie(d,"bpmn:Event")||ie(d,"bpmn:ThrowEvent")&&KA(d,"bpmn:MessageEventDefinition"))&&function(f){return ie(f,"bpmn:InteractionNode")&&!Wx(f)&&(!ie(f,"bpmn:Event")||ie(f,"bpmn:CatchEvent")&&KA(f,"bpmn:MessageEventDefinition"))&&!(ie(f,"bpmn:BoundaryEvent")&&!qd(f,"bpmn:MessageEventDefinition"))}(l)&&!function(f,p){return UA(f)===UA(p)}(s,l);var d}function Gx(s,l){return ie(d=s,"bpmn:FlowNode")&&!ie(d,"bpmn:EndEvent")&&!vs(d)&&!(ie(d,"bpmn:IntermediateThrowEvent")&&qd(d,"bpmn:LinkEventDefinition"))&&!GA(d)&&!Wx(d)&&function(f){return ie(f,"bpmn:FlowNode")&&!ie(f,"bpmn:StartEvent")&&!ie(f,"bpmn:BoundaryEvent")&&!vs(f)&&!(ie(f,"bpmn:IntermediateCatchEvent")&&qd(f,"bpmn:LinkEventDefinition"))&&!Wx(f)}(l)&&QA(s,l)&&!(ie(s,"bpmn:EventBasedGateway")&&!function(f){return ie(f,"bpmn:ReceiveTask")||ie(f,"bpmn:IntermediateCatchEvent")&&(qd(f,"bpmn:MessageEventDefinition")||qd(f,"bpmn:TimerEventDefinition")||qd(f,"bpmn:ConditionalEventDefinition")||qd(f,"bpmn:SignalEventDefinition"))}(l));var d}function vk(s,l){return Sr(s,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Sr(l,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Sr(l,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Sr(s,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function Yx(s,l,d){if(!l)return!1;if(Array.isArray(s)){if(s.length!==1)return!1;s=s[0]}return l.source!==s&&l.target!==s&&Sr(l,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!jr(l)&&ie(s,"bpmn:FlowNode")&&!ie(s,"bpmn:BoundaryEvent")&&uy(s,l.parent)}function nR(s,l){return!!jr(l)||!(ie(l,"bpmn:Lane")&&!function(d,f){return d&&f&&d.indexOf(f)!==-1}(s,l.parent))}function rR(s){return vl(s,"bpmn:Process")||vl(s,"bpmn:Collaboration")}t(ba,ou),ba.$inject=["eventBus"],ba.prototype.init=function(){this.addRule("connection.start",function(s){return function(l){return fk(l)?null:Sr(l,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(s.source)}),this.addRule("connection.create",function(s){var l=s.source,d=s.target,f=s.hints||{},p=f.targetParent;if(f.targetAttach)return!1;p&&(d.parent=p);try{return qx(l,d)}finally{p&&(d.parent=null)}}),this.addRule("connection.reconnect",function(s){var l=s.connection;return qx(s.source,s.target,l)}),this.addRule("connection.updateWaypoints",function(s){return{type:s.connection.type}}),this.addRule("shape.resize",function(s){return JA(s.shape,s.newBounds)}),this.addRule("elements.create",function(s){var l=s.elements,d=s.position,f=s.target;return!(Si(f)&&!Yx(l,f))&&ne(l,function(p){return Si(p)?qx(p.source,p.target,p):p.host?Y0(p,p.host,null,d):Q0(p,f,null)})}),this.addRule("elements.move",function(s){var l=s.target,d=s.shapes,f=s.position;return Y0(d,l,null,f)||XA(d,l,f)||ZA(d,l)||Yx(d,l)}),this.addRule("shape.create",function(s){return Q0(s.shape,s.target,s.source,s.position)}),this.addRule("shape.attach",function(s){return Y0(s.shape,s.target,null,s.position)}),this.addRule("element.copy",function(s){var l=s.element;return nR(s.elements,l)})},ba.prototype.canConnectMessageFlow=xl,ba.prototype.canConnectSequenceFlow=Gx,ba.prototype.canConnectDataAssociation=vk,ba.prototype.canConnectAssociation=eR,ba.prototype.canConnectCompensationAssociation=tR,ba.prototype.canMove=ZA,ba.prototype.canAttach=Y0,ba.prototype.canReplace=XA,ba.prototype.canDrop=uy,ba.prototype.canInsert=Yx,ba.prototype.canCreate=Q0,ba.prototype.canConnect=qx,ba.prototype.canResize=JA,ba.prototype.canCopy=nR;var bk={__depends__:[zd],__init__:["bpmnRules"],bpmnRules:["type",ba]};function iR(s,l){s.on("saveXML.start",2e3,function(){I(l.getRootElements(),function(d){var f,p=Qr(d);f=Te(B(dc([d],!1),function(g){return g!==d&&!g.labelTarget}),Qr),p.set("planeElement",f)})})}iR.$inject=["eventBus","canvas"];var xk={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",iR]};function Qx(s){Pt.call(this,s);var l=this;this.preExecute(["shape.create","connection.create"],function(d){var f=d.context,p=f.shape||f.connection,g=f.parent,b=l.getOrdering(p,g);b&&(b.parent!==void 0&&(f.parent=b.parent),f.parentIndex=b.index)}),this.preExecute(["shape.move","connection.move"],function(d){var f=d.context,p=f.shape||f.connection,g=f.newParent||p.parent,b=l.getOrdering(p,g);b&&(b.parent!==void 0&&(f.newParent=b.parent),f.newParentIndex=b.index)})}function wk(s,l,d){Qx.call(this,s);var f=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function p(g){var b=g.order;if(b||(g.order=b=function(w){if(w.labelTarget)return{level:10};var S=$(f,function(O){return Sr(w,[O.type])});return S&&S.order||{level:1}}(g)),!b)throw new Error("no order for <"+g.id+">");return b}this.getOrdering=function(g,b){if(g.labelTarget)return{parent:l.findRoot(b)||l.getRootElement(),index:-1};var w=p(g);w.containers&&(b=function(M,A,L){for(var z=A;z&&!Sr(z,L);)z=z.parent;if(!z)throw new Error("no parent for <"+M.id+"> in <"+(A&&A.id)+">");return z}(g,b,w.containers));var S=b.children.indexOf(g),O=j(b.children,function(M){return!(!g.labelTarget&&M.labelTarget)&&w.level<p(M).level});return O!==-1&&S!==-1&&S<O&&(O-=1),{index:O,parent:b}}}Qx.prototype.getOrdering=function(s,l){return null},t(Qx,Pt),wk.$inject=["eventBus","canvas","translate"],t(wk,Qx);var kI={__depends__:[N],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",wk]};function K0(){}K0.prototype.get=function(){return this._data},K0.prototype.set=function(s){this._data=s},K0.prototype.clear=function(){var s=this._data;return delete this._data,s},K0.prototype.isEmpty=function(){return!this._data};var oR={clipboard:["type",K0]},CI="drop-ok",sR="drop-not-ok",aR="attach-ok",Kx="new-parent",Xx="create";function lR(s,l,d,f,p){function g(w,S){[aR,CI,sR,Kx].forEach(function(O){O===S?s.addMarker(w,O):s.removeMarker(w,O)})}function b(){var w=l.context();w&&w.prefix===Xx&&l.cancel()}d.on(["create.move","create.hover"],function(w){var S=w.context,O=S.elements,M=w.hover,A=S.source,L=S.hints||{};if(!M)return S.canExecute=!1,void(S.target=null);cR(w);var z={x:w.x,y:w.y},H=S.canExecute=M&&function(Q,re,X,K,ue){if(!re)return!1;var me=$(Q=B(Q,function(Xe){var Mn=Xe.labelTarget;return!(Xe.parent||jr(Xe)&&Q.indexOf(Mn)!==-1)}),function(Xe){return!Si(Xe)}),ge=!1,$e=!1,He=!1;uR(Q)&&(ge=p.allowed("shape.attach",{position:X,shape:me,target:re})),ge||(He=uR(Q)?p.allowed("shape.create",{position:X,shape:me,source:K,target:re}):p.allowed("elements.create",{elements:Q,position:X,target:re}));var Ve=ue.connectionTarget;return He||ge?(me&&K&&($e=p.allowed("connection.create",{source:Ve===K?me:K,target:Ve===K?K:me,hints:{targetParent:re,targetAttach:ge}})),{attach:ge,connect:$e}):(He===null||ge===null)&&null}(O,M,z,A,L);M&&H!==null&&(S.target=M,H&&H.attach?g(M,aR):g(M,H?Kx:sR))}),d.on(["create.end","create.out","create.cleanup"],function(w){var S=w.hover;S&&g(S,null)}),d.on("create.end",function(w){var S=w.context,O=S.source,M=S.shape,A=S.elements,L=S.target,z=S.canExecute,H=z&&z.attach,Q=z&&z.connect,re=S.hints||{};if(z===!1||!L)return!1;cR(w);var X={x:w.x,y:w.y};M=Q?f.appendShape(O,M,X,L,{attach:H,connection:Q===!0?{}:Q,connectionTarget:re.connectionTarget}):$(A=f.createElements(A,X,L,ve({},re,{attach:H})),function(K){return!Si(K)}),ve(S,{elements:A,shape:M}),ve(w,{elements:A,shape:M})}),d.on("create.init",function(){d.on("elements.changed",b),d.once(["create.cancel","create.end"],2e3,function(){d.off("elements.changed",b)})}),this.start=function(w,S,O){v(S)||(S=[S]);var M=$(S,function(L){return!Si(L)});if(M){O=ve({elements:S,hints:{},shape:M},O||{}),I(S,function(L){k(L.x)||(L.x=0),k(L.y)||(L.y=0)});var A=So(B(S,function(L){return!L.hidden}));I(S,function(L){Si(L)&&(L.waypoints=Te(L.waypoints,function(z){return{x:z.x-A.x-A.width/2,y:z.y-A.y-A.height/2}})),ve(L,{x:L.x-A.x-A.width/2,y:L.y-A.y-A.height/2})}),l.init(w,Xx,{cursor:"grabbing",autoActivate:!0,data:{shape:M,elements:S,context:O}})}}}function cR(s){var l=s.context.createConstraints;l&&(l.left&&(s.x=Math.max(s.x,l.left)),l.right&&(s.x=Math.min(s.x,l.right)),l.top&&(s.y=Math.max(s.y,l.top)),l.bottom&&(s.y=Math.min(s.y,l.bottom)))}function uR(s){return s&&s.length===1&&!Si(s[0])}lR.$inject=["canvas","dragging","eventBus","modeling","rules"];function dR(s,l,d,f,p){l.on("create.move",750,function(g){var b=g.hover,w=g.context,S=w.elements,O=w.dragGroup;O||(O=w.dragGroup=function(M){var A=Rt("g");Ct(A,p.cls("djs-drag-group",["no-events"]));var L=Rt("g");return M.forEach(function(z){var H;z.hidden||(z.waypoints?(H=d._createContainer("connection",L),d.drawConnection(vc(H),z)):(H=d._createContainer("shape",L),d.drawShape(vc(H),z),ps(H,z.x,z.y)),f.addDragger(z,A,H))}),A}(S)),b?(O.parentNode||ct(s.getActiveLayer(),O),ps(O,g.x,g.y)):Ie(O)}),l.on("create.cleanup",function(g){var b=g.context.dragGroup;b&&Ie(b)})}dR.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var Zx={__depends__:[Gf,Rm,zd,ur],__init__:["create","createPreview"],create:["type",lR],createPreview:["type",dR]};function _k(s){var l=this;function d(f){l._lastMoveEvent=f}this._lastMoveEvent=null,s.on("canvas.init",function(f){(l._svg=f.svg).addEventListener("mousemove",d)}),s.on("canvas.destroy",function(){l._lastMouseEvent=null,l._svg.removeEventListener("mousemove",d)})}_k.$inject=["eventBus"],_k.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function(s,l){var d=document.createEvent("MouseEvent"),f=s,p=l,g=s,b=l;return d.initMouseEvent&&d.initMouseEvent("mousemove",!0,!0,window,0,f,p,g,b,!1,!1,!1,!1,0,null),d}(0,0)};var X0={__init__:["mouse"],mouse:["type",_k]};function Ku(s,l,d,f,p,g,b,w){this._canvas=s,this._create=l,this._clipboard=d,this._elementFactory=f,this._eventBus=p,this._modeling=g,this._mouse=b,this._rules=w,p.on("copyPaste.copyElement",function(S){var O=S.descriptor,M=S.element,A=S.elements;O.priority=1,O.id=M.id;var L=$(A,function(z){return z===M.parent});L&&(O.parent=M.parent.id),function(z){return!!z.host}(M)&&(O.priority=2,O.host=M.host.id),Si(M)&&(O.priority=3,O.source=M.source.id,O.target=M.target.id,O.waypoints=function(z){return Te(z.waypoints,function(H){return(H=fR(H)).original&&(H.original=fR(H.original)),H})}(M)),jr(M)&&(O.priority=4,O.labelTarget=M.labelTarget.id),I(["x","y","width","height"],function(z){k(M[z])&&(O[z]=M[z])}),O.hidden=M.hidden,O.collapsed=M.collapsed}),p.on("copyPaste.pasteElements",function(S){ve(S.hints,{createElementsBehavior:!1})})}function fR(s){return ve({},s)}function hR(s,l){var d=l.indexOf(s);return d===-1?l:l.splice(d,1)}Ku.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],Ku.prototype.copy=function(s){var l,d;return v(s)||(s=s?[s]:[]),d=(l=this._eventBus.fire("copyPaste.canCopyElements",{elements:s}))===!1?{}:this.createTree(v(l)?l:s),this._clipboard.set(d),this._eventBus.fire("copyPaste.elementsCopied",{elements:s,tree:d}),d},Ku.prototype.paste=function(s){var l=this._clipboard.get();if(!this._clipboard.isEmpty()){var d=s&&s.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:d});var f=this._createElements(l);if(s&&s.element&&s.point)return this._paste(f,s.element,s.point,d);this._create.start(this._mouse.getLastMoveEvent(),f,{hints:d||{}})}},Ku.prototype._paste=function(s,l,d,f){I(s,function(g){k(g.x)||(g.x=0),k(g.y)||(g.y=0)});var p=So(s);return I(s,function(g){Si(g)&&(g.waypoints=Te(g.waypoints,function(b){return{x:b.x-p.x-p.width/2,y:b.y-p.y-p.height/2}})),ve(g,{x:g.x-p.x-p.width/2,y:g.y-p.y-p.height/2})}),this._modeling.createElements(s,d,l,ve({},f))},Ku.prototype._createElements=function(s){var l=this,d=this._eventBus,f={},p=[];return I(s,function(g,b){I(g=Fe(g,"priority"),function(w){var S,O=ve({},gt(w,["priority"]));return f[w.parent]?O.parent=f[w.parent]:delete O.parent,d.fire("copyPaste.pasteElement",{cache:f,descriptor:O}),Si(O)?(O.source=f[w.source],O.target=f[w.target],S=f[w.id]=l.createConnection(O),void p.push(S)):jr(O)?(O.labelTarget=f[O.labelTarget],S=f[w.id]=l.createLabel(O),void p.push(S)):(O.host&&(O.host=f[O.host]),S=f[w.id]=l.createShape(O),void p.push(S))})}),p},Ku.prototype.createConnection=function(s){return this._elementFactory.createConnection(gt(s,["id"]))},Ku.prototype.createLabel=function(s){return this._elementFactory.createLabel(gt(s,["id"]))},Ku.prototype.createShape=function(s){return this._elementFactory.createShape(gt(s,["id"]))},Ku.prototype.hasRelations=function(s,l){var d,f;return!(Si(s)&&(d=$(l,ze({id:s.source.id})),f=$(l,ze({id:s.target.id})),!d||!f))&&!(jr(s)&&!$(l,ze({id:s.labelTarget.id})))},Ku.prototype.createTree=function(s){var l=this._rules,d=this,f={},p=[];function g(b,w){var S=$(p,function(O){return b===O.element});S?S.depth<w&&(p=function(O,M){var A=M.indexOf(O);return A!==-1&&M.splice(A,1),M}(S,p),p.push({element:S.element,depth:w})):p.push({element:b,depth:w})}return Od(om(s),function(b,w,S){if(!jr(b)){I(b.labels,function(M){g(M,S)}),I([b.attachers,b.incoming,b.outgoing],function(M){M&&M.length&&I(M,function(A){I(A.labels,function(L){g(L,S)}),g(A,S)})}),g(b,S);var O=[];return b.children&&(O=b.children.slice()),d._eventBus.fire("copyPaste.createTree",{element:b,children:O}),O}}),s=Te(p,function(b){return b.element}),p=Te(p,function(b){return b.descriptor={},d._eventBus.fire("copyPaste.copyElement",{descriptor:b.descriptor,element:b.element,elements:s}),b}),p=Fe(p,function(b){return b.descriptor.priority}),s=Te(p,function(b){return b.element}),I(p,function(b){var w=b.depth;d.hasRelations(b.element,s)&&function(S,O){return l.allowed("element.copy",{element:S,elements:O})}(b.element,s)?(f[w]||(f[w]=[]),f[w].push(b.descriptor)):hR(b.element,s)}),f};var OI={__depends__:[oR,Zx,X0,zd],__init__:["copyPaste"],copyPaste:["type",Ku]};function Ek(s,l,d){v(d)||(d=[d]),I(d,function(f){u(s[f])||(l[f]=s[f])})}function pR(s,l,d){function f(g,b){var w=s.create(g.$type);return d.copyElement(g,w,null,b)}l.on("copyPaste.copyElement",750,function(g){var b=g.descriptor,w=g.element,S=Ft(w);if(jr(w))return b;var O=b.businessObject=f(S,!0),M=b.di=f(Qr(w),!0);M.bpmnElement=O,Ek(O,b,"name"),Ek(M,b,"isExpanded"),S.default&&(b.default=S.default.id)});var p="-bpmn-js-refs";l.on("copyPaste.pasteElement",function(g){var b=g.cache,w=g.descriptor,S=w.businessObject,O=w.di;if(jr(w))return w.businessObject=Ft(b[w.labelTarget]),void(w.di=Qr(b[w.labelTarget]));S=w.businessObject=f(S),(O=w.di=f(O)).bpmnElement=S,Ek(w,S,["isExpanded","name"]),w.type=S.$type}),l.on("copyPaste.copyElement",750,function(g){var b=g.descriptor,w=g.element;if(ie(w,"bpmn:Participant")){var S=Ft(w);S.processRef&&(b.processRef=f(S.processRef,!0))}}),l.on("copyPaste.pasteElement",function(g){var b=g.descriptor,w=b.processRef;w&&(b.processRef=f(w))}),l.on("copyPaste.pasteElement",750,function(g){var b=g.cache;(function(w,S){w[p]=S})(b,function(w,S,O){var M=Ft(w);return w.default&&(O[w.default]={element:M,property:"default"}),w.host&&(Ft(w).attachedToRef=Ft(S[w.host])),gt(O,oe(O,function(A,L,z){var H=L.element,Q=L.property;return z===w.id&&(H.set(Q,M),A.push(w.id)),A},[]))}(g.descriptor,b,function(w){return w[p]=w[p]||{}}(b)))})}pR.$inject=["bpmnFactory","eventBus","moddleCopy"];var TI=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function Z0(s,l,d){this._bpmnFactory=l,this._eventBus=s,this._moddle=d,s.on("moddleCopy.canCopyProperties",function(f){var p=f.propertyNames;if(p&&p.length)return Fe(p,function(g){return g==="extensionElements"})}),s.on("moddleCopy.canCopyProperty",function(f){var p=f.parent,g=_(p)&&p.$descriptor,b=f.propertyName;return(!b||TI.indexOf(b)===-1)&&!(b&&g&&!$(g.properties,ze({name:b})))&&void 0}),s.on("moddleCopy.canSetCopiedProperty",function(f){var p,g,b=f.property;if(g="bpmn:ExtensionElements",(p=b)&&R(p.$instanceOf)&&p.$instanceOf(g)&&(!b.values||!b.values.length))return!1})}function Sk(s,l){return oe(s.properties,function(d,f){return l&&f.default?d:d.concat(f.name)},[])}Z0.$inject=["eventBus","bpmnFactory","moddle"],Z0.prototype.copyElement=function(s,l,d,f=!1){var p=this;d&&!v(d)&&(d=[d]),d=d||Sk(s.$descriptor);var g=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:d,sourceElement:s,targetElement:l,clone:f});return g===!1||(v(g)&&(d=g),I(d,function(b){var w;F(s,b)&&(w=s.get(b));var S=p.copyProperty(w,l,b,f);h(S)&&p._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:l,property:S,propertyName:b})!==!1&&l.set(b,S)})),l},Z0.prototype.copyProperty=function(s,l,d,f=!1){var p=this,g=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:l,property:s,propertyName:d,clone:f});if(g!==!1){if(g)return _(g)&&g.$type&&!g.$parent&&(g.$parent=l),g;var b=this._moddle.getPropertyDescriptor(l,d);if(!b.isReference)return b.isId?s&&this._copyId(s,l,f):v(s)?oe(s,function(w,S){return(g=p.copyProperty(S,l,d,f))?w.concat(g):w},[]):_(s)&&s.$type?this._moddle.getElementDescriptor(s).isGeneric?void 0:((g=p._bpmnFactory.create(s.$type)).$parent=l,g=p.copyElement(s,g,null,f)):s}},Z0.prototype._copyId=function(s,l,d=!1){return d?s:this._moddle.ids.assigned(s)?void 0:(this._moddle.ids.claim(s,l),s)};var mR={__depends__:[OI],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",pR],moddleCopy:["type",Z0]},gR=Math.round;function kk(s,l){this._modeling=s,this._eventBus=l}function yR(s,l){l.on("replace.end",500,function(d){const{newElement:f,hints:p={}}=d;p.select!==!1&&s.select(f)})}kk.$inject=["modeling","eventBus"],kk.prototype.replaceElement=function(s,l,d){if(s.waypoints)return null;var f=this._modeling,p=this._eventBus;p.fire("replace.start",{element:s,attrs:l,hints:d});var g=l.width||s.width,b=l.height||s.height,w=l.x||s.x,S=l.y||s.y,O=gR(w+g/2),M=gR(S+b/2),A=f.replaceShape(s,ve({},l,{x:O,y:M,width:g,height:b}),d);return p.fire("replace.end",{element:s,newElement:A,hints:d}),A},yR.$inject=["selection","eventBus"];var AI={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",yR],replace:["type",kk]},y=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function E(s,l,d,f,p,g){this.replaceElement=function(b,w,S){S=S||{};var O=w.type,M=b.businessObject;if(D(M)&&O==="bpmn:SubProcess"&&function(re,X){var K=re&&F(re,"collapsed")?re.collapsed:!Dr(re);return K!==(X&&(F(X,"collapsed")||F(X,"isExpanded"))?F(X,"collapsed")?X.collapsed:!X.isExpanded:K)}(b,w))return f.toggleCollapse(b),b;var A=s.create(O),L={type:O,businessObject:A,di:{}};(function(re,X,K){v(K)||(K=[K]),I(K,function(ue){u(re[ue])||(X[ue]=re[ue])})})(b.di,L.di,["fill","stroke","background-color","border-color","color"]);var z=function(re,X){return re.filter(function(K){return X.includes(K)})}(Sk(M.$descriptor),Sk(A.$descriptor,!0));ve(A,vt(w,y));var H=B(z,function(re){return re==="eventDefinitions"?U(b,w.eventDefinitionType):re==="loopCharacteristics"?!vs(A):!F(A,re)&&(re!=="processRef"||w.isExpanded!==!1)&&re!=="triggeredByEvent"&&(re!=="isForCompensation"||!vs(A))});if(A=d.copyElement(M,A,H),w.eventDefinitionType&&(U(A,w.eventDefinitionType)||(L.eventDefinitionType=w.eventDefinitionType,L.eventDefinitionAttrs=w.eventDefinitionAttrs)),ie(M,"bpmn:Activity")){if(D(M))L.isExpanded=Dr(b);else if(w&&F(w,"isExpanded")){L.isExpanded=w.isExpanded;var Q=l.getDefaultSize(A,{isExpanded:L.isExpanded});L.width=Q.width,L.height=Q.height,L.x=b.x-(L.width-b.width)/2,L.y=b.y-(L.height-b.height)/2}Dr(b)&&!ie(M,"bpmn:Task")&&L.isExpanded&&(L.width=b.width,L.height=b.height)}return D(M)&&!D(A)&&(S.moveChildren=!1),ie(M,"bpmn:Participant")&&(w.isExpanded===!0?A.processRef=s.create("bpmn:Process"):S.moveChildren=!1,L.width=b.width,L.height=l.getDefaultSize(L).height),g.allowed("shape.resize",{shape:A})||(L.height=l.getDefaultSize(L).height,L.width=l.getDefaultSize(L).width),A.name=M.name,Sr(M,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Sr(A,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(A.default=M.default),w.host&&!ie(M,"bpmn:BoundaryEvent")&&ie(A,"bpmn:BoundaryEvent")&&(L.host=w.host),L.type!=="bpmn:DataStoreReference"&&L.type!=="bpmn:DataObjectReference"||(L.x=b.x+(b.width-L.width)/2),p.replaceElement(b,L,{...S,targetElement:w})}}function D(s){return ie(s,"bpmn:SubProcess")}function U(s,l){var d=Ft(s);return l&&d.get("eventDefinitions").some(function(f){return ie(f,l)})}E.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];var se={__depends__:[mR,AI,ur],bpmnReplace:["type",E]};function ye(s,l){this._eventBus=s,this._dragging=l,this._tools=[],this._active=null}ye.$inject=["eventBus","dragging"],ye.prototype.registerTool=function(s,l){var d=this._tools;if(!l)throw new Error(`A tool has to be registered with it's "events"`);d.push(s),this.bindEvents(s,l)},ye.prototype.isActive=function(s){return s&&this._active===s},ye.prototype.length=function(s){return this._tools.length},ye.prototype.setActive=function(s){var l=this._eventBus;this._active!==s&&(this._active=s,l.fire("tool-manager.update",{tool:s}))},ye.prototype.bindEvents=function(s,l){var d=this._eventBus,f=this._dragging,p=[];d.on(l.tool+".init",function(g){if(!g.context.reactivate&&this.isActive(s))return this.setActive(null),void f.cancel();this.setActive(s)},this),I(l,function(g){p.push(g+".ended"),p.push(g+".canceled")}),d.on(p,250,function(g){this._active&&(function(b){var w=b.originalEvent&&b.originalEvent.target;return w&&Je(w,'.group[data-group="tools"]')}(g)||this.setActive(null))},this)};var Ae={__depends__:[Gf],__init__:["toolManager"],toolManager:["type",ye]};function Ne(s,l){return s.indexOf(l)!==-1}var Qe=Math.abs,kt=Math.round,xt={x:"width",y:"height"},Dt="crosshair",rn={n:"top",w:"left",s:"bottom",e:"right"},Wn=1500,or={n:"s",w:"e",s:"n",e:"w"},Lr=20;function Hn(s,l,d,f,p,g,b){this._canvas=s,this._dragging=l,this._eventBus=d,this._modeling=f,this._rules=p,this._toolManager=g,this._mouse=b;var w=this;g.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),d.on("spaceTool.selection.end",function(S){d.once("spaceTool.selection.ended",function(){w.activateMakeSpace(S.originalEvent)})}),d.on("spaceTool.move",Wn,function(S){var O=S.context,M=O.initialized;M||(M=O.initialized=w.init(S,O)),M&&ui(S)}),d.on("spaceTool.end",function(S){var O=S.context,M=O.axis,A=O.direction,L=O.movingShapes,z=O.resizingShapes,H=O.start;if(O.initialized){ui(S);var Q={x:0,y:0};Q[M]=kt(S["d"+M]),w.makeSpace(L,z,Q,A,H),d.once("spaceTool.ended",function(re){w.activateSelection(re.originalEvent,!0,!0)})}})}function ti(s){return{top:s.top-Lr,right:s.right+Lr,bottom:s.bottom+Lr,left:s.left-Lr}}function ui(s){var l,d,f=s.context.spaceToolConstraints;f&&(k(f.left)&&(l=Math.max(s.x,f.left),s.dx=s.dx+l-s.x,s.x=l),k(f.right)&&(l=Math.min(s.x,f.right),s.dx=s.dx+l-s.x,s.x=l),k(f.top)&&(d=Math.max(s.y,f.top),s.dy=s.dy+d-s.y,s.y=d),k(f.bottom)&&(d=Math.min(s.y,f.bottom),s.dy=s.dy+d-s.y,s.y=d))}function oa(s,l){return s.indexOf(l)!==-1}Hn.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],Hn.prototype.activateSelection=function(s,l,d){this._dragging.init(s,"spaceTool.selection",{autoActivate:l,cursor:Dt,data:{context:{reactivate:d}},trapClick:!1})},Hn.prototype.activateMakeSpace=function(s){this._dragging.init(s,"spaceTool",{autoActivate:!0,cursor:Dt,data:{context:{}}})},Hn.prototype.makeSpace=function(s,l,d,f,p){return this._modeling.createSpace(s,l,d,f,p)},Hn.prototype.init=function(s,l){var d=Qe(s.dx)>Qe(s.dy)?"x":"y",f=s["d"+d],p=s[d]-f;if(Qe(f)<5)return!1;f<0&&(f*=-1),mt(s)&&(f*=-1);var g=function(M,A){if(M==="x"){if(A>0)return"e";if(A<0)return"w"}if(M==="y"){if(A>0)return"s";if(A<0)return"n"}return null}(d,f),b=this._canvas.getRootElement();!et(s)&&s.hover&&(b=s.hover);var w=[...dc(b,!0),...b.attachers||[]],S=this.calculateAdjustments(w,d,f,p),O=function(M,A,L,z,H){var Q=M.movingShapes,re=M.resizingShapes;if(re.length){var X,K,ue={};return I(re,function(me){var ge,$e,He,Ve,Xe,Mn,zt=me.attachers,nt=me.children,_t=Ln(me),fr=B(nt,function(Fi){return!(Si(Fi)||jr(Fi)||oa(Q,Fi)||oa(re,Fi))}),Yn=B(nt,function(Fi){return!Si(Fi)&&!jr(Fi)&&oa(Q,Fi)}),Zn=[],wr=[];fr.length&&($e=ti(Ln(So(fr))),ge=z-_t[rn[L]]+$e[rn[L]],L==="n"?ue.bottom=K=k(K)?Math.min(K,ge):ge:L==="w"?ue.right=K=k(K)?Math.min(K,ge):ge:L==="s"?ue.top=X=k(X)?Math.max(X,ge):ge:L==="e"&&(ue.left=X=k(X)?Math.max(X,ge):ge)),Yn.length&&(He=ti(Ln(So(Yn))),ge=z-He[rn[or[L]]]+_t[rn[or[L]]],L==="n"?ue.bottom=K=k(K)?Math.min(K,ge):ge:L==="w"?ue.right=K=k(K)?Math.min(K,ge):ge:L==="s"?ue.top=X=k(X)?Math.max(X,ge):ge:L==="e"&&(ue.left=X=k(X)?Math.max(X,ge):ge)),zt&&zt.length&&(zt.forEach(function(Fi){oa(Q,Fi)?Zn.push(Fi):wr.push(Fi)}),Zn.length&&(Ve=Ln(So(Zn.map(Pn))),Xe=_t[rn[or[L]]]-(Ve[rn[or[L]]]-z)),wr.length&&(Mn=Ln(So(wr.map(Pn)))[rn[L]]-(_t[rn[L]]-z)),L==="n"?(ge=Math.min(Xe||1/0,Mn||1/0),ue.bottom=K=k(K)?Math.min(K,ge):ge):L==="w"?(ge=Math.min(Xe||1/0,Mn||1/0),ue.right=K=k(K)?Math.min(K,ge):ge):L==="s"?(ge=Math.max(Xe||-1/0,Mn||-1/0),ue.top=X=k(X)?Math.max(X,ge):ge):L==="e"&&(ge=Math.max(Xe||-1/0,Mn||-1/0),ue.left=X=k(X)?Math.max(X,ge):ge));var Yi=H&&H[me.id];Yi&&(L==="n"?(ge=z+me[xt[A]]-Yi[xt[A]],ue.bottom=K=k(K)?Math.min(K,ge):ge):L==="w"?(ge=z+me[xt[A]]-Yi[xt[A]],ue.right=K=k(K)?Math.min(K,ge):ge):L==="s"?(ge=z-me[xt[A]]+Yi[xt[A]],ue.top=X=k(X)?Math.max(X,ge):ge):L==="e"&&(ge=z-me[xt[A]]+Yi[xt[A]],ue.left=X=k(X)?Math.max(X,ge):ge))}),ue}}(S,d,g,p,this._eventBus.fire("spaceTool.getMinDimensions",{axis:d,direction:g,shapes:S.resizingShapes,start:p}));return ve(l,S,{axis:d,direction:g,spaceToolConstraints:O,start:p}),Wg("resize-"+(d==="x"?"ew":"ns")),!0},Hn.prototype.calculateAdjustments=function(s,l,d,f){var p=this._rules,g=[],b=[],w=[],S=[];function O(A){g.includes(A)||g.push(A);var L=A.label;L&&!g.includes(L)&&g.push(L)}I(s,function(A){if(A.parent&&!jr(A))if(Si(A))S.push(A);else{var L=A[l],z=L+A[xt[l]];if(function(Q){return!!Q.host}(A)&&(d>0&&Pn(A)[l]>f||d<0&&Pn(A)[l]<f))w.push(A);else{var H;if(!(d>0&&L>f||d<0&&z<f))return L<f&&z>f&&p.allowed("shape.resize",{shape:A})?(H=A,void(b.includes(H)||b.push(H))):void 0;O(A)}}}),I(g,function(A){var L=A.attachers;L&&I(L,function(z){O(z)})});var M=g.concat(b);return I(w,function(A){var L=A.host;oa(M,L)&&O(A)}),M=g.concat(b),I(S,function(A){var L=A.source,z=A.target,H=A.label;oa(M,L)&&oa(M,z)&&H&&O(H)}),{movingShapes:g,resizingShapes:b}},Hn.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var s=this._mouse.getLastMoveEvent();this.activateSelection(s,!!s)},Hn.prototype.isActive=function(){var s=this._dragging.context();return!!s&&/^spaceTool/.test(s.prefix)};var Ia="djs-dragging",ql="djs-resizing",Go=Math.max;function cu(s,l,d,f,p){function g(b,w){I(b,function(S){p.addDragger(S,w),d.addMarker(S,Ia)})}s.on("spaceTool.selection.start",function(b){var w=d.getLayer("space"),S=b.context,O="M 0,-10000 L 0,10000",M="M -10000,0 L 10000,0",A=Rt("g");Ct(A,f.cls("djs-crosshair-group",["no-events"])),ct(w,A);var L=Rt("path");Ct(L,"d",O),fe(L).add("djs-crosshair"),ct(A,L);var z=Rt("path");Ct(z,"d",M),fe(z).add("djs-crosshair"),ct(A,z),S.crosshairGroup=A}),s.on("spaceTool.selection.move",function(b){ps(b.context.crosshairGroup,b.x,b.y)}),s.on("spaceTool.selection.cleanup",function(b){var w=b.context.crosshairGroup;w&&Ie(w)}),s.on("spaceTool.move",250,function(b){var w=b.context,S=w.line,O=w.axis,M=w.movingShapes,A=w.resizingShapes;if(w.initialized){if(!w.dragGroup){var L=d.getLayer("space");Ct(S=Rt("path"),"d","M0,0 L0,0"),fe(S).add("djs-crosshair"),ct(L,S),w.line=S;var z=Rt("g");Ct(z,f.cls("djs-drag-group",["no-events"])),ct(d.getActiveLayer(),z),g(M,z),g(w.movingConnections=l.filter(function(X){var K=!1;I(M,function($e){I($e.outgoing,function(He){X===He&&(K=!0)})});var ue=!1;I(M,function($e){I($e.incoming,function(He){X===He&&(ue=!0)})});var me=!1;I(A,function($e){I($e.outgoing,function(He){X===He&&(me=!0)})});var ge=!1;return I(A,function($e){I($e.incoming,function(He){X===He&&(ge=!0)})}),Si(X)&&(K||me)&&(ue||ge)}),z),w.dragGroup=z}if(!w.frameGroup){var H=Rt("g");Ct(H,f.cls("djs-frame-group",["no-events"])),ct(d.getActiveLayer(),H);var Q=[];I(A,function(X){var K=p.addFrame(X,H),ue=K.getBBox();Q.push({element:K,initialBounds:ue}),d.addMarker(X,ql)}),w.frameGroup=H,w.frames=Q}Ct(S,{d:{x:"M"+b.x+", -10000 L"+b.x+", 10000",y:"M -10000, "+b.y+" L 10000, "+b.y}[O]});var re={x:b.dx,y:b.dy};re[{x:"y",y:"x"}[w.axis]]=0,ps(w.dragGroup,re.x,re.y),I(w.frames,function(X){var K,ue,me=X.element,ge=X.initialBounds;w.direction==="e"?Ct(me,{width:Go(ge.width+re.x,5)}):Ct(me,{width:K=Go(ge.width-re.x,5),x:ge.x+ge.width-K}),w.direction==="s"?Ct(me,{height:Go(ge.height+re.y,5)}):Ct(me,{height:ue=Go(ge.height-re.y,5),y:ge.y+ge.height-ue})})}}),s.on("spaceTool.cleanup",function(b){var w=b.context,S=w.movingShapes,O=w.movingConnections,M=w.resizingShapes,A=w.line,L=w.dragGroup,z=w.frameGroup;I(S,function(H){d.removeMarker(H,Ia)}),I(O,function(H){d.removeMarker(H,Ia)}),L&&(Ie(A),Ie(L)),I(M,function(H){d.removeMarker(H,ql)}),z&&Ie(z)})}cu.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var Zf={__init__:["spaceToolPreview"],__depends__:[Gf,zd,Ae,Rm,X0],spaceTool:["type",Hn],spaceToolPreview:["type",cu]};function J0(s){s.invoke(Hn,this)}J0.$inject=["injector"],t(J0,Hn),J0.prototype.calculateAdjustments=function(s,l,d,f){var p=Hn.prototype.calculateAdjustments.call(this,s,l,d,f);return p.resizingShapes=p.resizingShapes.filter(function(g){return!ie(g,"bpmn:TextAnnotation")&&(l!=="y"||!function(b){return ie(b,"bpmn:Participant")&&!Ft(b).processRef}(g))}),p};var qV={__depends__:[Zf],spaceTool:["type",J0]};function rs(s,l){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=l,this._eventBus=s,this._uid=1,s.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}rs.$inject=["eventBus","injector"],rs.prototype.execute=function(s,l){if(!s)throw new Error("command required");this._currentExecution.trigger="execute";const d={command:s,context:l};this._pushAction(d),this._internalExecute(d),this._popAction()},rs.prototype.canExecute=function(s,l){const d={command:s,context:l},f=this._getHandler(s);let p=this._fire(s,"canExecute",d);if(p===void 0){if(!f)return!1;f.canExecute&&(p=f.canExecute(l))}return p},rs.prototype.clear=function(s){this._stack.length=0,this._stackIdx=-1,s!==!1&&this._fire("changed",{trigger:"clear"})},rs.prototype.undo=function(){let s,l=this._getUndoAction();if(l){for(this._currentExecution.trigger="undo",this._pushAction(l);l&&(this._internalUndo(l),s=this._getUndoAction(),s&&s.id===l.id);)l=s;this._popAction()}},rs.prototype.redo=function(){let s,l=this._getRedoAction();if(l){for(this._currentExecution.trigger="redo",this._pushAction(l);l&&(this._internalExecute(l,!0),s=this._getRedoAction(),s&&s.id===l.id);)l=s;this._popAction()}},rs.prototype.register=function(s,l){this._setHandler(s,l)},rs.prototype.registerHandler=function(s,l){if(!s||!l)throw new Error("command and handlerCls must be defined");const d=this._injector.instantiate(l);this.register(s,d)},rs.prototype.canUndo=function(){return!!this._getUndoAction()},rs.prototype.canRedo=function(){return!!this._getRedoAction()},rs.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},rs.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},rs.prototype._internalUndo=function(s){const l=s.command,d=s.context,f=this._getHandler(l);this._atomicDo(()=>{this._fire(l,"revert",s),f.revert&&this._markDirty(f.revert(d)),this._revertedAction(s),this._fire(l,"reverted",s)})},rs.prototype._fire=function(s,l,d){arguments.length<3&&(d=l,l=null);const f=l?[s+"."+l,l]:[s];let p;d=this._eventBus.createEvent(d);for(const g of f)if(p=this._eventBus.fire("commandStack."+g,d),d.cancelBubble)break;return p},rs.prototype._createId=function(){return this._uid++},rs.prototype._atomicDo=function(s){const l=this._currentExecution;l.atomic=!0;try{s()}finally{l.atomic=!1}},rs.prototype._internalExecute=function(s,l){const d=s.command,f=s.context,p=this._getHandler(d);if(!p)throw new Error("no command handler registered for <"+d+">");this._pushAction(s),l||(this._fire(d,"preExecute",s),p.preExecute&&p.preExecute(f),this._fire(d,"preExecuted",s)),this._atomicDo(()=>{this._fire(d,"execute",s),p.execute&&this._markDirty(p.execute(f)),this._executedAction(s,l),this._fire(d,"executed",s)}),l||(this._fire(d,"postExecute",s),p.postExecute&&p.postExecute(f),this._fire(d,"postExecuted",s)),this._popAction()},rs.prototype._pushAction=function(s){const l=this._currentExecution,d=l.actions,f=d[0];if(l.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+s.command+")");s.id||(s.id=f&&f.id||this._createId()),d.push(s)},rs.prototype._popAction=function(){const s=this._currentExecution,l=s.trigger,d=s.actions,f=s.dirty;d.pop(),d.length||(this._eventBus.fire("elements.changed",{elements:Ce("id",f.reverse())}),f.length=0,this._fire("changed",{trigger:l}),s.trigger=null)},rs.prototype._markDirty=function(s){const l=this._currentExecution;s&&(s=v(s)?s:[s],l.dirty=l.dirty.concat(s))},rs.prototype._executedAction=function(s,l){const d=++this._stackIdx;l||this._stack.splice(d,this._stack.length,s)},rs.prototype._revertedAction=function(s){this._stackIdx--},rs.prototype._getHandler=function(s){return this._handlerMap[s]},rs.prototype._setHandler=function(s,l){if(!s||!l)throw new Error("command and handler required");if(this._handlerMap[s])throw new Error("overriding handler for command <"+s+">");this._handlerMap[s]=l};var Qhe={commandStack:["type",rs]};function dy(s,l){if(typeof l!="function")throw new Error("removeFn iterator must be a function");if(s){for(var d;d=s[0];)l(d);return s}}function RI(s,l,d){Pt.call(this,l);var f=s.get("movePreview",!1);l.on("shape.move.start",1400,function(p){var g=p.context,b=g.shapes,w=g.validatedShapes;g.shapes=UV(b),g.validatedShapes=UV(w)}),f&&l.on("shape.move.start",250,function(p){var g=p.context,b=g.shapes,w=[];I(b,function(S){I(S.labels,function(O){O.hidden||g.shapes.indexOf(O)!==-1||w.push(O),S.labelTarget&&w.push(S)})}),I(w,function(S){f.makeDraggable(g,S,!0)})}),this.preExecuted("elements.move",1400,function(p){var g=p.context.closure,b=g.enclosedElements,w=[];I(b,function(S){I(S.labels,function(O){b[O.id]||w.push(O)})}),g.addAll(w)}),this.preExecute(["connection.delete","shape.delete"],function(p){var g=p.context;dy((g.connection||g.shape).labels,function(b){d.removeShape(b,{nested:!0})})}),this.execute("shape.delete",function(p){var g=p.context,b=g.shape,w=b.labelTarget;w&&(g.labelTargetIndex=Tf(w.labels,b),g.labelTarget=w,b.labelTarget=null)}),this.revert("shape.delete",function(p){var g=p.context,b=g.shape,w=g.labelTarget,S=g.labelTargetIndex;w&&(Do(w.labels,b,S),b.labelTarget=w)})}function UV(s){return B(s,function(l){return s.indexOf(l.labelTarget)===-1})}t(RI,Pt),RI.$inject=["injector","eventBus","modeling"];var Khe={__init__:["labelSupport"],labelSupport:["type",RI]},GV="attach-ok";function PI(s,l,d,f,p){Pt.call(this,l);var g=s.get("movePreview",!1);l.on("shape.move.start",1401,function(b){var w,S,O=b.context,M=O.shapes,A=O.validatedShapes;O.shapes=(S=MI(w=M),Oe("id",w,S)),O.validatedShapes=function(L){var z=we(L,"id");return B(L,function(H){for(;H;){if(H.host&&z[H.host.id])return!1;H=H.parent}return!0})}(A)}),g&&l.on("shape.move.start",251,function(b){var w=b.context;I(MI(w.shapes),function(S){g.makeDraggable(w,S,!0),I(S.labels,function(O){g.makeDraggable(w,O,!0)})})}),g&&l.on("shape.move.start",function(b){var w=b.context.shapes;if(w.length===1){var S=w[0].host;S&&(d.addMarker(S,GV),l.once(["shape.move.out","shape.move.cleanup"],function(){d.removeMarker(S,GV)}))}}),this.preExecuted("elements.move",1401,function(b){var w=b.context,S=w.closure;I(MI(w.shapes),function(O){S.add(O,S.topLevel[O.host.id])})}),this.postExecuted("elements.move",function(b){var w=b.context,S=w.shapes,O=w.newHost;O&&S.length!==1||I(O?S:B(S,function(M){var A,L=M.host;return function(z){return!!z.host}(M)&&(A=L,S.indexOf(A)===-1)}),function(M){p.updateAttachment(M,O)})}),this.postExecuted("elements.move",function(b){I(b.context.shapes,function(w){I(w.attachers,function(S){I(S.outgoing.slice(),function(O){f.allowed("connection.reconnect",{connection:O,source:O.source,target:O.target})||p.removeConnection(O)}),I(S.incoming.slice(),function(O){f.allowed("connection.reconnect",{connection:O,source:O.source,target:O.target})||p.removeConnection(O)})})})}),this.postExecute("shape.create",function(b){var w=b.context,S=w.shape,O=w.host;O&&p.updateAttachment(S,O)}),this.postExecute("shape.replace",function(b){var w=b.context,S=w.oldShape,O=w.newShape;dy(S.attachers,function(M){f.allowed("elements.move",{target:O,shapes:[M]})==="attach"?p.updateAttachment(M,O):p.removeShape(M)}),O.attachers.length&&I(O.attachers,function(M){var A=Li(M,S,O);p.moveShape(M,A,M.parent)})}),this.postExecute("shape.resize",function(b){var w=b.context,S=w.shape,O=w.oldBounds,M=w.newBounds,A=S.attachers;(w.hints||{}).attachSupport!==!1&&I(A,function(L){var z=Li(L,O,M);p.moveShape(L,z,L.parent),I(L.labels,function(H){p.moveShape(H,z,H.parent)})})}),this.preExecute("shape.delete",function(b){var w=b.context.shape;dy(w.attachers,function(S){p.removeShape(S)}),w.host&&p.updateAttachment(w,null)})}function MI(s){return o(Te(s,function(l){return l.attachers||[]}))}t(PI,Pt),PI.$inject=["injector","eventBus","canvas","rules","modeling"];var Xhe={__depends__:[zd],__init__:["attachSupport"],attachSupport:["type",PI]};function Ud(s){this._model=s}function uu(s,l,d,f){Pt.call(this,s),this._bpmnFactory=l,this._translate=f;var p=this;function g(A){I(A.context.oldRoot.children,function(L){ie(L,"bpmn:BaseElement")&&p.updateParent(L)})}function b(A){var L=A.context.shape;ie(L,"bpmn:BaseElement")&&p.updateBounds(L)}function w(A){p.updateConnection(A.context)}function S(A){p.updateConnectionWaypoints(A.context.connection)}function O(A){p.updateAttachment(A.context)}function M(A){const{element:L}=A.context,z=Ii(L),H=Qr(L),Q=H&&H.get("label");jf(L)||(z&&!Q?H.set("label",l.create("bpmndi:BPMNLabel")):!z&&Q&&H.set("label",void 0))}this.executed(["connection.layout","connection.create"],function(A){var L,z=A.context,H=z.hints||{};z.cropped||H.createElementsBehavior===!1||((L=z.connection).waypoints=d.getCroppedWaypoints(L),z.cropped=!0)}),this.reverted(["connection.layout"],function(A){delete A.context.cropped}),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],du(function(A){var L=A.context;p.updateParent(L.shape||L.connection,L.oldParent)})),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],du(function(A){var L=A.context,z=L.shape||L.connection,H=L.parent||L.newParent;p.updateParent(z,H)})),this.executed(["canvas.updateRoot"],g),this.reverted(["canvas.updateRoot"],g),this.executed(["shape.move","shape.create","shape.resize"],du(function(A){A.context.shape.type!=="label"&&b(A)})),this.reverted(["shape.move","shape.create","shape.resize"],du(function(A){A.context.shape.type!=="label"&&b(A)})),s.on("shape.changed",function(A){A.element.type==="label"&&b({context:{shape:A.element}})}),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],du(w)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],du(w)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],du(S)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],du(S)),this.executed("connection.reconnect",du(function(A){var L=A.context,z=L.connection,H=L.oldSource,Q=L.newSource,re=Ft(z),X=Ft(H),K=Ft(Q);re.conditionExpression&&!Sr(K,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(L.oldConditionExpression=re.conditionExpression,delete re.conditionExpression),H!==Q&&X.default===re&&(L.oldDefault=X.default,delete X.default)})),this.reverted("connection.reconnect",du(function(A){var L=A.context,z=L.connection,H=L.oldSource,Q=L.newSource,re=Ft(z),X=Ft(H),K=Ft(Q);L.oldConditionExpression&&(re.conditionExpression=L.oldConditionExpression),L.oldDefault&&(X.default=L.oldDefault,delete K.default)})),this.executed(["element.updateAttachment"],du(O)),this.reverted(["element.updateAttachment"],du(O)),this.executed("element.updateLabel",du(M)),this.reverted("element.updateLabel",du(M))}function du(s){return function(l){var d=l.context;ie(d.shape||d.connection||d.element,"bpmn:BaseElement")&&s(l)}}function fy(s,l,d){Fl.call(this),this._bpmnFactory=s,this._moddle=l,this._translate=d}function YV(s,l,d){return l[d]===void 0?l:(s[d]=l[d],gt(l,[d]))}function vR(s,l){this._modeling=s,this._canvas=l}function bR(s){this._modeling=s}function xR(s,l){this._canvas=s,this._layouter=l}Ud.$inject=["moddle"],Ud.prototype._needsId=function(s){return Sr(s,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},Ud.prototype._ensureId=function(s){var l;s.id?this._model.ids.claim(s.id,s):(l=ie(s,"bpmn:Activity")?"Activity":ie(s,"bpmn:Event")?"Event":ie(s,"bpmn:Gateway")?"Gateway":Sr(s,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(s.$type||"").replace(/^[^:]*:/g,""),l+="_",!s.id&&this._needsId(s)&&(s.id=this._model.ids.nextPrefixed(l,s)))},Ud.prototype.create=function(s,l){var d=this._model.create(s,l||{});return this._ensureId(d),d},Ud.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},Ud.prototype.createDiShape=function(s,l){return this.create("bpmndi:BPMNShape",ve({bpmnElement:s,bounds:this.createDiBounds()},l))},Ud.prototype.createDiBounds=function(s){return this.create("dc:Bounds",s)},Ud.prototype.createDiWaypoints=function(s){var l=this;return Te(s,function(d){return l.createDiWaypoint(d)})},Ud.prototype.createDiWaypoint=function(s){return this.create("dc:Point",vt(s,["x","y"]))},Ud.prototype.createDiEdge=function(s,l){return this.create("bpmndi:BPMNEdge",ve({bpmnElement:s,waypoint:this.createDiWaypoints([])},l))},Ud.prototype.createDiPlane=function(s,l){return this.create("bpmndi:BPMNPlane",ve({bpmnElement:s},l))},t(uu,Pt),uu.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],uu.prototype.updateAttachment=function(s){var l=s.shape,d=l.businessObject,f=l.host;d.attachedToRef=f&&f.businessObject},uu.prototype.updateParent=function(s,l){if(!(jr(s)||ie(s,"bpmn:DataStoreReference")&&s.parent&&ie(s.parent,"bpmn:Collaboration"))){var d=s.parent,f=s.businessObject,p=Qr(s),g=d&&d.businessObject,b=Qr(d);ie(s,"bpmn:FlowNode")&&this.updateFlowNodeRefs(f,g,l&&l.businessObject),ie(s,"bpmn:DataOutputAssociation")&&(g=s.source?s.source.businessObject:null),ie(s,"bpmn:DataInputAssociation")&&(g=s.target?s.target.businessObject:null),this.updateSemanticParent(f,g),ie(s,"bpmn:DataObjectReference")&&f.dataObjectRef&&this.updateSemanticParent(f.dataObjectRef,g),this.updateDiParent(p,b)}},uu.prototype.updateBounds=function(s){var l=Qr(s),d=function(b){if(ie(b,"bpmn:Activity")){var w=Qr(b);if(w){var S=w.get("label");if(S)return S.get("bounds")}}}(s);if(d){var f=Uu(d,l.get("bounds"));ve(d,{x:s.x+f.x,y:s.y+f.y})}var p=jr(s)?this._getLabel(l):l,g=p.bounds;g||(g=this._bpmnFactory.createDiBounds(),p.set("bounds",g)),ve(g,{x:s.x,y:s.y,width:s.width,height:s.height})},uu.prototype.updateFlowNodeRefs=function(s,l,d){d!==l&&(ie(d,"bpmn:Lane")&&Mo(d.get("flowNodeRef"),s),ie(l,"bpmn:Lane")&&Do(l.get("flowNodeRef"),s))},uu.prototype.updateDiConnection=function(s,l,d){var f=Qr(s),p=Qr(l),g=Qr(d);f.sourceElement&&f.sourceElement.bpmnElement!==Ft(l)&&(f.sourceElement=l&&p),f.targetElement&&f.targetElement.bpmnElement!==Ft(d)&&(f.targetElement=d&&g)},uu.prototype.updateDiParent=function(s,l){if(l&&!ie(l,"bpmndi:BPMNPlane")&&(l=l.$parent),s.$parent!==l){var d=(l||s.$parent).get("planeElement");l?(d.push(s),s.$parent=l):(Mo(d,s),s.$parent=null)}},uu.prototype.getLaneSet=function(s){var l,d;return ie(s,"bpmn:Lane")?((l=s.childLaneSet)||(l=this._bpmnFactory.create("bpmn:LaneSet"),s.childLaneSet=l,l.$parent=s),l):(ie(s,"bpmn:Participant")&&(s=s.processRef),(l=(d=s.get("laneSets"))[0])||((l=this._bpmnFactory.create("bpmn:LaneSet")).$parent=s,d.push(l)),l)},uu.prototype.updateSemanticParent=function(s,l,d){var f,p=this._translate;if(s.$parent!==l&&(!ie(s,"bpmn:DataInput")&&!ie(s,"bpmn:DataOutput")||(ie(l,"bpmn:Participant")&&"processRef"in l&&(l=l.processRef),!("ioSpecification"in l)||l.ioSpecification!==s.$parent))){if(ie(s,"bpmn:Lane"))l&&(l=this.getLaneSet(l)),f="lanes";else if(ie(s,"bpmn:FlowElement")){if(l){if(ie(l,"bpmn:Participant"))l=l.processRef;else if(ie(l,"bpmn:Lane"))do l=l.$parent.$parent;while(ie(l,"bpmn:Lane"))}f="flowElements"}else if(ie(s,"bpmn:Artifact")){for(;l&&!ie(l,"bpmn:Process")&&!ie(l,"bpmn:SubProcess")&&!ie(l,"bpmn:Collaboration");){if(ie(l,"bpmn:Participant")){l=l.processRef;break}l=l.$parent}f="artifacts"}else if(ie(s,"bpmn:MessageFlow"))f="messageFlows";else if(ie(s,"bpmn:Participant")){f="participants";var g,b=s.processRef;b&&(g=function(O){for(;O&&!ie(O,"bpmn:Definitions");)O=O.$parent;return O}(s.$parent||l),s.$parent&&(Mo(g.get("rootElements"),b),b.$parent=null),l&&(Do(g.get("rootElements"),b),b.$parent=g))}else ie(s,"bpmn:DataOutputAssociation")?f="dataOutputAssociations":ie(s,"bpmn:DataInputAssociation")&&(f="dataInputAssociations");if(!f)throw new Error(p("no parent for {element} in {parent}",{element:s.id,parent:l.id}));var w;if(s.$parent&&Mo(w=s.$parent.get(f),s),l?((w=l.get(f)).push(s),s.$parent=l):s.$parent=null,d){var S=d.get(f);Mo(w,s),l&&(S||(S=[],l.set(f,S)),S.push(s))}}},uu.prototype.updateConnectionWaypoints=function(s){Qr(s).set("waypoint",this._bpmnFactory.createDiWaypoints(s.waypoints))},uu.prototype.updateConnection=function(s){var l,d=s.connection,f=Ft(d),p=d.source,g=Ft(p),b=d.target,w=Ft(d.target);if(ie(f,"bpmn:DataAssociation"))ie(f,"bpmn:DataInputAssociation")?(f.get("sourceRef")[0]=g,l=s.parent||s.newParent||w,this.updateSemanticParent(f,w,l)):ie(f,"bpmn:DataOutputAssociation")&&(l=s.parent||s.newParent||g,this.updateSemanticParent(f,g,l),f.targetRef=w);else{var S=ie(f,"bpmn:SequenceFlow");f.sourceRef!==g&&(S&&(Mo(f.sourceRef&&f.sourceRef.get("outgoing"),f),g&&g.get("outgoing")&&g.get("outgoing").push(f)),f.sourceRef=g),f.targetRef!==w&&(S&&(Mo(f.targetRef&&f.targetRef.get("incoming"),f),w&&w.get("incoming")&&w.get("incoming").push(f)),f.targetRef=w)}this.updateConnectionWaypoints(d),this.updateDiConnection(d,p,b)},uu.prototype._getLabel=function(s){return s.label||(s.label=this._bpmnFactory.createDiLabel()),s.label},t(fy,Fl),fy.$inject=["bpmnFactory","moddle","translate"],fy.prototype._baseCreate=Fl.prototype.create,fy.prototype.create=function(s,l){if(s==="label"){var d=l.di||this._bpmnFactory.createDiLabel();return this._baseCreate(s,ve({type:"label",di:d},op,l))}return this.createElement(s,l)},fy.prototype.createElement=function(s,l){var d,f,p,g=this._translate,b=(l=ve({},l||{})).businessObject,w=l.di;if(!b){if(!l.type)throw new Error(g("no shape type specified"));nu(b=this._bpmnFactory.create(l.type))}if(!Sr(w,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var S=ve({},w||{},{id:b.id+"_di"});w=s==="root"?this._bpmnFactory.createDiPlane(b,S):s==="connection"?this._bpmnFactory.createDiEdge(b,S):this._bpmnFactory.createDiShape(b,S)}return ie(b,"bpmn:Group")&&(l=ve({isFrame:!0},l)),l=function(O,M,A){return I(A,function(L){M=YV(O,M,L)}),M}(b,l,["processRef","isInterrupting","associationDirection","isForCompensation"]),l.isExpanded&&(l=YV(w,l,"isExpanded")),ie(b,"bpmn:SubProcess")&&(l.collapsed=!Dr(b,w)),ie(b,"bpmn:ExclusiveGateway")&&(w.isMarkerVisible=!0),h(l.triggeredByEvent)&&(b.triggeredByEvent=l.triggeredByEvent,delete l.triggeredByEvent),h(l.cancelActivity)&&(b.cancelActivity=l.cancelActivity,delete l.cancelActivity),l.eventDefinitionType&&(f=b.get("eventDefinitions")||[],p=this._bpmnFactory.create(l.eventDefinitionType,l.eventDefinitionAttrs),l.eventDefinitionType==="bpmn:ConditionalEventDefinition"&&(p.condition=this._bpmnFactory.create("bpmn:FormalExpression")),f.push(p),p.$parent=b,b.eventDefinitions=f,delete l.eventDefinitionType),d=this.getDefaultSize(b,w),l=ve({id:b.id},d,l,{businessObject:b,di:w}),this._baseCreate(s,l)},fy.prototype.getDefaultSize=function(s,l){var d=Ft(s);return l=l||Qr(s),ie(d,"bpmn:SubProcess")?Dr(d,l)?{width:350,height:200}:{width:100,height:80}:ie(d,"bpmn:Task")?{width:100,height:80}:ie(d,"bpmn:Gateway")?{width:50,height:50}:ie(d,"bpmn:Event")?{width:36,height:36}:ie(d,"bpmn:Participant")?Dr(d,l)?{width:600,height:250}:{width:400,height:60}:ie(d,"bpmn:Lane")?{width:400,height:100}:ie(d,"bpmn:DataObjectReference")?{width:36,height:50}:ie(d,"bpmn:DataStoreReference")?{width:50,height:50}:ie(d,"bpmn:TextAnnotation")?{width:100,height:30}:ie(d,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},fy.prototype.createParticipantShape=function(s){return _(s)||(s={isExpanded:s}),(s=ve({type:"bpmn:Participant"},s||{})).isExpanded!==!1&&(s.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(s)},vR.$inject=["modeling","canvas"],vR.prototype.preExecute=function(s){var l=this._modeling,d=s.elements,f=s.alignment;I(d,function(p){var g={x:0,y:0};h(f.left)?g.x=f.left-p.x:h(f.right)?g.x=f.right-p.width-p.x:h(f.center)?g.x=f.center-Math.round(p.width/2)-p.x:h(f.top)?g.y=f.top-p.y:h(f.bottom)?g.y=f.bottom-p.height-p.y:h(f.middle)&&(g.y=f.middle-Math.round(p.height/2)-p.y),l.moveElements([p],g,p.parent)})},vR.prototype.postExecute=function(s){},bR.$inject=["modeling"],bR.prototype.preExecute=function(s){var l=s.source;if(!l)throw new Error("source required");var d=s.target||l.parent,f=s.shape,p=s.hints||{};f=s.shape=this._modeling.createShape(f,s.position,d,{attach:p.attach}),s.shape=f},bR.prototype.postExecute=function(s){var l,d,f=s.hints||{};l=s.source,d=s.shape,ae(l.outgoing,function(p){return p.target===d})||(f.connectionTarget===s.source?this._modeling.connect(s.shape,s.source,s.connection):this._modeling.connect(s.source,s.shape,s.connection))},xR.$inject=["canvas","layouter"],xR.prototype.execute=function(s){var l=s.connection,d=s.source,f=s.target,p=s.parent,g=s.parentIndex,b=s.hints;if(!d||!f)throw new Error("source and target required");if(!p)throw new Error("parent required");return l.source=d,l.target=f,l.waypoints||(l.waypoints=this._layouter.layoutConnection(l,b)),this._canvas.addConnection(l,p,g),l},xR.prototype.revert=function(s){var l=s.connection;return this._canvas.removeConnection(l),l.source=null,l.target=null,l};var wR=Math.round;function DI(s){this._modeling=s}DI.$inject=["modeling"],DI.prototype.preExecute=function(s){var l=s.elements,d=s.parent,f=s.parentIndex,p=s.position,g=s.hints,b=this._modeling;I(l,function(M){k(M.x)||(M.x=0),k(M.y)||(M.y=0)});var w=So(B(l,function(M){return!M.hidden}));I(l,function(M){Si(M)&&(M.waypoints=Te(M.waypoints,function(A){return{x:wR(A.x-w.x-w.width/2+p.x),y:wR(A.y-w.y-w.height/2+p.y)}})),ve(M,{x:wR(M.x-w.x-w.width/2+p.x),y:wR(M.y-w.y-w.height/2+p.y)})});var S=om(l),O={};I(l,function(M){if(Si(M))O[M.id]=k(f)?b.createConnection(O[M.source.id],O[M.target.id],f,M,M.parent||d,g):b.createConnection(O[M.source.id],O[M.target.id],M,M.parent||d,g);else{var A=ve({},g);S.indexOf(M)===-1&&(A.autoResize=!1),jr(M)&&(A=gt(A,["attach"])),O[M.id]=k(f)?b.createShape(M,vt(M,["x","y","width","height"]),M.parent||d,f,A):b.createShape(M,vt(M,["x","y","width","height"]),M.parent||d,A)}}),s.elements=Ee(O)};var QV=Math.round;function hy(s){this._canvas=s}function Ck(s){hy.call(this,s)}hy.$inject=["canvas"],hy.prototype.execute=function(s){var l=s.shape,d=s.position,f=s.parent,p=s.parentIndex;if(!f)throw new Error("parent required");if(!d)throw new Error("position required");return d.width!==void 0?ve(l,d):ve(l,{x:d.x-QV(l.width/2),y:d.y-QV(l.height/2)}),this._canvas.addShape(l,f,p),l},hy.prototype.revert=function(s){var l=s.shape;return this._canvas.removeShape(l),l},t(Ck,hy),Ck.$inject=["canvas"];var Zhe=hy.prototype.execute;Ck.prototype.execute=function(s){var l=s.shape;return function(d){["width","height"].forEach(function(f){d[f]===void 0&&(d[f]=0)})}(l),l.labelTarget=s.labelTarget,Zhe.call(this,s)};var Jhe=hy.prototype.revert;function Ok(s,l){this._canvas=s,this._modeling=l}function NI(s,l){this._modeling=s,this._elementRegistry=l}function Tk(s,l){this._canvas=s,this._modeling=l}function _R(s){this._modeling=s}Ck.prototype.revert=function(s){return s.shape.labelTarget=null,Jhe.call(this,s)},Ok.$inject=["canvas","modeling"],Ok.prototype.preExecute=function(s){var l=this._modeling,d=s.connection;dy(d.incoming,function(f){l.removeConnection(f,{nested:!0})}),dy(d.outgoing,function(f){l.removeConnection(f,{nested:!0})})},Ok.prototype.execute=function(s){var l=s.connection,d=l.parent;return s.parent=d,s.parentIndex=Tf(d.children,l),s.source=l.source,s.target=l.target,this._canvas.removeConnection(l),l.source=null,l.target=null,l},Ok.prototype.revert=function(s){var l=s.connection,d=s.parent,f=s.parentIndex;return l.source=s.source,l.target=s.target,Do(d.children,l,f),this._canvas.addConnection(l,d),l},NI.$inject=["modeling","elementRegistry"],NI.prototype.postExecute=function(s){var l=this._modeling,d=this._elementRegistry;I(s.elements,function(f){d.get(f.id)&&(f.waypoints?l.removeConnection(f):l.removeShape(f))})},Tk.$inject=["canvas","modeling"],Tk.prototype.preExecute=function(s){var l=this._modeling,d=s.shape;dy(d.incoming,function(f){l.removeConnection(f,{nested:!0})}),dy(d.outgoing,function(f){l.removeConnection(f,{nested:!0})}),dy(d.children,function(f){Si(f)?l.removeConnection(f,{nested:!0}):l.removeShape(f,{nested:!0})})},Tk.prototype.execute=function(s){var l=this._canvas,d=s.shape,f=d.parent;return s.oldParent=f,s.oldParentIndex=Tf(f.children,d),l.removeShape(d),d},Tk.prototype.revert=function(s){var l=this._canvas,d=s.shape,f=s.oldParent,p=s.oldParentIndex;return Do(f.children,d,p),l.addShape(d,f),d},_R.$inject=["modeling"];var KV={x:"y",y:"x"};function ER(s,l){this._layouter=s,this._canvas=l}function II(){}function LI(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function Ak(s){this._modeling=s}function SR(s){this._helper=new Ak(s)}function e1(s){this._modeling=s,this._helper=new Ak(s)}function Rk(s){this._modeling=s}function XV(s){return s.original||s}function Nm(s,l){this._modeling=s,this._rules=l}function Pk(s){this._modeling=s}function py(s){this._modeling=s}function ZV(s){return ve({},s)}function JV(s){switch(s){case"n":case"s":return"y";case"w":case"e":return"x"}}function ez(s,l,d){var f=JV(d);return/e|s/.test(d)?s[f]>l:/n|w/.test(d)?s[f]<l:void 0}function my(s,l){return s.indexOf(l)!==-1}function kR(s){this._modeling=s}function tz(s){var l={};return I(s,function(d){l[d.id]=d.hidden,d.children&&(l=ve({},l,tz(d.children)))}),l}function nz(s,l){var d=[];return I(s,function(f){f.hidden=l,d=d.concat(f),f.children&&(d=d.concat(nz(f.children,f.collapsed||l)))}),d}function rz(s,l){var d=[];return I(s,function(f){f.hidden=l[f.id],d=d.concat(f),f.children&&(d=d.concat(rz(f.children,l)))}),d}function CR(s){this._modeling=s}function iz(s,l){return Mo(s&&s.attachers,l)}function oz(s,l,d){if(s){var f=s.attachers;f||(s.attachers=f=[]),Do(f,l,d)}}function FI(){}function Ji(s,l,d){this._eventBus=s,this._elementFactory=l,this._commandStack=d;var f=this;s.on("diagram.init",function(){f.registerHandlers(d)})}function Mk(s){this._elementRegistry=s}function sz(s,l){I(l,function(d,f){s.set(f,d)})}_R.prototype.preExecute=function(s){var l=this._modeling,d=s.groups,f=s.axis,p=s.dimension;function g(Q,re){Q.range.min=Math.min(re[f],Q.range.min),Q.range.max=Math.max(re[f]+re[p],Q.range.max)}function b(Q){return Q[f]+Q[p]/2}function w(Q){return Q.length-1}function S(Q){return Q.max-Q.min}var O,M,A=d[0],L=w(d),z=d[L],H=0;I(d,function(Q,re){var X,K,ue;Q.elements.length<2?re&&re!==d.length-1&&(g(Q,Q.elements[0]),H+=S(Q.range)):(K=(X=Fe(Q.elements,f))[0],re===L&&(K=X[w(X)]),ue=b(K),Q.range=null,I(X,function(me){(function(ge,$e){var He={y:0};He[f]=ge-b($e),He[f]&&(He[KV[f]]=0,l.moveElements([$e],He,$e.parent))})(ue,me),Q.range!==null?g(Q,me):Q.range={min:me[f],max:me[f]+me[p]}}),re&&re!==d.length-1&&(H+=S(Q.range)))}),M=Math.abs(z.range.min-A.range.max),(O=Math.round((M-H)/(d.length-1)))<d.length-1||I(d,function(Q,re){var X,K={};Q!==A&&Q!==z&&(X=d[re-1],Q.range.max=0,I(Q.elements,function(ue,me){K[KV[f]]=0,K[f]=X.range.max-ue[f]+O,Q.range.min!==ue[f]&&(K[f]+=ue[f]-Q.range.min),K[f]&&l.moveElements([ue],K,ue.parent),Q.range.max=Math.max(ue[f]+ue[p],me?Q.range.max:0)}))})},_R.prototype.postExecute=function(s){},ER.$inject=["layouter","canvas"],ER.prototype.execute=function(s){var l=s.connection;return ve(s,{oldWaypoints:l.waypoints}),l.waypoints=this._layouter.layoutConnection(l,s.hints),l},ER.prototype.revert=function(s){var l=s.connection;return l.waypoints=s.oldWaypoints,l},II.prototype.execute=function(s){var l=s.connection,d=s.delta,f=s.newParent||l.parent,p=s.newParentIndex,g=l.parent;return s.oldParent=g,s.oldParentIndex=Mo(g.children,l),Do(f.children,l,p),l.parent=f,I(l.waypoints,function(b){b.x+=d.x,b.y+=d.y,b.original&&(b.original.x+=d.x,b.original.y+=d.y)}),l},II.prototype.revert=function(s){var l=s.connection,d=l.parent,f=s.oldParent,p=s.oldParentIndex,g=s.delta;return Mo(d.children,l),Do(f.children,l,p),l.parent=f,I(l.waypoints,function(b){b.x-=g.x,b.y-=g.y,b.original&&(b.original.x-=g.x,b.original.y-=g.y)}),l},LI.prototype.add=function(s,l){return this.addAll([s],l)},LI.prototype.addAll=function(s,l){var d=function(f,p,g){u(p)&&(p=!0),_(p)&&(g=p,p=!0);var b=Wh((g=g||{}).allShapes),w=Wh(g.allConnections),S=Wh(g.enclosedElements),O=Wh(g.enclosedConnections),M=Wh(g.topLevel,p&&we(f,function(L){return L.id}));function A(L){M[L.source.id]&&M[L.target.id]&&(M[L.id]=[L]),b[L.source.id]&&b[L.target.id]&&(O[L.id]=S[L.id]=L),w[L.id]=L}return Od(f,function(L){if(S[L.id]=L,!L.waypoints)return b[L.id]=L,I(L.incoming,A),I(L.outgoing,A),L.children;O[L.id]=w[L.id]=L}),{allShapes:b,allConnections:w,topLevel:M,enclosedConnections:O,enclosedElements:S}}(s,!!l,this);return ve(this,d),this},Ak.prototype.moveRecursive=function(s,l,d){return s?this.moveClosure(this.getClosure(s),l,d):[]},Ak.prototype.moveClosure=function(s,l,d,f,p){var g=this._modeling,b=s.allShapes,w=s.allConnections,S=s.enclosedConnections,O=s.topLevel,M=!1;p&&p.parent===d&&(M=!0),I(b,function(A){g.moveShape(A,l,O[A.id]&&!M&&d,{recurse:!1,layout:!1})}),I(w,function(A){var L=!!b[A.source.id],z=!!b[A.target.id];S[A.id]&&L&&z?g.moveConnection(A,l,O[A.id]&&!M&&d):g.layoutConnection(A,{connectionStart:L&&JS(A,A.source,l),connectionEnd:z&&ek(A,A.target,l)})})},Ak.prototype.getClosure=function(s){return new LI().addAll(s,!0)},SR.$inject=["modeling"],SR.prototype.preExecute=function(s){s.closure=this._helper.getClosure(s.shapes)},SR.prototype.postExecute=function(s){var l,d=s.hints;d&&d.primaryShape&&(l=d.primaryShape,d.oldParent=l.parent),this._helper.moveClosure(s.closure,s.delta,s.newParent,s.newHost,l)},e1.$inject=["modeling"],e1.prototype.execute=function(s){var l=s.shape,d=s.delta,f=s.newParent||l.parent,p=s.newParentIndex,g=l.parent;return s.oldBounds=vt(l,["x","y","width","height"]),s.oldParent=g,s.oldParentIndex=Mo(g.children,l),Do(f.children,l,p),ve(l,{parent:f,x:l.x+d.x,y:l.y+d.y}),l},e1.prototype.postExecute=function(s){var l=s.shape,d=s.delta,f=s.hints,p=this._modeling;f.layout!==!1&&(I(l.incoming,function(g){p.layoutConnection(g,{connectionEnd:ek(g,l,d)})}),I(l.outgoing,function(g){p.layoutConnection(g,{connectionStart:JS(g,l,d)})})),f.recurse!==!1&&this.moveChildren(s)},e1.prototype.revert=function(s){var l=s.shape,d=s.oldParent,f=s.oldParentIndex,p=s.delta;return Do(d.children,l,f),ve(l,{parent:d,x:l.x-p.x,y:l.y-p.y}),l},e1.prototype.moveChildren=function(s){var l=s.delta,d=s.shape;this._helper.moveRecursive(d.children,l,null)},e1.prototype.getNewParent=function(s){return s.newParent||s.shape.parent},Rk.$inject=["modeling"],Rk.prototype.execute=function(s){var l=s.newSource,d=s.newTarget,f=s.connection,p=s.dockingOrPoints;if(!l&&!d)throw new Error("newSource or newTarget required");return v(p)&&(s.oldWaypoints=f.waypoints,f.waypoints=p),l&&(s.oldSource=f.source,f.source=l),d&&(s.oldTarget=f.target,f.target=d),f},Rk.prototype.postExecute=function(s){var l=s.connection,d=s.newSource,f=s.newTarget,p=s.dockingOrPoints,g=s.hints||{},b={};g.connectionStart&&(b.connectionStart=g.connectionStart),g.connectionEnd&&(b.connectionEnd=g.connectionEnd),g.layoutConnection!==!1&&(!d||f&&g.docking!=="source"||(b.connectionStart=b.connectionStart||XV(v(p)?p[0]:p)),!f||d&&g.docking!=="target"||(b.connectionEnd=b.connectionEnd||XV(v(p)?p[p.length-1]:p)),g.newWaypoints&&(b.waypoints=g.newWaypoints),this._modeling.layoutConnection(l,b))},Rk.prototype.revert=function(s){var l=s.oldSource,d=s.oldTarget,f=s.oldWaypoints,p=s.connection;return l&&(p.source=l),d&&(p.target=d),f&&(p.waypoints=f),p},Nm.$inject=["modeling","rules"],Nm.prototype.preExecute=function(s){var l,d=this,f=this._modeling,p=this._rules,g=s.oldShape,b=s.newData,w=s.hints||{};function S(H,Q,re){return p.allowed("connection.reconnect",{connection:re,source:H,target:Q})}var O,M={x:b.x,y:b.y},A={x:g.x,y:g.y,width:g.width,height:g.height};l=s.newShape=s.newShape||d.createShape(b,M,g.parent,w),g.host&&f.updateAttachment(l,g.host),w.moveChildren!==!1&&(O=g.children.slice(),f.moveElements(O,{x:0,y:0},l,w));var L=g.incoming.slice(),z=g.outgoing.slice();I(L,function(H){S(H.source,l,H)&&d.reconnectEnd(H,l,Bx(H,l,A),w)}),I(z,function(H){var Q=H.target;S(l,Q,H)&&d.reconnectStart(H,l,$x(H,l,A),w)})},Nm.prototype.postExecute=function(s){var l=s.oldShape;this._modeling.removeShape(l)},Nm.prototype.execute=function(s){},Nm.prototype.revert=function(s){},Nm.prototype.createShape=function(s,l,d,f){return this._modeling.createShape(s,l,d,f)},Nm.prototype.reconnectStart=function(s,l,d,f){this._modeling.reconnectStart(s,l,d,f)},Nm.prototype.reconnectEnd=function(s,l,d,f){this._modeling.reconnectEnd(s,l,d,f)},Pk.$inject=["modeling"],Pk.prototype.execute=function(s){var l=s.shape,d=s.newBounds,f=s.minBounds;if(d.x===void 0||d.y===void 0||d.width===void 0||d.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(f&&(d.width<f.width||d.height<f.height))throw new Error("width and height cannot be less than minimum height and width");if(!f&&d.width<10||d.height<10)throw new Error("width and height cannot be less than 10px");return s.oldBounds={width:l.width,height:l.height,x:l.x,y:l.y},ve(l,{width:d.width,height:d.height,x:d.x,y:d.y}),l},Pk.prototype.postExecute=function(s){var l=this._modeling,d=s.shape,f=s.oldBounds;(s.hints||{}).layout!==!1&&(I(d.incoming,function(p){l.layoutConnection(p,{connectionEnd:Bx(p,d,f)})}),I(d.outgoing,function(p){l.layoutConnection(p,{connectionStart:$x(p,d,f)})}))},Pk.prototype.revert=function(s){var l=s.shape,d=s.oldBounds;return ve(l,{width:d.width,height:d.height,x:d.x,y:d.y}),l},py.$inject=["modeling"],py.prototype.preExecute=function(s){var l=s.delta,d=s.direction,f=s.movingShapes,p=s.resizingShapes,g=s.start,b={};this.moveShapes(f,l),I(p,function(w){b[w.id]=function(S){return{x:S.x,y:S.y,height:S.height,width:S.width}}(w)}),this.resizeShapes(p,l,d),this.updateConnectionWaypoints(function(w,S){var O=[];return I(w.concat(S),function(M){var A=M.incoming,L=M.outgoing;I(A.concat(L),function(z){var H=z.source,Q=z.target;(Ne(w,H)||Ne(w,Q)||Ne(S,H)||Ne(S,Q))&&(Ne(O,z)||O.push(z))})}),O}(f,p),l,d,g,f,p,b)},py.prototype.execute=function(){},py.prototype.revert=function(){},py.prototype.moveShapes=function(s,l){var d=this;I(s,function(f){d._modeling.moveShape(f,l,null,{autoResize:!1,layout:!1,recurse:!1})})},py.prototype.resizeShapes=function(s,l,d){var f=this;I(s,function(p){var g=function(b,w,S){var O=b.x,M=b.y,A=b.width,L=b.height,z=S.x,H=S.y;switch(w){case"n":return{x:O,y:M+H,width:A,height:L-H};case"s":return{x:O,y:M,width:A,height:L+H};case"w":return{x:O+z,y:M,width:A-z,height:L};case"e":return{x:O,y:M,width:A+z,height:L};default:throw new Error("unknown direction: "+w)}}(p,d,l);f._modeling.resizeShape(p,g,null,{attachSupport:!1,autoResize:!1,layout:!1})})},py.prototype.updateConnectionWaypoints=function(s,l,d,f,p,g,b){var w=this,S=p.concat(g);I(s,function(O){var M=O.source,A=O.target,L=function(Q){return Te(Q.waypoints,function(re){return(re=ZV(re)).original&&(re.original=ZV(re.original)),re})}(O),z=JV(d),H={};my(S,M)&&my(S,A)?(L=Te(L,function(Q){return ez(Q,f,d)&&(Q[z]=Q[z]+l[z]),Q.original&&ez(Q.original,f,d)&&(Q.original[z]=Q.original[z]+l[z]),Q}),w._modeling.updateWaypoints(O,L,{labelBehavior:!1})):(my(S,M)||my(S,A))&&(my(p,M)?H.connectionStart=JS(O,M,l):my(p,A)?H.connectionEnd=ek(O,A,l):my(g,M)?H.connectionStart=$x(O,M,b[M.id]):my(g,A)&&(H.connectionEnd=Bx(O,A,b[A.id])),w._modeling.layoutConnection(O,H))})},kR.$inject=["modeling"],kR.prototype.execute=function(s){var l=s.shape,d=l.children;s.oldChildrenVisibility=tz(d),l.collapsed=!l.collapsed;var f=nz(d,l.collapsed);return[l].concat(f)},kR.prototype.revert=function(s){var l=s.shape,d=s.oldChildrenVisibility,f=rz(l.children,d);return l.collapsed=!l.collapsed,[l].concat(f)},CR.$inject=["modeling"],CR.prototype.execute=function(s){var l=s.shape,d=s.newHost,f=l.host;return s.oldHost=f,s.attacherIdx=iz(f,l),oz(d,l),l.host=d,l},CR.prototype.revert=function(s){var l=s.shape,d=s.newHost,f=s.oldHost,p=s.attacherIdx;return l.host=f,iz(d,l),oz(f,l,p),l},FI.prototype.execute=function(s){var l=s.connection,d=s.newWaypoints;return s.oldWaypoints=l.waypoints,l.waypoints=d,l},FI.prototype.revert=function(s){var l=s.connection,d=s.oldWaypoints;return l.waypoints=d,l},Ji.$inject=["eventBus","elementFactory","commandStack"],Ji.prototype.getHandlers=function(){return{"shape.append":bR,"shape.create":hy,"shape.delete":Tk,"shape.move":e1,"shape.resize":Pk,"shape.replace":Nm,"shape.toggleCollapse":kR,spaceTool:py,"label.create":Ck,"connection.create":xR,"connection.delete":Ok,"connection.move":II,"connection.layout":ER,"connection.updateWaypoints":FI,"connection.reconnect":Rk,"elements.create":DI,"elements.move":SR,"elements.delete":NI,"elements.distribute":_R,"elements.align":vR,"element.updateAttachment":CR}},Ji.prototype.registerHandlers=function(s){I(this.getHandlers(),function(l,d){s.registerHandler(d,l)})},Ji.prototype.moveShape=function(s,l,d,f,p){typeof f=="object"&&(p=f,f=null);var g={shape:s,delta:l,newParent:d,newParentIndex:f,hints:p||{}};this._commandStack.execute("shape.move",g)},Ji.prototype.updateAttachment=function(s,l){var d={shape:s,newHost:l};this._commandStack.execute("element.updateAttachment",d)},Ji.prototype.moveElements=function(s,l,d,f){var p,g=(f=f||{}).attach,b=d;g===!0?(p=d,b=d.parent):g===!1&&(p=null);var w={shapes:s,delta:l,newParent:b,newHost:p,hints:f};this._commandStack.execute("elements.move",w)},Ji.prototype.moveConnection=function(s,l,d,f,p){typeof f=="object"&&(p=f,f=void 0);var g={connection:s,delta:l,newParent:d,newParentIndex:f,hints:p||{}};this._commandStack.execute("connection.move",g)},Ji.prototype.layoutConnection=function(s,l){var d={connection:s,hints:l||{}};this._commandStack.execute("connection.layout",d)},Ji.prototype.createConnection=function(s,l,d,f,p,g){typeof d=="object"&&(g=p,p=f,f=d,d=void 0);var b={source:s,target:l,parent:p,parentIndex:d,connection:f=this._create("connection",f),hints:g};return this._commandStack.execute("connection.create",b),b.connection},Ji.prototype.createShape=function(s,l,d,f,p){typeof f!="number"&&(p=f,f=void 0);var g,b,w=(p=p||{}).attach;s=this._create("shape",s),w?(g=d.parent,b=d):g=d;var S={position:l,shape:s,parent:g,parentIndex:f,host:b,hints:p};return this._commandStack.execute("shape.create",S),S.shape},Ji.prototype.createElements=function(s,l,d,f,p){v(s)||(s=[s]),typeof f!="number"&&(p=f,f=void 0);var g={position:l,elements:s,parent:d,parentIndex:f,hints:p=p||{}};return this._commandStack.execute("elements.create",g),g.elements},Ji.prototype.createLabel=function(s,l,d,f){d=this._create("label",d);var p={labelTarget:s,position:l,parent:f||s.parent,shape:d};return this._commandStack.execute("label.create",p),p.shape},Ji.prototype.appendShape=function(s,l,d,f,p){p=p||{};var g={source:s,position:d,target:f,shape:l=this._create("shape",l),connection:p.connection,connectionParent:p.connectionParent,hints:p};return this._commandStack.execute("shape.append",g),g.shape},Ji.prototype.removeElements=function(s){var l={elements:s};this._commandStack.execute("elements.delete",l)},Ji.prototype.distributeElements=function(s,l,d){var f={groups:s,axis:l,dimension:d};this._commandStack.execute("elements.distribute",f)},Ji.prototype.removeShape=function(s,l){var d={shape:s,hints:l||{}};this._commandStack.execute("shape.delete",d)},Ji.prototype.removeConnection=function(s,l){var d={connection:s,hints:l||{}};this._commandStack.execute("connection.delete",d)},Ji.prototype.replaceShape=function(s,l,d){var f={oldShape:s,newData:l,hints:d||{}};return this._commandStack.execute("shape.replace",f),f.newShape},Ji.prototype.alignElements=function(s,l){var d={elements:s,alignment:l};this._commandStack.execute("elements.align",d)},Ji.prototype.resizeShape=function(s,l,d,f){var p={shape:s,newBounds:l,minBounds:d,hints:f};this._commandStack.execute("shape.resize",p)},Ji.prototype.createSpace=function(s,l,d,f,p){var g={delta:d,direction:f,movingShapes:s,resizingShapes:l,start:p};this._commandStack.execute("spaceTool",g)},Ji.prototype.updateWaypoints=function(s,l,d){var f={connection:s,newWaypoints:l,hints:d||{}};this._commandStack.execute("connection.updateWaypoints",f)},Ji.prototype.reconnect=function(s,l,d,f,p){var g={connection:s,newSource:l,newTarget:d,dockingOrPoints:f,hints:p||{}};this._commandStack.execute("connection.reconnect",g)},Ji.prototype.reconnectStart=function(s,l,d,f){f||(f={}),this.reconnect(s,l,s.target,d,ve(f,{docking:"source"}))},Ji.prototype.reconnectEnd=function(s,l,d,f){f||(f={}),this.reconnect(s,s.source,l,d,ve(f,{docking:"target"}))},Ji.prototype.connect=function(s,l,d,f){return this.createConnection(s,l,d||{},s.parent,f)},Ji.prototype._create=function(s,l){return l instanceof Mf?l:this._elementFactory.create(s,l)},Ji.prototype.toggleCollapse=function(s,l){var d={shape:s,hints:l||{}};this._commandStack.execute("shape.toggleCollapse",d)},Mk.$inject=["elementRegistry"],Mk.prototype.execute=function(s){var l=s.element,d=s.moddleElement,f=s.properties;if(!d)throw new Error("<moddleElement> required");var p=s.changed||this._getVisualReferences(d).concat(l),g=s.oldProperties||function(b,w){return oe(w,function(S,O){return S[O]=b.get(O),S},{})}(d,Me(f));return sz(d,f),s.oldProperties=g,s.changed=p,p},Mk.prototype.revert=function(s){var l=s.oldProperties,d=s.moddleElement,f=s.changed;return sz(d,l),f},Mk.prototype._getVisualReferences=function(s){var l=this._elementRegistry;return ie(s,"bpmn:DataObject")?function(d,f){return f.filter(function(p){return ie(p,"bpmn:DataObjectReference")&&Ft(p).dataObjectRef===d})}(s,l):[]};var Dk="default",Im="id",az="di",epe={width:0,height:0};function Nk(s,l,d,f,p){this._elementRegistry=s,this._moddle=l,this._translate=d,this._modeling=f,this._textRenderer=p}function lz(s,l){return Im in s&&s[Im]!==l[Im]}function cz(s,l){var d=s.businessObject,f=Qr(s);I(l,function(p,g){g!==az?d.set(g,p):f&&function(b,w){I(w,function(S,O){b.set(O,S)})}(f,p)})}Nk.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],Nk.prototype.execute=function(s){var l=s.element,d=[l],f=this._translate;if(!l)throw new Error(f("element required"));var p=this._elementRegistry,g=this._moddle.ids,b=l.businessObject,w=function(O){var M=ve({},O);return tpe.forEach(function(A){A in O&&(M[A]=Ft(M[A]))}),M}(s.properties),S=s.oldProperties||function(O,M){var A=Me(M),L=O.businessObject,z=Qr(O);return oe(A,function(H,Q){return H[Q]=Q!==az?L.get(Q):function(re,X){return oe(X,function(K,ue){return K[ue]=re&&re.get(ue),K},{})}(z,Me(M.di)),H},{})}(l,w);return lz(w,b)&&(g.unclaim(b[Im]),p.updateId(l,w[Im]),g.claim(w[Im],b)),Dk in w&&(w[Dk]&&d.push(p.get(w[Dk].id)),b[Dk]&&d.push(p.get(b[Dk].id))),cz(l,w),s.oldProperties=S,s.changed=d,d},Nk.prototype.postExecute=function(s){var l=s.element.label,d=l&&Ft(l).name;if(d){var f=this._textRenderer.getExternalLabelBounds(l,d);this._modeling.resizeShape(l,f,epe)}},Nk.prototype.revert=function(s){var l=s.element,d=s.properties,f=s.oldProperties,p=l.businessObject,g=this._elementRegistry,b=this._moddle.ids;return cz(l,f),lz(d,p)&&(b.unclaim(d[Im]),g.updateId(l,f[Im]),b.claim(f[Im],p)),s.changed};var tpe=["default"];function OR(s,l){this._canvas=s,this._modeling=l}function $I(s,l){this._modeling=s,this._spaceTool=l}function BI(s,l){this._modeling=s,this._translate=l}function Ik(s,l){this._modeling=s,this._spaceTool=l}OR.$inject=["canvas","modeling"],OR.prototype.execute=function(s){var l=this._canvas,d=s.newRoot,f=d.businessObject,p=l.getRootElement(),g=p.businessObject,b=g.$parent,w=Qr(p);return l.setRootElement(d),l.removeRootElement(p),Do(b.rootElements,f),f.$parent=b,Mo(b.rootElements,g),g.$parent=null,p.di=null,w.bpmnElement=f,d.di=w,s.oldRoot=p,[]},OR.prototype.revert=function(s){var l=this._canvas,d=s.newRoot,f=d.businessObject,p=s.oldRoot,g=p.businessObject,b=f.$parent,w=Qr(d);return l.setRootElement(p),l.removeRootElement(d),Mo(b.rootElements,f),f.$parent=null,Do(b.rootElements,g),g.$parent=b,d.di=null,w.bpmnElement=g,p.di=w,[]},$I.$inject=["modeling","spaceTool"],$I.prototype.preExecute=function(s){var l=this._spaceTool,d=this._modeling,f=s.shape,p=s.location,g=Oc(f),b=g===f,w=b?f:f.parent;bl(w).length||d.createShape({type:"bpmn:Lane"},{x:f.x+hp,y:f.y,width:f.width-hp,height:f.height},w);var S=[];Od(g,function(H){return S.push(H),H.label&&S.push(H.label),H===f?[]:B(H.children,function(Q){return Q!==f})});var O=p==="top"?-120:120,M=p==="top"?f.y:f.y+f.height,A=M+(p==="top"?10:-10),L=p==="top"?"n":"s",z=l.calculateAdjustments(S,"y",O,A);l.makeSpace(z.movingShapes,z.resizingShapes,{x:0,y:O},L,A),s.newLane=d.createShape({type:"bpmn:Lane"},{x:f.x+(b?hp:0),y:M-(p==="top"?120:0),width:f.width-(b?hp:0),height:120},w)},BI.$inject=["modeling","translate"],BI.prototype.preExecute=function(s){var l=this._modeling,d=this._translate,f=s.shape,p=s.count,g=bl(f),b=g.length;if(b>p)throw new Error(d("more than {count} child lanes",{count:p}));var w,S,O,M,A,L=Math.round(f.height/p);for(A=0;A<p;A++)w=f.y+A*L,S=A===p-1?f.height-L*A:L,O={x:f.x+hp,y:w,width:f.width-hp,height:S},A<b?l.resizeShape(g[A],O):(M={type:"bpmn:Lane"},l.createShape(M,O,f))},Ik.$inject=["modeling","spaceTool"],Ik.prototype.preExecute=function(s){var l=s.shape,d=s.newBounds;s.balanced!==!1?this.resizeBalanced(l,d):this.resizeSpace(l,d)},Ik.prototype.resizeBalanced=function(s,l){var d=this._modeling,f=Lx(s,l);d.resizeShape(s,l),f.forEach(function(p){d.resizeShape(p.shape,p.newBounds)})},Ik.prototype.resizeSpace=function(s,l){var d,f,p,g,b,w=this._spaceTool,S=Ln(s),O=kA(Ln(l),S),M=Oc(s),A=[],L=[];Od(M,function(z){return A.push(z),(ie(z,"bpmn:Lane")||ie(z,"bpmn:Participant"))&&L.push(z),z.children}),(O.bottom||O.top)&&(d=O.bottom||O.top,f=s.y+(O.bottom?s.height:0)+(O.bottom?-10:10),p=O.bottom?"s":"n",g=O.top>0||O.bottom<0?-d:d,b=w.calculateAdjustments(A,"y",g,f),w.makeSpace(b.movingShapes,b.resizingShapes,{x:0,y:d},p)),(O.left||O.right)&&(d=O.right||O.left,f=s.x+(O.right?s.width:0)+(O.right?-10:100),p=O.right?"e":"w",g=O.left>0||O.right<0?-d:d,b=w.calculateAdjustments(L,"x",g,f),w.makeSpace(b.movingShapes,b.resizingShapes,{x:d,y:0},p))};var Lk="flowNodeRef",jI="lanes";function Fk(s){this._elementRegistry=s}function TR(s){this._moddle=s}Fk.$inject=["elementRegistry"],Fk.prototype._computeUpdates=function(s,l){var d=[],f=[],p={},g=[];function b(S){d.indexOf(S)===-1&&(g.push(S),d.push(S))}function w(S){if(!S.parent)return[];var O=function(M){var A=Oc(M);return p[A.id]||(p[A.id]=Ix(A)),p[A.id]}(S);return O.filter(function(M){return A=S,L=Ln(M),z=A.x+A.width/2,H=A.y+A.height/2,z>L.left&&z<L.right&&H>L.top&&H<L.bottom;var A,L,z,H}).map(function(M){return M.businessObject})}return l.forEach(function(S){var O=Oc(S);if(O&&d.indexOf(O)===-1){var M=O.children.filter(function(A){return ie(A,"bpmn:FlowNode")});M.forEach(b),d.push(O)}}),s.forEach(b),g.forEach(function(S){var O=S.businessObject,M=O.get(jI).slice(),A=w(S);f.push({flowNode:O,remove:M,add:A})}),l.forEach(function(S){var O=S.businessObject;S.parent||O.get(Lk).forEach(function(M){f.push({flowNode:M,remove:[O],add:[]})})}),f},Fk.prototype.execute=function(s){var l=s.updates;return l||(l=s.updates=this._computeUpdates(s.flowNodeShapes,s.laneShapes)),l.forEach(function(d){var f=d.flowNode,p=f.get(jI);d.remove.forEach(function(g){Mo(p,g),Mo(g.get(Lk),f)}),d.add.forEach(function(g){Do(p,g),Do(g.get(Lk),f)})}),[]},Fk.prototype.revert=function(s){return s.updates.forEach(function(l){var d=l.flowNode,f=d.get(jI);l.add.forEach(function(p){Mo(f,p),Mo(p.get(Lk),d)}),l.remove.forEach(function(p){Do(f,p),Do(p.get(Lk),d)})}),[]},TR.$inject=["moddle"],TR.prototype.execute=function(s){var l=this._moddle.ids,d=s.id,f=s.element;return s.claiming?l.claim(d,f):l.unclaim(d),[]},TR.prototype.revert=function(s){var l=this._moddle.ids,d=s.id,f=s.element;return s.claiming?l.unclaim(d):l.claim(d,f),[]};var npe={fill:void 0,stroke:void 0};function VI(s){this._commandStack=s,this._normalizeColor=function(l){if(l){if(T(l)){var d=function(f){var p=document.createElement("canvas").getContext("2d");return p.fillStyle="transparent",p.fillStyle=f,/^#[0-9a-fA-F]{6}$/.test(p.fillStyle)?p.fillStyle:null}(l);if(d)return d}throw new Error("invalid color value: "+l)}}}VI.$inject=["commandStack"],VI.prototype.postExecute=function(s){var l=s.elements,d=s.colors||npe,f=this,p={};"fill"in d&&ve(p,{"background-color":this._normalizeColor(d.fill)}),"stroke"in d&&ve(p,{"border-color":this._normalizeColor(d.stroke)}),I(l,function(g){var b=Si(g)?vt(p,["border-color"]):p,w=Qr(g);if(function(S){"border-color"in S&&(S.stroke=S["border-color"]),"background-color"in S&&(S.fill=S["background-color"])}(b),jr(g))f._commandStack.execute("element.updateModdleProperties",{element:g,moddleElement:w.label,properties:{color:p["border-color"]}});else{if(!Sr(w,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;f._commandStack.execute("element.updateProperties",{element:g,properties:{di:b}})}})};var rpe={width:0,height:0};function uz(s,l,d){function f(p,g){var b=p.label||p,w=p.labelTarget||p;return function(S,O){var M=S.businessObject,A=ru(M);A&&(A==="categoryValueRef"?M.categoryValueRef.value=O:M[A]=O)}(b,g),[b,w]}this.preExecute=function(p){var g=p.element,b=g.businessObject,w=p.newLabel;if(!jr(g)&&jf(g)&&!Bg(g)&&!dz(w)){var S=jg(g);S={x:S.x,y:S.y+7},s.createLabel(g,S,{id:b.id+"_label",businessObject:b,di:g.di})}},this.execute=function(p){return p.oldLabel=Ii(p.element),f(p.element,p.newLabel)},this.revert=function(p){return f(p.element,p.oldLabel)},this.postExecute=function(p){var g=p.element,b=g.label||g,w=p.newLabel,S=p.newBounds,O=p.hints||{};if(jr(b)||ie(b,"bpmn:TextAnnotation"))if(jr(b)&&dz(w))O.removeShape!==!1&&s.removeShape(b,{unsetLabel:!1});else{var M=Ii(g);S===void 0&&(S=l.getExternalLabelBounds(b,M)),S&&s.resizeShape(b,S,rpe)}}}function dz(s){return!s||!s.trim()}function wl(s,l,d,f){Ji.call(this,s,l,d),this._bpmnRules=f}function fz(){}uz.$inject=["modeling","textRenderer","bpmnFactory"],t(wl,Ji),wl.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],wl.prototype.getHandlers=function(){var s=Ji.prototype.getHandlers.call(this);return s["element.updateModdleProperties"]=Mk,s["element.updateProperties"]=Nk,s["canvas.updateRoot"]=OR,s["lane.add"]=$I,s["lane.resize"]=Ik,s["lane.split"]=BI,s["lane.updateRefs"]=Fk,s["id.updateClaim"]=TR,s["element.setColor"]=VI,s["element.updateLabel"]=uz,s},wl.prototype.updateLabel=function(s,l,d,f){this._commandStack.execute("element.updateLabel",{element:s,newLabel:l,newBounds:d,hints:f||{}})},wl.prototype.connect=function(s,l,d,f){var p=this._bpmnRules;if(d||(d=p.canConnect(s,l)),d)return this.createConnection(s,l,d,s.parent,f)},wl.prototype.updateModdleProperties=function(s,l,d){this._commandStack.execute("element.updateModdleProperties",{element:s,moddleElement:l,properties:d})},wl.prototype.updateProperties=function(s,l){this._commandStack.execute("element.updateProperties",{element:s,properties:l})},wl.prototype.resizeLane=function(s,l,d){this._commandStack.execute("lane.resize",{shape:s,newBounds:l,balanced:d})},wl.prototype.addLane=function(s,l){var d={shape:s,location:l};return this._commandStack.execute("lane.add",d),d.newLane},wl.prototype.splitLane=function(s,l){this._commandStack.execute("lane.split",{shape:s,count:l})},wl.prototype.makeCollaboration=function(){var s=this._create("root",{type:"bpmn:Collaboration"}),l={newRoot:s};return this._commandStack.execute("canvas.updateRoot",l),s},wl.prototype.makeProcess=function(){var s={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",s)},wl.prototype.updateLaneRefs=function(s,l){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:s,laneShapes:l})},wl.prototype.claimId=function(s,l){this._commandStack.execute("id.updateClaim",{id:s,element:l,claiming:!0})},wl.prototype.unclaimId=function(s,l){this._commandStack.execute("id.updateClaim",{id:s,element:l})},wl.prototype.setColor=function(s,l){s.length||(s=[s]),this._commandStack.execute("element.setColor",{elements:s,colors:l})},fz.prototype.layoutConnection=function(s,l){return[(l=l||{}).connectionStart||Pn(l.source||s.source),l.connectionEnd||Pn(l.target||s.target)]};var AR=20,ipe=5,RR=Math.round,hz=20,ope={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function pz(s,l,d){var f,p,g,b=na(l,s,ipe),w=d.split(":")[0],S=RR((l.x-s.x)/2+s.x),O=RR((l.y-s.y)/2+s.y),M=(g=b,{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[w].test(g)),A=/h|r|l/.test(w),L=!1,z=!1;return M?(f=A?{x:S,y:s.y}:{x:s.x,y:O},p=A?"h:h":"v:v"):(L=function(H,Q){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[Q].test(H)}(b,w),p=A?"h:v":"v:h",L?A?(z=O===s.y,f={x:s.x+AR*(/l/.test(w)?-1:1),y:z?O+AR:O}):f={x:(z=S===s.x)?S+AR:S,y:s.y+AR*(/t/.test(w)?-1:1)}:f={x:S,y:O}),{waypoints:zI(s,f,p).concat(f),directions:p,turnNextDirections:z}}function mz(s){return s.split(":").reverse().join(":")}function zI(s,l,d){if(!function(b){return b&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(b)}(d=d||"h:h"))throw new Error("unknown directions: <"+d+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(yz(d)){var f=function(b,w,S){return pz(b,w,S)}(s,l,d),p=function(b,w,S){var O=pz(w,b,mz(S));return{waypoints:O.waypoints.slice().reverse(),directions:mz(O.directions),turnNextDirections:O.turnNextDirections}}(s,l,d),g=function(b,w){var S=b.directions.split(":")[1],O=w.directions.split(":")[0];b.turnNextDirections&&(S=S=="h"?"v":"h"),w.turnNextDirections&&(O=O=="h"?"v":"h");var M=S+":"+O;return{waypoints:zI(b.waypoints[b.waypoints.length-1],w.waypoints[0],M),directions:M}}(f,p);return[].concat(f.waypoints,g.waypoints,p.waypoints)}return function(b,w,S){var O=RR((w.x-b.x)/2+b.x),M=RR((w.y-b.y)/2+b.y);if(S==="h:v")return[{x:w.x,y:b.y}];if(S==="v:h")return[{x:b.x,y:w.y}];if(S==="h:h")return[{x:O,y:b.y},{x:O,y:w.y}];if(S==="v:v")return[{x:b.x,y:M},{x:w.x,y:M}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(s,l,d)}function spe(s,l,d,f,p){var g=Y(p&&p.preferredLayouts||[],"straight")[0]||"h:h",b=na(s,l,ope[g]||0),w=function(M,A){if(yz(A))return A;switch(M){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return A}}(b,g);d=d||Pn(s),f=f||Pn(l);var S=w.split(":"),O=vz(d,s,S[0],function(M){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[M]}(b));return function(M,A,L){var z=zI(M,A,L);return z.unshift(M),z.push(A),bz(z)}(O,vz(f,l,S[1],b),w)}function ape(s,l,d,f,p,g){var b;return v(d)&&(p=d,g=f,d=Pn(s),f=Pn(l)),p=p||[],b=(g=ve({preferredLayouts:[]},g)).preferredLayouts.indexOf("straight")!==-1&&function(w,S,O,M,A){var L,z,H={};return z=na(w,S),/^(top|bottom|left|right)$/.test(z)?(/top|bottom/.test(z)&&(L="x"),/left|right/.test(z)&&(L="y"),A.preserveDocking==="target"?gz(L,M,w)?(H[L]=M[L],[{x:H.x!==void 0?H.x:O.x,y:H.y!==void 0?H.y:O.y,original:{x:H.x!==void 0?H.x:O.x,y:H.y!==void 0?H.y:O.y}},{x:M.x,y:M.y}]):null:gz(L,O,S)?(H[L]=O[L],[{x:O.x,y:O.y},{x:H.x!==void 0?H.x:M.x,y:H.y!==void 0?H.y:M.y,original:{x:H.x!==void 0?H.x:M.x,y:H.y!==void 0?H.y:M.y}}]):null):null}(s,l,d,f,g),b||(b=g.connectionEnd&&function(w,S,O,M){var A=M.slice().reverse();return A=HI(w,S,O,A),A?A.reverse():null}(l,s,f,p),b||(b=g.connectionStart&&HI(s,l,d,p))||(!g.connectionStart&&!g.connectionEnd&&p&&p.length?p:spe(s,l,d,f,g)))}function gz(s,l,d){return function(f,p,g){return f>=p&&f<=g}(l[s],d[s],d[s]+d[{x:"width",y:"height"}[s]])}function HI(s,l,d,f){if(function(w){return w.length<3||!(w.length>4)&&!!$(w,function(S,O){var M=w[O-1];return M&&io(S,M)<3})}(f))return null;var p,g=f[0],b=f.slice();return b[0]=d,b[1]=function(w,S,O){switch(Xc(S,w)){case"v":return{x:O.x,y:w.y};case"h":return{x:w.x,y:O.y}}return{x:w.x,y:w.y}}(b[1],g,d),p=function(w,S,O){var M;for(M=w.length-2;M!==0;M--)if(a0(w[M],S,hz)||a0(w[M],O,hz))return w.slice(M);return w}(b,s,l),p!==b&&(b=HI(s,l,d,p)),b&&Xc(b)?null:b}function yz(s){return s&&/t|r|b|l/.test(s)}function vz(s,l,d,f){if(d==="h"&&(d=/left/.test(f)?"l":"r"),d==="v"&&(d=/top/.test(f)?"t":"b"),d==="t")return{original:s,x:s.x,y:l.y};if(d==="r")return{original:s,x:l.x+l.width,y:s.y};if(d==="b")return{original:s,x:s.x,y:l.y+l.height};if(d==="l")return{original:s,x:l.x,y:s.y};throw new Error("unexpected dockingDirection: <"+d+">")}function bz(s){return s.reduce(function(l,d,f){return Af(l[l.length-1],s[f+1],d,0)||l.push(d),l},[])}var lpe=-10,cpe=40,WI={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},PR={top:"t",right:"r",bottom:"b",left:"l"};function qI(){}function upe(s,l){return ie(l,"bpmn:Participant")?"source":ie(s,"bpmn:Participant")?"target":$k(l)?"source":$k(s)||ie(l,"bpmn:Event")?"target":ie(s,"bpmn:Event")?"source":null}function dpe(s){return $k(s)?"target":"source"}function xz(s,l){return s?s.original||s:Pn(l)}function wz(s,l){return ie(l,"bpmn:Activity")&&ie(s,"bpmn:BoundaryEvent")&&l.businessObject.isForCompensation}function $k(s){return ie(s,"bpmn:SubProcess")&&Dr(s)}function Bk(s,l){return s===l}function jk(s){var l=/right|left/.exec(s);return l&&l[0]}function t1(s){var l=/top|bottom/.exec(s);return l&&l[0]}function UI(s){return s==="right"||s==="left"}function fpe(s,l){var d=l.waypoints,f=d&&d.length&&na(d[0],s);return f==="top"?["t:r"]:f==="right"?["r:b"]:f==="left"?["l:t"]:["b:l"]}function hpe(s,l,d){var f,p,g,b,w=Pn(s),S=Pn(l),O=(b=(g=s).host,na(Pn(g),b,lpe)),M=Bk(s.host,l),A=["top","right","bottom","left"].indexOf(O)!==-1,L=na(S,w,{x:s.width/2+l.width/2,y:s.height/2+l.height/2});return M?function(z,H,Q,re,X){var K,ue=H?z:t1(z),me=PR[ue];return K=H?UI(z)?_z("y",Q,re,X)?"h":"b":_z("x",Q,re,X)?"v":"l":"v",[me+":"+K]}(O,A,s,l,d):(f=function(z,H,Q){return Q?PR[z]:Bk(t1(z),t1(H))||function(re,X){return WI[re]===X}(jk(z),jk(H))?PR[t1(z)]:PR[jk(z)]}(O,L,A),p=function(z,H,Q){return Q?UI(z)?function(re,X){var K=jk(re),ue=WI[K];return X.indexOf(ue)!==-1}(z,H)||Bk(z,H)?"h":"v":function(re,X){var K=t1(re),ue=WI[K];return X.indexOf(ue)!==-1}(z,H)||Bk(z,H)?"v":"h":UI(H)||Bk(t1(z),t1(H))&&jk(H)?"h":"v"}(O,L,A),[f+":"+p])}function _z(s,l,d,f){var p=cpe;return!(GI(s,f,d,p)||GI(s,f,{x:d.x+d.width,y:d.y+d.height},p)||GI(s,f,Pn(l),p))}function GI(s,l,d,f){return Math.abs(l[s]-d[s])<f}function Ez(s){return ve({original:s.point.original||s.point},s.actual)}function gy(s,l){this._elementRegistry=s,this._graphicsFactory=l}t(qI,fz),qI.prototype.layoutConnection=function(s,l){l||(l={});var d,f,p=l.source||s.source,g=l.target||s.target,b=l.waypoints||s.waypoints,w=l.connectionStart,S=l.connectionEnd;return w||(w=xz(b&&b[0],p)),S||(S=xz(b&&b[b.length-1],g)),(ie(s,"bpmn:Association")||ie(s,"bpmn:DataAssociation"))&&b&&!wz(p,g)?[].concat([w],b.slice(1,-1),[S]):(ie(s,"bpmn:MessageFlow")?d=function(O,M){return{preferredLayouts:["straight","v:v"],preserveDocking:upe(O,M)}}(p,g):(ie(s,"bpmn:SequenceFlow")||wz(p,g))&&(d=p===g?{preferredLayouts:fpe(p,s)}:ie(p,"bpmn:BoundaryEvent")?{preferredLayouts:hpe(p,g,S)}:$k(p)||$k(g)?function(O){return{preferredLayouts:["straight","h:h"],preserveDocking:dpe(O)}}(p):ie(p,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:ie(g,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),d&&(f=bz(ape(p,g,w,S,b,d=ve(d,l)))),f||[w,S])},gy.$inject=["elementRegistry","graphicsFactory"],gy.prototype.getCroppedWaypoints=function(s,l,d){l=l||s.source,d=d||s.target;var f=this.getDockingPoint(s,l,!0),p=this.getDockingPoint(s,d),g=s.waypoints.slice(f.idx+1,p.idx);return g.unshift(Ez(f)),g.push(Ez(p)),g},gy.prototype.getDockingPoint=function(s,l,d){var f,p,g=s.waypoints;return{point:p=g[f=d?0:g.length-1],actual:this._getIntersection(l,s,d)||p,idx:f}},gy.prototype._getIntersection=function(s,l,d){return Jc(this._getShapePath(s),this._getConnectionPath(l),d)},gy.prototype._getConnectionPath=function(s){return this._graphicsFactory.getConnectionPath(s)},gy.prototype._getShapePath=function(s){return this._graphicsFactory.getShapePath(s)},gy.prototype._getGfx=function(s){return this._elementRegistry.getGraphics(s)};var Sz={__init__:["modeling","bpmnUpdater"],__depends__:[_I,bk,xk,kI,se,Qhe,Khe,Xhe,ur,dr,qV],bpmnFactory:["type",Ud],bpmnUpdater:["type",uu],elementFactory:["type",fy],modeling:["type",wl],layouter:["type",qI],connectionDocking:["type",gy]};const kz=Math.round;function MR(s,l,d,f,p,g){this._complexPreview=s,this._connectionDocking=l,this._elementFactory=d,this._eventBus=f,this._layouter=p,this._rules=g}MR.prototype.create=function(s,l,d){const f=this._complexPreview,p=this._connectionDocking,g=this._elementFactory,b=this._eventBus,w=this._layouter,S=this._rules,O=g.createShape(ve({type:l},d)),M=b.fire("autoPlace",{source:s,shape:O});if(!M)return;ve(O,{x:M.x-kz(O.width/2),y:M.y-kz(O.height/2)});const A=S.allowed("connection.create",{source:s,target:O,hints:{targetParent:s.parent}});let L=null;A&&(L=g.createConnection(A),L.waypoints=w.layoutConnection(L,{source:s,target:O}),L.waypoints=p.getCroppedWaypoints(L,s,O)),f.create({created:[O,L].filter(z=>!m(z))})},MR.prototype.cleanUp=function(){this._complexPreview.cleanUp()},MR.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];var ppe={__depends__:[Sx,oI,Sz],__init__:["appendPreview"],appendPreview:["type",MR]},Cz=Math.min,Oz=Math.max;function YI(s){s.preventDefault()}function Vk(s){s.stopPropagation()}function Jf(s){this.container=s.container,this.parent=_r('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=mr("[contenteditable]",this.parent),this.keyHandler=s.keyHandler||function(){},this.resizeHandler=s.resizeHandler||function(){},this.autoResize=rt(this.autoResize,this),this.handlePaste=rt(this.handlePaste,this)}function Gd(s,l){this._eventBus=s,this._providers=[],this._textbox=new Jf({container:l.getContainer(),keyHandler:rt(this._handleKey,this),resizeHandler:rt(this._handleResize,this)})}Jf.prototype.create=function(s,l,d,f){var p=this.parent,g=this.content,b=this.container;f=this.options=f||{};var w=vt(l=this.style=l||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);ve(p.style,{width:s.width+"px",height:s.height+"px",maxWidth:s.maxWidth+"px",maxHeight:s.maxHeight+"px",minWidth:s.minWidth+"px",minHeight:s.minHeight+"px",left:s.x+"px",top:s.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},w);var S=vt(l,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return ve(g.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},S),f.centerVertically&&ve(g.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},S),g.innerText=d,Xt.bind(g,"keydown",this.keyHandler),Xt.bind(g,"mousedown",Vk),Xt.bind(g,"paste",this.handlePaste),f.autoResize&&Xt.bind(g,"input",this.autoResize),f.resizable&&this.resizable(l),b.appendChild(p),this.setSelection(g.lastChild,g.lastChild&&g.lastChild.length),p},Jf.prototype.handlePaste=function(s){var l,d=this.options,f=this.style;if(s.preventDefault(),l=s.clipboardData?s.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(l),d.autoResize){var p=this.autoResize(f);p&&this.resizeHandler(p)}},Jf.prototype.insertText=function(s){s=s.replace(/\r\n|\r|\n/g,`
`),document.execCommand("insertText",!1,s)||this._insertTextIE(s)},Jf.prototype._insertTextIE=function(s){var l,d,f,p=this.getSelection(),g=p.startContainer,b=p.endContainer,w=p.startOffset,S=p.endOffset,O=p.commonAncestorContainer,M=(l=O.childNodes,[].slice.call(l));if(function(Q){return Q.nodeType===Node.TEXT_NODE}(O)){var A=g.textContent;g.textContent=A.substring(0,w)+s+A.substring(S),d=g,f=w+s.length}else if(g===this.content&&b===this.content){var L=document.createTextNode(s);this.content.insertBefore(L,M[w]),d=L,f=L.textContent.length}else{var z=M.indexOf(g),H=M.indexOf(b);M.forEach(function(Q,re){re===z?Q.textContent=g.textContent.substring(0,w)+s+b.textContent.substring(S):re>z&&re<=H&&Di(Q)}),d=g,f=w+s.length}d&&f!==void 0&&setTimeout(function(){self.setSelection(d,f)})},Jf.prototype.autoResize=function(){var s=this.parent,l=this.content,d=parseInt(this.style.fontSize)||12;if(l.scrollHeight>s.offsetHeight||l.scrollHeight<s.offsetHeight-d){var f=s.getBoundingClientRect(),p=l.scrollHeight;s.style.height=p+"px",this.resizeHandler({width:f.width,height:f.height,dx:0,dy:p-f.height})}},Jf.prototype.resizable=function(){var s=this,l=this.parent,d=this.resizeHandle,f=parseInt(this.style.minWidth)||0,p=parseInt(this.style.minHeight)||0,g=parseInt(this.style.maxWidth)||1/0,b=parseInt(this.style.maxHeight)||1/0;if(!d){var w,S,O,M;d=this.resizeHandle=_r('<div class="djs-direct-editing-resize-handle"></div>');var A=function(z){YI(z),Vk(z);var H=Cz(Oz(O+z.clientX-w,f),g),Q=Cz(Oz(M+z.clientY-S,p),b);l.style.width=H+"px",l.style.height=Q+"px",s.resizeHandler({width:O,height:M,dx:z.clientX-w,dy:z.clientY-S})},L=function(z){YI(z),Vk(z),Xt.unbind(document,"mousemove",A,!1),Xt.unbind(document,"mouseup",L,!1)};Xt.bind(d,"mousedown",function(z){YI(z),Vk(z),w=z.clientX,S=z.clientY;var H=l.getBoundingClientRect();O=H.width,M=H.height,Xt.bind(document,"mousemove",A),Xt.bind(document,"mouseup",L)})}ve(d.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),l.appendChild(d)},Jf.prototype.destroy=function(){var s=this.parent,l=this.content,d=this.resizeHandle;l.innerText="",s.removeAttribute("style"),l.removeAttribute("style"),Xt.unbind(l,"keydown",this.keyHandler),Xt.unbind(l,"mousedown",Vk),Xt.unbind(l,"input",this.autoResize),Xt.unbind(l,"paste",this.handlePaste),d&&(d.removeAttribute("style"),Di(d)),Di(s)},Jf.prototype.getValue=function(){return this.content.innerText.trim()},Jf.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Jf.prototype.setSelection=function(s,l){var d=document.createRange();s===null?d.selectNodeContents(this.content):(d.setStart(s,l),d.setEnd(s,l));var f=window.getSelection();f.removeAllRanges(),f.addRange(d)},Gd.$inject=["eventBus","canvas"],Gd.prototype.registerProvider=function(s){this._providers.push(s)},Gd.prototype.isActive=function(s){return!(!this._active||s&&this._active.element!==s)},Gd.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Gd.prototype._fire=function(s,l){this._eventBus.fire("directEditing."+s,l||{active:this._active})},Gd.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Gd.prototype.complete=function(){var s=this._active;if(s){var l,d=s.context.bounds,f=this.$textbox.getBoundingClientRect(),p=this.getValue();p===s.context.text&&f.height===d.height&&f.width===d.width||(l=this._textbox.container.getBoundingClientRect(),s.provider.update(s.element,p,s.context.text,{x:f.left-l.left,y:f.top-l.top,width:f.width,height:f.height})),this._fire("complete"),this.close()}},Gd.prototype.getValue=function(){return this._textbox.getValue()},Gd.prototype._handleKey=function(s){s.stopPropagation();var l=s.keyCode||s.charCode;return l===27?(s.preventDefault(),this.cancel()):l!==13||s.shiftKey?void 0:(s.preventDefault(),this.complete())},Gd.prototype._handleResize=function(s){this._fire("resize",s)},Gd.prototype.activate=function(s){var l;this.isActive()&&this.cancel();var d=$(this._providers,function(f){return(l=f.activate(s))?f:null});return l&&(this.$textbox=this._textbox.create(l.bounds,l.style,l.text,l.options),this._active={element:s,context:l,provider:d},l.options&&l.options.resizable&&(this.resizable=!0),this._fire("activate")),!!l};var Tz={__depends__:[Lt],__init__:["directEditing"],directEditing:["type",Gd]};function Az(s){return function(l){var d=l.target,f=Ft(s),p=f.eventDefinitions&&f.eventDefinitions[0],g=f.$type===d.type,b=(p&&p.$type)===d.eventDefinitionType,w=!!d.triggeredByEvent==!!f.triggeredByEvent,S=d.isExpanded===void 0||d.isExpanded===Dr(s);return!(g&&b&&w&&S)}}var mpe=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],gpe=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],ype=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],vpe=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],bpe=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],xpe=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],Rz=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],wpe=Rz,Pz=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],_pe=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],Epe=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],Spe=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],kpe=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],Cpe=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],Ope=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(s){var l="Empty pool/participant";return s.children&&s.children.length&&(l+=" (removes content)"),l},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],Mz={"start-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(0 995.64)">
      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>
    </g>
  </svg>`,"intermediate-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">
        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>
        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>
     </g>
  </svg>`};function Xu(s,l,d,f,p,g,b,w){this._bpmnFactory=s,this._popupMenu=l,this._modeling=d,this._moddle=f,this._bpmnReplace=p,this._rules=g,this._translate=b,this._moddleCopy=w,this._register()}Xu.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],Xu.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},Xu.prototype.getPopupMenuEntries=function(s){var l=s.businessObject,d=this._rules,f=[];if(v(s)||!d.allowed("shape.replace",{element:s}))return{};var p=Az(s);return ie(l,"bpmn:DataObjectReference")?this._createEntries(s,_pe):ie(l,"bpmn:DataStoreReference")&&!ie(s.parent,"bpmn:Collaboration")?this._createEntries(s,Epe):ie(l,"bpmn:StartEvent")&&!ie(l.$parent,"bpmn:SubProcess")?(f=B(mpe,p),this._createEntries(s,f)):ie(l,"bpmn:Participant")?(f=B(Ope,function(g){return Dr(s)!==g.target.isExpanded}),this._createEntries(s,f)):ie(l,"bpmn:StartEvent")&&vs(l.$parent)?(f=B(kpe,function(g){var b=g.target.isInterrupting!==!1,w=l.isInterrupting===b;return p(g)||!p(g)&&!w}),this._createEntries(s,f)):ie(l,"bpmn:StartEvent")&&!vs(l.$parent)&&ie(l.$parent,"bpmn:SubProcess")?(f=B(gpe,p),this._createEntries(s,f)):ie(l,"bpmn:EndEvent")?(f=B(vpe,function(g){return!(g.target.eventDefinitionType=="bpmn:CancelEventDefinition"&&!ie(l.$parent,"bpmn:Transaction"))&&p(g)}),this._createEntries(s,f)):ie(l,"bpmn:BoundaryEvent")?(f=B(Spe,function(g){var b=g.target;if(b.eventDefinitionType=="bpmn:CancelEventDefinition"&&!ie(l.attachedToRef,"bpmn:Transaction"))return!1;var w=b.cancelActivity!==!1,S=l.cancelActivity==w;return p(g)||!p(g)&&!S}),this._createEntries(s,f)):ie(l,"bpmn:IntermediateCatchEvent")||ie(l,"bpmn:IntermediateThrowEvent")?(f=B(ype,p),this._createEntries(s,f)):ie(l,"bpmn:Gateway")?(f=B(bpe,p),this._createEntries(s,f)):ie(l,"bpmn:Transaction")?(f=B(Rz,p),this._createEntries(s,f)):vs(l)&&Dr(s)?(f=B(wpe,p),this._createEntries(s,f)):ie(l,"bpmn:SubProcess")&&Dr(s)?(f=B(xpe,p),this._createEntries(s,f)):ie(l,"bpmn:AdHocSubProcess")&&!Dr(s)?(f=B(Pz,function(g){var b=g.target,w=b.type==="bpmn:SubProcess",S=b.isExpanded===!0;return Az(b)&&(!w||S)}),this._createEntries(s,f)):ie(l,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(s,Cpe):ie(l,"bpmn:FlowNode")?(f=B(Pz,p),ie(l,"bpmn:SubProcess")&&!Dr(s)&&(f=B(f,function(g){return g.label!=="Sub-process (collapsed)"})),this._createEntries(s,f)):{}},Xu.prototype.getPopupMenuHeaderEntries=function(s){var l={};return ie(s,"bpmn:Activity")&&!vs(s)&&(l={...l,...this._getLoopCharacteristicsHeaderEntries(s)}),ie(s,"bpmn:DataObjectReference")&&(l={...l,...this._getCollectionHeaderEntries(s)}),ie(s,"bpmn:Participant")&&(l={...l,...this._getParticipantMultiplicityHeaderEntries(s)}),!ie(s,"bpmn:SubProcess")||ie(s,"bpmn:Transaction")||vs(s)||(l={...l,...this._getAdHocHeaderEntries(s)}),IA(s)&&(l={...l,...this._getNonInterruptingHeaderEntries(s)}),l},Xu.prototype._createEntries=function(s,l){var d={},f=this;return I(l,function(p){d[p.actionName]=f._createEntry(p,s)}),d},Xu.prototype._createSequenceFlowEntries=function(s,l){var d=Ft(s),f={},p=this._modeling,g=this._moddle,b=this;return I(l,function(w){switch(w.actionName){case"replace-with-default-flow":d.sourceRef.default!==d&&(ie(d.sourceRef,"bpmn:ExclusiveGateway")||ie(d.sourceRef,"bpmn:InclusiveGateway")||ie(d.sourceRef,"bpmn:ComplexGateway")||ie(d.sourceRef,"bpmn:Activity"))&&(f={...f,[w.actionName]:b._createEntry(w,s,function(){p.updateProperties(s.source,{default:d})})});break;case"replace-with-conditional-flow":!d.conditionExpression&&ie(d.sourceRef,"bpmn:Activity")&&(f={...f,[w.actionName]:b._createEntry(w,s,function(){var S=g.create("bpmn:FormalExpression",{body:""});p.updateProperties(s,{conditionExpression:S})})});break;default:ie(d.sourceRef,"bpmn:Activity")&&d.conditionExpression&&(f={...f,[w.actionName]:b._createEntry(w,s,function(){p.updateProperties(s,{conditionExpression:void 0})})}),(ie(d.sourceRef,"bpmn:ExclusiveGateway")||ie(d.sourceRef,"bpmn:InclusiveGateway")||ie(d.sourceRef,"bpmn:ComplexGateway")||ie(d.sourceRef,"bpmn:Activity"))&&d.sourceRef.default===d&&(f={...f,[w.actionName]:b._createEntry(w,s,function(){p.updateProperties(s.source,{default:void 0})})})}}),f},Xu.prototype._createEntry=function(s,l,d){var f=this._translate,p=this._bpmnReplace.replaceElement,g=s.label;return g&&typeof g=="function"&&(g=g(l)),d=d||function(){return p(l,s.target)},{label:f(g),className:s.className,action:d}},Xu.prototype._getLoopCharacteristicsHeaderEntries=function(s){var l=this,d=this._translate;function f(S,O){if(O.active)return void l._modeling.updateProperties(s,{loopCharacteristics:void 0});const M=s.businessObject.get("loopCharacteristics"),A=l._moddle.create(O.options.loopCharacteristics);M&&l._moddleCopy.copyElement(M,A),A.set("isSequential",O.options.isSequential),l._modeling.updateProperties(s,{loopCharacteristics:A})}var p,g,b,w=Ft(s).loopCharacteristics;return w&&(p=w.isSequential,g=w.isSequential===void 0,b=w.isSequential!==void 0&&!w.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:d("Parallel multi-instance"),active:b,action:f,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:d("Sequential multi-instance"),active:p,action:f,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:d("Loop"),active:g,action:f,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},Xu.prototype._getCollectionHeaderEntries=function(s){var l=this,d=this._translate,f=s.businessObject.dataObjectRef;if(!f)return{};var p=f.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:d("Collection"),active:p,action:function(g,b){l._modeling.updateModdleProperties(s,f,{isCollection:!b.active})}}}},Xu.prototype._getParticipantMultiplicityHeaderEntries=function(s){var l=this,d=this._bpmnFactory,f=this._translate,p=s.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:f("Participant multiplicity"),active:!!p,action:function(g,b){var w;b.active||(w=d.create("bpmn:ParticipantMultiplicity")),l._modeling.updateProperties(s,{participantMultiplicity:w})}}}},Xu.prototype._getAdHocHeaderEntries=function(s){var l=this._translate,d=ie(Ft(s),"bpmn:AdHocSubProcess"),f=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:l("Ad-hoc"),active:d,action:function(p,g){return f(s,d?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}},Xu.prototype._getNonInterruptingHeaderEntries=function(s){const l=this._translate,d=Ft(s),f=this,p=Vx(s),g=ie(s,"bpmn:BoundaryEvent")?Mz["intermediate-event-non-interrupting"]:Mz["start-event-non-interrupting"],b=!d[p];return{"toggle-non-interrupting":{imageHtml:g,title:l("Toggle non-interrupting"),active:b,action:function(){f._modeling.updateProperties(s,{[p]:!!b})}}}};var Tpe={__depends__:[pS,se,Sx],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Xu]};function zk(s,l,d,f,p,g,b,w,S,O,M,A,L){s=s||{},f.registerProvider(this),this._contextPad=f,this._modeling=p,this._elementFactory=g,this._connect=b,this._create=w,this._popupMenu=S,this._canvas=O,this._rules=M,this._translate=A,this._eventBus=d,this._appendPreview=L,s.autoPlace!==!1&&(this._autoPlace=l.get("autoPlace",!1)),d.on("create.end",250,function(z){var H=z.context.shape;if(mt(z)&&f.isOpen(H)){var Q=f.getEntries(H);Q.replace&&Q.replace.action.click(z,H)}})}function Dz(s,l,d){var f=s.$instanceOf(l),p=!1;return I(s.eventDefinitions||[],function(g){g.$type===d&&(p=!0)}),f&&p}zk.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"],zk.prototype.getMultiElementContextPadEntries=function(s){var l=this._modeling,d={};return this._isDeleteAllowed(s)&&ve(d,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Remove"),action:{click:function(f,p){l.removeElements(p.slice())}}}}),d},zk.prototype._isDeleteAllowed=function(s){var l=this._rules.allowed("elements.delete",{elements:s});return v(l)?ne(l,function(d){return f=d,l.indexOf(f)!==-1;var f}):l},zk.prototype.getContextPadEntries=function(s){var l=this._contextPad,d=this._modeling,f=this._elementFactory,p=this._connect,g=this._create,b=this._popupMenu,w=this._rules,S=this._autoPlace,O=this._translate,M=this._appendPreview,A={};if(s.type==="label")return A;var L=s.businessObject;function z(K,ue){p.start(K,ue)}function H(K,ue,me,ge){function $e(Xe,Mn){var zt=f.createShape(ve({type:K},ge));g.start(Xe,zt,{source:Mn}),M.cleanUp()}var He=S?function(Xe,Mn){var zt=f.createShape(ve({type:K},ge));S.append(Mn,zt),M.cleanUp()}:$e,Ve=S?function(Xe,Mn){return M.create(Mn,K,ge),()=>{M.cleanUp()}}:null;return{group:"model",className:ue,title:me,action:{dragstart:$e,click:He,hover:Ve}}}function Q(K){return function(ue,me){d.splitLane(me,K),l.open(me,!0)}}if(Sr(L,["bpmn:Lane","bpmn:Participant"])&&Dr(s)){var re=bl(s);ve(A,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:O("Add lane above"),action:{click:function(K,ue){d.addLane(ue,"top")}}}}),re.length<2&&(s.height>=120&&ve(A,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:O("Divide into two lanes"),action:{click:Q(2)}}}),s.height>=180&&ve(A,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:O("Divide into three lanes"),action:{click:Q(3)}}})),ve(A,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:O("Add lane below"),action:{click:function(K,ue){d.addLane(ue,"bottom")}}}})}ie(L,"bpmn:FlowNode")&&(ie(L,"bpmn:EventBasedGateway")?ve(A,{"append.receive-task":H("bpmn:ReceiveTask","bpmn-icon-receive-task",O("Append receive task")),"append.message-intermediate-event":H("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",O("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":H("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",O("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":H("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",O("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":H("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",O("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):Dz(L,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?ve(A,{"append.compensation-activity":H("bpmn:Task","bpmn-icon-task",O("Append compensation activity"),{isForCompensation:!0})}):ie(L,"bpmn:EndEvent")||L.isForCompensation||Dz(L,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||vs(L)||ve(A,{"append.end-event":H("bpmn:EndEvent","bpmn-icon-end-event-none",O("Append end event")),"append.gateway":H("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",O("Append gateway")),"append.append-task":H("bpmn:Task","bpmn-icon-task",O("Append task")),"append.intermediate-event":H("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",O("Append intermediate/boundary event"))})),b.isEmpty(s,"bpmn-replace")||ve(A,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:O("Change type"),action:{click:function(K,ue){var me=ve(function(ge){var $e=l.getPad(ge).html.getBoundingClientRect();return{x:$e.left,y:$e.bottom+5}}(ue),{cursor:{x:K.x,y:K.y}});b.open(ue,"bpmn-replace",me,{title:O("Change element"),width:300,search:!0})}}}}),ie(L,"bpmn:SequenceFlow")&&ve(A,{"append.text-annotation":H("bpmn:TextAnnotation","bpmn-icon-text-annotation",O("Append text annotation"))}),Sr(L,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&ve(A,{"append.text-annotation":H("bpmn:TextAnnotation","bpmn-icon-text-annotation",O("Append text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:O("Connect using "+(L.isForCompensation?"":"sequence/message flow or ")+"association"),action:{click:z,dragstart:z}}}),ie(L,"bpmn:TextAnnotation")&&ve(A,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:O("Connect using association"),action:{click:z,dragstart:z}}}),Sr(L,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&ve(A,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:O("Connect using data input association"),action:{click:z,dragstart:z}}}),ie(L,"bpmn:Group")&&ve(A,{"append.text-annotation":H("bpmn:TextAnnotation","bpmn-icon-text-annotation",O("Append text annotation"))});var X=w.allowed("elements.delete",{elements:[s]});return v(X)&&(X=X[0]===s),X&&ve(A,{delete:{group:"edit",className:"bpmn-icon-trash",title:O("Remove"),action:{click:function(K,ue){d.removeElements([ue])}}}}),A};var Ape={__depends__:[ppe,Tz,sS,ur,ny,Zx,Tpe],__init__:["contextPadProvider"],contextPadProvider:["type",zk]},Rpe={horizontal:["x","width"],vertical:["y","height"]};function Lm(s,l){this._modeling=s,this._filters=[],this.registerFilter(function(d){var f=l.allowed("elements.distribute",{elements:d});return v(f)?f:f?d:[]})}Lm.$inject=["modeling","rules"],Lm.prototype.registerFilter=function(s){if(typeof s!="function")throw new Error("the filter has to be a function");this._filters.push(s)},Lm.prototype.trigger=function(s,l){var d,f,p=this._modeling;if(!(s.length<3||(this._setOrientation(l),f=this._filterElements(s),(d=this._createGroups(f)).length<=2)))return p.distributeElements(d,this._axis,this._dimension),d},Lm.prototype._filterElements=function(s){var l=this._filters,d=this._axis,f=this._dimension,p=[].concat(s);return l.length?(I(l,function(g){p=g(p,d,f)}),p):s},Lm.prototype._createGroups=function(s){var l=[],d=this,f=this._axis,p=this._dimension;if(!f)throw new Error('must have a defined "axis" and "dimension"');return I(Fe(s,f),function(g,b){var w,S=d._findRange(g,f,p),O=l[l.length-1];O&&d._hasIntersection(O.range,S)?l[l.length-1].elements.push(g):(w={range:S,elements:[g]},l.push(w))}),l},Lm.prototype._setOrientation=function(s){var l=Rpe[s];this._axis=l[0],this._dimension=l[1]},Lm.prototype._hasIntersection=function(s,l){return Math.max(s.min,s.max)>=Math.min(l.min,l.max)&&Math.min(s.min,s.max)<=Math.max(l.min,l.max)},Lm.prototype._findRange=function(s){var l=s[this._axis];return{min:l+5,max:l+s[this._dimension]-5}};var Ppe={__init__:["distributeElements"],distributeElements:["type",Lm]};function DR(s){ou.call(this,s)}DR.$inject=["eventBus"],t(DR,ou),DR.prototype.init=function(){this.addRule("elements.distribute",function(s){var l=s.elements;return!((l=om(l=B(l,function(d){var f=Sr(d,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(d.labelTarget||f)}))).length<3)&&l})};var Nz={horizontal:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
              </svg>`,vertical:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
            </svg>`};function Hk(s,l,d,f){this._distributeElements=l,this._translate=d,this._popupMenu=s,this._rules=f,s.registerProvider("align-elements",900,this)}Hk.$inject=["popupMenu","distributeElements","translate","rules"],Hk.prototype.getPopupMenuEntries=function(s){var l={};return this._isAllowed(s)&&ve(l,this._getEntries(s)),l},Hk.prototype._isAllowed=function(s){return this._rules.allowed("elements.distribute",{elements:s})},Hk.prototype._getEntries=function(s){var l=this._distributeElements,d=this._translate,f=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:d("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:Nz.horizontal,action:function(p,g){l.trigger(s,"horizontal"),f.close()}},"distribute-elements-vertical":{group:"distribute",title:d("Distribute elements vertically"),imageHtml:Nz.vertical,action:function(p,g){l.trigger(s,"vertical"),f.close()}}}};var Mpe={__depends__:[pS,Ppe],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",DR],distributeElementsMenuProvider:["type",Hk]},Iz="is not a registered action";function Yd(s,l){this._actions={};var d=this;s.on("diagram.init",function(){d._registerDefaultActions(l),s.fire("editorActions.init",{editorActions:d})})}function QI(s,l){return new Error(s+" "+l)}Yd.$inject=["eventBus","injector"],Yd.prototype._registerDefaultActions=function(s){var l=s.get("commandStack",!1),d=s.get("modeling",!1),f=s.get("selection",!1),p=s.get("zoomScroll",!1),g=s.get("copyPaste",!1),b=s.get("canvas",!1),w=s.get("rules",!1),S=s.get("keyboardMove",!1),O=s.get("keyboardMoveSelection",!1);l&&(this.register("undo",function(){l.undo()}),this.register("redo",function(){l.redo()})),g&&f&&this.register("copy",function(){var M=f.get();if(M.length)return g.copy(M)}),g&&this.register("paste",function(){g.paste()}),p&&this.register("stepZoom",function(M){p.stepZoom(M.value)}),b&&this.register("zoom",function(M){b.zoom(M.value)}),d&&f&&w&&this.register("removeSelection",function(){var M=f.get();if(M.length){var A,L=w.allowed("elements.delete",{elements:M});L!==!1&&(A=v(L)?L:M).length&&d.removeElements(A.slice())}}),S&&this.register("moveCanvas",function(M){S.moveCanvas(M)}),O&&this.register("moveSelection",function(M){O.moveSelection(M.direction,M.accelerated)})},Yd.prototype.trigger=function(s,l){if(!this._actions[s])throw QI(s,Iz);return this._actions[s](l)},Yd.prototype.register=function(s,l){var d=this;if(typeof s=="string")return this._registerAction(s,l);I(s,function(f,p){d._registerAction(p,f)})},Yd.prototype._registerAction=function(s,l){if(this.isRegistered(s))throw QI(s,"is already registered");this._actions[s]=l},Yd.prototype.unregister=function(s){if(!this.isRegistered(s))throw QI(s,Iz);this._actions[s]=void 0},Yd.prototype.getActions=function(){return Object.keys(this._actions)},Yd.prototype.isRegistered=function(s){return!!this._actions[s]};var Dpe={__init__:["editorActions"],editorActions:["type",Yd]};function NR(s){s.invoke(Yd,this)}t(NR,Yd),NR.$inject=["injector"],NR.prototype._registerDefaultActions=function(s){Yd.prototype._registerDefaultActions.call(this,s);var l=s.get("canvas",!1),d=s.get("elementRegistry",!1),f=s.get("selection",!1),p=s.get("spaceTool",!1),g=s.get("lassoTool",!1),b=s.get("handTool",!1),w=s.get("globalConnect",!1),S=s.get("distributeElements",!1),O=s.get("alignElements",!1),M=s.get("directEditing",!1),A=s.get("searchPad",!1),L=s.get("modeling",!1),z=s.get("contextPad",!1);l&&d&&f&&this._registerAction("selectElements",function(){var H=l.getRootElement(),Q=d.filter(function(re){return re!==H});return f.select(Q),Q}),p&&this._registerAction("spaceTool",function(){p.toggle()}),g&&this._registerAction("lassoTool",function(){g.toggle()}),b&&this._registerAction("handTool",function(){b.toggle()}),w&&this._registerAction("globalConnectTool",function(){w.toggle()}),f&&S&&this._registerAction("distributeElements",function(H){var Q=f.get(),re=H.type;Q.length&&S.trigger(Q,re)}),f&&O&&this._registerAction("alignElements",function(H){var Q=f.get(),re=[],X=H.type;Q.length&&(re=B(Q,function(K){return!ie(K,"bpmn:Lane")}),O.trigger(re,X))}),f&&L&&this._registerAction("setColor",function(H){var Q=f.get();Q.length&&L.setColor(Q,H)}),f&&M&&this._registerAction("directEditing",function(){var H=f.get();H.length&&M.activate(H[0])}),A&&this._registerAction("find",function(){A.toggle()}),l&&L&&this._registerAction("moveToOrigin",function(){var H,Q,re=l.getRootElement();H=So(Q=ie(re,"bpmn:Collaboration")?d.filter(function(X){return ie(X.parent,"bpmn:Collaboration")}):d.filter(function(X){return X!==re&&!ie(X.parent,"bpmn:SubProcess")})),L.moveElements(Q,{x:-H.x,y:-H.y},re)}),f&&z&&this._registerAction("replaceElement",function(H){z.triggerEntry("replace","click",H)})};var Npe={__depends__:[Dpe],editorActions:["type",NR]};function Lz(s){s.on(["create.init","shape.move.init"],function(l){var d=l.context;Sr(l.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(d.gridSnappingContext||(d.gridSnappingContext={}),d.gridSnappingContext.snapLocation="top-left")})}Lz.$inject=["eventBus"];function KI(s,l,d){return d||(d="round"),Math[d](s/l)*l}function yy(s,l,d){var f=!d||d.active!==!1;this._eventBus=l;var p=this;l.on("diagram.init",800,function(){p.setActive(f)}),l.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,function(g){var b=g.originalEvent;if(!(!p.active||b&&Sc(b))){var w=g.context,S=w.gridSnappingContext;S||(S=w.gridSnappingContext={}),["x","y"].forEach(function(O){var M={},A=function(z,H,Q){var re=z.context,X=z.shape,K=re.gridSnappingContext,ue=K.snapLocation,me=K.snapOffset;return me&&k(me[H])||(me||(me=K.snapOffset={}),k(me[H])||(me[H]=0),!X)||(Q.get(X.id)||(IR(H)?me[H]+=X[H]+X.width/2:me[H]+=X[H]+X.height/2),!ue)||(H==="x"?/left/.test(ue)?me[H]-=X.width/2:/right/.test(ue)&&(me[H]+=X.width/2):/top/.test(ue)?me[H]-=X.height/2:/bottom/.test(ue)&&(me[H]+=X.height/2)),me[H]}(g,O,s);A&&(M.offset=A);var L=function(z,H){var Q=z.context,re=Q.createConstraints,X=Q.resizeConstraints||{},K=Q.gridSnappingContext,ue=K.snapConstraints;if(ue&&ue[H])return ue[H];ue||(ue=K.snapConstraints={}),ue[H]||(ue[H]={});var me=Q.direction;re&&(IR(H)?(ue.x.min=re.left,ue.x.max=re.right):(ue.y.min=re.top,ue.y.max=re.bottom));var ge=X.min,$e=X.max;return ge&&(IR(H)?$z(me)?ue.x.max=ge.left:ue.x.min=ge.right:Fz(me)?ue.y.max=ge.top:ue.y.min=ge.bottom),$e&&(IR(H)?$z(me)?ue.x.min=$e.left:ue.x.max=$e.right:Fz(me)?ue.y.min=$e.top:ue.y.max=$e.bottom),ue[H]}(g,O);L&&ve(M,L),Yf(g,O)||p.snapEvent(g,O,M)})}})}function IR(s){return s==="x"}function Fz(s){return s.indexOf("n")!==-1}function $z(s){return s.indexOf("w")!==-1}function n1(s,l){Pt.call(this,s),this._gridSnapping=l;var d=this;this.preExecute("shape.resize",function(f){var p=f.context,g=(p.hints||{}).autoResize;if(g){var b=p.shape,w=p.newBounds;T(g)?p.newBounds=d.snapComplex(w,g):p.newBounds=d.snapSimple(b,w)}})}yy.prototype.snapEvent=function(s,l,d){_s(s,l,this.snapValue(s[l],d))},yy.prototype.getGridSpacing=function(){return 10},yy.prototype.snapValue=function(s,l){var d,f,p=0;return l&&l.offset&&(p=l.offset),s=KI(s+=p,10),l&&l.min&&k(d=l.min)&&(d=KI(d+p,10,"ceil"),s=Math.max(s,d)),l&&l.max&&k(f=l.max)&&(f=KI(f+p,10,"floor"),s=Math.min(s,f)),s-=p},yy.prototype.isActive=function(){return this.active},yy.prototype.setActive=function(s){this.active=s,this._eventBus.fire("gridSnapping.toggle",{active:s})},yy.prototype.toggleActive=function(){this.setActive(!this.active)},yy.$inject=["elementRegistry","eventBus","config.gridSnapping"],n1.$inject=["eventBus","gridSnapping","modeling"],t(n1,Pt),n1.prototype.snapSimple=function(s,l){var d=this._gridSnapping;return l.width=d.snapValue(l.width,{min:l.width}),l.height=d.snapValue(l.height,{min:l.height}),l.x=s.x+s.width/2-l.width/2,l.y=s.y+s.height/2-l.height/2,l},n1.prototype.snapComplex=function(s,l){return/w|e/.test(l)&&(s=this.snapHorizontally(s,l)),/n|s/.test(l)&&(s=this.snapVertically(s,l)),s},n1.prototype.snapHorizontally=function(s,l){var d=this._gridSnapping,f=/w/.test(l),p=/e/.test(l),g={};return g.width=d.snapValue(s.width,{min:s.width}),p&&(f?(g.x=d.snapValue(s.x,{max:s.x}),g.width+=d.snapValue(s.x-g.x,{min:s.x-g.x})):s.x=s.x+s.width-g.width),ve(s,g),s},n1.prototype.snapVertically=function(s,l){var d=this._gridSnapping,f=/n/.test(l),p=/s/.test(l),g={};return g.height=d.snapValue(s.height,{min:s.height}),f&&(p?(g.y=d.snapValue(s.y,{max:s.y}),g.height+=d.snapValue(s.y-g.y,{min:s.y-g.y})):s.y=s.y+s.height-g.height),ve(s,g),s};function Bz(s,l){s.on(["spaceTool.move","spaceTool.end"],2e3,function(d){var f,p=d.context;p.initialized&&(p.axis==="x"?(f=l.snapValue(d.dx),d.x=d.x+f-d.dx,d.dx=f):(f=l.snapValue(d.dy),d.y=d.y+f-d.dy,d.dy=f))})}Bz.$inject=["eventBus","gridSnapping"];var Ipe={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",n1],gridSnappingSpaceToolBehavior:["type",Bz]}],__init__:["gridSnapping"],gridSnapping:["type",yy]};function jz(s,l){s.on("autoPlace",2e3,function(d){var f=d.source,p=Pn(f),g=d.shape,b=VT(f,g);return["x","y"].forEach(function(w){var S={};b[w]!==p[w]&&(b[w]>p[w]?S.min=b[w]:S.max=b[w],ie(g,"bpmn:TextAnnotation")&&(function(O){return O==="x"}(w)?S.offset=-g.width/2:S.offset=-g.height/2),b[w]=l.snapValue(b[w],S))}),b})}jz.$inject=["eventBus","gridSnapping"];function Vz(s,l,d){l.on(["create.start","shape.move.start"],1750,function(f){var p=f.context,g=p.shape,b=s.getRootElement();ie(g,"bpmn:Participant")&&ie(b,"bpmn:Process")&&b.children.length&&p.createConstraints&&(g.width=d.snapValue(g.width,{min:g.width}),g.height=d.snapValue(g.height,{min:g.height}))})}Vz.$inject=["canvas","eventBus","gridSnapping"];function LR(s,l,d){Pt.call(this,s),this._gridSnapping=l;var f=this;this.postExecuted(["connection.create","connection.layout"],3e3,function(p){var g=p.context,b=g.connection,w=g.hints||{},S=b.waypoints;w.connectionStart||w.connectionEnd||w.createElementsBehavior===!1||function(O){return O.length>3}(S)&&d.updateWaypoints(b,f.snapMiddleSegments(S))})}function Lpe(s,l,d){var f=Xc(l,d),p={};return function(g){return g==="h"}(f)&&(p.y=s.snapValue(l.y)),function(g){return g==="v"}(f)&&(p.x=s.snapValue(l.x)),("x"in p||"y"in p)&&(l=ve({},l,p),d=ve({},d,p)),[l,d]}LR.$inject=["eventBus","gridSnapping","modeling"],t(LR,Pt),LR.prototype.snapMiddleSegments=function(s){var l,d=this._gridSnapping;s=s.slice();for(var f=1;f<s.length-2;f++)l=Lpe(d,s[f],s[f+1]),s[f]=l[0],s[f+1]=l[1];return s};var Fpe={__depends__:[Ipe,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",jz],gridSnappingParticipantBehavior:["type",Vz],gridSnappingLayoutConnectionBehavior:["type",LR]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",Lz]};function Wk(s,l){this._interactionEvents=l;var d=this;s.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(f){var p=f.element,g=f.gfx;return ie(p,"bpmn:Lane")?d._createParticipantHit(p,g):ie(p,"bpmn:Participant")?Dr(p)?d._createParticipantHit(p,g):d._createDefaultHit(p,g):ie(p,"bpmn:SubProcess")?Dr(p)?d._createSubProcessHit(p,g):d._createDefaultHit(p,g):void 0})}Wk.$inject=["eventBus","interactionEvents"],Wk.prototype._createDefaultHit=function(s,l){return this._interactionEvents.removeHits(l),this._interactionEvents.createDefaultHit(s,l),!0},Wk.prototype._createParticipantHit=function(s,l){return this._interactionEvents.removeHits(l),this._interactionEvents.createBoxHit(l,"no-move",{width:s.width,height:s.height}),this._interactionEvents.createBoxHit(l,"click-stroke",{width:s.width,height:s.height}),this._interactionEvents.createBoxHit(l,"all",{width:30,height:s.height}),!0},Wk.prototype._createSubProcessHit=function(s,l){return this._interactionEvents.removeHits(l),this._interactionEvents.createBoxHit(l,"no-move",{width:s.width,height:s.height}),this._interactionEvents.createBoxHit(l,"click-stroke",{width:s.width,height:s.height}),this._interactionEvents.createBoxHit(l,"all",{width:s.width,height:30}),!0};var $pe={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Wk]};function FR(s){s.invoke(va,this)}t(FR,va),FR.$inject=["injector"],FR.prototype.registerBindings=function(s,l){function d(f,p){l.isRegistered(f)&&s.addListener(p)}va.prototype.registerBindings.call(this,s,l),d("selectElements",function(f){var p=f.keyEvent;if(s.isKey(["a","A"],p)&&s.isCmd(p))return l.trigger("selectElements"),!0}),d("find",function(f){var p=f.keyEvent;if(s.isKey(["f","F"],p)&&s.isCmd(p))return l.trigger("find"),!0}),d("spaceTool",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["s","S"],p)?(l.trigger("spaceTool"),!0):void 0}),d("lassoTool",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["l","L"],p)?(l.trigger("lassoTool"),!0):void 0}),d("handTool",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["h","H"],p)?(l.trigger("handTool"),!0):void 0}),d("globalConnectTool",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["c","C"],p)?(l.trigger("globalConnectTool"),!0):void 0}),d("directEditing",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["e","E"],p)?(l.trigger("directEditing"),!0):void 0}),d("replaceElement",function(f){var p=f.keyEvent;if(!s.hasModifier(p))return s.isKey(["r","R"],p)?(l.trigger("replaceElement",p),!0):void 0})};var Bpe={__depends__:[Fd],__init__:["keyboardBindings"],keyboardBindings:["type",FR]},jpe={moveSpeed:1,moveSpeedAccelerated:10},zz="left",Hz="right",Wz="down",Vpe={ArrowLeft:zz,Left:zz,ArrowUp:"up",Up:"up",ArrowRight:Hz,Right:Hz,ArrowDown:Wz,Down:Wz},zpe={left:function(s){return{x:-s,y:0}},up:function(s){return{x:0,y:-s}},right:function(s){return{x:s,y:0}},down:function(s){return{x:0,y:s}}};function qz(s,l,d,f,p){var g=this;this._config=ve({},jpe,s||{}),l.addListener(1500,function(b){var w=b.keyEvent,S=Vpe[w.key];if(S&&!l.isCmd(w)){var O=l.isShift(w);return g.moveSelection(S,O),!0}}),this.moveSelection=function(b,w){var S=p.get();if(S.length){var O=this._config[w?"moveSpeedAccelerated":"moveSpeed"],M=zpe[b](O);f.allowed("elements.move",{shapes:S})&&d.moveElements(S,M)}}}qz.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var Hpe={__depends__:[Fd,ur],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",qz]};function qk(s,l,d,f){this._dragging=f,this._rules=l;var p=this;function g(b,w){var S,O=b.shape,M=b.direction,A=b.resizeConstraints;b.delta=w,S=function(L,z,H){var Q=H.x,re=H.y,X={x:L.x,y:L.y,width:L.width,height:L.height};return z.indexOf("n")!==-1?(X.y=L.y+re,X.height=L.height-re):z.indexOf("s")!==-1&&(X.height=L.height+re),z.indexOf("e")!==-1?X.width=L.width+Q:z.indexOf("w")!==-1&&(X.x=L.x+Q,X.width=L.width-Q),X}(O,M,w),b.newBounds=function(L,z){if(!z)return L;var H=Ln(L);return ta({top:Qu("top",H,z),right:Qu("right",H,z),bottom:Qu("bottom",H,z),left:Qu("left",H,z)})}(S,A),b.canExecute=p.canResize(b)}s.on("resize.start",function(b){var w,S,O;w=b.context,S=w.resizeConstraints,O=w.minBounds,S===void 0&&(O===void 0&&(O=p.computeMinResizeBox(w)),w.resizeConstraints={min:Ln(O)})}),s.on("resize.move",function(b){var w={x:b.dx,y:b.dy};g(b.context,w)}),s.on("resize.end",function(b){(function(w){var S=w.shape,O=w.canExecute,M=w.newBounds;if(O){if(!function(A,L){return A.x!==L.x||A.y!==L.y||A.width!==L.width||A.height!==L.height}(S,M=h0(M)))return;d.resizeShape(S,M)}})(b.context)})}function Uz(s,l){var d=Pn(s),f=Ln(s),p={x:d.x,y:d.y};return l.indexOf("n")!==-1?p.y=f.top:l.indexOf("s")!==-1&&(p.y=f.bottom),l.indexOf("e")!==-1?p.x=f.right:l.indexOf("w")!==-1&&(p.x=f.left),p}function Wpe(s){var l="resize-";return s==="n"||s==="s"?l+"ns":s==="e"||s==="w"?l+"ew":s==="nw"||s==="se"?l+"nwse":l+"nesw"}qk.prototype.canResize=function(s){var l=this._rules,d=vt(s,["newBounds","shape","delta","direction"]);return l.allowed("shape.resize",d)},qk.prototype.activate=function(s,l,d){var f,p,g=this._dragging;if(typeof d=="string"&&(d={direction:d}),!(p=(f=ve({shape:l},d)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");g.init(s,Uz(l,p),"resize",{autoActivate:!0,cursor:Wpe(p),data:{shape:l,context:f}})},qk.prototype.computeMinResizeBox=function(s){var l=s.shape;return function(d,f,p,g){var b=Ln(f),w={top:/n/.test(d)?b.bottom-p.height:b.top,left:/w/.test(d)?b.right-p.width:b.left,bottom:/s/.test(d)?b.top+p.height:b.bottom,right:/e/.test(d)?b.left+p.width:b.right},S=g?Ln(g):w;return ta({top:Da(w.top,S.top),left:Da(w.left,S.left),bottom:Dx(w.bottom,S.bottom),right:Dx(w.right,S.right)})}(s.direction,l,s.minDimensions||{width:10,height:10},CA(l,s.childrenBoxPadding))},qk.$inject=["eventBus","rules","modeling","dragging"];var Gz="djs-resizing",Yz="resize-not-ok";function Qz(s,l,d){s.on("resize.move",500,function(f){var p,g,b,w;p=f.context,g=p.shape,b=p.newBounds,(w=p.frame)||(w=p.frame=d.addFrame(g,l.getActiveLayer()),l.addMarker(g,Gz)),b.width>5&&Ct(w,{x:b.x,width:b.width}),b.height>5&&Ct(w,{y:b.y,height:b.height}),p.canExecute?fe(w).remove(Yz):fe(w).add(Yz)}),s.on("resize.cleanup",function(f){var p,g;p=f.context,g=p.shape,p.frame&&Ie(p.frame),l.removeMarker(g,Gz)})}Qz.$inject=["eventBus","canvas","previewSupport"];var Kz=-6,Uk="djs-resizer",qpe=["n","w","s","e","nw","ne","se","sw"];function vy(s,l,d,f){this._resize=f,this._canvas=l;var p=this;s.on("selection.changed",function(g){var b=g.newSelection;p.removeResizers(),b.length===1&&I(b,rt(p.addResizer,p))}),s.on("shape.changed",function(g){var b=g.element;d.isSelected(b)&&(p.removeResizers(),p.addResizer(b))})}vy.prototype.makeDraggable=function(s,l,d){var f=this._resize;function p(g){kn(g)&&f.activate(g,s,d)}Xt.bind(l,"mousedown",p),Xt.bind(l,"touchstart",p)},vy.prototype._createResizer=function(s,l,d,f){var p=this._getResizersParent(),g=function(O){var M={x:0,y:0};return O.indexOf("e")!==-1?M.x=6:O.indexOf("w")!==-1&&(M.x=Kz),O.indexOf("s")!==-1?M.y=6:O.indexOf("n")!==-1&&(M.y=Kz),M}(f),b=Rt("g");fe(b).add(Uk),fe(b).add(Uk+"-"+s.id),fe(b).add(Uk+"-"+f),ct(p,b);var w=Rt("rect");Ct(w,{x:-4+g.x,y:-4+g.y,width:8,height:8}),fe(w).add(Uk+"-visual"),ct(b,w);var S=Rt("rect");return Ct(S,{x:-10+g.x,y:-10+g.y,width:20,height:20}),fe(S).add(Uk+"-hit"),ct(b,S),Vu(b,l,d),b},vy.prototype.createResizer=function(s,l){var d=Uz(s,l),f=this._createResizer(s,d.x,d.y,l);this.makeDraggable(s,f,l)},vy.prototype.addResizer=function(s){var l=this;!Si(s)&&this._resize.canResize({shape:s})&&I(qpe,function(d){l.createResizer(s,d)})},vy.prototype.removeResizers=function(){pt(this._getResizersParent())},vy.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},vy.$inject=["eventBus","canvas","selection","resize"];var Xz={__depends__:[zd,Gf,Rm],__init__:["resize","resizePreview","resizeHandles"],resize:["type",qk],resizePreview:["type",Qz],resizeHandles:["type",vy]};function Gk(s,l,d,f,p,g,b){function w(S,O){(O||Sr(S,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||XI(S))&&f.activate(S)}this._bpmnFactory=l,this._canvas=d,this._modeling=p,this._textRenderer=b,f.registerProvider(this),s.on("element.dblclick",function(S){w(S.element,!0)}),s.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){f.isActive()&&f.complete()}),s.on(["shape.remove","connection.remove"],2e3,function(S){f.isActive(S.element)&&f.cancel()}),s.on(["commandStack.changed"],function(S){f.isActive()&&f.cancel()}),s.on("directEditing.activate",function(S){g.removeResizers()}),s.on("create.end",500,function(S){var O=S.context,M=O.shape,A=S.context.canExecute;S.isTouch||A&&(O.hints&&O.hints.createElementsBehavior===!1||w(M))}),s.on("autoPlace.end",500,function(S){w(S.shape)})}function XI(s){return ie(s,"bpmn:SubProcess")&&!Dr(s)}Gk.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],Gk.prototype.activate=function(s){var l=Ii(s);if(l!==void 0){var d={text:l};ve(d,this.getEditingBBox(s));var f={};return(Sr(s,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||XI(s))&&ve(f,{centerVertically:!0}),jf(s)&&ve(f,{autoResize:!0}),ie(s,"bpmn:TextAnnotation")&&ve(f,{resizable:!0,autoResize:!0}),ve(d,{options:f}),d}},Gk.prototype.getEditingBBox=function(s){var l=this._canvas,d=s.label||s,f=l.getAbsoluteBBox(d),p=f.x+f.width/2,g=f.y+f.height/2,b={x:f.x,y:f.y},w=l.zoom(),S=this._textRenderer.getDefaultStyle(),O=this._textRenderer.getExternalStyle(),M=O.fontSize*w,A=O.lineHeight,L=S.fontSize*w,z=S.lineHeight,H={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(ie(s,"bpmn:Lane")||function(He){return ie(He,"bpmn:Participant")&&Dr(He)}(s)){var Q=go(s);ve(b,Q?{width:f.height,height:30*w,x:f.x-f.height/2+15*w,y:g-30*w/2}:{width:f.width,height:30*w}),ve(H,{fontSize:L+"px",lineHeight:z,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px",transform:Q?"rotate(-90deg)":null})}if(function(He){return ie(He,"bpmn:Participant")&&!Dr(He)}(s)){var re=go(s);ve(b,re?{width:f.width,height:f.height}:{width:f.height,height:f.width,x:p-f.height/2,y:g-f.width/2}),ve(H,{fontSize:L+"px",lineHeight:z,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px",transform:re?null:"rotate(-90deg)"})}(Sr(s,["bpmn:Task","bpmn:CallActivity"])||XI(s))&&(ve(b,{width:f.width,height:f.height}),ve(H,{fontSize:L+"px",lineHeight:z,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px"})),function(He){return ie(He,"bpmn:SubProcess")&&Dr(He)}(s)&&(ve(b,{width:f.width,x:f.x}),ve(H,{fontSize:L+"px",lineHeight:z,paddingTop:7*w+"px",paddingBottom:7*w+"px",paddingLeft:5*w+"px",paddingRight:5*w+"px"}));var X=90*w,K=7*w,ue=4*w;if(d.labelTarget&&(ve(b,{width:X,height:f.height+K+ue,x:p-X/2,y:f.y-K}),ve(H,{fontSize:M+"px",lineHeight:A,paddingTop:K+"px",paddingBottom:ue+"px"})),jf(d)&&!Bg(d)&&!jr(d)){var me=jg(s),ge=l.getAbsoluteBBox({x:me.x,y:me.y,width:0,height:0}),$e=M+K+ue;ve(b,{width:X,height:$e,x:ge.x-X/2,y:ge.y-$e/2}),ve(H,{fontSize:M+"px",lineHeight:A,paddingTop:K+"px",paddingBottom:ue+"px"})}return ie(s,"bpmn:TextAnnotation")&&(ve(b,{width:f.width,height:f.height,minWidth:30*w,minHeight:10*w}),ve(H,{textAlign:"left",paddingTop:5*w+"px",paddingBottom:7*w+"px",paddingLeft:7*w+"px",paddingRight:5*w+"px",fontSize:L+"px",lineHeight:z})),{bounds:b,style:H}},Gk.prototype.update=function(s,l,d,f){var p,g,b;ie(s,"bpmn:TextAnnotation")&&(g=this._canvas.getAbsoluteBBox(s),p={x:s.x,y:s.y,width:s.width/g.width*f.width,height:s.height/g.height*f.height}),(b=l)&&b.trim()||(l=null),this._modeling.updateLabel(s,l,p)};var Zz="djs-element-hidden",Jz="djs-label-hidden";function eH(s,l,d){var f,p,g,b=this,w=l.getDefaultLayer();s.on("directEditing.activate",function(S){var O=S.active;if(ie(f=O.element.label||O.element,"bpmn:TextAnnotation")){p=l.getAbsoluteBBox(f),g=Rt("g");var M=d.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:f.width,containerHeight:f.height,position:{mx:0,my:0}}),A=b.path=Rt("path");Ct(A,{d:M,strokeWidth:2,stroke:Upe(f)}),ct(g,A),ct(w,g),ps(g,f.x,f.y)}ie(f,"bpmn:TextAnnotation")||f.labelTarget?l.addMarker(f,Zz):(ie(f,"bpmn:Task")||ie(f,"bpmn:CallActivity")||ie(f,"bpmn:SubProcess")||ie(f,"bpmn:Participant"))&&l.addMarker(f,Jz)}),s.on("directEditing.resize",function(S){if(ie(f,"bpmn:TextAnnotation")){var O=S.height,M=S.dy,A=Math.max(f.height/p.height*(O+M),0),L=d.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:f.width,containerHeight:A,position:{mx:0,my:0}});Ct(b.path,{d:L})}}),s.on(["directEditing.complete","directEditing.cancel"],function(S){var O=S.active;O&&(l.removeMarker(O.element.label||O.element,Zz),l.removeMarker(f,Jz)),f=void 0,p=void 0,g&&(Ie(g),g=void 0)})}function Upe(s,l){return Qr(s).get("stroke")||l||"black"}eH.$inject=["eventBus","canvas","pathMap"];var Gpe={__depends__:[dr,Xz,Tz],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Gk],labelEditingPreview:["type",eH]},Ype=new tr("tt");function ZI(s,l){s.style.display=l===!1?"none":""}var tH="djs-tooltip",JI="."+tH;function Ac(s,l){var d,f;this._eventBus=s,this._canvas=l,this._ids=Ype,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(d=l.getContainer(),mn(f=_r('<div class="djs-tooltip-container" />'),{position:"absolute",width:"0",height:"0"}),d.insertBefore(f,d.firstChild),f);var p=this;fi.bind(this._tooltipRoot,JI,"mousedown",function(g){g.stopPropagation()}),fi.bind(this._tooltipRoot,JI,"mouseover",function(g){p.trigger("mouseover",g)}),fi.bind(this._tooltipRoot,JI,"mouseout",function(g){p.trigger("mouseout",g)}),this._init()}Ac.$inject=["eventBus","canvas"],Ac.prototype.add=function(s){if(!s.position)throw new Error("must specifiy tooltip position");if(!s.html)throw new Error("must specifiy tooltip html");var l=this._ids.next();return s=ve({},this._tooltipDefaults,s,{id:l}),this._addTooltip(s),s.timeout&&this.setTimeout(s),l},Ac.prototype.trigger=function(s,l){var d=l.delegateTarget||l.target,f=this.get(En(d,"data-tooltip-id"));f&&(s==="mouseover"&&f.timeout&&this.clearTimeout(f),s==="mouseout"&&f.timeout&&(f.timeout=1e3,this.setTimeout(f)))},Ac.prototype.get=function(s){return typeof s!="string"&&(s=s.id),this._tooltips[s]},Ac.prototype.clearTimeout=function(s){if(s=this.get(s)){var l=s.removeTimer;l&&(clearTimeout(l),s.removeTimer=null)}},Ac.prototype.setTimeout=function(s){if(s=this.get(s)){this.clearTimeout(s);var l=this;s.removeTimer=setTimeout(function(){l.remove(s)},s.timeout)}},Ac.prototype.remove=function(s){var l=this.get(s);l&&(Di(l.html),Di(l.htmlContainer),delete l.htmlContainer,delete this._tooltips[l.id])},Ac.prototype.show=function(){ZI(this._tooltipRoot)},Ac.prototype.hide=function(){ZI(this._tooltipRoot,!1)},Ac.prototype._updateRoot=function(s){var l=s.scale||1,d=s.scale||1,f="matrix("+l+",0,0,"+d+","+-1*s.x*l+","+-1*s.y*d+")";this._tooltipRoot.style.transform=f,this._tooltipRoot.style["-ms-transform"]=f},Ac.prototype._addTooltip=function(s){var l,d=s.id,f=s.html,p=this._tooltipRoot;f.get&&f.constructor.prototype.jquery&&(f=f.get(0)),T(f)&&(f=_r(f)),mn(l=_r('<div data-tooltip-id="'+d+'" class="'+tH+'">'),{position:"absolute"}),l.appendChild(f),s.type&&nr(l).add("djs-tooltip-"+s.type),s.className&&nr(l).add(s.className),s.htmlContainer=l,p.appendChild(l),this._tooltips[d]=s,this._updateTooltip(s)},Ac.prototype._updateTooltip=function(s){var l=s.position;(function(d,f,p){mn(d,{left:f+"px",top:p+"px"})})(s.htmlContainer,l.x,l.y)},Ac.prototype._updateTooltipVisibilty=function(s){I(this._tooltips,function(l){var d=l.show,f=l.htmlContainer,p=!0;d&&((d.minZoom>s.scale||d.maxZoom<s.scale)&&(p=!1),ZI(f,p))})},Ac.prototype._init=function(){var s=this;this._eventBus.on("canvas.viewbox.changing",function(l){s.hide()}),this._eventBus.on("canvas.viewbox.changed",function(l){var d;d=l.viewbox,s._updateRoot(d),s._updateTooltipVisibilty(d),s.show()})};var Qpe={__init__:["tooltips"],tooltips:["type",Ac]};function nH(s,l,d){s.on(["shape.move.rejected","create.rejected"],function(f){var p,g,b=f.context,w=b.shape;ie(b.target,"bpmn:Collaboration")&&ie(w,"bpmn:FlowNode")&&(p=f,g=d("flow elements must be children of pools/participants"),l.add({position:{x:p.x+5,y:p.y+5},type:"error",timeout:2e3,html:"<div>"+g+"</div>"}))})}nH.$inject=["eventBus","tooltips","translate"];var Kpe={__depends__:[Qpe],__init__:["modelingFeedback"],modelingFeedback:["type",nH]},$R=Math.round;function rH(s,l,d,f,p){function g(w,S,O,M){return p.allowed("elements.move",{shapes:w,delta:S,position:O,target:M})}function b(w,S,O,M){if(_(O)&&(M=O,O=!1),!S.waypoints&&S.parent&&!fe(w.target).has("djs-hit-no-move")){var A=function(L){return{x:L.x+$R(L.width/2),y:L.y+$R(L.height/2)}}(S);return l.init(w,A,"shape.move",{cursor:"grabbing",autoActivate:O,data:{shape:S,context:M||{}}}),!0}}s.on("shape.move.start",1500,function(w){var S=w.context,O=w.shape,M=f.get().slice();M.indexOf(O)===-1&&(M=[O]),M=function(A){var L=we(A,"id");return B(A,function(z){for(;z=z.parent;)if(L[z.id])return!1;return!0})}(M),ve(S,{shapes:M,validatedShapes:M,shape:O})}),s.on("shape.move.start",1250,function(w){var S=w.context,O=S.validatedShapes;if(!(S.canExecute=g(O)))return!1}),s.on("shape.move.move",500,function(w){var S,O=w.context,M=O.validatedShapes,A=w.hover,L={x:w.dx,y:w.dy};S=g(M,L,{x:w.x,y:w.y},A),O.delta=L,O.canExecute=S,O.target=S!==null?A:null}),s.on("shape.move.end",function(w){var S=w.context,O=S.delta,M=S.canExecute,A=M==="attach",L=S.shapes;if(M===!1)return!1;O.x=$R(O.x),O.y=$R(O.y),O.x===0&&O.y===0||d.moveElements(L,O,S.target,{primaryShape:S.shape,attach:A})}),s.on("element.mousedown",function(w){if(kn(w)){var S=st(w);if(!S)throw new Error("must supply DOM mousedown event");return b(S,w.element)}}),this.start=b}rH.$inject=["eventBus","dragging","modeling","selection","rules"];var eL="djs-dragging",iH="drop-ok",oH="drop-not-ok",sH="new-parent",aH="attach-ok";function lH(s,l,d,f){function p(w){var S=function(O){var M=B(O,function(A){return!Si(A)||$(O,ze({id:A.source.id}))&&$(O,ze({id:A.target.id}))});return M}(g(w));return S}function g(w){var S=dc(w,!0),O=Te(S,function(M){return(M.incoming||[]).concat(M.outgoing||[])});return o(S.concat(O))}function b(w,S){[aH,iH,oH,sH].forEach(function(O){O===S?l.addMarker(w,O):l.removeMarker(w,O)})}s.on("shape.move.start",499,function(w){var S,O=w.context,M=O.shapes,A=O.allDraggedElements,L=p(M);if(!O.dragGroup){var z=Rt("g");Ct(z,d.cls("djs-drag-group",["no-events"])),ct(l.getActiveLayer(),z),O.dragGroup=z}L.forEach(function(H){f.addDragger(H,O.dragGroup)}),I(A=A?o([A,g(M)]):g(M),function(H){l.addMarker(H,eL)}),O.allDraggedElements=A,O.differentParents=(S=we(M,function(H){return H.parent&&H.parent.id}),Me(S).length!==1)}),s.on("shape.move.move",499,function(w){var S=w.context,O=S.dragGroup,M=S.target,A=S.shape.parent,L=S.canExecute;M&&(L==="attach"?b(M,aH):S.canExecute&&M&&M.id!==A.id?b(M,sH):b(M,S.canExecute?iH:oH)),ps(O,w.dx,w.dy)}),s.on(["shape.move.out","shape.move.cleanup"],function(w){var S=w.context.target;S&&b(S,null)}),s.on("shape.move.cleanup",function(w){var S=w.context,O=S.allDraggedElements,M=S.dragGroup;I(O,function(A){l.removeMarker(A,eL)}),M&&Ie(M)}),this.makeDraggable=function(w,S,O){f.addDragger(S,w.dragGroup),O&&l.addMarker(S,eL),w.allDraggedElements?w.allDraggedElements.push(S):w.allDraggedElements=[S]}}lH.$inject=["eventBus","canvas","styles","previewSupport"];var Xpe={__depends__:[Lt,ur,gr,zd,Gf,Rm],__init__:["move","movePreview"],move:["type",rH],movePreview:["type",lH]};const Zpe={width:36,height:50},Jpe={width:50,height:50};function cH(s,l,d){return Rt("path",{d:s,strokeWidth:2,transform:`translate(${l.x}, ${l.y})`,...d})}function BR(s,l){this._styles=l,s.registerProvider(this)}function uH(s,l){var d;return l==="bpmn:DataObjectReference"?d=Zpe:l==="bpmn:DataStoreReference"&&(d=Jpe),s.width===d.width&&s.height===d.height}BR.$inject=["outline","styles"],BR.prototype.getOutline=function(s){const l=this._styles.cls("djs-outline",["no-fill"]);var d;if(!jr(s))return ie(s,"bpmn:Gateway")?(ve((d=Rt("rect")).style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),Ct(d,ve({x:2,y:2,rx:4,width:s.width-4,height:s.height-4},l))):Sr(s,["bpmn:Task","bpmn:SubProcess","bpmn:Group"])?Ct(d=Rt("rect"),ve({x:-5,y:-5,rx:14,width:s.width+10,height:s.height+10},l)):ie(s,"bpmn:EndEvent")?Ct(d=Rt("circle"),ve({cx:s.width/2,cy:s.height/2,r:s.width/2+5+1},l)):ie(s,"bpmn:Event")?Ct(d=Rt("circle"),ve({cx:s.width/2,cy:s.height/2,r:s.width/2+5},l)):ie(s,"bpmn:DataObjectReference")&&uH(s,"bpmn:DataObjectReference")?d=cH("M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",{x:-6,y:-6},l):ie(s,"bpmn:DataStoreReference")&&uH(s,"bpmn:DataStoreReference")&&(d=cH("M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",{x:-6,y:-6},l)),d},BR.prototype.updateOutline=function(s,l){if(!jr(s))return Sr(s,["bpmn:SubProcess","bpmn:Group"])?(Ct(l,{width:s.width+10,height:s.height+10}),!0):!!Sr(s,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};var eme={__depends__:[gr],__init__:["outlineProvider"],outlineProvider:["type",BR]},dH=".djs-palette-toggle",fH=".entry",tme=dH+", "+fH,tL="djs-palette-",nL="open",hH="two-column";function Gs(s,l){this._eventBus=s,this._canvas=l;var d=this;s.on("tool-manager.update",function(f){var p=f.tool;d.updateToolHighlight(p)}),s.on("i18n.changed",function(){d._update()}),s.on("diagram.init",function(){d._diagramInitialized=!0,d._rebuild()})}function nme(s,l){var d=l.getPaletteEntries();return R(d)?d(s):(I(d,function(f,p){s[p]=f}),s)}Gs.$inject=["eventBus","canvas"],Gs.prototype.registerProvider=function(s,l){l||(l=s,s=1e3),this._eventBus.on("palette.getProviders",s,function(d){d.providers.push(l)}),this._rebuild()},Gs.prototype.getEntries=function(){return this._getProviders().reduce(nme,{})},Gs.prototype._rebuild=function(){this._diagramInitialized&&this._getProviders().length&&(this._container||this._init(),this._update())},Gs.prototype._init=function(){var s=this,l=this._eventBus,d=this._getParentContainer(),f=this._container=_r(Gs.HTML_MARKUP);d.appendChild(f),nr(d).add(tL+"shown"),fi.bind(f,tme,"click",function(p){if(We(p.delegateTarget,dH))return s.toggle();s.trigger("click",p)}),Xt.bind(f,"mousedown",function(p){p.stopPropagation()}),fi.bind(f,fH,"dragstart",function(p){s.trigger("dragstart",p)}),l.on("canvas.resized",this._layoutChanged,this),l.fire("palette.create",{container:f})},Gs.prototype._getProviders=function(s){var l=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(l),l.providers},Gs.prototype._toggleState=function(s){s=s||{};var l,d=this._getParentContainer(),f=this._container,p=this._eventBus,g=nr(f),b=nr(d);l="twoColumn"in s?s.twoColumn:this._needsCollapse(d.clientHeight,this._entries||{}),g.toggle(hH,l),b.toggle(tL+hH,l),"open"in s&&(g.toggle(nL,s.open),b.toggle(tL+nL,s.open)),p.fire("palette.changed",{twoColumn:l,open:this.isOpen()})},Gs.prototype._update=function(){var s=mr(".djs-palette-entries",this._container),l=this._entries=this.getEntries();Re(s),I(l,function(d,f){var p=d.group||"default",g=mr("[data-group="+Uo(p)+"]",s);g||(En(g=_r('<div class="group"></div>'),"data-group",p),s.appendChild(g));var b=d.html||(d.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),w=_r(b);if(g.appendChild(w),!d.separator&&(En(w,"data-action",f),d.title&&En(w,"title",d.title),d.className&&function(O,M){var A=nr(O);(v(M)?M:M.split(/\s+/g)).forEach(function(L){A.add(L)})}(w,d.className),d.imageUrl)){var S=_r("<img>");En(S,"src",d.imageUrl),w.appendChild(S)}}),this.open()},Gs.prototype.trigger=function(s,l,d){var f,p,g=l.delegateTarget||l.target;return g?(f=En(g,"data-action"),p=l.originalEvent||l,this.triggerEntry(f,s,p,d)):l.preventDefault()},Gs.prototype.triggerEntry=function(s,l,d,f){var p,g;if((p=this._entries[s])&&(g=p.action,this._eventBus.fire("palette.trigger",{entry:p,event:d})!==!1)){if(R(g)){if(l==="click")return g(d,f)}else if(g[l])return g[l](d,f);d.preventDefault()}},Gs.prototype._layoutChanged=function(){this._toggleState({})},Gs.prototype._needsCollapse=function(s,l){return s<46*Object.keys(l).length+50},Gs.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},Gs.prototype.open=function(){this._toggleState({open:!0})},Gs.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Gs.prototype.isActiveTool=function(s){return s&&this._activeTool===s},Gs.prototype.updateToolHighlight=function(s){var l;this._toolsContainer||(l=mr(".djs-palette-entries",this._container),this._toolsContainer=mr("[data-group=tools]",l)),I(this._toolsContainer.children,function(d){var f=d.getAttribute("data-action");if(f){var p=nr(d);f=f.replace("-tool",""),p.contains("entry")&&f===s?p.add("highlighted-entry"):p.remove("highlighted-entry")}})},Gs.prototype.isOpen=function(){return nr(this._container).has(nL)},Gs.prototype._getParentContainer=function(){return this._canvas.getContainer()},Gs.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var rme={__init__:["palette"],palette:["type",Gs]},pH="crosshair";function r1(s,l,d,f,p,g,b){this._selection=p,this._dragging=d,this._mouse=b;var w=this,S=function(A){var L,z=l.getActiveLayer();Ct(L=A.frame=Rt("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),ct(z,L)},O=function(A){var L=A.frame,z=A.bbox;Ct(L,{x:z.x,y:z.y,width:z.width,height:z.height})},M=function(A){A.frame&&Ie(A.frame)};g.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),s.on("lasso.selection.end",function(A){var L=A.originalEvent.target;(A.hover||L instanceof SVGElement)&&s.once("lasso.selection.ended",function(){w.activateLasso(A.originalEvent,!0)})}),s.on("lasso.end",function(A){var L=rL(A),z=f.filter(function(H){return H});w.select(z,L)}),s.on("lasso.start",function(A){var L=A.context;L.bbox=rL(A),S(L)}),s.on("lasso.move",function(A){var L=A.context;L.bbox=rL(A),O(L)}),s.on("lasso.cleanup",function(A){var L=A.context;M(L)}),s.on("element.mousedown",1500,function(A){if(et(A))return w.activateLasso(A.originalEvent),!0})}function rL(s){var l={x:s.x-s.dx,y:s.y-s.dy},d={x:s.x,y:s.y};return l.x<=d.x&&l.y<d.y||l.x<d.x&&l.y<=d.y?{x:l.x,y:l.y,width:d.x-l.x,height:d.y-l.y}:l.x>=d.x&&l.y<d.y||l.x>d.x&&l.y<=d.y?{x:d.x,y:l.y,width:l.x-d.x,height:d.y-l.y}:l.x<=d.x&&l.y>d.y||l.x<d.x&&l.y>=d.y?{x:l.x,y:d.y,width:d.x-l.x,height:l.y-d.y}:l.x>=d.x&&l.y>d.y||l.x>d.x&&l.y>=d.y?{x:d.x,y:d.y,width:l.x-d.x,height:l.y-d.y}:{x:d.x,y:d.y,width:0,height:0}}r1.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],r1.prototype.activateLasso=function(s,l){this._dragging.init(s,"lasso",{autoActivate:l,cursor:pH,data:{context:{}}})},r1.prototype.activateSelection=function(s,l){this._dragging.init(s,"lasso.selection",{trapClick:!1,autoActivate:l,cursor:pH,data:{context:{}}})},r1.prototype.select=function(s,l){var d=function(f,p){var g={};return I(f,function(b){var w=b;w.waypoints&&(w=So(w)),!k(p.y)&&w.x>p.x&&(g[b.id]=b),!k(p.x)&&w.y>p.y&&(g[b.id]=b),w.x>p.x&&w.y>p.y&&(k(p.width)&&k(p.height)&&w.width+w.x<p.width+p.x&&w.height+w.y<p.height+p.y?g[b.id]=b:k(p.width)&&k(p.height)||(g[b.id]=b))}),g}(s,l);this._selection.select(Ee(d))},r1.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var s=this._mouse.getLastMoveEvent();this.activateSelection(s,!!s)},r1.prototype.isActive=function(){var s=this._dragging.context();return s&&/^lasso/.test(s.prefix)};var ime={__depends__:[Ae,X0],__init__:["lassoTool"],lassoTool:["type",r1]},iL=1500,mH="grab";function Jx(s,l,d,f,p,g){this._dragging=d,this._mouse=g;var b=this,w=f.get("keyboard",!1);p.registerTool("hand",{tool:"hand",dragging:"hand.move"}),s.on("element.mousedown",iL,function(S){if(mt(S))return b.activateMove(S.originalEvent,!0),!1}),w&&w.addListener(iL,function(S){if(gH(S.keyEvent)&&!b.isActive()){var O=b._mouse.getLastMoveEvent();b.activateMove(O,!!O)}},"keyboard.keydown"),w&&w.addListener(iL,function(S){gH(S.keyEvent)&&b.isActive()&&b.toggle()},"keyboard.keyup"),s.on("hand.end",function(S){var O=S.originalEvent.target;if(!(S.hover||O instanceof SVGElement))return!1;s.once("hand.ended",function(){b.activateMove(S.originalEvent,{reactivate:!0})})}),s.on("hand.move.move",function(S){var O=l.viewbox().scale;l.scroll({dx:S.dx*O,dy:S.dy*O})}),s.on("hand.move.end",function(S){var O=S.context.reactivate;return!mt(S)&&O&&s.once("hand.move.ended",function(M){b.activateHand(M.originalEvent,!0,!0)}),!1})}function gH(s){return Ui("Space",s)}Jx.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],Jx.prototype.activateMove=function(s,l,d){typeof l=="object"&&(d=l,l=!1),this._dragging.init(s,"hand.move",{autoActivate:l,cursor:mH,data:{context:d||{}}})},Jx.prototype.activateHand=function(s,l,d){this._dragging.init(s,"hand",{trapClick:!1,autoActivate:l,cursor:mH,data:{context:{reactivate:d}}})},Jx.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var s=this._mouse.getLastMoveEvent();this.activateHand(s,!!s)},Jx.prototype.isActive=function(){var s=this._dragging.context();return!!s&&/^(hand|hand\.move)$/.test(s.prefix)};var ome={__depends__:[Ae,X0],__init__:["handTool"],handTool:["type",Jx]},yH="connect-ok",vH="connect-not-ok";function ew(s,l,d,f,p,g,b){var w=this;this._dragging=l,this._rules=g,this._mouse=b,p.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),s.on("global-connect.hover",function(S){var O=S.context,M=S.hover,A=O.canStartConnect=w.canStartConnect(M);A!==null&&(O.startTarget=M,f.addMarker(M,A?yH:vH))}),s.on(["global-connect.out","global-connect.cleanup"],function(S){var O=S.context.startTarget,M=S.context.canStartConnect;O&&f.removeMarker(O,M?yH:vH)}),s.on(["global-connect.ended"],function(S){var O=S.context.startTarget,M={x:S.x,y:S.y};if(w.canStartConnect(O))return s.once("element.out",function(){s.once(["connect.ended","connect.canceled"],function(){s.fire("global-connect.drag.ended")}),d.start(null,O,M)}),!1})}ew.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],ew.prototype.start=function(s,l){this._dragging.init(s,"global-connect",{autoActivate:l,trapClick:!1,data:{context:{}}})},ew.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var s=this._mouse.getLastMoveEvent();return this.start(s,!!s)},ew.prototype.isActive=function(){var s=this._dragging.context();return s&&/^global-connect/.test(s.prefix)},ew.prototype.canStartConnect=function(s){return this._rules.allowed("connection.start",{source:s})};var sme={__depends__:[ny,zd,Gf,Ae,X0],globalConnect:["type",ew]};function oL(s,l,d,f,p,g,b,w){this._palette=s,this._create=l,this._elementFactory=d,this._spaceTool=f,this._lassoTool=p,this._handTool=g,this._globalConnect=b,this._translate=w,s.registerProvider(this)}oL.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],oL.prototype.getPaletteEntries=function(){var s={},l=this._create,d=this._elementFactory,f=this._spaceTool,p=this._lassoTool,g=this._handTool,b=this._globalConnect,w=this._translate;function S(A,L,z,H,Q){function re(X){var K=d.createShape(ve({type:A},Q));l.start(X,K)}return{group:L,className:z,title:H,action:{dragstart:re,click:re}}}function O(A){var L=d.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),z=d.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:L});l.start(A,[L,z],{hints:{autoSelect:[L]}})}function M(A){l.start(A,d.createParticipantShape())}return ve(s,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:w("Activate hand tool"),action:{click:function(A){g.activateHand(A)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:w("Activate lasso tool"),action:{click:function(A){p.activateSelection(A)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:w("Activate create/remove space tool"),action:{click:function(A){f.activateSelection(A)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:w("Activate global connect tool"),action:{click:function(A){b.start(A)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":S("bpmn:StartEvent","event","bpmn-icon-start-event-none",w("Create start event")),"create.intermediate-event":S("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",w("Create intermediate/boundary event")),"create.end-event":S("bpmn:EndEvent","event","bpmn-icon-end-event-none",w("Create end event")),"create.exclusive-gateway":S("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",w("Create gateway")),"create.task":S("bpmn:Task","activity","bpmn-icon-task",w("Create task")),"create.data-object":S("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",w("Create data object reference")),"create.data-store":S("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",w("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:w("Create expanded sub-process"),action:{dragstart:O,click:O}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:w("Create pool/participant"),action:{dragstart:M,click:M}},"create.group":S("bpmn:Group","artifact","bpmn-icon-group",w("Create group"))}),s};var ame={__depends__:[rme,Zx,qV,ime,ome,sme,N],__init__:["paletteProvider"],paletteProvider:["type",oL]};function sL(s,l,d,f,p){Pt.call(this,s),s.on("shape.move.move",250,function(g){var b=g.context,w=b.canExecute;b.visualReplacements||(b.visualReplacements={}),w&&w.replacements?function(S){I(S.canExecute.replacements,function(O){var M=O.oldElementId,A={type:O.newElementType};if(!S.visualReplacements[M]){var L=l.get(M);ve(A,{x:L.x,y:L.y});var z=d.createShape(A);f.addShape(z,L.parent);var H=mr('[data-element-id="'+Uo(L.id)+'"]',S.dragGroup);H&&Ct(H,{display:"none"});var Q=p.addDragger(z,S.dragGroup);S.visualReplacements[M]=Q,f.removeShape(z)}})}(b):function(S){var O=S.visualReplacements;I(O,function(M,A){var L=mr('[data-element-id="'+Uo(A)+'"]',S.dragGroup);L&&Ct(L,{display:"inline"}),M.remove(),O[A]&&delete O[A]})}(b)})}sL.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],t(sL,Pt);var lme={__depends__:[Rm],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",sL]},aL=40,cme=20,ume=10,bH=20,xH=["x","y"],dme=Math.abs;function wH(s){s.on(["connect.hover","connect.move","connect.end"],1250,function(l){var d=l.context,f=d.canExecute,p=d.start,g=d.hover,b=d.source,w=d.target;l.originalEvent&&Sc(l.originalEvent)||(d.initialConnectionStart||(d.initialConnectionStart=d.connectionStart),f&&g&&function(S,O,M){xH.forEach(function(A){var L=SH(A,O);S[A]<O[A]+M?_s(S,A,O[A]+M):S[A]>O[A]+L-M&&_s(S,A,O[A]+L-M)})}(l,g,function(S){return ie(S,"bpmn:Task")?ume:cme}(g)),g&&function(S,O){return ae(O,function(M){return EH(S,M)})}(f,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(d.connectionStart=su(p),Sr(g,["bpmn:Event","bpmn:Gateway"])&&_H(l,su(g)),Sr(g,["bpmn:Task","bpmn:SubProcess"])&&function(S,O){var M=su(O);xH.forEach(function(A){(function(L,z,H){return L[H]>z[H]+bH&&L[H]<z[H]+SH(H,z)-bH})(S,O,A)&&_s(S,A,M[A])})}(l,g),ie(b,"bpmn:BoundaryEvent")&&w===b.host&&function(S){var O=S.context,M=O.source,A=O.target;if(!function(Q){var re=Q.hover,X=Q.source;return re&&X&&re===X}(O)){var L=su(M),z=na(L,A,-10),H=[];/top|bottom/.test(z)&&H.push("x"),/left|right/.test(z)&&H.push("y"),H.forEach(function(Q){var re,X=S[Q];dme(X-L[Q])<aL&&(re=X>L[Q]?L[Q]+aL:L[Q]-aL,_s(S,Q,re))})}}(l)):EH(f,"bpmn:MessageFlow")?(ie(p,"bpmn:Event")&&(d.connectionStart=su(p)),ie(g,"bpmn:Event")&&_H(l,su(g))):d.connectionStart=d.initialConnectionStart)})}function _H(s,l){_s(s,"x",l.x),_s(s,"y",l.y)}function EH(s,l){return s&&s.type===l}function SH(s,l){return s==="x"?l.width:l.height}function by(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function jR(){this._snapValues={}}wH.$inject=["eventBus"],by.prototype.getSnapOrigin=function(s){return this._snapOrigins[s]},by.prototype.setSnapOrigin=function(s,l){this._snapOrigins[s]=l,this._snapLocations.indexOf(s)===-1&&this._snapLocations.push(s)},by.prototype.addDefaultSnap=function(s,l){var d=this._defaultSnaps[s];d||(d=this._defaultSnaps[s]=[]),d.push(l)},by.prototype.getSnapLocations=function(){return this._snapLocations},by.prototype.setSnapLocations=function(s){this._snapLocations=s},by.prototype.pointsForTarget=function(s){var l=s.id||s,d=this._targets[l];return d||(d=this._targets[l]=new jR).initDefaults(this._defaultSnaps),d},jR.prototype.add=function(s,l){var d=this._snapValues[s];d||(d=this._snapValues[s]={x:[],y:[]}),d.x.indexOf(l.x)===-1&&d.x.push(l.x),d.y.indexOf(l.y)===-1&&d.y.push(l.y)},jR.prototype.snap=function(s,l,d,f){var p=this._snapValues[l];return p&&function(g,b,w){var S,O;for(w=w===void 0?10:w,S=0;S<b.length;S++)if(O=b[S],uA(O-g)<=w)return O}(s[d],p[d],f)},jR.prototype.initDefaults=function(s){var l=this;I(s||{},function(d,f){I(d,function(p){l.add(f,p)})})};var fme=1250;function mp(s,l,d){var f=this;this._elementRegistry=s,l.on(["create.start","shape.move.start"],function(p){f.initSnap(p)}),l.on(["create.move","create.end","shape.move.move","shape.move.end"],fme,function(p){var g=p.context,b=g.shape,w=g.snapContext,S=g.target;if((!p.originalEvent||!Sc(p.originalEvent))&&!Yf(p)&&S){var O=w.pointsForTarget(S);O.initialized||((O=f.addSnapTargetPoints(O,b,S)).initialized=!0),d.snap(p,O)}}),l.on(["create.cleanup","shape.move.cleanup"],function(){d.hide()})}mp.$inject=["elementRegistry","eventBus","snapping"],mp.prototype.initSnap=function(s){var l,d=this._elementRegistry,f=s.context,p=f.shape,g=f.snapContext;g||(g=f.snapContext=new by);var b=(l=d.get(p.id)?su(p,s):{x:s.x+su(p).x,y:s.y+su(p).y}).x-p.width/2,w=l.y-p.height/2,S=l.x+p.width/2,O=l.y+p.height/2;return g.setSnapOrigin("mid",{x:l.x-s.x,y:l.y-s.y}),jr(p)||(g.setSnapOrigin("top-left",{x:b-s.x,y:w-s.y}),g.setSnapOrigin("bottom-right",{x:S-s.x,y:O-s.y})),g},mp.prototype.addSnapTargetPoints=function(s,l,d){return I(this.getSnapTargets(l,d),function(f){if(jr(f))jr(l)&&s.add("mid",su(f));else if(Si(f)){if(f.waypoints.length<3)return;I(f.waypoints.slice(1,-1),function(p){s.add("mid",p)})}else s.add("mid",su(f))}),k(l.x)&&k(l.y)&&this._elementRegistry.get(l.id)&&s.add("mid",su(l)),s},mp.prototype.getSnapTargets=function(s,l){return pA(l).filter(function(d){return!d.hidden})};function tw(s,l){l.invoke(mp,this),s.on(["create.move","create.end"],1500,hme),s.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,function(d){var f=d.context,p=f.canExecute,g=f.target;p&&(p==="attach"||p.attach)&&!Yf(d)&&function(b,w){var S,O=Ln(w),M=qA(b,w),A=b.context,L=A.shape;S=L.parent?{x:0,y:0}:Pn(L),/top/.test(M)?_s(b,"y",O.top-S.y):/bottom/.test(M)&&_s(b,"y",O.bottom-S.y),/left/.test(M)?_s(b,"x",O.left-S.x):/right/.test(M)&&_s(b,"x",O.right-S.x)}(d,g)})}function hme(s){var l=s.context.createConstraints;if(l){var d=l.top,f=l.right,p=l.bottom,g=l.left;(g&&g>=s.x||f&&f<=s.x)&&_s(s,"x",s.x),(d&&d>=s.y||p&&p<=s.y)&&_s(s,"y",s.y)}}function kH(s,l){return s.indexOf(l)!==-1}function CH(s,l,d){return l?{x:s.x-d.x,y:s.y-d.y}:{x:s.x,y:s.y}}t(tw,mp),tw.$inject=["eventBus","injector"],tw.prototype.initSnap=function(s){var l=mp.prototype.initSnap.call(this,s),d=s.shape,f=!!this._elementRegistry.get(d.id);return I(d.outgoing,function(p){var g=p.waypoints[0];g=g.original||g,l.setSnapOrigin(p.id+"-docking",CH(g,f,s))}),I(d.incoming,function(p){var g=p.waypoints[p.waypoints.length-1];g=g.original||g,l.setSnapOrigin(p.id+"-docking",CH(g,f,s))}),ie(d,"bpmn:Participant")&&l.setSnapLocations(["top-left","bottom-right","mid"]),l},tw.prototype.addSnapTargetPoints=function(s,l,d){mp.prototype.addSnapTargetPoints.call(this,s,l,d);var f=this.getSnapTargets(l,d);I(f,function(g){var b;(function(w){return ie(w,"bpmn:SubProcess")&&Dr(w)?!0:ie(w,"bpmn:Participant")}(g)||(b="bpmn:TextAnnotation",[l,g].every(function(w){return ie(w,b)})))&&(s.add("top-left",fA(g)),s.add("bottom-right",hA(g)))});var p=this._elementRegistry;return I(l.incoming,function(g){if(p.get(l.id)){kH(f,g.source)||s.add("mid",Pn(g.source));var b=g.waypoints[0];s.add(g.id+"-docking",b.original||b)}}),I(l.outgoing,function(g){if(p.get(l.id)){kH(f,g.target)||s.add("mid",Pn(g.target));var b=g.waypoints[g.waypoints.length-1];s.add(g.id+"-docking",b.original||b)}}),ie(d,"bpmn:SequenceFlow")&&(s=this.addSnapTargetPoints(s,l,d.parent)),s},tw.prototype.getSnapTargets=function(s,l){return mp.prototype.getSnapTargets.call(this,s,l).filter(function(d){return!ie(d,"bpmn:Lane")})};function Yk(s,l){var d=this;s.on(["resize.start"],function(f){d.initSnap(f)}),s.on(["resize.move","resize.end"],1250,function(f){var p=f.context,g=p.shape,b=g.parent,w=p.direction,S=p.snapContext;if(!(f.originalEvent&&Sc(f.originalEvent)||Yf(f))){var O=S.pointsForTarget(b);O.initialized||((O=d.addSnapTargetPoints(O,g,b,w)).initialized=!0),function(M){return M==="n"||M==="s"}(w)&&_s(f,"x",f.x),function(M){return M==="e"||M==="w"}(w)&&_s(f,"y",f.y),l.snap(f,O)}}),s.on(["resize.cleanup"],function(){l.hide()})}function OH(s,l){var d=Pn(s),f=Ln(s),p={x:d.x,y:d.y};return l.indexOf("n")!==-1?p.y=f.top:l.indexOf("s")!==-1&&(p.y=f.bottom),l.indexOf("e")!==-1?p.x=f.right:l.indexOf("w")!==-1&&(p.x=f.left),p}Yk.prototype.initSnap=function(s){var l=s.context,d=l.shape,f=l.direction,p=l.snapContext;p||(p=l.snapContext=new by);var g=OH(d,f);return p.setSnapOrigin("corner",{x:g.x-s.x,y:g.y-s.y}),p},Yk.prototype.addSnapTargetPoints=function(s,l,d,f){return I(this.getSnapTargets(l,d),function(p){s.add("corner",hA(p)),s.add("corner",fA(p))}),s.add("corner",OH(l,f)),s},Yk.$inject=["eventBus","snapping"],Yk.prototype.getSnapTargets=function(s,l){return pA(l).filter(function(d){return f=d,p=s,!(f.host===p||Si(d)||function(g){return!!g.hidden}(d)||jr(d));var f,p})};function xy(s){this._canvas=s,this._asyncHide=Ye(rt(this.hide,this),1e3)}xy.$inject=["canvas"],xy.prototype.snap=function(s,l){var d=s.context.snapContext,f=d.getSnapLocations(),p={x:Yf(s,"x"),y:Yf(s,"y")};I(f,function(g){var b=d.getSnapOrigin(g),w={x:s.x+b.x,y:s.y+b.y};if(I(["x","y"],function(S){var O;p[S]||(O=l.snap(w,g,S,7))!==void 0&&(p[S]={value:O,originValue:O-b[S]})}),p.x&&p.y)return!1}),this.showSnapLine("vertical",p.x&&p.x.value),this.showSnapLine("horizontal",p.y&&p.y.value),I(["x","y"],function(g){var b=p[g];_(b)&&_s(s,g,b.originValue)})},xy.prototype._createLine=function(s){var l=this._canvas.getLayer("snap"),d=Rt("path");return Ct(d,{d:"M0,0 L0,0"}),fe(d).add("djs-snap-line"),ct(l,d),{update:function(f){k(f)?Ct(d,s==="horizontal"?{d:"M-100000,"+f+" L+100000,"+f,display:""}:{d:"M "+f+",-100000 L "+f+", +100000",display:""}):Ct(d,{display:"none"})}}},xy.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},xy.prototype.showSnapLine=function(s,l){var d=this.getSnapLine(s);d&&d.update(l),this._asyncHide()},xy.prototype.getSnapLine=function(s){return this._snapLines||this._createSnapLines(),this._snapLines[s]},xy.prototype.hide=function(){I(this._snapLines,function(s){s.update()})};var pme={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",mp],resizeSnapping:["type",Yk],snapping:["type",xy]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",wH],createMoveSnapping:["type",tw]};function vr(s,l,d,f){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=s,this._eventBus=l,this._overlays=d,this._selection=f,this._container=_r(vr.BOX_HTML),this._searchInput=mr(vr.INPUT_SELECTOR,this._container),this._resultsContainer=mr(vr.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),l.on(["canvas.destroy","diagram.destroy"],this.close,this)}function TH(s,l,d){var f=function(g){var b="";return g.forEach(function(w){w.matched?b+='<strong class="'+vr.RESULT_HIGHLIGHT_CLASS+'">'+qi(w.matched)+"</strong>":b+=qi(w.normal)}),b!==""?b:null}(l),p=_r(d);p.innerHTML=f,s.appendChild(p)}vr.$inject=["canvas","eventBus","overlays","selection"],vr.prototype._bindEvents=function(){var s=this;function l(d,f,p,g){s._eventMaps.push({el:d,type:p,listener:fi.bind(d,f,p,g)})}l(document,"html","click",function(d){s.close()}),l(this._container,vr.INPUT_SELECTOR,"click",function(d){d.stopPropagation(),d.delegateTarget.focus()}),l(this._container,vr.RESULT_SELECTOR,"mouseover",function(d){d.stopPropagation(),s._scrollToNode(d.delegateTarget),s._preselect(d.delegateTarget)}),l(this._container,vr.RESULT_SELECTOR,"click",function(d){d.stopPropagation(),s._select(d.delegateTarget)}),l(this._container,vr.INPUT_SELECTOR,"keydown",function(d){Ui("ArrowUp",d)&&d.preventDefault(),Ui("ArrowDown",d)&&d.preventDefault()}),l(this._container,vr.INPUT_SELECTOR,"keyup",function(d){if(Ui("Escape",d))return s.close();if(Ui("Enter",d)){var f=s._getCurrentResult();return f?s._select(f):s.close()}return Ui("ArrowUp",d)?s._scrollToDirection(!0):Ui("ArrowDown",d)?s._scrollToDirection():void(Ui(["ArrowLeft","ArrowRight"],d)||s._search(d.delegateTarget.value))})},vr.prototype._unbindEvents=function(){this._eventMaps.forEach(function(s){fi.unbind(s.el,s.type,s.listener)})},vr.prototype._search=function(s){var l=this;if(this._clearResults(),s&&s!==""){var d=this._searchProvider.find(s);if(d.length){d.forEach(function(p){var g=p.element.id,b=l._createResultNode(p,g);l._results[g]={element:p.element,node:b}});var f=mr(vr.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(f),this._preselect(f)}}},vr.prototype._scrollToDirection=function(s){var l=this._getCurrentResult();if(l){var d=s?l.previousElementSibling:l.nextElementSibling;d&&(this._scrollToNode(d),this._preselect(d))}},vr.prototype._scrollToNode=function(s){if(s&&s!==this._getCurrentResult()){var l=s.offsetTop,d=this._resultsContainer.scrollTop,f=l-this._resultsContainer.clientHeight+s.clientHeight;l<d?this._resultsContainer.scrollTop=l:d<f&&(this._resultsContainer.scrollTop=f)}},vr.prototype._clearResults=function(){Re(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},vr.prototype._getCurrentResult=function(){return mr(vr.RESULT_SELECTED_SELECTOR,this._resultsContainer)},vr.prototype._createResultNode=function(s,l){var d=_r(vr.RESULT_HTML);return s.primaryTokens.length>0&&TH(d,s.primaryTokens,vr.RESULT_PRIMARY_HTML),TH(d,s.secondaryTokens,vr.RESULT_SECONDARY_HTML),En(d,vr.RESULT_ID_ATTRIBUTE,l),this._resultsContainer.appendChild(d),d},vr.prototype.registerProvider=function(s){this._searchProvider=s},vr.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,nr(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},vr.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,nr(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},vr.prototype.toggle=function(){this.isOpen()?this.close():this.open()},vr.prototype.isOpen=function(){return this._open},vr.prototype._preselect=function(s){var l=this._getCurrentResult();if(s!==l){l&&nr(l).remove(vr.RESULT_SELECTED_CLASS);var d=En(s,vr.RESULT_ID_ATTRIBUTE),f=this._results[d].element;nr(s).add(vr.RESULT_SELECTED_CLASS),this._resetOverlay(f),this._canvas.scrollToElement(f,{top:400}),this._selection.select(f),this._eventBus.fire("searchPad.preselected",f)}},vr.prototype._select=function(s){var l=En(s,vr.RESULT_ID_ATTRIBUTE),d=this._results[l].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(d,{top:400}),this._selection.select(d),this._eventBus.fire("searchPad.selected",d)},vr.prototype._resetOverlay=function(s){if(this._overlayId&&this._overlays.remove(this._overlayId),s){var l=function(d){var f=6,p=d.width+2*f,g=d.height+2*f,b={width:p+"px",height:g+"px"},w=_r('<div class="'+vr.OVERLAY_CLASS+'"></div>');return mn(w,b),{position:{bottom:g-f,right:p-f},show:!0,html:w}}(So(s));this._overlayId=this._overlays.add(s,l)}},vr.CONTAINER_SELECTOR=".djs-search-container",vr.INPUT_SELECTOR=".djs-search-input input",vr.RESULTS_CONTAINER_SELECTOR=".djs-search-results",vr.RESULT_SELECTOR=".djs-search-result",vr.RESULT_SELECTED_CLASS="djs-search-result-selected",vr.RESULT_SELECTED_SELECTOR="."+vr.RESULT_SELECTED_CLASS,vr.RESULT_ID_ATTRIBUTE="data-result-id",vr.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",vr.OVERLAY_CLASS="djs-search-overlay",vr.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',vr.RESULT_HTML='<div class="djs-search-result"></div>',vr.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',vr.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var mme={__depends__:[yo,ur],searchPad:["type",vr]};function lL(s,l,d){this._elementRegistry=s,this._canvas=d,l.registerProvider(this)}function AH(s){return B(s,function(l){return!!l.matched}).length>0}function RH(s,l){var d=[],f=s;if(!s)return d;s=s.toLowerCase(),l=l.toLowerCase();var p=s.indexOf(l);return p>-1?(p!==0&&d.push({normal:f.substr(0,p)}),d.push({matched:f.substr(p,l.length)}),l.length+p<s.length&&d.push({normal:f.substr(l.length+p,s.length)})):d.push({normal:f}),d}lL.$inject=["elementRegistry","searchPad","canvas"],lL.prototype.find=function(s){var l=this._canvas.getRootElement(),d=this._elementRegistry.filter(function(f){return!f.labelTarget});return d=B(d,function(f){return f!==l}),d=Fe(d=B(d=Te(d,function(f){return{primaryTokens:RH(Ii(f),s),secondaryTokens:RH(f.id,s),element:f}}),function(f){return AH(f.primaryTokens)||AH(f.secondaryTokens)}),function(f){return Ii(f.element)+f.element.id})};var gme={__depends__:[mme],__init__:["bpmnSearch"],bpmnSearch:["type",lL]};function gp(s){wc.call(this,s)}return t(gp,wc),gp.Viewer=Ra,gp.NavigatedViewer=qg,gp.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},gp.prototype._interactionModules=[E0,ZE,bT,eS],gp.prototype._modelingModules=[LT,Sx,J5,yS,iI,ny,wA,Ape,mR,Zx,Mpe,Npe,Fpe,$pe,Bpe,Hpe,Gpe,Sz,Kpe,Xpe,eme,ame,lme,Xz,pme,gme],gp.prototype._modules=[].concat(Ra.prototype._modules,gp.prototype._interactionModules,gp.prototype._modelingModules),gp})})(zre);var hSe=zre.exports;const pSe=rE(hSe),SP=`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                  xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" 
                  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" 
                  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" 
                  xmlns:di="http://www.omg.org/spec/DD/20100524/DI" 
                  id="Definitions_1" 
                  targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_1" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="173" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`,mSe=n=>!n||typeof n!="string"?!1:n.includes("<?xml")&&n.includes("<bpmn:definitions")&&n.includes("</bpmn:definitions>"),gSe=({initialXml:n,onChange:e,readOnly:t=!1})=>{const r=Z.useRef(null),i=Z.useRef(null),[o,a]=Z.useState(null);return Z.useEffect(()=>{if(!r.current)return;i.current&&i.current.destroy();const c=new pSe({container:r.current,keyboard:{bindTo:document},propertiesPanel:{parent:"#properties-panel"}});return i.current=c,a(null),()=>{i.current&&(i.current.destroy(),i.current=null)}},[t]),Z.useEffect(()=>{if(!i.current)return;const c=i.current,u=n&&mSe(n)?n:SP;c.importXML(u).then(()=>{if(a(null),t)try{c.get("editorActions").trigger("toggleMode")}catch(h){console.error("Error triggering read-only mode:",h)}try{c.get("canvas").zoom("fit-viewport")}catch(h){console.error("Error zooming to fit viewport:",h)}!n&&e&&e(SP)}).catch(h=>{console.error("Erro ao importar BPMN XML",h),a("Falha ao carregar o diagrama BPMN. Utilizando diagrama padro."),c.importXML(SP).then(()=>{if(t)try{c.get("editorActions").trigger("toggleMode")}catch(m){console.error("Error triggering read-only mode:",m)}try{c.get("canvas").zoom("fit-viewport")}catch(m){console.error("Error zooming to fit viewport:",m)}e&&e(SP)}).catch(()=>{a("Erro crtico ao carregar o diagrama. Por favor, atualize a pgina.")})})},[n,t,e]),Z.useEffect(()=>{if(!i.current||!e)return;const c=i.current;let u;try{u=c.get("eventBus")}catch(m){console.error("Error getting eventBus:",m);return}if(!u)return;const h=()=>{try{c.saveXML({format:!0}).then(({xml:m})=>{m&&e&&e(m)}).catch(m=>{console.error("Erro ao salvar BPMN XML",m)})}catch(m){console.error("Error in change event handler:",m)}};try{u.on("commandStack.changed",h)}catch(m){console.error("Error registering event listener:",m)}return()=>{try{u&&u.off("commandStack.changed",h)}catch(m){console.error("Error removing event listener:",m)}}},[e]),V.jsxs("div",{className:"relative h-full",children:[o&&V.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 z-10",children:V.jsxs("div",{className:"text-center text-destructive p-4 bg-destructive/10 rounded-md border border-destructive",children:[V.jsx("p",{className:"mb-2 text-lg font-bold",children:"Erro"}),V.jsx("p",{children:o})]})}),V.jsx("div",{ref:r,className:"bpmn-container h-full"})]})},w8=Z.forwardRef(({className:n,type:e,...t},r)=>V.jsx("input",{type:e,className:oi("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));w8.displayName="Input";const _8=Z.forwardRef(({className:n,...e},t)=>V.jsx("textarea",{className:oi("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));_8.displayName="Textarea";var Mi;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const o={};for(const a of i)o[a]=a;return o},n.getValidEnumValues=i=>{const o=n.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),a={};for(const c of o)a[c]=i[c];return n.objectValues(a)},n.objectValues=i=>n.objectKeys(i).map(function(o){return i[o]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},n.find=(i,o)=>{for(const a of i)if(o(a))return a},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Mi||(Mi={}));var r6;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(r6||(r6={}));const Rn=Mi.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jy=n=>{switch(typeof n){case"undefined":return Rn.undefined;case"string":return Rn.string;case"number":return isNaN(n)?Rn.nan:Rn.number;case"boolean":return Rn.boolean;case"function":return Rn.function;case"bigint":return Rn.bigint;case"symbol":return Rn.symbol;case"object":return Array.isArray(n)?Rn.array:n===null?Rn.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Rn.promise:typeof Map<"u"&&n instanceof Map?Rn.map:typeof Set<"u"&&n instanceof Set?Rn.set:typeof Date<"u"&&n instanceof Date?Rn.date:Rn.object;default:return Rn.unknown}},Kt=Mi.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ySe=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class vd extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let c=r,u=0;for(;u<a.path.length;){const h=a.path[u];u===a.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(t(a))):c[h]=c[h]||{_errors:[]},c=c[h],u++}}};return i(this),r}static assert(e){if(!(e instanceof vd))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mi.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}vd.create=n=>new vd(n);const $_=(n,e)=>{let t;switch(n.code){case Kt.invalid_type:n.received===Rn.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Kt.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Mi.jsonStringifyReplacer)}`;break;case Kt.unrecognized_keys:t=`Unrecognized key(s) in object: ${Mi.joinValues(n.keys,", ")}`;break;case Kt.invalid_union:t="Invalid input";break;case Kt.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Mi.joinValues(n.options)}`;break;case Kt.invalid_enum_value:t=`Invalid enum value. Expected ${Mi.joinValues(n.options)}, received '${n.received}'`;break;case Kt.invalid_arguments:t="Invalid function arguments";break;case Kt.invalid_return_type:t="Invalid function return type";break;case Kt.invalid_date:t="Invalid date";break;case Kt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Mi.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Kt.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Kt.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Kt.custom:t="Invalid input";break;case Kt.invalid_intersection_types:t="Intersection results could not be merged";break;case Kt.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Kt.not_finite:t="Number must be finite";break;default:t=e.defaultError,Mi.assertNever(n)}return{message:t}};let Hre=$_;function vSe(n){Hre=n}function GD(){return Hre}const YD=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,o=[...t,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const u=r.filter(h=>!!h).slice().reverse();for(const h of u)c=h(a,{data:e,defaultError:c}).message;return{...i,path:o,message:c}},bSe=[];function Cn(n,e){const t=GD(),r=YD({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===$_?void 0:$_].filter(i=>!!i)});n.common.issues.push(r)}class sc{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Or;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const o=await i.key,a=await i.value;r.push({key:o,value:a})}return sc.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return Or;o.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[o.value]=a.value)}return{status:e.value,value:r}}}const Or=Object.freeze({status:"aborted"}),Fw=n=>({status:"dirty",value:n}),Hc=n=>({status:"valid",value:n}),i6=n=>n.status==="aborted",o6=n=>n.status==="dirty",QC=n=>n.status==="valid",KC=n=>typeof Promise<"u"&&n instanceof Promise;function QD(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function Wre(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Jn;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Jn||(Jn={}));var V2,z2;class Kp{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const iU=(n,e)=>{if(QC(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new vd(n.common.issues);return this._error=t,this._error}}};function Yr(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,c)=>{var u,h;const{message:m}=n;return a.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(u=m??r)!==null&&u!==void 0?u:c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:(h=m??t)!==null&&h!==void 0?h:c.defaultError}},description:i}}class ii{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return jy(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:jy(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sc,ctx:{common:e.parent.common,data:e.data,parsedType:jy(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(KC(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jy(e)},o=this._parseSync({data:e,path:i.path,parent:i});return iU(i,o)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jy(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(KC(i)?i:Promise.resolve(i));return iU(r,o)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,o)=>{const a=e(i),c=()=>o.addIssue({code:Kt.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Dh({schema:this,typeName:Cr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Up.create(this,this._def)}nullable(){return Lv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Th.create(this,this._def)}promise(){return j_.create(this,this._def)}or(e){return eO.create([this,e],this._def)}and(e){return tO.create(this,e,this._def)}transform(e){return new Dh({...Yr(this._def),schema:this,typeName:Cr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new sO({...Yr(this._def),innerType:this,defaultValue:t,typeName:Cr.ZodDefault})}brand(){return new E8({typeName:Cr.ZodBranded,type:this,...Yr(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new aO({...Yr(this._def),innerType:this,catchValue:t,typeName:Cr.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return qO.create(this,e)}readonly(){return lO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xSe=/^c[^\s-]{8,}$/i,wSe=/^[0-9a-z]+$/,_Se=/^[0-9A-HJKMNP-TV-Z]{26}$/,ESe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SSe=/^[a-z0-9_-]{21}$/i,kSe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CSe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,OSe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let d4;const TSe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ASe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,RSe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qre="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PSe=new RegExp(`^${qre}$`);function Ure(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function MSe(n){return new RegExp(`^${Ure(n)}$`)}function Gre(n){let e=`${qre}T${Ure(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function DSe(n,e){return!!((e==="v4"||!e)&&TSe.test(n)||(e==="v6"||!e)&&ASe.test(n))}class xh extends ii{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Rn.string){const o=this._getOrReturnCtx(e);return Cn(o,{code:Kt.invalid_type,expected:Rn.string,received:o.parsedType}),Or}const r=new sc;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const a=e.data.length>o.value,c=e.data.length<o.value;(a||c)&&(i=this._getOrReturnCtx(e,i),a?Cn(i,{code:Kt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&Cn(i,{code:Kt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")CSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"email",code:Kt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")d4||(d4=new RegExp(OSe,"u")),d4.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"emoji",code:Kt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")ESe.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"uuid",code:Kt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")SSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"nanoid",code:Kt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")xSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"cuid",code:Kt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")wSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"cuid2",code:Kt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")_Se.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"ulid",code:Kt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Cn(i,{validation:"url",code:Kt.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"regex",code:Kt.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?Gre(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?PSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?MSe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?kSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"duration",code:Kt.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?DSe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"ip",code:Kt.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?RSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Cn(i,{validation:"base64",code:Kt.invalid_string,message:o.message}),r.dirty()):Mi.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:Kt.invalid_string,...Jn.errToObj(r)})}_addCheck(e){return new xh({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Jn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Jn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Jn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Jn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Jn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Jn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Jn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Jn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Jn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Jn.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Jn.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Jn.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Jn.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Jn.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Jn.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Jn.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Jn.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Jn.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Jn.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Jn.errToObj(t)})}nonempty(e){return this.min(1,Jn.errToObj(e))}trim(){return new xh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}xh.create=n=>{var e;return new xh({checks:[],typeName:Cr.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Yr(n)})};function NSe(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,o=parseInt(n.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return o%a/Math.pow(10,i)}class Dv extends ii{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Rn.number){const o=this._getOrReturnCtx(e);return Cn(o,{code:Kt.invalid_type,expected:Rn.number,received:o.parsedType}),Or}let r;const i=new sc;for(const o of this._def.checks)o.kind==="int"?Mi.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Cn(r,{code:Kt.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Cn(r,{code:Kt.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Cn(r,{code:Kt.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?NSe(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Cn(r,{code:Kt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Cn(r,{code:Kt.not_finite,message:o.message}),i.dirty()):Mi.assertNever(o);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Jn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Jn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Jn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Jn.toString(t))}setLimit(e,t,r,i){return new Dv({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Jn.toString(i)}]})}_addCheck(e){return new Dv({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Jn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Jn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Jn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Jn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Jn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Jn.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Jn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Jn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Jn.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Mi.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Dv.create=n=>new Dv({checks:[],typeName:Cr.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Yr(n)});class Nv extends ii{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Rn.bigint){const o=this._getOrReturnCtx(e);return Cn(o,{code:Kt.invalid_type,expected:Rn.bigint,received:o.parsedType}),Or}let r;const i=new sc;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Cn(r,{code:Kt.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Cn(r,{code:Kt.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Cn(r,{code:Kt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Mi.assertNever(o);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Jn.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Jn.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Jn.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Jn.toString(t))}setLimit(e,t,r,i){return new Nv({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Jn.toString(i)}]})}_addCheck(e){return new Nv({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Jn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Jn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Jn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Jn.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Jn.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Nv.create=n=>{var e;return new Nv({checks:[],typeName:Cr.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Yr(n)})};class XC extends ii{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Rn.boolean){const r=this._getOrReturnCtx(e);return Cn(r,{code:Kt.invalid_type,expected:Rn.boolean,received:r.parsedType}),Or}return Hc(e.data)}}XC.create=n=>new XC({typeName:Cr.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Yr(n)});class lb extends ii{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Rn.date){const o=this._getOrReturnCtx(e);return Cn(o,{code:Kt.invalid_type,expected:Rn.date,received:o.parsedType}),Or}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Cn(o,{code:Kt.invalid_date}),Or}const r=new sc;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),Cn(i,{code:Kt.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Mi.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new lb({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Jn.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Jn.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}lb.create=n=>new lb({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Cr.ZodDate,...Yr(n)});class KD extends ii{_parse(e){if(this._getType(e)!==Rn.symbol){const r=this._getOrReturnCtx(e);return Cn(r,{code:Kt.invalid_type,expected:Rn.symbol,received:r.parsedType}),Or}return Hc(e.data)}}KD.create=n=>new KD({typeName:Cr.ZodSymbol,...Yr(n)});class ZC extends ii{_parse(e){if(this._getType(e)!==Rn.undefined){const r=this._getOrReturnCtx(e);return Cn(r,{code:Kt.invalid_type,expected:Rn.undefined,received:r.parsedType}),Or}return Hc(e.data)}}ZC.create=n=>new ZC({typeName:Cr.ZodUndefined,...Yr(n)});class JC extends ii{_parse(e){if(this._getType(e)!==Rn.null){const r=this._getOrReturnCtx(e);return Cn(r,{code:Kt.invalid_type,expected:Rn.null,received:r.parsedType}),Or}return Hc(e.data)}}JC.create=n=>new JC({typeName:Cr.ZodNull,...Yr(n)});class B_ extends ii{constructor(){super(...arguments),this._any=!0}_parse(e){return Hc(e.data)}}B_.create=n=>new B_({typeName:Cr.ZodAny,...Yr(n)});class G1 extends ii{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Hc(e.data)}}G1.create=n=>new G1({typeName:Cr.ZodUnknown,...Yr(n)});class vg extends ii{_parse(e){const t=this._getOrReturnCtx(e);return Cn(t,{code:Kt.invalid_type,expected:Rn.never,received:t.parsedType}),Or}}vg.create=n=>new vg({typeName:Cr.ZodNever,...Yr(n)});class XD extends ii{_parse(e){if(this._getType(e)!==Rn.undefined){const r=this._getOrReturnCtx(e);return Cn(r,{code:Kt.invalid_type,expected:Rn.void,received:r.parsedType}),Or}return Hc(e.data)}}XD.create=n=>new XD({typeName:Cr.ZodVoid,...Yr(n)});class Th extends ii{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==Rn.array)return Cn(t,{code:Kt.invalid_type,expected:Rn.array,received:t.parsedType}),Or;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,c=t.data.length<i.exactLength.value;(a||c)&&(Cn(t,{code:a?Kt.too_big:Kt.too_small,minimum:c?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Cn(t,{code:Kt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Cn(t,{code:Kt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,c)=>i.type._parseAsync(new Kp(t,a,t.path,c)))).then(a=>sc.mergeArray(r,a));const o=[...t.data].map((a,c)=>i.type._parseSync(new Kp(t,a,t.path,c)));return sc.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new Th({...this._def,minLength:{value:e,message:Jn.toString(t)}})}max(e,t){return new Th({...this._def,maxLength:{value:e,message:Jn.toString(t)}})}length(e,t){return new Th({...this._def,exactLength:{value:e,message:Jn.toString(t)}})}nonempty(e){return this.min(1,e)}}Th.create=(n,e)=>new Th({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Cr.ZodArray,...Yr(e)});function _w(n){if(n instanceof Fs){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Up.create(_w(r))}return new Fs({...n._def,shape:()=>e})}else return n instanceof Th?new Th({...n._def,type:_w(n.element)}):n instanceof Up?Up.create(_w(n.unwrap())):n instanceof Lv?Lv.create(_w(n.unwrap())):n instanceof Xp?Xp.create(n.items.map(e=>_w(e))):n}class Fs extends ii{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Mi.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Rn.object){const h=this._getOrReturnCtx(e);return Cn(h,{code:Kt.invalid_type,expected:Rn.object,received:h.parsedType}),Or}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof vg&&this._def.unknownKeys==="strip"))for(const h in i.data)a.includes(h)||c.push(h);const u=[];for(const h of a){const m=o[h],v=i.data[h];u.push({key:{status:"valid",value:h},value:m._parse(new Kp(i,v,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof vg){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)u.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(h==="strict")c.length>0&&(Cn(i,{code:Kt.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const v=i.data[m];u.push({key:{status:"valid",value:m},value:h._parse(new Kp(i,v,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of u){const v=await m.key,_=await m.value;h.push({key:v,value:_,alwaysSet:m.alwaysSet})}return h}).then(h=>sc.mergeObjectSync(r,h)):sc.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Jn.errToObj,new Fs({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,o,a,c;const u=(a=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=Jn.errToObj(e).message)!==null&&c!==void 0?c:u}:{message:u}}}:{}})}strip(){return new Fs({...this._def,unknownKeys:"strip"})}passthrough(){return new Fs({...this._def,unknownKeys:"passthrough"})}extend(e){return new Fs({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Fs({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Cr.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Fs({...this._def,catchall:e})}pick(e){const t={};return Mi.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new Fs({...this._def,shape:()=>t})}omit(e){const t={};return Mi.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new Fs({...this._def,shape:()=>t})}deepPartial(){return _w(this)}partial(e){const t={};return Mi.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new Fs({...this._def,shape:()=>t})}required(e){const t={};return Mi.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Up;)o=o._def.innerType;t[r]=o}}),new Fs({...this._def,shape:()=>t})}keyof(){return Yre(Mi.objectKeys(this.shape))}}Fs.create=(n,e)=>new Fs({shape:()=>n,unknownKeys:"strip",catchall:vg.create(),typeName:Cr.ZodObject,...Yr(e)});Fs.strictCreate=(n,e)=>new Fs({shape:()=>n,unknownKeys:"strict",catchall:vg.create(),typeName:Cr.ZodObject,...Yr(e)});Fs.lazycreate=(n,e)=>new Fs({shape:n,unknownKeys:"strip",catchall:vg.create(),typeName:Cr.ZodObject,...Yr(e)});class eO extends ii{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const a=o.map(c=>new vd(c.ctx.common.issues));return Cn(t,{code:Kt.invalid_union,unionErrors:a}),Or}if(t.common.async)return Promise.all(r.map(async o=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let o;const a=[];for(const u of r){const h={...t,common:{...t.common,issues:[]},parent:null},m=u._parseSync({data:t.data,path:t.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const c=a.map(u=>new vd(u));return Cn(t,{code:Kt.invalid_union,unionErrors:c}),Or}}get options(){return this._def.options}}eO.create=(n,e)=>new eO({options:n,typeName:Cr.ZodUnion,...Yr(e)});const Hm=n=>n instanceof rO?Hm(n.schema):n instanceof Dh?Hm(n.innerType()):n instanceof iO?[n.value]:n instanceof Iv?n.options:n instanceof oO?Mi.objectValues(n.enum):n instanceof sO?Hm(n._def.innerType):n instanceof ZC?[void 0]:n instanceof JC?[null]:n instanceof Up?[void 0,...Hm(n.unwrap())]:n instanceof Lv?[null,...Hm(n.unwrap())]:n instanceof E8||n instanceof lO?Hm(n.unwrap()):n instanceof aO?Hm(n._def.innerType):[];class BN extends ii{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Rn.object)return Cn(t,{code:Kt.invalid_type,expected:Rn.object,received:t.parsedType}),Or;const r=this.discriminator,i=t.data[r],o=this.optionsMap.get(i);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(Cn(t,{code:Kt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Or)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const o of t){const a=Hm(o.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,o)}}return new BN({typeName:Cr.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Yr(r)})}}function s6(n,e){const t=jy(n),r=jy(e);if(n===e)return{valid:!0,data:n};if(t===Rn.object&&r===Rn.object){const i=Mi.objectKeys(e),o=Mi.objectKeys(n).filter(c=>i.indexOf(c)!==-1),a={...n,...e};for(const c of o){const u=s6(n[c],e[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(t===Rn.array&&r===Rn.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<n.length;o++){const a=n[o],c=e[o],u=s6(a,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===Rn.date&&r===Rn.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class tO extends ii{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(o,a)=>{if(i6(o)||i6(a))return Or;const c=s6(o.value,a.value);return c.valid?((o6(o)||o6(a))&&t.dirty(),{status:t.value,value:c.data}):(Cn(r,{code:Kt.invalid_intersection_types}),Or)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tO.create=(n,e,t)=>new tO({left:n,right:e,typeName:Cr.ZodIntersection,...Yr(t)});class Xp extends ii{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Rn.array)return Cn(r,{code:Kt.invalid_type,expected:Rn.array,received:r.parsedType}),Or;if(r.data.length<this._def.items.length)return Cn(r,{code:Kt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Or;!this._def.rest&&r.data.length>this._def.items.length&&(Cn(r,{code:Kt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Kp(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(o).then(a=>sc.mergeArray(t,a)):sc.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Xp({...this._def,rest:e})}}Xp.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xp({items:n,typeName:Cr.ZodTuple,rest:null,...Yr(e)})};class nO extends ii{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Rn.object)return Cn(r,{code:Kt.invalid_type,expected:Rn.object,received:r.parsedType}),Or;const i=[],o=this._def.keyType,a=this._def.valueType;for(const c in r.data)i.push({key:o._parse(new Kp(r,c,r.path,c)),value:a._parse(new Kp(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?sc.mergeObjectAsync(t,i):sc.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ii?new nO({keyType:e,valueType:t,typeName:Cr.ZodRecord,...Yr(r)}):new nO({keyType:xh.create(),valueType:e,typeName:Cr.ZodRecord,...Yr(t)})}}class ZD extends ii{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Rn.map)return Cn(r,{code:Kt.invalid_type,expected:Rn.map,received:r.parsedType}),Or;const i=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([c,u],h)=>({key:i._parse(new Kp(r,c,r.path,[h,"key"])),value:o._parse(new Kp(r,u,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const h=await u.key,m=await u.value;if(h.status==="aborted"||m.status==="aborted")return Or;(h.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(h.value,m.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const u of a){const h=u.key,m=u.value;if(h.status==="aborted"||m.status==="aborted")return Or;(h.status==="dirty"||m.status==="dirty")&&t.dirty(),c.set(h.value,m.value)}return{status:t.value,value:c}}}}ZD.create=(n,e,t)=>new ZD({valueType:e,keyType:n,typeName:Cr.ZodMap,...Yr(t)});class cb extends ii{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Rn.set)return Cn(r,{code:Kt.invalid_type,expected:Rn.set,received:r.parsedType}),Or;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Cn(r,{code:Kt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Cn(r,{code:Kt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const o=this._def.valueType;function a(u){const h=new Set;for(const m of u){if(m.status==="aborted")return Or;m.status==="dirty"&&t.dirty(),h.add(m.value)}return{status:t.value,value:h}}const c=[...r.data.values()].map((u,h)=>o._parse(new Kp(r,u,r.path,h)));return r.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(e,t){return new cb({...this._def,minSize:{value:e,message:Jn.toString(t)}})}max(e,t){return new cb({...this._def,maxSize:{value:e,message:Jn.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}cb.create=(n,e)=>new cb({valueType:n,minSize:null,maxSize:null,typeName:Cr.ZodSet,...Yr(e)});class t_ extends ii{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Rn.function)return Cn(t,{code:Kt.invalid_type,expected:Rn.function,received:t.parsedType}),Or;function r(c,u){return YD({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,GD(),$_].filter(h=>!!h),issueData:{code:Kt.invalid_arguments,argumentsError:u}})}function i(c,u){return YD({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,GD(),$_].filter(h=>!!h),issueData:{code:Kt.invalid_return_type,returnTypeError:u}})}const o={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof j_){const c=this;return Hc(async function(...u){const h=new vd([]),m=await c._def.args.parseAsync(u,o).catch(k=>{throw h.addIssue(r(u,k)),h}),v=await Reflect.apply(a,this,m);return await c._def.returns._def.type.parseAsync(v,o).catch(k=>{throw h.addIssue(i(v,k)),h})})}else{const c=this;return Hc(function(...u){const h=c._def.args.safeParse(u,o);if(!h.success)throw new vd([r(u,h.error)]);const m=Reflect.apply(a,this,h.data),v=c._def.returns.safeParse(m,o);if(!v.success)throw new vd([i(m,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t_({...this._def,args:Xp.create(e).rest(G1.create())})}returns(e){return new t_({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new t_({args:e||Xp.create([]).rest(G1.create()),returns:t||G1.create(),typeName:Cr.ZodFunction,...Yr(r)})}}class rO extends ii{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}rO.create=(n,e)=>new rO({getter:n,typeName:Cr.ZodLazy,...Yr(e)});class iO extends ii{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Cn(t,{received:t.data,code:Kt.invalid_literal,expected:this._def.value}),Or}return{status:"valid",value:e.data}}get value(){return this._def.value}}iO.create=(n,e)=>new iO({value:n,typeName:Cr.ZodLiteral,...Yr(e)});function Yre(n,e){return new Iv({values:n,typeName:Cr.ZodEnum,...Yr(e)})}class Iv extends ii{constructor(){super(...arguments),V2.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Cn(t,{expected:Mi.joinValues(r),received:t.parsedType,code:Kt.invalid_type}),Or}if(QD(this,V2)||Wre(this,V2,new Set(this._def.values)),!QD(this,V2).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Cn(t,{received:t.data,code:Kt.invalid_enum_value,options:r}),Or}return Hc(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Iv.create(e,{...this._def,...t})}exclude(e,t=this._def){return Iv.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}V2=new WeakMap;Iv.create=Yre;class oO extends ii{constructor(){super(...arguments),z2.set(this,void 0)}_parse(e){const t=Mi.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Rn.string&&r.parsedType!==Rn.number){const i=Mi.objectValues(t);return Cn(r,{expected:Mi.joinValues(i),received:r.parsedType,code:Kt.invalid_type}),Or}if(QD(this,z2)||Wre(this,z2,new Set(Mi.getValidEnumValues(this._def.values))),!QD(this,z2).has(e.data)){const i=Mi.objectValues(t);return Cn(r,{received:r.data,code:Kt.invalid_enum_value,options:i}),Or}return Hc(e.data)}get enum(){return this._def.values}}z2=new WeakMap;oO.create=(n,e)=>new oO({values:n,typeName:Cr.ZodNativeEnum,...Yr(e)});class j_ extends ii{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Rn.promise&&t.common.async===!1)return Cn(t,{code:Kt.invalid_type,expected:Rn.promise,received:t.parsedType}),Or;const r=t.parsedType===Rn.promise?t.data:Promise.resolve(t.data);return Hc(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}j_.create=(n,e)=>new j_({type:n,typeName:Cr.ZodPromise,...Yr(e)});class Dh extends ii{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Cr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:a=>{Cn(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const a=i.transform(r.data,o);if(r.common.async)return Promise.resolve(a).then(async c=>{if(t.value==="aborted")return Or;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?Or:u.status==="dirty"||t.value==="dirty"?Fw(u.value):u});{if(t.value==="aborted")return Or;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?Or:c.status==="dirty"||t.value==="dirty"?Fw(c.value):c}}if(i.type==="refinement"){const a=c=>{const u=i.refinement(c,o);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Or:(c.status==="dirty"&&t.dirty(),a(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Or:(c.status==="dirty"&&t.dirty(),a(c.value).then(()=>({status:t.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!QC(a))return a;const c=i.transform(a.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>QC(a)?Promise.resolve(i.transform(a.value,o)).then(c=>({status:t.value,value:c})):a);Mi.assertNever(i)}}Dh.create=(n,e,t)=>new Dh({schema:n,typeName:Cr.ZodEffects,effect:e,...Yr(t)});Dh.createWithPreprocess=(n,e,t)=>new Dh({schema:e,effect:{type:"preprocess",transform:n},typeName:Cr.ZodEffects,...Yr(t)});class Up extends ii{_parse(e){return this._getType(e)===Rn.undefined?Hc(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Up.create=(n,e)=>new Up({innerType:n,typeName:Cr.ZodOptional,...Yr(e)});class Lv extends ii{_parse(e){return this._getType(e)===Rn.null?Hc(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lv.create=(n,e)=>new Lv({innerType:n,typeName:Cr.ZodNullable,...Yr(e)});class sO extends ii{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Rn.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}sO.create=(n,e)=>new sO({innerType:n,typeName:Cr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Yr(e)});class aO extends ii{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return KC(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new vd(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vd(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}aO.create=(n,e)=>new aO({innerType:n,typeName:Cr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Yr(e)});class JD extends ii{_parse(e){if(this._getType(e)!==Rn.nan){const r=this._getOrReturnCtx(e);return Cn(r,{code:Kt.invalid_type,expected:Rn.nan,received:r.parsedType}),Or}return{status:"valid",value:e.data}}}JD.create=n=>new JD({typeName:Cr.ZodNaN,...Yr(n)});const ISe=Symbol("zod_brand");class E8 extends ii{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class qO extends ii{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Or:o.status==="dirty"?(t.dirty(),Fw(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Or:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new qO({in:e,out:t,typeName:Cr.ZodPipeline})}}class lO extends ii{_parse(e){const t=this._def.innerType._parse(e),r=i=>(QC(i)&&(i.value=Object.freeze(i.value)),i);return KC(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}lO.create=(n,e)=>new lO({innerType:n,typeName:Cr.ZodReadonly,...Yr(e)});function Qre(n,e={},t){return n?B_.create().superRefine((r,i)=>{var o,a;if(!n(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(o=c.fatal)!==null&&o!==void 0?o:t)!==null&&a!==void 0?a:!0,h=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...h,fatal:u})}}):B_.create()}const LSe={object:Fs.lazycreate};var Cr;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Cr||(Cr={}));const FSe=(n,e={message:`Input not instance of ${n.name}`})=>Qre(t=>t instanceof n,e),Kre=xh.create,Xre=Dv.create,$Se=JD.create,BSe=Nv.create,Zre=XC.create,jSe=lb.create,VSe=KD.create,zSe=ZC.create,HSe=JC.create,WSe=B_.create,qSe=G1.create,USe=vg.create,GSe=XD.create,YSe=Th.create,QSe=Fs.create,KSe=Fs.strictCreate,XSe=eO.create,ZSe=BN.create,JSe=tO.create,eke=Xp.create,tke=nO.create,nke=ZD.create,rke=cb.create,ike=t_.create,oke=rO.create,ske=iO.create,ake=Iv.create,lke=oO.create,cke=j_.create,oU=Dh.create,uke=Up.create,dke=Lv.create,fke=Dh.createWithPreprocess,hke=qO.create,pke=()=>Kre().optional(),mke=()=>Xre().optional(),gke=()=>Zre().optional(),yke={string:n=>xh.create({...n,coerce:!0}),number:n=>Dv.create({...n,coerce:!0}),boolean:n=>XC.create({...n,coerce:!0}),bigint:n=>Nv.create({...n,coerce:!0}),date:n=>lb.create({...n,coerce:!0})},vke=Or;var Lp=Object.freeze({__proto__:null,defaultErrorMap:$_,setErrorMap:vSe,getErrorMap:GD,makeIssue:YD,EMPTY_PATH:bSe,addIssueToContext:Cn,ParseStatus:sc,INVALID:Or,DIRTY:Fw,OK:Hc,isAborted:i6,isDirty:o6,isValid:QC,isAsync:KC,get util(){return Mi},get objectUtil(){return r6},ZodParsedType:Rn,getParsedType:jy,ZodType:ii,datetimeRegex:Gre,ZodString:xh,ZodNumber:Dv,ZodBigInt:Nv,ZodBoolean:XC,ZodDate:lb,ZodSymbol:KD,ZodUndefined:ZC,ZodNull:JC,ZodAny:B_,ZodUnknown:G1,ZodNever:vg,ZodVoid:XD,ZodArray:Th,ZodObject:Fs,ZodUnion:eO,ZodDiscriminatedUnion:BN,ZodIntersection:tO,ZodTuple:Xp,ZodRecord:nO,ZodMap:ZD,ZodSet:cb,ZodFunction:t_,ZodLazy:rO,ZodLiteral:iO,ZodEnum:Iv,ZodNativeEnum:oO,ZodPromise:j_,ZodEffects:Dh,ZodTransformer:Dh,ZodOptional:Up,ZodNullable:Lv,ZodDefault:sO,ZodCatch:aO,ZodNaN:JD,BRAND:ISe,ZodBranded:E8,ZodPipeline:qO,ZodReadonly:lO,custom:Qre,Schema:ii,ZodSchema:ii,late:LSe,get ZodFirstPartyTypeKind(){return Cr},coerce:yke,any:WSe,array:YSe,bigint:BSe,boolean:Zre,date:jSe,discriminatedUnion:ZSe,effect:oU,enum:ake,function:ike,instanceof:FSe,intersection:JSe,lazy:oke,literal:ske,map:nke,nan:$Se,nativeEnum:lke,never:USe,null:HSe,nullable:dke,number:Xre,object:QSe,oboolean:gke,onumber:mke,optional:uke,ostring:pke,pipeline:hke,preprocess:fke,promise:cke,record:tke,set:rke,strictObject:KSe,string:Kre,symbol:VSe,transformer:oU,tuple:eke,undefined:zSe,union:XSe,unknown:qSe,void:GSe,NEVER:vke,ZodIssueCode:Kt,quotelessJson:ySe,ZodError:vd}),UO=n=>n.type==="checkbox",D1=n=>n instanceof Date,Fc=n=>n==null;const Jre=n=>typeof n=="object";var ua=n=>!Fc(n)&&!Array.isArray(n)&&Jre(n)&&!D1(n),eie=n=>ua(n)&&n.target?UO(n.target)?n.target.checked:n.target.value:n,bke=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,tie=(n,e)=>n.has(bke(e)),xke=n=>{const e=n.constructor&&n.constructor.prototype;return ua(e)&&e.hasOwnProperty("isPrototypeOf")},S8=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mu(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(S8&&(n instanceof Blob||n instanceof FileList))&&(t||ua(n)))if(e=t?[]:{},!t&&!xke(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=mu(n[r]));else return n;return e}var jN=n=>Array.isArray(n)?n.filter(Boolean):[],Zs=n=>n===void 0,un=(n,e,t)=>{if(!e||!ua(n))return t;const r=jN(e.split(/[,[\].]+?/)).reduce((i,o)=>Fc(i)?i:i[o],n);return Zs(r)||r===n?Zs(n[e])?t:n[e]:r},tf=n=>typeof n=="boolean",k8=n=>/^\w*$/.test(n),nie=n=>jN(n.replace(/["|']|\]/g,"").split(/\.|\[/)),lo=(n,e,t)=>{let r=-1;const i=k8(e)?[e]:nie(e),o=i.length,a=o-1;for(;++r<o;){const c=i[r];let u=t;if(r!==a){const h=n[c];u=ua(h)||Array.isArray(h)?h:isNaN(+i[r+1])?{}:[]}if(c==="__proto__")return;n[c]=u,n=n[c]}return n};const e3={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gh={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jm={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rie=Mt.createContext(null),VN=()=>Mt.useContext(rie),wke=n=>{const{children:e,...t}=n;return Mt.createElement(rie.Provider,{value:t},e)};var iie=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in n)Object.defineProperty(i,o,{get:()=>{const a=o;return e._proxyFormState[a]!==gh.all&&(e._proxyFormState[a]=!r||gh.all),t&&(t[a]=!0),n[a]}});return i},vu=n=>ua(n)&&!Object.keys(n).length,oie=(n,e,t,r)=>{t(n);const{name:i,...o}=n;return vu(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(a=>e[a]===(!r||gh.all))},lC=n=>Array.isArray(n)?n:[n],sie=(n,e,t)=>!n||!e||n===e||lC(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function C8(n){const e=Mt.useRef(n);e.current=n,Mt.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function _ke(n){const e=VN(),{control:t=e.control,disabled:r,name:i,exact:o}=n||{},[a,c]=Mt.useState(t._formState),u=Mt.useRef(!0),h=Mt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Mt.useRef(i);return m.current=i,C8({disabled:r,next:v=>u.current&&sie(m.current,v.name,o)&&oie(v,h.current,t._updateFormState)&&c({...t._formState,...v}),subject:t._subjects.state}),Mt.useEffect(()=>(u.current=!0,h.current.isValid&&t._updateValid(!0),()=>{u.current=!1}),[t]),iie(a,t,h.current,!1)}var Fp=n=>typeof n=="string",aie=(n,e,t,r,i)=>Fp(n)?(r&&e.watch.add(n),un(t,n,i)):Array.isArray(n)?n.map(o=>(r&&e.watch.add(o),un(t,o))):(r&&(e.watchAll=!0),t);function Eke(n){const e=VN(),{control:t=e.control,name:r,defaultValue:i,disabled:o,exact:a}=n||{},c=Mt.useRef(r);c.current=r,C8({disabled:o,subject:t._subjects.values,next:m=>{sie(c.current,m.name,a)&&h(mu(aie(c.current,t._names,m.values||t._formValues,!1,i)))}});const[u,h]=Mt.useState(t._getWatch(r,i));return Mt.useEffect(()=>t._removeUnmounted()),u}function Ske(n){const e=VN(),{name:t,disabled:r,control:i=e.control,shouldUnregister:o}=n,a=tie(i._names.array,t),c=Eke({control:i,name:t,defaultValue:un(i._formValues,t,un(i._defaultValues,t,n.defaultValue)),exact:!0}),u=_ke({control:i,name:t,exact:!0}),h=Mt.useRef(i.register(t,{...n.rules,value:c,...tf(n.disabled)?{disabled:n.disabled}:{}}));return Mt.useEffect(()=>{const m=i._options.shouldUnregister||o,v=(_,k)=>{const R=un(i._fields,_);R&&R._f&&(R._f.mount=k)};if(v(t,!0),m){const _=mu(un(i._options.defaultValues,t));lo(i._defaultValues,t,_),Zs(un(i._formValues,t))&&lo(i._formValues,t,_)}return()=>{(a?m&&!i._state.action:m)?i.unregister(t):v(t,!1)}},[t,i,a,o]),Mt.useEffect(()=>{un(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:un(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:c,...tf(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:Mt.useCallback(m=>h.current.onChange({target:{value:eie(m),name:t},type:e3.CHANGE}),[t]),onBlur:Mt.useCallback(()=>h.current.onBlur({target:{value:un(i._formValues,t),name:t},type:e3.BLUR}),[t,i]),ref:Mt.useCallback(m=>{const v=un(i._fields,t);v&&m&&(v._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:_=>m.setCustomValidity(_),reportValidity:()=>m.reportValidity()})},[i._fields,t])},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!un(u.errors,t)},isDirty:{enumerable:!0,get:()=>!!un(u.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!un(u.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!un(u.validatingFields,t)},error:{enumerable:!0,get:()=>un(u.errors,t)}})}}const kke=n=>n.render(Ske(n));var lie=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},sU=n=>({isOnSubmit:!n||n===gh.onSubmit,isOnBlur:n===gh.onBlur,isOnChange:n===gh.onChange,isOnAll:n===gh.all,isOnTouch:n===gh.onTouched}),aU=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const cC=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const o=un(n,i);if(o){const{_f:a,...c}=o;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(cC(c,e))break}else if(ua(c)&&cC(c,e))break}}};var Cke=(n,e,t)=>{const r=lC(un(n,t));return lo(r,"root",e[t]),lo(n,t,r),n},O8=n=>n.type==="file",eg=n=>typeof n=="function",t3=n=>{if(!S8)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},WM=n=>Fp(n),T8=n=>n.type==="radio",n3=n=>n instanceof RegExp;const lU={value:!1,isValid:!1},cU={value:!0,isValid:!0};var cie=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Zs(n[0].attributes.value)?Zs(n[0].value)||n[0].value===""?cU:{value:n[0].value,isValid:!0}:cU:lU}return lU};const uU={isValid:!1,value:null};var uie=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,uU):uU;function dU(n,e,t="validate"){if(WM(n)||Array.isArray(n)&&n.every(WM)||tf(n)&&!n)return{type:t,message:WM(n)?n:"",ref:e}}var dw=n=>ua(n)&&!n3(n)?n:{value:n,message:""},fU=async(n,e,t,r,i)=>{const{ref:o,refs:a,required:c,maxLength:u,minLength:h,min:m,max:v,pattern:_,validate:k,name:R,valueAsNumber:T,mount:F,disabled:$}=n._f,j=un(e,R);if(!F||$)return{};const B=a?a[0]:o,I=we=>{r&&B.reportValidity&&(B.setCustomValidity(tf(we)?"":we||""),B.reportValidity())},Y={},oe=T8(o),ne=UO(o),ae=oe||ne,Te=(T||O8(o))&&Zs(o.value)&&Zs(j)||t3(o)&&o.value===""||j===""||Array.isArray(j)&&!j.length,Me=lie.bind(null,R,t,Y),Ee=(we,Ce,Oe,Fe=jm.maxLength,ze=jm.minLength)=>{const dt=we?Ce:Oe;Y[R]={type:we?Fe:ze,message:dt,ref:o,...Me(we?Fe:ze,dt)}};if(i?!Array.isArray(j)||!j.length:c&&(!ae&&(Te||Fc(j))||tf(j)&&!j||ne&&!cie(a).isValid||oe&&!uie(a).isValid)){const{value:we,message:Ce}=WM(c)?{value:!!c,message:c}:dw(c);if(we&&(Y[R]={type:jm.required,message:Ce,ref:B,...Me(jm.required,Ce)},!t))return I(Ce),Y}if(!Te&&(!Fc(m)||!Fc(v))){let we,Ce;const Oe=dw(v),Fe=dw(m);if(!Fc(j)&&!isNaN(j)){const ze=o.valueAsNumber||j&&+j;Fc(Oe.value)||(we=ze>Oe.value),Fc(Fe.value)||(Ce=ze<Fe.value)}else{const ze=o.valueAsDate||new Date(j),dt=bt=>new Date(new Date().toDateString()+" "+bt),De=o.type=="time",Ze=o.type=="week";Fp(Oe.value)&&j&&(we=De?dt(j)>dt(Oe.value):Ze?j>Oe.value:ze>new Date(Oe.value)),Fp(Fe.value)&&j&&(Ce=De?dt(j)<dt(Fe.value):Ze?j<Fe.value:ze<new Date(Fe.value))}if((we||Ce)&&(Ee(!!we,Oe.message,Fe.message,jm.max,jm.min),!t))return I(Y[R].message),Y}if((u||h)&&!Te&&(Fp(j)||i&&Array.isArray(j))){const we=dw(u),Ce=dw(h),Oe=!Fc(we.value)&&j.length>+we.value,Fe=!Fc(Ce.value)&&j.length<+Ce.value;if((Oe||Fe)&&(Ee(Oe,we.message,Ce.message),!t))return I(Y[R].message),Y}if(_&&!Te&&Fp(j)){const{value:we,message:Ce}=dw(_);if(n3(we)&&!j.match(we)&&(Y[R]={type:jm.pattern,message:Ce,ref:o,...Me(jm.pattern,Ce)},!t))return I(Ce),Y}if(k){if(eg(k)){const we=await k(j,e),Ce=dU(we,B);if(Ce&&(Y[R]={...Ce,...Me(jm.validate,Ce.message)},!t))return I(Ce.message),Y}else if(ua(k)){let we={};for(const Ce in k){if(!vu(we)&&!t)break;const Oe=dU(await k[Ce](j,e),B,Ce);Oe&&(we={...Oe,...Me(Ce,Oe.message)},I(Oe.message),t&&(Y[R]=we))}if(!vu(we)&&(Y[R]={ref:B,...we},!t))return Y}}return I(!0),Y};function Oke(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Zs(n)?r++:n[e[r++]];return n}function Tke(n){for(const e in n)if(n.hasOwnProperty(e)&&!Zs(n[e]))return!1;return!0}function La(n,e){const t=Array.isArray(e)?e:k8(e)?[e]:nie(e),r=t.length===1?n:Oke(n,t),i=t.length-1,o=t[i];return r&&delete r[o],i!==0&&(ua(r)&&vu(r)||Array.isArray(r)&&Tke(r))&&La(n,t.slice(0,-1)),n}var f4=()=>{let n=[];return{get observers(){return n},next:i=>{for(const o of n)o.next&&o.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(o=>o!==i)}}),unsubscribe:()=>{n=[]}}},a6=n=>Fc(n)||!Jre(n);function Vy(n,e){if(a6(n)||a6(e))return n===e;if(D1(n)&&D1(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const o=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(D1(o)&&D1(a)||ua(o)&&ua(a)||Array.isArray(o)&&Array.isArray(a)?!Vy(o,a):o!==a)return!1}}return!0}var die=n=>n.type==="select-multiple",Ake=n=>T8(n)||UO(n),h4=n=>t3(n)&&n.isConnected,fie=n=>{for(const e in n)if(eg(n[e]))return!0;return!1};function r3(n,e={}){const t=Array.isArray(n);if(ua(n)||t)for(const r in n)Array.isArray(n[r])||ua(n[r])&&!fie(n[r])?(e[r]=Array.isArray(n[r])?[]:{},r3(n[r],e[r])):Fc(n[r])||(e[r]=!0);return e}function hie(n,e,t){const r=Array.isArray(n);if(ua(n)||r)for(const i in n)Array.isArray(n[i])||ua(n[i])&&!fie(n[i])?Zs(e)||a6(t[i])?t[i]=Array.isArray(n[i])?r3(n[i],[]):{...r3(n[i])}:hie(n[i],Fc(e)?{}:e[i],t[i]):t[i]=!Vy(n[i],e[i]);return t}var c2=(n,e)=>hie(n,e,r3(e)),pie=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Zs(n)?n:e?n===""?NaN:n&&+n:t&&Fp(n)?new Date(n):r?r(n):n;function p4(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return O8(e)?e.files:T8(e)?uie(n.refs).value:die(e)?[...e.selectedOptions].map(({value:t})=>t):UO(e)?cie(n.refs).value:pie(Zs(e.value)?n.ref.value:e.value,n)}var Rke=(n,e,t,r)=>{const i={};for(const o of n){const a=un(e,o);a&&lo(i,o,a._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},u2=n=>Zs(n)?n:n3(n)?n.source:ua(n)?n3(n.value)?n.value.source:n.value:n;const hU="AsyncFunction";var Pke=n=>(!n||!n.validate)&&!!(eg(n.validate)&&n.validate.constructor.name===hU||ua(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===hU)),Mke=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function pU(n,e,t){const r=un(n,t);if(r||k8(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const o=i.join("."),a=un(e,o),c=un(n,o);if(a&&!Array.isArray(a)&&t!==o)return{name:t};if(c&&c.type)return{name:o,error:c};i.pop()}return{name:t}}var Dke=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,Nke=(n,e)=>!jN(un(n,e)).length&&La(n,e);const Ike={mode:gh.onSubmit,reValidateMode:gh.onChange,shouldFocusError:!0};function Lke(n={}){let e={...Ike,...n},t={submitCount:0,isDirty:!1,isLoading:eg(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=ua(e.defaultValues)||ua(e.values)?mu(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:mu(i),a={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:f4(),array:f4(),state:f4()},_=sU(e.mode),k=sU(e.reValidateMode),R=e.criteriaMode===gh.all,T=Re=>We=>{clearTimeout(h),h=setTimeout(Re,We)},F=async Re=>{if(!n.disabled&&(m.isValid||Re)){const We=e.resolver?vu((await ae()).errors):await Me(r,!0);We!==t.isValid&&v.state.next({isValid:We})}},$=(Re,We)=>{!n.disabled&&(m.isValidating||m.validatingFields)&&((Re||Array.from(c.mount)).forEach(Je=>{Je&&(We?lo(t.validatingFields,Je,We):La(t.validatingFields,Je))}),v.state.next({validatingFields:t.validatingFields,isValidating:!vu(t.validatingFields)}))},j=(Re,We=[],Je,Nt,Bt=!0,At=!0)=>{if(Nt&&Je&&!n.disabled){if(a.action=!0,At&&Array.isArray(un(r,Re))){const vn=Je(un(r,Re),Nt.argA,Nt.argB);Bt&&lo(r,Re,vn)}if(At&&Array.isArray(un(t.errors,Re))){const vn=Je(un(t.errors,Re),Nt.argA,Nt.argB);Bt&&lo(t.errors,Re,vn),Nke(t.errors,Re)}if(m.touchedFields&&At&&Array.isArray(un(t.touchedFields,Re))){const vn=Je(un(t.touchedFields,Re),Nt.argA,Nt.argB);Bt&&lo(t.touchedFields,Re,vn)}m.dirtyFields&&(t.dirtyFields=c2(i,o)),v.state.next({name:Re,isDirty:we(Re,We),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else lo(o,Re,We)},B=(Re,We)=>{lo(t.errors,Re,We),v.state.next({errors:t.errors})},I=Re=>{t.errors=Re,v.state.next({errors:t.errors,isValid:!1})},Y=(Re,We,Je,Nt)=>{const Bt=un(r,Re);if(Bt){const At=un(o,Re,Zs(Je)?un(i,Re):Je);Zs(At)||Nt&&Nt.defaultChecked||We?lo(o,Re,We?At:p4(Bt._f)):Fe(Re,At),a.mount&&F()}},oe=(Re,We,Je,Nt,Bt)=>{let At=!1,vn=!1;const Nn={name:Re};if(!n.disabled){const Xt=!!(un(r,Re)&&un(r,Re)._f&&un(r,Re)._f.disabled);if(!Je||Nt){m.isDirty&&(vn=t.isDirty,t.isDirty=Nn.isDirty=we(),At=vn!==Nn.isDirty);const Rr=Xt||Vy(un(i,Re),We);vn=!!(!Xt&&un(t.dirtyFields,Re)),Rr||Xt?La(t.dirtyFields,Re):lo(t.dirtyFields,Re,!0),Nn.dirtyFields=t.dirtyFields,At=At||m.dirtyFields&&vn!==!Rr}if(Je){const Rr=un(t.touchedFields,Re);Rr||(lo(t.touchedFields,Re,Je),Nn.touchedFields=t.touchedFields,At=At||m.touchedFields&&Rr!==Je)}At&&Bt&&v.state.next(Nn)}return At?Nn:{}},ne=(Re,We,Je,Nt)=>{const Bt=un(t.errors,Re),At=m.isValid&&tf(We)&&t.isValid!==We;if(n.delayError&&Je?(u=T(()=>B(Re,Je)),u(n.delayError)):(clearTimeout(h),u=null,Je?lo(t.errors,Re,Je):La(t.errors,Re)),(Je?!Vy(Bt,Je):Bt)||!vu(Nt)||At){const vn={...Nt,...At&&tf(We)?{isValid:We}:{},errors:t.errors,name:Re};t={...t,...vn},v.state.next(vn)}},ae=async Re=>{$(Re,!0);const We=await e.resolver(o,e.context,Rke(Re||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return $(Re),We},Te=async Re=>{const{errors:We}=await ae(Re);if(Re)for(const Je of Re){const Nt=un(We,Je);Nt?lo(t.errors,Je,Nt):La(t.errors,Je)}else t.errors=We;return We},Me=async(Re,We,Je={valid:!0})=>{for(const Nt in Re){const Bt=Re[Nt];if(Bt){const{_f:At,...vn}=Bt;if(At){const Nn=c.array.has(At.name),Xt=Bt._f&&Pke(Bt._f);Xt&&m.validatingFields&&$([Nt],!0);const Rr=await fU(Bt,o,R,e.shouldUseNativeValidation&&!We,Nn);if(Xt&&m.validatingFields&&$([Nt]),Rr[At.name]&&(Je.valid=!1,We))break;!We&&(un(Rr,At.name)?Nn?Cke(t.errors,Rr,At.name):lo(t.errors,At.name,Rr[At.name]):La(t.errors,At.name))}!vu(vn)&&await Me(vn,We,Je)}}return Je.valid},Ee=()=>{for(const Re of c.unMount){const We=un(r,Re);We&&(We._f.refs?We._f.refs.every(Je=>!h4(Je)):!h4(We._f.ref))&&Tt(Re)}c.unMount=new Set},we=(Re,We)=>!n.disabled&&(Re&&We&&lo(o,Re,We),!Vy(Ye(),i)),Ce=(Re,We,Je)=>aie(Re,c,{...a.mount?o:Zs(We)?i:Fp(Re)?{[Re]:We}:We},Je,We),Oe=Re=>jN(un(a.mount?o:i,Re,n.shouldUnregister?un(i,Re,[]):[])),Fe=(Re,We,Je={})=>{const Nt=un(r,Re);let Bt=We;if(Nt){const At=Nt._f;At&&(!At.disabled&&lo(o,Re,pie(We,At)),Bt=t3(At.ref)&&Fc(We)?"":We,die(At.ref)?[...At.ref.options].forEach(vn=>vn.selected=Bt.includes(vn.value)):At.refs?UO(At.ref)?At.refs.length>1?At.refs.forEach(vn=>(!vn.defaultChecked||!vn.disabled)&&(vn.checked=Array.isArray(Bt)?!!Bt.find(Nn=>Nn===vn.value):Bt===vn.value)):At.refs[0]&&(At.refs[0].checked=!!Bt):At.refs.forEach(vn=>vn.checked=vn.value===Bt):O8(At.ref)?At.ref.value="":(At.ref.value=Bt,At.ref.type||v.values.next({name:Re,values:{...o}})))}(Je.shouldDirty||Je.shouldTouch)&&oe(Re,Bt,Je.shouldTouch,Je.shouldDirty,!0),Je.shouldValidate&&bt(Re)},ze=(Re,We,Je)=>{for(const Nt in We){const Bt=We[Nt],At=`${Re}.${Nt}`,vn=un(r,At);(c.array.has(Re)||ua(Bt)||vn&&!vn._f)&&!D1(Bt)?ze(At,Bt,Je):Fe(At,Bt,Je)}},dt=(Re,We,Je={})=>{const Nt=un(r,Re),Bt=c.array.has(Re),At=mu(We);lo(o,Re,At),Bt?(v.array.next({name:Re,values:{...o}}),(m.isDirty||m.dirtyFields)&&Je.shouldDirty&&v.state.next({name:Re,dirtyFields:c2(i,o),isDirty:we(Re,At)})):Nt&&!Nt._f&&!Fc(At)?ze(Re,At,Je):Fe(Re,At,Je),aU(Re,c)&&v.state.next({...t}),v.values.next({name:a.mount?Re:void 0,values:{...o}})},De=async Re=>{a.mount=!0;const We=Re.target;let Je=We.name,Nt=!0;const Bt=un(r,Je),At=()=>We.type?p4(Bt._f):eie(Re),vn=Nn=>{Nt=Number.isNaN(Nn)||D1(Nn)&&isNaN(Nn.getTime())||Vy(Nn,un(o,Je,Nn))};if(Bt){let Nn,Xt;const Rr=At(),Ti=Re.type===e3.BLUR||Re.type===e3.FOCUS_OUT,fi=!Mke(Bt._f)&&!e.resolver&&!un(t.errors,Je)&&!Bt._f.deps||Dke(Ti,un(t.touchedFields,Je),t.isSubmitted,k,_),pa=aU(Je,c,Ti);lo(o,Je,Rr),Ti?(Bt._f.onBlur&&Bt._f.onBlur(Re),u&&u(0)):Bt._f.onChange&&Bt._f.onChange(Re);const Vs=oe(Je,Rr,Ti,!1),zr=!vu(Vs)||pa;if(!Ti&&v.values.next({name:Je,type:Re.type,values:{...o}}),fi)return m.isValid&&(n.mode==="onBlur"?Ti&&F():F()),zr&&v.state.next({name:Je,...pa?{}:Vs});if(!Ti&&pa&&v.state.next({...t}),e.resolver){const{errors:_r}=await ae([Je]);if(vn(Rr),Nt){const mr=pU(t.errors,r,Je),Er=pU(_r,r,mr.name||Je);Nn=Er.error,Je=Er.name,Xt=vu(_r)}}else $([Je],!0),Nn=(await fU(Bt,o,R,e.shouldUseNativeValidation))[Je],$([Je]),vn(Rr),Nt&&(Nn?Xt=!1:m.isValid&&(Xt=await Me(r,!0)));Nt&&(Bt._f.deps&&bt(Bt._f.deps),ne(Je,Xt,Nn,Vs))}},Ze=(Re,We)=>{if(un(t.errors,We)&&Re.focus)return Re.focus(),1},bt=async(Re,We={})=>{let Je,Nt;const Bt=lC(Re);if(e.resolver){const At=await Te(Zs(Re)?Re:Bt);Je=vu(At),Nt=Re?!Bt.some(vn=>un(At,vn)):Je}else Re?(Nt=(await Promise.all(Bt.map(async At=>{const vn=un(r,At);return await Me(vn&&vn._f?{[At]:vn}:vn)}))).every(Boolean),!(!Nt&&!t.isValid)&&F()):Nt=Je=await Me(r);return v.state.next({...!Fp(Re)||m.isValid&&Je!==t.isValid?{}:{name:Re},...e.resolver||!Re?{isValid:Je}:{},errors:t.errors}),We.shouldFocus&&!Nt&&cC(r,Ze,Re?Bt:c.mount),Nt},Ye=Re=>{const We={...a.mount?o:i};return Zs(Re)?We:Fp(Re)?un(We,Re):Re.map(Je=>un(We,Je))},rt=(Re,We)=>({invalid:!!un((We||t).errors,Re),isDirty:!!un((We||t).dirtyFields,Re),error:un((We||t).errors,Re),isValidating:!!un(t.validatingFields,Re),isTouched:!!un((We||t).touchedFields,Re)}),ve=Re=>{Re&&lC(Re).forEach(We=>La(t.errors,We)),v.state.next({errors:Re?t.errors:{}})},vt=(Re,We,Je)=>{const Nt=(un(r,Re,{_f:{}})._f||{}).ref,Bt=un(t.errors,Re)||{},{ref:At,message:vn,type:Nn,...Xt}=Bt;lo(t.errors,Re,{...Xt,...We,ref:Nt}),v.state.next({name:Re,errors:t.errors,isValid:!1}),Je&&Je.shouldFocus&&Nt&&Nt.focus&&Nt.focus()},gt=(Re,We)=>eg(Re)?v.values.subscribe({next:Je=>Re(Ce(void 0,We),Je)}):Ce(Re,We,!0),Tt=(Re,We={})=>{for(const Je of Re?lC(Re):c.mount)c.mount.delete(Je),c.array.delete(Je),We.keepValue||(La(r,Je),La(o,Je)),!We.keepError&&La(t.errors,Je),!We.keepDirty&&La(t.dirtyFields,Je),!We.keepTouched&&La(t.touchedFields,Je),!We.keepIsValidating&&La(t.validatingFields,Je),!e.shouldUnregister&&!We.keepDefaultValue&&La(i,Je);v.values.next({values:{...o}}),v.state.next({...t,...We.keepDirty?{isDirty:we()}:{}}),!We.keepIsValid&&F()},Zt=({disabled:Re,name:We,field:Je,fields:Nt,value:Bt})=>{if(tf(Re)&&a.mount||Re){const At=Re?void 0:Zs(Bt)?p4(Je?Je._f:un(Nt,We)._f):Bt;lo(o,We,At),oe(We,At,!1,!1,!0)}},pn=(Re,We={})=>{let Je=un(r,Re);const Nt=tf(We.disabled)||tf(n.disabled);return lo(r,Re,{...Je||{},_f:{...Je&&Je._f?Je._f:{ref:{name:Re}},name:Re,mount:!0,...We}}),c.mount.add(Re),Je?Zt({field:Je,disabled:tf(We.disabled)?We.disabled:n.disabled,name:Re,value:We.value}):Y(Re,!0,We.value),{...Nt?{disabled:We.disabled||n.disabled}:{},...e.progressive?{required:!!We.required,min:u2(We.min),max:u2(We.max),minLength:u2(We.minLength),maxLength:u2(We.maxLength),pattern:u2(We.pattern)}:{},name:Re,onChange:De,onBlur:De,ref:Bt=>{if(Bt){pn(Re,We),Je=un(r,Re);const At=Zs(Bt.value)&&Bt.querySelectorAll&&Bt.querySelectorAll("input,select,textarea")[0]||Bt,vn=Ake(At),Nn=Je._f.refs||[];if(vn?Nn.find(Xt=>Xt===At):At===Je._f.ref)return;lo(r,Re,{_f:{...Je._f,...vn?{refs:[...Nn.filter(h4),At,...Array.isArray(un(i,Re))?[{}]:[]],ref:{type:At.type,name:Re}}:{ref:At}}}),Y(Re,!1,void 0,At)}else Je=un(r,Re,{}),Je._f&&(Je._f.mount=!1),(e.shouldUnregister||We.shouldUnregister)&&!(tie(c.array,Re)&&a.action)&&c.unMount.add(Re)}}},lr=()=>e.shouldFocusError&&cC(r,Ze,c.mount),ot=Re=>{tf(Re)&&(v.state.next({disabled:Re}),cC(r,(We,Je)=>{const Nt=un(r,Je);Nt&&(We.disabled=Nt._f.disabled||Re,Array.isArray(Nt._f.refs)&&Nt._f.refs.forEach(Bt=>{Bt.disabled=Nt._f.disabled||Re}))},0,!1))},Ht=(Re,We)=>async Je=>{let Nt;Je&&(Je.preventDefault&&Je.preventDefault(),Je.persist&&Je.persist());let Bt=mu(o);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:At,values:vn}=await ae();t.errors=At,Bt=vn}else await Me(r);if(La(t.errors,"root"),vu(t.errors)){v.state.next({errors:{}});try{await Re(Bt,Je)}catch(At){Nt=At}}else We&&await We({...t.errors},Je),lr(),setTimeout(lr);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vu(t.errors)&&!Nt,submitCount:t.submitCount+1,errors:t.errors}),Nt)throw Nt},Vt=(Re,We={})=>{un(r,Re)&&(Zs(We.defaultValue)?dt(Re,mu(un(i,Re))):(dt(Re,We.defaultValue),lo(i,Re,mu(We.defaultValue))),We.keepTouched||La(t.touchedFields,Re),We.keepDirty||(La(t.dirtyFields,Re),t.isDirty=We.defaultValue?we(Re,mu(un(i,Re))):we()),We.keepError||(La(t.errors,Re),m.isValid&&F()),v.state.next({...t}))},mn=(Re,We={})=>{const Je=Re?mu(Re):i,Nt=mu(Je),Bt=vu(Re),At=Bt?i:Nt;if(We.keepDefaultValues||(i=Je),!We.keepValues){if(We.keepDirtyValues){const vn=new Set([...c.mount,...Object.keys(c2(i,o))]);for(const Nn of Array.from(vn))un(t.dirtyFields,Nn)?lo(At,Nn,un(o,Nn)):dt(Nn,un(At,Nn))}else{if(S8&&Zs(Re))for(const vn of c.mount){const Nn=un(r,vn);if(Nn&&Nn._f){const Xt=Array.isArray(Nn._f.refs)?Nn._f.refs[0]:Nn._f.ref;if(t3(Xt)){const Rr=Xt.closest("form");if(Rr){Rr.reset();break}}}}r={}}o=n.shouldUnregister?We.keepDefaultValues?mu(i):{}:mu(At),v.array.next({values:{...At}}),v.values.next({values:{...At}})}c={mount:We.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!m.isValid||!!We.keepIsValid||!!We.keepDirtyValues,a.watch=!!n.shouldUnregister,v.state.next({submitCount:We.keepSubmitCount?t.submitCount:0,isDirty:Bt?!1:We.keepDirty?t.isDirty:!!(We.keepDefaultValues&&!Vy(Re,i)),isSubmitted:We.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:Bt?{}:We.keepDirtyValues?We.keepDefaultValues&&o?c2(i,o):t.dirtyFields:We.keepDefaultValues&&Re?c2(i,Re):We.keepDirty?t.dirtyFields:{},touchedFields:We.keepTouched?t.touchedFields:{},errors:We.keepErrors?t.errors:{},isSubmitSuccessful:We.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},En=(Re,We)=>mn(eg(Re)?Re(o):Re,We);return{control:{register:pn,unregister:Tt,getFieldState:rt,handleSubmit:Ht,setError:vt,_executeSchema:ae,_getWatch:Ce,_getDirty:we,_updateValid:F,_removeUnmounted:Ee,_updateFieldArray:j,_updateDisabledField:Zt,_getFieldArray:Oe,_reset:mn,_resetDefaultValues:()=>eg(e.defaultValues)&&e.defaultValues().then(Re=>{En(Re,e.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:Re=>{t={...t,...Re}},_disableForm:ot,_subjects:v,_proxyFormState:m,_setErrors:I,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(Re){a=Re},get _defaultValues(){return i},get _names(){return c},set _names(Re){c=Re},get _formState(){return t},set _formState(Re){t=Re},get _options(){return e},set _options(Re){e={...e,...Re}}},trigger:bt,register:pn,handleSubmit:Ht,watch:gt,setValue:dt,getValues:Ye,reset:En,resetField:Vt,clearErrors:ve,unregister:Tt,setError:vt,setFocus:(Re,We={})=>{const Je=un(r,Re),Nt=Je&&Je._f;if(Nt){const Bt=Nt.refs?Nt.refs[0]:Nt.ref;Bt.focus&&(Bt.focus(),We.shouldSelect&&Bt.select())}},getFieldState:rt}}function A8(n={}){const e=Mt.useRef(),t=Mt.useRef(),[r,i]=Mt.useState({isDirty:!1,isValidating:!1,isLoading:eg(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:eg(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...Lke(n),formState:r});const o=e.current.control;return o._options=n,C8({subject:o._subjects.state,next:a=>{oie(a,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),Mt.useEffect(()=>o._disableForm(n.disabled),[o,n.disabled]),Mt.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),Mt.useEffect(()=>{n.values&&!Vy(n.values,t.current)?(o._reset(n.values,o._options.resetOptions),t.current=n.values,i(a=>({...a}))):o._resetDefaultValues()},[n.values,o]),Mt.useEffect(()=>{n.errors&&o._setErrors(n.errors)},[n.errors,o]),Mt.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Mt.useEffect(()=>{n.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[n.shouldUnregister,o]),Mt.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=iie(r,o),e.current}const mU=(n,e,t)=>{if(n&&"reportValidity"in n){const r=un(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},mie=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?mU(r.ref,t,n):r.refs&&r.refs.forEach(i=>mU(i,t,n))}},Fke=(n,e)=>{e.shouldUseNativeValidation&&mie(n,e);const t={};for(const r in n){const i=un(e.fields,r),o=Object.assign(n[r]||{},{ref:i&&i.ref});if($ke(e.names||Object.keys(n),r)){const a=Object.assign({},un(t,r));lo(a,"root",o),lo(t,r,a)}else lo(t,r,o)}return t},$ke=(n,e)=>n.some(t=>t.startsWith(e+"."));var Bke=function(n,e){for(var t={};n.length;){var r=n[0],i=r.code,o=r.message,a=r.path.join(".");if(!t[a])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];t[a]={message:c.message,type:c.code}}else t[a]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(m){return m.errors.forEach(function(v){return n.push(v)})}),e){var u=t[a].types,h=u&&u[r.code];t[a]=lie(a,e,t,i,h?[].concat(h,r.message):r.message)}n.shift()}return t},R8=function(n,e,t){return t===void 0&&(t={}),function(r,i,o){try{return Promise.resolve(function(a,c){try{var u=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(h){return o.shouldUseNativeValidation&&mie({},o),{errors:{},values:t.raw?r:h}})}catch(h){return c(h)}return u&&u.then?u.then(void 0,c):u}(0,function(a){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(a))return{values:{},errors:Fke(Bke(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}}},jke="Label",gie=Z.forwardRef((n,e)=>V.jsx(zi.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));gie.displayName=jke;var yie=gie;const Vke=Y9("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vie=Z.forwardRef(({className:n,...e},t)=>V.jsx(yie,{ref:t,className:oi(Vke(),n),...e}));vie.displayName=yie.displayName;const P8=wke,bie=Z.createContext({}),Y1=({...n})=>V.jsx(bie.Provider,{value:{name:n.name},children:V.jsx(kke,{...n})}),zN=()=>{const n=Z.useContext(bie),e=Z.useContext(xie),{getFieldState:t,formState:r}=VN(),i=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:n.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},xie=Z.createContext({}),gv=Z.forwardRef(({className:n,...e},t)=>{const r=Z.useId();return V.jsx(xie.Provider,{value:{id:r},children:V.jsx("div",{ref:t,className:oi("space-y-2",n),...e})})});gv.displayName="FormItem";const yv=Z.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:i}=zN();return V.jsx(vie,{ref:t,className:oi(r&&"text-destructive",n),htmlFor:i,...e})});yv.displayName="FormLabel";const vv=Z.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:o}=zN();return V.jsx(Tv,{ref:e,id:r,"aria-describedby":t?`${i} ${o}`:`${i}`,"aria-invalid":!!t,...n})});vv.displayName="FormControl";const zke=Z.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=zN();return V.jsx("p",{ref:t,id:r,className:oi("text-sm text-muted-foreground",n),...e})});zke.displayName="FormDescription";const bv=Z.forwardRef(({className:n,children:e,...t},r)=>{const{error:i,formMessageId:o}=zN(),a=i?String(i==null?void 0:i.message):e;return a?V.jsx("p",{ref:r,id:o,className:oi("text-sm font-medium text-destructive",n),...t,children:a}):null});bv.displayName="FormMessage";const m4=768;function wie(){const[n,e]=Z.useState(void 0);return Z.useEffect(()=>{const t=window.matchMedia(`(max-width: ${m4-1}px)`),r=()=>{e(window.innerWidth<m4)};return t.addEventListener("change",r),e(window.innerWidth<m4),()=>t.removeEventListener("change",r)},[]),!!n}const Hke=Lp.object({name:Lp.string().min(2,{message:"O nome deve ter pelo menos 2 caracteres"}),description:Lp.string().min(5,{message:"A descrio deve ter pelo menos 5 caracteres"})}),g4=({mode:n="edit"})=>{const e=kb(),{id:t}=vN(),r=Uv(),i=n==="edit",o=n==="view",a=wie(),[c,u]=Z.useState("");Z.useState([]);const h=A8({resolver:R8(Hke),defaultValues:{name:"",description:""}}),{data:m,isLoading:v}=Al({queryKey:["process",t],queryFn:()=>Hp.getProcessById(t),enabled:!!t});Z.useEffect(()=>{m&&(h.reset({name:m.name,description:m.description}),setTimeout(()=>{u(m.xml||"")},100))},[m,h]),Z.useEffect(()=>{},[c]);const _=mg({mutationFn:F=>Hp.createProcess(F),onSuccess:()=>{r.invalidateQueries({queryKey:["processes"]}),ls.success("Processo criado com sucesso"),e("/processes")},onError:()=>{ls.error("Falha ao criar processo")}}),k=mg({mutationFn:({id:F,data:$})=>Hp.updateProcess(F,$),onSuccess:()=>{r.invalidateQueries({queryKey:["processes"]}),r.invalidateQueries({queryKey:["process",t]}),ls.success("Processo atualizado com sucesso"),e("/processes")},onError:()=>{ls.error("Falha ao atualizar processo")}}),R=F=>{u(F)},T=F=>{if(!c){ls.error("O diagrama BPMN  obrigatrio");return}const $={name:F.name,description:F.description,xml:c};t?k.mutate({id:t,data:$}):_.mutate($)};return v&&t?V.jsx("div",{className:"flex h-[calc(100vh-120px)] items-center justify-center",children:V.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):t&&!m?V.jsx("div",{className:"flex h-[calc(100vh-120px)] items-center justify-center",children:V.jsxs("div",{className:"text-center",children:[V.jsx("h2",{className:"text-2xl font-bold",children:"Processo no encontrado"}),V.jsx("p",{className:"text-muted-foreground",children:"O processo solicitado no existe"}),V.jsx(yi,{onClick:()=>e("/processes"),className:"mt-4",children:"Voltar para processos"})]})}):V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx(yi,{variant:"outline",size:"icon",onClick:()=>e("/processes"),children:V.jsx(_N,{className:"h-4 w-4"})}),V.jsx("h2",{className:"ml-4 text-3xl font-bold",children:o?m==null?void 0:m.name:t?"Editar Processo":"Novo Processo"})]}),o&&t&&V.jsxs("div",{className:"mt-4 flex space-x-2 md:mt-0",children:[V.jsx(yi,{asChild:!0,variant:"outline",children:V.jsxs("span",{onClick:()=>e(`/processes/${t}/edit`),children:[V.jsx(I_,{className:"mr-2 h-4 w-4"}),"Editar Processo"]})}),V.jsx(yi,{asChild:!0,children:V.jsxs("span",{onClick:()=>e(`/integration/new?processId=${t}`),children:[V.jsx(X9,{className:"mr-2 h-4 w-4"}),"Nova Integrao"]})})]})]}),V.jsxs("div",{className:"grid gap-6",children:[V.jsxs(za,{className:`${o?"h-[calc(100)]":"h-[calc(100vh)]"} ${a||!a&&window.innerWidth<1280?"w-full":""}`,children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:"Diagrama do Processo"}),V.jsx(wf,{children:o?"Visualizao do diagrama BPMN (somente leitura)":"Desenhe seu diagrama BPMN usando o modelador abaixo"})]}),V.jsx(Wa,{className:"h-[calc(100%-130px)]",children:v&&t?V.jsx("div",{className:"flex h-full w-full items-center justify-center",children:V.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):V.jsx(gSe,{initialXml:c,onChange:i?R:void 0,readOnly:o},c?"loaded":"empty")})]}),V.jsxs(za,{className:`${a||!a&&window.innerWidth<1280?"w-full":""}`,children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:"Detalhes do Processo"}),V.jsx(wf,{children:o?"Informaes bsicas do processo":"Insira as informaes bsicas sobre seu processo BPMN"})]}),V.jsx(Wa,{children:V.jsx(P8,{...h,children:V.jsxs("form",{onSubmit:h.handleSubmit(T),className:"space-y-4",children:[V.jsx(Y1,{control:h.control,name:"name",render:({field:F})=>V.jsxs(gv,{children:[V.jsx(yv,{children:"Nome"}),V.jsx(vv,{children:V.jsx(w8,{placeholder:"Digite o nome do processo",disabled:o,...F})}),V.jsx(bv,{})]})}),V.jsx(Y1,{control:h.control,name:"description",render:({field:F})=>V.jsxs(gv,{children:[V.jsx(yv,{children:"Descrio"}),V.jsx(vv,{children:V.jsx(_8,{placeholder:"Digite a descrio do processo",rows:4,disabled:o,...F})}),V.jsx(bv,{})]})}),i&&V.jsxs(yi,{type:"submit",className:"w-full",disabled:v||_.isPending||k.isPending,children:[V.jsx(Z9,{className:"mr-2 h-4 w-4"}),t?"Atualizar Processo":"Salvar Processo"]}),o&&t&&V.jsxs(yi,{type:"button",className:"w-full",variant:"outline",onClick:()=>e(`/processes/${t}/edit`),children:[V.jsx(I_,{className:"mr-2 h-4 w-4"}),"Editar Processo"]})]})})})]})]})]})},Wke=()=>V.jsx("div",{className:"flex h-[calc(100vh-160px)] items-center justify-center",children:V.jsxs("div",{className:"mx-auto flex max-w-md flex-col items-center justify-center text-center",children:[V.jsx("div",{className:"mb-4 rounded-full bg-primary/10 p-3",children:V.jsx(Q9,{className:"h-10 w-10 text-primary"})}),V.jsx("h2",{className:"text-2xl font-bold",children:"No forms found"}),V.jsx("p",{className:"mt-2 text-muted-foreground",children:"Create your first dynamic form to start collecting data for your processes."}),V.jsx(yi,{asChild:!0,className:"mt-6",children:V.jsxs(Cl,{to:"/forms/new",children:[V.jsx(dE,{className:"mr-2 h-4 w-4"}),"Create Form"]})})]})}),qke=()=>V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold",children:"Dynamic Forms"}),V.jsx("p",{className:"text-muted-foreground",children:"Manage your dynamic forms"})]})}),V.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((n,e)=>V.jsxs(za,{children:[V.jsxs(Ha,{children:[V.jsx("div",{className:"h-6 w-2/3 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"})]}),V.jsx(Wa,{children:V.jsxs("div",{className:"space-y-2",children:[V.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"h-4 w-3/4 animate-pulse rounded-md bg-muted"})]})}),V.jsxs(Cb,{className:"flex justify-between",children:[V.jsxs("div",{className:"flex gap-2",children:[V.jsx("div",{className:"h-9 w-16 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"h-9 w-16 animate-pulse rounded-md bg-muted"})]}),V.jsx("div",{className:"h-9 w-20 animate-pulse rounded-md bg-muted"})]})]},e))})]}),Uke=()=>{const n=Uv(),{data:e=[],isLoading:t}=Al({queryKey:["forms"],queryFn:()=>og.getAllForms()}),r=mg({mutationFn:o=>og.deleteForm(o),onSuccess:()=>{n.invalidateQueries({queryKey:["forms"]}),ls.success("Formulrio excludo com sucesso")},onError:o=>{ls.error("Falha ao excluir o formulrio"),console.error(o)}}),i=o=>{r.mutate(o)};return t?V.jsx(qke,{}):e.length===0?V.jsx(Wke,{}):V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold",children:"Formulrios Dinmicos"}),V.jsx("p",{className:"text-muted-foreground",children:"Gerencie seus formulrios interativos"})]}),V.jsx(yi,{asChild:!0,className:"mt-4 sm:mt-0",children:V.jsxs(Cl,{to:"/forms/new",children:[V.jsx(dE,{className:"mr-2 h-4 w-4"}),"Novo Formulrio"]})})]}),V.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(o=>{var a,c;return V.jsxs(za,{children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:o.name}),V.jsx(wf,{children:o.description})]}),V.jsx(Wa,{children:V.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.jsxs("p",{children:["Criado: ",ab(new Date(o.createdAt),"PPP")]}),V.jsxs("p",{children:["ltima atualizao: ",ab(new Date(o.updatedAt),"PPP")]}),V.jsxs("p",{className:"mt-2",children:["Campos: ",((c=(a=o.schema.components)==null?void 0:a.filter(u=>u.key))==null?void 0:c.length)||0]})]})}),V.jsx(Cb,{className:"flex justify-end",children:V.jsxs("div",{className:"flex gap-2",children:[V.jsx(yi,{asChild:!0,variant:"outline",size:"sm",children:V.jsx(Cl,{to:`/forms/${o.id}`,children:V.jsx(tne,{className:"h-4 w-4"})})}),V.jsx(yi,{asChild:!0,variant:"outline",size:"sm",children:V.jsx(Cl,{to:`/forms/${o.id}/edit`,children:V.jsx(I_,{className:"h-4 w-4"})})}),V.jsxs(b8,{children:[V.jsx(x8,{asChild:!0,children:V.jsx(yi,{variant:"destructive",size:"sm",children:V.jsx(J9,{className:"h-4 w-4"})})}),V.jsxs(PN,{children:[V.jsxs(MN,{children:[V.jsx(NN,{children:"Confirmar excluso"}),V.jsx(IN,{children:"Tem certeza que deseja excluir este formulrio? Esta ao no pode ser desfeita."})]}),V.jsxs(DN,{children:[V.jsx(FN,{children:"Cancelar"}),V.jsx(LN,{onClick:()=>i(o.id),children:"Excluir"})]})]})]})]})})]},o.id)})})]})};function Gke(n,e){return e={exports:{}},n(e,e.exports),e.exports}var Yke=Gke(function(n){var e=n.exports=function(t,r){if(r||(r=16),t===void 0&&(t=128),t<=0)return"0";for(var i=Math.log(Math.pow(2,t))/Math.log(r),o=2;i===1/0;o*=2)i=Math.log(Math.pow(2,t/o))/Math.log(r)*o;for(var a=i-Math.floor(i),c="",o=0;o<Math.floor(i);o++){var u=Math.floor(Math.random()*r).toString(r);c=u+c}if(a){var h=Math.pow(r,a),u=Math.floor(Math.random()*h).toString(r);c=u+c}var m=parseInt(c,r);return m!==1/0&&m>=Math.pow(2,t)?e(t,r):c};e.rack=function(t,r,i){var o=function(c){var u=0;do{if(u++>10)if(i)t+=i;else throw new Error("too many ID collisions, use more bits");var h=e(t,r)}while(Object.hasOwnProperty.call(a,h));return a[h]=c,h},a=o.hats={};return o.get=function(c){return o.hats[c]},o.set=function(c,u){return o.hats[c]=u,o},o.bits=t||128,o.base=r||16,o}});function Au(n){if(!(this instanceof Au))return new Au(n);n=n||[128,36,1],this._seed=n.length?Yke.rack(n[0],n[1],n[2]):n}Au.prototype.next=function(n){return this._seed(n||!0)};Au.prototype.nextPrefixed=function(n,e){var t;do t=n+this.next(!0);while(this.assigned(t));return this.claim(t,e),t};Au.prototype.claim=function(n,e){this._seed.set(n,e||!0)};Au.prototype.assigned=function(n){return this._seed.get(n)||!1};Au.prototype.unclaim=function(n){delete this._seed.hats[n]};Au.prototype.clear=function(){var n=this._seed.hats,e;for(e in n)this.unclaim(e)};const GO=Object.prototype.toString,Qke=Object.prototype.hasOwnProperty;function ph(n){return n===void 0}function M8(n){return n!==void 0}function kg(n){return n==null}function fa(n){return GO.call(n)==="[object Array]"}function _f(n){return GO.call(n)==="[object Object]"}function rc(n){return GO.call(n)==="[object Number]"}function Ao(n){const e=GO.call(n);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function Zo(n){return GO.call(n)==="[object String]"}function Kke(n){if(!fa(n))throw new Error("must supply array")}function D8(n,e){return!kg(n)&&Qke.call(n,e)}function Xke(n,e){const t=N8(e);let r;return tm(n,function(i,o){if(t(i,o))return r=i,!1}),r}function Zke(n,e){const t=N8(e);let r=fa(n)?-1:void 0;return tm(n,function(i,o){if(t(i,o))return r=o,!1}),r}function tm(n,e){let t,r;if(ph(n))return;const i=fa(n)?n2e:t2e;for(let o in n)if(D8(n,o)&&(t=n[o],r=e(t,i(o)),r===!1))return t}function l6(n,e){if(ph(n))return[];Kke(n);const t=N8(e);return n.filter(function(r,i){return!t(r,i)})}function _ie(n,e,t){return tm(n,function(r,i){t=e(t,r,i)}),t}function Jke(n,e){return!!Xke(n,e)}function Eie(n,e){let t=[];return tm(n,function(r,i){t.push(e(r,i))}),t}function e2e(n){return Eie(n,e=>e)}function Sie(n,e,t={}){return e=Cie(e),tm(n,function(r){let i=e(r)||"_",o=t[i];o||(o=t[i]=[]),o.push(r)}),t}function kie(n,...e){n=Cie(n);let t={};return tm(e,i=>Sie(i,n,t)),Eie(t,function(i,o){return i[0]})}function Cie(n){return Ao(n)?n:e=>e[n]}function N8(n){return Ao(n)?n:e=>e===n}function t2e(n){return n}function n2e(n){return Number(n)}function r2e(n,e){let t,r,i,o;function a(v){let _=Date.now(),k=v?0:o+e-_;if(k>0)return c(k);n.apply(i,r),u()}function c(v){t=setTimeout(a,v)}function u(){t&&clearTimeout(t),t=o=r=i=void 0}function h(){t&&a(!0),u()}function m(...v){o=Date.now(),r=v,i=this,t||c(e)}return m.flush=h,m.cancel=u,m}function Oie(n,e){return n.bind(e)}function I8(n,...e){return Object.assign(n,...e)}function Es(n,e,t){let r=n;return tm(e,function(i,o){if(typeof i!="number"&&typeof i!="string")throw new Error("illegal key type: "+typeof i+". Key should be of type number or string.");if(i==="constructor")throw new Error("illegal key: constructor");if(i==="__proto__")throw new Error("illegal key: __proto__");let a=e[o+1],c=r[i];M8(a)&&kg(c)&&(c=r[i]=isNaN(+a)?{}:[]),ph(a)?ph(t)?delete r[i]:r[i]=t:r=c}),n}function wt(n,e,t){let r=n;return tm(e,function(i){if(kg(r))return r=void 0,!1;r=r[i]}),ph(r)?t:r}var i2e=20,o2e=1,ub=1e6,gU=1e6,s2e=-7,a2e=21,l2e=!1,YO="[big.js] ",Ob=YO+"Invalid ",HN=Ob+"decimal places",c2e=Ob+"rounding mode",Tie=YO+"Division by zero",Eo={},Gp=void 0,u2e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Aie(){function n(e){var t=this;if(!(t instanceof n))return e===Gp?Aie():new n(e);if(e instanceof n)t.s=e.s,t.e=e.e,t.c=e.c.slice();else{if(typeof e!="string"){if(n.strict===!0&&typeof e!="bigint")throw TypeError(Ob+"value");e=e===0&&1/e<0?"-0":String(e)}d2e(t,e)}t.constructor=n}return n.prototype=Eo,n.DP=i2e,n.RM=o2e,n.NE=s2e,n.PE=a2e,n.strict=l2e,n.roundDown=0,n.roundHalfUp=1,n.roundHalfEven=2,n.roundUp=3,n}function d2e(n,e){var t,r,i;if(!u2e.test(e))throw Error(Ob+"number");for(n.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)n.c=[n.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(n.e=t-r-1,n.c=[],t=0;r<=i;)n.c[t++]=+e.charAt(r++)}return n}function Tb(n,e,t,r){var i=n.c;if(t===Gp&&(t=n.constructor.RM),t!==0&&t!==1&&t!==2&&t!==3)throw Error(c2e);if(e<1)r=t===3&&(r||!!i[0])||e===0&&(t===1&&i[0]>=5||t===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Gp))),i.length=1,r?(n.e=n.e-e+1,i[0]=1):i[0]=n.e=0;else if(e<i.length){if(r=t===1&&i[e]>=5||t===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==Gp||i[e-1]&1))||t===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++n.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return n}function Ab(n,e,t){var r=n.e,i=n.c.join(""),o=i.length;if(e)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>o)for(r-=o;r--;)i+="0";else r<o&&(i=i.slice(0,r)+"."+i.slice(r));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return n.s<0&&t?"-"+i:i}Eo.abs=function(){var n=new this.constructor(this);return n.s=1,n};Eo.cmp=function(n){var e,t=this,r=t.c,i=(n=new t.constructor(n)).c,o=t.s,a=n.s,c=t.e,u=n.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-a:0;if(o!=a)return o;if(e=o<0,c!=u)return c>u^e?1:-1;for(a=(c=r.length)<(u=i.length)?c:u,o=-1;++o<a;)if(r[o]!=i[o])return r[o]>i[o]^e?1:-1;return c==u?0:c>u^e?1:-1};Eo.div=function(n){var e=this,t=e.constructor,r=e.c,i=(n=new t(n)).c,o=e.s==n.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>ub)throw Error(HN);if(!i[0])throw Error(Tie);if(!r[0])return n.s=o,n.c=[n.e=0],n;var c,u,h,m,v,_=i.slice(),k=c=i.length,R=r.length,T=r.slice(0,c),F=T.length,$=n,j=$.c=[],B=0,I=a+($.e=e.e-n.e)+1;for($.s=o,o=I<0?0:I,_.unshift(0);F++<c;)T.push(0);do{for(h=0;h<10;h++){if(c!=(F=T.length))m=c>F?1:-1;else for(v=-1,m=0;++v<c;)if(i[v]!=T[v]){m=i[v]>T[v]?1:-1;break}if(m<0){for(u=F==c?i:_;F;){if(T[--F]<u[F]){for(v=F;v&&!T[--v];)T[v]=9;--T[v],T[F]+=10}T[F]-=u[F]}for(;!T[0];)T.shift()}else break}j[B++]=m?h:++h,T[0]&&m?T[F]=r[k]||0:T=[r[k]]}while((k++<R||T[0]!==Gp)&&o--);return!j[0]&&B!=1&&(j.shift(),$.e--,I--),B>I&&Tb($,I,t.RM,T[0]!==Gp),$};Eo.eq=function(n){return this.cmp(n)===0};Eo.gt=function(n){return this.cmp(n)>0};Eo.gte=function(n){return this.cmp(n)>-1};Eo.lt=function(n){return this.cmp(n)<0};Eo.lte=function(n){return this.cmp(n)<1};Eo.minus=Eo.sub=function(n){var e,t,r,i,o=this,a=o.constructor,c=o.s,u=(n=new a(n)).s;if(c!=u)return n.s=-u,o.plus(n);var h=o.c.slice(),m=o.e,v=n.c,_=n.e;if(!h[0]||!v[0])return v[0]?n.s=-u:h[0]?n=new a(o):n.s=1,n;if(c=m-_){for((i=c<0)?(c=-c,r=h):(_=m,r=v),r.reverse(),u=c;u--;)r.push(0);r.reverse()}else for(t=((i=h.length<v.length)?h:v).length,c=u=0;u<t;u++)if(h[u]!=v[u]){i=h[u]<v[u];break}if(i&&(r=h,h=v,v=r,n.s=-n.s),(u=(t=v.length)-(e=h.length))>0)for(;u--;)h[e++]=0;for(u=e;t>c;){if(h[--t]<v[t]){for(e=t;e&&!h[--e];)h[e]=9;--h[e],h[t]+=10}h[t]-=v[t]}for(;h[--u]===0;)h.pop();for(;h[0]===0;)h.shift(),--_;return h[0]||(n.s=1,h=[_=0]),n.c=h,n.e=_,n};Eo.mod=function(n){var e,t=this,r=t.constructor,i=t.s,o=(n=new r(n)).s;if(!n.c[0])throw Error(Tie);return t.s=n.s=1,e=n.cmp(t)==1,t.s=i,n.s=o,e?new r(t):(i=r.DP,o=r.RM,r.DP=r.RM=0,t=t.div(n),r.DP=i,r.RM=o,this.minus(t.times(n)))};Eo.neg=function(){var n=new this.constructor(this);return n.s=-n.s,n};Eo.plus=Eo.add=function(n){var e,t,r,i=this,o=i.constructor;if(n=new o(n),i.s!=n.s)return n.s=-n.s,i.minus(n);var a=i.e,c=i.c,u=n.e,h=n.c;if(!c[0]||!h[0])return h[0]||(c[0]?n=new o(i):n.s=i.s),n;if(c=c.slice(),e=a-u){for(e>0?(u=a,r=h):(e=-e,r=c),r.reverse();e--;)r.push(0);r.reverse()}for(c.length-h.length<0&&(r=h,h=c,c=r),e=h.length,t=0;e;c[e]%=10)t=(c[--e]=c[e]+h[e]+t)/10|0;for(t&&(c.unshift(t),++u),e=c.length;c[--e]===0;)c.pop();return n.c=c,n.e=u,n};Eo.pow=function(n){var e=this,t=new e.constructor("1"),r=t,i=n<0;if(n!==~~n||n<-gU||n>gU)throw Error(Ob+"exponent");for(i&&(n=-n);n&1&&(r=r.times(e)),n>>=1,!!n;)e=e.times(e);return i?t.div(r):r};Eo.prec=function(n,e){if(n!==~~n||n<1||n>ub)throw Error(Ob+"precision");return Tb(new this.constructor(this),n,e)};Eo.round=function(n,e){if(n===Gp)n=0;else if(n!==~~n||n<-ub||n>ub)throw Error(HN);return Tb(new this.constructor(this),n+this.e+1,e)};Eo.sqrt=function(){var n,e,t,r=this,i=r.constructor,o=r.s,a=r.e,c=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error(YO+"No square root");o=Math.sqrt(+Ab(r,!0,!0)),o===0||o===1/0?(e=r.c.join(""),e.length+a&1||(e+="0"),o=Math.sqrt(e),a=((a+1)/2|0)-(a<0||a&1),n=new i((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):n=new i(o+""),a=n.e+(i.DP+=4);do t=n,n=c.times(t.plus(r.div(t)));while(t.c.slice(0,a).join("")!==n.c.slice(0,a).join(""));return Tb(n,(i.DP-=4)+n.e+1,i.RM)};Eo.times=Eo.mul=function(n){var e,t=this,r=t.constructor,i=t.c,o=(n=new r(n)).c,a=i.length,c=o.length,u=t.e,h=n.e;if(n.s=t.s==n.s?1:-1,!i[0]||!o[0])return n.c=[n.e=0],n;for(n.e=u+h,a<c&&(e=i,i=o,o=e,h=a,a=c,c=h),e=new Array(h=a+c);h--;)e[h]=0;for(u=c;u--;){for(c=0,h=a+u;h>u;)c=e[h]+o[u]*i[h-u-1]+c,e[h--]=c%10,c=c/10|0;e[h]=c}for(c?++n.e:e.shift(),u=e.length;!e[--u];)e.pop();return n.c=e,n};Eo.toExponential=function(n,e){var t=this,r=t.c[0];if(n!==Gp){if(n!==~~n||n<0||n>ub)throw Error(HN);for(t=Tb(new t.constructor(t),++n,e);t.c.length<n;)t.c.push(0)}return Ab(t,!0,!!r)};Eo.toFixed=function(n,e){var t=this,r=t.c[0];if(n!==Gp){if(n!==~~n||n<0||n>ub)throw Error(HN);for(t=Tb(new t.constructor(t),n+t.e+1,e),n=n+t.e+1;t.c.length<n;)t.c.push(0)}return Ab(t,!1,!!r)};Eo[Symbol.for("nodejs.util.inspect.custom")]=Eo.toJSON=Eo.toString=function(){var n=this,e=n.constructor;return Ab(n,n.e<=e.NE||n.e>=e.PE,!!n.c[0])};Eo.toNumber=function(){var n=+Ab(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(n.toString()))throw Error(YO+"Imprecise conversion");return n};Eo.toPrecision=function(n,e){var t=this,r=t.constructor,i=t.c[0];if(n!==Gp){if(n!==~~n||n<1||n>ub)throw Error(Ob+"precision");for(t=Tb(new r(t),n,e);t.c.length<n;)t.c.push(0)}return Ab(t,n<=t.e||t.e<=r.NE||t.e>=r.PE,!!i)};Eo.valueOf=function(){var n=this,e=n.constructor;if(e.strict===!0)throw Error(YO+"valueOf disallowed");return Ab(n,n.e<=e.NE||n.e>=e.PE,!0)};var sl=Aie(),Rie={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var c in o)e.call(o,c)&&o[c]&&(a=i(a,c));return a}function i(o,a){return a?o?o+" "+a:o+a:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Rie);var f2e=Rie.exports;const er=rE(f2e);var WN,ei,Pie,k1,yU,Mie,Die,Nie,L8,c6,u6,Iie,cO={},Lie=[],h2e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,QO=Array.isArray;function tg(n,e){for(var t in e)n[t]=e[t];return n}function F8(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function St(n,e,t){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?WN.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)a[o]==null&&(a[o]=n.defaultProps[o]);return qM(n,a,r,i,null)}function qM(n,e,t,r,i){var o={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Pie,__i:-1,__u:0};return i==null&&ei.vnode!=null&&ei.vnode(o),o}function Vo(n){return n.children}function sg(n,e){this.props=n,this.context=e}function V_(n,e){if(e==null)return n.__?V_(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?V_(n):null}function Fie(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Fie(n)}}function d6(n){(!n.__d&&(n.__d=!0)&&k1.push(n)&&!i3.__r++||yU!=ei.debounceRendering)&&((yU=ei.debounceRendering)||Mie)(i3)}function i3(){for(var n,e,t,r,i,o,a,c=1;k1.length;)k1.length>c&&k1.sort(Die),n=k1.shift(),c=k1.length,n.__d&&(t=void 0,i=(r=(e=n).__v).__e,o=[],a=[],e.__P&&((t=tg({},r)).__v=r.__v+1,ei.vnode&&ei.vnode(t),$8(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,o,i??V_(r),!!(32&r.__u),a),t.__v=r.__v,t.__.__k[t.__i]=t,jie(o,t,a),t.__e!=i&&Fie(t)));i3.__r=0}function $ie(n,e,t,r,i,o,a,c,u,h,m){var v,_,k,R,T,F,$=r&&r.__k||Lie,j=e.length;for(u=p2e(t,e,$,u,j),v=0;v<j;v++)(k=t.__k[v])!=null&&(_=k.__i==-1?cO:$[k.__i]||cO,k.__i=v,F=$8(n,k,_,i,o,a,c,u,h,m),R=k.__e,k.ref&&_.ref!=k.ref&&(_.ref&&B8(_.ref,null,k),m.push(k.ref,k.__c||R,k)),T==null&&R!=null&&(T=R),4&k.__u||_.__k===k.__k?u=Bie(k,u,n):typeof k.type=="function"&&F!==void 0?u=F:R&&(u=R.nextSibling),k.__u&=-7);return t.__e=T,u}function p2e(n,e,t,r,i){var o,a,c,u,h,m=t.length,v=m,_=0;for(n.__k=new Array(i),o=0;o<i;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(u=o+_,(a=n.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?qM(null,a,null,null,null):QO(a)?qM(Vo,{children:a},null,null,null):a.constructor==null&&a.__b>0?qM(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=n,a.__b=n.__b+1,c=null,(h=a.__i=m2e(a,t,u,v))!=-1&&(v--,(c=t[h])&&(c.__u|=2)),c==null||c.__v==null?(h==-1&&(i>m?_--:i<m&&_++),typeof a.type!="function"&&(a.__u|=4)):h!=u&&(h==u-1?_--:h==u+1?_++:(h>u?_--:_++,a.__u|=4))):n.__k[o]=null;if(v)for(o=0;o<m;o++)(c=t[o])!=null&&!(2&c.__u)&&(c.__e==r&&(r=V_(c)),zie(c,c));return r}function Bie(n,e,t){var r,i;if(typeof n.type=="function"){for(r=n.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=n,e=Bie(r[i],e,t));return e}n.__e!=e&&(e&&n.type&&!t.contains(e)&&(e=V_(n)),t.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function o3(n,e){return e=e||[],n==null||typeof n=="boolean"||(QO(n)?n.some(function(t){o3(t,e)}):e.push(n)),e}function m2e(n,e,t,r){var i,o,a=n.key,c=n.type,u=e[t];if(u===null&&n.key==null||u&&a==u.key&&c==u.type&&!(2&u.__u))return t;if(r>(u!=null&&!(2&u.__u)?1:0))for(i=t-1,o=t+1;i>=0||o<e.length;){if(i>=0){if((u=e[i])&&!(2&u.__u)&&a==u.key&&c==u.type)return i;i--}if(o<e.length){if((u=e[o])&&!(2&u.__u)&&a==u.key&&c==u.type)return o;o++}}return-1}function vU(n,e,t){e[0]=="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||h2e.test(e)?t:t+"px"}function kP(n,e,t,r,i){var o;e:if(e=="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||vU(n.style,e,"");if(t)for(e in t)r&&t[e]==r[e]||vU(n.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Nie,"$1")),e=e.toLowerCase()in n||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?r?t.u=r.u:(t.u=L8,n.addEventListener(e,o?u6:c6,o)):n.removeEventListener(e,o?u6:c6,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function bU(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=L8++;else if(e.t<t.u)return;return t(ei.event?ei.event(e):e)}}}function $8(n,e,t,r,i,o,a,c,u,h){var m,v,_,k,R,T,F,$,j,B,I,Y,oe,ne,ae,Te,Me,Ee=e.type;if(e.constructor!=null)return null;128&t.__u&&(u=!!(32&t.__u),o=[c=e.__e=t.__e]),(m=ei.__b)&&m(e);e:if(typeof Ee=="function")try{if($=e.props,j="prototype"in Ee&&Ee.prototype.render,B=(m=Ee.contextType)&&r[m.__c],I=m?B?B.props.value:m.__:r,t.__c?F=(v=e.__c=t.__c).__=v.__E:(j?e.__c=v=new Ee($,I):(e.__c=v=new sg($,I),v.constructor=Ee,v.render=y2e),B&&B.sub(v),v.props=$,v.state||(v.state={}),v.context=I,v.__n=r,_=v.__d=!0,v.__h=[],v._sb=[]),j&&v.__s==null&&(v.__s=v.state),j&&Ee.getDerivedStateFromProps!=null&&(v.__s==v.state&&(v.__s=tg({},v.__s)),tg(v.__s,Ee.getDerivedStateFromProps($,v.__s))),k=v.props,R=v.state,v.__v=e,_)j&&Ee.getDerivedStateFromProps==null&&v.componentWillMount!=null&&v.componentWillMount(),j&&v.componentDidMount!=null&&v.__h.push(v.componentDidMount);else{if(j&&Ee.getDerivedStateFromProps==null&&$!==k&&v.componentWillReceiveProps!=null&&v.componentWillReceiveProps($,I),!v.__e&&v.shouldComponentUpdate!=null&&v.shouldComponentUpdate($,v.__s,I)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(v.props=$,v.state=v.__s,v.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(we){we&&(we.__=e)}),Y=0;Y<v._sb.length;Y++)v.__h.push(v._sb[Y]);v._sb=[],v.__h.length&&a.push(v);break e}v.componentWillUpdate!=null&&v.componentWillUpdate($,v.__s,I),j&&v.componentDidUpdate!=null&&v.__h.push(function(){v.componentDidUpdate(k,R,T)})}if(v.context=I,v.props=$,v.__P=n,v.__e=!1,oe=ei.__r,ne=0,j){for(v.state=v.__s,v.__d=!1,oe&&oe(e),m=v.render(v.props,v.state,v.context),ae=0;ae<v._sb.length;ae++)v.__h.push(v._sb[ae]);v._sb=[]}else do v.__d=!1,oe&&oe(e),m=v.render(v.props,v.state,v.context),v.state=v.__s;while(v.__d&&++ne<25);v.state=v.__s,v.getChildContext!=null&&(r=tg(tg({},r),v.getChildContext())),j&&!_&&v.getSnapshotBeforeUpdate!=null&&(T=v.getSnapshotBeforeUpdate(k,R)),Te=m,m!=null&&m.type===Vo&&m.key==null&&(Te=Vie(m.props.children)),c=$ie(n,QO(Te)?Te:[Te],e,t,r,i,o,a,c,u,h),v.base=e.__e,e.__u&=-161,v.__h.length&&a.push(v),F&&(v.__E=v.__=null)}catch(we){if(e.__v=null,u||o!=null)if(we.then){for(e.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,e.__e=c}else for(Me=o.length;Me--;)F8(o[Me]);else e.__e=t.__e,e.__k=t.__k;ei.__e(we,e,t)}else o==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):c=e.__e=g2e(t.__e,e,t,r,i,o,a,u,h);return(m=ei.diffed)&&m(e),128&e.__u?void 0:c}function jie(n,e,t){for(var r=0;r<t.length;r++)B8(t[r],t[++r],t[++r]);ei.__c&&ei.__c(e,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(o){o.call(i)})}catch(o){ei.__e(o,i.__v)}})}function Vie(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:QO(n)?n.map(Vie):tg({},n)}function g2e(n,e,t,r,i,o,a,c,u){var h,m,v,_,k,R,T,F=t.props,$=e.props,j=e.type;if(j=="svg"?i="http://www.w3.org/2000/svg":j=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(h=0;h<o.length;h++)if((k=o[h])&&"setAttribute"in k==!!j&&(j?k.localName==j:k.nodeType==3)){n=k,o[h]=null;break}}if(n==null){if(j==null)return document.createTextNode($);n=document.createElementNS(i,j,$.is&&$),c&&(ei.__m&&ei.__m(e,o),c=!1),o=null}if(j==null)F===$||c&&n.data==$||(n.data=$);else{if(o=o&&WN.call(n.childNodes),F=t.props||cO,!c&&o!=null)for(F={},h=0;h<n.attributes.length;h++)F[(k=n.attributes[h]).name]=k.value;for(h in F)if(k=F[h],h!="children"){if(h=="dangerouslySetInnerHTML")v=k;else if(!(h in $)){if(h=="value"&&"defaultValue"in $||h=="checked"&&"defaultChecked"in $)continue;kP(n,h,null,k,i)}}for(h in $)k=$[h],h=="children"?_=k:h=="dangerouslySetInnerHTML"?m=k:h=="value"?R=k:h=="checked"?T=k:c&&typeof k!="function"||F[h]===k||kP(n,h,k,F[h],i);if(m)c||v&&(m.__html==v.__html||m.__html==n.innerHTML)||(n.innerHTML=m.__html),e.__k=[];else if(v&&(n.innerHTML=""),$ie(e.type=="template"?n.content:n,QO(_)?_:[_],e,t,r,j=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:t.__k&&V_(t,0),c,u),o!=null)for(h=o.length;h--;)F8(o[h]);c||(h="value",j=="progress"&&R==null?n.removeAttribute("value"):R!=null&&(R!==n[h]||j=="progress"&&!R||j=="option"&&R!=F[h])&&kP(n,h,R,F[h],i),h="checked",T!=null&&T!=n[h]&&kP(n,h,T,F[h],i))}return n}function B8(n,e,t){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(i){ei.__e(i,t)}}function zie(n,e,t){var r,i;if(ei.unmount&&ei.unmount(n),(r=n.ref)&&(r.current&&r.current!=n.__e||B8(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){ei.__e(o,e)}r.base=r.__P=null}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&zie(r[i],e,t||typeof n.type!="function");t||F8(n.__e),n.__c=n.__=n.__e=void 0}function y2e(n,e,t){return this.constructor(n,t)}function bg(n,e,t){var r,i,o,a;e==document&&(e=document.documentElement),ei.__&&ei.__(n,e),i=(r=typeof t=="function")?null:e.__k,o=[],a=[],$8(e,n=(!r&&t||e).__k=St(Vo,null,[n]),i||cO,cO,e.namespaceURI,!r&&t?[t]:i?null:e.firstChild?WN.call(e.childNodes):null,o,!r&&t?t:i?i.__e:e.firstChild,r,a),jie(o,n,a)}function Du(n){function e(t){var r,i;return this.getChildContext||(r=new Set,(i={})[e.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&r.forEach(function(a){a.__e=!0,d6(a)})},this.sub=function(o){r.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),a&&a.call(o)}}),t.children}return e.__c="__cC"+Iie++,e.__=n,e.Provider=e.__l=(e.Consumer=function(t,r){return t.children(r)}).contextType=e,e}WN=Lie.slice,ei={__e:function(n,e,t,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(n)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,r||{}),a=i.__d),a)return i.__E=i}catch(c){n=c}throw n}},Pie=0,sg.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=tg({},this.state),typeof n=="function"&&(n=n(tg({},t),this.props)),n&&tg(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),d6(this))},sg.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),d6(this))},sg.prototype.render=Vo,k1=[],Mie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Die=function(n,e){return n.__v.__b-e.__v.__b},i3.__r=0,Nie=/(PointerCapture)$|Capture$/i,L8=0,c6=bU(!1),u6=bU(!0),Iie=0;var v2e=0;function q(n,e,t,r,i,o){e||(e={});var a,c,u=e;if("ref"in u)for(c in u={},e)c=="ref"?a=e[c]:u[c]=e[c];var h={type:n,props:u,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--v2e,__i:-1,__u:0,__source:i,__self:o};if(typeof n=="function"&&(a=n.defaultProps))for(c in a)u[c]===void 0&&(u[c]=a[c]);return ei.vnode&&ei.vnode(h),h}var db,Ss,y4,xU,uO=0,Hie=[],sa=ei,wU=sa.__b,_U=sa.__r,EU=sa.diffed,SU=sa.__c,kU=sa.unmount,CU=sa.__;function KO(n,e){sa.__h&&sa.__h(Ss,n,uO||e),uO=0;var t=Ss.__H||(Ss.__H={__:[],__h:[]});return n>=t.__.length&&t.__.push({}),t.__[n]}function hn(n){return uO=1,b2e(Wie,n)}function b2e(n,e,t){var r=KO(db++,2);if(r.t=n,!r.__c&&(r.__=[t?t(e):Wie(void 0,e),function(c){var u=r.__N?r.__N[0]:r.__[0],h=r.t(u,c);u!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=Ss,!Ss.__f)){var i=function(c,u,h){if(!r.__c.__H)return!0;var m=r.__c.__H.__.filter(function(_){return!!_.__c});if(m.every(function(_){return!_.__N}))return!o||o.call(this,c,u,h);var v=r.__c.props!==c;return m.forEach(function(_){if(_.__N){var k=_.__[0];_.__=_.__N,_.__N=void 0,k!==_.__[0]&&(v=!0)}}),o&&o.call(this,c,u,h)||v};Ss.__f=!0;var o=Ss.shouldComponentUpdate,a=Ss.componentWillUpdate;Ss.componentWillUpdate=function(c,u,h){if(this.__e){var m=o;o=void 0,i(c,u,h),o=m}a&&a.call(this,c,u,h)},Ss.shouldComponentUpdate=i}return r.__N||r.__}function sn(n,e){var t=KO(db++,3);!sa.__s&&j8(t.__H,e)&&(t.__=n,t.u=e,Ss.__H.__h.push(t))}function fb(n,e){var t=KO(db++,4);!sa.__s&&j8(t.__H,e)&&(t.__=n,t.u=e,Ss.__h.push(t))}function Kn(n){return uO=5,$n(function(){return{current:n}},[])}function $n(n,e){var t=KO(db++,7);return j8(t.__H,e)&&(t.__=n(),t.__H=e,t.__h=n),t.__}function qn(n,e){return uO=8,$n(function(){return n},e)}function _i(n){var e=Ss.context[n.__c],t=KO(db++,9);return t.c=n,e?(t.__==null&&(t.__=!0,e.sub(Ss)),e.props.value):n.__}function x2e(){for(var n;n=Hie.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(UM),n.__H.__h.forEach(f6),n.__H.__h=[]}catch(e){n.__H.__h=[],sa.__e(e,n.__v)}}sa.__b=function(n){Ss=null,wU&&wU(n)},sa.__=function(n,e){n&&e.__k&&e.__k.__m&&(n.__m=e.__k.__m),CU&&CU(n,e)},sa.__r=function(n){_U&&_U(n),db=0;var e=(Ss=n.__c).__H;e&&(y4===Ss?(e.__h=[],Ss.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(UM),e.__h.forEach(f6),e.__h=[],db=0)),y4=Ss},sa.diffed=function(n){EU&&EU(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(Hie.push(e)!==1&&xU===sa.requestAnimationFrame||((xU=sa.requestAnimationFrame)||w2e)(x2e)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),y4=Ss=null},sa.__c=function(n,e){e.some(function(t){try{t.__h.forEach(UM),t.__h=t.__h.filter(function(r){return!r.__||f6(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],sa.__e(r,t.__v)}}),SU&&SU(n,e)},sa.unmount=function(n){kU&&kU(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{UM(r)}catch(i){e=i}}),t.__H=void 0,e&&sa.__e(e,t.__v))};var OU=typeof requestAnimationFrame=="function";function w2e(n){var e,t=function(){clearTimeout(r),OU&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);OU&&(e=requestAnimationFrame(t))}function UM(n){var e=Ss,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),Ss=e}function f6(n){var e=Ss;n.__c=n.__(),Ss=e}function j8(n,e){return!n||n.length!==e.length||e.some(function(t,r){return t!==n[r]})}function Wie(n,e){return typeof e=="function"?e(n):e}function _2e(){this.__data__=[],this.size=0}var E2e=_2e;function S2e(n,e){return n===e||n!==n&&e!==e}var qie=S2e,k2e=qie;function C2e(n,e){for(var t=n.length;t--;)if(k2e(n[t][0],e))return t;return-1}var qN=C2e,O2e=qN,T2e=Array.prototype,A2e=T2e.splice;function R2e(n){var e=this.__data__,t=O2e(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():A2e.call(e,t,1),--this.size,!0}var P2e=R2e,M2e=qN;function D2e(n){var e=this.__data__,t=M2e(e,n);return t<0?void 0:e[t][1]}var N2e=D2e,I2e=qN;function L2e(n){return I2e(this.__data__,n)>-1}var F2e=L2e,$2e=qN;function B2e(n,e){var t=this.__data__,r=$2e(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var j2e=B2e,V2e=E2e,z2e=P2e,H2e=N2e,W2e=F2e,q2e=j2e;function mE(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}mE.prototype.clear=V2e;mE.prototype.delete=z2e;mE.prototype.get=H2e;mE.prototype.has=W2e;mE.prototype.set=q2e;var UN=mE,U2e=UN;function G2e(){this.__data__=new U2e,this.size=0}var Y2e=G2e;function Q2e(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var K2e=Q2e;function X2e(n){return this.__data__.get(n)}var Z2e=X2e;function J2e(n){return this.__data__.has(n)}var eCe=J2e,tCe=typeof mh=="object"&&mh&&mh.Object===Object&&mh,Uie=tCe,nCe=Uie,rCe=typeof self=="object"&&self&&self.Object===Object&&self,iCe=nCe||rCe||Function("return this")(),Cg=iCe,oCe=Cg,sCe=oCe.Symbol,V8=sCe,TU=V8,Gie=Object.prototype,aCe=Gie.hasOwnProperty,lCe=Gie.toString,d2=TU?TU.toStringTag:void 0;function cCe(n){var e=aCe.call(n,d2),t=n[d2];try{n[d2]=void 0;var r=!0}catch{}var i=lCe.call(n);return r&&(e?n[d2]=t:delete n[d2]),i}var uCe=cCe,dCe=Object.prototype,fCe=dCe.toString;function hCe(n){return fCe.call(n)}var pCe=hCe,AU=V8,mCe=uCe,gCe=pCe,yCe="[object Null]",vCe="[object Undefined]",RU=AU?AU.toStringTag:void 0;function bCe(n){return n==null?n===void 0?vCe:yCe:RU&&RU in Object(n)?mCe(n):gCe(n)}var GN=bCe;function xCe(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Yie=xCe,wCe=GN,_Ce=Yie,ECe="[object AsyncFunction]",SCe="[object Function]",kCe="[object GeneratorFunction]",CCe="[object Proxy]";function OCe(n){if(!_Ce(n))return!1;var e=wCe(n);return e==SCe||e==kCe||e==ECe||e==CCe}var Qie=OCe,TCe=Cg,ACe=TCe["__core-js_shared__"],RCe=ACe,v4=RCe,PU=function(){var n=/[^.]+$/.exec(v4&&v4.keys&&v4.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function PCe(n){return!!PU&&PU in n}var MCe=PCe,DCe=Function.prototype,NCe=DCe.toString;function ICe(n){if(n!=null){try{return NCe.call(n)}catch{}try{return n+""}catch{}}return""}var Kie=ICe,LCe=Qie,FCe=MCe,$Ce=Yie,BCe=Kie,jCe=/[\\^$.*+?()[\]{}|]/g,VCe=/^\[object .+?Constructor\]$/,zCe=Function.prototype,HCe=Object.prototype,WCe=zCe.toString,qCe=HCe.hasOwnProperty,UCe=RegExp("^"+WCe.call(qCe).replace(jCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GCe(n){if(!$Ce(n)||FCe(n))return!1;var e=LCe(n)?UCe:VCe;return e.test(BCe(n))}var YCe=GCe;function QCe(n,e){return n==null?void 0:n[e]}var KCe=QCe,XCe=YCe,ZCe=KCe;function JCe(n,e){var t=ZCe(n,e);return XCe(t)?t:void 0}var gE=JCe,eOe=gE,tOe=Cg,nOe=eOe(tOe,"Map"),z8=nOe,rOe=gE,iOe=rOe(Object,"create"),YN=iOe,MU=YN;function oOe(){this.__data__=MU?MU(null):{},this.size=0}var sOe=oOe;function aOe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var lOe=aOe,cOe=YN,uOe="__lodash_hash_undefined__",dOe=Object.prototype,fOe=dOe.hasOwnProperty;function hOe(n){var e=this.__data__;if(cOe){var t=e[n];return t===uOe?void 0:t}return fOe.call(e,n)?e[n]:void 0}var pOe=hOe,mOe=YN,gOe=Object.prototype,yOe=gOe.hasOwnProperty;function vOe(n){var e=this.__data__;return mOe?e[n]!==void 0:yOe.call(e,n)}var bOe=vOe,xOe=YN,wOe="__lodash_hash_undefined__";function _Oe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=xOe&&e===void 0?wOe:e,this}var EOe=_Oe,SOe=sOe,kOe=lOe,COe=pOe,OOe=bOe,TOe=EOe;function yE(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}yE.prototype.clear=SOe;yE.prototype.delete=kOe;yE.prototype.get=COe;yE.prototype.has=OOe;yE.prototype.set=TOe;var AOe=yE,DU=AOe,ROe=UN,POe=z8;function MOe(){this.size=0,this.__data__={hash:new DU,map:new(POe||ROe),string:new DU}}var DOe=MOe;function NOe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var IOe=NOe,LOe=IOe;function FOe(n,e){var t=n.__data__;return LOe(e)?t[typeof e=="string"?"string":"hash"]:t.map}var QN=FOe,$Oe=QN;function BOe(n){var e=$Oe(this,n).delete(n);return this.size-=e?1:0,e}var jOe=BOe,VOe=QN;function zOe(n){return VOe(this,n).get(n)}var HOe=zOe,WOe=QN;function qOe(n){return WOe(this,n).has(n)}var UOe=qOe,GOe=QN;function YOe(n,e){var t=GOe(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var QOe=YOe,KOe=DOe,XOe=jOe,ZOe=HOe,JOe=UOe,eTe=QOe;function vE(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}vE.prototype.clear=KOe;vE.prototype.delete=XOe;vE.prototype.get=ZOe;vE.prototype.has=JOe;vE.prototype.set=eTe;var Xie=vE,tTe=UN,nTe=z8,rTe=Xie,iTe=200;function oTe(n,e){var t=this.__data__;if(t instanceof tTe){var r=t.__data__;if(!nTe||r.length<iTe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new rTe(r)}return t.set(n,e),this.size=t.size,this}var sTe=oTe,aTe=UN,lTe=Y2e,cTe=K2e,uTe=Z2e,dTe=eCe,fTe=sTe;function bE(n){var e=this.__data__=new aTe(n);this.size=e.size}bE.prototype.clear=lTe;bE.prototype.delete=cTe;bE.prototype.get=uTe;bE.prototype.has=dTe;bE.prototype.set=fTe;var hTe=bE,pTe="__lodash_hash_undefined__";function mTe(n){return this.__data__.set(n,pTe),this}var gTe=mTe;function yTe(n){return this.__data__.has(n)}var vTe=yTe,bTe=Xie,xTe=gTe,wTe=vTe;function s3(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new bTe;++e<t;)this.add(n[e])}s3.prototype.add=s3.prototype.push=xTe;s3.prototype.has=wTe;var _Te=s3;function ETe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var STe=ETe;function kTe(n,e){return n.has(e)}var CTe=kTe,OTe=_Te,TTe=STe,ATe=CTe,RTe=1,PTe=2;function MTe(n,e,t,r,i,o){var a=t&RTe,c=n.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var h=o.get(n),m=o.get(e);if(h&&m)return h==e&&m==n;var v=-1,_=!0,k=t&PTe?new OTe:void 0;for(o.set(n,e),o.set(e,n);++v<c;){var R=n[v],T=e[v];if(r)var F=a?r(T,R,v,e,n,o):r(R,T,v,n,e,o);if(F!==void 0){if(F)continue;_=!1;break}if(k){if(!TTe(e,function($,j){if(!ATe(k,j)&&(R===$||i(R,$,t,r,o)))return k.push(j)})){_=!1;break}}else if(!(R===T||i(R,T,t,r,o))){_=!1;break}}return o.delete(n),o.delete(e),_}var Zie=MTe,DTe=Cg,NTe=DTe.Uint8Array,ITe=NTe;function LTe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var FTe=LTe;function $Te(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var BTe=$Te,NU=V8,IU=ITe,jTe=qie,VTe=Zie,zTe=FTe,HTe=BTe,WTe=1,qTe=2,UTe="[object Boolean]",GTe="[object Date]",YTe="[object Error]",QTe="[object Map]",KTe="[object Number]",XTe="[object RegExp]",ZTe="[object Set]",JTe="[object String]",eAe="[object Symbol]",tAe="[object ArrayBuffer]",nAe="[object DataView]",LU=NU?NU.prototype:void 0,b4=LU?LU.valueOf:void 0;function rAe(n,e,t,r,i,o,a){switch(t){case nAe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case tAe:return!(n.byteLength!=e.byteLength||!o(new IU(n),new IU(e)));case UTe:case GTe:case KTe:return jTe(+n,+e);case YTe:return n.name==e.name&&n.message==e.message;case XTe:case JTe:return n==e+"";case QTe:var c=zTe;case ZTe:var u=r&WTe;if(c||(c=HTe),n.size!=e.size&&!u)return!1;var h=a.get(n);if(h)return h==e;r|=qTe,a.set(n,e);var m=VTe(c(n),c(e),r,i,o,a);return a.delete(n),m;case eAe:if(b4)return b4.call(n)==b4.call(e)}return!1}var iAe=rAe;function oAe(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var sAe=oAe,aAe=Array.isArray,H8=aAe,lAe=sAe,cAe=H8;function uAe(n,e,t){var r=e(n);return cAe(n)?r:lAe(r,t(n))}var dAe=uAe;function fAe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var a=n[t];e(a,t,n)&&(o[i++]=a)}return o}var hAe=fAe;function pAe(){return[]}var mAe=pAe,gAe=hAe,yAe=mAe,vAe=Object.prototype,bAe=vAe.propertyIsEnumerable,FU=Object.getOwnPropertySymbols,xAe=FU?function(n){return n==null?[]:(n=Object(n),gAe(FU(n),function(e){return bAe.call(n,e)}))}:yAe,wAe=xAe;function _Ae(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var EAe=_Ae;function SAe(n){return n!=null&&typeof n=="object"}var KN=SAe,kAe=GN,CAe=KN,OAe="[object Arguments]";function TAe(n){return CAe(n)&&kAe(n)==OAe}var AAe=TAe,$U=AAe,RAe=KN,Jie=Object.prototype,PAe=Jie.hasOwnProperty,MAe=Jie.propertyIsEnumerable,DAe=$U(function(){return arguments}())?$U:function(n){return RAe(n)&&PAe.call(n,"callee")&&!MAe.call(n,"callee")},NAe=DAe,a3={exports:{}};function IAe(){return!1}var LAe=IAe;a3.exports;(function(n,e){var t=Cg,r=LAe,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===i,c=a?t.Buffer:void 0,u=c?c.isBuffer:void 0,h=u||r;n.exports=h})(a3,a3.exports);var eoe=a3.exports,FAe=9007199254740991,$Ae=/^(?:0|[1-9]\d*)$/;function BAe(n,e){var t=typeof n;return e=e??FAe,!!e&&(t=="number"||t!="symbol"&&$Ae.test(n))&&n>-1&&n%1==0&&n<e}var jAe=BAe,VAe=9007199254740991;function zAe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=VAe}var toe=zAe,HAe=GN,WAe=toe,qAe=KN,UAe="[object Arguments]",GAe="[object Array]",YAe="[object Boolean]",QAe="[object Date]",KAe="[object Error]",XAe="[object Function]",ZAe="[object Map]",JAe="[object Number]",eRe="[object Object]",tRe="[object RegExp]",nRe="[object Set]",rRe="[object String]",iRe="[object WeakMap]",oRe="[object ArrayBuffer]",sRe="[object DataView]",aRe="[object Float32Array]",lRe="[object Float64Array]",cRe="[object Int8Array]",uRe="[object Int16Array]",dRe="[object Int32Array]",fRe="[object Uint8Array]",hRe="[object Uint8ClampedArray]",pRe="[object Uint16Array]",mRe="[object Uint32Array]",ss={};ss[aRe]=ss[lRe]=ss[cRe]=ss[uRe]=ss[dRe]=ss[fRe]=ss[hRe]=ss[pRe]=ss[mRe]=!0;ss[UAe]=ss[GAe]=ss[oRe]=ss[YAe]=ss[sRe]=ss[QAe]=ss[KAe]=ss[XAe]=ss[ZAe]=ss[JAe]=ss[eRe]=ss[tRe]=ss[nRe]=ss[rRe]=ss[iRe]=!1;function gRe(n){return qAe(n)&&WAe(n.length)&&!!ss[HAe(n)]}var yRe=gRe;function vRe(n){return function(e){return n(e)}}var bRe=vRe,l3={exports:{}};l3.exports;(function(n,e){var t=Uie,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,a=o&&t.process,c=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();n.exports=c})(l3,l3.exports);var xRe=l3.exports,wRe=yRe,_Re=bRe,BU=xRe,jU=BU&&BU.isTypedArray,ERe=jU?_Re(jU):wRe,noe=ERe,SRe=EAe,kRe=NAe,CRe=H8,ORe=eoe,TRe=jAe,ARe=noe,RRe=Object.prototype,PRe=RRe.hasOwnProperty;function MRe(n,e){var t=CRe(n),r=!t&&kRe(n),i=!t&&!r&&ORe(n),o=!t&&!r&&!i&&ARe(n),a=t||r||i||o,c=a?SRe(n.length,String):[],u=c.length;for(var h in n)(e||PRe.call(n,h))&&!(a&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||TRe(h,u)))&&c.push(h);return c}var DRe=MRe,NRe=Object.prototype;function IRe(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||NRe;return n===t}var LRe=IRe;function FRe(n,e){return function(t){return n(e(t))}}var $Re=FRe,BRe=$Re,jRe=BRe(Object.keys,Object),VRe=jRe,zRe=LRe,HRe=VRe,WRe=Object.prototype,qRe=WRe.hasOwnProperty;function URe(n){if(!zRe(n))return HRe(n);var e=[];for(var t in Object(n))qRe.call(n,t)&&t!="constructor"&&e.push(t);return e}var GRe=URe,YRe=Qie,QRe=toe;function KRe(n){return n!=null&&QRe(n.length)&&!YRe(n)}var XRe=KRe,ZRe=DRe,JRe=GRe,ePe=XRe;function tPe(n){return ePe(n)?ZRe(n):JRe(n)}var nPe=tPe,rPe=dAe,iPe=wAe,oPe=nPe;function sPe(n){return rPe(n,oPe,iPe)}var aPe=sPe,VU=aPe,lPe=1,cPe=Object.prototype,uPe=cPe.hasOwnProperty;function dPe(n,e,t,r,i,o){var a=t&lPe,c=VU(n),u=c.length,h=VU(e),m=h.length;if(u!=m&&!a)return!1;for(var v=u;v--;){var _=c[v];if(!(a?_ in e:uPe.call(e,_)))return!1}var k=o.get(n),R=o.get(e);if(k&&R)return k==e&&R==n;var T=!0;o.set(n,e),o.set(e,n);for(var F=a;++v<u;){_=c[v];var $=n[_],j=e[_];if(r)var B=a?r(j,$,_,e,n,o):r($,j,_,n,e,o);if(!(B===void 0?$===j||i($,j,t,r,o):B)){T=!1;break}F||(F=_=="constructor")}if(T&&!F){var I=n.constructor,Y=e.constructor;I!=Y&&"constructor"in n&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof Y=="function"&&Y instanceof Y)&&(T=!1)}return o.delete(n),o.delete(e),T}var fPe=dPe,hPe=gE,pPe=Cg,mPe=hPe(pPe,"DataView"),gPe=mPe,yPe=gE,vPe=Cg,bPe=yPe(vPe,"Promise"),xPe=bPe,wPe=gE,_Pe=Cg,EPe=wPe(_Pe,"Set"),SPe=EPe,kPe=gE,CPe=Cg,OPe=kPe(CPe,"WeakMap"),TPe=OPe,h6=gPe,p6=z8,m6=xPe,g6=SPe,y6=TPe,roe=GN,xE=Kie,zU="[object Map]",APe="[object Object]",HU="[object Promise]",WU="[object Set]",qU="[object WeakMap]",UU="[object DataView]",RPe=xE(h6),PPe=xE(p6),MPe=xE(m6),DPe=xE(g6),NPe=xE(y6),w1=roe;(h6&&w1(new h6(new ArrayBuffer(1)))!=UU||p6&&w1(new p6)!=zU||m6&&w1(m6.resolve())!=HU||g6&&w1(new g6)!=WU||y6&&w1(new y6)!=qU)&&(w1=function(n){var e=roe(n),t=e==APe?n.constructor:void 0,r=t?xE(t):"";if(r)switch(r){case RPe:return UU;case PPe:return zU;case MPe:return HU;case DPe:return WU;case NPe:return qU}return e});var IPe=w1,x4=hTe,LPe=Zie,FPe=iAe,$Pe=fPe,GU=IPe,YU=H8,QU=eoe,BPe=noe,jPe=1,KU="[object Arguments]",XU="[object Array]",CP="[object Object]",VPe=Object.prototype,ZU=VPe.hasOwnProperty;function zPe(n,e,t,r,i,o){var a=YU(n),c=YU(e),u=a?XU:GU(n),h=c?XU:GU(e);u=u==KU?CP:u,h=h==KU?CP:h;var m=u==CP,v=h==CP,_=u==h;if(_&&QU(n)){if(!QU(e))return!1;a=!0,m=!1}if(_&&!m)return o||(o=new x4),a||BPe(n)?LPe(n,e,t,r,i,o):FPe(n,e,u,t,r,i,o);if(!(t&jPe)){var k=m&&ZU.call(n,"__wrapped__"),R=v&&ZU.call(e,"__wrapped__");if(k||R){var T=k?n.value():n,F=R?e.value():e;return o||(o=new x4),i(T,F,t,r,o)}}return _?(o||(o=new x4),$Pe(n,e,t,r,i,o)):!1}var HPe=zPe,WPe=HPe,JU=KN;function ioe(n,e,t,r,i){return n===e?!0:n==null||e==null||!JU(n)&&!JU(e)?n!==n&&e!==e:WPe(n,e,t,r,ioe,i)}var qPe=ioe,UPe=qPe;function GPe(n,e){return UPe(n,e)}var YPe=GPe;const wE=rE(YPe);class Rb extends Error{}class QPe extends Rb{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class KPe extends Rb{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class XPe extends Rb{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class $w extends Rb{}class ooe extends Rb{constructor(e){super(`Invalid unit ${e}`)}}class Kl extends Rb{}class Ty extends Rb{constructor(){super("Zone is an abstract class")}}const yn="numeric",Nh="short",bd="long",c3={year:yn,month:yn,day:yn},soe={year:yn,month:Nh,day:yn},ZPe={year:yn,month:Nh,day:yn,weekday:Nh},aoe={year:yn,month:bd,day:yn},loe={year:yn,month:bd,day:yn,weekday:bd},coe={hour:yn,minute:yn},uoe={hour:yn,minute:yn,second:yn},doe={hour:yn,minute:yn,second:yn,timeZoneName:Nh},foe={hour:yn,minute:yn,second:yn,timeZoneName:bd},hoe={hour:yn,minute:yn,hourCycle:"h23"},poe={hour:yn,minute:yn,second:yn,hourCycle:"h23"},moe={hour:yn,minute:yn,second:yn,hourCycle:"h23",timeZoneName:Nh},goe={hour:yn,minute:yn,second:yn,hourCycle:"h23",timeZoneName:bd},yoe={year:yn,month:yn,day:yn,hour:yn,minute:yn},voe={year:yn,month:yn,day:yn,hour:yn,minute:yn,second:yn},boe={year:yn,month:Nh,day:yn,hour:yn,minute:yn},xoe={year:yn,month:Nh,day:yn,hour:yn,minute:yn,second:yn},JPe={year:yn,month:Nh,day:yn,weekday:Nh,hour:yn,minute:yn},woe={year:yn,month:bd,day:yn,hour:yn,minute:yn,timeZoneName:Nh},_oe={year:yn,month:bd,day:yn,hour:yn,minute:yn,second:yn,timeZoneName:Nh},Eoe={year:yn,month:bd,day:yn,weekday:bd,hour:yn,minute:yn,timeZoneName:bd},Soe={year:yn,month:bd,day:yn,weekday:bd,hour:yn,minute:yn,second:yn,timeZoneName:bd};class XO{get type(){throw new Ty}get name(){throw new Ty}get ianaName(){return this.name}get isUniversal(){throw new Ty}offsetName(e,t){throw new Ty}formatOffset(e,t){throw new Ty}offset(e){throw new Ty}equals(e){throw new Ty}get isValid(){throw new Ty}}let w4=null;class Ru extends XO{static get instance(){return w4===null&&(w4=new Ru),w4}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return Ioe(e,t,r)}formatOffset(e,t){return uC(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const v6=new Map;function eMe(n){let e=v6.get(n);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),v6.set(n,e)),e}const tMe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function nMe(n,e){const t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,o,a,c,u,h,m]=r;return[a,i,o,c,u,h,m]}function rMe(n,e){const t=n.formatToParts(e),r=[];for(let i=0;i<t.length;i++){const{type:o,value:a}=t[i],c=tMe[o];o==="era"?r[c]=a:Ir(c)||(r[c]=parseInt(a,10))}return r}const _4=new Map;class xg extends XO{static create(e){let t=_4.get(e);return t===void 0&&_4.set(e,t=new xg(e)),t}static resetCache(){_4.clear(),v6.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=xg.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return Ioe(e,t,r,this.name)}formatOffset(e,t){return uC(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const r=eMe(this.name);let[i,o,a,c,u,h,m]=r.formatToParts?rMe(r,t):nMe(r,t);c==="BC"&&(i=-Math.abs(i)+1);const _=ZN({year:i,month:o,day:a,hour:u===24?0:u,minute:h,second:m,millisecond:0});let k=+t;const R=k%1e3;return k-=R>=0?R:1e3+R,(_-k)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let eG={};function iMe(n,e={}){const t=JSON.stringify([n,e]);let r=eG[t];return r||(r=new Intl.ListFormat(n,e),eG[t]=r),r}const b6=new Map;function x6(n,e={}){const t=JSON.stringify([n,e]);let r=b6.get(t);return r===void 0&&(r=new Intl.DateTimeFormat(n,e),b6.set(t,r)),r}const w6=new Map;function oMe(n,e={}){const t=JSON.stringify([n,e]);let r=w6.get(t);return r===void 0&&(r=new Intl.NumberFormat(n,e),w6.set(t,r)),r}const _6=new Map;function sMe(n,e={}){const{base:t,...r}=e,i=JSON.stringify([n,r]);let o=_6.get(i);return o===void 0&&(o=new Intl.RelativeTimeFormat(n,e),_6.set(i,o)),o}let H2=null;function aMe(){return H2||(H2=new Intl.DateTimeFormat().resolvedOptions().locale,H2)}const E6=new Map;function koe(n){let e=E6.get(n);return e===void 0&&(e=new Intl.DateTimeFormat(n).resolvedOptions(),E6.set(n,e)),e}const S6=new Map;function lMe(n){let e=S6.get(n);if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...Coe,...e}),S6.set(n,e)}return e}function cMe(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let r,i;try{r=x6(n).resolvedOptions(),i=n}catch{const u=n.substring(0,t);r=x6(u).resolvedOptions(),i=u}const{numberingSystem:o,calendar:a}=r;return[i,o,a]}}function uMe(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function dMe(n){const e=[];for(let t=1;t<=12;t++){const r=pr.utc(2009,t,1);e.push(n(r))}return e}function fMe(n){const e=[];for(let t=1;t<=7;t++){const r=pr.utc(2016,11,13+t);e.push(n(r))}return e}function OP(n,e,t,r){const i=n.listingMode();return i==="error"?null:i==="en"?t(e):r(e)}function hMe(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||koe(n.locale).numberingSystem==="latn"}class pMe{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:o,...a}=r;if(!t||Object.keys(a).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=oMe(e,c)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Y8(e,3);return wa(t,this.padTo)}}}class mMe{constructor(e,t,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),c=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&xg.create(c).valid?(i=c,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=x6(t,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:r}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class gMe{constructor(e,t,r){this.opts={style:"long",...r},!t&&Doe()&&(this.rtf=sMe(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):$Me(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Coe={firstDay:1,minimalDays:4,weekend:[6,7]};class co{static fromOpts(e){return co.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,i,o=!1){const a=e||Ks.defaultLocale,c=a||(o?"en-US":aMe()),u=t||Ks.defaultNumberingSystem,h=r||Ks.defaultOutputCalendar,m=C6(i)||Ks.defaultWeekSettings;return new co(c,u,h,m,a)}static resetCache(){H2=null,b6.clear(),w6.clear(),_6.clear(),E6.clear(),S6.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:i}={}){return co.create(e,t,r,i)}constructor(e,t,r,i,o){const[a,c,u]=cMe(e);this.locale=a,this.numberingSystem=t||c||null,this.outputCalendar=r||u||null,this.weekSettings=i,this.intl=uMe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=hMe(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:co.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,C6(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return OP(this,e,$oe,()=>{const r=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=dMe(o=>this.extract(o,r,"month"))),this.monthsCache[i][e]})}weekdays(e,t=!1){return OP(this,e,Voe,()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=fMe(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return OP(this,void 0,()=>zoe,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[pr.utc(2016,11,13,9),pr.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return OP(this,e,Hoe,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[pr.utc(-40,1,1),pr.utc(2017,1,1)].map(r=>this.extract(r,t,"era"))),this.eraCache[e]})}extract(e,t,r){const i=this.dtFormatter(e,t),o=i.formatToParts(),a=o.find(c=>c.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new pMe(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new mMe(e,this.intl,t)}relFormatter(e={}){return new gMe(this.intl,this.isEnglish(),e)}listFormatter(e={}){return iMe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||koe(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Noe()?lMe(this.locale):Coe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let E4=null;class qa extends XO{static get utcInstance(){return E4===null&&(E4=new qa(0)),E4}static instance(e){return e===0?qa.utcInstance:new qa(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new qa(JN(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${uC(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${uC(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return uC(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class yMe extends XO{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function zy(n,e){if(Ir(n)||n===null)return e;if(n instanceof XO)return n;if(EMe(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Ru.instance:t==="utc"||t==="gmt"?qa.utcInstance:qa.parseSpecifier(t)||xg.create(n)}else return xv(n)?qa.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new yMe(n)}const W8={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},tG={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},vMe=W8.hanidec.replace(/[\[|\]]/g,"").split("");function bMe(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);if(n[t].search(W8.hanidec)!==-1)e+=vMe.indexOf(n[t]);else for(const i in tG){const[o,a]=tG[i];r>=o&&r<=a&&(e+=r-o)}}return parseInt(e,10)}else return e}const k6=new Map;function xMe(){k6.clear()}function rh({numberingSystem:n},e=""){const t=n||"latn";let r=k6.get(t);r===void 0&&(r=new Map,k6.set(t,r));let i=r.get(e);return i===void 0&&(i=new RegExp(`${W8[t]}${e}`),r.set(e,i)),i}let nG=()=>Date.now(),rG="system",iG=null,oG=null,sG=null,aG=60,lG,cG=null;class Ks{static get now(){return nG}static set now(e){nG=e}static set defaultZone(e){rG=e}static get defaultZone(){return zy(rG,Ru.instance)}static get defaultLocale(){return iG}static set defaultLocale(e){iG=e}static get defaultNumberingSystem(){return oG}static set defaultNumberingSystem(e){oG=e}static get defaultOutputCalendar(){return sG}static set defaultOutputCalendar(e){sG=e}static get defaultWeekSettings(){return cG}static set defaultWeekSettings(e){cG=C6(e)}static get twoDigitCutoffYear(){return aG}static set twoDigitCutoffYear(e){aG=e%100}static get throwOnInvalid(){return lG}static set throwOnInvalid(e){lG=e}static resetCaches(){co.resetCache(),xg.resetCache(),pr.resetCache(),xMe()}}class wh{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ooe=[0,31,59,90,120,151,181,212,243,273,304,334],Toe=[0,31,60,91,121,152,182,213,244,274,305,335];function lf(n,e){return new wh("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function q8(n,e,t){const r=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function Aoe(n,e,t){return t+(ZO(n)?Toe:Ooe)[e-1]}function Roe(n,e){const t=ZO(n)?Toe:Ooe,r=t.findIndex(o=>o<e),i=e-t[r];return{month:r+1,day:i}}function U8(n,e){return(n-e+7)%7+1}function u3(n,e=4,t=1){const{year:r,month:i,day:o}=n,a=Aoe(r,i,o),c=U8(q8(r,i,o),t);let u=Math.floor((a-c+14-e)/7),h;return u<1?(h=r-1,u=dO(h,e,t)):u>dO(r,e,t)?(h=r+1,u=1):h=r,{weekYear:h,weekNumber:u,weekday:c,...e5(n)}}function uG(n,e=4,t=1){const{weekYear:r,weekNumber:i,weekday:o}=n,a=U8(q8(r,1,e),t),c=n_(r);let u=i*7+o-a-7+e,h;u<1?(h=r-1,u+=n_(h)):u>c?(h=r+1,u-=n_(r)):h=r;const{month:m,day:v}=Roe(h,u);return{year:h,month:m,day:v,...e5(n)}}function S4(n){const{year:e,month:t,day:r}=n,i=Aoe(e,t,r);return{year:e,ordinal:i,...e5(n)}}function dG(n){const{year:e,ordinal:t}=n,{month:r,day:i}=Roe(e,t);return{year:e,month:r,day:i,...e5(n)}}function fG(n,e){if(!Ir(n.localWeekday)||!Ir(n.localWeekNumber)||!Ir(n.localWeekYear)){if(!Ir(n.weekday)||!Ir(n.weekNumber)||!Ir(n.weekYear))throw new $w("Cannot mix locale-based week fields with ISO-based week fields");return Ir(n.localWeekday)||(n.weekday=n.localWeekday),Ir(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),Ir(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function wMe(n,e=4,t=1){const r=XN(n.weekYear),i=cf(n.weekNumber,1,dO(n.weekYear,e,t)),o=cf(n.weekday,1,7);return r?i?o?!1:lf("weekday",n.weekday):lf("week",n.weekNumber):lf("weekYear",n.weekYear)}function _Me(n){const e=XN(n.year),t=cf(n.ordinal,1,n_(n.year));return e?t?!1:lf("ordinal",n.ordinal):lf("year",n.year)}function Poe(n){const e=XN(n.year),t=cf(n.month,1,12),r=cf(n.day,1,d3(n.year,n.month));return e?t?r?!1:lf("day",n.day):lf("month",n.month):lf("year",n.year)}function Moe(n){const{hour:e,minute:t,second:r,millisecond:i}=n,o=cf(e,0,23)||e===24&&t===0&&r===0&&i===0,a=cf(t,0,59),c=cf(r,0,59),u=cf(i,0,999);return o?a?c?u?!1:lf("millisecond",i):lf("second",r):lf("minute",t):lf("hour",e)}function Ir(n){return typeof n>"u"}function xv(n){return typeof n=="number"}function XN(n){return typeof n=="number"&&n%1===0}function EMe(n){return typeof n=="string"}function SMe(n){return Object.prototype.toString.call(n)==="[object Date]"}function Doe(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Noe(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function kMe(n){return Array.isArray(n)?n:[n]}function hG(n,e,t){if(n.length!==0)return n.reduce((r,i)=>{const o=[e(i),i];return r&&t(r[0],o[0])===r[0]?r:o},null)[1]}function CMe(n,e){return e.reduce((t,r)=>(t[r]=n[r],t),{})}function z_(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function C6(n){if(n==null)return null;if(typeof n!="object")throw new Kl("Week settings must be an object");if(!cf(n.firstDay,1,7)||!cf(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!cf(e,1,7)))throw new Kl("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function cf(n,e,t){return XN(n)&&n>=e&&n<=t}function OMe(n,e){return n-e*Math.floor(n/e)}function wa(n,e=2){const t=n<0;let r;return t?r="-"+(""+-n).padStart(e,"0"):r=(""+n).padStart(e,"0"),r}function Iy(n){if(!(Ir(n)||n===null||n===""))return parseInt(n,10)}function c1(n){if(!(Ir(n)||n===null||n===""))return parseFloat(n)}function G8(n){if(!(Ir(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Y8(n,e,t=!1){const r=10**e;return(t?Math.trunc:Math.round)(n*r)/r}function ZO(n){return n%4===0&&(n%100!==0||n%400===0)}function n_(n){return ZO(n)?366:365}function d3(n,e){const t=OMe(e-1,12)+1,r=n+(e-t)/12;return t===2?ZO(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function ZN(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function pG(n,e,t){return-U8(q8(n,1,e),t)+e-1}function dO(n,e=4,t=1){const r=pG(n,e,t),i=pG(n+1,e,t);return(n_(n)-r+i)/7}function O6(n){return n>99?n:n>Ks.twoDigitCutoffYear?1900+n:2e3+n}function Ioe(n,e,t,r=null){const i=new Date(n),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const a={timeZoneName:e,...o},c=new Intl.DateTimeFormat(t,a).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return c?c.value:null}function JN(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function Loe(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Kl(`Invalid unit value ${n}`);return e}function f3(n,e){const t={};for(const r in n)if(z_(n,r)){const i=n[r];if(i==null)continue;t[e(r)]=Loe(i)}return t}function uC(n,e){const t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return`${i}${wa(t,2)}:${wa(r,2)}`;case"narrow":return`${i}${t}${r>0?`:${r}`:""}`;case"techie":return`${i}${wa(t,2)}${wa(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function e5(n){return CMe(n,["hour","minute","second","millisecond"])}const TMe=["January","February","March","April","May","June","July","August","September","October","November","December"],Foe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AMe=["J","F","M","A","M","J","J","A","S","O","N","D"];function $oe(n){switch(n){case"narrow":return[...AMe];case"short":return[...Foe];case"long":return[...TMe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Boe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],joe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],RMe=["M","T","W","T","F","S","S"];function Voe(n){switch(n){case"narrow":return[...RMe];case"short":return[...joe];case"long":return[...Boe];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const zoe=["AM","PM"],PMe=["Before Christ","Anno Domini"],MMe=["BC","AD"],DMe=["B","A"];function Hoe(n){switch(n){case"narrow":return[...DMe];case"short":return[...MMe];case"long":return[...PMe];default:return null}}function NMe(n){return zoe[n.hour<12?0:1]}function IMe(n,e){return Voe(e)[n.weekday-1]}function LMe(n,e){return $oe(e)[n.month-1]}function FMe(n,e){return Hoe(e)[n.year<0?0:1]}function $Me(n,e,t="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&o){const v=n==="days";switch(e){case 1:return v?"tomorrow":`next ${i[n][0]}`;case-1:return v?"yesterday":`last ${i[n][0]}`;case 0:return v?"today":`this ${i[n][0]}`}}const a=Object.is(e,-0)||e<0,c=Math.abs(e),u=c===1,h=i[n],m=r?u?h[1]:h[2]||h[1]:u?i[n][0]:n;return a?`${c} ${m} ago`:`in ${c} ${m}`}function mG(n,e){let t="";for(const r of n)r.literal?t+=r.val:t+=e(r.val);return t}const BMe={D:c3,DD:soe,DDD:aoe,DDDD:loe,t:coe,tt:uoe,ttt:doe,tttt:foe,T:hoe,TT:poe,TTT:moe,TTTT:goe,f:yoe,ff:boe,fff:woe,ffff:Eoe,F:voe,FF:xoe,FFF:_oe,FFFF:Soe};class ec{static create(e,t={}){return new ec(e,t)}static parseFormat(e){let t=null,r="",i=!1;const o=[];for(let a=0;a<e.length;a++){const c=e.charAt(a);c==="'"?(r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),t=null,r="",i=!i):i||c===t?r+=c:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=c,t=c)}return r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(e){return BMe[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return wa(e,t);const r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(k,R)=>this.loc.extract(e,k,R),a=k=>e.isOffsetFixed&&e.offset===0&&k.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,k.format):"",c=()=>r?NMe(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(k,R)=>r?LMe(e,k):o(R?{month:k}:{month:k,day:"numeric"},"month"),h=(k,R)=>r?IMe(e,k):o(R?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),m=k=>{const R=ec.macroTokenToFormatOpts(k);return R?this.formatWithSystemDefault(e,R):k},v=k=>r?FMe(e,k):o({era:k},"era"),_=k=>{switch(k){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return i?o({day:"numeric"},"day"):this.num(e.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(e.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(e.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return m(k)}};return mG(ec.parseFormat(t),_)}formatDurationFromString(e,t){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>h=>{const m=r(h);return m?this.num(u.get(m),h.length):h},o=ec.parseFormat(t),a=o.reduce((u,{literal:h,val:m})=>h?u:u.concat(m),[]),c=e.shiftTo(...a.map(r).filter(u=>u));return mG(o,i(c))}}const Woe=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function _E(...n){const e=n.reduce((t,r)=>t+r.source,"");return RegExp(`^${e}$`)}function EE(...n){return e=>n.reduce(([t,r,i],o)=>{const[a,c,u]=o(e,i);return[{...t,...a},c||r,u]},[{},null,1]).slice(0,2)}function SE(n,...e){if(n==null)return[null,null];for(const[t,r]of e){const i=t.exec(n);if(i)return r(i)}return[null,null]}function qoe(...n){return(e,t)=>{const r={};let i;for(i=0;i<n.length;i++)r[n[i]]=Iy(e[t+i]);return[r,null,t+i]}}const Uoe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,jMe=`(?:${Uoe.source}?(?:\\[(${Woe.source})\\])?)?`,Q8=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Goe=RegExp(`${Q8.source}${jMe}`),K8=RegExp(`(?:T${Goe.source})?`),VMe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,zMe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,HMe=/(\d{4})-?(\d{3})/,WMe=qoe("weekYear","weekNumber","weekDay"),qMe=qoe("year","ordinal"),UMe=/(\d{4})-(\d\d)-(\d\d)/,Yoe=RegExp(`${Q8.source} ?(?:${Uoe.source}|(${Woe.source}))?`),GMe=RegExp(`(?: ${Yoe.source})?`);function r_(n,e,t){const r=n[e];return Ir(r)?t:Iy(r)}function YMe(n,e){return[{year:r_(n,e),month:r_(n,e+1,1),day:r_(n,e+2,1)},null,e+3]}function kE(n,e){return[{hours:r_(n,e,0),minutes:r_(n,e+1,0),seconds:r_(n,e+2,0),milliseconds:G8(n[e+3])},null,e+4]}function JO(n,e){const t=!n[e]&&!n[e+1],r=JN(n[e+1],n[e+2]),i=t?null:qa.instance(r);return[{},i,e+3]}function eT(n,e){const t=n[e]?xg.create(n[e]):null;return[{},t,e+1]}const QMe=RegExp(`^T?${Q8.source}$`),KMe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function XMe(n){const[e,t,r,i,o,a,c,u,h]=n,m=e[0]==="-",v=u&&u[0]==="-",_=(k,R=!1)=>k!==void 0&&(R||k&&m)?-k:k;return[{years:_(c1(t)),months:_(c1(r)),weeks:_(c1(i)),days:_(c1(o)),hours:_(c1(a)),minutes:_(c1(c)),seconds:_(c1(u),u==="-0"),milliseconds:_(G8(h),v)}]}const ZMe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function X8(n,e,t,r,i,o,a){const c={year:e.length===2?O6(Iy(e)):Iy(e),month:Foe.indexOf(t)+1,day:Iy(r),hour:Iy(i),minute:Iy(o)};return a&&(c.second=Iy(a)),n&&(c.weekday=n.length>3?Boe.indexOf(n)+1:joe.indexOf(n)+1),c}const JMe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function eDe(n){const[,e,t,r,i,o,a,c,u,h,m,v]=n,_=X8(e,i,r,t,o,a,c);let k;return u?k=ZMe[u]:h?k=0:k=JN(m,v),[_,new qa(k)]}function tDe(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const nDe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rDe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,iDe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function gG(n){const[,e,t,r,i,o,a,c]=n;return[X8(e,i,r,t,o,a,c),qa.utcInstance]}function oDe(n){const[,e,t,r,i,o,a,c]=n;return[X8(e,c,t,r,i,o,a),qa.utcInstance]}const sDe=_E(VMe,K8),aDe=_E(zMe,K8),lDe=_E(HMe,K8),cDe=_E(Goe),Qoe=EE(YMe,kE,JO,eT),uDe=EE(WMe,kE,JO,eT),dDe=EE(qMe,kE,JO,eT),fDe=EE(kE,JO,eT);function hDe(n){return SE(n,[sDe,Qoe],[aDe,uDe],[lDe,dDe],[cDe,fDe])}function pDe(n){return SE(tDe(n),[JMe,eDe])}function mDe(n){return SE(n,[nDe,gG],[rDe,gG],[iDe,oDe])}function gDe(n){return SE(n,[KMe,XMe])}const yDe=EE(kE);function vDe(n){return SE(n,[QMe,yDe])}const bDe=_E(UMe,GMe),xDe=_E(Yoe),wDe=EE(kE,JO,eT);function _De(n){return SE(n,[bDe,Qoe],[xDe,wDe])}const yG="Invalid Duration",Koe={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},EDe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Koe},Qd=146097/400,fw=146097/4800,SDe={years:{quarters:4,months:12,weeks:Qd/7,days:Qd,hours:Qd*24,minutes:Qd*24*60,seconds:Qd*24*60*60,milliseconds:Qd*24*60*60*1e3},quarters:{months:3,weeks:Qd/28,days:Qd/4,hours:Qd*24/4,minutes:Qd*24*60/4,seconds:Qd*24*60*60/4,milliseconds:Qd*24*60*60*1e3/4},months:{weeks:fw/7,days:fw,hours:fw*24,minutes:fw*24*60,seconds:fw*24*60*60,milliseconds:fw*24*60*60*1e3},...Koe},N1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],kDe=N1.slice(0).reverse();function Ay(n,e,t=!1){const r={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Jr(r)}function Xoe(n,e){let t=e.milliseconds??0;for(const r of kDe.slice(1))e[r]&&(t+=e[r]*n[r].milliseconds);return t}function vG(n,e){const t=Xoe(n,e)<0?-1:1;N1.reduceRight((r,i)=>{if(Ir(e[i]))return r;if(r){const o=e[r]*t,a=n[i][r],c=Math.floor(o/a);e[i]+=c*t,e[r]-=c*a*t}return i},null),N1.reduce((r,i)=>{if(Ir(e[i]))return r;if(r){const o=e[r]%1;e[r]-=o,e[i]+=o*n[r][i]}return i},null)}function CDe(n){const e={};for(const[t,r]of Object.entries(n))r!==0&&(e[t]=r);return e}class Jr{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let r=t?SDe:EDe;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||co.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return Jr.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Kl(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Jr({values:f3(e,Jr.normalizeUnit),loc:co.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(xv(e))return Jr.fromMillis(e);if(Jr.isDuration(e))return e;if(typeof e=="object")return Jr.fromObject(e);throw new Kl(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=gDe(e);return r?Jr.fromObject(r,t):Jr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=vDe(e);return r?Jr.fromObject(r,t):Jr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Kl("need to specify a reason the Duration is invalid");const r=e instanceof wh?e:new wh(e,t);if(Ks.throwOnInvalid)throw new XPe(r);return new Jr({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new ooe(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?ec.create(this.loc,r).formatDurationFromString(this,e):yG}toHuman(e={}){if(!this.isValid)return yG;const t=N1.map(r=>{const i=this.values[r];return Ir(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Y8(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},pr.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Xoe(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Jr.fromDurationLike(e),r={};for(const i of N1)(z_(t.values,i)||z_(this.values,i))&&(r[i]=t.get(i)+this.get(i));return Ay(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=Jr.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=Loe(e(this.values[r],r));return Ay(this,{values:t},!0)}get(e){return this[Jr.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...f3(e,Jr.normalizeUnit)};return Ay(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:r};return Ay(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return vG(this.matrix,e),Ay(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=CDe(this.normalize().shiftToAll().toObject());return Ay(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Jr.normalizeUnit(a));const t={},r={},i=this.toObject();let o;for(const a of N1)if(e.indexOf(a)>=0){o=a;let c=0;for(const h in r)c+=this.matrix[h][a]*r[h],r[h]=0;xv(i[a])&&(c+=i[a]);const u=Math.trunc(c);t[a]=u,r[a]=(c*1e3-u*1e3)/1e3}else xv(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(t[o]+=a===o?r[a]:r[a]/this.matrix[o][a]);return vG(this.matrix,t),Ay(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Ay(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of N1)if(!t(this.values[r],e.values[r]))return!1;return!0}}const hw="Invalid Interval";function ODe(n,e){return!n||!n.isValid?Qs.invalid("missing or invalid start"):!e||!e.isValid?Qs.invalid("missing or invalid end"):e<n?Qs.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class Qs{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Kl("need to specify a reason the Interval is invalid");const r=e instanceof wh?e:new wh(e,t);if(Ks.throwOnInvalid)throw new KPe(r);return new Qs({invalid:r})}static fromDateTimes(e,t){const r=f2(e),i=f2(t),o=ODe(r,i);return o??new Qs({start:r,end:i})}static after(e,t){const r=Jr.fromDurationLike(t),i=f2(e);return Qs.fromDateTimes(i,i.plus(r))}static before(e,t){const r=Jr.fromDurationLike(t),i=f2(e);return Qs.fromDateTimes(i.minus(r),i)}static fromISO(e,t){const[r,i]=(e||"").split("/",2);if(r&&i){let o,a;try{o=pr.fromISO(r,t),a=o.isValid}catch{a=!1}let c,u;try{c=pr.fromISO(i,t),u=c.isValid}catch{u=!1}if(a&&u)return Qs.fromDateTimes(o,c);if(a){const h=Jr.fromISO(i,t);if(h.isValid)return Qs.after(o,h)}else if(u){const h=Jr.fromISO(r,t);if(h.isValid)return Qs.before(c,h)}}return Qs.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const r=this.start.startOf(e,t);let i;return t!=null&&t.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,t),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?Qs.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(f2).filter(a=>this.contains(a)).sort((a,c)=>a.toMillis()-c.toMillis()),r=[];let{s:i}=this,o=0;for(;i<this.e;){const a=t[o]||this.e,c=+a>+this.e?this.e:a;r.push(Qs.fromDateTimes(i,c)),i=c,o+=1}return r}splitBy(e){const t=Jr.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:r}=this,i=1,o;const a=[];for(;r<this.e;){const c=this.start.plus(t.mapUnits(u=>u*i));o=+c>+this.e?this.e:c,a.push(Qs.fromDateTimes(r,o)),r=o,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:Qs.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Qs.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort((i,o)=>i.s-o.s).reduce(([i,o],a)=>o?o.overlaps(a)||o.abutsStart(a)?[i,o.union(a)]:[i.concat([o]),a]:[i,a],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const i=[],o=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...o),c=a.sort((u,h)=>u.time-h.time);for(const u of c)r+=u.type==="s"?1:-1,r===1?t=u.time:(t&&+t!=+u.time&&i.push(Qs.fromDateTimes(t,u.time)),t=null);return Qs.merge(i)}difference(...e){return Qs.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:hw}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=c3,t={}){return this.isValid?ec.create(this.s.loc.clone(t),e).formatInterval(this):hw}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:hw}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:hw}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:hw}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:hw}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Jr.invalid(this.invalidReason)}mapEndpoints(e){return Qs.fromDateTimes(e(this.s),e(this.e))}}class Bw{static hasDST(e=Ks.defaultZone){const t=pr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return xg.isValidZone(e)}static normalizeZone(e){return zy(e,Ks.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||co.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||co.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||co.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||co.create(t,r,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||co.create(t,r,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||co.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||co.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return co.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return co.create(t,null,"gregory").eras(e)}static features(){return{relative:Doe(),localeWeek:Noe()}}}function bG(n,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=t(e)-t(n);return Math.floor(Jr.fromMillis(r).as("days"))}function TDe(n,e,t){const r=[["years",(u,h)=>h.year-u.year],["quarters",(u,h)=>h.quarter-u.quarter+(h.year-u.year)*4],["months",(u,h)=>h.month-u.month+(h.year-u.year)*12],["weeks",(u,h)=>{const m=bG(u,h);return(m-m%7)/7}],["days",bG]],i={},o=n;let a,c;for(const[u,h]of r)t.indexOf(u)>=0&&(a=u,i[u]=h(n,e),c=o.plus(i),c>e?(i[u]--,n=o.plus(i),n>e&&(c=n,i[u]--,n=o.plus(i))):n=c);return[n,i,c,a]}function ADe(n,e,t,r){let[i,o,a,c]=TDe(n,e,t);const u=e-i,h=t.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);h.length===0&&(a<e&&(a=i.plus({[c]:1})),a!==i&&(o[c]=(o[c]||0)+u/(a-i)));const m=Jr.fromObject(o,r);return h.length>0?Jr.fromMillis(u,r).shiftTo(...h).plus(m):m}const RDe="missing Intl.DateTimeFormat.formatToParts support";function no(n,e=t=>t){return{regex:n,deser:([t])=>e(bMe(t))}}const PDe="",Zoe=`[ ${PDe}]`,Joe=new RegExp(Zoe,"g");function MDe(n){return n.replace(/\./g,"\\.?").replace(Joe,Zoe)}function xG(n){return n.replace(/\./g,"").replace(Joe," ").toLowerCase()}function ih(n,e){return n===null?null:{regex:RegExp(n.map(MDe).join("|")),deser:([t])=>n.findIndex(r=>xG(t)===xG(r))+e}}function wG(n,e){return{regex:n,deser:([,t,r])=>JN(t,r),groups:e}}function TP(n){return{regex:n,deser:([e])=>e}}function DDe(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function NDe(n,e){const t=rh(e),r=rh(e,"{2}"),i=rh(e,"{3}"),o=rh(e,"{4}"),a=rh(e,"{6}"),c=rh(e,"{1,2}"),u=rh(e,"{1,3}"),h=rh(e,"{1,6}"),m=rh(e,"{1,9}"),v=rh(e,"{2,4}"),_=rh(e,"{4,6}"),k=F=>({regex:RegExp(DDe(F.val)),deser:([$])=>$,literal:!0}),T=(F=>{if(n.literal)return k(F);switch(F.val){case"G":return ih(e.eras("short"),0);case"GG":return ih(e.eras("long"),0);case"y":return no(h);case"yy":return no(v,O6);case"yyyy":return no(o);case"yyyyy":return no(_);case"yyyyyy":return no(a);case"M":return no(c);case"MM":return no(r);case"MMM":return ih(e.months("short",!0),1);case"MMMM":return ih(e.months("long",!0),1);case"L":return no(c);case"LL":return no(r);case"LLL":return ih(e.months("short",!1),1);case"LLLL":return ih(e.months("long",!1),1);case"d":return no(c);case"dd":return no(r);case"o":return no(u);case"ooo":return no(i);case"HH":return no(r);case"H":return no(c);case"hh":return no(r);case"h":return no(c);case"mm":return no(r);case"m":return no(c);case"q":return no(c);case"qq":return no(r);case"s":return no(c);case"ss":return no(r);case"S":return no(u);case"SSS":return no(i);case"u":return TP(m);case"uu":return TP(c);case"uuu":return no(t);case"a":return ih(e.meridiems(),0);case"kkkk":return no(o);case"kk":return no(v,O6);case"W":return no(c);case"WW":return no(r);case"E":case"c":return no(t);case"EEE":return ih(e.weekdays("short",!1),1);case"EEEE":return ih(e.weekdays("long",!1),1);case"ccc":return ih(e.weekdays("short",!0),1);case"cccc":return ih(e.weekdays("long",!0),1);case"Z":case"ZZ":return wG(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return wG(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return TP(/[a-z_+-/]{1,256}?/i);case" ":return TP(/[^\S\n\r]/);default:return k(F)}})(n)||{invalidReason:RDe};return T.token=n,T}const IDe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function LDe(n,e,t){const{type:r,value:i}=n;if(r==="literal"){const u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}const o=e[r];let a=r;r==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=t.hour12?"hour12":"hour24");let c=IDe[a];if(typeof c=="object"&&(c=c[o]),c)return{literal:!1,val:c}}function FDe(n){return[`^${n.map(t=>t.regex).reduce((t,r)=>`${t}(${r.source})`,"")}$`,n]}function $De(n,e,t){const r=n.match(e);if(r){const i={};let o=1;for(const a in t)if(z_(t,a)){const c=t[a],u=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(r.slice(o,o+u))),o+=u}return[r,i]}else return[r,{}]}function BDe(n){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,r;return Ir(n.z)||(t=xg.create(n.z)),Ir(n.Z)||(t||(t=new qa(n.Z)),r=n.Z),Ir(n.q)||(n.M=(n.q-1)*3+1),Ir(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Ir(n.u)||(n.S=G8(n.u)),[Object.keys(n).reduce((o,a)=>{const c=e(a);return c&&(o[c]=n[a]),o},{}),t,r]}let k4=null;function jDe(){return k4||(k4=pr.fromMillis(1555555555555)),k4}function VDe(n,e){if(n.literal)return n;const t=ec.macroTokenToFormatOpts(n.val),r=rse(t,e);return r==null||r.includes(void 0)?n:r}function ese(n,e){return Array.prototype.concat(...n.map(t=>VDe(t,e)))}class tse{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=ese(ec.parseFormat(t),e),this.units=this.tokens.map(r=>NDe(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=FDe(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[t,r]=$De(e,this.regex,this.handlers),[i,o,a]=r?BDe(r):[null,null,void 0];if(z_(r,"a")&&z_(r,"H"))throw new $w("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:r,result:i,zone:o,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function nse(n,e,t){return new tse(n,t).explainFromTokens(e)}function zDe(n,e,t){const{result:r,zone:i,specificOffset:o,invalidReason:a}=nse(n,e,t);return[r,i,o,a]}function rse(n,e){if(!n)return null;const r=ec.create(e,n).dtFormatter(jDe()),i=r.formatToParts(),o=r.resolvedOptions();return i.map(a=>LDe(a,n,o))}const C4="Invalid DateTime",_G=864e13;function W2(n){return new wh("unsupported zone",`the zone "${n.name}" is not supported`)}function O4(n){return n.weekData===null&&(n.weekData=u3(n.c)),n.weekData}function T4(n){return n.localWeekData===null&&(n.localWeekData=u3(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function u1(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new pr({...t,...e,old:t})}function ise(n,e,t){let r=n-e*60*1e3;const i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const o=t.offset(r);return i===o?[r,i]:[n-Math.min(i,o)*60*1e3,Math.max(i,o)]}function AP(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function GM(n,e,t){return ise(ZN(n),e,t)}function EG(n,e){const t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...n.c,year:r,month:i,day:Math.min(n.c.day,d3(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Jr.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=ZN(o);let[u,h]=ise(c,t,n.zone);return a!==0&&(u+=a,h=n.zone.offset(u)),{ts:u,o:h}}function pw(n,e,t,r,i,o){const{setZone:a,zone:c}=t;if(n&&Object.keys(n).length!==0||e){const u=e||c,h=pr.fromObject(n,{...t,zone:u,specificOffset:o});return a?h:h.setZone(c)}else return pr.invalid(new wh("unparsable",`the input "${i}" can't be parsed as ${r}`))}function RP(n,e,t=!0){return n.isValid?ec.create(co.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function A4(n,e){const t=n.c.year>9999||n.c.year<0;let r="";return t&&n.c.year>=0&&(r+="+"),r+=wa(n.c.year,t?6:4),e?(r+="-",r+=wa(n.c.month),r+="-",r+=wa(n.c.day)):(r+=wa(n.c.month),r+=wa(n.c.day)),r}function SG(n,e,t,r,i,o){let a=wa(n.c.hour);return e?(a+=":",a+=wa(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(a+=":")):a+=wa(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(a+=wa(n.c.second),(n.c.millisecond!==0||!r)&&(a+=".",a+=wa(n.c.millisecond,3))),i&&(n.isOffsetFixed&&n.offset===0&&!o?a+="Z":n.o<0?(a+="-",a+=wa(Math.trunc(-n.o/60)),a+=":",a+=wa(Math.trunc(-n.o%60))):(a+="+",a+=wa(Math.trunc(n.o/60)),a+=":",a+=wa(Math.trunc(n.o%60)))),o&&(a+="["+n.zone.ianaName+"]"),a}const ose={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},HDe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},WDe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},sse=["year","month","day","hour","minute","second","millisecond"],qDe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],UDe=["year","ordinal","hour","minute","second","millisecond"];function GDe(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new ooe(n);return e}function kG(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return GDe(n)}}function YDe(n){if(q2===void 0&&(q2=Ks.now()),n.type!=="iana")return n.offset(q2);const e=n.name;let t=T6.get(e);return t===void 0&&(t=n.offset(q2),T6.set(e,t)),t}function CG(n,e){const t=zy(e.zone,Ks.defaultZone);if(!t.isValid)return pr.invalid(W2(t));const r=co.fromObject(e);let i,o;if(Ir(n.year))i=Ks.now();else{for(const u of sse)Ir(n[u])&&(n[u]=ose[u]);const a=Poe(n)||Moe(n);if(a)return pr.invalid(a);const c=YDe(t);[i,o]=GM(n,c,t)}return new pr({ts:i,zone:t,loc:r,o})}function OG(n,e,t){const r=Ir(t.round)?!0:t.round,i=(a,c)=>(a=Y8(a,r||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(a,c)),o=a=>t.calendary?e.hasSame(n,a)?0:e.startOf(a).diff(n.startOf(a),a).get(a):e.diff(n,a).get(a);if(t.unit)return i(o(t.unit),t.unit);for(const a of t.units){const c=o(a);if(Math.abs(c)>=1)return i(c,a)}return i(n>e?-0:0,t.units[t.units.length-1])}function TG(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}let q2;const T6=new Map;class pr{constructor(e){const t=e.zone||Ks.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new wh("invalid input"):null)||(t.isValid?null:W2(t));this.ts=Ir(e.ts)?Ks.now():e.ts;let i=null,o=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,o]=[e.old.c,e.old.o];else{const c=xv(e.o)&&!e.old?e.o:t.offset(this.ts);i=AP(this.ts,c),r=Number.isNaN(i.year)?new wh("invalid input"):null,i=r?null:i,o=r?null:c}this._zone=t,this.loc=e.loc||co.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new pr({})}static local(){const[e,t]=TG(arguments),[r,i,o,a,c,u,h]=t;return CG({year:r,month:i,day:o,hour:a,minute:c,second:u,millisecond:h},e)}static utc(){const[e,t]=TG(arguments),[r,i,o,a,c,u,h]=t;return e.zone=qa.utcInstance,CG({year:r,month:i,day:o,hour:a,minute:c,second:u,millisecond:h},e)}static fromJSDate(e,t={}){const r=SMe(e)?e.valueOf():NaN;if(Number.isNaN(r))return pr.invalid("invalid input");const i=zy(t.zone,Ks.defaultZone);return i.isValid?new pr({ts:r,zone:i,loc:co.fromObject(t)}):pr.invalid(W2(i))}static fromMillis(e,t={}){if(xv(e))return e<-_G||e>_G?pr.invalid("Timestamp out of range"):new pr({ts:e,zone:zy(t.zone,Ks.defaultZone),loc:co.fromObject(t)});throw new Kl(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(xv(e))return new pr({ts:e*1e3,zone:zy(t.zone,Ks.defaultZone),loc:co.fromObject(t)});throw new Kl("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const r=zy(t.zone,Ks.defaultZone);if(!r.isValid)return pr.invalid(W2(r));const i=co.fromObject(t),o=f3(e,kG),{minDaysInFirstWeek:a,startOfWeek:c}=fG(o,i),u=Ks.now(),h=Ir(t.specificOffset)?r.offset(u):t.specificOffset,m=!Ir(o.ordinal),v=!Ir(o.year),_=!Ir(o.month)||!Ir(o.day),k=v||_,R=o.weekYear||o.weekNumber;if((k||m)&&R)throw new $w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(_&&m)throw new $w("Can't mix ordinal dates with month/day");const T=R||o.weekday&&!k;let F,$,j=AP(u,h);T?(F=qDe,$=HDe,j=u3(j,a,c)):m?(F=UDe,$=WDe,j=S4(j)):(F=sse,$=ose);let B=!1;for(const Me of F){const Ee=o[Me];Ir(Ee)?B?o[Me]=$[Me]:o[Me]=j[Me]:B=!0}const I=T?wMe(o,a,c):m?_Me(o):Poe(o),Y=I||Moe(o);if(Y)return pr.invalid(Y);const oe=T?uG(o,a,c):m?dG(o):o,[ne,ae]=GM(oe,h,r),Te=new pr({ts:ne,zone:r,o:ae,loc:i});return o.weekday&&k&&e.weekday!==Te.weekday?pr.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${Te.toISO()}`):Te.isValid?Te:pr.invalid(Te.invalid)}static fromISO(e,t={}){const[r,i]=hDe(e);return pw(r,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,i]=pDe(e);return pw(r,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,i]=mDe(e);return pw(r,i,t,"HTTP",t)}static fromFormat(e,t,r={}){if(Ir(e)||Ir(t))throw new Kl("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=r,a=co.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[c,u,h,m]=zDe(a,e,t);return m?pr.invalid(m):pw(c,u,r,`format ${t}`,e,h)}static fromString(e,t,r={}){return pr.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,i]=_De(e);return pw(r,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Kl("need to specify a reason the DateTime is invalid");const r=e instanceof wh?e:new wh(e,t);if(Ks.throwOnInvalid)throw new QPe(r);return new pr({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const r=rse(e,co.fromObject(t));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return ese(ec.parseFormat(e),co.fromObject(t)).map(i=>i.val).join("")}static resetCache(){q2=void 0,T6.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?O4(this).weekYear:NaN}get weekNumber(){return this.isValid?O4(this).weekNumber:NaN}get weekday(){return this.isValid?O4(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?T4(this).weekday:NaN}get localWeekNumber(){return this.isValid?T4(this).weekNumber:NaN}get localWeekYear(){return this.isValid?T4(this).weekYear:NaN}get ordinal(){return this.isValid?S4(this.c).ordinal:NaN}get monthShort(){return this.isValid?Bw.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Bw.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Bw.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Bw.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,r=ZN(this.c),i=this.zone.offset(r-e),o=this.zone.offset(r+e),a=this.zone.offset(r-i*t),c=this.zone.offset(r-o*t);if(a===c)return[this];const u=r-a*t,h=r-c*t,m=AP(u,a),v=AP(h,c);return m.hour===v.hour&&m.minute===v.minute&&m.second===v.second&&m.millisecond===v.millisecond?[u1(this,{ts:u}),u1(this,{ts:h})]:[this]}get isInLeapYear(){return ZO(this.year)}get daysInMonth(){return d3(this.year,this.month)}get daysInYear(){return this.isValid?n_(this.year):NaN}get weeksInWeekYear(){return this.isValid?dO(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?dO(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:r,calendar:i}=ec.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(qa.instance(e),t)}toLocal(){return this.setZone(Ks.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if(e=zy(e,Ks.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||r){const o=e.offset(this.ts),a=this.toObject();[i]=GM(a,o,e)}return u1(this,{ts:i,zone:e})}else return pr.invalid(W2(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r});return u1(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=f3(e,kG),{minDaysInFirstWeek:r,startOfWeek:i}=fG(t,this.loc),o=!Ir(t.weekYear)||!Ir(t.weekNumber)||!Ir(t.weekday),a=!Ir(t.ordinal),c=!Ir(t.year),u=!Ir(t.month)||!Ir(t.day),h=c||u,m=t.weekYear||t.weekNumber;if((h||a)&&m)throw new $w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new $w("Can't mix ordinal dates with month/day");let v;o?v=uG({...u3(this.c,r,i),...t},r,i):Ir(t.ordinal)?(v={...this.toObject(),...t},Ir(t.day)&&(v.day=Math.min(d3(v.year,v.month),v.day))):v=dG({...S4(this.c),...t});const[_,k]=GM(v,this.o,this.zone);return u1(this,{ts:_,o:k})}plus(e){if(!this.isValid)return this;const t=Jr.fromDurationLike(e);return u1(this,EG(this,t))}minus(e){if(!this.isValid)return this;const t=Jr.fromDurationLike(e).negate();return u1(this,EG(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const r={},i=Jr.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(t){const o=this.loc.getStartOfWeek(),{weekday:a}=this;a<o&&(r.weekNumber=this.weekNumber-1),r.weekday=o}else r.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);r.month=(o-1)*3+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?ec.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):C4}toLocaleString(e=c3,t={}){return this.isValid?ec.create(this.loc.clone(t),e).formatDateTime(this):C4}toLocaleParts(e={}){return this.isValid?ec.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const a=e==="extended";let c=A4(this,a);return c+="T",c+=SG(this,a,t,r,i,o),c}toISODate({format:e="extended"}={}){return this.isValid?A4(this,e==="extended"):null}toISOWeekDate(){return RP(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:o=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+SG(this,a==="extended",t,e,r,o):null}toRFC2822(){return RP(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return RP(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?A4(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(r&&(i+=" "),t?i+="z":e&&(i+="ZZ")),RP(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():C4}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return Jr.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=kMe(t).map(Jr.normalizeUnit),a=e.valueOf()>this.valueOf(),c=a?this:e,u=a?e:this,h=ADe(c,u,o,i);return a?h.negate():h}diffNow(e="milliseconds",t={}){return this.diff(pr.now(),e,t)}until(e){return this.isValid?Qs.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;const i=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,r)<=i&&i<=o.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||pr.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(i=e.unit,o=void 0),OG(t,this.plus(r),{...e,numeric:"always",units:i,unit:o})}toRelativeCalendar(e={}){return this.isValid?OG(e.base||pr.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(pr.isDateTime))throw new Kl("min requires all arguments be DateTimes");return hG(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(pr.isDateTime))throw new Kl("max requires all arguments be DateTimes");return hG(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:i=null,numberingSystem:o=null}=r,a=co.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return nse(a,e,t)}static fromStringExplain(e,t,r={}){return pr.fromFormatExplain(e,t,r)}static buildFormatParser(e,t={}){const{locale:r=null,numberingSystem:i=null}=t,o=co.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new tse(o,e)}static fromFormatParser(e,t,r={}){if(Ir(e)||Ir(t))throw new Kl("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:o=null}=r,a=co.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!a.equals(t.locale))throw new Kl(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${t.locale}`);const{result:c,zone:u,specificOffset:h,invalidReason:m}=t.explainFromTokens(e);return m?pr.invalid(m):pw(c,u,r,`format ${t.format}`,e,h)}static get DATE_SHORT(){return c3}static get DATE_MED(){return soe}static get DATE_MED_WITH_WEEKDAY(){return ZPe}static get DATE_FULL(){return aoe}static get DATE_HUGE(){return loe}static get TIME_SIMPLE(){return coe}static get TIME_WITH_SECONDS(){return uoe}static get TIME_WITH_SHORT_OFFSET(){return doe}static get TIME_WITH_LONG_OFFSET(){return foe}static get TIME_24_SIMPLE(){return hoe}static get TIME_24_WITH_SECONDS(){return poe}static get TIME_24_WITH_SHORT_OFFSET(){return moe}static get TIME_24_WITH_LONG_OFFSET(){return goe}static get DATETIME_SHORT(){return yoe}static get DATETIME_SHORT_WITH_SECONDS(){return voe}static get DATETIME_MED(){return boe}static get DATETIME_MED_WITH_SECONDS(){return xoe}static get DATETIME_MED_WITH_WEEKDAY(){return JPe}static get DATETIME_FULL(){return woe}static get DATETIME_FULL_WITH_SECONDS(){return _oe}static get DATETIME_HUGE(){return Eoe}static get DATETIME_HUGE_WITH_SECONDS(){return Soe}}function f2(n){if(pr.isDateTime(n))return n;if(n&&n.valueOf&&xv(n.valueOf()))return pr.fromJSDate(n);if(n&&typeof n=="object")return pr.fromObject(n);throw new Kl(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var R4=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i_={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},fO={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},bu=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},Kd=function(n){return n===!0?1:0};function AG(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var P4=function(n){return n instanceof Array?n:[n]};function Pc(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function ro(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function PP(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function ase(n,e){if(e(n))return n;if(n.parentNode)return ase(n.parentNode,e)}function MP(n,e){var t=ro("div","numInputWrapper"),r=ro("input","numInput "+n),i=ro("span","arrowUp"),o=ro("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var a in e)r.setAttribute(a,e[a]);return t.appendChild(r),t.appendChild(i),t.appendChild(o),t}function ed(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var M4=function(){},h3=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},QDe={D:M4,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*Kd(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:M4,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:M4,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},C1={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},dC={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[dC.w(n,e,t)]},F:function(n,e,t){return h3(dC.n(n,e,t)-1,!1,e)},G:function(n,e,t){return bu(dC.h(n,e,t))},H:function(n){return bu(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[Kd(n.getHours()>11)]},M:function(n,e){return h3(n.getMonth(),!0,e)},S:function(n){return bu(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return bu(n.getFullYear(),4)},d:function(n){return bu(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return bu(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return bu(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},lse=function(n){var e=n.config,t=e===void 0?i_:e,r=n.l10n,i=r===void 0?fO:r,o=n.isMobile,a=o===void 0?!1:o;return function(c,u,h){var m=h||i;return t.formatDate!==void 0&&!a?t.formatDate(c,u,m):u.split("").map(function(v,_,k){return dC[v]&&k[_-1]!=="\\"?dC[v](c,m,t):v!=="\\"?v:""}).join("")}},A6=function(n){var e=n.config,t=e===void 0?i_:e,r=n.l10n,i=r===void 0?fO:r;return function(o,a,c,u){if(!(o!==0&&!o)){var h=u||i,m,v=o;if(o instanceof Date)m=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)m=new Date(o);else if(typeof o=="string"){var _=a||(t||i_).dateFormat,k=String(o).trim();if(k==="today")m=new Date,c=!0;else if(t&&t.parseDate)m=t.parseDate(o,_);else if(/Z$/.test(k)||/GMT$/.test(k))m=new Date(o);else{for(var R=void 0,T=[],F=0,$=0,j="";F<_.length;F++){var B=_[F],I=B==="\\",Y=_[F-1]==="\\"||I;if(C1[B]&&!Y){j+=C1[B];var oe=new RegExp(j).exec(o);oe&&(R=!0)&&T[B!=="Y"?"push":"unshift"]({fn:QDe[B],val:oe[++$]})}else I||(j+=".")}m=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),T.forEach(function(ne){var ae=ne.fn,Te=ne.val;return m=ae(m,Te,h)||m}),m=R?m:void 0}}if(!(m instanceof Date&&!isNaN(m.getTime()))){t.errorHandler(new Error("Invalid date provided: "+v));return}return c===!0&&m.setHours(0,0,0,0),m}}};function id(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var KDe=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},D4=function(n,e,t){return n*3600+e*60+t},XDe=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},ZDe={DAY:864e5};function N4(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),o=n.minDate.getMinutes(),a=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<o&&(t=o),e===i&&t===o&&r<a&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var c=n.maxDate.getHours(),u=n.maxDate.getMinutes();e=Math.min(e,c),e===c&&(t=Math.min(u,t)),e===c&&t===u&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(c){c&&Object.keys(c).forEach(function(u){return n[u]=c[u]})},i=0,o=e;i<o.length;i++){var a=o[i];r(a)}return n});var Xl=function(){return Xl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Xl.apply(this,arguments)},RG=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r},JDe=300;function e3e(n,e){var t={config:Xl(Xl({},i_),_a.defaultConfig),l10n:fO};t.parseDate=A6({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=T,t._setHoursFromDate=_,t._positionCalendar=We,t.changeMonth=Ye,t.changeYear=Zt,t.clear=rt,t.close=ve,t.onMouseOver=Vt,t._createElement=ro,t.createDay=oe,t.destroy=vt,t.isEnabled=pn,t.jumpToDate=j,t.updateValue=Ai,t.open=En,t.redraw=Bt,t.set=Xt,t.setDate=Ti,t.toggle=mr;function r(){t.utils={getDaysInMonth:function(fe,be){return fe===void 0&&(fe=t.currentMonth),be===void 0&&(be=t.currentYear),fe===1&&(be%4===0&&be%100!==0||be%400===0)?29:t.l10n.daysInMonth[fe]}}}function i(){t.element=t.input=n,t.isOpen=!1,nr(),Re(),Vs(),pa(),r(),t.isMobile||Y(),$(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&_(t.config.noCalendar?t.latestSelectedDateObj:void 0),Ai(!1)),c();var fe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&fe&&We(),Er("onReady")}function o(){var fe;return((fe=t.calendarContainer)===null||fe===void 0?void 0:fe.getRootNode()).activeElement||document.activeElement}function a(fe){return fe.bind(t)}function c(){var fe=t.config;fe.weekNumbers===!1&&fe.showMonths===1||fe.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var be=(t.days.offsetWidth+1)*fe.showMonths;t.daysContainer.style.width=be+"px",t.calendarContainer.style.width=be+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function u(fe){if(t.selectedDates.length===0){var be=t.config.minDate===void 0||id(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Ie=N4(t.config);be.setHours(Ie.hours,Ie.minutes,Ie.seconds,be.getMilliseconds()),t.selectedDates=[be],t.latestSelectedDateObj=be}fe!==void 0&&fe.type!=="blur"&&Ro(fe);var pt=t._input.value;v(),Ai(),t._input.value!==pt&&t._debouncedChange()}function h(fe,be){return fe%12+12*Kd(be===t.l10n.amPM[1])}function m(fe){switch(fe%24){case 0:case 12:return 12;default:return fe%12}}function v(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var fe=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,be=(parseInt(t.minuteElement.value,10)||0)%60,Ie=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(fe=h(fe,t.amPM.textContent));var pt=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&id(t.latestSelectedDateObj,t.config.minDate,!0)===0,Wt=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&id(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var an=D4(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),br=D4(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),tn=D4(fe,be,Ie);if(tn>br&&tn<an){var Rt=XDe(an);fe=Rt[0],be=Rt[1],Ie=Rt[2]}}else{if(Wt){var Jt=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;fe=Math.min(fe,Jt.getHours()),fe===Jt.getHours()&&(be=Math.min(be,Jt.getMinutes())),be===Jt.getMinutes()&&(Ie=Math.min(Ie,Jt.getSeconds()))}if(pt){var In=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;fe=Math.max(fe,In.getHours()),fe===In.getHours()&&be<In.getMinutes()&&(be=In.getMinutes()),be===In.getMinutes()&&(Ie=Math.max(Ie,In.getSeconds()))}}k(fe,be,Ie)}}function _(fe){var be=fe||t.latestSelectedDateObj;be&&be instanceof Date&&k(be.getHours(),be.getMinutes(),be.getSeconds())}function k(fe,be,Ie){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(fe%24,be,Ie||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=bu(t.config.time_24hr?fe:(12+fe)%12+12*Kd(fe%12===0)),t.minuteElement.value=bu(be),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Kd(fe>=12)]),t.secondElement!==void 0&&(t.secondElement.value=bu(Ie)))}function R(fe){var be=ed(fe),Ie=parseInt(be.value)+(fe.delta||0);(Ie/1e3>1||fe.key==="Enter"&&!/[^\d]/.test(Ie.toString()))&&Zt(Ie)}function T(fe,be,Ie,pt){if(be instanceof Array)return be.forEach(function(Wt){return T(fe,Wt,Ie,pt)});if(fe instanceof Array)return fe.forEach(function(Wt){return T(Wt,be,Ie,pt)});fe.addEventListener(be,Ie,pt),t._handlers.push({remove:function(){return fe.removeEventListener(be,Ie,pt)}})}function F(){Er("onChange")}function $(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Ie){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Ie+"]"),function(pt){return T(pt,"click",t[Ie])})}),t.isMobile){_r();return}var fe=AG(mn,50);if(t._debouncedChange=AG(F,JDe),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&T(t.daysContainer,"mouseover",function(Ie){t.config.mode==="range"&&Vt(ed(Ie))}),T(t._input,"keydown",Ht),t.calendarContainer!==void 0&&T(t.calendarContainer,"keydown",Ht),!t.config.inline&&!t.config.static&&T(window,"resize",fe),window.ontouchstart!==void 0?T(window.document,"touchstart",Tt):T(window.document,"mousedown",Tt),T(window.document,"focus",Tt,{capture:!0}),t.config.clickOpens===!0&&(T(t._input,"focus",t.open),T(t._input,"click",t.open)),t.daysContainer!==void 0&&(T(t.monthNav,"click",Ct),T(t.monthNav,["keyup","increment"],R),T(t.daysContainer,"click",vn)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var be=function(Ie){return ed(Ie).select()};T(t.timeContainer,["increment"],u),T(t.timeContainer,"blur",u,{capture:!0}),T(t.timeContainer,"click",B),T([t.hourElement,t.minuteElement],["focus","click"],be),t.secondElement!==void 0&&T(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&T(t.amPM,"click",function(Ie){u(Ie)})}t.config.allowInput&&T(t._input,"blur",ot)}function j(fe,be){var Ie=fe!==void 0?t.parseDate(fe):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),pt=t.currentYear,Wt=t.currentMonth;try{Ie!==void 0&&(t.currentYear=Ie.getFullYear(),t.currentMonth=Ie.getMonth())}catch(an){an.message="Invalid date supplied: "+Ie,t.config.errorHandler(an)}be&&t.currentYear!==pt&&(Er("onYearChange"),Ce()),be&&(t.currentYear!==pt||t.currentMonth!==Wt)&&Er("onMonthChange"),t.redraw()}function B(fe){var be=ed(fe);~be.className.indexOf("arrow")&&I(fe,be.classList.contains("arrowUp")?1:-1)}function I(fe,be,Ie){var pt=fe&&ed(fe),Wt=Ie||pt&&pt.parentNode&&pt.parentNode.firstChild,an=Di("increment");an.delta=be,Wt&&Wt.dispatchEvent(an)}function Y(){var fe=window.document.createDocumentFragment();if(t.calendarContainer=ro("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(fe.appendChild(ze()),t.innerContainer=ro("div","flatpickr-innerContainer"),t.config.weekNumbers){var be=bt(),Ie=be.weekWrapper,pt=be.weekNumbers;t.innerContainer.appendChild(Ie),t.weekNumbers=pt,t.weekWrapper=Ie}t.rContainer=ro("div","flatpickr-rContainer"),t.rContainer.appendChild(De()),t.daysContainer||(t.daysContainer=ro("div","flatpickr-days"),t.daysContainer.tabIndex=-1),we(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),fe.appendChild(t.innerContainer)}t.config.enableTime&&fe.appendChild(dt()),Pc(t.calendarContainer,"rangeMode",t.config.mode==="range"),Pc(t.calendarContainer,"animate",t.config.animate===!0),Pc(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(fe);var Wt=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Wt&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var an=ro("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(an,t.element),an.appendChild(t.element),t.altInput&&an.appendChild(t.altInput),an.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function oe(fe,be,Ie,pt){var Wt=pn(be,!0),an=ro("span",fe,be.getDate().toString());return an.dateObj=be,an.$i=pt,an.setAttribute("aria-label",t.formatDate(be,t.config.ariaDateFormat)),fe.indexOf("hidden")===-1&&id(be,t.now)===0&&(t.todayDateElem=an,an.classList.add("today"),an.setAttribute("aria-current","date")),Wt?(an.tabIndex=-1,Ho(be)&&(an.classList.add("selected"),t.selectedDateElem=an,t.config.mode==="range"&&(Pc(an,"startRange",t.selectedDates[0]&&id(be,t.selectedDates[0],!0)===0),Pc(an,"endRange",t.selectedDates[1]&&id(be,t.selectedDates[1],!0)===0),fe==="nextMonthDay"&&an.classList.add("inRange")))):an.classList.add("flatpickr-disabled"),t.config.mode==="range"&&ct(be)&&!Ho(be)&&an.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&fe!=="prevMonthDay"&&pt%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(be)+"</span>"),Er("onDayCreate",an),an}function ne(fe){fe.focus(),t.config.mode==="range"&&Vt(fe)}function ae(fe){for(var be=fe>0?0:t.config.showMonths-1,Ie=fe>0?t.config.showMonths:-1,pt=be;pt!=Ie;pt+=fe)for(var Wt=t.daysContainer.children[pt],an=fe>0?0:Wt.children.length-1,br=fe>0?Wt.children.length:-1,tn=an;tn!=br;tn+=fe){var Rt=Wt.children[tn];if(Rt.className.indexOf("hidden")===-1&&pn(Rt.dateObj))return Rt}}function Te(fe,be){for(var Ie=fe.className.indexOf("Month")===-1?fe.dateObj.getMonth():t.currentMonth,pt=be>0?t.config.showMonths:-1,Wt=be>0?1:-1,an=Ie-t.currentMonth;an!=pt;an+=Wt)for(var br=t.daysContainer.children[an],tn=Ie-t.currentMonth===an?fe.$i+be:be<0?br.children.length-1:0,Rt=br.children.length,Jt=tn;Jt>=0&&Jt<Rt&&Jt!=(be>0?Rt:-1);Jt+=Wt){var In=br.children[Jt];if(In.className.indexOf("hidden")===-1&&pn(In.dateObj)&&Math.abs(fe.$i-Jt)>=Math.abs(be))return ne(In)}t.changeMonth(Wt),Me(ae(Wt),0)}function Me(fe,be){var Ie=o(),pt=lr(Ie||document.body),Wt=fe!==void 0?fe:pt?Ie:t.selectedDateElem!==void 0&&lr(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&lr(t.todayDateElem)?t.todayDateElem:ae(be>0?1:-1);Wt===void 0?t._input.focus():pt?Te(Wt,be):ne(Wt)}function Ee(fe,be){for(var Ie=(new Date(fe,be,1).getDay()-t.l10n.firstDayOfWeek+7)%7,pt=t.utils.getDaysInMonth((be-1+12)%12,fe),Wt=t.utils.getDaysInMonth(be,fe),an=window.document.createDocumentFragment(),br=t.config.showMonths>1,tn=br?"prevMonthDay hidden":"prevMonthDay",Rt=br?"nextMonthDay hidden":"nextMonthDay",Jt=pt+1-Ie,In=0;Jt<=pt;Jt++,In++)an.appendChild(oe("flatpickr-day "+tn,new Date(fe,be-1,Jt),Jt,In));for(Jt=1;Jt<=Wt;Jt++,In++)an.appendChild(oe("flatpickr-day",new Date(fe,be,Jt),Jt,In));for(var li=Wt+1;li<=42-Ie&&(t.config.showMonths===1||In%7!==0);li++,In++)an.appendChild(oe("flatpickr-day "+Rt,new Date(fe,be+1,li%Wt),li,In));var Jo=ro("div","dayContainer");return Jo.appendChild(an),Jo}function we(){if(t.daysContainer!==void 0){PP(t.daysContainer),t.weekNumbers&&PP(t.weekNumbers);for(var fe=document.createDocumentFragment(),be=0;be<t.config.showMonths;be++){var Ie=new Date(t.currentYear,t.currentMonth,1);Ie.setMonth(t.currentMonth+be),fe.appendChild(Ee(Ie.getFullYear(),Ie.getMonth()))}t.daysContainer.appendChild(fe),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Vt()}}function Ce(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var fe=function(pt){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&pt<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&pt>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var be=0;be<12;be++)if(fe(be)){var Ie=ro("option","flatpickr-monthDropdown-month");Ie.value=new Date(t.currentYear,be).getMonth().toString(),Ie.textContent=h3(be,t.config.shorthandCurrentMonth,t.l10n),Ie.tabIndex=-1,t.currentMonth===be&&(Ie.selected=!0),t.monthsDropdownContainer.appendChild(Ie)}}}function Oe(){var fe=ro("div","flatpickr-month"),be=window.document.createDocumentFragment(),Ie;t.config.showMonths>1||t.config.monthSelectorType==="static"?Ie=ro("span","cur-month"):(t.monthsDropdownContainer=ro("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),T(t.monthsDropdownContainer,"change",function(br){var tn=ed(br),Rt=parseInt(tn.value,10);t.changeMonth(Rt-t.currentMonth),Er("onMonthChange")}),Ce(),Ie=t.monthsDropdownContainer);var pt=MP("cur-year",{tabindex:"-1"}),Wt=pt.getElementsByTagName("input")[0];Wt.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Wt.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Wt.setAttribute("max",t.config.maxDate.getFullYear().toString()),Wt.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var an=ro("div","flatpickr-current-month");return an.appendChild(Ie),an.appendChild(pt),be.appendChild(an),fe.appendChild(be),{container:fe,yearElement:Wt,monthElement:Ie}}function Fe(){PP(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var fe=t.config.showMonths;fe--;){var be=Oe();t.yearElements.push(be.yearElement),t.monthElements.push(be.monthElement),t.monthNav.appendChild(be.container)}t.monthNav.appendChild(t.nextMonthNav)}function ze(){return t.monthNav=ro("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=ro("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=ro("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Fe(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(fe){t.__hidePrevMonthArrow!==fe&&(Pc(t.prevMonthNav,"flatpickr-disabled",fe),t.__hidePrevMonthArrow=fe)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(fe){t.__hideNextMonthArrow!==fe&&(Pc(t.nextMonthNav,"flatpickr-disabled",fe),t.__hideNextMonthArrow=fe)}}),t.currentYearElement=t.yearElements[0],Et(),t.monthNav}function dt(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var fe=N4(t.config);t.timeContainer=ro("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var be=ro("span","flatpickr-time-separator",":"),Ie=MP("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Ie.getElementsByTagName("input")[0];var pt=MP("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=pt.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=bu(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?fe.hours:m(fe.hours)),t.minuteElement.value=bu(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():fe.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Ie),t.timeContainer.appendChild(be),t.timeContainer.appendChild(pt),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Wt=MP("flatpickr-second");t.secondElement=Wt.getElementsByTagName("input")[0],t.secondElement.value=bu(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():fe.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ro("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Wt)}return t.config.time_24hr||(t.amPM=ro("span","flatpickr-am-pm",t.l10n.amPM[Kd((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function De(){t.weekdayContainer?PP(t.weekdayContainer):t.weekdayContainer=ro("div","flatpickr-weekdays");for(var fe=t.config.showMonths;fe--;){var be=ro("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(be)}return Ze(),t.weekdayContainer}function Ze(){if(t.weekdayContainer){var fe=t.l10n.firstDayOfWeek,be=RG(t.l10n.weekdays.shorthand);fe>0&&fe<be.length&&(be=RG(be.splice(fe,be.length),be.splice(0,fe)));for(var Ie=t.config.showMonths;Ie--;)t.weekdayContainer.children[Ie].innerHTML=`
      <span class='flatpickr-weekday'>
        `+be.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function bt(){t.calendarContainer.classList.add("hasWeeks");var fe=ro("div","flatpickr-weekwrapper");fe.appendChild(ro("span","flatpickr-weekday",t.l10n.weekAbbreviation));var be=ro("div","flatpickr-weeks");return fe.appendChild(be),{weekWrapper:fe,weekNumbers:be}}function Ye(fe,be){be===void 0&&(be=!0);var Ie=be?fe:fe-t.currentMonth;Ie<0&&t._hidePrevMonthArrow===!0||Ie>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Ie,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Er("onYearChange"),Ce()),we(),Er("onMonthChange"),Et())}function rt(fe,be){if(fe===void 0&&(fe=!0),be===void 0&&(be=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,be===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Ie=N4(t.config),pt=Ie.hours,Wt=Ie.minutes,an=Ie.seconds;k(pt,Wt,an)}t.redraw(),fe&&Er("onChange")}function ve(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Er("onClose")}function vt(){t.config!==void 0&&Er("onDestroy");for(var fe=t._handlers.length;fe--;)t._handlers[fe].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var be=t.calendarContainer.parentNode;if(be.lastChild&&be.removeChild(be.lastChild),be.parentNode){for(;be.firstChild;)be.parentNode.insertBefore(be.firstChild,be);be.parentNode.removeChild(be)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Ie){try{delete t[Ie]}catch{}})}function gt(fe){return t.calendarContainer.contains(fe)}function Tt(fe){if(t.isOpen&&!t.config.inline){var be=ed(fe),Ie=gt(be),pt=be===t.input||be===t.altInput||t.element.contains(be)||fe.path&&fe.path.indexOf&&(~fe.path.indexOf(t.input)||~fe.path.indexOf(t.altInput)),Wt=!pt&&!Ie&&!gt(fe.relatedTarget),an=!t.config.ignoredFocusElements.some(function(br){return br.contains(be)});Wt&&an&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&u(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Zt(fe){if(!(!fe||t.config.minDate&&fe<t.config.minDate.getFullYear()||t.config.maxDate&&fe>t.config.maxDate.getFullYear())){var be=fe,Ie=t.currentYear!==be;t.currentYear=be||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Ie&&(t.redraw(),Er("onYearChange"),Ce())}}function pn(fe,be){var Ie;be===void 0&&(be=!0);var pt=t.parseDate(fe,void 0,be);if(t.config.minDate&&pt&&id(pt,t.config.minDate,be!==void 0?be:!t.minDateHasTime)<0||t.config.maxDate&&pt&&id(pt,t.config.maxDate,be!==void 0?be:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(pt===void 0)return!1;for(var Wt=!!t.config.enable,an=(Ie=t.config.enable)!==null&&Ie!==void 0?Ie:t.config.disable,br=0,tn=void 0;br<an.length;br++){if(tn=an[br],typeof tn=="function"&&tn(pt))return Wt;if(tn instanceof Date&&pt!==void 0&&tn.getTime()===pt.getTime())return Wt;if(typeof tn=="string"){var Rt=t.parseDate(tn,void 0,!0);return Rt&&Rt.getTime()===pt.getTime()?Wt:!Wt}else if(typeof tn=="object"&&pt!==void 0&&tn.from&&tn.to&&pt.getTime()>=tn.from.getTime()&&pt.getTime()<=tn.to.getTime())return Wt}return!Wt}function lr(fe){return t.daysContainer!==void 0?fe.className.indexOf("hidden")===-1&&fe.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(fe):!1}function ot(fe){var be=fe.target===t._input,Ie=t._input.value.trimEnd()!==Pr();be&&Ie&&!(fe.relatedTarget&&gt(fe.relatedTarget))&&t.setDate(t._input.value,!0,fe.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Ht(fe){var be=ed(fe),Ie=t.config.wrap?n.contains(be):be===t._input,pt=t.config.allowInput,Wt=t.isOpen&&(!pt||!Ie),an=t.config.inline&&Ie&&!pt;if(fe.keyCode===13&&Ie){if(pt)return t.setDate(t._input.value,!0,be===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),be.blur();t.open()}else if(gt(be)||Wt||an){var br=!!t.timeContainer&&t.timeContainer.contains(be);switch(fe.keyCode){case 13:br?(fe.preventDefault(),u(),At()):vn(fe);break;case 27:fe.preventDefault(),At();break;case 8:case 46:Ie&&!t.config.allowInput&&(fe.preventDefault(),t.clear());break;case 37:case 39:if(!br&&!Ie){fe.preventDefault();var tn=o();if(t.daysContainer!==void 0&&(pt===!1||tn&&lr(tn))){var Rt=fe.keyCode===39?1:-1;fe.ctrlKey?(fe.stopPropagation(),Ye(Rt),Me(ae(1),0)):Me(void 0,Rt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:fe.preventDefault();var Jt=fe.keyCode===40?1:-1;t.daysContainer&&be.$i!==void 0||be===t.input||be===t.altInput?fe.ctrlKey?(fe.stopPropagation(),Zt(t.currentYear-Jt),Me(ae(1),0)):br||Me(void 0,Jt*7):be===t.currentYearElement?Zt(t.currentYear-Jt):t.config.enableTime&&(!br&&t.hourElement&&t.hourElement.focus(),u(fe),t._debouncedChange());break;case 9:if(br){var In=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Po){return Po}),li=In.indexOf(be);if(li!==-1){var Jo=In[li+(fe.shiftKey?-1:1)];fe.preventDefault(),(Jo||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(be)&&fe.shiftKey&&(fe.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&be===t.amPM)switch(fe.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],v(),Ai();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],v(),Ai();break}(Ie||gt(be))&&Er("onKeyDown",fe)}function Vt(fe,be){if(be===void 0&&(be="flatpickr-day"),!(t.selectedDates.length!==1||fe&&(!fe.classList.contains(be)||fe.classList.contains("flatpickr-disabled")))){for(var Ie=fe?fe.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),pt=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Wt=Math.min(Ie,t.selectedDates[0].getTime()),an=Math.max(Ie,t.selectedDates[0].getTime()),br=!1,tn=0,Rt=0,Jt=Wt;Jt<an;Jt+=ZDe.DAY)pn(new Date(Jt),!0)||(br=br||Jt>Wt&&Jt<an,Jt<pt&&(!tn||Jt>tn)?tn=Jt:Jt>pt&&(!Rt||Jt<Rt)&&(Rt=Jt));var In=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+be));In.forEach(function(li){var Jo=li.dateObj,Po=Jo.getTime(),ul=tn>0&&Po<tn||Rt>0&&Po>Rt;if(ul){li.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(hs){li.classList.remove(hs)});return}else if(br&&!ul)return;["startRange","inRange","endRange","notAllowed"].forEach(function(hs){li.classList.remove(hs)}),fe!==void 0&&(fe.classList.add(Ie<=t.selectedDates[0].getTime()?"startRange":"endRange"),pt<Ie&&Po===pt?li.classList.add("startRange"):pt>Ie&&Po===pt&&li.classList.add("endRange"),Po>=tn&&(Rt===0||Po<=Rt)&&KDe(Po,pt,Ie)&&li.classList.add("inRange"))})}}function mn(){t.isOpen&&!t.config.static&&!t.config.inline&&We()}function En(fe,be){if(be===void 0&&(be=t._positionElement),t.isMobile===!0){if(fe){fe.preventDefault();var Ie=ed(fe);Ie&&Ie.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Er("onOpen");return}else if(t._input.disabled||t.config.inline)return;var pt=t.isOpen;t.isOpen=!0,pt||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Er("onOpen"),We(be)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(fe===void 0||!t.timeContainer.contains(fe.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function bn(fe){return function(be){var Ie=t.config["_"+fe+"Date"]=t.parseDate(be,t.config.dateFormat),pt=t.config["_"+(fe==="min"?"max":"min")+"Date"];Ie!==void 0&&(t[fe==="min"?"minDateHasTime":"maxDateHasTime"]=Ie.getHours()>0||Ie.getMinutes()>0||Ie.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Wt){return pn(Wt)}),!t.selectedDates.length&&fe==="min"&&_(Ie),Ai()),t.daysContainer&&(Bt(),Ie!==void 0?t.currentYearElement[fe]=Ie.getFullYear().toString():t.currentYearElement.removeAttribute(fe),t.currentYearElement.disabled=!!pt&&Ie!==void 0&&pt.getFullYear()===Ie.getFullYear())}}function nr(){var fe=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],be=Xl(Xl({},JSON.parse(JSON.stringify(n.dataset||{}))),e),Ie={};t.config.parseDate=be.parseDate,t.config.formatDate=be.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(In){t.config._enable=fi(In)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(In){t.config._disable=fi(In)}});var pt=be.mode==="time";if(!be.dateFormat&&(be.enableTime||pt)){var Wt=_a.defaultConfig.dateFormat||i_.dateFormat;Ie.dateFormat=be.noCalendar||pt?"H:i"+(be.enableSeconds?":S":""):Wt+" H:i"+(be.enableSeconds?":S":"")}if(be.altInput&&(be.enableTime||pt)&&!be.altFormat){var an=_a.defaultConfig.altFormat||i_.altFormat;Ie.altFormat=be.noCalendar||pt?"h:i"+(be.enableSeconds?":S K":" K"):an+(" h:i"+(be.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:bn("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:bn("max")});var br=function(In){return function(li){t.config[In==="min"?"_minTime":"_maxTime"]=t.parseDate(li,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:br("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:br("max")}),be.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Ie,be);for(var tn=0;tn<fe.length;tn++)t.config[fe[tn]]=t.config[fe[tn]]===!0||t.config[fe[tn]]==="true";R4.filter(function(In){return t.config[In]!==void 0}).forEach(function(In){t.config[In]=P4(t.config[In]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var tn=0;tn<t.config.plugins.length;tn++){var Rt=t.config.plugins[tn](t)||{};for(var Jt in Rt)R4.indexOf(Jt)>-1?t.config[Jt]=P4(Rt[Jt]).map(a).concat(t.config[Jt]):typeof be[Jt]>"u"&&(t.config[Jt]=Rt[Jt])}be.altInputClass||(t.config.altInputClass=rr().className+" "+t.config.altInputClass),Er("onParseConfig")}function rr(){return t.config.wrap?n.querySelector("[data-input]"):n}function Re(){typeof t.config.locale!="object"&&typeof _a.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Xl(Xl({},_a.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?_a.l10ns[t.config.locale]:void 0),C1.D="("+t.l10n.weekdays.shorthand.join("|")+")",C1.l="("+t.l10n.weekdays.longhand.join("|")+")",C1.M="("+t.l10n.months.shorthand.join("|")+")",C1.F="("+t.l10n.months.longhand.join("|")+")",C1.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var fe=Xl(Xl({},e),JSON.parse(JSON.stringify(n.dataset||{})));fe.time_24hr===void 0&&_a.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=lse(t),t.parseDate=A6({config:t.config,l10n:t.l10n})}function We(fe){if(typeof t.config.position=="function")return void t.config.position(t,fe);if(t.calendarContainer!==void 0){Er("onPreCalendarPosition");var be=fe||t._positionElement,Ie=Array.prototype.reduce.call(t.calendarContainer.children,function(Sn,ir){return Sn+ir.offsetHeight},0),pt=t.calendarContainer.offsetWidth,Wt=t.config.position.split(" "),an=Wt[0],br=Wt.length>1?Wt[1]:null,tn=be.getBoundingClientRect(),Rt=window.innerHeight-tn.bottom,Jt=an==="above"||an!=="below"&&Rt<Ie&&tn.top>Ie,In=window.pageYOffset+tn.top+(Jt?-Ie-2:be.offsetHeight+2);if(Pc(t.calendarContainer,"arrowTop",!Jt),Pc(t.calendarContainer,"arrowBottom",Jt),!t.config.inline){var li=window.pageXOffset+tn.left,Jo=!1,Po=!1;br==="center"?(li-=(pt-tn.width)/2,Jo=!0):br==="right"&&(li-=pt-tn.width,Po=!0),Pc(t.calendarContainer,"arrowLeft",!Jo&&!Po),Pc(t.calendarContainer,"arrowCenter",Jo),Pc(t.calendarContainer,"arrowRight",Po);var ul=window.document.body.offsetWidth-(window.pageXOffset+tn.right),hs=li+pt>window.document.body.offsetWidth,Qc=ul+pt>window.document.body.offsetWidth;if(Pc(t.calendarContainer,"rightMost",hs),!t.config.static)if(t.calendarContainer.style.top=In+"px",!hs)t.calendarContainer.style.left=li+"px",t.calendarContainer.style.right="auto";else if(!Qc)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=ul+"px";else{var Dl=Je();if(Dl===void 0)return;var Lu=window.document.body.offsetWidth,ea=Math.max(0,Lu/2-pt/2),Kc=".flatpickr-calendar.centerMost:before",Bn=".flatpickr-calendar.centerMost:after",Be=Dl.cssRules.length,jt="{left:"+tn.left+"px;right:auto;}";Pc(t.calendarContainer,"rightMost",!1),Pc(t.calendarContainer,"centerMost",!0),Dl.insertRule(Kc+","+Bn+jt,Be),t.calendarContainer.style.left=ea+"px",t.calendarContainer.style.right="auto"}}}}function Je(){for(var fe=null,be=0;be<document.styleSheets.length;be++){var Ie=document.styleSheets[be];if(Ie.cssRules){try{Ie.cssRules}catch{continue}fe=Ie;break}}return fe??Nt()}function Nt(){var fe=document.createElement("style");return document.head.appendChild(fe),fe.sheet}function Bt(){t.config.noCalendar||t.isMobile||(Ce(),Et(),we())}function At(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function vn(fe){fe.preventDefault(),fe.stopPropagation();var be=function(In){return In.classList&&In.classList.contains("flatpickr-day")&&!In.classList.contains("flatpickr-disabled")&&!In.classList.contains("notAllowed")},Ie=ase(ed(fe),be);if(Ie!==void 0){var pt=Ie,Wt=t.latestSelectedDateObj=new Date(pt.dateObj.getTime()),an=(Wt.getMonth()<t.currentMonth||Wt.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=pt,t.config.mode==="single")t.selectedDates=[Wt];else if(t.config.mode==="multiple"){var br=Ho(Wt);br?t.selectedDates.splice(parseInt(br),1):t.selectedDates.push(Wt)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Wt,t.selectedDates.push(Wt),id(Wt,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(In,li){return In.getTime()-li.getTime()}));if(v(),an){var tn=t.currentYear!==Wt.getFullYear();t.currentYear=Wt.getFullYear(),t.currentMonth=Wt.getMonth(),tn&&(Er("onYearChange"),Ce()),Er("onMonthChange")}if(Et(),we(),Ai(),!an&&t.config.mode!=="range"&&t.config.showMonths===1?ne(pt):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Rt=t.config.mode==="single"&&!t.config.enableTime,Jt=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Rt||Jt)&&At()}F()}}var Nn={locale:[Re,Ze],showMonths:[Fe,c,De],minDate:[j],maxDate:[j],positionElement:[zr],clickOpens:[function(){t.config.clickOpens===!0?(T(t._input,"focus",t.open),T(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Xt(fe,be){if(fe!==null&&typeof fe=="object"){Object.assign(t.config,fe);for(var Ie in fe)Nn[Ie]!==void 0&&Nn[Ie].forEach(function(pt){return pt()})}else t.config[fe]=be,Nn[fe]!==void 0?Nn[fe].forEach(function(pt){return pt()}):R4.indexOf(fe)>-1&&(t.config[fe]=P4(be));t.redraw(),Ai(!0)}function Rr(fe,be){var Ie=[];if(fe instanceof Array)Ie=fe.map(function(pt){return t.parseDate(pt,be)});else if(fe instanceof Date||typeof fe=="number")Ie=[t.parseDate(fe,be)];else if(typeof fe=="string")switch(t.config.mode){case"single":case"time":Ie=[t.parseDate(fe,be)];break;case"multiple":Ie=fe.split(t.config.conjunction).map(function(pt){return t.parseDate(pt,be)});break;case"range":Ie=fe.split(t.l10n.rangeSeparator).map(function(pt){return t.parseDate(pt,be)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(fe)));t.selectedDates=t.config.allowInvalidPreload?Ie:Ie.filter(function(pt){return pt instanceof Date&&pn(pt,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(pt,Wt){return pt.getTime()-Wt.getTime()})}function Ti(fe,be,Ie){if(be===void 0&&(be=!1),Ie===void 0&&(Ie=t.config.dateFormat),fe!==0&&!fe||fe instanceof Array&&fe.length===0)return t.clear(be);Rr(fe,Ie),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),j(void 0,be),_(),t.selectedDates.length===0&&t.clear(!1),Ai(be),be&&Er("onChange")}function fi(fe){return fe.slice().map(function(be){return typeof be=="string"||typeof be=="number"||be instanceof Date?t.parseDate(be,void 0,!0):be&&typeof be=="object"&&be.from&&be.to?{from:t.parseDate(be.from,void 0),to:t.parseDate(be.to,void 0)}:be}).filter(function(be){return be})}function pa(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var fe=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);fe&&Rr(fe,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Vs(){if(t.input=rr(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=ro(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),zr()}function zr(){t._positionElement=t.config.positionElement||t._input}function _r(){var fe=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=ro("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=fe,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=fe==="datetime-local"?"Y-m-d\\TH:i:S":fe==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}T(t.mobileInput,"change",function(be){t.setDate(ed(be).value,!1,t.mobileFormatStr),Er("onChange"),Er("onClose")})}function mr(fe){if(t.isOpen===!0)return t.close();t.open(fe)}function Er(fe,be){if(t.config!==void 0){var Ie=t.config[fe];if(Ie!==void 0&&Ie.length>0)for(var pt=0;Ie[pt]&&pt<Ie.length;pt++)Ie[pt](t.selectedDates,t.input.value,t,be);fe==="onChange"&&(t.input.dispatchEvent(Di("change")),t.input.dispatchEvent(Di("input")))}}function Di(fe){var be=document.createEvent("Event");return be.initEvent(fe,!0,!0),be}function Ho(fe){for(var be=0;be<t.selectedDates.length;be++){var Ie=t.selectedDates[be];if(Ie instanceof Date&&id(Ie,fe)===0)return""+be}return!1}function ct(fe){return t.config.mode!=="range"||t.selectedDates.length<2?!1:id(fe,t.selectedDates[0])>=0&&id(fe,t.selectedDates[1])<=0}function Et(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(fe,be){var Ie=new Date(t.currentYear,t.currentMonth,1);Ie.setMonth(t.currentMonth+be),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[be].textContent=h3(Ie.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Ie.getMonth().toString(),fe.value=Ie.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Pr(fe){var be=fe||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Ie){return t.formatDate(Ie,be)}).filter(function(Ie,pt,Wt){return t.config.mode!=="range"||t.config.enableTime||Wt.indexOf(Ie)===pt}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Ai(fe){fe===void 0&&(fe=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Pr(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Pr(t.config.altFormat)),fe!==!1&&Er("onValueUpdate")}function Ct(fe){var be=ed(fe),Ie=t.prevMonthNav.contains(be),pt=t.nextMonthNav.contains(be);Ie||pt?Ye(Ie?-1:1):t.yearElements.indexOf(be)>=0?be.select():be.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):be.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Ro(fe){fe.preventDefault();var be=fe.type==="keydown",Ie=ed(fe),pt=Ie;t.amPM!==void 0&&Ie===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Kd(t.amPM.textContent===t.l10n.amPM[0])]);var Wt=parseFloat(pt.getAttribute("min")),an=parseFloat(pt.getAttribute("max")),br=parseFloat(pt.getAttribute("step")),tn=parseInt(pt.value,10),Rt=fe.delta||(be?fe.which===38?1:-1:0),Jt=tn+br*Rt;if(typeof pt.value<"u"&&pt.value.length===2){var In=pt===t.hourElement,li=pt===t.minuteElement;Jt<Wt?(Jt=an+Jt+Kd(!In)+(Kd(In)&&Kd(!t.amPM)),li&&I(void 0,-1,t.hourElement)):Jt>an&&(Jt=pt===t.hourElement?Jt-an-Kd(!t.amPM):Wt,li&&I(void 0,1,t.hourElement)),t.amPM&&In&&(br===1?Jt+tn===23:Math.abs(Jt-tn)>br)&&(t.amPM.textContent=t.l10n.amPM[Kd(t.amPM.textContent===t.l10n.amPM[0])]),pt.value=bu(Jt)}}return i(),t}function o_(n,e){for(var t=Array.prototype.slice.call(n).filter(function(a){return a instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var o=t[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=e3e(o,e||{}),r.push(o._flatpickr)}catch(a){console.error(a)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return o_(this,n)},HTMLElement.prototype.flatpickr=function(n){return o_([this],n)});var _a=function(n,e){return typeof n=="string"?o_(window.document.querySelectorAll(n),e):n instanceof Node?o_([n],e):o_(n,e)};_a.defaultConfig={};_a.l10ns={en:Xl({},fO),default:Xl({},fO)};_a.localize=function(n){_a.l10ns.default=Xl(Xl({},_a.l10ns.default),n)};_a.setDefaults=function(n){_a.defaultConfig=Xl(Xl({},_a.defaultConfig),n)};_a.parseDate=A6({});_a.formatDate=lse({});_a.compareDates=id;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return o_(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=_a);function cse(n,e){for(var t in e)n[t]=e[t];return n}function PG(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function MG(n,e){this.props=n,this.context=e}(MG.prototype=new sg).isPureReactComponent=!0,MG.prototype.shouldComponentUpdate=function(n,e){return PG(this.props,n)||PG(this.state,e)};var DG=ei.__b;ei.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),DG&&DG(n)};var t3e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Yv(n){function e(t){var r=cse({},t);return delete r.ref,n(r,t.ref||null)}return e.$$typeof=t3e,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(n.displayName||n.name)+")",e}var n3e=ei.__e;ei.__e=function(n,e,t,r){if(n.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(n,e)}n3e(n,e,t,r)};var NG=ei.unmount;function use(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=cse({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return use(r,e,t)})),n}function dse(n,e,t){return n&&t&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return dse(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=t)),n}function I4(){this.__u=0,this.o=null,this.__b=null}function fse(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function DP(){this.i=null,this.l=null}ei.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&32&n.__u&&(n.type=null),NG&&NG(n)},(I4.prototype=new sg).__c=function(n,e){var t=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(t);var i=fse(r.__v),o=!1,a=function(){o||(o=!0,t.__R=null,i?i(c):c())};t.__R=a;var c=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=dse(u,u.__c.__P,u.__c.__O)}var h;for(r.setState({__a:r.__b=null});h=r.o.pop();)h.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(a,a)},I4.prototype.componentWillUnmount=function(){this.o=[]},I4.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=use(this.__b,t,r.__O=r.__P)}this.__b=null}var i=e.__a&&St(Vo,null,n.fallback);return i&&(i.__u&=-33),[St(Vo,null,e.__a?null:n.children),i]};var IG=function(n,e,t){if(++t[1]===t[0]&&n.l.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.l.size))for(t=n.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.i=t=t[2]}};function r3e(n){return this.getChildContext=function(){return n.context},n.children}function i3e(n){var e=this,t=n.h;if(e.componentWillUnmount=function(){bg(null,e.v),e.v=null,e.h=null},e.h&&e.h!==t&&e.componentWillUnmount(),!e.v){for(var r=e.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;e.h=t,e.v={nodeType:1,parentNode:t,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),e.h.appendChild(i)},insertBefore:function(i,o){this.childNodes.push(i),e.h.insertBefore(i,o)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.h.removeChild(i)}}}bg(St(r3e,{context:e.context},n.__v),e.v)}function t5(n,e){var t=St(i3e,{__v:n,h:e});return t.containerInfo=e,t}(DP.prototype=new sg).__a=function(n){var e=this,t=fse(e.__v),r=e.l.get(n);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),IG(e,n,r)):i()};t?t(o):o()}},DP.prototype.render=function(n){this.i=null,this.l=new Map;var e=o3(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return n.children},DP.prototype.componentDidUpdate=DP.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(e,t){IG(n,t,e)})};var o3e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,s3e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,a3e=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,l3e=/[A-Z0-9]/g,c3e=typeof document<"u",u3e=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};sg.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(sg.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var LG=ei.event;function d3e(){}function f3e(){return this.cancelBubble}function h3e(){return this.defaultPrevented}ei.event=function(n){return LG&&(n=LG(n)),n.persist=d3e,n.isPropagationStopped=f3e,n.isDefaultPrevented=h3e,n.nativeEvent=n};var p3e={enumerable:!1,configurable:!0,get:function(){return this.class}},FG=ei.vnode;ei.vnode=function(n){typeof n.type=="string"&&function(e){var t=e.props,r=e.type,i={},o=r.indexOf("-")===-1;for(var a in t){var c=t[a];if(!(a==="value"&&"defaultValue"in t&&c==null||c3e&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var u=a.toLowerCase();a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&c===!0?c="":u==="translate"&&c==="no"?c=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?a="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||u3e(t.type)?u==="onfocus"?a="onfocusin":u==="onblur"?a="onfocusout":a3e.test(a)&&(a=u):u=a="oninput":o&&s3e.test(a)?a=a.replace(l3e,"-$&").toLowerCase():c===null&&(c=void 0),u==="oninput"&&i[a=u]&&(a="oninputCapture"),i[a]=c}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=o3(t.children).forEach(function(h){h.props.selected=i.value.indexOf(h.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=o3(t.children).forEach(function(h){h.props.selected=i.multiple?i.defaultValue.indexOf(h.props.value)!=-1:i.defaultValue==h.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",p3e)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(n),n.$$typeof=o3e,FG&&FG(n)};var $G=ei.__r;ei.__r=function(n){$G&&$G(n),n.__c};var BG=ei.diffed;ei.diffed=function(n){BG&&BG(n);var e=n.props,t=n.__e;t!=null&&n.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value)};/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:hse,setPrototypeOf:jG,isFrozen:m3e,getPrototypeOf:g3e,getOwnPropertyDescriptor:y3e}=Object;let{freeze:Wc,seal:Ef,create:pse}=Object,{apply:R6,construct:P6}=typeof Reflect<"u"&&Reflect;Wc||(Wc=function(e){return e});Ef||(Ef=function(e){return e});R6||(R6=function(e,t,r){return e.apply(t,r)});P6||(P6=function(e,t){return new e(...t)});const NP=qc(Array.prototype.forEach),v3e=qc(Array.prototype.lastIndexOf),VG=qc(Array.prototype.pop),h2=qc(Array.prototype.push),b3e=qc(Array.prototype.splice),YM=qc(String.prototype.toLowerCase),L4=qc(String.prototype.toString),zG=qc(String.prototype.match),p2=qc(String.prototype.replace),x3e=qc(String.prototype.indexOf),w3e=qc(String.prototype.trim),ah=qc(Object.prototype.hasOwnProperty),Mc=qc(RegExp.prototype.test),m2=_3e(TypeError);function qc(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return R6(n,e,r)}}function _3e(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return P6(n,t)}}function gi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YM;jG&&jG(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=t(i);o!==i&&(m3e(e)||(e[r]=o),i=o)}n[i]=!0}return n}function E3e(n){for(let e=0;e<n.length;e++)ah(n,e)||(n[e]=null);return n}function _1(n){const e=pse(null);for(const[t,r]of hse(n))ah(n,t)&&(Array.isArray(r)?e[t]=E3e(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=_1(r):e[t]=r);return e}function g2(n,e){for(;n!==null;){const r=y3e(n,e);if(r){if(r.get)return qc(r.get);if(typeof r.value=="function")return qc(r.value)}n=g3e(n)}function t(){return null}return t}const HG=Wc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F4=Wc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$4=Wc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),S3e=Wc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B4=Wc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),k3e=Wc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),WG=Wc(["#text"]),qG=Wc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),j4=Wc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),UG=Wc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),IP=Wc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),C3e=Ef(/\{\{[\w\W]*|[\w\W]*\}\}/gm),O3e=Ef(/<%[\w\W]*|[\w\W]*%>/gm),T3e=Ef(/\$\{[\w\W]*/gm),A3e=Ef(/^data-[\-\w.\u00B7-\uFFFF]+$/),R3e=Ef(/^aria-[\-\w]+$/),mse=Ef(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),P3e=Ef(/^(?:\w+script|data):/i),M3e=Ef(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gse=Ef(/^html$/i),D3e=Ef(/^[a-z][.\w]*(-[.\w]+)+$/i);var GG=Object.freeze({__proto__:null,ARIA_ATTR:R3e,ATTR_WHITESPACE:M3e,CUSTOM_ELEMENT:D3e,DATA_ATTR:A3e,DOCTYPE_NAME:gse,ERB_EXPR:O3e,IS_ALLOWED_URI:mse,IS_SCRIPT_OR_DATA:P3e,MUSTACHE_EXPR:C3e,TMPLIT_EXPR:T3e});const y2={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},N3e=function(){return typeof window>"u"?null:window},I3e=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},YG=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function yse(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N3e();const e=Bn=>yse(Bn);if(e.version="3.2.5",e.removed=[],!n||!n.document||n.document.nodeType!==y2.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:c,Element:u,NodeFilter:h,NamedNodeMap:m=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:v,DOMParser:_,trustedTypes:k}=n,R=u.prototype,T=g2(R,"cloneNode"),F=g2(R,"remove"),$=g2(R,"nextSibling"),j=g2(R,"childNodes"),B=g2(R,"parentNode");if(typeof a=="function"){const Bn=t.createElement("template");Bn.content&&Bn.content.ownerDocument&&(t=Bn.content.ownerDocument)}let I,Y="";const{implementation:oe,createNodeIterator:ne,createDocumentFragment:ae,getElementsByTagName:Te}=t,{importNode:Me}=r;let Ee=YG();e.isSupported=typeof hse=="function"&&typeof B=="function"&&oe&&oe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:we,ERB_EXPR:Ce,TMPLIT_EXPR:Oe,DATA_ATTR:Fe,ARIA_ATTR:ze,IS_SCRIPT_OR_DATA:dt,ATTR_WHITESPACE:De,CUSTOM_ELEMENT:Ze}=GG;let{IS_ALLOWED_URI:bt}=GG,Ye=null;const rt=gi({},[...HG,...F4,...$4,...B4,...WG]);let ve=null;const vt=gi({},[...qG,...j4,...UG,...IP]);let gt=Object.seal(pse(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tt=null,Zt=null,pn=!0,lr=!0,ot=!1,Ht=!0,Vt=!1,mn=!0,En=!1,bn=!1,nr=!1,rr=!1,Re=!1,We=!1,Je=!0,Nt=!1;const Bt="user-content-";let At=!0,vn=!1,Nn={},Xt=null;const Rr=gi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ti=null;const fi=gi({},["audio","video","img","source","image","track"]);let pa=null;const Vs=gi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zr="http://www.w3.org/1998/Math/MathML",_r="http://www.w3.org/2000/svg",mr="http://www.w3.org/1999/xhtml";let Er=mr,Di=!1,Ho=null;const ct=gi({},[zr,_r,mr],L4);let Et=gi({},["mi","mo","mn","ms","mtext"]),Pr=gi({},["annotation-xml"]);const Ai=gi({},["title","style","font","a","script"]);let Ct=null;const Ro=["application/xhtml+xml","text/html"],fe="text/html";let be=null,Ie=null;const pt=t.createElement("form"),Wt=function(Be){return Be instanceof RegExp||Be instanceof Function},an=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ie&&Ie===Be)){if((!Be||typeof Be!="object")&&(Be={}),Be=_1(Be),Ct=Ro.indexOf(Be.PARSER_MEDIA_TYPE)===-1?fe:Be.PARSER_MEDIA_TYPE,be=Ct==="application/xhtml+xml"?L4:YM,Ye=ah(Be,"ALLOWED_TAGS")?gi({},Be.ALLOWED_TAGS,be):rt,ve=ah(Be,"ALLOWED_ATTR")?gi({},Be.ALLOWED_ATTR,be):vt,Ho=ah(Be,"ALLOWED_NAMESPACES")?gi({},Be.ALLOWED_NAMESPACES,L4):ct,pa=ah(Be,"ADD_URI_SAFE_ATTR")?gi(_1(Vs),Be.ADD_URI_SAFE_ATTR,be):Vs,Ti=ah(Be,"ADD_DATA_URI_TAGS")?gi(_1(fi),Be.ADD_DATA_URI_TAGS,be):fi,Xt=ah(Be,"FORBID_CONTENTS")?gi({},Be.FORBID_CONTENTS,be):Rr,Tt=ah(Be,"FORBID_TAGS")?gi({},Be.FORBID_TAGS,be):{},Zt=ah(Be,"FORBID_ATTR")?gi({},Be.FORBID_ATTR,be):{},Nn=ah(Be,"USE_PROFILES")?Be.USE_PROFILES:!1,pn=Be.ALLOW_ARIA_ATTR!==!1,lr=Be.ALLOW_DATA_ATTR!==!1,ot=Be.ALLOW_UNKNOWN_PROTOCOLS||!1,Ht=Be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Vt=Be.SAFE_FOR_TEMPLATES||!1,mn=Be.SAFE_FOR_XML!==!1,En=Be.WHOLE_DOCUMENT||!1,rr=Be.RETURN_DOM||!1,Re=Be.RETURN_DOM_FRAGMENT||!1,We=Be.RETURN_TRUSTED_TYPE||!1,nr=Be.FORCE_BODY||!1,Je=Be.SANITIZE_DOM!==!1,Nt=Be.SANITIZE_NAMED_PROPS||!1,At=Be.KEEP_CONTENT!==!1,vn=Be.IN_PLACE||!1,bt=Be.ALLOWED_URI_REGEXP||mse,Er=Be.NAMESPACE||mr,Et=Be.MATHML_TEXT_INTEGRATION_POINTS||Et,Pr=Be.HTML_INTEGRATION_POINTS||Pr,gt=Be.CUSTOM_ELEMENT_HANDLING||{},Be.CUSTOM_ELEMENT_HANDLING&&Wt(Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(gt.tagNameCheck=Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&Wt(Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(gt.attributeNameCheck=Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&typeof Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(gt.allowCustomizedBuiltInElements=Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Vt&&(lr=!1),Re&&(rr=!0),Nn&&(Ye=gi({},WG),ve=[],Nn.html===!0&&(gi(Ye,HG),gi(ve,qG)),Nn.svg===!0&&(gi(Ye,F4),gi(ve,j4),gi(ve,IP)),Nn.svgFilters===!0&&(gi(Ye,$4),gi(ve,j4),gi(ve,IP)),Nn.mathMl===!0&&(gi(Ye,B4),gi(ve,UG),gi(ve,IP))),Be.ADD_TAGS&&(Ye===rt&&(Ye=_1(Ye)),gi(Ye,Be.ADD_TAGS,be)),Be.ADD_ATTR&&(ve===vt&&(ve=_1(ve)),gi(ve,Be.ADD_ATTR,be)),Be.ADD_URI_SAFE_ATTR&&gi(pa,Be.ADD_URI_SAFE_ATTR,be),Be.FORBID_CONTENTS&&(Xt===Rr&&(Xt=_1(Xt)),gi(Xt,Be.FORBID_CONTENTS,be)),At&&(Ye["#text"]=!0),En&&gi(Ye,["html","head","body"]),Ye.table&&(gi(Ye,["tbody"]),delete Tt.tbody),Be.TRUSTED_TYPES_POLICY){if(typeof Be.TRUSTED_TYPES_POLICY.createHTML!="function")throw m2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw m2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=Be.TRUSTED_TYPES_POLICY,Y=I.createHTML("")}else I===void 0&&(I=I3e(k,i)),I!==null&&typeof Y=="string"&&(Y=I.createHTML(""));Wc&&Wc(Be),Ie=Be}},br=gi({},[...F4,...$4,...S3e]),tn=gi({},[...B4,...k3e]),Rt=function(Be){let jt=B(Be);(!jt||!jt.tagName)&&(jt={namespaceURI:Er,tagName:"template"});const Sn=YM(Be.tagName),ir=YM(jt.tagName);return Ho[Be.namespaceURI]?Be.namespaceURI===_r?jt.namespaceURI===mr?Sn==="svg":jt.namespaceURI===zr?Sn==="svg"&&(ir==="annotation-xml"||Et[ir]):!!br[Sn]:Be.namespaceURI===zr?jt.namespaceURI===mr?Sn==="math":jt.namespaceURI===_r?Sn==="math"&&Pr[ir]:!!tn[Sn]:Be.namespaceURI===mr?jt.namespaceURI===_r&&!Pr[ir]||jt.namespaceURI===zr&&!Et[ir]?!1:!tn[Sn]&&(Ai[Sn]||!br[Sn]):!!(Ct==="application/xhtml+xml"&&Ho[Be.namespaceURI]):!1},Jt=function(Be){h2(e.removed,{element:Be});try{B(Be).removeChild(Be)}catch{F(Be)}},In=function(Be,jt){try{h2(e.removed,{attribute:jt.getAttributeNode(Be),from:jt})}catch{h2(e.removed,{attribute:null,from:jt})}if(jt.removeAttribute(Be),Be==="is")if(rr||Re)try{Jt(jt)}catch{}else try{jt.setAttribute(Be,"")}catch{}},li=function(Be){let jt=null,Sn=null;if(nr)Be="<remove></remove>"+Be;else{const bi=zG(Be,/^[\r\n\t ]+/);Sn=bi&&bi[0]}Ct==="application/xhtml+xml"&&Er===mr&&(Be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Be+"</body></html>");const ir=I?I.createHTML(Be):Be;if(Er===mr)try{jt=new _().parseFromString(ir,Ct)}catch{}if(!jt||!jt.documentElement){jt=oe.createDocument(Er,"template",null);try{jt.documentElement.innerHTML=Di?Y:ir}catch{}}const Ki=jt.body||jt.documentElement;return Be&&Sn&&Ki.insertBefore(t.createTextNode(Sn),Ki.childNodes[0]||null),Er===mr?Te.call(jt,En?"html":"body")[0]:En?jt.documentElement:Ki},Jo=function(Be){return ne.call(Be.ownerDocument||Be,Be,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Po=function(Be){return Be instanceof v&&(typeof Be.nodeName!="string"||typeof Be.textContent!="string"||typeof Be.removeChild!="function"||!(Be.attributes instanceof m)||typeof Be.removeAttribute!="function"||typeof Be.setAttribute!="function"||typeof Be.namespaceURI!="string"||typeof Be.insertBefore!="function"||typeof Be.hasChildNodes!="function")},ul=function(Be){return typeof c=="function"&&Be instanceof c};function hs(Bn,Be,jt){NP(Bn,Sn=>{Sn.call(e,Be,jt,Ie)})}const Qc=function(Be){let jt=null;if(hs(Ee.beforeSanitizeElements,Be,null),Po(Be))return Jt(Be),!0;const Sn=be(Be.nodeName);if(hs(Ee.uponSanitizeElement,Be,{tagName:Sn,allowedTags:Ye}),Be.hasChildNodes()&&!ul(Be.firstElementChild)&&Mc(/<[/\w!]/g,Be.innerHTML)&&Mc(/<[/\w!]/g,Be.textContent)||Be.nodeType===y2.progressingInstruction||mn&&Be.nodeType===y2.comment&&Mc(/<[/\w]/g,Be.data))return Jt(Be),!0;if(!Ye[Sn]||Tt[Sn]){if(!Tt[Sn]&&Lu(Sn)&&(gt.tagNameCheck instanceof RegExp&&Mc(gt.tagNameCheck,Sn)||gt.tagNameCheck instanceof Function&&gt.tagNameCheck(Sn)))return!1;if(At&&!Xt[Sn]){const ir=B(Be)||Be.parentNode,Ki=j(Be)||Be.childNodes;if(Ki&&ir){const bi=Ki.length;for(let As=bi-1;As>=0;--As){const Ca=T(Ki[As],!0);Ca.__removalCount=(Be.__removalCount||0)+1,ir.insertBefore(Ca,$(Be))}}}return Jt(Be),!0}return Be instanceof u&&!Rt(Be)||(Sn==="noscript"||Sn==="noembed"||Sn==="noframes")&&Mc(/<\/no(script|embed|frames)/i,Be.innerHTML)?(Jt(Be),!0):(Vt&&Be.nodeType===y2.text&&(jt=Be.textContent,NP([we,Ce,Oe],ir=>{jt=p2(jt,ir," ")}),Be.textContent!==jt&&(h2(e.removed,{element:Be.cloneNode()}),Be.textContent=jt)),hs(Ee.afterSanitizeElements,Be,null),!1)},Dl=function(Be,jt,Sn){if(Je&&(jt==="id"||jt==="name")&&(Sn in t||Sn in pt))return!1;if(!(lr&&!Zt[jt]&&Mc(Fe,jt))){if(!(pn&&Mc(ze,jt))){if(!ve[jt]||Zt[jt]){if(!(Lu(Be)&&(gt.tagNameCheck instanceof RegExp&&Mc(gt.tagNameCheck,Be)||gt.tagNameCheck instanceof Function&&gt.tagNameCheck(Be))&&(gt.attributeNameCheck instanceof RegExp&&Mc(gt.attributeNameCheck,jt)||gt.attributeNameCheck instanceof Function&&gt.attributeNameCheck(jt))||jt==="is"&&gt.allowCustomizedBuiltInElements&&(gt.tagNameCheck instanceof RegExp&&Mc(gt.tagNameCheck,Sn)||gt.tagNameCheck instanceof Function&&gt.tagNameCheck(Sn))))return!1}else if(!pa[jt]){if(!Mc(bt,p2(Sn,De,""))){if(!((jt==="src"||jt==="xlink:href"||jt==="href")&&Be!=="script"&&x3e(Sn,"data:")===0&&Ti[Be])){if(!(ot&&!Mc(dt,p2(Sn,De,"")))){if(Sn)return!1}}}}}}return!0},Lu=function(Be){return Be!=="annotation-xml"&&zG(Be,Ze)},ea=function(Be){hs(Ee.beforeSanitizeAttributes,Be,null);const{attributes:jt}=Be;if(!jt||Po(Be))return;const Sn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ve,forceKeepAttr:void 0};let ir=jt.length;for(;ir--;){const Ki=jt[ir],{name:bi,namespaceURI:As,value:Ca}=Ki,kd=be(bi);let zs=bi==="value"?Ca:w3e(Ca);if(Sn.attrName=kd,Sn.attrValue=zs,Sn.keepAttr=!0,Sn.forceKeepAttr=void 0,hs(Ee.uponSanitizeAttribute,Be,Sn),zs=Sn.attrValue,Nt&&(kd==="id"||kd==="name")&&(In(bi,Be),zs=Bt+zs),mn&&Mc(/((--!?|])>)|<\/(style|title)/i,zs)){In(bi,Be);continue}if(Sn.forceKeepAttr||(In(bi,Be),!Sn.keepAttr))continue;if(!Ht&&Mc(/\/>/i,zs)){In(bi,Be);continue}Vt&&NP([we,Ce,Oe],uc=>{zs=p2(zs,uc," ")});const es=be(Be.nodeName);if(Dl(es,kd,zs)){if(I&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!As)switch(k.getAttributeType(es,kd)){case"TrustedHTML":{zs=I.createHTML(zs);break}case"TrustedScriptURL":{zs=I.createScriptURL(zs);break}}try{As?Be.setAttributeNS(As,bi,zs):Be.setAttribute(bi,zs),Po(Be)?Jt(Be):VG(e.removed)}catch{}}}hs(Ee.afterSanitizeAttributes,Be,null)},Kc=function Bn(Be){let jt=null;const Sn=Jo(Be);for(hs(Ee.beforeSanitizeShadowDOM,Be,null);jt=Sn.nextNode();)hs(Ee.uponSanitizeShadowNode,jt,null),Qc(jt),ea(jt),jt.content instanceof o&&Bn(jt.content);hs(Ee.afterSanitizeShadowDOM,Be,null)};return e.sanitize=function(Bn){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},jt=null,Sn=null,ir=null,Ki=null;if(Di=!Bn,Di&&(Bn="<!-->"),typeof Bn!="string"&&!ul(Bn))if(typeof Bn.toString=="function"){if(Bn=Bn.toString(),typeof Bn!="string")throw m2("dirty is not a string, aborting")}else throw m2("toString is not a function");if(!e.isSupported)return Bn;if(bn||an(Be),e.removed=[],typeof Bn=="string"&&(vn=!1),vn){if(Bn.nodeName){const Ca=be(Bn.nodeName);if(!Ye[Ca]||Tt[Ca])throw m2("root node is forbidden and cannot be sanitized in-place")}}else if(Bn instanceof c)jt=li("<!---->"),Sn=jt.ownerDocument.importNode(Bn,!0),Sn.nodeType===y2.element&&Sn.nodeName==="BODY"||Sn.nodeName==="HTML"?jt=Sn:jt.appendChild(Sn);else{if(!rr&&!Vt&&!En&&Bn.indexOf("<")===-1)return I&&We?I.createHTML(Bn):Bn;if(jt=li(Bn),!jt)return rr?null:We?Y:""}jt&&nr&&Jt(jt.firstChild);const bi=Jo(vn?Bn:jt);for(;ir=bi.nextNode();)Qc(ir),ea(ir),ir.content instanceof o&&Kc(ir.content);if(vn)return Bn;if(rr){if(Re)for(Ki=ae.call(jt.ownerDocument);jt.firstChild;)Ki.appendChild(jt.firstChild);else Ki=jt;return(ve.shadowroot||ve.shadowrootmode)&&(Ki=Me.call(r,Ki,!0)),Ki}let As=En?jt.outerHTML:jt.innerHTML;return En&&Ye["!doctype"]&&jt.ownerDocument&&jt.ownerDocument.doctype&&jt.ownerDocument.doctype.name&&Mc(gse,jt.ownerDocument.doctype.name)&&(As="<!DOCTYPE "+jt.ownerDocument.doctype.name+`>
`+As),Vt&&NP([we,Ce,Oe],Ca=>{As=p2(As,Ca," ")}),I&&We?I.createHTML(As):As},e.setConfig=function(){let Bn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};an(Bn),bn=!0},e.clearConfig=function(){Ie=null,bn=!1},e.isValidAttribute=function(Bn,Be,jt){Ie||an({});const Sn=be(Bn),ir=be(Be);return Dl(Sn,ir,jt)},e.addHook=function(Bn,Be){typeof Be=="function"&&h2(Ee[Bn],Be)},e.removeHook=function(Bn,Be){if(Be!==void 0){const jt=v3e(Ee[Bn],Be);return jt===-1?void 0:b3e(Ee[Bn],jt,1)[0]}return VG(Ee[Bn])},e.removeHooks=function(Bn){Ee[Bn]=[]},e.removeAllHooks=function(){Ee=YG()},e}var L3e=yse(),p3={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */p3.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,m="__lodash_placeholder__",v=1,_=2,k=4,R=1,T=2,F=1,$=2,j=4,B=8,I=16,Y=32,oe=64,ne=128,ae=256,Te=512,Me=30,Ee="...",we=800,Ce=16,Oe=1,Fe=2,ze=3,dt=1/0,De=9007199254740991,Ze=17976931348623157e292,bt=NaN,Ye=4294967295,rt=Ye-1,ve=Ye>>>1,vt=[["ary",ne],["bind",F],["bindKey",$],["curry",B],["curryRight",I],["flip",Te],["partial",Y],["partialRight",oe],["rearg",ae]],gt="[object Arguments]",Tt="[object Array]",Zt="[object AsyncFunction]",pn="[object Boolean]",lr="[object Date]",ot="[object DOMException]",Ht="[object Error]",Vt="[object Function]",mn="[object GeneratorFunction]",En="[object Map]",bn="[object Number]",nr="[object Null]",rr="[object Object]",Re="[object Promise]",We="[object Proxy]",Je="[object RegExp]",Nt="[object Set]",Bt="[object String]",At="[object Symbol]",vn="[object Undefined]",Nn="[object WeakMap]",Xt="[object WeakSet]",Rr="[object ArrayBuffer]",Ti="[object DataView]",fi="[object Float32Array]",pa="[object Float64Array]",Vs="[object Int8Array]",zr="[object Int16Array]",_r="[object Int32Array]",mr="[object Uint8Array]",Er="[object Uint8ClampedArray]",Di="[object Uint16Array]",Ho="[object Uint32Array]",ct=/\b__p \+= '';/g,Et=/\b(__p \+=) '' \+/g,Pr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ai=/&(?:amp|lt|gt|quot|#39);/g,Ct=/[&<>"']/g,Ro=RegExp(Ai.source),fe=RegExp(Ct.source),be=/<%-([\s\S]+?)%>/g,Ie=/<%([\s\S]+?)%>/g,pt=/<%=([\s\S]+?)%>/g,Wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,an=/^\w*$/,br=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tn=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp(tn.source),Jt=/^\s+/,In=/\s/,li=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jo=/\{\n\/\* \[wrapped with (.+)\] \*/,Po=/,? & /,ul=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hs=/[()=,{}\[\]\/\s]/,Qc=/\\(\\)?/g,Dl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lu=/\w*$/,ea=/^[-+]0x[0-9a-f]+$/i,Kc=/^0b[01]+$/i,Bn=/^\[object .+?Constructor\]$/,Be=/^0o[0-7]+$/i,jt=/^(?:0|[1-9]\d*)$/,Sn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ir=/($^)/,Ki=/['\n\r\u2028\u2029\\]/g,bi="\\ud800-\\udfff",As="\\u0300-\\u036f",Ca="\\ufe20-\\ufe2f",kd="\\u20d0-\\u20ff",zs=As+Ca+kd,es="\\u2700-\\u27bf",uc="a-z\\xdf-\\xf6\\xf8-\\xff",Cd="\\xac\\xb1\\xd7\\xf7",Of="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mr="\\u2000-\\u206f",n0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",im="A-Z\\xc0-\\xd6\\xd8-\\xde",r0="\\ufe0e\\ufe0f",om=Cd+Of+Mr+n0,Ag="[']",i0="["+bi+"]",Od="["+om+"]",dc="["+zs+"]",So="\\d+",Nb="["+es+"]",o0="["+uc+"]",Wh="[^"+bi+om+So+es+uc+im+"]",fc="\\ud83c[\\udffb-\\udfff]",s0="(?:"+dc+"|"+fc+")",Mo="[^"+bi+"]",Do="(?:\\ud83c[\\udde6-\\uddff]){2}",Tf="[\\ud800-\\udbff][\\udc00-\\udfff]",io="["+im+"]",Af="\\u200d",Ib="(?:"+o0+"|"+Wh+")",Xc="(?:"+io+"|"+Wh+")",Zc="(?:"+Ag+"(?:d|ll|m|re|s|t|ve))?",a0="(?:"+Ag+"(?:D|LL|M|RE|S|T|VE))?",qh=s0+"?",l0="["+r0+"]?",c0="(?:"+Af+"(?:"+[Mo,Do,Tf].join("|")+")"+l0+qh+")*",No="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",hc=l0+qh+c0,dl="(?:"+[Nb,Do,Tf].join("|")+")"+hc,u0="(?:"+[Mo+dc+"?",dc,Do,Tf,i0].join("|")+")",Td=RegExp(Ag,"g"),Rf=RegExp(dc,"g"),Rg=RegExp(fc+"(?="+fc+")|"+u0+hc,"g"),sm=RegExp([io+"?"+o0+"+"+Zc+"(?="+[Od,io,"$"].join("|")+")",Xc+"+"+a0+"(?="+[Od,io+Ib,"$"].join("|")+")",io+"?"+Ib+"+"+Zc,io+"+"+a0,Nl,No,So,dl].join("|"),"g"),Fu=RegExp("["+Af+bi+zs+r0+"]"),am=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pg=-1,Xi={};Xi[fi]=Xi[pa]=Xi[Vs]=Xi[zr]=Xi[_r]=Xi[mr]=Xi[Er]=Xi[Di]=Xi[Ho]=!0,Xi[gt]=Xi[Tt]=Xi[Rr]=Xi[pn]=Xi[Ti]=Xi[lr]=Xi[Ht]=Xi[Vt]=Xi[En]=Xi[bn]=Xi[rr]=Xi[Je]=Xi[Nt]=Xi[Bt]=Xi[Nn]=!1;var Ei={};Ei[gt]=Ei[Tt]=Ei[Rr]=Ei[Ti]=Ei[pn]=Ei[lr]=Ei[fi]=Ei[pa]=Ei[Vs]=Ei[zr]=Ei[_r]=Ei[En]=Ei[bn]=Ei[rr]=Ei[Je]=Ei[Nt]=Ei[Bt]=Ei[At]=Ei[mr]=Ei[Er]=Ei[Di]=Ei[Ho]=!0,Ei[Ht]=Ei[Vt]=Ei[Nn]=!1;var d0={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Lb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ad={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fb=parseFloat,Rs=parseInt,Uh=typeof mh=="object"&&mh&&mh.Object===Object&&mh,Mg=typeof self=="object"&&self&&self.Object===Object&&self,Ps=Uh||Mg||Function("return this")(),Dg=e&&!e.nodeType&&e,$u=Dg&&!0&&n&&!n.nodeType&&n,lm=$u&&$u.exports===Dg,Hs=lm&&Uh.process,ts=function(){try{var je=$u&&$u.require&&$u.require("util").types;return je||Hs&&Hs.binding&&Hs.binding("util")}catch{}}(),cm=ts&&ts.isArrayBuffer,Si=ts&&ts.isDate,jr=ts&&ts.isMap,h0=ts&&ts.isRegExp,mc=ts&&ts.isSet,Ln=ts&&ts.isTypedArray;function ta(je,ut,it){switch(it.length){case 0:return je.call(ut);case 1:return je.call(ut,it[0]);case 2:return je.call(ut,it[0],it[1]);case 3:return je.call(ut,it[0],it[1],it[2])}return je.apply(ut,it)}function VE(je,ut,it,xn){for(var Qn=-1,hi=je==null?0:je.length;++Qn<hi;){var Co=je[Qn];ut(xn,Co,it(Co),je)}return xn}function Pn(je,ut){for(var it=-1,xn=je==null?0:je.length;++it<xn&&ut(je[it],it,je)!==!1;);return je}function na(je,ut){for(var it=je==null?0:je.length;it--&&ut(je[it],it,je)!==!1;);return je}function Jc(je,ut){for(var it=-1,xn=je==null?0:je.length;++it<xn;)if(!ut(je[it],it,je))return!1;return!0}function Il(je,ut){for(var it=-1,xn=je==null?0:je.length,Qn=0,hi=[];++it<xn;){var Co=je[it];ut(Co,it,je)&&(hi[Qn++]=Co)}return hi}function Rd(je,ut){var it=je==null?0:je.length;return!!it&&Pf(je,ut,0)>-1}function gc(je,ut,it){for(var xn=-1,Qn=je==null?0:je.length;++xn<Qn;)if(it(ut,je[xn]))return!0;return!1}function ko(je,ut){for(var it=-1,xn=je==null?0:je.length,Qn=Array(xn);++it<xn;)Qn[it]=ut(je[it],it,je);return Qn}function Gn(je,ut){for(var it=-1,xn=ut.length,Qn=je.length;++it<xn;)je[Qn+it]=ut[it];return je}function Gh(je,ut,it,xn){var Qn=-1,hi=je==null?0:je.length;for(xn&&hi&&(it=je[++Qn]);++Qn<hi;)it=ut(it,je[Qn],Qn,je);return it}function Pd(je,ut,it,xn){var Qn=je==null?0:je.length;for(xn&&Qn&&(it=je[--Qn]);Qn--;)it=ut(it,je[Qn],Qn,je);return it}function Ws(je,ut){for(var it=-1,xn=je==null?0:je.length;++it<xn;)if(ut(je[it],it,je))return!0;return!1}var $b=um("length");function Ll(je){return je.split("")}function p0(je){return je.match(ul)||[]}function m0(je,ut,it){var xn;return it(je,function(Qn,hi,Co){if(ut(Qn,hi,Co))return xn=hi,!1}),xn}function Yh(je,ut,it,xn){for(var Qn=je.length,hi=it+(xn?1:-1);xn?hi--:++hi<Qn;)if(ut(je[hi],hi,je))return hi;return-1}function Pf(je,ut,it){return ut===ut?Xa(je,ut,it):Yh(je,Mf,it)}function Bu(je,ut,it,xn){for(var Qn=it-1,hi=je.length;++Qn<hi;)if(xn(je[Qn],ut))return Qn;return-1}function Mf(je){return je!==je}function ju(je,ut){var it=je==null?0:je.length;return it?Fl(je,ut)/it:bt}function um(je){return function(ut){return ut==null?t:ut[je]}}function dm(je){return function(ut){return je==null?t:je[ut]}}function g0(je,ut,it,xn,Qn){return Qn(je,function(hi,Co,Hr){it=xn?(xn=!1,hi):ut(it,hi,Co,Hr)}),it}function cr(je,ut){var it=je.length;for(je.sort(ut);it--;)je[it]=je[it].value;return je}function Fl(je,ut){for(var it,xn=-1,Qn=je.length;++xn<Qn;){var hi=ut(je[xn]);hi!==t&&(it=it===t?hi:it+hi)}return it}function yc(je,ut){for(var it=-1,xn=Array(je);++it<je;)xn[it]=ut(it);return xn}function fl(je,ut){return ko(ut,function(it){return[it,je[it]]})}function ma(je){return je&&je.slice(0,hm(je)+1).replace(Jt,"")}function Hi(je){return function(ut){return je(ut)}}function vc(je,ut){return ko(ut,function(it){return je[it]})}function Vu(je,ut){return je.has(ut)}function ps(je,ut){for(var it=-1,xn=je.length;++it<xn&&Pf(ut,je[it],0)>-1;);return it}function Ng(je,ut){for(var it=je.length;it--&&Pf(ut,je[it],0)>-1;);return it}function Ka(je,ut){for(var it=je.length,xn=0;it--;)je[it]===ut&&++xn;return xn}var Qh=dm(d0),fm=dm(Lb);function Bb(je){return"\\"+f0[je]}function Df(je,ut){return je==null?t:je[ut]}function zu(je){return Fu.test(je)}function jb(je){return am.test(je)}function Kh(je){for(var ut,it=[];!(ut=je.next()).done;)it.push(ut.value);return it}function Nf(je){var ut=-1,it=Array(je.size);return je.forEach(function(xn,Qn){it[++ut]=[Qn,xn]}),it}function Ig(je,ut){return function(it){return je(ut(it))}}function Io(je,ut){for(var it=-1,xn=je.length,Qn=0,hi=[];++it<xn;){var Co=je[it];(Co===ut||Co===m)&&(je[it]=m,hi[Qn++]=it)}return hi}function Hu(je){var ut=-1,it=Array(je.size);return je.forEach(function(xn){it[++ut]=xn}),it}function Wi(je){var ut=-1,it=Array(je.size);return je.forEach(function(xn){it[++ut]=[xn,xn]}),it}function Xa(je,ut,it){for(var xn=it-1,Qn=je.length;++xn<Qn;)if(je[xn]===ut)return xn;return-1}function Md(je,ut,it){for(var xn=it+1;xn--;)if(je[xn]===ut)return xn;return xn}function If(je){return zu(je)?$l(je):$b(je)}function Wo(je){return zu(je)?Vb(je):Ll(je)}function hm(je){for(var ut=je.length;ut--&&In.test(je.charAt(ut)););return ut}var Lg=dm(Ad);function $l(je){for(var ut=Rg.lastIndex=0;Rg.test(je);)++ut;return ut}function Vb(je){return je.match(Rg)||[]}function y0(je){return je.match(sm)||[]}var v0=function je(ut){ut=ut==null?Ps:bc.defaults(Ps.Object(),ut,bc.pick(Ps,pc));var it=ut.Array,xn=ut.Date,Qn=ut.Error,hi=ut.Function,Co=ut.Math,Hr=ut.Object,pm=ut.RegExp,zb=ut.String,Bl=ut.TypeError,Wu=it.prototype,Hb=hi.prototype,jl=Hr.prototype,Dd=ut["__core-js_shared__"],Xh=Hb.toString,si=jl.hasOwnProperty,b0=0,Vl=function(){var y=/[^.]+$/.exec(Dd&&Dd.keys&&Dd.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),zl=jl.toString,x0=Xh.call(Hr),Zh=Ps._,w0=pm("^"+Xh.call(si).replace(tn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eu=lm?ut.Buffer:t,hl=ut.Symbol,Jh=ut.Uint8Array,Nd=eu?eu.allocUnsafe:t,ms=Ig(Hr.getPrototypeOf,Hr),mm=Hr.create,Id=jl.propertyIsEnumerable,pl=Wu.splice,tu=hl?hl.isConcatSpreadable:t,ep=hl?hl.iterator:t,xc=hl?hl.toStringTag:t,tp=function(){try{var y=Vd(Hr,"defineProperty");return y({},"",{}),y}catch{}}(),Lf=ut.clearTimeout!==Ps.clearTimeout&&ut.clearTimeout,np=xn&&xn.now!==Ps.Date.now&&xn.now,_0=ut.setTimeout!==Ps.setTimeout&&ut.setTimeout,Ff=Co.ceil,gs=Co.floor,$f=Hr.getOwnPropertySymbols,Hl=eu?eu.isBuffer:t,rp=ut.isFinite,mo=Wu.join,gm=Ig(Hr.keys,Hr),Ms=Co.max,ga=Co.min,Wb=xn.now,ym=ut.parseInt,qb=Co.random,zE=Wu.reverse,ys=Vd(ut,"DataView"),Bf=Vd(ut,"Map"),nu=Vd(ut,"Promise"),qo=Vd(ut,"Set"),Ni=Vd(ut,"WeakMap"),ie=Vd(Hr,"create"),Sr=Ni&&new Ni,Ft={},Qr=fp(ys),Fg=fp(Bf),Ub=fp(nu),qu=fp(qo),Gb=fp(Ni),Ds=hl?hl.prototype:t,ip=Ds?Ds.valueOf:t,Yb=Ds?Ds.toString:t;function pe(y){if(Fo(y)&&!Ar(y)&&!(y instanceof jn)){if(y instanceof ml)return y;if(si.call(y,"__wrapped__"))return MT(y)}return new ml(y)}var Za=function(){function y(){}return function(E){if(!Lo(E))return{};if(mm)return mm(E);y.prototype=E;var D=new y;return y.prototype=t,D}}();function vm(){}function ml(y,E){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=t}pe.templateSettings={escape:be,evaluate:Ie,interpolate:pt,variable:"",imports:{_:pe}},pe.prototype=vm.prototype,pe.prototype.constructor=pe,ml.prototype=Za(vm.prototype),ml.prototype.constructor=ml;function jn(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ye,this.__views__=[]}function $g(){var y=new jn(this.__wrapped__);return y.__actions__=yl(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=yl(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=yl(this.__views__),y}function HE(){if(this.__filtered__){var y=new jn(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function Qb(){var y=this.__wrapped__.value(),E=this.__dir__,D=Ar(y),U=E<0,se=D?y.length:0,ye=V5(0,se,this.__views__),Ae=ye.start,Ne=ye.end,Qe=Ne-Ae,kt=U?Ne:Ae-1,xt=this.__iteratees__,Dt=xt.length,rn=0,Wn=ga(Qe,this.__takeCount__);if(!D||!U&&se==Qe&&Wn==Qe)return vT(y,this.__actions__);var or=[];e:for(;Qe--&&rn<Wn;){kt+=E;for(var Lr=-1,Hn=y[kt];++Lr<Dt;){var ti=xt[Lr],ui=ti.iteratee,oa=ti.type,Ia=ui(Hn);if(oa==Fe)Hn=Ia;else if(!Ia){if(oa==Oe)continue e;break e}}or[rn++]=Hn}return or}jn.prototype=Za(vm.prototype),jn.prototype.constructor=jn;function wc(y){var E=-1,D=y==null?0:y.length;for(this.clear();++E<D;){var U=y[E];this.set(U[0],U[1])}}function Dr(){this.__data__=ie?ie(null):{},this.size=0}function go(y){var E=this.has(y)&&delete this.__data__[y];return this.size-=E?1:0,E}function vs(y){var E=this.__data__;if(ie){var D=E[y];return D===u?t:D}return si.call(E,y)?E[y]:t}function bm(y){var E=this.__data__;return ie?E[y]!==t:si.call(E,y)}function op(y,E){var D=this.__data__;return this.size+=this.has(y)?0:1,D[y]=ie&&E===t?u:E,this}wc.prototype.clear=Dr,wc.prototype.delete=go,wc.prototype.get=vs,wc.prototype.has=bm,wc.prototype.set=op;function Oa(y){var E=-1,D=y==null?0:y.length;for(this.clear();++E<D;){var U=y[E];this.set(U[0],U[1])}}function jf(){this.__data__=[],this.size=0}function Bg(y){var E=this.__data__,D=Hf(E,y);if(D<0)return!1;var U=E.length-1;return D==U?E.pop():pl.call(E,D,1),--this.size,!0}function WE(y){var E=this.__data__,D=Hf(E,y);return D<0?t:E[D][1]}function jg(y){return Hf(this.__data__,y)>-1}function ru(y,E){var D=this.__data__,U=Hf(D,y);return U<0?(++this.size,D.push([y,E])):D[U][1]=E,this}Oa.prototype.clear=jf,Oa.prototype.delete=Bg,Oa.prototype.get=WE,Oa.prototype.has=jg,Oa.prototype.set=ru;function Ii(y){var E=-1,D=y==null?0:y.length;for(this.clear();++E<D;){var U=y[E];this.set(U[0],U[1])}}function xm(){this.size=0,this.__data__={hash:new wc,map:new(Bf||Oa),string:new wc}}function Vg(y){var E=dx(this,y).delete(y);return this.size-=E?1:0,E}function _c(y){return dx(this,y).get(y)}function zn(y){return dx(this,y).has(y)}function on(y,E){var D=dx(this,y),U=D.size;return D.set(y,E),this.size+=D.size==U?0:1,this}Ii.prototype.clear=xm,Ii.prototype.delete=Vg,Ii.prototype.get=_c,Ii.prototype.has=zn,Ii.prototype.set=on;function Ec(y){var E=-1,D=y==null?0:y.length;for(this.__data__=new Ii;++E<D;)this.add(y[E])}function wm(y){return this.__data__.set(y,u),this}function gl(y){return this.__data__.has(y)}Ec.prototype.add=Ec.prototype.push=wm,Ec.prototype.has=gl;function Oo(y){var E=this.__data__=new Oa(y);this.size=E.size}function qE(){this.__data__=new Oa,this.size=0}function Vf(y){var E=this.__data__,D=E.delete(y);return this.size=E.size,D}function zf(y){return this.__data__.get(y)}function $r(y){return this.__data__.has(y)}function Kb(y,E){var D=this.__data__;if(D instanceof Oa){var U=D.__data__;if(!Bf||U.length<i-1)return U.push([y,E]),this.size=++D.size,this;D=this.__data__=new Ii(U)}return D.set(y,E),this.size=D.size,this}Oo.prototype.clear=qE,Oo.prototype.delete=Vf,Oo.prototype.get=zf,Oo.prototype.has=$r,Oo.prototype.set=Kb;function Xb(y,E){var D=Ar(y),U=!D&&Wd(y),se=!D&&!U&&Qu(y),ye=!D&&!U&&!se&&Mm(y),Ae=D||U||se||ye,Ne=Ae?yc(y.length,zb):[],Qe=Ne.length;for(var kt in y)(E||si.call(y,kt))&&!(Ae&&(kt=="length"||se&&(kt=="offset"||kt=="parent")||ye&&(kt=="buffer"||kt=="byteLength"||kt=="byteOffset")||Gi(kt,Qe)))&&Ne.push(kt);return Ne}function zg(y){var E=y.length;return E?y[Xn(0,E-1)]:t}function Zb(y,E){return Xg(yl(y),W(E,0,y.length))}function UE(y){return Xg(yl(y))}function sp(y,E,D){(D!==t&&!au(y[E],D)||D===t&&!(E in y))&&P(y,E,D)}function Ja(y,E,D){var U=y[E];(!(si.call(y,E)&&au(U,D))||D===t&&!(E in y))&&P(y,E,D)}function Hf(y,E){for(var D=y.length;D--;)if(au(y[D][0],E))return D;return-1}function ap(y,E,D,U){return st(y,function(se,ye,Ae){E(U,se,D(se),Ae)}),U}function x(y,E){return y&&kc(E,Us(E),y)}function C(y,E){return y&&kc(E,Na(E),y)}function P(y,E,D){E=="__proto__"&&tp?tp(y,E,{configurable:!0,enumerable:!0,value:D,writable:!0}):y[E]=D}function N(y,E){for(var D=-1,U=E.length,se=it(U),ye=y==null;++D<U;)se[D]=ye?t:Vx(y,E[D]);return se}function W(y,E,D){return y===y&&(D!==t&&(y=y<=D?y:D),E!==t&&(y=y>=E?y:E)),y}function G(y,E,D,U,se,ye){var Ae,Ne=E&v,Qe=E&_,kt=E&k;if(D&&(Ae=se?D(y,U,se,ye):D(y)),Ae!==t)return Ae;if(!Lo(y))return y;var xt=Ar(y);if(xt){if(Ae=z5(y),!Ne)return yl(y,Ae)}else{var Dt=Pa(y),rn=Dt==Vt||Dt==mn;if(Qu(y))return rx(y,Ne);if(Dt==rr||Dt==gt||rn&&!se){if(Ae=Qe||rn?{}:cS(y),!Ne)return Qe?rS(y,C(Ae,y)):nS(y,x(Ae,y))}else{if(!Ei[Dt])return se?y:{};Ae=CT(y,Dt,Ne)}}ye||(ye=new Oo);var Wn=ye.get(y);if(Wn)return Wn;ye.set(y,Ae),GS(y)?y.forEach(function(Hn){Ae.add(G(Hn,E,D,Hn,y,ye))}):HS(y)&&y.forEach(function(Hn,ti){Ae.set(ti,G(Hn,E,D,ti,y,ye))});var or=kt?Qe?ux:cx:Qe?Na:Us,Lr=xt?t:or(y);return Pn(Lr||y,function(Hn,ti){Lr&&(ti=Hn,Hn=y[ti]),Ja(Ae,ti,G(Hn,E,D,ti,y,ye))}),Ae}function te(y){var E=Us(y);return function(D){return de(D,y,E)}}function de(y,E,D){var U=D.length;if(y==null)return!U;for(y=Hr(y);U--;){var se=D[U],ye=E[se],Ae=y[se];if(Ae===t&&!(se in y)||!ye(Ae))return!1}return!0}function xe(y,E,D){if(typeof y!="function")throw new Bl(a);return P0(function(){y.apply(t,D)},E)}function qe(y,E,D,U){var se=-1,ye=Rd,Ae=!0,Ne=y.length,Qe=[],kt=E.length;if(!Ne)return Qe;D&&(E=ko(E,Hi(D))),U?(ye=gc,Ae=!1):E.length>=i&&(ye=Vu,Ae=!1,E=new Ec(E));e:for(;++se<Ne;){var xt=y[se],Dt=D==null?xt:D(xt);if(xt=U||xt!==0?xt:0,Ae&&Dt===Dt){for(var rn=kt;rn--;)if(E[rn]===Dt)continue e;Qe.push(xt)}else ye(E,Dt,U)||Qe.push(xt)}return Qe}var st=bT(ft),It=bT(ht,!0);function Ut(y,E){var D=!0;return st(y,function(U,se,ye){return D=!!E(U,se,ye),D}),D}function Tn(y,E,D){for(var U=-1,se=y.length;++U<se;){var ye=y[U],Ae=E(ye);if(Ae!=null&&(Ne===t?Ae===Ae&&!Wl(Ae):D(Ae,Ne)))var Ne=Ae,Qe=ye}return Qe}function en(y,E,D,U){var se=y.length;for(D=Br(D),D<0&&(D=-D>se?0:se+D),U=U===t||U>se?se:Br(U),U<0&&(U+=se),U=D>U?0:QS(U);D<U;)y[D++]=E;return y}function kn(y,E){var D=[];return st(y,function(U,se,ye){E(U,se,ye)&&D.push(U)}),D}function mt(y,E,D,U,se){var ye=-1,Ae=y.length;for(D||(D=Qg),se||(se=[]);++ye<Ae;){var Ne=y[ye];E>0&&D(Ne)?E>1?mt(Ne,E-1,D,U,se):Gn(se,Ne):U||(se[se.length]=Ne)}return se}var et=ox(),tt=ox(!0);function ft(y,E){return y&&et(y,E,Us)}function ht(y,E){return y&&tt(y,E,Us)}function Lt(y,E){return Il(E,function(D){return bl(y[D])})}function nn(y,E){E=iu(E,y);for(var D=0,U=E.length;y!=null&&D<U;)y=y[Yu(E[D++])];return D&&D==U?y:t}function gr(y,E,D){var U=E(y);return Ar(y)?U:Gn(U,D(y))}function $t(y){return y==null?y===t?vn:nr:xc&&xc in Hr(y)?kT(y):fS(y)}function Un(y,E){return y>E}function bs(y,E){return y!=null&&si.call(y,E)}function xs(y,E){return y!=null&&E in Hr(y)}function Ot(y,E,D){return y>=ga(E,D)&&y<Ms(E,D)}function ln(y,E,D){for(var U=D?gc:Rd,se=y[0].length,ye=y.length,Ae=ye,Ne=it(ye),Qe=1/0,kt=[];Ae--;){var xt=y[Ae];Ae&&E&&(xt=ko(xt,Hi(E))),Qe=ga(xt.length,Qe),Ne[Ae]=!D&&(E||se>=120&&xt.length>=120)?new Ec(Ae&&xt):t}xt=y[0];var Dt=-1,rn=Ne[0];e:for(;++Dt<se&&kt.length<Qe;){var Wn=xt[Dt],or=E?E(Wn):Wn;if(Wn=D||Wn!==0?Wn:0,!(rn?Vu(rn,or):U(kt,or,D))){for(Ae=ye;--Ae;){var Lr=Ne[Ae];if(!(Lr?Vu(Lr,or):U(y[Ae],or,D)))continue e}rn&&rn.push(or),kt.push(Wn)}}return kt}function ur(y,E,D,U){return ft(y,function(se,ye,Ae){E(U,D(se),ye,Ae)}),U}function tr(y,E,D){E=iu(E,y),y=R0(y,E);var U=y==null?y:y[Yu(vl(E))];return U==null?t:ta(U,y,D)}function ai(y){return Fo(y)&&$t(y)==gt}function yr(y){return Fo(y)&&$t(y)==Rr}function Ta(y){return Fo(y)&&$t(y)==lr}function el(y,E,D,U,se){return y===E?!0:y==null||E==null||!Fo(y)&&!Fo(E)?y!==y&&E!==E:Ns(y,E,D,U,el,se)}function Ns(y,E,D,U,se,ye){var Ae=Ar(y),Ne=Ar(E),Qe=Ae?Tt:Pa(y),kt=Ne?Tt:Pa(E);Qe=Qe==gt?rr:Qe,kt=kt==gt?rr:kt;var xt=Qe==rr,Dt=kt==rr,rn=Qe==kt;if(rn&&Qu(y)){if(!Qu(E))return!1;Ae=!0,xt=!1}if(rn&&!xt)return ye||(ye=new Oo),Ae||Mm(y)?T0(y,E,D,U,se,ye):ax(y,E,Qe,D,U,se,ye);if(!(D&R)){var Wn=xt&&si.call(y,"__wrapped__"),or=Dt&&si.call(E,"__wrapped__");if(Wn||or){var Lr=Wn?y.value():y,Hn=or?E.value():E;return ye||(ye=new Oo),se(Lr,Hn,D,U,ye)}}return rn?(ye||(ye=new Oo),lx(y,E,D,U,se,ye)):!1}function yo(y){return Fo(y)&&Pa(y)==En}function ci(y,E,D,U){var se=D.length,ye=se,Ae=!U;if(y==null)return!ye;for(y=Hr(y);se--;){var Ne=D[se];if(Ae&&Ne[2]?Ne[1]!==y[Ne[0]]:!(Ne[0]in y))return!1}for(;++se<ye;){Ne=D[se];var Qe=Ne[0],kt=y[Qe],xt=Ne[1];if(Ae&&Ne[2]){if(kt===t&&!(Qe in y))return!1}else{var Dt=new Oo;if(U)var rn=U(kt,xt,Qe,y,E,Dt);if(!(rn===t?el(xt,kt,R|T,U,Dt):rn))return!1}}return!0}function dr(y){if(!Lo(y)||TT(y))return!1;var E=bl(y)?w0:Bn;return E.test(fp(y))}function Pt(y){return Fo(y)&&$t(y)==Je}function qs(y){return Fo(y)&&Pa(y)==Nt}function Ld(y){return Fo(y)&&Lx(y.length)&&!!Xi[$t(y)]}function _m(y){return typeof y=="function"?y:y==null?xl:typeof y=="object"?Ar(y)?Kr(y[0],y[1]):ws(y):oR(y)}function Uo(y){if(!Kg(y))return gm(y);var E=[];for(var D in Hr(y))si.call(y,D)&&D!="constructor"&&E.push(D);return E}function ra(y){if(!Lo(y))return vx(y);var E=Kg(y),D=[];for(var U in y)U=="constructor"&&(E||!si.call(y,U))||D.push(U);return D}function qi(y,E){return y<E}function ya(y,E){var D=-1,U=Da(y)?it(y.length):[];return st(y,function(se,ye,Ae){U[++D]=E(se,ye,Ae)}),U}function ws(y){var E=fx(y);return E.length==1&&E[0][2]?dS(E[0][0],E[0][1]):function(D){return D===y||ci(D,y,E)}}function Kr(y,E){return gx(y)&&uS(E)?dS(Yu(y),E):function(D){var U=Vx(D,y);return U===t&&U===E?q0(D,y):el(E,U,R|T)}}function Zi(y,E,D,U,se){y!==E&&et(E,function(ye,Ae){if(se||(se=new Oo),Lo(ye))Wr(y,E,Ae,D,Zi,U,se);else{var Ne=U?U(Cm(y,Ae),ye,Ae+"",y,E,se):t;Ne===t&&(Ne=ye),sp(y,Ae,Ne)}},Na)}function Wr(y,E,D,U,se,ye,Ae){var Ne=Cm(y,D),Qe=Cm(E,D),kt=Ae.get(Qe);if(kt){sp(y,D,kt);return}var xt=ye?ye(Ne,Qe,D+"",y,E,Ae):t,Dt=xt===t;if(Dt){var rn=Ar(Qe),Wn=!rn&&Qu(Qe),or=!rn&&!Wn&&Mm(Qe);xt=Qe,rn||Wn||or?Ar(Ne)?xt=Ne:Ls(Ne)?xt=yl(Ne):Wn?(Dt=!1,xt=rx(Qe,!0)):or?(Dt=!1,xt=eS(Qe,!0)):xt=[]:Pm(Qe)||Wd(Qe)?(xt=Ne,Wd(Ne)?xt=KS(Ne):(!Lo(Ne)||bl(Ne))&&(xt=cS(Qe))):Dt=!1}Dt&&(Ae.set(Qe,xt),se(xt,Qe,U,ye,Ae),Ae.delete(Qe)),sp(y,D,xt)}function Aa(y,E){var D=y.length;if(D)return E+=E<0?D:0,Gi(E,D)?y[E]:t}function _e(y,E,D){E.length?E=ko(E,function(ye){return Ar(ye)?function(Ae){return nn(Ae,ye.length===1?ye[0]:ye)}:ye}):E=[xl];var U=-1;E=ko(E,Hi(sr()));var se=ya(y,function(ye,Ae,Ne){var Qe=ko(E,function(kt){return kt(ye)});return{criteria:Qe,index:++U,value:ye}});return cr(se,function(ye,Ae){return B5(ye,Ae,D)})}function J(y,E){return le(y,E,function(D,U){return q0(y,U)})}function le(y,E,D){for(var U=-1,se=E.length,ye={};++U<se;){var Ae=E[U],Ne=nn(y,Ae);D(Ne,Ae)&&lp(ye,iu(Ae,y),Ne)}return ye}function Ue(y){return function(E){return nn(E,y)}}function at(y,E,D,U){var se=U?Bu:Pf,ye=-1,Ae=E.length,Ne=y;for(y===E&&(E=yl(E)),D&&(Ne=ko(y,Hi(D)));++ye<Ae;)for(var Qe=0,kt=E[ye],xt=D?D(kt):kt;(Qe=se(Ne,xt,Qe,U))>-1;)Ne!==y&&pl.call(Ne,Qe,1),pl.call(y,Qe,1);return y}function Qt(y,E){for(var D=y?E.length:0,U=D-1;D--;){var se=E[D];if(D==U||se!==ye){var ye=se;Gi(se)?pl.call(y,se,1):YE(y,se)}}return y}function Xn(y,E){return y+gs(qb()*(E-y+1))}function kr(y,E,D,U){for(var se=-1,ye=Ms(Ff((E-y)/(D||1)),0),Ae=it(ye);ye--;)Ae[U?ye:++se]=y,y+=D;return Ae}function pi(y,E){var D="";if(!y||E<1||E>De)return D;do E%2&&(D+=y),E=gs(E/2),E&&(y+=y);while(E);return D}function Tr(y,E){return xx(bx(y,E,xl),y+"")}function Ra(y){return zg(pp(y))}function Hg(y,E){var D=pp(y);return Xg(D,W(E,0,D.length))}function lp(y,E,D,U){if(!Lo(y))return y;E=iu(E,y);for(var se=-1,ye=E.length,Ae=ye-1,Ne=y;Ne!=null&&++se<ye;){var Qe=Yu(E[se]),kt=D;if(Qe==="__proto__"||Qe==="constructor"||Qe==="prototype")return y;if(se!=Ae){var xt=Ne[Qe];kt=U?U(xt,Qe,Ne):t,kt===t&&(kt=Lo(xt)?xt:Gi(E[se+1])?[]:{})}Ja(Ne,Qe,kt),Ne=Ne[Qe]}return y}var Jb=Sr?function(y,E){return Sr.set(y,E),y}:xl,ex=tp?function(y,E){return tp(y,"toString",{configurable:!0,enumerable:!1,value:Q0(E),writable:!0})}:xl;function Sc(y){return Xg(pp(y))}function Ui(y,E,D){var U=-1,se=y.length;E<0&&(E=-E>se?0:se+E),D=D>se?se:D,D<0&&(D+=se),se=E>D?0:D-E>>>0,E>>>=0;for(var ye=it(se);++U<se;)ye[U]=y[U+E];return ye}function GE(y,E){var D;return st(y,function(U,se,ye){return D=E(U,se,ye),!D}),!!D}function Em(y,E,D){var U=0,se=y==null?U:y.length;if(typeof E=="number"&&E===E&&se<=ve){for(;U<se;){var ye=U+se>>>1,Ae=y[ye];Ae!==null&&!Wl(Ae)&&(D?Ae<=E:Ae<E)?U=ye+1:se=ye}return se}return tx(y,E,xl,D)}function tx(y,E,D,U){var se=0,ye=y==null?0:y.length;if(ye===0)return 0;E=D(E);for(var Ae=E!==E,Ne=E===null,Qe=Wl(E),kt=E===t;se<ye;){var xt=gs((se+ye)/2),Dt=D(y[xt]),rn=Dt!==t,Wn=Dt===null,or=Dt===Dt,Lr=Wl(Dt);if(Ae)var Hn=U||or;else kt?Hn=or&&(U||rn):Ne?Hn=or&&rn&&(U||!Wn):Qe?Hn=or&&rn&&!Wn&&(U||!Lr):Wn||Lr?Hn=!1:Hn=U?Dt<=E:Dt<E;Hn?se=xt+1:ye=xt}return ga(ye,rt)}function ia(y,E){for(var D=-1,U=y.length,se=0,ye=[];++D<U;){var Ae=y[D],Ne=E?E(Ae):Ae;if(!D||!au(Ne,Qe)){var Qe=Ne;ye[se++]=Ae===0?0:Ae}}return ye}function yT(y){return typeof y=="number"?y:Wl(y)?bt:+y}function va(y){if(typeof y=="string")return y;if(Ar(y))return ko(y,va)+"";if(Wl(y))return Yb?Yb.call(y):"";var E=y+"";return E=="0"&&1/y==-dt?"-0":E}function Fd(y,E,D){var U=-1,se=Rd,ye=y.length,Ae=!0,Ne=[],Qe=Ne;if(D)Ae=!1,se=gc;else if(ye>=i){var kt=E?null:_T(y);if(kt)return Hu(kt);Ae=!1,se=Vu,Qe=new Ec}else Qe=E?[]:Ne;e:for(;++U<ye;){var xt=y[U],Dt=E?E(xt):xt;if(xt=D||xt!==0?xt:0,Ae&&Dt===Dt){for(var rn=Qe.length;rn--;)if(Qe[rn]===Dt)continue e;E&&Qe.push(Dt),Ne.push(xt)}else se(Qe,Dt,D)||(Qe!==Ne&&Qe.push(Dt),Ne.push(xt))}return Ne}function YE(y,E){return E=iu(E,y),y=R0(y,E),y==null||delete y[Yu(vl(E))]}function QE(y,E,D,U){return lp(y,E,D(nn(y,E)),U)}function E0(y,E,D,U){for(var se=y.length,ye=U?se:-1;(U?ye--:++ye<se)&&E(y[ye],ye,y););return D?Ui(y,U?0:ye,U?ye+1:se):Ui(y,U?ye+1:0,U?se:ye)}function vT(y,E){var D=y;return D instanceof jn&&(D=D.value()),Gh(E,function(U,se){return se.func.apply(se.thisArg,Gn([U],se.args))},D)}function Wg(y,E,D){var U=y.length;if(U<2)return U?Fd(y[0]):[];for(var se=-1,ye=it(U);++se<U;)for(var Ae=y[se],Ne=-1;++Ne<U;)Ne!=se&&(ye[se]=qe(ye[se]||Ae,y[Ne],E,D));return Fd(mt(ye,1),E,D)}function KE(y,E,D){for(var U=-1,se=y.length,ye=E.length,Ae={};++U<se;){var Ne=U<ye?E[U]:t;D(Ae,y[U],Ne)}return Ae}function XE(y){return Ls(y)?y:[]}function nx(y){return typeof y=="function"?y:xl}function iu(y,E){return Ar(y)?y:gx(y,E)?[y]:wx(Li(y))}var Uu=Tr;function Wf(y,E,D){var U=y.length;return D=D===t?U:D,!E&&D>=U?y:Ui(y,E,D)}var ZE=Lf||function(y){return Ps.clearTimeout(y)};function rx(y,E){if(E)return y.slice();var D=y.length,U=Nd?Nd(D):new y.constructor(D);return y.copy(U),U}function ix(y){var E=new y.constructor(y.byteLength);return new Jh(E).set(new Jh(y)),E}function $5(y,E){var D=E?ix(y.buffer):y.buffer;return new y.constructor(D,y.byteOffset,y.byteLength)}function JE(y){var E=new y.constructor(y.source,Lu.exec(y));return E.lastIndex=y.lastIndex,E}function $d(y){return ip?Hr(ip.call(y)):{}}function eS(y,E){var D=E?ix(y.buffer):y.buffer;return new y.constructor(D,y.byteOffset,y.length)}function qg(y,E){if(y!==E){var D=y!==t,U=y===null,se=y===y,ye=Wl(y),Ae=E!==t,Ne=E===null,Qe=E===E,kt=Wl(E);if(!Ne&&!kt&&!ye&&y>E||ye&&Ae&&Qe&&!Ne&&!kt||U&&Ae&&Qe||!D&&Qe||!se)return 1;if(!U&&!ye&&!kt&&y<E||kt&&D&&se&&!U&&!ye||Ne&&D&&se||!Ae&&se||!Qe)return-1}return 0}function B5(y,E,D){for(var U=-1,se=y.criteria,ye=E.criteria,Ae=se.length,Ne=D.length;++U<Ae;){var Qe=qg(se[U],ye[U]);if(Qe){if(U>=Ne)return Qe;var kt=D[U];return Qe*(kt=="desc"?-1:1)}}return y.index-E.index}function tS(y,E,D,U){for(var se=-1,ye=y.length,Ae=D.length,Ne=-1,Qe=E.length,kt=Ms(ye-Ae,0),xt=it(Qe+kt),Dt=!U;++Ne<Qe;)xt[Ne]=E[Ne];for(;++se<Ae;)(Dt||se<ye)&&(xt[D[se]]=y[se]);for(;kt--;)xt[Ne++]=y[se++];return xt}function cp(y,E,D,U){for(var se=-1,ye=y.length,Ae=-1,Ne=D.length,Qe=-1,kt=E.length,xt=Ms(ye-Ne,0),Dt=it(xt+kt),rn=!U;++se<xt;)Dt[se]=y[se];for(var Wn=se;++Qe<kt;)Dt[Wn+Qe]=E[Qe];for(;++Ae<Ne;)(rn||se<ye)&&(Dt[Wn+D[Ae]]=y[se++]);return Dt}function yl(y,E){var D=-1,U=y.length;for(E||(E=it(U));++D<U;)E[D]=y[D];return E}function kc(y,E,D,U){var se=!D;D||(D={});for(var ye=-1,Ae=E.length;++ye<Ae;){var Ne=E[ye],Qe=U?U(D[Ne],y[Ne],Ne,D,y):t;Qe===t&&(Qe=y[Ne]),se?P(D,Ne,Qe):Ja(D,Ne,Qe)}return D}function nS(y,E){return kc(y,hx(y),E)}function rS(y,E){return kc(y,px(y),E)}function S0(y,E){return function(D,U){var se=Ar(D)?VE:ap,ye=E?E():{};return se(D,y,sr(U,2),ye)}}function up(y){return Tr(function(E,D){var U=-1,se=D.length,ye=se>1?D[se-1]:t,Ae=se>2?D[2]:t;for(ye=y.length>3&&typeof ye=="function"?(se--,ye):t,Ae&&Ma(D[0],D[1],Ae)&&(ye=se<3?t:ye,se=1),E=Hr(E);++U<se;){var Ne=D[U];Ne&&y(E,Ne,U,ye)}return E})}function bT(y,E){return function(D,U){if(D==null)return D;if(!Da(D))return y(D,U);for(var se=D.length,ye=E?se:-1,Ae=Hr(D);(E?ye--:++ye<se)&&U(Ae[ye],ye,Ae)!==!1;);return D}}function ox(y){return function(E,D,U){for(var se=-1,ye=Hr(E),Ae=U(E),Ne=Ae.length;Ne--;){var Qe=Ae[y?Ne:++se];if(D(ye[Qe],Qe,ye)===!1)break}return E}}function xT(y,E,D){var U=E&F,se=Bd(y);function ye(){var Ae=this&&this!==Ps&&this instanceof ye?se:y;return Ae.apply(U?D:this,arguments)}return ye}function iS(y){return function(E){E=Li(E);var D=zu(E)?Wo(E):t,U=D?D[0]:E.charAt(0),se=D?Wf(D,1).join(""):E.slice(1);return U[y]()+se}}function Ug(y){return function(E){return Gh(gk(Xf(E).replace(Td,"")),y,"")}}function Bd(y){return function(){var E=arguments;switch(E.length){case 0:return new y;case 1:return new y(E[0]);case 2:return new y(E[0],E[1]);case 3:return new y(E[0],E[1],E[2]);case 4:return new y(E[0],E[1],E[2],E[3]);case 5:return new y(E[0],E[1],E[2],E[3],E[4]);case 6:return new y(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new y(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var D=Za(y.prototype),U=y.apply(D,E);return Lo(U)?U:D}}function j5(y,E,D){var U=Bd(y);function se(){for(var ye=arguments.length,Ae=it(ye),Ne=ye,Qe=Sm(se);Ne--;)Ae[Ne]=arguments[Ne];var kt=ye<3&&Ae[0]!==Qe&&Ae[ye-1]!==Qe?[]:Io(Ae,Qe);if(ye-=kt.length,ye<D)return sS(y,E,C0,se.placeholder,t,Ae,kt,t,t,D-ye);var xt=this&&this!==Ps&&this instanceof se?U:y;return ta(xt,this,Ae)}return se}function k0(y){return function(E,D,U){var se=Hr(E);if(!Da(E)){var ye=sr(D,3);E=Us(E),D=function(Ne){return ye(se[Ne],Ne,se)}}var Ae=y(E,D,U);return Ae>-1?se[ye?E[Ae]:Ae]:t}}function tl(y){return Cc(function(E){var D=E.length,U=D,se=ml.prototype.thru;for(y&&E.reverse();U--;){var ye=E[U];if(typeof ye!="function")throw new Bl(a);if(se&&!Ae&&A0(ye)=="wrapper")var Ae=new ml([],!0)}for(U=Ae?U:D;++U<D;){ye=E[U];var Ne=A0(ye),Qe=Ne=="wrapper"?Yg(ye):t;Qe&&km(Qe[0])&&Qe[1]==(ne|B|Y|ae)&&!Qe[4].length&&Qe[9]==1?Ae=Ae[A0(Qe[0])].apply(Ae,Qe[3]):Ae=ye.length==1&&km(ye)?Ae[Ne]():Ae.thru(ye)}return function(){var kt=arguments,xt=kt[0];if(Ae&&kt.length==1&&Ar(xt))return Ae.plant(xt).value();for(var Dt=0,rn=D?E[Dt].apply(this,kt):xt;++Dt<D;)rn=E[Dt].call(this,rn);return rn}})}function C0(y,E,D,U,se,ye,Ae,Ne,Qe,kt){var xt=E&ne,Dt=E&F,rn=E&$,Wn=E&(B|I),or=E&Te,Lr=rn?t:Bd(y);function Hn(){for(var ti=arguments.length,ui=it(ti),oa=ti;oa--;)ui[oa]=arguments[oa];if(Wn)var Ia=Sm(Hn),ql=Ka(ui,Ia);if(U&&(ui=tS(ui,U,se,Wn)),ye&&(ui=cp(ui,ye,Ae,Wn)),ti-=ql,Wn&&ti<kt){var Go=Io(ui,Ia);return sS(y,E,C0,Hn.placeholder,D,ui,Go,Ne,Qe,kt-ti)}var cu=Dt?D:this,Zf=rn?cu[y]:y;return ti=ui.length,Ne?ui=hS(ui,Ne):or&&ti>1&&ui.reverse(),xt&&Qe<ti&&(ui.length=Qe),this&&this!==Ps&&this instanceof Hn&&(Zf=Lr||Bd(Zf)),Zf.apply(cu,ui)}return Hn}function O0(y,E){return function(D,U){return ur(D,y,E(U),{})}}function Nr(y,E){return function(D,U){var se;if(D===t&&U===t)return E;if(D!==t&&(se=D),U!==t){if(se===t)return U;typeof D=="string"||typeof U=="string"?(D=va(D),U=va(U)):(D=yT(D),U=yT(U)),se=y(D,U)}return se}}function sx(y){return Cc(function(E){return E=ko(E,Hi(sr())),Tr(function(D){var U=this;return y(E,function(se){return ta(se,U,D)})})})}function jd(y,E){E=E===t?" ":va(E);var D=E.length;if(D<2)return D?pi(E,y):E;var U=pi(E,Ff(y/If(E)));return zu(E)?Wf(Wo(U),0,y).join(""):U.slice(0,y)}function wT(y,E,D,U){var se=E&F,ye=Bd(y);function Ae(){for(var Ne=-1,Qe=arguments.length,kt=-1,xt=U.length,Dt=it(xt+Qe),rn=this&&this!==Ps&&this instanceof Ae?ye:y;++kt<xt;)Dt[kt]=U[kt];for(;Qe--;)Dt[kt++]=arguments[++Ne];return ta(rn,se?D:this,Dt)}return Ae}function oS(y){return function(E,D,U){return U&&typeof U!="number"&&Ma(E,D,U)&&(D=U=t),E=lu(E),D===t?(D=E,E=0):D=lu(D),U=U===t?E<D?1:-1:lu(U),kr(E,D,U,y)}}function Gg(y){return function(E,D){return typeof E=="string"&&typeof D=="string"||(E=Tc(E),D=Tc(D)),y(E,D)}}function sS(y,E,D,U,se,ye,Ae,Ne,Qe,kt){var xt=E&B,Dt=xt?Ae:t,rn=xt?t:Ae,Wn=xt?ye:t,or=xt?t:ye;E|=xt?Y:oe,E&=~(xt?oe:Y),E&j||(E&=~(F|$));var Lr=[y,E,se,Wn,Dt,or,rn,Ne,Qe,kt],Hn=D.apply(t,Lr);return km(y)&&Om(Hn,Lr),Hn.placeholder=U,PT(Hn,y,E)}function dp(y){var E=Co[y];return function(D,U){if(D=Tc(D),U=U==null?0:ga(Br(U),292),U&&rp(D)){var se=(Li(D)+"e").split("e"),ye=E(se[0]+"e"+(+se[1]+U));return se=(Li(ye)+"e").split("e"),+(se[0]+"e"+(+se[1]-U))}return E(D)}}var _T=qo&&1/Hu(new qo([,-0]))[1]==dt?function(y){return new qo(y)}:xk;function ET(y){return function(E){var D=Pa(E);return D==En?Nf(E):D==Nt?Wi(E):fl(E,y(E))}}function Gu(y,E,D,U,se,ye,Ae,Ne){var Qe=E&$;if(!Qe&&typeof y!="function")throw new Bl(a);var kt=U?U.length:0;if(kt||(E&=~(Y|oe),U=se=t),Ae=Ae===t?Ae:Ms(Br(Ae),0),Ne=Ne===t?Ne:Br(Ne),kt-=se?se.length:0,E&oe){var xt=U,Dt=se;U=se=t}var rn=Qe?t:Yg(y),Wn=[y,E,D,U,se,xt,Dt,ye,Ae,Ne];if(rn&&RT(Wn,rn),y=Wn[0],E=Wn[1],D=Wn[2],U=Wn[3],se=Wn[4],Ne=Wn[9]=Wn[9]===t?Qe?0:y.length:Ms(Wn[9]-kt,0),!Ne&&E&(B|I)&&(E&=~(B|I)),!E||E==F)var or=xT(y,E,D);else E==B||E==I?or=j5(y,E,Ne):(E==Y||E==(F|Y))&&!se.length?or=wT(y,E,D,U):or=C0.apply(t,Wn);var Lr=rn?Jb:Om;return PT(Lr(or,Wn),y,E)}function qf(y,E,D,U){return y===t||au(y,jl[D])&&!si.call(U,D)?E:y}function aS(y,E,D,U,se,ye){return Lo(y)&&Lo(E)&&(ye.set(E,y),Zi(y,E,t,aS,ye),ye.delete(E)),y}function ST(y){return Pm(y)?t:y}function T0(y,E,D,U,se,ye){var Ae=D&R,Ne=y.length,Qe=E.length;if(Ne!=Qe&&!(Ae&&Qe>Ne))return!1;var kt=ye.get(y),xt=ye.get(E);if(kt&&xt)return kt==E&&xt==y;var Dt=-1,rn=!0,Wn=D&T?new Ec:t;for(ye.set(y,E),ye.set(E,y);++Dt<Ne;){var or=y[Dt],Lr=E[Dt];if(U)var Hn=Ae?U(Lr,or,Dt,E,y,ye):U(or,Lr,Dt,y,E,ye);if(Hn!==t){if(Hn)continue;rn=!1;break}if(Wn){if(!Ws(E,function(ti,ui){if(!Vu(Wn,ui)&&(or===ti||se(or,ti,D,U,ye)))return Wn.push(ui)})){rn=!1;break}}else if(!(or===Lr||se(or,Lr,D,U,ye))){rn=!1;break}}return ye.delete(y),ye.delete(E),rn}function ax(y,E,D,U,se,ye,Ae){switch(D){case Ti:if(y.byteLength!=E.byteLength||y.byteOffset!=E.byteOffset)return!1;y=y.buffer,E=E.buffer;case Rr:return!(y.byteLength!=E.byteLength||!ye(new Jh(y),new Jh(E)));case pn:case lr:case bn:return au(+y,+E);case Ht:return y.name==E.name&&y.message==E.message;case Je:case Bt:return y==E+"";case En:var Ne=Nf;case Nt:var Qe=U&R;if(Ne||(Ne=Hu),y.size!=E.size&&!Qe)return!1;var kt=Ae.get(y);if(kt)return kt==E;U|=T,Ae.set(y,E);var xt=T0(Ne(y),Ne(E),U,se,ye,Ae);return Ae.delete(y),xt;case At:if(ip)return ip.call(y)==ip.call(E)}return!1}function lx(y,E,D,U,se,ye){var Ae=D&R,Ne=cx(y),Qe=Ne.length,kt=cx(E),xt=kt.length;if(Qe!=xt&&!Ae)return!1;for(var Dt=Qe;Dt--;){var rn=Ne[Dt];if(!(Ae?rn in E:si.call(E,rn)))return!1}var Wn=ye.get(y),or=ye.get(E);if(Wn&&or)return Wn==E&&or==y;var Lr=!0;ye.set(y,E),ye.set(E,y);for(var Hn=Ae;++Dt<Qe;){rn=Ne[Dt];var ti=y[rn],ui=E[rn];if(U)var oa=Ae?U(ui,ti,rn,E,y,ye):U(ti,ui,rn,y,E,ye);if(!(oa===t?ti===ui||se(ti,ui,D,U,ye):oa)){Lr=!1;break}Hn||(Hn=rn=="constructor")}if(Lr&&!Hn){var Ia=y.constructor,ql=E.constructor;Ia!=ql&&"constructor"in y&&"constructor"in E&&!(typeof Ia=="function"&&Ia instanceof Ia&&typeof ql=="function"&&ql instanceof ql)&&(Lr=!1)}return ye.delete(y),ye.delete(E),Lr}function Cc(y){return xx(bx(y,t,FT),y+"")}function cx(y){return gr(y,Us,hx)}function ux(y){return gr(y,Na,px)}var Yg=Sr?function(y){return Sr.get(y)}:xk;function A0(y){for(var E=y.name+"",D=Ft[E],U=si.call(Ft,E)?D.length:0;U--;){var se=D[U],ye=se.func;if(ye==null||ye==y)return se.name}return E}function Sm(y){var E=si.call(pe,"placeholder")?pe:y;return E.placeholder}function sr(){var y=pe.iteratee||Gx;return y=y===Gx?_m:y,arguments.length?y(arguments[0],arguments[1]):y}function dx(y,E){var D=y.__data__;return Is(E)?D[typeof E=="string"?"string":"hash"]:D.map}function fx(y){for(var E=Us(y),D=E.length;D--;){var U=E[D],se=y[U];E[D]=[U,se,uS(se)]}return E}function Vd(y,E){var D=Df(y,E);return dr(D)?D:t}function kT(y){var E=si.call(y,xc),D=y[xc];try{y[xc]=t;var U=!0}catch{}var se=zl.call(y);return U&&(E?y[xc]=D:delete y[xc]),se}var hx=$f?function(y){return y==null?[]:(y=Hr(y),Il($f(y),function(E){return Id.call(y,E)}))}:Kx,px=$f?function(y){for(var E=[];y;)Gn(E,hx(y)),y=ms(y);return E}:Kx,Pa=$t;(ys&&Pa(new ys(new ArrayBuffer(1)))!=Ti||Bf&&Pa(new Bf)!=En||nu&&Pa(nu.resolve())!=Re||qo&&Pa(new qo)!=Nt||Ni&&Pa(new Ni)!=Nn)&&(Pa=function(y){var E=$t(y),D=E==rr?y.constructor:t,U=D?fp(D):"";if(U)switch(U){case Qr:return Ti;case Fg:return En;case Ub:return Re;case qu:return Nt;case Gb:return Nn}return E});function V5(y,E,D){for(var U=-1,se=D.length;++U<se;){var ye=D[U],Ae=ye.size;switch(ye.type){case"drop":y+=Ae;break;case"dropRight":E-=Ae;break;case"take":E=ga(E,y+Ae);break;case"takeRight":y=Ms(y,E-Ae);break}}return{start:y,end:E}}function lS(y){var E=y.match(Jo);return E?E[1].split(Po):[]}function mx(y,E,D){E=iu(E,y);for(var U=-1,se=E.length,ye=!1;++U<se;){var Ae=Yu(E[U]);if(!(ye=y!=null&&D(y,Ae)))break;y=y[Ae]}return ye||++U!=se?ye:(se=y==null?0:y.length,!!se&&Lx(se)&&Gi(Ae,se)&&(Ar(y)||Wd(y)))}function z5(y){var E=y.length,D=new y.constructor(E);return E&&typeof y[0]=="string"&&si.call(y,"index")&&(D.index=y.index,D.input=y.input),D}function cS(y){return typeof y.constructor=="function"&&!Kg(y)?Za(ms(y)):{}}function CT(y,E,D){var U=y.constructor;switch(E){case Rr:return ix(y);case pn:case lr:return new U(+y);case Ti:return $5(y,D);case fi:case pa:case Vs:case zr:case _r:case mr:case Er:case Di:case Ho:return eS(y,D);case En:return new U;case bn:case Bt:return new U(y);case Je:return JE(y);case Nt:return new U;case At:return $d(y)}}function OT(y,E){var D=E.length;if(!D)return y;var U=D-1;return E[U]=(D>1?"& ":"")+E[U],E=E.join(D>2?", ":" "),y.replace(li,`{
/* [wrapped with `+E+`] */
`)}function Qg(y){return Ar(y)||Wd(y)||!!(tu&&y&&y[tu])}function Gi(y,E){var D=typeof y;return E=E??De,!!E&&(D=="number"||D!="symbol"&&jt.test(y))&&y>-1&&y%1==0&&y<E}function Ma(y,E,D){if(!Lo(D))return!1;var U=typeof E;return(U=="number"?Da(D)&&Gi(E,D.length):U=="string"&&E in D)?au(D[E],y):!1}function gx(y,E){if(Ar(y))return!1;var D=typeof y;return D=="number"||D=="symbol"||D=="boolean"||y==null||Wl(y)?!0:an.test(y)||!Wt.test(y)||E!=null&&y in Hr(E)}function Is(y){var E=typeof y;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?y!=="__proto__":y===null}function km(y){var E=A0(y),D=pe[E];if(typeof D!="function"||!(E in jn.prototype))return!1;if(y===D)return!0;var U=Yg(D);return!!U&&y===U[0]}function TT(y){return!!Vl&&Vl in y}var yx=Dd?bl:Xx;function Kg(y){var E=y&&y.constructor,D=typeof E=="function"&&E.prototype||jl;return y===D}function uS(y){return y===y&&!Lo(y)}function dS(y,E){return function(D){return D==null?!1:D[y]===E&&(E!==t||y in Hr(D))}}function AT(y){var E=ry(y,function(U){return D.size===h&&D.clear(),U}),D=E.cache;return E}function RT(y,E){var D=y[1],U=E[1],se=D|U,ye=se<(F|$|ne),Ae=U==ne&&D==B||U==ne&&D==ae&&y[7].length<=E[8]||U==(ne|ae)&&E[7].length<=E[8]&&D==B;if(!(ye||Ae))return y;U&F&&(y[2]=E[2],se|=D&F?0:j);var Ne=E[3];if(Ne){var Qe=y[3];y[3]=Qe?tS(Qe,Ne,E[4]):Ne,y[4]=Qe?Io(y[3],m):E[4]}return Ne=E[5],Ne&&(Qe=y[5],y[5]=Qe?cp(Qe,Ne,E[6]):Ne,y[6]=Qe?Io(y[5],m):E[6]),Ne=E[7],Ne&&(y[7]=Ne),U&ne&&(y[8]=y[8]==null?E[8]:ga(y[8],E[8])),y[9]==null&&(y[9]=E[9]),y[0]=E[0],y[1]=se,y}function vx(y){var E=[];if(y!=null)for(var D in Hr(y))E.push(D);return E}function fS(y){return zl.call(y)}function bx(y,E,D){return E=Ms(E===t?y.length-1:E,0),function(){for(var U=arguments,se=-1,ye=Ms(U.length-E,0),Ae=it(ye);++se<ye;)Ae[se]=U[E+se];se=-1;for(var Ne=it(E+1);++se<E;)Ne[se]=U[se];return Ne[E]=D(Ae),ta(y,this,Ne)}}function R0(y,E){return E.length<2?y:nn(y,Ui(E,0,-1))}function hS(y,E){for(var D=y.length,U=ga(E.length,D),se=yl(y);U--;){var ye=E[U];y[U]=Gi(ye,D)?se[ye]:t}return y}function Cm(y,E){if(!(E==="constructor"&&typeof y[E]=="function")&&E!="__proto__")return y[E]}var Om=M0(Jb),P0=_0||function(y,E){return Ps.setTimeout(y,E)},xx=M0(ex);function PT(y,E,D){var U=E+"";return xx(y,OT(U,_x(lS(U),D)))}function M0(y){var E=0,D=0;return function(){var U=Wb(),se=Ce-(U-D);if(D=U,se>0){if(++E>=we)return arguments[0]}else E=0;return y.apply(t,arguments)}}function Xg(y,E){var D=-1,U=y.length,se=U-1;for(E=E===t?U:E;++D<E;){var ye=Xn(D,se),Ae=y[ye];y[ye]=y[D],y[D]=Ae}return y.length=E,y}var wx=AT(function(y){var E=[];return y.charCodeAt(0)===46&&E.push(""),y.replace(br,function(D,U,se,ye){E.push(se?ye.replace(Qc,"$1"):U||D)}),E});function Yu(y){if(typeof y=="string"||Wl(y))return y;var E=y+"";return E=="0"&&1/y==-dt?"-0":E}function fp(y){if(y!=null){try{return Xh.call(y)}catch{}try{return y+""}catch{}}return""}function _x(y,E){return Pn(vt,function(D){var U="_."+D[0];E&D[1]&&!Rd(y,U)&&y.push(U)}),y.sort()}function MT(y){if(y instanceof jn)return y.clone();var E=new ml(y.__wrapped__,y.__chain__);return E.__actions__=yl(y.__actions__),E.__index__=y.__index__,E.__values__=y.__values__,E}function H5(y,E,D){(D?Ma(y,E,D):E===t)?E=1:E=Ms(Br(E),0);var U=y==null?0:y.length;if(!U||E<1)return[];for(var se=0,ye=0,Ae=it(Ff(U/E));se<U;)Ae[ye++]=Ui(y,se,se+=E);return Ae}function W5(y){for(var E=-1,D=y==null?0:y.length,U=0,se=[];++E<D;){var ye=y[E];ye&&(se[U++]=ye)}return se}function DT(){var y=arguments.length;if(!y)return[];for(var E=it(y-1),D=arguments[0],U=y;U--;)E[U-1]=arguments[U];return Gn(Ar(D)?yl(D):[D],mt(E,1))}var NT=Tr(function(y,E){return Ls(y)?qe(y,mt(E,1,Ls,!0)):[]}),ns=Tr(function(y,E){var D=vl(E);return Ls(D)&&(D=t),Ls(y)?qe(y,mt(E,1,Ls,!0),sr(D,2)):[]}),pS=Tr(function(y,E){var D=vl(E);return Ls(D)&&(D=t),Ls(y)?qe(y,mt(E,1,Ls,!0),t,D):[]});function IT(y,E,D){var U=y==null?0:y.length;return U?(E=D||E===t?1:Br(E),Ui(y,E<0?0:E,U)):[]}function Zg(y,E,D){var U=y==null?0:y.length;return U?(E=D||E===t?1:Br(E),E=U-E,Ui(y,0,E<0?0:E)):[]}function q5(y,E){return y&&y.length?E0(y,sr(E,3),!0,!0):[]}function D0(y,E){return y&&y.length?E0(y,sr(E,3),!0):[]}function ou(y,E,D,U){var se=y==null?0:y.length;return se?(D&&typeof D!="number"&&Ma(y,E,D)&&(D=0,U=se),en(y,E,D,U)):[]}function N0(y,E,D){var U=y==null?0:y.length;if(!U)return-1;var se=D==null?0:Br(D);return se<0&&(se=Ms(U+se,0)),Yh(y,sr(E,3),se)}function LT(y,E,D){var U=y==null?0:y.length;if(!U)return-1;var se=U-1;return D!==t&&(se=Br(D),se=D<0?Ms(U+se,0):ga(se,U-1)),Yh(y,sr(E,3),se,!0)}function FT(y){var E=y==null?0:y.length;return E?mt(y,1):[]}function $T(y){var E=y==null?0:y.length;return E?mt(y,dt):[]}function U5(y,E){var D=y==null?0:y.length;return D?(E=E===t?1:Br(E),mt(y,E)):[]}function mS(y){for(var E=-1,D=y==null?0:y.length,U={};++E<D;){var se=y[E];U[se[0]]=se[1]}return U}function Ex(y){return y&&y.length?y[0]:t}function G5(y,E,D){var U=y==null?0:y.length;if(!U)return-1;var se=D==null?0:Br(D);return se<0&&(se=Ms(U+se,0)),Pf(y,E,se)}function gS(y){var E=y==null?0:y.length;return E?Ui(y,0,-1):[]}var Y5=Tr(function(y){var E=ko(y,XE);return E.length&&E[0]===y[0]?ln(E):[]}),BT=Tr(function(y){var E=vl(y),D=ko(y,XE);return E===vl(D)?E=t:D.pop(),D.length&&D[0]===y[0]?ln(D,sr(E,2)):[]}),jT=Tr(function(y){var E=vl(y),D=ko(y,XE);return E=typeof E=="function"?E:t,E&&D.pop(),D.length&&D[0]===y[0]?ln(D,t,E):[]});function Q5(y,E){return y==null?"":mo.call(y,E)}function vl(y){var E=y==null?0:y.length;return E?y[E-1]:t}function VT(y,E,D){var U=y==null?0:y.length;if(!U)return-1;var se=U;return D!==t&&(se=Br(D),se=se<0?Ms(U+se,0):ga(se,U-1)),E===E?Md(y,E,se):Yh(y,Mf,se,!0)}function K5(y,E){return y&&y.length?Aa(y,Br(E)):t}var zT=Tr(Sx);function Sx(y,E){return y&&y.length&&E&&E.length?at(y,E):y}function Uf(y,E,D){return y&&y.length&&E&&E.length?at(y,E,sr(D,2)):y}function kx(y,E,D){return y&&y.length&&E&&E.length?at(y,E,t,D):y}var I0=Cc(function(y,E){var D=y==null?0:y.length,U=N(y,E);return Qt(y,ko(E,function(se){return Gi(se,D)?+se:se}).sort(qg)),U});function Cx(y,E){var D=[];if(!(y&&y.length))return D;var U=-1,se=[],ye=y.length;for(E=sr(E,3);++U<ye;){var Ae=y[U];E(Ae,U,y)&&(D.push(Ae),se.push(U))}return Qt(y,se),D}function yS(y){return y==null?y:zE.call(y)}function HT(y,E,D){var U=y==null?0:y.length;return U?(D&&typeof D!="number"&&Ma(y,E,D)?(E=0,D=U):(E=E==null?0:Br(E),D=D===t?U:Br(D)),Ui(y,E,D)):[]}function X5(y,E){return Em(y,E)}function Jg(y,E,D){return tx(y,E,sr(D,2))}function WT(y,E){var D=y==null?0:y.length;if(D){var U=Em(y,E);if(U<D&&au(y[U],E))return U}return-1}function Tm(y,E){return Em(y,E,!0)}function qT(y,E,D){return tx(y,E,sr(D,2),!0)}function Gf(y,E){var D=y==null?0:y.length;if(D){var U=Em(y,E,!0)-1;if(au(y[U],E))return U}return-1}function ey(y){return y&&y.length?ia(y):[]}function Z5(y,E){return y&&y.length?ia(y,sr(E,2)):[]}function J5(y){var E=y==null?0:y.length;return E?Ui(y,1,E):[]}function vS(y,E,D){return y&&y.length?(E=D||E===t?1:Br(E),Ui(y,0,E<0?0:E)):[]}function zd(y,E,D){var U=y==null?0:y.length;return U?(E=D||E===t?1:Br(E),E=U-E,Ui(y,E<0?0:E,U)):[]}function Ox(y,E){return y&&y.length?E0(y,sr(E,3),!1,!0):[]}function eI(y,E){return y&&y.length?E0(y,sr(E,3)):[]}var UT=Tr(function(y){return Fd(mt(y,1,Ls,!0))}),bS=Tr(function(y){var E=vl(y);return Ls(E)&&(E=t),Fd(mt(y,1,Ls,!0),sr(E,2))}),GT=Tr(function(y){var E=vl(y);return E=typeof E=="function"?E:t,Fd(mt(y,1,Ls,!0),t,E)});function YT(y){return y&&y.length?Fd(y):[]}function xS(y,E){return y&&y.length?Fd(y,sr(E,2)):[]}function QT(y,E){return E=typeof E=="function"?E:t,y&&y.length?Fd(y,t,E):[]}function ty(y){if(!(y&&y.length))return[];var E=0;return y=Il(y,function(D){if(Ls(D))return E=Ms(D.length,E),!0}),yc(E,function(D){return ko(y,um(D))})}function wS(y,E){if(!(y&&y.length))return[];var D=ty(y);return E==null?D:ko(D,function(U){return ta(E,t,U)})}var KT=Tr(function(y,E){return Ls(y)?qe(y,E):[]}),_S=Tr(function(y){return Wg(Il(y,Ls))}),ES=Tr(function(y){var E=vl(y);return Ls(E)&&(E=t),Wg(Il(y,Ls),sr(E,2))}),tI=Tr(function(y){var E=vl(y);return E=typeof E=="function"?E:t,Wg(Il(y,Ls),t,E)}),XT=Tr(ty);function ZT(y,E){return KE(y||[],E||[],Ja)}function nI(y,E){return KE(y||[],E||[],lp)}var JT=Tr(function(y){var E=y.length,D=E>1?y[E-1]:t;return D=typeof D=="function"?(y.pop(),D):t,wS(y,D)});function SS(y){var E=pe(y);return E.__chain__=!0,E}function Am(y,E){return E(y),y}function Hd(y,E){return E(y)}var L0=Cc(function(y){var E=y.length,D=E?y[0]:0,U=this.__wrapped__,se=function(ye){return N(ye,y)};return E>1||this.__actions__.length||!(U instanceof jn)||!Gi(D)?this.thru(se):(U=U.slice(D,+D+(E?1:0)),U.__actions__.push({func:Hd,args:[se],thisArg:t}),new ml(U,this.__chain__).thru(function(ye){return E&&!ye.length&&ye.push(t),ye}))});function kS(){return SS(this)}function Tx(){return new ml(this.value(),this.__chain__)}function eA(){this.__values__===t&&(this.__values__=YS(this.value()));var y=this.__index__>=this.__values__.length,E=y?t:this.__values__[this.__index__++];return{done:y,value:E}}function F0(){return this}function Ax(y){for(var E,D=this;D instanceof vm;){var U=MT(D);U.__index__=0,U.__values__=t,E?se.__wrapped__=U:E=U;var se=U;D=D.__wrapped__}return se.__wrapped__=y,E}function tA(){var y=this.__wrapped__;if(y instanceof jn){var E=y;return this.__actions__.length&&(E=new jn(this)),E=E.reverse(),E.__actions__.push({func:Hd,args:[yS],thisArg:t}),new ml(E,this.__chain__)}return this.thru(yS)}function nA(){return vT(this.__wrapped__,this.__actions__)}var rA=S0(function(y,E,D){si.call(y,D)?++y[D]:P(y,D,1)});function iA(y,E,D){var U=Ar(y)?Jc:Ut;return D&&Ma(y,E,D)&&(E=t),U(y,sr(E,3))}function oA(y,E){var D=Ar(y)?Il:kn;return D(y,sr(E,3))}var sA=k0(N0),aA=k0(LT);function CS(y,E){return mt(Yf(y,E),1)}function lA(y,E){return mt(Yf(y,E),dt)}function cA(y,E,D){return D=D===t?1:Br(D),mt(Yf(y,E),D)}function OS(y,E){var D=Ar(y)?Pn:st;return D(y,sr(E,3))}function uA(y,E){var D=Ar(y)?na:It;return D(y,sr(E,3))}var dA=S0(function(y,E,D){si.call(y,D)?y[D].push(E):P(y,D,[E])});function fA(y,E,D,U){y=Da(y)?y:pp(y),D=D&&!U?Br(D):0;var se=y.length;return D<0&&(D=Ms(se+D,0)),ay(y)?D<=se&&y.indexOf(E,D)>-1:!!se&&Pf(y,E,D)>-1}var hA=Tr(function(y,E,D){var U=-1,se=typeof E=="function",ye=Da(y)?it(y.length):[];return st(y,function(Ae){ye[++U]=se?ta(E,Ae,D):tr(Ae,E,D)}),ye}),su=S0(function(y,E,D){P(y,D,E)});function Yf(y,E){var D=Ar(y)?ko:ya;return D(y,sr(E,3))}function _s(y,E,D,U){return y==null?[]:(Ar(E)||(E=E==null?[]:[E]),D=U?t:D,Ar(D)||(D=D==null?[]:[D]),_e(y,E,D))}var pA=S0(function(y,E,D){y[D?0:1].push(E)},function(){return[[],[]]});function rI(y,E,D){var U=Ar(y)?Gh:g0,se=arguments.length<3;return U(y,sr(E,4),D,se,st)}function mA(y,E,D){var U=Ar(y)?Pd:g0,se=arguments.length<3;return U(y,sr(E,4),D,se,It)}function gA(y,E){var D=Ar(y)?Il:kn;return D(y,B0(sr(E,3)))}function iI(y){var E=Ar(y)?zg:Ra;return E(y)}function yA(y,E,D){(D?Ma(y,E,D):E===t)?E=1:E=Br(E);var U=Ar(y)?Zb:Hg;return U(y,E)}function TS(y){var E=Ar(y)?UE:Sc;return E(y)}function vA(y){if(y==null)return 0;if(Da(y))return ay(y)?If(y):y.length;var E=Pa(y);return E==En||E==Nt?y.size:Uo(y).length}function bA(y,E,D){var U=Ar(y)?Ws:GE;return D&&Ma(y,E,D)&&(E=t),U(y,sr(E,3))}var xA=Tr(function(y,E){if(y==null)return[];var D=E.length;return D>1&&Ma(y,E[0],E[1])?E=[]:D>2&&Ma(E[0],E[1],E[2])&&(E=[E[0]]),_e(y,mt(E,1),[])}),ny=np||function(){return Ps.Date.now()};function Qf(y,E){if(typeof E!="function")throw new Bl(a);return y=Br(y),function(){if(--y<1)return E.apply(this,arguments)}}function wA(y,E,D){return E=D?t:E,E=y&&E==null?y.length:E,Gu(y,ne,t,t,t,t,E)}function _A(y,E){var D;if(typeof E!="function")throw new Bl(a);return y=Br(y),function(){return--y>0&&(D=E.apply(this,arguments)),y<=1&&(E=t),D}}var AS=Tr(function(y,E,D){var U=F;if(D.length){var se=Io(D,Sm(AS));U|=Y}return Gu(y,U,E,D,se)}),Kf=Tr(function(y,E,D){var U=F|$;if(D.length){var se=Io(D,Sm(Kf));U|=Y}return Gu(E,U,y,D,se)});function Rm(y,E,D){E=D?t:E;var U=Gu(y,B,t,t,t,t,t,E);return U.placeholder=Rm.placeholder,U}function $0(y,E,D){E=D?t:E;var U=Gu(y,I,t,t,t,t,t,E);return U.placeholder=$0.placeholder,U}function RS(y,E,D){var U,se,ye,Ae,Ne,Qe,kt=0,xt=!1,Dt=!1,rn=!0;if(typeof y!="function")throw new Bl(a);E=Tc(E)||0,Lo(D)&&(xt=!!D.leading,Dt="maxWait"in D,ye=Dt?Ms(Tc(D.maxWait)||0,E):ye,rn="trailing"in D?!!D.trailing:rn);function Wn(Go){var cu=U,Zf=se;return U=se=t,kt=Go,Ae=y.apply(Zf,cu),Ae}function or(Go){return kt=Go,Ne=P0(ti,E),xt?Wn(Go):Ae}function Lr(Go){var cu=Go-Qe,Zf=Go-kt,J0=E-cu;return Dt?ga(J0,ye-Zf):J0}function Hn(Go){var cu=Go-Qe,Zf=Go-kt;return Qe===t||cu>=E||cu<0||Dt&&Zf>=ye}function ti(){var Go=ny();if(Hn(Go))return ui(Go);Ne=P0(ti,Lr(Go))}function ui(Go){return Ne=t,rn&&U?Wn(Go):(U=se=t,Ae)}function oa(){Ne!==t&&ZE(Ne),kt=0,U=Qe=se=Ne=t}function Ia(){return Ne===t?Ae:ui(ny())}function ql(){var Go=ny(),cu=Hn(Go);if(U=arguments,se=this,Qe=Go,cu){if(Ne===t)return or(Qe);if(Dt)return ZE(Ne),Ne=P0(ti,E),Wn(Qe)}return Ne===t&&(Ne=P0(ti,E)),Ae}return ql.cancel=oa,ql.flush=Ia,ql}var oI=Tr(function(y,E){return xe(y,1,E)}),PS=Tr(function(y,E,D){return xe(y,Tc(E)||0,D)});function Rx(y){return Gu(y,Te)}function ry(y,E){if(typeof y!="function"||E!=null&&typeof E!="function")throw new Bl(a);var D=function(){var U=arguments,se=E?E.apply(this,U):U[0],ye=D.cache;if(ye.has(se))return ye.get(se);var Ae=y.apply(this,U);return D.cache=ye.set(se,Ae)||ye,Ae};return D.cache=new(ry.Cache||Ii),D}ry.Cache=Ii;function B0(y){if(typeof y!="function")throw new Bl(a);return function(){var E=arguments;switch(E.length){case 0:return!y.call(this);case 1:return!y.call(this,E[0]);case 2:return!y.call(this,E[0],E[1]);case 3:return!y.call(this,E[0],E[1],E[2])}return!y.apply(this,E)}}function MS(y){return _A(2,y)}var DS=Uu(function(y,E){E=E.length==1&&Ar(E[0])?ko(E[0],Hi(sr())):ko(mt(E,1),Hi(sr()));var D=E.length;return Tr(function(U){for(var se=-1,ye=ga(U.length,D);++se<ye;)U[se]=E[se].call(this,U[se]);return ta(y,this,U)})}),iy=Tr(function(y,E){var D=Io(E,Sm(iy));return Gu(y,Y,t,E,D)}),NS=Tr(function(y,E){var D=Io(E,Sm(NS));return Gu(y,oe,t,E,D)}),IS=Cc(function(y,E){return Gu(y,ae,t,t,t,E)});function LS(y,E){if(typeof y!="function")throw new Bl(a);return E=E===t?E:Br(E),Tr(y,E)}function j0(y,E){if(typeof y!="function")throw new Bl(a);return E=E==null?0:Ms(Br(E),0),Tr(function(D){var U=D[E],se=Wf(D,0,E);return U&&Gn(se,U),ta(y,this,se)})}function oy(y,E,D){var U=!0,se=!0;if(typeof y!="function")throw new Bl(a);return Lo(D)&&(U="leading"in D?!!D.leading:U,se="trailing"in D?!!D.trailing:se),RS(y,E,{leading:U,maxWait:E,trailing:se})}function Px(y){return wA(y,1)}function FS(y,E){return iy(nx(E),y)}function $S(){if(!arguments.length)return[];var y=arguments[0];return Ar(y)?y:[y]}function BS(y){return G(y,k)}function jS(y,E){return E=typeof E=="function"?E:t,G(y,k,E)}function EA(y){return G(y,v|k)}function Mx(y,E){return E=typeof E=="function"?E:t,G(y,v|k,E)}function VS(y,E){return E==null||de(y,E,Us(E))}function au(y,E){return y===E||y!==y&&E!==E}var zS=Gg(Un),SA=Gg(function(y,E){return y>=E}),Wd=ai(function(){return arguments}())?ai:function(y){return Fo(y)&&si.call(y,"callee")&&!Id.call(y,"callee")},Ar=it.isArray,Dx=cm?Hi(cm):yr;function Da(y){return y!=null&&Lx(y.length)&&!bl(y)}function Ls(y){return Fo(y)&&Da(y)}function kA(y){return y===!0||y===!1||Fo(y)&&$t(y)==pn}var Qu=Hl||Xx,V0=Si?Hi(Si):Ta;function sI(y){return Fo(y)&&y.nodeType===1&&!Pm(y)}function CA(y){if(y==null)return!0;if(Da(y)&&(Ar(y)||typeof y=="string"||typeof y.splice=="function"||Qu(y)||Mm(y)||Wd(y)))return!y.length;var E=Pa(y);if(E==En||E==Nt)return!y.size;if(Kg(y))return!Uo(y).length;for(var D in y)if(si.call(y,D))return!1;return!0}function Nx(y,E){return el(y,E)}function aI(y,E,D){D=typeof D=="function"?D:t;var U=D?D(y,E):t;return U===t?el(y,E,t,D):!!U}function hp(y){if(!Fo(y))return!1;var E=$t(y);return E==Ht||E==ot||typeof y.message=="string"&&typeof y.name=="string"&&!Pm(y)}function Ix(y){return typeof y=="number"&&rp(y)}function bl(y){if(!Lo(y))return!1;var E=$t(y);return E==Vt||E==mn||E==Zt||E==We}function Oc(y){return typeof y=="number"&&y==Br(y)}function Lx(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=De}function Lo(y){var E=typeof y;return y!=null&&(E=="object"||E=="function")}function Fo(y){return y!=null&&typeof y=="object"}var HS=jr?Hi(jr):yo;function WS(y,E){return y===E||ci(y,E,fx(E))}function OA(y,E,D){return D=typeof D=="function"?D:t,ci(y,E,fx(E),D)}function TA(y){return US(y)&&y!=+y}function qS(y){if(yx(y))throw new Qn(o);return dr(y)}function sy(y){return y===null}function Fx(y){return y==null}function US(y){return typeof y=="number"||Fo(y)&&$t(y)==bn}function Pm(y){if(!Fo(y)||$t(y)!=rr)return!1;var E=ms(y);if(E===null)return!0;var D=si.call(E,"constructor")&&E.constructor;return typeof D=="function"&&D instanceof D&&Xh.call(D)==x0}var z0=h0?Hi(h0):Pt;function AA(y){return Oc(y)&&y>=-De&&y<=De}var GS=mc?Hi(mc):qs;function ay(y){return typeof y=="string"||!Ar(y)&&Fo(y)&&$t(y)==Bt}function Wl(y){return typeof y=="symbol"||Fo(y)&&$t(y)==At}var Mm=Ln?Hi(Ln):Ld;function lI(y){return y===t}function RA(y){return Fo(y)&&Pa(y)==Nn}function PA(y){return Fo(y)&&$t(y)==Xt}var H0=Gg(qi),cI=Gg(function(y,E){return y<=E});function YS(y){if(!y)return[];if(Da(y))return ay(y)?Wo(y):yl(y);if(ep&&y[ep])return Kh(y[ep]());var E=Pa(y),D=E==En?Nf:E==Nt?Hu:pp;return D(y)}function lu(y){if(!y)return y===0?y:0;if(y=Tc(y),y===dt||y===-dt){var E=y<0?-1:1;return E*Ze}return y===y?y:0}function Br(y){var E=lu(y),D=E%1;return E===E?D?E-D:E:0}function QS(y){return y?W(Br(y),0,Ye):0}function Tc(y){if(typeof y=="number")return y;if(Wl(y))return bt;if(Lo(y)){var E=typeof y.valueOf=="function"?y.valueOf():y;y=Lo(E)?E+"":E}if(typeof y!="string")return y===0?y:+y;y=ma(y);var D=Kc.test(y);return D||Be.test(y)?Rs(y.slice(2),D?2:8):ea.test(y)?bt:+y}function KS(y){return kc(y,Na(y))}function W0(y){return y?W(Br(y),-De,De):y===0?y:0}function Li(y){return y==null?"":va(y)}var MA=up(function(y,E){if(Kg(E)||Da(E)){kc(E,Us(E),y);return}for(var D in E)si.call(E,D)&&Ja(y,D,E[D])}),XS=up(function(y,E){kc(E,Na(E),y)}),ly=up(function(y,E,D,U){kc(E,Na(E),y,U)}),uI=up(function(y,E,D,U){kc(E,Us(E),y,U)}),ZS=Cc(N);function $x(y,E){var D=Za(y);return E==null?D:x(D,E)}var Bx=Tr(function(y,E){y=Hr(y);var D=-1,U=E.length,se=U>2?E[2]:t;for(se&&Ma(E[0],E[1],se)&&(U=1);++D<U;)for(var ye=E[D],Ae=Na(ye),Ne=-1,Qe=Ae.length;++Ne<Qe;){var kt=Ae[Ne],xt=y[kt];(xt===t||au(xt,jl[kt])&&!si.call(y,kt))&&(y[kt]=ye[kt])}return y}),JS=Tr(function(y){return y.push(t,aS),ta(ok,t,y)});function ek(y,E){return m0(y,sr(E,3),ft)}function DA(y,E){return m0(y,sr(E,3),ht)}function jx(y,E){return y==null?y:et(y,sr(E,3),Na)}function NA(y,E){return y==null?y:tt(y,sr(E,3),Na)}function dI(y,E){return y&&ft(y,sr(E,3))}function tk(y,E){return y&&ht(y,sr(E,3))}function fI(y){return y==null?[]:Lt(y,Us(y))}function IA(y){return y==null?[]:Lt(y,Na(y))}function Vx(y,E,D){var U=y==null?t:nn(y,E);return U===t?D:U}function nk(y,E){return y!=null&&mx(y,E,bs)}function q0(y,E){return y!=null&&mx(y,E,xs)}var rk=O0(function(y,E,D){E!=null&&typeof E.toString!="function"&&(E=zl.call(E)),y[E]=D},Q0(xl)),cy=O0(function(y,E,D){E!=null&&typeof E.toString!="function"&&(E=zl.call(E)),si.call(y,E)?y[E].push(D):y[E]=[D]},sr),ik=Tr(tr);function Us(y){return Da(y)?Xb(y):Uo(y)}function Na(y){return Da(y)?Xb(y,!0):ra(y)}function hI(y,E){var D={};return E=sr(E,3),ft(y,function(U,se,ye){P(D,E(U,se,ye),U)}),D}function Dm(y,E){var D={};return E=sr(E,3),ft(y,function(U,se,ye){P(D,se,E(U,se,ye))}),D}var U0=up(function(y,E,D){Zi(y,E,D)}),ok=up(function(y,E,D,U){Zi(y,E,D,U)}),LA=Cc(function(y,E){var D={};if(y==null)return D;var U=!1;E=ko(E,function(ye){return ye=iu(ye,y),U||(U=ye.length>1),ye}),kc(y,ux(y),D),U&&(D=G(D,v|_|k,ST));for(var se=E.length;se--;)YE(D,E[se]);return D});function FA(y,E){return $A(y,B0(sr(E)))}var zx=Cc(function(y,E){return y==null?{}:J(y,E)});function $A(y,E){if(y==null)return{};var D=ko(ux(y),function(U){return[U]});return E=sr(E),le(y,D,function(U,se){return E(U,se[0])})}function pI(y,E,D){E=iu(E,y);var U=-1,se=E.length;for(se||(se=1,y=t);++U<se;){var ye=y==null?t:y[Yu(E[U])];ye===t&&(U=se,ye=D),y=bl(ye)?ye.call(y):ye}return y}function BA(y,E,D){return y==null?y:lp(y,E,D)}function Hx(y,E,D,U){return U=typeof U=="function"?U:t,y==null?y:lp(y,E,D,U)}var G0=ET(Us),jA=ET(Na);function mI(y,E,D){var U=Ar(y),se=U||Qu(y)||Mm(y);if(E=sr(E,4),D==null){var ye=y&&y.constructor;se?D=U?new ye:[]:Lo(y)?D=bl(ye)?Za(ms(y)):{}:D={}}return(se?Pn:ft)(y,function(Ae,Ne,Qe){return E(D,Ae,Ne,Qe)}),D}function gI(y,E){return y==null?!0:YE(y,E)}function yI(y,E,D){return y==null?y:QE(y,E,nx(D))}function VA(y,E,D,U){return U=typeof U=="function"?U:t,y==null?y:QE(y,E,nx(D),U)}function pp(y){return y==null?[]:vc(y,Us(y))}function vI(y){return y==null?[]:vc(y,Na(y))}function zA(y,E,D){return D===t&&(D=E,E=t),D!==t&&(D=Tc(D),D=D===D?D:0),E!==t&&(E=Tc(E),E=E===E?E:0),W(Tc(y),E,D)}function bI(y,E,D){return E=lu(E),D===t?(D=E,E=0):D=lu(D),y=Tc(y),Ot(y,E,D)}function HA(y,E,D){if(D&&typeof D!="boolean"&&Ma(y,E,D)&&(E=D=t),D===t&&(typeof E=="boolean"?(D=E,E=t):typeof y=="boolean"&&(D=y,y=t)),y===t&&E===t?(y=0,E=1):(y=lu(y),E===t?(E=y,y=0):E=lu(E)),y>E){var U=y;y=E,E=U}if(D||y%1||E%1){var se=qb();return ga(y+se*(E-y+Fb("1e-"+((se+"").length-1))),E)}return Xn(y,E)}var xI=Ug(function(y,E,D){return E=E.toLowerCase(),y+(D?WA(E):E)});function WA(y){return Ux(Li(y).toLowerCase())}function Xf(y){return y=Li(y),y&&y.replace(Sn,Qh).replace(Rf,"")}function sk(y,E,D){y=Li(y),E=va(E);var U=y.length;D=D===t?U:W(Br(D),0,U);var se=D;return D-=E.length,D>=0&&y.slice(D,se)==E}function ak(y){return y=Li(y),y&&fe.test(y)?y.replace(Ct,fm):y}function lk(y){return y=Li(y),y&&Rt.test(y)?y.replace(tn,"\\$&"):y}var ck=Ug(function(y,E,D){return y+(D?"-":"")+E.toLowerCase()}),uk=Ug(function(y,E,D){return y+(D?" ":"")+E.toLowerCase()}),dk=iS("toLowerCase");function wI(y,E,D){y=Li(y),E=Br(E);var U=E?If(y):0;if(!E||U>=E)return y;var se=(E-U)/2;return jd(gs(se),D)+y+jd(Ff(se),D)}function _I(y,E,D){y=Li(y),E=Br(E);var U=E?If(y):0;return E&&U<E?y+jd(E-U,D):y}function qA(y,E,D){y=Li(y),E=Br(E);var U=E?If(y):0;return E&&U<E?jd(E-U,D)+y:y}function ba(y,E,D){return D||E==null?E=0:E&&(E=+E),ym(Li(y).replace(Jt,""),E||0)}function fk(y,E,D){return(D?Ma(y,E,D):E===t)?E=1:E=Br(E),pi(Li(y),E)}function UA(){var y=arguments,E=Li(y[0]);return y.length<3?E:E.replace(y[1],y[2])}var hk=Ug(function(y,E,D){return y+(D?"_":"")+E.toLowerCase()});function pk(y,E,D){return D&&typeof D!="number"&&Ma(y,E,D)&&(E=D=t),D=D===t?Ye:D>>>0,D?(y=Li(y),y&&(typeof E=="string"||E!=null&&!z0(E))&&(E=va(E),!E&&zu(y))?Wf(Wo(y),0,D):y.split(E,D)):[]}var GA=Ug(function(y,E,D){return y+(D?" ":"")+Ux(E)});function Wx(y,E,D){return y=Li(y),D=D==null?0:W(Br(D),0,y.length),E=va(E),y.slice(D,D+E.length)==E}function YA(y,E,D){var U=pe.templateSettings;D&&Ma(y,E,D)&&(E=t),y=Li(y),E=ly({},E,U,qf);var se=ly({},E.imports,U.imports,qf),ye=Us(se),Ae=vc(se,ye),Ne,Qe,kt=0,xt=E.interpolate||ir,Dt="__p += '",rn=pm((E.escape||ir).source+"|"+xt.source+"|"+(xt===pt?Dl:ir).source+"|"+(E.evaluate||ir).source+"|$","g"),Wn="//# sourceURL="+(si.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pg+"]")+`
`;y.replace(rn,function(Hn,ti,ui,oa,Ia,ql){return ui||(ui=oa),Dt+=y.slice(kt,ql).replace(Ki,Bb),ti&&(Ne=!0,Dt+=`' +
__e(`+ti+`) +
'`),Ia&&(Qe=!0,Dt+=`';
`+Ia+`;
__p += '`),ui&&(Dt+=`' +
((__t = (`+ui+`)) == null ? '' : __t) +
'`),kt=ql+Hn.length,Hn}),Dt+=`';
`;var or=si.call(E,"variable")&&E.variable;if(!or)Dt=`with (obj) {
`+Dt+`
}
`;else if(hs.test(or))throw new Qn(c);Dt=(Qe?Dt.replace(ct,""):Dt).replace(Et,"$1").replace(Pr,"$1;"),Dt="function("+(or||"obj")+`) {
`+(or?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ne?", __e = _.escape":"")+(Qe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Dt+`return __p
}`;var Lr=yk(function(){return hi(ye,Wn+"return "+Dt).apply(t,Ae)});if(Lr.source=Dt,hp(Lr))throw Lr;return Lr}function QA(y){return Li(y).toLowerCase()}function qd(y){return Li(y).toUpperCase()}function KA(y,E,D){if(y=Li(y),y&&(D||E===t))return ma(y);if(!y||!(E=va(E)))return y;var U=Wo(y),se=Wo(E),ye=ps(U,se),Ae=Ng(U,se)+1;return Wf(U,ye,Ae).join("")}function mk(y,E,D){if(y=Li(y),y&&(D||E===t))return y.slice(0,hm(y)+1);if(!y||!(E=va(E)))return y;var U=Wo(y),se=Ng(U,Wo(E))+1;return Wf(U,0,se).join("")}function qx(y,E,D){if(y=Li(y),y&&(D||E===t))return y.replace(Jt,"");if(!y||!(E=va(E)))return y;var U=Wo(y),se=ps(U,Wo(E));return Wf(U,se).join("")}function uy(y,E){var D=Me,U=Ee;if(Lo(E)){var se="separator"in E?E.separator:se;D="length"in E?Br(E.length):D,U="omission"in E?va(E.omission):U}y=Li(y);var ye=y.length;if(zu(y)){var Ae=Wo(y);ye=Ae.length}if(D>=ye)return y;var Ne=D-If(U);if(Ne<1)return U;var Qe=Ae?Wf(Ae,0,Ne).join(""):y.slice(0,Ne);if(se===t)return Qe+U;if(Ae&&(Ne+=Qe.length-Ne),z0(se)){if(y.slice(Ne).search(se)){var kt,xt=Qe;for(se.global||(se=pm(se.source,Li(Lu.exec(se))+"g")),se.lastIndex=0;kt=se.exec(xt);)var Dt=kt.index;Qe=Qe.slice(0,Dt===t?Ne:Dt)}}else if(y.indexOf(va(se),Ne)!=Ne){var rn=Qe.lastIndexOf(se);rn>-1&&(Qe=Qe.slice(0,rn))}return Qe+U}function EI(y){return y=Li(y),y&&Ro.test(y)?y.replace(Ai,Lg):y}var SI=Ug(function(y,E,D){return y+(D?" ":"")+E.toUpperCase()}),Ux=iS("toUpperCase");function gk(y,E,D){return y=Li(y),E=D?t:E,E===t?jb(y)?y0(y):p0(y):y.match(E)||[]}var yk=Tr(function(y,E){try{return ta(y,t,E)}catch(D){return hp(D)?D:new Qn(D)}}),Y0=Cc(function(y,E){return Pn(E,function(D){D=Yu(D),P(y,D,AS(y[D],y))}),y});function XA(y){var E=y==null?0:y.length,D=sr();return y=E?ko(y,function(U){if(typeof U[1]!="function")throw new Bl(a);return[D(U[0]),U[1]]}):[],Tr(function(U){for(var se=-1;++se<E;){var ye=y[se];if(ta(ye[0],this,U))return ta(ye[1],this,U)}})}function ZA(y){return te(G(y,v))}function Q0(y){return function(){return y}}function JA(y,E){return y==null||y!==y?E:y}var eR=tl(),tR=tl(!0);function xl(y){return y}function Gx(y){return _m(typeof y=="function"?y:G(y,v))}function vk(y){return ws(G(y,v))}function Yx(y,E){return Kr(y,G(E,v))}var nR=Tr(function(y,E){return function(D){return tr(D,y,E)}}),rR=Tr(function(y,E){return function(D){return tr(y,D,E)}});function bk(y,E,D){var U=Us(E),se=Lt(E,U);D==null&&!(Lo(E)&&(se.length||!U.length))&&(D=E,E=y,y=this,se=Lt(E,Us(E)));var ye=!(Lo(D)&&"chain"in D)||!!D.chain,Ae=bl(y);return Pn(se,function(Ne){var Qe=E[Ne];y[Ne]=Qe,Ae&&(y.prototype[Ne]=function(){var kt=this.__chain__;if(ye||kt){var xt=y(this.__wrapped__),Dt=xt.__actions__=yl(this.__actions__);return Dt.push({func:Qe,args:arguments,thisArg:y}),xt.__chain__=kt,xt}return Qe.apply(y,Gn([this.value()],arguments))})}),y}function iR(){return Ps._===this&&(Ps._=Zh),this}function xk(){}function Qx(y){return y=Br(y),Tr(function(E){return Aa(E,y)})}var wk=sx(ko),kI=sx(Jc),K0=sx(Ws);function oR(y){return gx(y)?um(Yu(y)):Ue(y)}function CI(y){return function(E){return y==null?t:nn(y,E)}}var sR=oS(),aR=oS(!0);function Kx(){return[]}function Xx(){return!1}function lR(){return{}}function cR(){return""}function uR(){return!0}function dR(y,E){if(y=Br(y),y<1||y>De)return[];var D=Ye,U=ga(y,Ye);E=sr(E),y-=Ye;for(var se=yc(U,E);++D<y;)E(D);return se}function Zx(y){return Ar(y)?ko(y,Yu):Wl(y)?[y]:yl(wx(Li(y)))}function _k(y){var E=++b0;return Li(y)+E}var X0=Nr(function(y,E){return y+E},0),Ku=dp("ceil"),fR=Nr(function(y,E){return y/E},1),hR=dp("floor");function OI(y){return y&&y.length?Tn(y,xl,Un):t}function Ek(y,E){return y&&y.length?Tn(y,sr(E,2),Un):t}function pR(y){return ju(y,xl)}function TI(y,E){return ju(y,sr(E,2))}function Z0(y){return y&&y.length?Tn(y,xl,qi):t}function Sk(y,E){return y&&y.length?Tn(y,sr(E,2),qi):t}var mR=Nr(function(y,E){return y*E},1),gR=dp("round"),kk=Nr(function(y,E){return y-E},0);function yR(y){return y&&y.length?Fl(y,xl):0}function AI(y,E){return y&&y.length?Fl(y,sr(E,2)):0}return pe.after=Qf,pe.ary=wA,pe.assign=MA,pe.assignIn=XS,pe.assignInWith=ly,pe.assignWith=uI,pe.at=ZS,pe.before=_A,pe.bind=AS,pe.bindAll=Y0,pe.bindKey=Kf,pe.castArray=$S,pe.chain=SS,pe.chunk=H5,pe.compact=W5,pe.concat=DT,pe.cond=XA,pe.conforms=ZA,pe.constant=Q0,pe.countBy=rA,pe.create=$x,pe.curry=Rm,pe.curryRight=$0,pe.debounce=RS,pe.defaults=Bx,pe.defaultsDeep=JS,pe.defer=oI,pe.delay=PS,pe.difference=NT,pe.differenceBy=ns,pe.differenceWith=pS,pe.drop=IT,pe.dropRight=Zg,pe.dropRightWhile=q5,pe.dropWhile=D0,pe.fill=ou,pe.filter=oA,pe.flatMap=CS,pe.flatMapDeep=lA,pe.flatMapDepth=cA,pe.flatten=FT,pe.flattenDeep=$T,pe.flattenDepth=U5,pe.flip=Rx,pe.flow=eR,pe.flowRight=tR,pe.fromPairs=mS,pe.functions=fI,pe.functionsIn=IA,pe.groupBy=dA,pe.initial=gS,pe.intersection=Y5,pe.intersectionBy=BT,pe.intersectionWith=jT,pe.invert=rk,pe.invertBy=cy,pe.invokeMap=hA,pe.iteratee=Gx,pe.keyBy=su,pe.keys=Us,pe.keysIn=Na,pe.map=Yf,pe.mapKeys=hI,pe.mapValues=Dm,pe.matches=vk,pe.matchesProperty=Yx,pe.memoize=ry,pe.merge=U0,pe.mergeWith=ok,pe.method=nR,pe.methodOf=rR,pe.mixin=bk,pe.negate=B0,pe.nthArg=Qx,pe.omit=LA,pe.omitBy=FA,pe.once=MS,pe.orderBy=_s,pe.over=wk,pe.overArgs=DS,pe.overEvery=kI,pe.overSome=K0,pe.partial=iy,pe.partialRight=NS,pe.partition=pA,pe.pick=zx,pe.pickBy=$A,pe.property=oR,pe.propertyOf=CI,pe.pull=zT,pe.pullAll=Sx,pe.pullAllBy=Uf,pe.pullAllWith=kx,pe.pullAt=I0,pe.range=sR,pe.rangeRight=aR,pe.rearg=IS,pe.reject=gA,pe.remove=Cx,pe.rest=LS,pe.reverse=yS,pe.sampleSize=yA,pe.set=BA,pe.setWith=Hx,pe.shuffle=TS,pe.slice=HT,pe.sortBy=xA,pe.sortedUniq=ey,pe.sortedUniqBy=Z5,pe.split=pk,pe.spread=j0,pe.tail=J5,pe.take=vS,pe.takeRight=zd,pe.takeRightWhile=Ox,pe.takeWhile=eI,pe.tap=Am,pe.throttle=oy,pe.thru=Hd,pe.toArray=YS,pe.toPairs=G0,pe.toPairsIn=jA,pe.toPath=Zx,pe.toPlainObject=KS,pe.transform=mI,pe.unary=Px,pe.union=UT,pe.unionBy=bS,pe.unionWith=GT,pe.uniq=YT,pe.uniqBy=xS,pe.uniqWith=QT,pe.unset=gI,pe.unzip=ty,pe.unzipWith=wS,pe.update=yI,pe.updateWith=VA,pe.values=pp,pe.valuesIn=vI,pe.without=KT,pe.words=gk,pe.wrap=FS,pe.xor=_S,pe.xorBy=ES,pe.xorWith=tI,pe.zip=XT,pe.zipObject=ZT,pe.zipObjectDeep=nI,pe.zipWith=JT,pe.entries=G0,pe.entriesIn=jA,pe.extend=XS,pe.extendWith=ly,bk(pe,pe),pe.add=X0,pe.attempt=yk,pe.camelCase=xI,pe.capitalize=WA,pe.ceil=Ku,pe.clamp=zA,pe.clone=BS,pe.cloneDeep=EA,pe.cloneDeepWith=Mx,pe.cloneWith=jS,pe.conformsTo=VS,pe.deburr=Xf,pe.defaultTo=JA,pe.divide=fR,pe.endsWith=sk,pe.eq=au,pe.escape=ak,pe.escapeRegExp=lk,pe.every=iA,pe.find=sA,pe.findIndex=N0,pe.findKey=ek,pe.findLast=aA,pe.findLastIndex=LT,pe.findLastKey=DA,pe.floor=hR,pe.forEach=OS,pe.forEachRight=uA,pe.forIn=jx,pe.forInRight=NA,pe.forOwn=dI,pe.forOwnRight=tk,pe.get=Vx,pe.gt=zS,pe.gte=SA,pe.has=nk,pe.hasIn=q0,pe.head=Ex,pe.identity=xl,pe.includes=fA,pe.indexOf=G5,pe.inRange=bI,pe.invoke=ik,pe.isArguments=Wd,pe.isArray=Ar,pe.isArrayBuffer=Dx,pe.isArrayLike=Da,pe.isArrayLikeObject=Ls,pe.isBoolean=kA,pe.isBuffer=Qu,pe.isDate=V0,pe.isElement=sI,pe.isEmpty=CA,pe.isEqual=Nx,pe.isEqualWith=aI,pe.isError=hp,pe.isFinite=Ix,pe.isFunction=bl,pe.isInteger=Oc,pe.isLength=Lx,pe.isMap=HS,pe.isMatch=WS,pe.isMatchWith=OA,pe.isNaN=TA,pe.isNative=qS,pe.isNil=Fx,pe.isNull=sy,pe.isNumber=US,pe.isObject=Lo,pe.isObjectLike=Fo,pe.isPlainObject=Pm,pe.isRegExp=z0,pe.isSafeInteger=AA,pe.isSet=GS,pe.isString=ay,pe.isSymbol=Wl,pe.isTypedArray=Mm,pe.isUndefined=lI,pe.isWeakMap=RA,pe.isWeakSet=PA,pe.join=Q5,pe.kebabCase=ck,pe.last=vl,pe.lastIndexOf=VT,pe.lowerCase=uk,pe.lowerFirst=dk,pe.lt=H0,pe.lte=cI,pe.max=OI,pe.maxBy=Ek,pe.mean=pR,pe.meanBy=TI,pe.min=Z0,pe.minBy=Sk,pe.stubArray=Kx,pe.stubFalse=Xx,pe.stubObject=lR,pe.stubString=cR,pe.stubTrue=uR,pe.multiply=mR,pe.nth=K5,pe.noConflict=iR,pe.noop=xk,pe.now=ny,pe.pad=wI,pe.padEnd=_I,pe.padStart=qA,pe.parseInt=ba,pe.random=HA,pe.reduce=rI,pe.reduceRight=mA,pe.repeat=fk,pe.replace=UA,pe.result=pI,pe.round=gR,pe.runInContext=je,pe.sample=iI,pe.size=vA,pe.snakeCase=hk,pe.some=bA,pe.sortedIndex=X5,pe.sortedIndexBy=Jg,pe.sortedIndexOf=WT,pe.sortedLastIndex=Tm,pe.sortedLastIndexBy=qT,pe.sortedLastIndexOf=Gf,pe.startCase=GA,pe.startsWith=Wx,pe.subtract=kk,pe.sum=yR,pe.sumBy=AI,pe.template=YA,pe.times=dR,pe.toFinite=lu,pe.toInteger=Br,pe.toLength=QS,pe.toLower=QA,pe.toNumber=Tc,pe.toSafeInteger=W0,pe.toString=Li,pe.toUpper=qd,pe.trim=KA,pe.trimEnd=mk,pe.trimStart=qx,pe.truncate=uy,pe.unescape=EI,pe.uniqueId=_k,pe.upperCase=SI,pe.upperFirst=Ux,pe.each=OS,pe.eachRight=uA,pe.first=Ex,bk(pe,function(){var y={};return ft(pe,function(E,D){si.call(pe.prototype,D)||(y[D]=E)}),y}(),{chain:!1}),pe.VERSION=r,Pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){pe[y].placeholder=pe}),Pn(["drop","take"],function(y,E){jn.prototype[y]=function(D){D=D===t?1:Ms(Br(D),0);var U=this.__filtered__&&!E?new jn(this):this.clone();return U.__filtered__?U.__takeCount__=ga(D,U.__takeCount__):U.__views__.push({size:ga(D,Ye),type:y+(U.__dir__<0?"Right":"")}),U},jn.prototype[y+"Right"]=function(D){return this.reverse()[y](D).reverse()}}),Pn(["filter","map","takeWhile"],function(y,E){var D=E+1,U=D==Oe||D==ze;jn.prototype[y]=function(se){var ye=this.clone();return ye.__iteratees__.push({iteratee:sr(se,3),type:D}),ye.__filtered__=ye.__filtered__||U,ye}}),Pn(["head","last"],function(y,E){var D="take"+(E?"Right":"");jn.prototype[y]=function(){return this[D](1).value()[0]}}),Pn(["initial","tail"],function(y,E){var D="drop"+(E?"":"Right");jn.prototype[y]=function(){return this.__filtered__?new jn(this):this[D](1)}}),jn.prototype.compact=function(){return this.filter(xl)},jn.prototype.find=function(y){return this.filter(y).head()},jn.prototype.findLast=function(y){return this.reverse().find(y)},jn.prototype.invokeMap=Tr(function(y,E){return typeof y=="function"?new jn(this):this.map(function(D){return tr(D,y,E)})}),jn.prototype.reject=function(y){return this.filter(B0(sr(y)))},jn.prototype.slice=function(y,E){y=Br(y);var D=this;return D.__filtered__&&(y>0||E<0)?new jn(D):(y<0?D=D.takeRight(-y):y&&(D=D.drop(y)),E!==t&&(E=Br(E),D=E<0?D.dropRight(-E):D.take(E-y)),D)},jn.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},jn.prototype.toArray=function(){return this.take(Ye)},ft(jn.prototype,function(y,E){var D=/^(?:filter|find|map|reject)|While$/.test(E),U=/^(?:head|last)$/.test(E),se=pe[U?"take"+(E=="last"?"Right":""):E],ye=U||/^find/.test(E);se&&(pe.prototype[E]=function(){var Ae=this.__wrapped__,Ne=U?[1]:arguments,Qe=Ae instanceof jn,kt=Ne[0],xt=Qe||Ar(Ae),Dt=function(ti){var ui=se.apply(pe,Gn([ti],Ne));return U&&rn?ui[0]:ui};xt&&D&&typeof kt=="function"&&kt.length!=1&&(Qe=xt=!1);var rn=this.__chain__,Wn=!!this.__actions__.length,or=ye&&!rn,Lr=Qe&&!Wn;if(!ye&&xt){Ae=Lr?Ae:new jn(this);var Hn=y.apply(Ae,Ne);return Hn.__actions__.push({func:Hd,args:[Dt],thisArg:t}),new ml(Hn,rn)}return or&&Lr?y.apply(this,Ne):(Hn=this.thru(Dt),or?U?Hn.value()[0]:Hn.value():Hn)})}),Pn(["pop","push","shift","sort","splice","unshift"],function(y){var E=Wu[y],D=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",U=/^(?:pop|shift)$/.test(y);pe.prototype[y]=function(){var se=arguments;if(U&&!this.__chain__){var ye=this.value();return E.apply(Ar(ye)?ye:[],se)}return this[D](function(Ae){return E.apply(Ar(Ae)?Ae:[],se)})}}),ft(jn.prototype,function(y,E){var D=pe[E];if(D){var U=D.name+"";si.call(Ft,U)||(Ft[U]=[]),Ft[U].push({name:E,func:D})}}),Ft[C0(t,$).name]=[{name:"wrapper",func:t}],jn.prototype.clone=$g,jn.prototype.reverse=HE,jn.prototype.value=Qb,pe.prototype.at=L0,pe.prototype.chain=kS,pe.prototype.commit=Tx,pe.prototype.next=eA,pe.prototype.plant=Ax,pe.prototype.reverse=tA,pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=nA,pe.prototype.first=pe.prototype.head,ep&&(pe.prototype[ep]=F0),pe},bc=v0();$u?(($u.exports=bc)._=bc,Dg._=bc):Ps._=bc}).call(mh)})(p3,p3.exports);var F3e=p3.exports;const $3e=/^class[ {]/;function B3e(n){return $3e.test(n.toString())}function Z8(n){return Array.isArray(n)}function V4(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function QM(...n){n.length===1&&Z8(n[0])&&(n=n[0]),n=[...n];const e=n.pop();return e.$inject=n,e}const j3e=/constructor\s*[^(]*\(\s*([^)]*)\)/m,V3e=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,z3e=/\/\*([^*]*)\*\//m;function H3e(n){if(typeof n!="function")throw new Error(`Cannot annotate "${n}". Expected a function!`);const e=n.toString().match(B3e(n)?j3e:V3e);if(!e)return[];const t=e[1]||e[2];return t&&t.split(",").map(r=>{const i=r.match(z3e);return(i&&i[1]||r).trim()})||[]}function vse(n,e){const t=e||{get:function(B,I){if(r.push(B),I===!1)return null;throw c(`No provider for "${B}"!`)}},r=[],i=this._providers=Object.create(t._providers||null),o=this._instances=Object.create(null),a=o.injector=this,c=function(B){const I=r.join(" -> ");return r.length=0,new Error(I?`${B} (Resolving: ${I})`:B)};function u(B,I){if(!i[B]&&B.includes(".")){const Y=B.split(".");let oe=u(Y.shift());for(;Y.length;)oe=oe[Y.shift()];return oe}if(V4(o,B))return o[B];if(V4(i,B)){if(r.indexOf(B)!==-1)throw r.push(B),c("Cannot resolve circular dependency!");return r.push(B),o[B]=i[B][0](i[B][1]),r.pop(),o[B]}return t.get(B,I)}function h(B,I){if(typeof I>"u"&&(I={}),typeof B!="function")if(Z8(B))B=QM(B.slice());else throw c(`Cannot invoke "${B}". Expected a function!`);const oe=(B.$inject||H3e(B)).map(ne=>V4(I,ne)?I[ne]:u(ne));return{fn:B,dependencies:oe}}function m(B){const{fn:I,dependencies:Y}=h(B),oe=Function.prototype.bind.call(I,null,...Y);return new oe}function v(B,I,Y){const{fn:oe,dependencies:ne}=h(B,Y);return oe.apply(I,ne)}function _(B){return QM(I=>B.get(I))}function k(B,I){if(I&&I.length){const Y=Object.create(null),oe=Object.create(null),ne=[],ae=[],Te=[];let Me,Ee,we,Ce;for(let Oe in i)Me=i[Oe],I.indexOf(Oe)!==-1&&(Me[2]==="private"?(Ee=ne.indexOf(Me[3]),Ee===-1?(we=Me[3].createChild([],I),Ce=_(we),ne.push(Me[3]),ae.push(we),Te.push(Ce),Y[Oe]=[Ce,Oe,"private",we]):Y[Oe]=[Te[Ee],Oe,"private",ae[Ee]]):Y[Oe]=[Me[2],Me[1]],oe[Oe]=!0),(Me[2]==="factory"||Me[2]==="type")&&Me[1].$scope&&I.forEach(Fe=>{Me[1].$scope.indexOf(Fe)!==-1&&(Y[Oe]=[Me[2],Me[1]],oe[Fe]=!0)});I.forEach(Oe=>{if(!oe[Oe])throw new Error('No provider for "'+Oe+'". Cannot use provider from the parent!')}),B.unshift(Y)}return new vse(B,a)}const R={factory:v,type:m,value:function(B){return B}};function T(B,I){const Y=B.__init__||[];return function(){Y.forEach(oe=>{typeof oe=="string"?I.get(oe):I.invoke(oe)})}}function F(B){const I=B.__exports__;if(I){const Y=B.__modules__,oe=Object.keys(B).reduce((Ee,we)=>(we!=="__exports__"&&we!=="__modules__"&&we!=="__init__"&&we!=="__depends__"&&(Ee[we]=B[we]),Ee),Object.create(null)),ne=(Y||[]).concat(oe),ae=k(ne),Te=QM(function(Ee){return ae.get(Ee)});I.forEach(function(Ee){i[Ee]=[Te,Ee,"private",ae]});const Me=(B.__init__||[]).slice();return Me.unshift(function(){ae.init()}),B=Object.assign({},B,{__init__:Me}),T(B,ae)}return Object.keys(B).forEach(function(Y){if(Y==="__init__"||Y==="__depends__")return;const oe=B[Y];if(oe[2]==="private"){i[Y]=oe;return}const ne=oe[0],ae=oe[1];i[Y]=[R[ne],W3e(ne,ae),ne]}),T(B,a)}function $(B,I){return B.indexOf(I)!==-1||(B=(I.__depends__||[]).reduce($,B),B.indexOf(I)!==-1)?B:B.concat(I)}function j(B){const I=B.reduce($,[]).map(F);let Y=!1;return function(){Y||(Y=!0,I.forEach(oe=>oe()))}}this.get=u,this.invoke=v,this.instantiate=m,this.createChild=k,this.init=j(n)}function W3e(n,e){return n!=="value"&&Z8(e)&&(e=QM(e.slice())),e}const bse=1024;let q3e=0,uf=class{constructor(e,t){this.from=e,this.to=t}};class Fr{constructor(e={}){this.id=q3e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ua.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Fr.closedBy=new Fr({deserialize:n=>n.split(" ")});Fr.openedBy=new Fr({deserialize:n=>n.split(" ")});Fr.group=new Fr({deserialize:n=>n.split(" ")});Fr.isolate=new Fr({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Fr.contextHash=new Fr({perNode:!0});Fr.lookAhead=new Fr({perNode:!0});Fr.mounted=new Fr({perNode:!0});class hO{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Fr.mounted.id]}}const U3e=Object.create(null);class Ua{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):U3e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Ua(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Fr.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Fr.group),o=-1;o<(i?i.length:0);o++){let a=t[o<0?r.name:i[o]];if(a)return a}}}}Ua.none=new Ua("",Object.create(null),0,8);class tT{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let o of e){let a=o(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}t.push(i?new Ua(r.name,i,r.id,r.flags):r)}return new tT(t)}}const LP=new WeakMap,QG=new WeakMap;var Cs;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Cs||(Cs={}));class fo{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,c]of o)this.props[typeof a=="number"?a:a.id]=c}}toString(){let e=hO.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new m3(this.topNode,e)}cursorAt(e,t=0,r=0){let i=LP.get(this)||this.topNode,o=new m3(i);return o.moveTo(e,t),LP.set(this,o._tree),o}get topNode(){return new Tu(this,0,0,null)}resolve(e,t=0){let r=pO(LP.get(this)||this.topNode,e,t,!1);return LP.set(this,r),r}resolveInner(e,t=0){let r=pO(QG.get(this)||this.topNode,e,t,!0);return QG.set(this,r),r}resolveStack(e,t=0){return Q3e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,a=e.mode||0,c=(a&Cs.IncludeAnonymous)>0;for(let u=this.cursor(a|Cs.IncludeAnonymous);;){let h=!1;if(u.from<=o&&u.to>=i&&(!c&&u.type.isAnonymous||t(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&r&&(c||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:t7(Ua.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new fo(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new fo(Ua.none,t,r,i)))}static build(e){return K3e(e)}}fo.empty=new fo(Ua.none,[],[],0);class J8{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new J8(this.buffer,this.index)}}class Fv{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Ua.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,t,r,i,o){let{buffer:a}=this,c=-1;for(let u=e;u!=t&&!(xse(o,i,a[u+1],a[u+2])&&(c=u,r>0));u=a[u+3]);return c}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),a=0;for(let c=e,u=0;c<t;){o[u++]=i[c++],o[u++]=i[c++]-r;let h=o[u++]=i[c++]-r;o[u++]=i[c++]-e,a=Math.max(a,h)}return new Fv(o,a,this.set)}}function xse(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function pO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof Tu&&n.index<0?null:n.parent;if(!a)return n;n=a}let o=r?0:Cs.IgnoreOverlays;if(r)for(let a=n,c=a.parent;c;a=c,c=a.parent)a instanceof Tu&&a.index<0&&((i=c.enter(e,t,o))===null||i===void 0?void 0:i.from)!=a.from&&(n=c);for(;;){let a=n.enter(e,t,o);if(!a)return n;n=a}}class wse{cursor(e=0){return new m3(this,e)}getChild(e,t=null,r=null){let i=KG(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return KG(this,e,t,r)}resolve(e,t=0){return pO(this,e,t,!1)}resolveInner(e,t=0){return pO(this,e,t,!0)}matchContext(e){return M6(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Tu extends wse{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let a=this;;){for(let{children:c,positions:u}=a._tree,h=t>0?c.length:-1;e!=h;e+=t){let m=c[e],v=u[e]+a.from;if(xse(i,r,v,v+m.length)){if(m instanceof Fv){if(o&Cs.ExcludeBuffers)continue;let _=m.findChild(0,m.buffer.length,t,r-v,i);if(_>-1)return new rv(new G3e(a,m,e,v),null,_)}else if(o&Cs.IncludeAnonymous||!m.type.isAnonymous||e7(m)){let _;if(!(o&Cs.IgnoreMounts)&&(_=hO.get(m))&&!_.overlay)return new Tu(_.tree,v,e,a);let k=new Tu(m,v,e,a);return o&Cs.IncludeAnonymous||!k.type.isAnonymous?k:k.nextChild(t<0?m.children.length-1:0,t,r,i)}}}if(o&Cs.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Cs.IgnoreOverlays)&&(i=hO.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:a,to:c}of i.overlay)if((t>0?a<=o:a<o)&&(t<0?c>=o:c>o))return new Tu(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function KG(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let a=!1;!a;)if(a=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function M6(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class G3e{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class rv extends wse{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new rv(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Cs.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new rv(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new rv(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new rv(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let a=r.buffer[this.index+1];e.push(r.slice(i,o,a)),t.push(0)}return new fo(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function _se(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let a=n[o];(a.from>t.from||a.to<t.to)&&(t=a,e=o)}let r=t instanceof Tu&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Y3e(i,t)}class Y3e{constructor(e,t){this.heads=e,this.node=t}get next(){return _se(this.heads)}}function Q3e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let o=r instanceof Tu?r:r.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(i||(i=[r])).push(a.resolve(e,t)),o=a}else{let a=hO.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let c=new Tu(a.tree,a.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(pO(c,e,t,!1))}}return i?_se(i):r}class m3{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Tu)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Tu?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Cs.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Cs.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Cs.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,a=e<0?-1:r._tree.children.length;o!=a;o+=e){let c=r._tree.children[o];if(this.mode&Cs.IncludeAnonymous||c instanceof Fv||!c.type.isAnonymous||e7(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;t=a,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new rv(this.buffer,t,this.stack[i]);return this.bufferNode=new rv(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return M6(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return M6(this._tree,e,i);let a=r[t.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function e7(n){return n.children.some(e=>e instanceof Fv||!e.type.isAnonymous||e7(e))}function K3e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=bse,reused:o=[],minRepeatType:a=r.types.length}=n,c=Array.isArray(t)?new J8(t,t.length):t,u=r.types,h=0,m=0;function v(Y,oe,ne,ae,Te,Me){let{id:Ee,start:we,end:Ce,size:Oe}=c,Fe=m,ze=h;for(;Oe<0;)if(c.next(),Oe==-1){let Ye=o[Ee];ne.push(Ye),ae.push(we-Y);return}else if(Oe==-3){h=Ee;return}else if(Oe==-4){m=Ee;return}else throw new RangeError(`Unrecognized record size: ${Oe}`);let dt=u[Ee],De,Ze,bt=we-Y;if(Ce-we<=i&&(Ze=F(c.pos-oe,Te))){let Ye=new Uint16Array(Ze.size-Ze.skip),rt=c.pos-Ze.size,ve=Ye.length;for(;c.pos>rt;)ve=$(Ze.start,Ye,ve);De=new Fv(Ye,Ce-Ze.start,r),bt=Ze.start-Y}else{let Ye=c.pos-Oe;c.next();let rt=[],ve=[],vt=Ee>=a?Ee:-1,gt=0,Tt=Ce;for(;c.pos>Ye;)vt>=0&&c.id==vt&&c.size>=0?(c.end<=Tt-i&&(R(rt,ve,we,gt,c.end,Tt,vt,Fe,ze),gt=rt.length,Tt=c.end),c.next()):Me>2500?_(we,Ye,rt,ve):v(we,Ye,rt,ve,vt,Me+1);if(vt>=0&&gt>0&&gt<rt.length&&R(rt,ve,we,gt,we,Tt,vt,Fe,ze),rt.reverse(),ve.reverse(),vt>-1&&gt>0){let Zt=k(dt,ze);De=t7(dt,rt,ve,0,rt.length,0,Ce-we,Zt,Zt)}else De=T(dt,rt,ve,Ce-we,Fe-Ce,ze)}ne.push(De),ae.push(bt)}function _(Y,oe,ne,ae){let Te=[],Me=0,Ee=-1;for(;c.pos>oe;){let{id:we,start:Ce,end:Oe,size:Fe}=c;if(Fe>4)c.next();else{if(Ee>-1&&Ce<Ee)break;Ee<0&&(Ee=Oe-i),Te.push(we,Ce,Oe),Me++,c.next()}}if(Me){let we=new Uint16Array(Me*4),Ce=Te[Te.length-2];for(let Oe=Te.length-3,Fe=0;Oe>=0;Oe-=3)we[Fe++]=Te[Oe],we[Fe++]=Te[Oe+1]-Ce,we[Fe++]=Te[Oe+2]-Ce,we[Fe++]=Fe;ne.push(new Fv(we,Te[2]-Ce,r)),ae.push(Ce-Y)}}function k(Y,oe){return(ne,ae,Te)=>{let Me=0,Ee=ne.length-1,we,Ce;if(Ee>=0&&(we=ne[Ee])instanceof fo){if(!Ee&&we.type==Y&&we.length==Te)return we;(Ce=we.prop(Fr.lookAhead))&&(Me=ae[Ee]+we.length+Ce)}return T(Y,ne,ae,Te,Me,oe)}}function R(Y,oe,ne,ae,Te,Me,Ee,we,Ce){let Oe=[],Fe=[];for(;Y.length>ae;)Oe.push(Y.pop()),Fe.push(oe.pop()+ne-Te);Y.push(T(r.types[Ee],Oe,Fe,Me-Te,we-Me,Ce)),oe.push(Te-ne)}function T(Y,oe,ne,ae,Te,Me,Ee){if(Me){let we=[Fr.contextHash,Me];Ee=Ee?[we].concat(Ee):[we]}if(Te>25){let we=[Fr.lookAhead,Te];Ee=Ee?[we].concat(Ee):[we]}return new fo(Y,oe,ne,ae,Ee)}function F(Y,oe){let ne=c.fork(),ae=0,Te=0,Me=0,Ee=ne.end-i,we={size:0,start:0,skip:0};e:for(let Ce=ne.pos-Y;ne.pos>Ce;){let Oe=ne.size;if(ne.id==oe&&Oe>=0){we.size=ae,we.start=Te,we.skip=Me,Me+=4,ae+=4,ne.next();continue}let Fe=ne.pos-Oe;if(Oe<0||Fe<Ce||ne.start<Ee)break;let ze=ne.id>=a?4:0,dt=ne.start;for(ne.next();ne.pos>Fe;){if(ne.size<0)if(ne.size==-3)ze+=4;else break e;else ne.id>=a&&(ze+=4);ne.next()}Te=dt,ae+=Oe,Me+=ze}return(oe<0||ae==Y)&&(we.size=ae,we.start=Te,we.skip=Me),we.size>4?we:void 0}function $(Y,oe,ne){let{id:ae,start:Te,end:Me,size:Ee}=c;if(c.next(),Ee>=0&&ae<a){let we=ne;if(Ee>4){let Ce=c.pos-(Ee-4);for(;c.pos>Ce;)ne=$(Y,oe,ne)}oe[--ne]=we,oe[--ne]=Me-Y,oe[--ne]=Te-Y,oe[--ne]=ae}else Ee==-3?h=ae:Ee==-4&&(m=ae);return ne}let j=[],B=[];for(;c.pos>0;)v(n.start||0,n.bufferStart||0,j,B,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:j.length?B[0]+j[0].length:0;return new fo(u[n.topID],j.reverse(),B.reverse(),I)}const XG=new WeakMap;function KM(n,e){if(!n.isAnonymous||e instanceof Fv||e.type!=n)return 1;let t=XG.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof fo)){t=1;break}t+=KM(n,r)}XG.set(e,t)}return t}function t7(n,e,t,r,i,o,a,c,u){let h=0;for(let R=r;R<i;R++)h+=KM(n,e[R]);let m=Math.ceil(h*1.5/8),v=[],_=[];function k(R,T,F,$,j){for(let B=F;B<$;){let I=B,Y=T[B],oe=KM(n,R[B]);for(B++;B<$;B++){let ne=KM(n,R[B]);if(oe+ne>=m)break;oe+=ne}if(B==I+1){if(oe>m){let ne=R[I];k(ne.children,ne.positions,0,ne.children.length,T[I]+j);continue}v.push(R[I])}else{let ne=T[B-1]+R[B-1].length-Y;v.push(t7(n,R,T,I,B,Y,ne,null,u))}_.push(Y+j-o)}}return k(e,t,r,i,0),(c||u)(v,_,a)}class ag{constructor(e,t,r,i,o=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new ag(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,a=e.length?e[0]:null;for(let c=0,u=0,h=0;;c++){let m=c<t.length?t[c]:null,v=m?m.fromA:1e9;if(v-u>=r)for(;a&&a.from<v;){let _=a;if(u>=_.from||v<=_.to||h){let k=Math.max(_.from,u)-h,R=Math.min(_.to,v)-h;_=k>=R?null:new ag(k,R,_.tree,_.offset+h,c>0,!!m)}if(_&&i.push(_),a.to>v)break;a=o<e.length?e[o++]:null}if(!m)break;u=m.toA,h=m.toA-m.toB}return i}}class n7{startParse(e,t,r){return typeof e=="string"&&(e=new X3e(e)),r=r?r.length?r.map(i=>new uf(i.from,i.to)):[new uf(0,0)]:[new uf(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}}class X3e{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function Z3e(n){return(e,t,r,i)=>new eNe(e,n,t,r,i)}class ZG{constructor(e,t,r,i,o){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=o}}function JG(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class J3e{constructor(e,t,r,i,o,a,c){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=o,this.target=a,this.prev=c,this.depth=0,this.ranges=[]}}const D6=new Fr({perNode:!0});class eNe{constructor(e,t,r,i,o){this.nest=t,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new fo(r.type,r.children,r.positions,r.length,r.propValues.concat([[D6,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Fr.mounted.id]=new hO(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new rNe(this.fragments),t=null,r=null,i=new m3(new Tu(this.baseTree,this.ranges[0].from,0,null),Cs.IncludeAnonymous|Cs.IgnoreMounts);e:for(let o,a;;){let c=!0,u;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)c=!1;else if(e.hasNode(i)){if(t){let h=t.mounts.find(m=>m.frag.from<=i.from&&m.frag.to>=i.to&&m.mount.overlay);if(h)for(let m of h.mount.overlay){let v=m.from+h.pos,_=m.to+h.pos;v>=i.from&&_<=i.to&&!t.ranges.some(k=>k.from<_&&k.to>v)&&t.ranges.push({from:v,to:_})}}c=!1}else if(r&&(a=tNe(r.ranges,i.from,i.to)))c=a!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||nNe(i);let h=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")t=new J3e(o.parser,o.overlay,h,this.inner.length,i.from,i.tree,t);else{let m=nY(this.ranges,o.overlay||(i.from<i.to?[new uf(i.from,i.to)]:[]));m.length&&JG(m),(m.length||!o.overlay)&&this.inner.push(new ZG(o.parser,m.length?o.parser.startParse(this.input,rY(h,m),m):o.parser.startParse(""),o.overlay?o.overlay.map(v=>new uf(v.from-i.from,v.to-i.from)):null,i.tree,m.length?m[0].from:i.from)),o.overlay?m.length&&(r={ranges:m,depth:0,prev:r}):c=!1}}else if(t&&(u=t.predicate(i))&&(u===!0&&(u=new uf(i.from,i.to)),u.from<u.to)){let h=t.ranges.length-1;h>=0&&t.ranges[h].to==u.from?t.ranges[h]={from:t.ranges[h].from,to:u.to}:t.ranges.push(u)}if(c&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let h=nY(this.ranges,t.ranges);h.length&&(JG(h),this.inner.splice(t.index,0,new ZG(t.parser,t.parser.startParse(this.input,rY(t.mounts,h),h),t.ranges.map(m=>new uf(m.from-t.start,m.to-t.start)),t.target,h[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function tNe(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function eY(n,e,t,r,i,o){if(e<t){let a=n.buffer[e+1];r.push(n.slice(e,t,a)),i.push(a-o)}}function nNe(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,o=i.children.indexOf(r),a=i.children[o],c=a.buffer,u=[o];function h(m,v,_,k,R,T){let F=t[T],$=[],j=[];eY(a,m,F,$,j,k);let B=c[F+1],I=c[F+2];u.push($.length);let Y=T?h(F+4,c[F+3],a.set.types[c[F]],B,I-B,T-1):e.toTree();return $.push(Y),j.push(B-k),eY(a,c[F+3],v,$,j,k),new fo(_,$,j,R)}i.children[o]=h(0,c.length,Ua.none,0,a.length,t.length-1);for(let m of u){let v=n.tree.children[m],_=n.tree.positions[m];n.yield(new Tu(v,_+n.from,m,n._tree))}}class tY{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(Cs.IncludeAnonymous|Cs.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,Cs.IgnoreOverlays|Cs.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof fo)t=t.children[0];else break}return!1}}let rNe=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(D6))!==null&&t!==void 0?t:r.to,this.inner=new tY(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(D6))!==null&&e!==void 0?e:t.to,this.inner=new tY(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let a=(r=o.tree)===null||r===void 0?void 0:r.prop(Fr.mounted);if(a&&a.parser==t)for(let c=this.fragI;c<this.fragments.length;c++){let u=this.fragments[c];if(u.from>=o.to)break;u.tree==this.curFrag.tree&&i.push({frag:u,pos:o.from-u.offset,mount:a})}}}return i}};function nY(n,e){let t=null,r=e;for(let i=1,o=0;i<n.length;i++){let a=n[i-1].to,c=n[i].from;for(;o<r.length;o++){let u=r[o];if(u.from>=c)break;u.to<=a||(t||(r=t=e.slice()),u.from<a?(t[o]=new uf(u.from,a),u.to>c&&t.splice(o+1,0,new uf(c,u.to))):u.to>c?t[o--]=new uf(c,u.to):t.splice(o--,1))}}return r}function iNe(n,e,t,r){let i=0,o=0,a=!1,c=!1,u=-1e9,h=[];for(;;){let m=i==n.length?1e9:a?n[i].to:n[i].from,v=o==e.length?1e9:c?e[o].to:e[o].from;if(a!=c){let _=Math.max(u,t),k=Math.min(m,v,r);_<k&&h.push(new uf(_,k))}if(u=Math.min(m,v),u==1e9)break;m==u&&(a?(a=!1,i++):a=!0),v==u&&(c?(c=!1,o++):c=!0)}return h}function rY(n,e){let t=[];for(let{pos:r,mount:i,frag:o}of n){let a=r+(i.overlay?i.overlay[0].from:0),c=a+i.tree.length,u=Math.max(o.from,a),h=Math.min(o.to,c);if(i.overlay){let m=i.overlay.map(_=>new uf(_.from+r,_.to+r)),v=iNe(e,m,u,h);for(let _=0,k=u;;_++){let R=_==v.length,T=R?h:v[_].from;if(T>k&&t.push(new ag(k,T,i.tree,-a,o.from>=k||o.openStart,o.to<=T||o.openEnd)),R)break;k=v[_].to}}else t.push(new ag(u,h,i.tree,-a,o.from>=a||o.openStart,o.to<=c||o.openEnd))}return t}var iY={};class g3{constructor(e,t,r,i,o,a,c,u,h,m=0,v){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=a,this.buffer=c,this.bufferBase=u,this.curContext=h,this.lookAhead=m,this.parent=v}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new g3(e,[],t,r,r,0,[],0,i?new oY(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:o}=this.p,a=this.reducePos<this.pos-25;a&&this.setLookAhead(this.pos);let c=o.dynamicPrecedence(i);if(c&&(this.score+=c),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),h=u?this.stack[u-2]:this.p.ranges[0].from,m=this.reducePos-h;m>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=m):this.p.lastBigReductionSize<m&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=m));let v=u?this.stack[u-1]:0,_=this.bufferBase+this.buffer.length-v;if(i<o.minRepeatTerm||e&131072){let k=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,k,_+4,!0)}if(e&262144)this.state=this.stack[u];else{let k=this.stack[u-3];this.state=o.getGoto(k,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,c=this.buffer.length;if(c==0&&a.parent&&(c=a.bufferBase-a.parent.bufferBase,a=a.parent),c>0&&a.buffer[c-4]==0&&a.buffer[c-1]>-1){if(t==r)return;if(a.buffer[c-2]>=t){a.buffer[c-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,t,r,i);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0){let c=!1;for(let u=a;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){c=!0;break}if(c)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let o=e,{parser:a}=this.p;(i>this.pos||t<=a.maxNode)&&(this.pos=i,a.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(t,r),t<=a.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new g3(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new oNe(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let o=0,a;o<t.length;o+=2)(a=t[o+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(t[o],a);if(this.stack.length<120)for(let o=0;i.length<8&&o<t.length;o+=2){let a=t[o+1];i.some((c,u)=>u&1&&c==a)||i.push(t[o],a)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let o=t[i+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[i],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,o)=>{if(!t.includes(i))return t.push(i),e.allActions(i,a=>{if(!(a&393216))if(a&65536){let c=(a>>19)-o;if(c>1){let u=a&65535,h=this.stack.length-c*3;if(h>=0&&e.getGoto(this.stack[h],u,!1)>=0)return c<<19|65536|u}}else{let c=r(a,o+1);if(c!=null)return c}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new oY(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class oY{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class oNe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class y3{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new y3(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new y3(this.stack,this.pos,this.index)}}function FP(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let o=0;for(;;){let a=n.charCodeAt(r++),c=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;let u=a-32;if(u>=46&&(u-=46,c=!0),o+=u,c)break;o*=46}t?t[i++]=o:t=new e(o)}return t}class XM{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const sY=new XM;class sNe{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=sY,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let a=this.ranges[--i];o-=r.from-a.to,r=a}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];o+=a.from-r.to,r=a}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=sY,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class s_{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;aNe(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}s_.prototype.contextual=s_.prototype.fallback=s_.prototype.extend=!1;s_.prototype.fallback=s_.prototype.extend=!1;class CE{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function aNe(n,e,t,r,i,o){let a=0,c=1<<r,{dialect:u}=t.p.parser;e:for(;c&n[a];){let h=n[a+1];for(let k=a+3;k<h;k+=2)if((n[k+1]&c)>0){let R=n[k];if(u.allows(R)&&(e.token.value==-1||e.token.value==R||lNe(R,e.token.value,i,o))){e.acceptToken(R);break}}let m=e.next,v=0,_=n[a+2];if(e.next<0&&_>v&&n[h+_*3-3]==65535){a=n[h+_*3-1];continue e}for(;v<_;){let k=v+_>>1,R=h+k+(k<<1),T=n[R],F=n[R+1]||65536;if(m<T)_=k;else if(m>=F)v=k+1;else{a=n[R+2],e.advance();continue e}}break}}function aY(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function lNe(n,e,t,r){let i=aY(t,r,e);return i<0||aY(t,r,n)<i}const td=typeof process<"u"&&iY&&/\bparse\b/.test(iY.LOG);let z4=null;function lY(n,e,t){let r=n.cursor(Cs.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}let cNe=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?lY(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?lY(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],a=this.start[t]+r.positions[i];if(a>e)return this.nextStart=a,null;if(o instanceof fo){if(a==e){if(a<this.safeFrom)return null;let c=a+o.length;if(c<=this.safeTo){let u=o.prop(Fr.lookAhead);if(!u||c+u<this.fragment.to)return o}}this.index[t]++,a+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+o.length}}};class uNe{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new XM)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,a=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,u=0;for(let h=0;h<o.length;h++){if(!(1<<h&a))continue;let m=o[h],v=this.tokens[h];if(!(r&&!m.fallback)&&((m.contextual||v.start!=e.pos||v.mask!=a||v.context!=c)&&(this.updateCachedToken(v,m,e),v.mask=a,v.context=c),v.lookAhead>v.end+25&&(u=Math.max(v.lookAhead,u)),v.value!=0)){let _=t;if(v.extended>-1&&(t=this.addActions(e,v.extended,v.end,t)),t=this.addActions(e,v.value,v.end,t),!m.extend&&(r=v,t>_))break}}for(;this.actions.length>t;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new XM,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new XM,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==e.value){let c=o.specializers[a](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){c&1?e.extended=c>>1:e.value=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:o}=e,{parser:a}=e.p,{data:c}=a;for(let u=0;u<2;u++)for(let h=a.stateSlot(o,u?2:1);;h+=3){if(c[h]==65535)if(c[h+1]==1)h=Gm(c,h+2);else{i==0&&c[h+1]==2&&(i=this.putAction(Gm(c,h+2),t,r,i));break}c[h]==t&&(i=this.putAction(Gm(c,h+1),t,r,i))}return i}}class dNe{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new sNe(t,i),this.tokens=new uNe(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[g3.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new cNe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let c=e[a];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{i||(i=[],o=[]),i.push(c);let u=this.tokens.getMainToken(c);o.push(u.value,u.end)}}break}}if(!r.length){let a=i&&pNe(i);if(a)return td&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw td&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(a)return td&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((c,u)=>u.score-c.score);r.length>a;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let c=r[a];for(let u=a+1;u<r.length;u++){let h=r[u];if(c.sameState(h)||c.buffer.length>500&&h.buffer.length>500)if((c.score-h.score||c.buffer.length-h.buffer.length)>0)r.splice(u--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:o}=this,a=td?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,m=h?e.curContext.hash:0;for(let v=this.fragments.nodeAt(i);v;){let _=this.parser.nodeSet.types[v.type.id]==v.type?o.getGoto(e.state,v.type.id):-1;if(_>-1&&v.length&&(!h||(v.prop(Fr.contextHash)||0)==m))return e.useNode(v,_),td&&console.log(a+this.stackID(e)+` (via reuse of ${o.getName(v.type.id)})`),!0;if(!(v instanceof fo)||v.children.length==0||v.positions[0]>0)break;let k=v.children[0];if(k instanceof fo&&v.positions[0]==0)v=k;else break}}let c=o.stateSlot(e.state,4);if(c>0)return e.reduce(c),td&&console.log(a+this.stackID(e)+` (via always-reduce ${o.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let h=0;h<u.length;){let m=u[h++],v=u[h++],_=u[h++],k=h==u.length||!r,R=k?e:e.split(),T=this.tokens.mainToken;if(R.apply(m,v,T?T.start:R.pos,_),td&&console.log(a+this.stackID(R)+` (via ${m&65536?`reduce of ${o.getName(m&65535)}`:"shift"} for ${o.getName(v)} @ ${i}${R==e?"":", split"})`),k)return!0;R.pos>i?t.push(R):r.push(R)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return cY(e,t),!0}}runRecovery(e,t,r){let i=null,o=!1;for(let a=0;a<e.length;a++){let c=e[a],u=t[a<<1],h=t[(a<<1)+1],m=td?this.stackID(c)+" -> ":"";if(c.deadEnd&&(o||(o=!0,c.restart(),td&&console.log(m+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let v=c.split(),_=m;for(let k=0;v.forceReduce()&&k<10&&(td&&console.log(_+this.stackID(v)+" (via force-reduce)"),!this.advanceFully(v,r));k++)td&&(_=this.stackID(v)+" -> ");for(let k of c.recoverByInsert(u))td&&console.log(m+this.stackID(k)+" (via recover-insert)"),this.advanceFully(k,r);this.stream.end>c.pos?(h==c.pos&&(h++,u=0),c.recoverByDelete(u,h),td&&console.log(m+this.stackID(c)+` (via recover-delete ${this.parser.getName(u)})`),cY(c,r)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),fo.build({buffer:y3.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(z4||(z4=new WeakMap)).get(e);return t||z4.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function cY(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class fNe{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const H4=n=>n;class hNe{constructor(e){this.start=e.start,this.shift=e.shift||H4,this.reduce=e.reduce||H4,this.reuse=e.reuse||H4,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class mO extends n7{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function o(c,u,h){i[c].push([u,u.deserialize(String(h))])}if(e.nodeProps)for(let c of e.nodeProps){let u=c[0];typeof u=="string"&&(u=Fr[u]);for(let h=1;h<c.length;){let m=c[h++];if(m>=0)o(m,u,c[h++]);else{let v=c[h+-m];for(let _=-m;_>0;_--)o(c[h++],u,v);h++}}}this.nodeSet=new tT(t.map((c,u)=>Ua.define({name:u>=this.minRepeatTerm?void 0:c,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=bse;let a=FP(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(uY),this.states=FP(e.states,Uint32Array),this.data=FP(e.stateData),this.goto=FP(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new s_(a,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new dNe(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let o=i[t+1];;){let a=i[o++],c=a&1,u=i[o++];if(c&&r)return u;for(let h=o+(a>>1);o<h;o++)if(i[o]==e)return u;if(c)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),a;;o+=3){if((a=r[o])==65535)if(r[o+1]==1)a=r[o=Gm(r,o+2)];else{if(r[o+1]==2)return Gm(r,o+2);break}if(a==t||a==0)return Gm(r,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Gm(this.data,o+2);else break;i=t(Gm(this.data,o+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Gm(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((o,a)=>a&1&&o==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(mO.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(c=>c.from==r.external);if(!o)return r;let a=Object.assign(Object.assign({},r),{external:o.to});return t.specializers[i]=uY(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let o of e.split(" ")){let a=t.indexOf(o);a>=0&&(r[a]=!0)}let i=null;for(let o=0;o<t.length;o++)if(!r[o])for(let a=this.dialects[t[o]],c;(c=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new fNe(e,r,i)}static deserialize(e){return new mO(e)}}function Gm(n,e){return n[e]|n[e+1]<<16}function pNe(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function uY(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}let mNe=0;class ud{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=mNe++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof ud&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new ud(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new v3(e);return r=>r.modified.indexOf(t)>-1?r:v3.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}}let gNe=0;class v3{constructor(e){this.name=e,this.instances=[],this.id=gNe++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&yNe(t,c.modified));if(r)return r;let i=[],o=new ud(e.name,i,e,t);for(let c of t)c.instances.push(o);let a=vNe(t);for(let c of e.set)if(!c.modified.length)for(let u of a)i.push(v3.get(c,u));return o}}function yNe(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function vNe(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function nT(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],a=2,c=i;for(let v=0;;){if(c=="..."&&v>0&&v+3==i.length){a=1;break}let _=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!_)throw new RangeError("Invalid path: "+i);if(o.push(_[0]=="*"?"":_[0][0]=='"'?JSON.parse(_[0]):_[0]),v+=_[0].length,v==i.length)break;let k=i[v++];if(v==i.length&&k=="!"){a=0;break}if(k!="/")throw new RangeError("Invalid path: "+i);c=i.slice(v)}let u=o.length-1,h=o[u];if(!h)throw new RangeError("Invalid path: "+i);let m=new b3(r,a,u>0?o.slice(0,u):null);e[h]=m.sort(e[h])}}return Ese.add(e)}const Ese=new Fr;class b3{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}b3.empty=new b3([],2,null);function Sse(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let a of o.tag)t[a.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let a=i;for(let c of o)for(let u of c.set){let h=t[u.id];if(h){a=a?a+" "+h:h;break}}return a},scope:r}}function bNe(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function xNe(n,e,t,r=0,i=n.length){let o=new wNe(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}class wNe{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:a,from:c,to:u}=e;if(c>=r||u<=t)return;a.isTop&&(o=this.highlighters.filter(k=>!k.scope||k.scope(a)));let h=i,m=_Ne(e)||b3.empty,v=bNe(o,m.tags);if(v&&(h&&(h+=" "),h+=v,m.mode==1&&(i+=(i?" ":"")+v)),this.startSpan(Math.max(t,c),h),m.opaque)return;let _=e.tree&&e.tree.prop(Fr.mounted);if(_&&_.overlay){let k=e.node.enter(_.overlay[0].from+c,1),R=this.highlighters.filter(F=>!F.scope||F.scope(_.tree.type)),T=e.firstChild();for(let F=0,$=c;;F++){let j=F<_.overlay.length?_.overlay[F]:null,B=j?j.from+c:u,I=Math.max(t,$),Y=Math.min(r,B);if(I<Y&&T)for(;e.from<Y&&(this.highlightRange(e,I,Y,i,o),this.startSpan(Math.min(Y,e.to),h),!(e.to>=B||!e.nextSibling())););if(!j||B>r)break;$=j.to+c,$>t&&(this.highlightRange(k.cursor(),Math.max(t,j.from+c),Math.min(r,$),"",R),this.startSpan(Math.min(r,$),h))}T&&e.parent()}else if(e.firstChild()){_&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),h)}while(e.nextSibling());e.parent()}}}function _Ne(n){let e=n.type.prop(Ese);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const fn=ud.define,$P=fn(),Ly=fn(),dY=fn(Ly),fY=fn(Ly),Fy=fn(),BP=fn(Fy),W4=fn(Fy),wp=fn(),d1=fn(wp),vp=fn(),bp=fn(),N6=fn(),v2=fn(N6),jP=fn(),Se={comment:$P,lineComment:fn($P),blockComment:fn($P),docComment:fn($P),name:Ly,variableName:fn(Ly),typeName:dY,tagName:fn(dY),propertyName:fY,attributeName:fn(fY),className:fn(Ly),labelName:fn(Ly),namespace:fn(Ly),macroName:fn(Ly),literal:Fy,string:BP,docString:fn(BP),character:fn(BP),attributeValue:fn(BP),number:W4,integer:fn(W4),float:fn(W4),bool:fn(Fy),regexp:fn(Fy),escape:fn(Fy),color:fn(Fy),url:fn(Fy),keyword:vp,self:fn(vp),null:fn(vp),atom:fn(vp),unit:fn(vp),modifier:fn(vp),operatorKeyword:fn(vp),controlKeyword:fn(vp),definitionKeyword:fn(vp),moduleKeyword:fn(vp),operator:bp,derefOperator:fn(bp),arithmeticOperator:fn(bp),logicOperator:fn(bp),bitwiseOperator:fn(bp),compareOperator:fn(bp),updateOperator:fn(bp),definitionOperator:fn(bp),typeOperator:fn(bp),controlOperator:fn(bp),punctuation:N6,separator:fn(N6),bracket:v2,angleBracket:fn(v2),squareBracket:fn(v2),paren:fn(v2),brace:fn(v2),content:wp,heading:d1,heading1:fn(d1),heading2:fn(d1),heading3:fn(d1),heading4:fn(d1),heading5:fn(d1),heading6:fn(d1),contentSeparator:fn(wp),list:fn(wp),quote:fn(wp),emphasis:fn(wp),strong:fn(wp),link:fn(wp),monospace:fn(wp),strikethrough:fn(wp),inserted:fn(),deleted:fn(),changed:fn(),invalid:fn(),meta:jP,documentMeta:fn(jP),annotation:fn(jP),processingInstruction:fn(jP),definition:ud.defineModifier("definition"),constant:ud.defineModifier("constant"),function:ud.defineModifier("function"),standard:ud.defineModifier("standard"),local:ud.defineModifier("local"),special:ud.defineModifier("special")};for(let n in Se){let e=Se[n];e instanceof ud&&(e.name=n)}Sse([{tag:Se.link,class:"tok-link"},{tag:Se.heading,class:"tok-heading"},{tag:Se.emphasis,class:"tok-emphasis"},{tag:Se.strong,class:"tok-strong"},{tag:Se.keyword,class:"tok-keyword"},{tag:Se.atom,class:"tok-atom"},{tag:Se.bool,class:"tok-bool"},{tag:Se.url,class:"tok-url"},{tag:Se.labelName,class:"tok-labelName"},{tag:Se.inserted,class:"tok-inserted"},{tag:Se.deleted,class:"tok-deleted"},{tag:Se.literal,class:"tok-literal"},{tag:Se.string,class:"tok-string"},{tag:Se.number,class:"tok-number"},{tag:[Se.regexp,Se.escape,Se.special(Se.string)],class:"tok-string2"},{tag:Se.variableName,class:"tok-variableName"},{tag:Se.local(Se.variableName),class:"tok-variableName tok-local"},{tag:Se.definition(Se.variableName),class:"tok-variableName tok-definition"},{tag:Se.special(Se.variableName),class:"tok-variableName2"},{tag:Se.definition(Se.propertyName),class:"tok-propertyName tok-definition"},{tag:Se.typeName,class:"tok-typeName"},{tag:Se.namespace,class:"tok-namespace"},{tag:Se.className,class:"tok-className"},{tag:Se.macroName,class:"tok-macroName"},{tag:Se.propertyName,class:"tok-propertyName"},{tag:Se.operator,class:"tok-operator"},{tag:Se.comment,class:"tok-comment"},{tag:Se.meta,class:"tok-meta"},{tag:Se.invalid,class:"tok-invalid"},{tag:Se.punctuation,class:"tok-punctuation"}]);var H_={};const ENe=121,r7=122,kse=123,SNe=124,hY=128,kNe=4,CNe=131,ONe=7,TNe=8,ANe=9,RNe=10,PNe=139,Cse=19,MNe=140,DNe=23,NNe=141,INe=27,LNe=37,FNe=41,$Ne=145,BNe=146,jNe=147,VNe=148,zNe=47,HNe=68,Ose=154,Tse=70,Ase=155,Rse=72,WNe=156,qNe=76,UNe=161,GNe=79,YNe=80,QNe=81,KNe=167,Pse=89,XNe=90,ZNe=169,JNe=97,e5e=171,t5e=98,n5e=100,r5e=101,i7=typeof process<"u"&&H_&&/\bfparse(:dbg)?\b/.test(H_.LOG),o7=typeof process<"u"&&H_&&/\bfparse:dbg\b/.test(H_.LOG),Vm=typeof process<"u"&&H_&&/\bcontext\b/.test(H_.LOG),Mse=[9,11,12,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],i5e=Dse(`
\r`),pY=42,o5e=Dse("'./-+*^");function Dse(n){return Array.from(n).map(e=>e.charCodeAt(0))}function s5e(n){return n===63||n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=55296&&n<=56319||n>=56320&&n<=57343}function a5e(n){return o5e.includes(n)}function l5e(n){return n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}function c5e(n){return Mse.includes(n)}function mY(n,e){return e.concat(n.split(/\n/g).join(`
`+e))}function u5e(n,e=0){const t=n.peek(e);return t===pY&&n.peek(e+1)===pY?{offset:2,token:"**"}:a5e(t)?{offset:1,token:String.fromCharCode(t)}:null}function n5(n,e=0,t=!1){for(let r=!1,i=[],o=0;;o++){const a=n.peek(e+o);if(s5e(a)||(r||t)&&l5e(a))r||(r=!0),i.push(a);else return i.length?{token:String.fromCharCode(...i),offset:o}:null}}function Nse(n,e){for(let t=!1,r=0;;r++){let i=n.peek(e+r);if(c5e(i))t||(t=!0);else return t?{token:" ",offset:r}:null}}function d5e(n,e){const t=e.contextKeys(),r=e.tokens;for(let i=0,o=[],a=null;;){const c=r.length+o.length>0,u=o.length>0,h=n5(n,i,c)||c&&u5e(n,i)||u&&Nse(n,i);if(!h)return a;const{token:m,offset:v}=h;if(i+=v,m===" ")continue;o=[...o,m];const _=[...r,...o].join(" ");if(t.some(k=>k===_)){const k=o[0];a={token:k,offset:k.length,term:kse}}if(!t.some(k=>k.startsWith(_))){if(gY.some(k=>k===_)){const k=o[0];a={token:k,offset:k.length,term:r7}}if(!gY.some(k=>k.startsWith(_)))return a}}}const f5e={[r7]:"identifier",[kse]:"nameIdentifier"},h5e=new CE((n,e)=>{o7&&console.log("%s: T <identifier | nameIdentifier>",n.pos);const t=d5e(n,e.context),r=e.context.tokens,i=t||n5(n,0,r.length>0);i&&(n.advance(i.offset),n.acceptToken(t?t.term:r7),i7&&console.log("%s: MATCH <%s> <%s>",n.pos,t?f5e[t.term]:"identifier",i.token))},{contextual:!0}),p5e=new CE((n,e)=>{o7&&console.log("%s: T <propertyIdentifier>",n.pos);const t=e.context.tokens,r=n5(n,0,t.length>0);r&&(n.advance(r.offset),n.acceptToken(ENe),i7&&console.log("%s: MATCH <propertyIdentifier> <%s>",n.pos,r.token))}),m5e=new CE((n,e)=>{o7&&console.log("%s: T <insertSemi>",n.pos);let t,r=!1;for(t=0;;t++){const i=n.peek(t);if(!Mse.includes(i)){i5e.includes(i)&&(r=!0);break}}if(r){const i=n5(n,t+1);if(Nse(n,t+1)||i&&/^(then|else|return|satisfies)$/.test(i.token))return;i7&&console.log("%s: MATCH <insertSemi>",n.pos),n.acceptToken(SNe)}}),g5e={[WNe]:"FunctionInvocation",[Ase]:"FilterExpression",[Ose]:"PathExpression"},y5e={[e5e]:"Context",[ZNe]:"FunctionDefinition",[CNe]:"ForExpression",[KNe]:"List",[MNe]:"IfExpression",[NNe]:"QuantifiedExpression"},v5e={[JNe]:"Context",[XNe]:"FunctionDefinition",[kNe]:"ForExpression",[Pse]:"List",[Cse]:"IfExpression",[DNe]:"QuantifiedExpression",[HNe]:"PathExpression",[Rse]:"FunctionInvocation",[Tse]:"FilterExpression",[FNe]:"ArithmeticExpression"};class W_{constructor(e){this.fn=e}get(e){return this.fn(e)}static of(e){return new W_(e)}}const b5e={"date and time":1,date:1,time:1,duration:1},gY=Object.keys(b5e);class x5e{constructor(e={}){this.value=e}getKeys(){return Object.keys(this.value)}get(e){const t=this.value[e],r=this.constructor;return r.isAtomic(t)?t:r.of(t)}set(e,t){return this.constructor.of({...this.value,[e]:t})}merge(e){const t=this.constructor;return new t(t.__merge(this.value,e))}static isAtomic(e){return!e||e instanceof this||e instanceof W_||typeof e!="object"}static of(...e){return e.reduce((t,r)=>t.merge(r),new this({}))}static __unwrap(e){return e?e instanceof this?e.value:typeof e!="object"?{}:{...e}:{}}static __merge(e,t){return _ie(this.__unwrap(t),(r,i,o)=>i instanceof W_?{...r,[o]:i}:(i=this.__unwrap(i),D8(r,o)&&(i=this.__merge(this.__unwrap(r[o]),i)),{...r,[o]:i}),this.__unwrap(e))}}class fC{constructor({name:e="Expressions",tokens:t=[],children:r=[],parent:i=null,context:o,value:a,raw:c}){this.name=e,this.tokens=t,this.children=r,this.parent=i,this.context=o,this.value=a,this.raw=c}enterScope(e){const t=this.of({name:e,parent:this});return Vm&&console.log("[%s] enter",t.path,t.context),t}exitScope(e){return this.parent?(Vm&&console.log(`[%s] exit %o
%s`,this.path,this.context,mY(e,"  ")),this.parent.pushChild(this)):(Vm&&console.log(`[%s] NO exit %o
%s`,this.path,this.context,mY(e,"  ")),this)}token(e){return Vm&&console.log("[%s] token <%s> + <%s>",this.path,this.tokens.join(" "),e),this.assign({tokens:[...this.tokens,e]})}literal(e){return Vm&&console.log("[%s] literal %o",this.path,e),this.pushChild(this.of({name:"Literal",value:e}))}computedValue(){for(let e=this;;e=Ew(e.children)){if(!e)return null;if(e.value)return e.value}}contextKeys(){return this.context.getKeys().map(wv)}get path(){var e,t;return((t=(e=this.parent)==null?void 0:e.path)==null?void 0:t.concat(" > ",this.name))||this.name}get(e){const t=[e,e&&wv(e)],r=this.context.getKeys().find(o=>t.includes(wv(o)));if(typeof r>"u")return;const i=this.context.get(r);return i instanceof W_?i.get(this):i}resolveName(){const e=this.tokens.join(" "),t=[],r=this.assign({tokens:t}),i=this.of({name:"VariableName",parent:r,value:this.get(e),raw:e});return Vm&&console.log("[%s] resolve name <%s=%s>",i.path,e,this.get(e)),r.pushChild(i)}pushChild(e){if(!e)return this;const t=this.assign({children:[...this.children,e]});return e.parent=t,t}pushChildren(e){let t=this;for(const r of e)t=t.pushChild(r);return t}declareName(){if(this.tokens.length===0)throw Error("no tokens to declare name");const e=this.tokens.join(" ");return Vm&&console.log("[%s] declareName <%s>",this.path,e),this.assign({tokens:[]}).pushChild(this.of({name:"Name",value:e}))}define(e,t){if(typeof e!="string")return Vm&&console.log("[%s] no define <%s=%s>",this.path,e,t),this;Vm&&console.log("[%s] define <%s=%s>",this.path,e,t);const r=this.context.set(e,t);return this.assign({context:r})}assign(e={}){return fC.of({...this,...e})}of(e={}){const t={context:this.context,parent:this.parent};return fC.of({...t,...e})}static of(e){const{name:t,tokens:r=[],children:i=[],parent:o=null,context:a,value:c,raw:u}=e;if(!a)throw new Error("must provide <context>");return new fC({name:t,tokens:[...r],children:[...i],context:a,parent:o,value:c,raw:u})}}function wv(n){return n.replace(/\s*([./\-'+]|\*\*?)\s*/g," $1 ").replace(/\s{2,}/g," ").trim()}function yY(n,e,t){const r=n.children.filter(h=>h.name!==e),i=n.children.filter(h=>h.name===e),o=r[0],a=r[Math.max(1,r.length-1)],c=o==null?void 0:o.computedValue(),u=(a==null?void 0:a.computedValue())||null;return n.assign({children:i}).enterScope(e).pushChildren(r).exitScope(t).define(c,u)}function OE(n={},e=x5e){const t=fC.of({context:e.of(n)});return new hNe({start:t,reduce(r,i,o,a){if(i===Cse){const[v,_]=r.children.slice(-2);r=r.assign({value:e.of(v==null?void 0:v.computedValue(),_==null?void 0:_.computedValue())})}if(i===Pse&&(r=r.assign({value:e.of(...r.children.map(v=>v==null?void 0:v.computedValue()))})),i===Tse){const[v,_]=r.children.slice(-2);r=r.assign({value:v==null?void 0:v.computedValue()})}if(i===Rse){const[v,..._]=r.children;(v==null?void 0:v.raw)==="get value"&&(r=_5e(r,_))}const c=y5e[i];if(c)return r.enterScope(c);const u=g5e[i];if(u){const{children:v,context:_}=r,k=v.slice(0,-1),R=Ew(v);let T=null;return i===Ose&&(T=e.of(R==null?void 0:R.computedValue())),i===Ase&&(T=e.of(_,R==null?void 0:R.computedValue()).set("item",R==null?void 0:R.computedValue())),r.assign({children:k}).enterScope(u).pushChild(R).assign({context:T||_})}const h=a.read(a.pos,o.pos);if(v5e[i])return r.exitScope(h);if(i===t5e){const v=r.children.filter(R=>R.name!=="ContextEntry"),_=v[0],k=Ew(v);return yY(r,"ContextEntry",h).assign({value:e.of(r.value).set(_==null?void 0:_.computedValue(),k==null?void 0:k.computedValue())})}if(i===ONe||i===INe)return yY(r,"InExpression",h);if(i===PNe)return r.define("partial",W_.of(v=>{var _;return(_=Ew(v.children))==null?void 0:_.computedValue()}));if(i===qNe){const v=Ew(r.children).computedValue();return r.define(v,1)}if(i===$Ne||i===BNe||i===jNe){const v=r.children.slice(0,-1),_=Ew(r.children);return r.assign({children:v}).enterScope("ArithmeticExpression").pushChild(_)}if(i===VNe)return r.enterScope("ArithmeticExpression");if(i===ANe||i===RNe||i===r5e)return r.token(h);if(i===YNe)return r.literal(h.replace(/^"|"$/g,""));if(i===QNe)return r.literal(h==="true");if(i===GNe)return r.literal(parseFloat(h));if(i===UNe)return r.literal(null);if(i===zNe)return r.resolveName();if(i===TNe||i===n5e)return r.declareName();if((i===hY||i===LNe)&&r.tokens.length>0)throw new Error("uncleared name");if(i===hY){let v=r;for(;v.parent;)v=v.exitScope(h);return v}return r}})}const w5e=OE({});function _5e(n,e){if(!e.length)return n.assign({value:null});if(e[0].name==="Name"&&(e=E5e(e,["m","key"])),e.length!==2)return n.assign({value:null});const[t,r]=e,i=r==null?void 0:r.computedValue(),o=t==null?void 0:t.computedValue();return!o||typeof o!="object"||typeof i!="string"?n.assign({value:null}):n.assign({value:[wv(i),i].reduce((a,c)=>o.get(c)||a,null)})}function E5e(n,e){const t={};for(let r=0;r<n.length;r+=2){const[i,o]=n.slice(r,r+2);t[i.value]=o}return e.map(r=>t[r])}function Ew(n){return n[n.length-1]}const S5e=nT({StringLiteral:Se.string,NumericLiteral:Se.number,BooleanLiteral:Se.bool,"AtLiteral!":Se.special(Se.string),CompareOp:Se.compareOperator,ArithOp:Se.arithmeticOperator,"for if then else some every satisfies between return":Se.controlKeyword,"in instance of and or":Se.operatorKeyword,function:Se.definitionKeyword,as:Se.keyword,"Type/...":Se.typeName,Wildcard:Se.special(Se.variableName),null:Se.null,LineComment:Se.lineComment,BlockComment:Se.blockComment,'VariableName! "?"':Se.variableName,"DateTimeConstructor! SpecialFunctionName!":Se.function(Se.special(Se.variableName)),"List Interval":Se.list,Context:Se.definition(Se.literal),"Name!":Se.definition(Se.variableName),"Key/Name! ContextEntryType/Name!":Se.definition(Se.propertyName),"PathExpression/VariableName!":Se.function(Se.propertyName),"FormalParameter/ParameterName!":Se.function(Se.definition(Se.variableName)),"( )":Se.paren,"[ ]":Se.squareBracket,"{ }":Se.brace,".":Se.derefOperator,", ;":Se.separator,"..":Se.punctuation}),k5e={__proto__:null,for:10,in:32,return:36,if:40,then:42,else:44,some:48,every:50,satisfies:56,or:60,and:64,between:72,instance:86,of:89,days:101,time:103,duration:105,years:107,months:109,date:111,list:117,context:123,function:130,null:156,true:330,false:330,"?":170,external:186,not:211},TE=mO.deserialize({version:14,states:"C|O`QYOOO`QYOOO$sQYOOOOQU'#Ce'#CeO$}QYO'#C`O&WQYO'#FQOOQQ'#Ff'#FfO&bQYO'#FfO`QYO'#DVOOQU'#En'#EnO(UQ^O'#D]OOQU'#D^'#D^OOQU'#D]'#D]OOQO'#Fn'#FnO*RQWO'#DvOOQQ'#D}'#D}OOQQ'#EO'#EOOOQQ'#EP'#EPO*WOWO'#ESO*RQWO'#EQOOQQ'#EQ'#EQOOQQ'#Ft'#FtOOQQ'#Fr'#FrOOQQ'#Fy'#FyOOQQ'#EU'#EUO`QYO'#EWOOQQ'#FS'#FSO*]Q^O'#FSO,SQYO'#EXO,ZQWO'#EYOOQP'#F}'#F}O,`QXO'#EaOOQQ'#Fz'#FzOOQQ'#FR'#FRQOQWOOOOQQ'#FT'#FTOOQQ'#F^'#F^O`QYO'#CoOOQQ'#F_'#F_O$}QYO'#CsO,kQYO'#DwOOQQ'#Fs'#FsO,pQYO'#EROOQO'#ER'#ERO`QYO'#EVO`QYO'#EUOOQO'#F{'#F{Q,xQWOOO,}QYO'#DRO-tQWO'#FbOOQO'#DT'#DTO.PQYO'#FfO.WQWOOO.}QYO'#CdO/[QYO'#FVOOQQ'#Cc'#CcO/aQYO'#FUOOQQ'#Cb'#CbO/iQYO,58zO`QYO,59iOOQQ'#Fc'#FcOOQQ'#Fd'#FdOOQQ'#Fe'#FeO`QYO,59qO`QYO,59qO`QYO,59qOOQQ'#Fl'#FlO/nQYO,5:^OOQQ'#Fm'#FmO`QYO,5:`O`QYO,59eO`QYO,59gO`QYO,59iO1jQYO,59iO1qQYO,59rOOQQ,5:i,5:iO1vQYO,59qOOQU-E8l-E8lO3jQYO'#FoOOQQ,5:b,5:bOOQQ,5:n,5:nOOQQ,5:l,5:lO3qQYO,5:rOOQQ,5;n,5;nO3{QYO,5:qO4YQWO,5:sO4_QYO,5:tOOQP'#Ee'#EeO5UQXO'#EdOOQO'#Ec'#EcO5]QWO'#EbO5bQWO'#GOO5jQWO,5:{O5oQYO,59ZO/[QYO'#FaOOQQ'#Cw'#CwO5vQYO'#F`OOQQ'#Cv'#CvO6OQYO,59_O6TQYO,5:cO6YQYO,5:mO3tQYO,5:qO6_QYO,5:pO`QYO'#EwQ,xQWOOO`QYO'#EmO7UQWO,5;|O`QYOOOOQR'#Cf'#CfOOQQ'#Ej'#EjO8OQYO,59OO`QYO,5;qOOQQ'#FY'#FYO$}QYO'#EkO8`QYO,5;pO`QYO1G.fOOQQ'#F]'#F]O9VQYO1G/TO;|QYO1G/]O<WQYO1G/]O<bQYO1G/]OOQQ1G/x1G/xO>UQYO1G/zO>]QYO1G/PO?fQYO1G/RO@oQYO1G/TO`QYO1G/TOOQQ1G/T1G/TOAVQYO1G/^OAtQ^O'#CdOCWQYO'#FqOOQO'#Dz'#DzOCbQWO'#DyOCgQWO'#FpOOQO'#Dx'#DxOOQO'#D{'#D{OCoQWO,5<ZOOQQ1G0^1G0^O`QYO1G0]O`QYO'#EsOCtQWO,5<]OOQQ1G0_1G0_ODPQWO'#E[OD[QWO'#F|OOQO'#EZ'#EZODdQWO1G0`OOQP'#Eu'#EuODiQXO,5;OO`QYO,5:|ODpQXO'#EvODxQWO,5<jOOQQ1G0g1G0gO`QYO1G.uO`QYO,5;{O$}QYO'#ElOEQQYO,5;zO`QYO1G.yOEYQYO1G/}OOQO1G0X1G0XOOQO,5;c,5;cOOQO-E8u-E8uOOQO,5;X,5;XOOQO-E8k-E8kOE_QWOOOOQQ-E8h-E8hOEdQYO'#CmOOQQ1G1]1G1]OOQQ,5;V,5;VOOQQ-E8i-E8iOEqQYO7+$QOOQQ7+%f7+%fO`QYO7+$oOFhQYO,5:rOFuQWO7+$oOFzQYO'#D[OOQQ'#DZ'#DZOHnQYO'#D_OHsQYO'#D_OHxQYO'#D_OH}Q`O'#DgOISQ`O'#DjOIXQ`O'#DnOOQQ7+$x7+$xO`QYO,5:eO$}QYO'#ErOI^QWO,5<[OOQQ1G1u1G1uOJdQYO7+%wOJqQYO,5;_OOQO-E8q-E8qOAVQYO,5:vO$}QYO'#EtOKOQWO,5<hOKWQYO7+%zOOQP-E8s-E8sOK_QYO1G0hOOQO,5;b,5;bOOQO-E8t-E8tOKiQYO7+$aOKpQYO1G1gOOQQ,5;W,5;WOOQQ-E8j-E8jOKzQYO7+$eOOQO7+%i7+%iO`QYO,59XOLqQYO<<HZOOQQ<<HZ<<HZO/nQYO'#EoOMzQYO,59vO! nQYO,59yO! sQYO,59yO! xQYO,59yO! }QYO,5:RO$}QYO,5:UO!!lQbO,5:YO!!sQYO1G0POOQO,5;^,5;^OOQO-E8p-E8pO!!}QYO<<IcOOQQ<<Ic<<IcOOQO1G0b1G0bOOQO,5;`,5;`OOQO-E8r-E8rO!%|QYO'#E^OOQQ<<If<<IfO`QYO<<IfO`QYO<<G{O!&sQYO1G.sOOQQ,5;Z,5;ZOOQQ-E8m-E8mO!&}QYO1G/eOOQQ1G/e1G/eO!'SQbO'#D]O!'eQ`O'#D[O!'pQ`O1G/mO!'uQWO'#DmO!'zQ`O'#FhOOQO'#Dl'#DlO!(SQ`O1G/pOOQO'#Dq'#DqO!(XQ`O'#FjOOQO'#Dp'#DpO!(aQ`O1G/tOOQQAN?QAN?QO!(fQYOAN=gOOQQ7+%P7+%PO!)]Q`O,59vOOQQ7+%X7+%XO! }QYO,5:XO$}QYO'#EpO!)hQ`O,5<SOOQQ7+%[7+%[O! }QYO'#EqO!)pQ`O,5<UO!)xQ`O7+%`OOQO1G/s1G/sOOQO,5;[,5;[OOQO-E8n-E8nOOQO,5;],5;]OOQO-E8o-E8oOAVQYO<<HzOOQQAN>fAN>fO/nQYO'#EoO! }QYO<<HzO!)}Q`O7+%`O!*SQ`O1G/tO!!lQbO,5:YO!*XQ`O'#Dn",stateData:"!*h~O#rOS#sOSPOSQOS~OTsOZVO[UOdtOhvOivOr}Os}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OTsO[UOdtOhvOivOr}Os}OviO!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~OZ!TO#]!UO~P#SO#nRO#oRO~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO!i!fO#z!dOv$bX~O#l#tX$s#tX~P%VO$i!mOT$YXZ$YX[$YXd$YXh$YXi$YXr$YXs$YXv$YX!T$YX!U$YX!V$YX!X$YX!c$YX!g$YX!i$YX!p$YX!w$YX#S$YX#n$YX#o$YX$Z$YX$j$YX$k$YX$l$YX~O#nRO#oROZ!PX[!PX]!PX^!PX_!PX`!PXn!PXp!PXr!PXs!PXt!PXv!PX{!PX!i!PX#l!PX#p!PX#z!PX$s!PX$O!PXx!PX#}!PX!g!PXe!PXb!PX#R!PXf!PXl!PX~Ov!pO~O$j`O~O#p!uOZ#vX[#vX]#vX^#vX_#vX`#vXn#vXp#vXr#vXs#vXt#vXv#vX{#vX!i#vX#l#vX#z#vX$s#vX$O#vXx#vX#}#vX!g#vXe#vXb#vX#R#vXf#vXl#vX~O!g$eP~P`Ov!xO~O#m!yO$j`O#R$rP~Op#VO~Op#WOv!uX~O$s#ZO~O#luX$OuX$suXxuX#}uX!guXeuXbuX#RuXfuXluX~P%VO$O#]O#l$UXx$UX~O#l#[X~P&bOv#_O~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O$]WX~O`WXxWX$OWX~P.]O`#dO~O$O#eOb#xX~Ob#hO~O#nRO#oRO$ZZO~OTsOZVO[UOdtOhvOivOr}Os}O!T{O!U{O!VxO!XzO!c!OO!g|O!igO!pyO!wjO#SnO#nRO#oRO$ZZO$i_O$j`O$kaO$lbO~Ov#rO~P/yO|#tO~O{!lO!i!fO#z!dOZya[ya]ya^ya_ya`yanyapyaryasyatyav$bX#lya$sya$Oyaxya#}ya!gyaeyabya#Ryafyalya~Ox$eP~P`Ox#}O#}$OO~P%VO#}$OO$O$PO!g$eX~P%VO!g$RO~O#nRO#oROx$pP~OZ#`O[#`O]#`O^#`O_#`O#m!yO#z#`O#{#`O~O$]#WX~P4jO$]$YO~O$O$ZO#R$rX~O#R$]O~Oe$^O~P%VO$O$`Ol$SX~Ol$bO~O!W$cO~O!T$dO~O#l!xa$s!xa$O!xax!xa#}!xa!g!xae!xab!xa#R!xaf!xal!xa~P%VO$O#]O#l$Uax$Ua~OZ#`O[#`O]#`O^#`O_#`O#nRO#oRO#z#`O#{#`O~O`Wa$]WaxWa$OWa~P7aO$O#eOb#xa~OZ!^O[!^O]!_O^!_O_!`O{!lO!i!fO#z!dOv$bX~O`qinqipqirqisqitqi#lqi$sqi$Oqixqi#}qi!gqieqibqi#Rqifqilqi~P8hO_!`O{!lO!i!fO#z!dOZyi[yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O]!_O^!_O~P:`O]yi^yi~P:`O{!lO!i!fO#z!dOZyi[yi]yi^yi_yi`yinyipyiryisyityiv$bX#lyi$syi$Oyixyi#}yi!gyieyibyi#Ryifyilyi~O!g$pO~P%VO`!kOp!iOr!]Os!]Ot!jOnmi#lmi$smi$Omixmi#}mi!gmiemibmi#Rmifmilmi~P8hO`!kOr!]Os!]Ot!jOnoipoi#loi$soi$Ooixoi#}oi!goieoiboi#Roifoiloi~P8hO`!kOn!hOp$qOr!]Os!]Ot!jO~P8hO!S$vO!V$wO!X$xO![$yO!_$zO!c${O#nRO#oRO$ZZO~OZ#bX[#bX]#bX^#bX_#bX`#bXn#bXp#bXr#bXs#bXt#bXv#bXx#bX{#bX!i#bX#n#bX#o#bX#p#bX#z#bX$O#bX~P.]O$O$POx$eX~P%VO$]$}O~O$O%OOx$dX~Ox%QO~O$O$PO!g$eax$ea~O$]%UOx#OX$O#OX~O$O%VOx$pX~Ox%XO~O$]#Wa~P4jO#m!yO$j`O~O$O$ZO#R$ra~O$O$`Ol$Sa~O!U%cO~OxrO~O#}%dObaX$OaX~P%VO#lSq$sSq$OSqxSq#}Sq!gSqeSqbSq#RSqfSqlSq~P%VOx#}O#}$OO$OuX~P%VOx%fO~O#z%gOZ!OX[!OX]!OX^!OX_!OX`!OXn!OXp!OXr!OXs!OXt!OXv!OX{!OX!i!OX#l!OX$s!OX$O!OXx!OX#}!OX!g!OXe!OXb!OX#R!OXf!OXl!OX~Op%iO~Op%jO~Op%kO~O!]%lO~O!]%mO~O!]%nO~O$O%OOx$da~OZ!^O[!^O]!_O^!_O_!`O`!kOn!hOp!iOr!]Os!]Ot!jO{!lO#z!dOv$bX~Ox%sO!g%sO!i%rO~PIfO!g#ga$O#gax#ga~P%VO$O%VOx$pa~O#P%yO~P`O#R#Ui$O#Ui~P%VOf%zO~P%VOl$Ti$O$Ti~P%VO#lgq$sgq$Ogqxgq#}gq!ggqegqbgq#Rgqfgqlgq~P%VO`qynqypqyrqysqytqy#lqy$sqy$Oqyxqy#}qy!gqyeqybqy#Rqyfqylqy~P8hO#z%gOZ!Oa[!Oa]!Oa^!Oa_!Oa`!Oan!Oap!Oar!Oas!Oat!Oav!Oa{!Oa!i!Oa#l!Oa$s!Oa$O!Oax!Oa#}!Oa!g!Oae!Oab!Oa#R!Oaf!Oal!Oa~O!T&OO~O!W&OO~O!T&PO~O!S$vO!V$wO!X$xO![$yO!_$zO!c&uO#nRO#oRO$ZZO~O!Y$^P~P! }Ox!mi$O!mi~P%VOT$aXZ$aX[$aX]!yy^!yy_!yy`!yyd$aXh$aXi$aXn!yyp!yyr$aXs$aXt!yyv$aX{!yy!T$aX!U$aX!V$aX!X$aX!c$aX!g$aX!i$aX!p$aX!w$aX#S$aX#l!yy#n$aX#o$aX#z!yy$Z$aX$i$aX$j$aX$k$aX$l$aX$s!yy$O!yyx!yy#}!yye!yyb!yy#R!yyf!yyl!yy~O#l#QX$s#QX$O#QXx#QX#}#QX!g#QXe#QXb#QX#R#QXf#QXl#QX~P%VObai$Oai~P%VO!U&_O~O#nRO#oRO!Y!PX#z!PX$O!PX~O#z&pO!Y!OX$O!OX~O!Y&aO~O$]&bO~O$O&cO!Y$[X~O!Y&eO~O$O&fO!Y$^X~O!Y&hO~O#lc!R$sc!R$Oc!Rxc!R#}c!R!gc!Rec!Rbc!R#Rc!Rfc!Rlc!R~P%VO#z&pO!Y!Oa$O!Oa~O$O&cO!Y$[a~O$O&fO!Y$^a~O$_&nO~O$_&qO~O!Y&rO~O!]&tO~O$Z~QP_^$i]#z~",goto:"E|$sPPPP$tP%m%p%v&Y'sPPPPPP'|P$tPPP$tPP(P(SP$tP$tP$tPPP(YP(eP$t$tPP(n)T)`*m)TPPPPPPP)TPP)TP+r+u)TP+{,R$tP$tP$t,Y-R-U-[-RP-d.]-d-d/]0UP$t0}$t1v1v2o2rP2xPP1v3O3U/X3YPP3bP3e3l3r3x4O5Z5e5k5q5w6O6U6[6bPPPPPPPP6h6q8x9q:j:mPP:qPP:w:z;s<l<o<s<x=g>V>vP?oP?rP?v@iA[BTBZB^$tBdBdPPPPC]8xDUD}EQEy!mjOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR![SQ!YSR$m#eS!WS#eS#Qw$`W#w!p!x%O%VT&T%m&c#WXOPQWYilu|}!]!a!b!c!e!g!h!i!j!k#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&Q&b&f&n&p&q&tb!VSw!x#e$`%O%V%m&cU#a!V#b#uR#u!pU#a!V#b#uT$W!z$XR$l#cR#UwQ#SwR%`$`U!RQ#_#rQ#s!kR$g#]QrQQ$i#_R$s#rQ$|#tQ%t%UQ&S%lU&X%n&f&tQ&i&bT&o&n&qc$u#t%U%l%n&b&f&n&q&t!lkOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ#m!eU$t#t%U&nS%|%g&p]&R%l%n&b&f&q&t#V[OPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%l%n%y%z&b&f&n&p&q&tR&W%mQ&U%mR&j&cQ&[%nR&s&tS&Y%n&tR&l&f!m]OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#|!pQ#y!pR%p%OS#x!p%OT$S!x%V!meOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!leOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!rbT!{o$Z!mcOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mdOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mhOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mpOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$V!xQ$T!xR%u%VQ%x%XR&]%yQ!}oR%[$ZT!|o$ZS!zo$ZT$W!z$XRrQS#b!V#uR$j#bQ#f!YR$n#fQ$a#SR%a$aQ#^!RR$h#^!vYOPQWilu|}!]!a!b!c!e!g!h!i!j!k!p#Z#]#_#c#g#r#t$O$P$Y$^$_$b$q$}%U%X%d%g%y%z&nS!oY&Q_&Q%l%n&b&f&p&q&tQ%h$tS%}%h&`R&`&RQ&d&UR&k&dQ&g&YR&m&gQ%P#yR%q%PS$Q!v#vR%T$QQ%W$TR%v%WQ$X!zR%Y$XQ$[!}R%]$[Q#[!PR$f#[QrOQ!PPR$e#ZUTOP#ZW!QQ!k#]#_Q!nWQ!tiQ!vlQ#PuQ#X|Q#Y}Q#i!]Q#j!aQ#k!bQ#l!cQ#n!gQ#o!hQ#p!iQ#q!jQ#v!pQ$k#cQ$o#gQ$r#rQ%R$OQ%S$PQ%Z$YQ%^$^Q%_$_Q%b$bQ%e$qQ%o$}S%w%X%yQ%{%dR&^%z!mqOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mSOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR!ZST!XS#eQ#c!WR$_#QR#g![!muOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mwOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#TwT#Rw$`V!SQ#_#r!X!aT!Q!t!v#P#X#Y#i#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!Z!bT!Q!t!v#P#X#Y#i#j#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!]!cT!Q!t!v#P#X#Y#i#j#k#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!mWOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR&V%mT&Z%n&t!a!eT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!a!gT!Q!n!t!v#P#X#Y#i#j#k#l#n#o#p#q#v$k$o$r%R%S%Z%^%_%b%e%o%w%{&^!m^OPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zQ!q^R!scR#z!pQ!wlR#{!p!mfOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mlOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%z!mmOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR$U!x!moOPQWilu|}!]!a!b!c!g!h!i!j!k!p#Z#]#_#c#g#r$O$P$Y$^$_$b$q$}%X%d%y%zR#Oo",nodeNames:" LineComment BlockComment Expression ForExpression for InExpressions InExpression Name Identifier Identifier ArithOp ArithOp ArithOp ArithOp ArithOp in IterationContext return IfExpression if then else QuantifiedExpression some every InExpressions InExpression satisfies Disjunction or Conjunction and Comparison CompareOp CompareOp between PositiveUnaryTest ( PositiveUnaryTests ) ArithmeticExpression InstanceOfExpression instance of Type QualifiedName VariableName BacktickIdentifier SpecialType days time duration years months date > ListType list < ContextType context ContextEntryTypes ContextEntryType FunctionType function ArgumentTypes ArgumentType PathExpression ] FilterExpression [ FunctionInvocation SpecialFunctionName NamedParameters NamedParameter ParameterName PositionalParameters null NumericLiteral StringLiteral BooleanLiteral DateTimeLiteral DateTimeConstructor AtLiteral ? SimplePositiveUnaryTest Interval ParenthesizedExpression List FunctionDefinition FormalParameters FormalParameter external FunctionBody } { Context ContextEntry Key Name Identifier Expressions UnaryTests Wildcard not",maxTerm:173,context:w5e,nodeProps:[["group",-17,4,19,23,29,31,33,41,42,68,70,72,85,86,88,89,90,97,"Expr",47,"Expr Expr",-5,78,79,80,81,82,"Expr Literal"],["closedBy",38,")",71,"]",96,"}"],["openedBy",40,"(",69,"[",95,"{"]],propSources:[S5e],skippedNodes:[0,1,2],repeatNodeCount:14,tokenData:".Z~RvXY#iYZ$^Z[#i]^$^pq#iqr$crs$nwx&fxy&kyz&pz{&u{|'S|}'X}!O'^!O!P'k!P!Q(u!Q![*p![!]+X!]!^+^!^!_+c!_!`$i!`!a+r!b!c+|!}#O,R#P#Q,W#Q#R&}#S#T,]#o#p.P#q#r.U$f$g#i#BY#BZ#i$IS$I_#i$I|$I}$^$I}$JO$^$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~#nY#r~XY#iZ[#ipq#i$f$g#i#BY#BZ#i$IS$I_#i$JT$JU#i$KV$KW#i&FU&FV#i?HT?HU#i~$cO#s~~$fP!_!`$i~$nOr~~$sW$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`<%lO$n~%bO$j~~%eRO;'S$n;'S;=`%n;=`O$n~%sX$j~OY$nZr$nrs%]s#O$n#O#P%b#P;'S$n;'S;=`&`;=`<%l$n<%lO$n~&cP;=`<%l$n~&kO#{~~&pOv~~&uOx~~&zP^~z{&}~'SO_~~'XO[~~'^O$O~R'cPZP!`!a'fQ'kO$_Q~'pQ#z~!O!P'v!Q!['{~'{O#}~~(QR$i~!Q!['{!g!h(Z#X#Y(Z~(^R{|(g}!O(g!Q![(m~(jP!Q![(m~(rP$i~!Q![(m~(zQ]~z{)Q!P!Q*X~)TTOz)Qz{)d{;'S)Q;'S;=`*R<%lO)Q~)gVOz)Qz{)d{!P)Q!P!Q)|!Q;'S)Q;'S;=`*R<%lO)Q~*ROQ~~*UP;=`<%l)Q~*^SP~OY*XZ;'S*X;'S;=`*j<%lO*X~*mP;=`<%l*X~*uS$i~!O!P+R!Q![*p!g!h(Z#X#Y(Z~+UP!Q!['{~+^O$]~~+cO$s~R+jP!]QsP!_!`+mP+rOsPR+yP!YQsP!_!`+m~,RO$l~~,WO!i~~,]O!g~~,`WOY,]Z#O,]#O#P,x#P#S,]#S#T-t#T;'S,];'S;=`-y<%lO,]~,{RO;'S,];'S;=`-U;=`O,]~-XXOY,]Z#O,]#O#P,x#P#S,]#S#T-t#T;'S,];'S;=`-y;=`<%l,]<%lO,]~-yO$Z~~-|P;=`<%l,]~.UO#S~~.ZO#R~",tokenizers:[p5e,h5e,m5e,0,1],topRules:{Expression:[0,3],Expressions:[1,102],UnaryTests:[2,103]},dialects:{camunda:2544},dynamicPrecedences:{31:-1,68:1,72:-1,74:-1},specialized:[{term:122,get:n=>k5e[n]||-1}],tokenPrec:2546});function C5e(n){return Object.getPrototypeOf(n)===Object.prototype}function dd(n){return pr.isDateTime(n)}function oh(n){return Jr.isDuration(n)}function yh(n){return Array.isArray(n)}function O5e(n){return typeof n=="boolean"}function ja(n){return n==null?"nil":O5e(n)?"boolean":Ym(n)?"number":E1(n)?"string":C5e(n)?"context":yh(n)?"list":oh(n)?"duration":dd(n)?n.year===1900&&n.month===1&&n.day===1?"time":n.hour===0&&n.minute===0&&n.second===0&&n.millisecond===0&&n.zone===qa.utcInstance?"date":"date time":n instanceof pd?"range":n instanceof ZM?"function":"literal"}function I6(n,e){return ja(n)===e}function T5e(n,e){if(dd(n)){if(e==="time")return n.set({year:1900,month:1,day:1});if(e==="date")return n.setZone("utc",{keepLocalTime:!0}).startOf("day");if(e==="date time")return n}return null}let pd=class{constructor(e){Object.assign(this,e)}};function Ym(n){return typeof n=="number"}function E1(n){return typeof n=="string"}function _v(n,e,t=!1){if(n===null&&e!==null||n!==null&&e===null)return!1;yh(n)&&n.length<2&&(n=n[0]),yh(e)&&e.length<2&&(e=e[0]);const r=ja(n),i=ja(e),o=["date time","time","date"];if(o.includes(r))return!o.includes(i)||r==="time"&&i!=="time"||i==="time"&&r!=="time"?null:t||n.zone===Ru.instance||e.zone===Ru.instance?n.equals(e):n.toUTC().valueOf()===e.toUTC().valueOf();if(r!==i)return null;if(r==="nil")return!0;if(r==="list")return n.length!==e.length?!1:n.every((a,c)=>_v(a,e[c]));if(r==="duration")return Math.abs(n.as("days"))>180?Math.trunc(n.minus(e).as("months"))===0:Math.trunc(n.minus(e).as("seconds"))===0;if(r==="context"){const a=Object.entries(n),c=Object.entries(e);return a.length!==c.length?!1:a.every(([u,h])=>u in e&&_v(h,e[u]))}return r==="range"?[[n.start,e.start],[n.end,e.end],[n["start included"],e["start included"]],[n["end included"],e["end included"]]].every(([a,c])=>a===c):n==e?!0:r===i?!1:null}let ZM=class{constructor(e,t){this.fn=e,this.parameterNames=t}invoke(e){let t;if(yh(e)){if(t=e,t.length>this.parameterNames.length){const r=this.parameterNames[this.parameterNames.length-1];if(!r||!r.startsWith("..."))return null}}else{if(Object.keys(e).some(r=>!this.parameterNames.includes(r)&&!this.parameterNames.includes(`...${r}`)))return null;t=this.parameterNames.reduce((r,i)=>{if(i.startsWith("...")){i=i.slice(3);const o=e[i];return o?[...r,...yh(o)?o:[o]]:r}return[...r,e[i]]},[])}return this.fn.call(null,...t)}};function s7(n){if(Array.isArray(n.$args))return n.$args;const e=n.toString(),t=/^(?:[^(]*\s*)?\(([^)]+)?\)/.exec(e);if(!t)throw new Error("failed to parse params: "+e);const[r,i]=t;return i?i.split(",").map(o=>o.trim()):[]}function il(n){return new Error(`not implemented: ${n}`)}function A5e(n){return/^not implemented/.test(n.message)}function x3(n,e){if(["nil","boolean","number","string"].includes(ja(e)))return;if(n in e)return e[n];const t=wv(n);if(t in e)return e[t];const r=Object.entries(e).find(([i])=>t===wv(i));if(r)return r[1]}function vY(n){return typeof n=="number"?Jr.fromMillis(n):Jr.fromISO(n)}function Xd(n=null,e=null,t=null){if(e){if(n)throw new Error("<str> and <time> provided");return Xd(`1900-01-01T${e}`,null)}if(typeof n=="string"){if(n.startsWith("-"))throw il("negative date");if(!n.includes("T"))return Xd(n+"T00:00:00",null,t||qa.utcInstance);if(n.includes("@")){if(t)throw new Error("<zone> already provided");const[r,i]=n.split("@");return Xd(r,null,Bw.normalizeZone(i))}return pr.fromISO(n.toUpperCase(),{setZone:!0,zone:t})}return pr.now()}const R5e={number:wn(function(n,e,t){if(arguments.length!==3)return null;e&&(n=n.split(e).join("")),t&&t!=="."&&(n=n.split(".").join("#").split(t).join("."));const r=+n;return isNaN(r)?null:r},["string","string?","string?"],["from","grouping separator","decimal separator"]),string:wn(function(n){return n===null?null:a7(n)},["any"]),date:wn(function(n,e,t,r){!r&&!Ym(n)&&(r=n,n=null);let i;if(E1(r)&&(i=Xd(r)),dd(r)&&(i=r),n){if(!Ym(e)||!Ym(t))return null;i=Xd().setZone("utc").set({year:n,month:e,day:t})}return i&&mw(i.setZone("utc").startOf("day"))||null},["any?","number?","number?","any?"]),"date and time":wn(function(n,e,t){let r;if(dd(n)&&dd(e)){const i=n.toLocal();r=e.set({year:i.year,month:i.month,day:i.day})}return E1(n)&&(t=n,n=null),E1(t)&&(r=Xd(t,null,t.includes("@")?null:Ru.instance)),r&&mw(r)||null},["any?","time?","string?"],["date","time","from"]),time:wn(function(n,e,t,r,i){let o;if(r)throw il("time(..., offset)");if((E1(n)||dd(n))&&(i=n,n=null),E1(i)&&i&&(o=Xd(null,i)),dd(i)&&(o=i.set({year:1900,month:1,day:1})),Ym(n)){if(!Ym(e)||!Ym(t))return null;o=Xd().set({hour:n,minute:e,second:t}).set({year:1900,month:1,day:1,millisecond:0})}return o&&mw(o)||null},["any?","number?","number?","any?","any?"]),duration:wn(function(n){return mw(vY(n))},["string"]),"years and months duration":wn(function(n,e){return mw(e.diff(n,["years","months"]))},["date","date"]),"@":wn(function(n){let e;return/^-?P/.test(n)?e=vY(n):/^[\d]{1,2}:[\d]{1,2}:[\d]{1,2}/.test(n)?e=Xd(null,n):e=Xd(n),e&&mw(e)||null},["string"]),now:wn(function(){return Xd()},[]),today:wn(function(){return Xd().startOf("day")},[]),not:wn(function(n){return I6(n,"boolean")?!n:null},["any"]),substring:wn(function(n,e,t){const r=e<0?n.length+e:e-1,i=Array.from(n);return(typeof t<"u"?i.slice(r,r+t):i.slice(r)).join("")},["string","number","number?"],["string","start position","length"]),"string length":wn(function(n){return N5e(n)},["string"]),"upper case":wn(function(n){return n.toUpperCase()},["string"]),"lower case":wn(function(n){return n.toLowerCase()},["string"]),"substring before":wn(function(n,e){const t=n.indexOf(e);return t===-1?"":n.substring(0,t)},["string","string"]),"substring after":wn(function(n,e){const t=n.indexOf(e);return t===-1?"":n.substring(t+e.length)},["string","string"]),replace:wn(function(n,e,t,r){const i=q4(e,r||"","g");return i&&n.replace(i,t.replace(/\$0/g,"$$&"))},["string","string","string","string?"]),contains:wn(function(n,e){return n.includes(e)},["string","string"]),matches:wn(function(n,e,t){const r=q4(e,t||"","");return r&&r.test(n)},["string","string","string?"]),"starts with":wn(function(n,e){return n.startsWith(e)},["string","string"]),"ends with":wn(function(n,e){return n.endsWith(e)},["string","string"]),split:wn(function(n,e){const t=q4(e,"","");return t&&n.split(t)},["string","string"]),"string join":wn(function(n,e){return n.some(t=>!E1(t)&&t!==null)?null:n.filter(t=>t!==null).join(e||"")},["list","string?"]),"list contains":wn(function(n,e){return n.some(t=>bY(t,e))},["list","any?"]),"list replace":wn(function(n,e,t,r){const i=e||r;return["number","function"].includes(ja(i))?L5e(n,e||r,t):null},["list","any?","any","function?"]),count:wn(function(n){return n.length},["list"]),min:nd(function(...n){return n.reduce((e,t)=>e===null?t:Math.min(e,t),null)},"number"),max:nd(function(...n){return n.reduce((e,t)=>e===null?t:Math.max(e,t),null)},"number"),sum:nd(function(...n){return wY(n)},"number"),mean:nd(function(...n){const e=wY(n);return e===null?e:e/n.length},"number"),all:nd(function(...n){let e=!1;for(const t of n){if(t===!1)return!1;typeof t!="boolean"&&(e=!0)}return e?null:!0},"any?"),any:nd(function(...n){let e=!1;for(const t of n){if(t===!0)return!0;typeof t!="boolean"&&(e=!0)}return e?null:!1},"any?"),sublist:wn(function(n,e,t){const r=e<0?n.length+e:e-1;return typeof t<"u"?n.slice(r,r+t):n.slice(r)},["list","number","number?"]),append:wn(function(n,...e){return n.concat(e)},["list","any?"]),concatenate:wn(function(...n){return n.reduce((e,t)=>e.concat(t),[])},["any"]),"insert before":wn(function(n,e,t){return n.slice(0,e-1).concat([t],n.slice(e-1))},["list","number","any?"]),remove:wn(function(n,e){return n.slice(0,e-1).concat(n.slice(e))},["list","number"]),reverse:wn(function(n){return n.slice().reverse()},["list"]),"index of":wn(function(n,e){return n.reduce(function(t,r,i){return bY(r,e)&&t.push(i+1),t},[])},["list","any"]),union:nd(function(...n){return n.reduce((e,t)=>t.reduce((r,i)=>(r.some(o=>_v(i,o))||r.push(i),r),e),[])},"list"),"distinct values":wn(function(n){return n.reduce((e,t)=>(e.some(r=>_v(t,r))||e.push(t),e),[])},["list"]),flatten:wn(function(n){return L6(n)},["list"]),product:nd(function(...n){return n.length===0?null:n.reduce((e,t)=>e*t,1)},"number"),median:nd(function(...n){return n.length===0?null:F5e(n)},"number"),stddev:nd(function(...n){return n.length<2?null:I5e(n)},"number"),mode:nd(function(...n){return $5e(n)},"number"),decimal:wn(function(n,e){if(!e)return EY(n);const t=Math.pow(10,e);return EY(n*t)/t},["number","number"]),floor:wn(function(n,e=0){if(e===null)return null;const t=Math.pow(10,e);return Math.floor(n*t)/t},["number","number?"]),ceiling:wn(function(n,e=0){if(e===null)return null;const t=Math.pow(10,e);return Math.ceil(n*t)/t},["number","number?"]),abs:wn(function(n){return typeof n!="number"?null:Math.abs(n)},["number"]),"round up":wn(function(n,e){throw il("round up")},["number","number"]),"round down":wn(function(n,e){throw il("round down")},["number","number"]),"round half up":wn(function(n,e){throw il("round half up")},["number","number"]),"round half down":wn(function(n,e){throw il("round half down")},["number","number"]),modulo:wn(function(n,e){if(!e)return null;const t=1e9;return Math.round((n%e+e)%e*t)/t},["number","number"]),sqrt:wn(function(n){return n<0?null:Math.sqrt(n)},["number"]),log:wn(function(n){return n<=0?null:Math.log(n)},["number"]),exp:wn(function(n){return Math.exp(n)},["number"]),odd:wn(function(n){return Math.abs(n)%2===1},["number"]),even:wn(function(n){return Math.abs(n)%2===0},["number"]),is:wn(function(n,e){return typeof n>"u"||typeof e>"u"?!1:_v(n,e,!0)},["any?","any?"]),before:wn(function(n,e){return VP(n,e)},["any","any"]),after:wn(function(n,e){return VP(e,n)},["any","any"]),meets:wn(function(n,e){return xY(n,e)},["range","range"]),"met by":wn(function(n,e){return xY(e,n)},["range","range"]),overlaps:wn(function(n,e){return!VP(n,e)&&!VP(e,n)},["range","range"]),"overlaps before":wn(function(){throw il("overlaps before")},["any?"]),"overlaps after":wn(function(){throw il("overlaps after")},["any?"]),finishes:wn(function(){throw il("finishes")},["any?"]),"finished by":wn(function(){throw il("finished by")},["any?"]),includes:wn(function(){throw il("includes")},["any?"]),during:wn(function(){throw il("during")},["any?"]),starts:wn(function(){throw il("starts")},["any?"]),"started by":wn(function(){throw il("started by")},["any?"]),coincides:wn(function(){throw il("coincides")},["any?"]),"day of year":wn(function(n){return n.ordinal},["date time"]),"day of week":wn(function(n){return n.weekdayLong},["date time"]),"month of year":wn(function(n){return n.monthLong},["date time"]),"week of year":wn(function(n){return n.weekNumber},["date time"]),sort:wn(function(n,e){return Array.from(n).sort((t,r)=>e.invoke([t,r])?-1:1)},["list","function"]),"get value":wn(function(n,e){const t=x3(e,n);return t??null},["context","string"]),"get entries":wn(function(n){return arguments.length!==1||Array.isArray(n)?null:Object.entries(n).map(([e,t])=>({key:e,value:t}))},["context"]),context:nd(function(...n){const e=n.reduce((t,r)=>{if(t===vh||!["key","value"].every(o=>o in r))return vh;const i=r.key;return i===null||i in t?vh:Object.assign(Object.assign({},t),{[r.key]:r.value})},{});return e===vh?null:e},"context"),"context merge":nd(function(...n){return Object.assign({},...n)},"context"),"context put":wn(function(n,e,t,r){return typeof e>"u"&&typeof r>"u"?null:Ise(n,e||[r],t)},["context","list?","any","string?"],["context","keys","value","key"])};function Ise(n,e,t){const[r,...i]=e;return ja(r)!=="string"||ja(n)==="nil"||i.length&&(t=Ise(n[r],i,t),t===null)?null:Object.assign(Object.assign({},n),{[r]:t})}function bY(n,e){return n===e}const vh={};function Lse(n){const e=n.endsWith("?"),t=e?n.substring(0,n.length-1):n;return function(r){const i=Array.isArray(r);if(t==="list")return i||e&&typeof r>"u"?r:r===null?vh:[r];t!=="any"&&i&&r.length===1&&(r=r[0]);const o=ja(r);return t==="any"||t===o?e||typeof r<"u"?r:vh:o==="nil"?e?r:vh:T5e(r,t)||vh}}function P5e(n){const e=n.map(Lse);return function(t){for(;t.length<n.length;)t.push(void 0);return t.reduce((r,i,o)=>{if(r===!1)return r;const a=e[o],c=a?a(i):i;return c===vh?!1:(r.push(c),r)},[])}}function nd(n,e,t=null){const r=Lse(e),i=function(...o){return o.length===0||(Array.isArray(o[0])&&o.length===1&&(o=o[0]),!o.every(a=>r(a)!==vh))?null:n(...o)};return i.$args=t||s7(n),i}function wn(n,e,t=null){const r=P5e(e);t=t||s7(n);const i=function(...o){const a=r(o);return a?n(...a):null};return i.$args=t,i}function xY(n,e){return[n.end===e.start,n["end included"]===!0,e["start included"]===!0].every(t=>t)}function VP(n,e){return n instanceof pd&&e instanceof pd?n.end<e.start||(!n["end included"]||!e["start included"])&&n.end==e.start:n instanceof pd?n.end<e||!n["end included"]&&n.end===e:e instanceof pd?e.start>n||!e["start included"]&&e.start===n:n<e}function wY(n){return n.reduce((e,t)=>e===null?t:e+t,null)}function L6([n,...e]){return n!==void 0?[...Array.isArray(n)?L6(n):[n],...L6(e)]:[]}function M5e(n){return typeof n=="string"&&/\W/.test(n)?a7(n,!0):n}function _Y(n){return a7(n,!0)}function D5e(n){return n.replace(/("|\\)/g,"\\$1")}function a7(n,e=!1){var t,r,i,o;const a=ja(n);if(a==="nil")return"null";if(a==="string")return e?`"${D5e(n)}"`:n;if(a==="boolean"||a==="number")return String(n);if(a==="list")return"["+n.map(_Y).join(", ")+"]";if(a==="context")return"{"+Object.entries(n).map(([c,u])=>M5e(c)+": "+_Y(u)).join(", ")+"}";if(a==="duration")return n.shiftTo("years","months","days","hours","minutes","seconds").normalize().toISO();if(a==="date time")return n.zone===Ru.instance?n.toISO({suppressMilliseconds:!0,includeOffset:!1}):!((t=n.zone)===null||t===void 0)&&t.zoneName?n.toISO({suppressMilliseconds:!0,includeOffset:!1})+"@"+((r=n.zone)===null||r===void 0?void 0:r.zoneName):n.toISO({suppressMilliseconds:!0});if(a==="date")return n.toISODate();if(a==="range")return"<range>";if(a==="time")return n.zone===Ru.instance?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1}):!((i=n.zone)===null||i===void 0)&&i.zoneName?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1})+"@"+((o=n.zone)===null||o===void 0?void 0:o.zoneName):n.toISOTime({suppressMilliseconds:!0});if(a==="function")return"<function>";throw il("string("+a+")")}function N5e(n){return n.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}function EY(n){const e=Math.floor(n);return n-e===.5?e%2===0?e:e+1:Math.round(n)}function I5e(n){const e=n.length,t=n.reduce((r,i)=>r+i)/e;return Math.sqrt(n.map(r=>Math.pow(r-t,2)).reduce((r,i)=>r+i)/(e-1))}function L5e(n,e,t){return Ym(e)?[...n.slice(0,e-1),t,...n.slice(e)]:n.map((r,i)=>e.invoke([r,t])?t:r)}function F5e(n){const e=n.length,t=n.slice().sort(),r=e/2-1,i=Math.ceil(r);return r===i?(t[i]+t[i+1])/2:t[i]}function $5e(n){if(n.length<2)return n;const e={};for(const r of n)e[r]=(e[r]||0)+1;const t=Object.entries(e).sort((r,i)=>i[1]-r[1]);return t.filter(r=>r[1]===t[0][1]).map(r=>+r[0])}function mw(n){return n.isValid?n:null}function B5e(n,e){const t=n.replace(/[smix]/g,"");if(t)throw new Error("illegal flags: "+t);if(/x/.test(n))throw il("matches <x> flag");return n+e}function q4(n,e,t=""){try{return new RegExp(n,"u"+B5e(e,t))}catch(r){if(A5e(r))throw r}return null}function Fse(n,e={},t){return TE.configure({top:"Expression",contextTracker:OE(e),dialect:t}).parse(n)}function $se(n,e={},t){return TE.configure({top:"UnaryTests",contextTracker:OE(e),dialect:t}).parse(n)}let j5e=class extends Error{constructor(e,t){super(e),Object.assign(this,t)}},V5e=class{_buildExecutionTree(e,t){const r={args:[],nodeInput:t},i=[r];return e.iterate({enter(o){const{isError:a,isSkipped:c}=o.type,{from:u,to:h}=o;if(a){const{from:v,to:_,message:k}=nIe(o);throw new j5e(k,{input:t.slice(v,_),position:{from:v,to:_}})}if(c)return!1;const m=t.slice(u,h);i.push({nodeInput:m,args:[]})},leave(o){if(o.type.isSkipped)return;const{nodeInput:a,args:c}=i.pop(),u=i[i.length-1],h=W5e(o,a,c);u.args.push(h)}}),r.args[r.args.length-1]}evaluate(e,t={},r){const i=Fse(e,t,r),o=this._buildExecutionTree(i,e);return{parseTree:i,root:o}}unaryTest(e,t={},r){const i=$se(e,t,r),o=this._buildExecutionTree(i,e);return{parseTree:i,root:o}}};const Bse=new V5e;function z5e(n,e={},t){const r=e["?"]!==void 0?e["?"]:null,{root:i}=Bse.unaryTest(n,e,t);return i(e)(r)}function H5e(n,e={},t){const{root:r}=Bse.evaluate(n,e,t);return r(e)}function W5e(n,e,t){switch(n.name){case"ArithOp":return r=>{const i=(o,a=["number"])=>(c,u)=>{const h=c(r),m=u(r);if(yh(h)||yh(m))return null;const v=ja(h),_=ja(m),k=["date","time","date time","duration"];if(k.includes(v)){if(!k.includes(_))return null}else if(v!==_||!a.includes(v))return null;return o(h,m)};switch(e){case"+":return i((o,a)=>{if(oh(o)&&!oh(a)){const c=o;o=a,a=c}return I6(o,"time")&&oh(a)?o.plus(a).set({year:1900,month:1,day:1}):dd(o)&&dd(a)?null:dd(o)&&oh(a)||oh(o)&&oh(a)?o.plus(a):o+a},["string","number","date","time","duration","date time"]);case"-":return i((o,a)=>I6(o,"time")&&oh(a)?o.minus(a).set({year:1900,month:1,day:1}):dd(o)&&dd(a)?o.diff(a):dd(o)&&oh(a)||oh(o)&&oh(a)?o.minus(a):o-a,["number","date","time","duration","date time"]);case"*":return i((o,a)=>o*a);case"/":return i((o,a)=>a?o/a:null);case"**":case"^":return i((o,a)=>Math.pow(o,a))}};case"CompareOp":return fu(()=>{switch(e){case">":return r=>f1(r,null,!1,!1);case">=":return r=>f1(r,null,!0,!1);case"<":return r=>f1(null,r,!1,!1);case"<=":return r=>f1(null,r,!1,!0);case"=":return r=>i=>_v(i,r);case"!=":return r=>i=>!_v(i,r)}},h1("boolean"));case"BacktickIdentifier":return e.replace(/`/g,"");case"Wildcard":return r=>!0;case"null":return r=>null;case"Disjunction":return fu(r=>{const i=t[0](r),o=t[2](r),a=[[!0,!0,!0],[!0,!1,!0],[!0,null,!0],[!1,!0,!0],[!1,!1,!1],[!1,null,null],[null,!0,!0],[null,!1,null],[null,null,null]],c=typeof i=="boolean"?i:null,u=typeof o=="boolean"?o:null;return a.find(h=>h[0]===c&&h[1]===u)[2]},h1("boolean"));case"Conjunction":return fu(r=>{const i=t[0](r),o=t[2](r),a=[[!0,!0,!0],[!0,!1,!1],[!0,null,null],[!1,!0,!1],[!1,!1,!1],[!1,null,!1],[null,!0,null],[null,!1,!1],[null,null,null]],c=typeof i=="boolean"?i:null,u=typeof o=="boolean"?o:null;return a.find(h=>h[0]===c&&h[1]===u)[2]},h1("boolean"));case"Context":return r=>t.slice(1,-1).reduce((i,o)=>{const[a,c]=o(Object.assign(Object.assign({},r),i));return Object.assign(Object.assign({},i),{[a]:c})},{});case"FunctionBody":return t[0];case"FormalParameters":return t;case"FormalParameter":return t[0];case"ParameterName":return t.join(" ");case"FunctionDefinition":return r=>{const i=t[2],o=t[4];return WP((...a)=>{const c=i.reduce((u,h,m)=>(u[h]=a[m],u),Object.assign({},r));return o(c)},i)};case"ContextEntry":return r=>{const i=typeof t[0]=="function"?t[0](r):t[0],o=t[1](r);return[i,o]};case"Key":return t[0];case"Identifier":return e;case"SpecialFunctionName":return r=>zP(e);case"Name":return e.replace(/\s{2,}/g," ");case"VariableName":return r=>{const i=t.join(" "),o=x3(i,r);return typeof o<"u"?o:zP(i)||null};case"QualifiedName":return r=>t.reduce((i,o)=>o(i),r);case"?":return r=>x3("?",r);case"IterationContext":return r=>{const i=t[0](r),o=t[1]&&t[1](r);return o?f1(i,o):i};case"Type":return t[0];case"InExpressions":return r=>{const i=h=>!(h===null||h.some(m=>ja(m)==="nil")),o=(h,m)=>[].concat(...h.map(v=>{const _=m(Object.assign(Object.assign({},r),v));return i(_)?_.map(k=>Object.assign(Object.assign({},v),k)):null})),a=(h,m,...v)=>i(h)?m?a(o(h,m),...v):h:null,u=(h=>{const[m,...v]=h,_=m(r);return a(_,...v)})(t);return u&&u.map(h=>Object.assign(Object.assign({},r),h))};case"InExpression":return r=>q5e(r,t[0],t[2]);case"SpecialType":throw il("SpecialType");case"InstanceOfExpression":return fu(r=>{const i=t[0](r),o=t[3](r);return i instanceof o},h1("boolean"));case"every":return fu(r=>(i,o)=>{const a=i(r);return ja(a)!=="list"?a:a.every(c=>HP(o(c)))},h1("boolean"));case"some":return fu(r=>(i,o)=>{const a=i(r);return ja(a)!=="list"?a:a.some(c=>HP(o(c)))},h1("boolean"));case"NumericLiteral":return fu(r=>e.includes(".")?parseFloat(e):parseInt(e),"number");case"BooleanLiteral":return fu(r=>e==="true","boolean");case"StringLiteral":return fu(r=>tIe(e),"string");case"PositionalParameters":return r=>t.map(i=>i(r));case"NamedParameter":return r=>{const i=t[0],o=t[1](r);return[i,o]};case"NamedParameters":return r=>t.reduce((i,o)=>{const[a,c]=o(r);return i[a]=c,i},{});case"DateTimeConstructor":return r=>zP(e);case"DateTimeLiteral":return r=>{if(t.length===1)return t[0](r);{const i=WP(t[0](r));if(!i)return null;const o=t[2](r);return i.invoke(o)}};case"AtLiteral":return r=>{const i=WP(zP("@"));return i?i.invoke([t[0](r)]):null};case"FunctionInvocation":return r=>{const i=WP(t[0](r));if(!i)return null;const o=t[2](r);return i.invoke(o)};case"IfExpression":return function(){const r=t[1],i=t[3],o=t[5],a=SY(i,o);return fu(c=>HP(r(c))?i(c):o?o(c):null,a)}();case"Parameters":return t.length===3?t[1]:r=>[];case"Comparison":return r=>{const i=t[1];if(i==="in")return U5e(t[0](r),(t[3]||t[2])(r));if(i==="between"){const u=t[2](r),h=t[4](r);return u===null||h===null?null:f1(u,h).includes(t[0](r))}const o=t[0](r),a=t[2](r),c=i()(a);return F6(c,o)};case"QuantifiedExpression":return r=>{const i=t[0](r),o=t[1],a=t[3];return i(o,a)};case"ForExpression":return r=>{const i=t[t.length-1],o=t[1](r);if(ja(o)!=="list")return o;const a=[];for(const c of o)a.push(i(Object.assign(Object.assign({},c),{partial:a})));return a};case"ArithmeticExpression":return function(){if(t.length===3){const[r,i,o]=t;return fu(a=>i(a)(r,o),SY(r,o))}if(t.length===2){const[r,i]=t;return fu(o=>r(o)(()=>0,i),i.type)}}();case"PositiveUnaryTest":return t[0];case"ParenthesizedExpression":return t[1];case"PathExpression":return r=>{const i=t[0](r),o=t[1];return yh(i)?i.map(o):o(i)};case"FilterExpression":return r=>{const i=t[0](r),o=t[2],a=yh(i)?i:[i];if(i===null)return null;if(typeof o.type>"u")try{const c=o(r);Ym(c)&&(o.type="number")}catch{}if(o.type==="number"){const c=o(r),u=a[c<0?a.length+c:c-1];return typeof u>"u"?null:u}if(o.type==="boolean")return o(r)?a:[];if(o.type==="string"){const c=o(r);return a.filter(u=>u===c)}return a.map(c=>{const u=Object.assign(Object.assign(Object.assign({},r),{item:c}),c);let h=o(u);return typeof h=="function"&&(h=h(c)),h instanceof pd&&(h=h.includes(c)),h===!0?c:h}).filter(HP)};case"SimplePositiveUnaryTest":return fu(r=>t.length===1?t[0](r):t[0](r)(t[1](r)),"test");case"List":return r=>t.slice(1,-1).map(i=>i(r));case"Interval":return fu(r=>{const i=t[1](r),o=t[2](r),a=i!==null&&t[0]==="[",c=o!==null&&t[3]==="]";return f1(i,o,a,c)},h1("boolean"));case"PositiveUnaryTests":case"Expressions":return r=>t.map(i=>i(r));case"Expression":return r=>t[0](r);case"UnaryTests":return r=>(i=null)=>{const o=t[0]==="not",c=(o?t.slice(2,-1):t).map(u=>u(r)).flat(1).map(u=>yh(u)?u.includes(i):u===null?null:typeof u=="boolean"?u:F6(u,i)).reduce(eIe,void 0);return c===null?null:o?!c:c};default:return n.name}}function zP(n,e){return x3(n,R5e)}function q5e(n,e,t){const r=t(n);return["list","range"].includes(ja(r))?r.map(i=>({[e]:i})):null}function U5e(n,e){if(!yh(e)){if(ja(e)==="nil")return null;e=[e]}return e.some(t=>F6(t,n))}function F6(n,e){return typeof n=="function"?n(e):n instanceof pd?n.includes(e):_v(n,e)}const b2=Array.from("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function gw(n,e){return e.some(t=>ja(t)===n)&&e.every(t=>t===null||ja(t)===n)}const G5e=new pd({start:null,end:null,"start included":!1,"end included":!1,map(){return[]},includes(){return null}});function f1(n,e,t=!0,r=!0){if(gw("string",[n,e]))return X5e(n,e,t,r);if(gw("number",[n,e]))return Z5e(n,e,t,r);if(gw("duration",[n,e]))return J5e(n,e,t,r);if(gw("time",[n,e])||gw("date time",[n,e])||gw("date",[n,e]))return Y4(n,e,t,r);if(n===null&&e===null)return G5e;throw new Error(`unsupported range: ${n}..${e}`)}function r5(){return()=>{throw new Error("unsupported range operation: map")}}function Y5e(n){return e=>n.map(e)}function Q5e(n){return e=>n.includes(e)}function K5e(n,e,t,r){const i=n>e?-1:1;return o=>{const a=[];for(let c=n;!(!(c===0&&!t)&&(c===e&&!r||(a.push(o(c)),c===e)));c+=i);return a}}function U4(n,e){return e?t=>n<=t:t=>n<t}function G4(n,e){return e?t=>n>=t:t=>n>t}function i5(n,e,t,r,i=o=>o){let o=[];return n===null&&e===null?()=>null:(n!==null&&e!==null?n>e?o=[U4(e,r),G4(n,t)]:o=[U4(n,t),G4(e,r)]:e!==null?o=[G4(e,r)]:n!==null&&(o=[U4(n,t)]),a=>a===null?null:o.every(c=>c(i(a))))}function X5e(n,e,t=!0,r=!0){if(n!==null&&!b2.includes(n))throw new Error("illegal range start: "+n);if(e!==null&&!b2.includes(e))throw new Error("illegal range end: "+e);let i;if(n!==null&&e!==null){let c=b2.indexOf(n),u=b2.indexOf(e);const h=c>u?-1:1;t===!1&&(c+=h),r===!1&&(u-=h),i=b2.slice(c,u+1)}const o=i?Y5e(i):r5(),a=i?Q5e(i):i5(n,e,t,r);return new pd({start:n,end:e,"start included":t,"end included":r,map:o,includes:a})}function Z5e(n,e,t,r){const i=n!==null&&e!==null?K5e(n,e,t,r):r5(),o=i5(n,e,t,r);return new pd({start:n,end:e,"start included":t,"end included":r,map:i,includes:o})}function J5e(n,e,t,r){const i=c=>c?Jr.fromDurationLike(c).toMillis():null,o=r5(),a=i5(i(n),i(e),t,r,i);return new pd({start:n,end:e,"start included":t,"end included":r,map:o,includes:a})}function Y4(n,e,t,r){const i=r5(),o=i5(n,e,t,r);return new pd({start:n,end:e,"start included":t,"end included":r,map:i,includes:o})}function SY(n,e){return!e||n.type===e.type?n.type:"any"}function fu(n,e){return Object.assign(n,{type:e,toString(){return`TaggedFunction[${e}] ${Function.prototype.toString.call(n)}`}})}function eIe(n,e){return n||e}function HP(n){return n!==!1&&n!==null}function h1(n){return`Test<${n}>`}function WP(n,e=null){return n?n instanceof ZM?n:n instanceof pd?new ZM(t=>n.includes(t),["value"]):typeof n!="function"?null:new ZM(n,e||s7(n)):null}function tIe(n){return n.startsWith('"')&&(n=n.slice(1)),n.endsWith('"')&&(n=n.slice(0,-1)),n.replace(/(\\")|(\\\\)|(\\n)|(\\r)|(\\t)|(\\u[a-fA-F0-9]{5,6})|((?:\\u[a-fA-F0-9]{1,4})+)/ig,function(e,...t){const[r,i,o,a,c,u,h]=t;if(r)return'"';if(o)return`
`;if(a)return"\r";if(c)return"	";if(i)return"\\";const m=/\\u([a-fA-F0-9]+)/ig;if(u){const v=m.exec(u);return String.fromCodePoint(parseInt(v[1],16))}if(h){const v=[];let _;for(;(_=m.exec(e))!==null;)v.push(parseInt(_[1],16));return String.fromCharCode(...v)}throw new Error("illegal match")})}function nIe(n){const e=n.node,t=e.parent;if(e.from!==e.to)return{from:e.from,to:e.to,message:`Unrecognized token in <${t.name}>`};const r=rIe(e);if(r)return{from:e.from,to:r.to,message:`Unrecognized token <${r.name}> in <${t.name}>`};{const i=t.enterUnfinishedNodesBefore(n.to);return{from:e.from,to:e.to,message:`Incomplete <${(i||t).name}>`}}}function rIe(n){const e=n.node;let t,r=e;do{if(t=r.nextSibling,t)return t;r=r.parent}while(r);return null}function iIe(n){return Object.getPrototypeOf(n)===Object.prototype}function fd(n){return pr.isDateTime(n)}function sh(n){return Jr.isDuration(n)}function sf(n){return Array.isArray(n)}function oIe(n){return typeof n=="boolean"}function Ea(n){return n==null?"nil":oIe(n)?"boolean":gO(n)?"number":S1(n)?"string":iIe(n)?"context":sf(n)?"list":sh(n)?"duration":fd(n)?n.year===1900&&n.month===1&&n.day===1?"time":n.hour===0&&n.minute===0&&n.second===0&&n.millisecond===0&&n.zone===qa.utcInstance?"date":"date time":n instanceof md?"range":n instanceof JM?"function":"literal"}function $6(n,e){return Ea(n)===e}function sIe(n,e){if(fd(n)){if(e==="time")return n.set({year:1900,month:1,day:1});if(e==="date")return n.setZone("utc",{keepLocalTime:!0}).startOf("day");if(e==="date time")return n}return null}let md=class{constructor(e){Object.assign(this,e)}};function gO(n){return typeof n=="number"}function S1(n){return typeof n=="string"}function Ev(n,e,t=!1){if(n===null&&e!==null||n!==null&&e===null)return!1;sf(n)&&n.length<2&&(n=n[0]),sf(e)&&e.length<2&&(e=e[0]);const r=Ea(n),i=Ea(e),o=["date time","time","date"];if(o.includes(r))return!o.includes(i)||r==="time"&&i!=="time"||i==="time"&&r!=="time"?null:t||n.zone===Ru.instance||e.zone===Ru.instance?n.equals(e):n.toUTC().valueOf()===e.toUTC().valueOf();if(r!==i)return null;if(r==="nil")return!0;if(r==="list")return n.length!==e.length?!1:n.every((a,c)=>Ev(a,e[c]));if(r==="duration")return Math.abs(n.as("days"))>180?Math.trunc(n.minus(e).as("months"))===0:Math.trunc(n.minus(e).as("seconds"))===0;if(r==="context"){const a=Object.entries(n),c=Object.entries(e);return a.length!==c.length?!1:a.every(([u,h])=>u in e&&Ev(h,e[u]))}return r==="range"?[[n.start,e.start],[n.end,e.end],[n["start included"],e["start included"]],[n["end included"],e["end included"]]].every(([a,c])=>a===c):n==e?!0:r===i?!1:null}class JM{constructor(e,t){this.fn=e,this.parameterNames=t}invoke(e){let t;if(sf(e)){if(t=e,t.length>this.parameterNames.length){const r=this.parameterNames[this.parameterNames.length-1];if(!r||!r.startsWith("..."))return null}}else{if(Object.keys(e).some(r=>!this.parameterNames.includes(r)&&!this.parameterNames.includes(`...${r}`)))return null;t=this.parameterNames.reduce((r,i)=>{if(i.startsWith("...")){i=i.slice(3);const o=e[i];return o?[...r,...sf(o)?o:[o]]:r}return[...r,e[i]]},[])}return this.fn.call(null,...t)}}function l7(n){if(Array.isArray(n.$args))return n.$args;const e=n.toString(),t=/^(?:[^(]*\s*)?\(([^)]+)?\)/.exec(e);if(!t)throw new Error("failed to parse params: "+e);const[r,i]=t;return i?i.split(",").map(o=>o.trim()):[]}function rl(n){return new Error(`not implemented: ${n}`)}function w3(n,e){if(["nil","boolean","number","string"].includes(Ea(e)))return;if(n in e)return e[n];const t=wv(n);if(t in e)return e[t];const r=Object.entries(e).find(([i])=>t===wv(i));if(r)return r[1]}function kY(n){return typeof n=="number"?Jr.fromMillis(n):Jr.fromISO(n)}function Zd(n=null,e=null,t=null){if(e){if(n)throw new Error("<str> and <time> provided");return Zd(`1900-01-01T${e}`,null)}if(typeof n=="string"){if(n.startsWith("-"))throw rl("negative date");if(!n.includes("T"))return Zd(n+"T00:00:00",null,t||qa.utcInstance);if(n.includes("@")){if(t)throw new Error("<zone> already provided");const[r,i]=n.split("@");return Zd(r,null,Bw.normalizeZone(i))}return pr.fromISO(n.toUpperCase(),{setZone:!0,zone:t})}return pr.now()}const aIe={number:_n(function(n,e,t){if(arguments.length!==3)return null;e&&(n=n.split(e).join("")),t&&t!=="."&&(n=n.split(".").join("#").split(t).join("."));const r=+n;return isNaN(r)?null:r},["string","string?","string?"],["from","grouping separator","decimal separator"]),string:_n(function(n){return n===null?null:c7(n)},["any"]),date:_n(function(n,e,t,r){!r&&!gO(n)&&(r=n,n=null);let i;return S1(r)&&(i=Zd(r)),fd(r)&&(i=r),n&&(i=Zd().setZone("utc").set({year:n,month:e,day:t})),i&&yw(i.setZone("utc").startOf("day"))||null},["any?","number?","number?","any?"]),"date and time":_n(function(n,e,t){let r;if(fd(n)&&fd(e)){const i=n.toLocal();r=e.set({year:i.year,month:i.month,day:i.day})}return S1(n)&&(t=n,n=null),S1(t)&&(r=Zd(t,null,t.includes("@")?null:Ru.instance)),r&&yw(r)||null},["any?","time?","string?"],["date","time","from"]),time:_n(function(n,e,t,r,i){let o;if(r)throw rl("time(..., offset)");return(S1(n)||fd(n))&&(i=n,n=null),S1(i)&&(o=Zd(null,i)),fd(i)&&(o=i.set({year:1900,month:1,day:1})),gO(n)&&(o=Zd().set({hour:n,minute:e,second:t}).set({year:1900,month:1,day:1,millisecond:0})),o&&yw(o)||null},["any?","number?","number?","any?","any?"]),duration:_n(function(n){return yw(kY(n))},["string"]),"years and months duration":_n(function(n,e){return yw(e.diff(n,["years","months"]))},["date","date"]),"@":_n(function(n){let e;return/^-?P/.test(n)?e=kY(n):/^[\d]{1,2}:[\d]{1,2}:[\d]{1,2}/.test(n)?e=Zd(null,n):e=Zd(n),e&&yw(e)||null},["string"]),now:_n(function(){return Zd()},[]),today:_n(function(){return Zd().startOf("day")},[]),not:_n(function(n){return $6(n,"boolean")?!n:null},["any"]),substring:_n(function(n,e,t){const r=e<0?n.length+e:e-1,i=Array.from(n);return(typeof t<"u"?i.slice(r,r+t):i.slice(r)).join("")},["string","number","number?"],["string","start position","length"]),"string length":_n(function(n){return dIe(n)},["string"]),"upper case":_n(function(n){return n.toUpperCase()},["string"]),"lower case":_n(function(n){return n.toLowerCase()},["string"]),"substring before":_n(function(n,e){const t=n.indexOf(e);return t===-1?"":n.substring(0,t)},["string","string"]),"substring after":_n(function(n,e){const t=n.indexOf(e);return t===-1?"":n.substring(t+e.length)},["string","string"]),replace:_n(function(n,e,t,r){return n.replace(new RegExp(e,"ug"+(r||"").replace(/[x]/g,"")),t.replace(/\$0/g,"$$&"))},["string","string","string","string?"]),contains:_n(function(n,e){return n.includes(e)},["string","string"]),matches:_n(function(n,e,t){throw rl("matches")},["string","string","string?"]),"starts with":_n(function(n,e){return n.startsWith(e)},["string","string"]),"ends with":_n(function(n,e){return n.endsWith(e)},["string","string"]),split:_n(function(n,e){return n.split(new RegExp(e,"u"))},["string","string"]),"string join":_n(function(n,e){return n.some(t=>!S1(t)&&t!==null)?null:n.filter(t=>t!==null).join(e||"")},["list","string?"]),"list contains":_n(function(n,e){return n.some(t=>CY(t,e))},["list","any?"]),"list replace":_n(function(n,e,t,r){const i=e||r;return["number","function"].includes(Ea(i))?hIe(n,e||r,t):null},["list","any?","any","function?"]),count:_n(function(n){return n.length},["list"]),min:rd(function(...n){return n.reduce((e,t)=>e===null?t:Math.min(e,t),null)},"number"),max:rd(function(...n){return n.reduce((e,t)=>e===null?t:Math.max(e,t),null)},"number"),sum:rd(function(...n){return TY(n)},"number"),mean:rd(function(...n){const e=TY(n);return e===null?e:e/n.length},"number"),all:rd(function(...n){let e=!1;for(const t of n){if(t===!1)return!1;typeof t!="boolean"&&(e=!0)}return e?null:!0},"any?"),any:rd(function(...n){let e=!1;for(const t of n){if(t===!0)return!0;typeof t!="boolean"&&(e=!0)}return e?null:!1},"any?"),sublist:_n(function(n,e,t){const r=e<0?n.length+e:e-1;return typeof t<"u"?n.slice(r,r+t):n.slice(r)},["list","number","number?"]),append:_n(function(n,...e){return n.concat(e)},["list","any?"]),concatenate:_n(function(...n){return n.reduce((e,t)=>e.concat(t),[])},["any"]),"insert before":_n(function(n,e,t){return n.slice(0,e-1).concat([t],n.slice(e-1))},["list","number","any?"]),remove:_n(function(n,e){return n.slice(0,e-1).concat(n.slice(e))},["list","number"]),reverse:_n(function(n){return n.slice().reverse()},["list"]),"index of":_n(function(n,e){return n.reduce(function(t,r,i){return CY(r,e)&&t.push(i+1),t},[])},["list","any"]),union:rd(function(...n){return n.reduce((e,t)=>t.reduce((r,i)=>(r.some(o=>Ev(i,o))||r.push(i),r),e),[])},"list"),"distinct values":_n(function(n){return n.reduce((e,t)=>(e.some(r=>Ev(t,r))||e.push(t),e),[])},["list"]),flatten:_n(function(n){return B6(n)},["list"]),product:rd(function(...n){return n.length===0?null:n.reduce((e,t)=>e*t,1)},"number"),median:rd(function(...n){return n.length===0?null:pIe(n)},"number"),stddev:rd(function(...n){return n.length<2?null:fIe(n)},"number"),mode:rd(function(...n){return mIe(n)},"number"),decimal:_n(function(n,e){if(!e)return RY(n);const t=Math.pow(10,e);return RY(n*t)/t},["number","number"]),floor:_n(function(n,e=0){if(e===null)return null;const t=Math.pow(10,e);return Math.floor(n*t)/t},["number","number?"]),ceiling:_n(function(n,e=0){if(e===null)return null;const t=Math.pow(10,e);return Math.ceil(n*t)/t},["number","number?"]),abs:_n(function(n){return typeof n!="number"?null:Math.abs(n)},["number"]),"round up":_n(function(n,e){throw rl("round up")},["number","number"]),"round down":_n(function(n,e){throw rl("round down")},["number","number"]),"round half up":_n(function(n,e){throw rl("round half up")},["number","number"]),"round half down":_n(function(n,e){throw rl("round half down")},["number","number"]),modulo:_n(function(n,e){if(!e)return null;const t=1e9;return Math.round((n%e+e)%e*t)/t},["number","number"]),sqrt:_n(function(n){return n<0?null:Math.sqrt(n)},["number"]),log:_n(function(n){return n<=0?null:Math.log(n)},["number"]),exp:_n(function(n){return Math.exp(n)},["number"]),odd:_n(function(n){return Math.abs(n)%2===1},["number"]),even:_n(function(n){return Math.abs(n)%2===0},["number"]),is:_n(function(n,e){return typeof n>"u"||typeof e>"u"?!1:Ev(n,e,!0)},["any?","any?"]),before:_n(function(n,e){return qP(n,e)},["any","any"]),after:_n(function(n,e){return qP(e,n)},["any","any"]),meets:_n(function(n,e){return OY(n,e)},["range","range"]),"met by":_n(function(n,e){return OY(e,n)},["range","range"]),overlaps:_n(function(n,e){return!qP(n,e)&&!qP(e,n)},["range","range"]),"overlaps before":_n(function(){throw rl("overlaps before")},["any?"]),"overlaps after":_n(function(){throw rl("overlaps after")},["any?"]),finishes:_n(function(){throw rl("finishes")},["any?"]),"finished by":_n(function(){throw rl("finished by")},["any?"]),includes:_n(function(){throw rl("includes")},["any?"]),during:_n(function(){throw rl("during")},["any?"]),starts:_n(function(){throw rl("starts")},["any?"]),"started by":_n(function(){throw rl("started by")},["any?"]),coincides:_n(function(){throw rl("coincides")},["any?"]),"day of year":_n(function(n){return n.ordinal},["date time"]),"day of week":_n(function(n){return n.weekdayLong},["date time"]),"month of year":_n(function(n){return n.monthLong},["date time"]),"week of year":_n(function(n){return n.weekNumber},["date time"]),sort:_n(function(n,e){return Array.from(n).sort((t,r)=>e.invoke([t,r])?-1:1)},["list","function"]),"get value":_n(function(n,e){const t=w3(e,n);return t??null},["context","string"]),"get entries":_n(function(n){return arguments.length!==1||Array.isArray(n)?null:Object.entries(n).map(([e,t])=>({key:e,value:t}))},["context"]),context:rd(function(...n){const e=n.reduce((t,r)=>{if(t===bh||!["key","value"].every(o=>o in r))return bh;const i=r.key;return i===null||i in t?bh:Object.assign(Object.assign({},t),{[r.key]:r.value})},{});return e===bh?null:e},"context"),"context merge":rd(function(...n){return Object.assign({},...n)},"context"),"context put":_n(function(n,e,t,r){return typeof e>"u"&&typeof r>"u"?null:jse(n,e||[r],t)},["context","list?","any","string?"],["context","keys","value","key"])};function jse(n,e,t){const[r,...i]=e;return Ea(r)!=="string"||Ea(n)==="nil"||i.length&&(t=jse(n[r],i,t),t===null)?null:Object.assign(Object.assign({},n),{[r]:t})}function CY(n,e){return n===e}const bh={};function Vse(n){const e=n.endsWith("?"),t=e?n.substring(0,n.length-1):n;return function(r){const i=Array.isArray(r);if(t==="list")return i||e&&typeof r>"u"?r:r===null?bh:[r];t!=="any"&&i&&r.length===1&&(r=r[0]);const o=Ea(r);return t==="any"||t===o?e||typeof r<"u"?r:bh:o==="nil"?e?r:bh:sIe(r,t)||bh}}function lIe(n){const e=n.map(Vse);return function(t){for(;t.length<n.length;)t.push(void 0);return t.reduce((r,i,o)=>{if(r===!1)return r;const a=e[o],c=a?a(i):i;return c===bh?!1:(r.push(c),r)},[])}}function rd(n,e,t=null){const r=Vse(e),i=function(...o){return o.length===0||(Array.isArray(o[0])&&o.length===1&&(o=o[0]),!o.every(a=>r(a)!==bh))?null:n(...o)};return i.$args=t||l7(n),i}function _n(n,e,t=null){const r=lIe(e);t=t||l7(n);const i=function(...o){const a=r(o);return a?n(...a):null};return i.$args=t,i}function OY(n,e){return[n.end===e.start,n["end included"]===!0,e["start included"]===!0].every(t=>t)}function qP(n,e){return n instanceof md&&e instanceof md?n.end<e.start||(!n["end included"]||!e["start included"])&&n.end==e.start:n instanceof md?n.end<e||!n["end included"]&&n.end===e:e instanceof md?e.start>n||!e["start included"]&&e.start===n:n<e}function TY(n){return n.reduce((e,t)=>e===null?t:e+t,null)}function B6([n,...e]){return n!==void 0?[...Array.isArray(n)?B6(n):[n],...B6(e)]:[]}function cIe(n){return typeof n=="string"&&/\W/.test(n)?c7(n,!0):n}function AY(n){return c7(n,!0)}function uIe(n){return n.replace(/("|\\)/g,"\\$1")}function c7(n,e=!1){var t,r,i,o;const a=Ea(n);if(a==="nil")return"null";if(a==="string")return e?`"${uIe(n)}"`:n;if(a==="boolean"||a==="number")return String(n);if(a==="list")return"["+n.map(AY).join(", ")+"]";if(a==="context")return"{"+Object.entries(n).map(([c,u])=>cIe(c)+": "+AY(u)).join(", ")+"}";if(a==="duration")return n.shiftTo("years","months","days","hours","minutes","seconds").normalize().toISO();if(a==="date time")return n.zone===Ru.instance?n.toISO({suppressMilliseconds:!0,includeOffset:!1}):!((t=n.zone)===null||t===void 0)&&t.zoneName?n.toISO({suppressMilliseconds:!0,includeOffset:!1})+"@"+((r=n.zone)===null||r===void 0?void 0:r.zoneName):n.toISO({suppressMilliseconds:!0});if(a==="date")return n.toISODate();if(a==="range")return"<range>";if(a==="time")return n.zone===Ru.instance?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1}):!((i=n.zone)===null||i===void 0)&&i.zoneName?n.toISOTime({suppressMilliseconds:!0,includeOffset:!1})+"@"+((o=n.zone)===null||o===void 0?void 0:o.zoneName):n.toISOTime({suppressMilliseconds:!0});if(a==="function")return"<function>";throw rl("string("+a+")")}function dIe(n){return n.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}function RY(n){const e=Math.floor(n);return n-e===.5?e%2===0?e:e+1:Math.round(n)}function fIe(n){const e=n.length,t=n.reduce((r,i)=>r+i)/e;return Math.sqrt(n.map(r=>Math.pow(r-t,2)).reduce((r,i)=>r+i)/(e-1))}function hIe(n,e,t){return gO(e)?[...n.slice(0,e-1),t,...n.slice(e)]:n.map((r,i)=>e.invoke([r,t])?t:r)}function pIe(n){const e=n.length,t=n.slice().sort(),r=e/2-1,i=Math.ceil(r);return r===i?(t[i]+t[i+1])/2:t[i]}function mIe(n){if(n.length<2)return n;const e={};for(const r of n)e[r]=(e[r]||0)+1;const t=Object.entries(e).sort((r,i)=>i[1]-r[1]);return t.filter(r=>r[1]===t[0][1]).map(r=>+r[0])}function yw(n){return n.isValid?n:null}function gIe(n,e={},t){return TE.configure({top:"Expression",contextTracker:OE(e),dialect:t}).parse(n)}function yIe(n,e={},t){return TE.configure({top:"UnaryTests",contextTracker:OE(e),dialect:t}).parse(n)}let vIe=class extends Error{constructor(e,t){super(e),Object.assign(this,t)}};class bIe{_buildExecutionTree(e,t){const r={args:[],nodeInput:t},i=[r];return e.iterate({enter(o){const{isError:a,isSkipped:c}=o.type,{from:u,to:h}=o;if(a){const{from:v,to:_,message:k}=NIe(o);throw new vIe(k,{input:t.slice(v,_),position:{from:v,to:_}})}if(c)return!1;const m=t.slice(u,h);i.push({nodeInput:m,args:[]})},leave(o){if(o.type.isSkipped)return;const{nodeInput:a,args:c}=i.pop(),u=i[i.length-1],h=wIe(o,a,c);u.args.push(h)}}),r.args[r.args.length-1]}evaluate(e,t={},r){const i=gIe(e,t,r),o=this._buildExecutionTree(i,e);return{parseTree:i,root:o}}unaryTest(e,t={},r){const i=yIe(e,t,r),o=this._buildExecutionTree(i,e);return{parseTree:i,root:o}}}const xIe=new bIe;function UP(n,e={},t){const{root:r}=xIe.evaluate(n,e,t);return r(e)}function wIe(n,e,t){switch(n.name){case"ArithOp":return r=>{const i=(o,a=["number"])=>(c,u)=>{const h=c(r),m=u(r);if(sf(h)||sf(m))return null;const v=Ea(h),_=Ea(m),k=["date","time","date time","duration"];if(k.includes(v)){if(!k.includes(_))return null}else if(v!==_||!a.includes(v))return null;return o(h,m)};switch(e){case"+":return i((o,a)=>{if(sh(o)&&!sh(a)){const c=o;o=a,a=c}return $6(o,"time")&&sh(a)?o.plus(a).set({year:1900,month:1,day:1}):fd(o)&&fd(a)?null:fd(o)&&sh(a)||sh(o)&&sh(a)?o.plus(a):o+a},["string","number","date","time","duration","date time"]);case"-":return i((o,a)=>$6(o,"time")&&sh(a)?o.minus(a).set({year:1900,month:1,day:1}):fd(o)&&fd(a)?o.diff(a):fd(o)&&sh(a)||sh(o)&&sh(a)?o.minus(a):o-a,["number","date","time","duration","date time"]);case"*":return i((o,a)=>o*a);case"/":return i((o,a)=>a?o/a:null);case"**":case"^":return i((o,a)=>Math.pow(o,a))}};case"CompareOp":return hu(()=>{switch(e){case">":return r=>p1(r,null,!1,!1);case">=":return r=>p1(r,null,!0,!1);case"<":return r=>p1(null,r,!1,!1);case"<=":return r=>p1(null,r,!1,!0);case"=":return r=>i=>Ev(i,r);case"!=":return r=>i=>!Ev(i,r)}},m1("boolean"));case"BacktickIdentifier":return e.replace(/`/g,"");case"Wildcard":return r=>!0;case"null":return r=>null;case"Disjunction":return hu(r=>{const i=t[0](r),o=t[2](r),a=[[!0,!0,!0],[!0,!1,!0],[!0,null,!0],[!1,!0,!0],[!1,!1,!1],[!1,null,null],[null,!0,!0],[null,!1,null],[null,null,null]],c=typeof i=="boolean"?i:null,u=typeof o=="boolean"?o:null;return a.find(h=>h[0]===c&&h[1]===u)[2]},m1("boolean"));case"Conjunction":return hu(r=>{const i=t[0](r),o=t[2](r),a=[[!0,!0,!0],[!0,!1,!1],[!0,null,null],[!1,!0,!1],[!1,!1,!1],[!1,null,!1],[null,!0,null],[null,!1,!1],[null,null,null]],c=typeof i=="boolean"?i:null,u=typeof o=="boolean"?o:null;return a.find(h=>h[0]===c&&h[1]===u)[2]},m1("boolean"));case"Context":return r=>t.slice(1,-1).reduce((i,o)=>{const[a,c]=o(Object.assign(Object.assign({},r),i));return Object.assign(Object.assign({},i),{[a]:c})},{});case"FunctionBody":return t[0];case"FormalParameters":return t;case"FormalParameter":return t[0];case"ParameterName":return t.join(" ");case"FunctionDefinition":return r=>{const i=t[2],o=t[4];return QP((...a)=>{const c=i.reduce((u,h,m)=>(u[h]=a[m],u),Object.assign({},r));return o(c)},i)};case"ContextEntry":return r=>{const i=typeof t[0]=="function"?t[0](r):t[0],o=t[1](r);return[i,o]};case"Key":return t[0];case"Identifier":return e;case"SpecialFunctionName":return r=>GP(e);case"Name":return e.replace(/\s{2,}/g," ");case"VariableName":return r=>{const i=t.join(" "),o=w3(i,r);return typeof o<"u"?o:GP(i)||null};case"QualifiedName":return r=>t.reduce((i,o)=>o(i),r);case"?":return r=>w3("?",r);case"IterationContext":return r=>{const i=t[0](r),o=t[1]&&t[1](r);return o?p1(i,o):i};case"Type":return t[0];case"InExpressions":return r=>{const i=t.map(o=>o(r));return i.some(o=>Ea(o)!=="list")?null:PIe(i).map(o=>(sf(o)||(o=[o]),Object.assign({},r,...o)))};case"InExpression":return r=>_Ie(r,t[0],t[2]);case"SpecialType":throw rl("SpecialType");case"InstanceOfExpression":return hu(r=>{const i=t[0](r),o=t[3](r);return i instanceof o},m1("boolean"));case"every":return hu(r=>(i,o)=>{const a=i(r);return Ea(a)!=="list"?a:a.every(c=>YP(o(c)))},m1("boolean"));case"some":return hu(r=>(i,o)=>{const a=i(r);return Ea(a)!=="list"?a:a.some(c=>YP(o(c)))},m1("boolean"));case"NumericLiteral":return hu(r=>e.includes(".")?parseFloat(e):parseInt(e),"number");case"BooleanLiteral":return hu(r=>e==="true","boolean");case"StringLiteral":return hu(r=>DIe(e),"string");case"PositionalParameters":return r=>t.map(i=>i(r));case"NamedParameter":return r=>{const i=t[0],o=t[1](r);return[i,o]};case"NamedParameters":return r=>t.reduce((i,o)=>{const[a,c]=o(r);return i[a]=c,i},{});case"DateTimeConstructor":return r=>GP(e);case"DateTimeLiteral":return r=>{if(t.length===1)return t[0](r);{const i=QP(t[0](r));if(!i)return null;const o=t[2](r);return i.invoke(o)}};case"AtLiteral":return r=>{const i=QP(GP("@"));return i?i.invoke([t[0](r)]):null};case"FunctionInvocation":return r=>{const i=QP(t[0](r));if(!i)return null;const o=t[2](r);return i.invoke(o)};case"IfExpression":return function(){const r=t[1],i=t[3],o=t[5],a=PY(i,o);return hu(c=>YP(r(c))?i(c):o?o(c):null,a)}();case"Parameters":return t.length===3?t[1]:r=>[];case"Comparison":return r=>{const i=t[1];if(i==="in")return EIe(t[0](r),(t[3]||t[2])(r));if(i==="between"){const u=t[2](r),h=t[4](r);return u===null||h===null?null:p1(u,h).includes(t[0](r))}const o=t[0](r),a=t[2](r),c=i()(a);return j6(c,o)};case"QuantifiedExpression":return r=>{const i=t[0](r),o=t[1],a=t[3];return i(o,a)};case"ForExpression":return r=>{const i=t[t.length-1],o=t[1](r);if(Ea(o)!=="list")return o;const a=[];for(const c of o)a.push(i(Object.assign(Object.assign({},c),{partial:a})));return a};case"ArithmeticExpression":return function(){if(t.length===3){const[r,i,o]=t;return hu(a=>i(a)(r,o),PY(r,o))}if(t.length===2){const[r,i]=t;return hu(o=>r(o)(()=>0,i),i.type)}}();case"PositiveUnaryTest":return t[0];case"ParenthesizedExpression":return t[1];case"PathExpression":return r=>{const i=t[0](r),o=t[1];return sf(i)?i.map(o):o(i)};case"FilterExpression":return r=>{const i=t[0](r),o=t[2],a=sf(i)?i:[i];if(i===null)return null;if(typeof o.type>"u")try{const c=o(r);gO(c)&&(o.type="number")}catch{}if(o.type==="number"){const c=o(r),u=a[c<0?a.length+c:c-1];return typeof u>"u"?null:u}if(o.type==="boolean")return o(r)?a:[];if(o.type==="string"){const c=o(r);return a.filter(u=>u===c)}return a.map(c=>{const u=Object.assign(Object.assign(Object.assign({},r),{item:c}),c);let h=o(u);return typeof h=="function"&&(h=h(c)),h instanceof md&&(h=h.includes(c)),h===!0?c:h}).filter(YP)};case"SimplePositiveUnaryTest":return hu(r=>t.length===1?t[0](r):t[0](r)(t[1](r)),"test");case"List":return r=>t.slice(1,-1).map(i=>i(r));case"Interval":return hu(r=>{const i=t[1](r),o=t[2](r),a=i!==null&&t[0]==="[",c=o!==null&&t[3]==="]";return p1(i,o,a,c)},m1("boolean"));case"PositiveUnaryTests":case"Expressions":return r=>t.map(i=>i(r));case"Expression":return r=>t[0](r);case"UnaryTests":return r=>(i=null)=>{const o=t[0]==="not",c=(o?t.slice(2,-1):t).map(u=>u(r)).flat(1).map(u=>sf(u)?u.includes(i):u===null?null:typeof u=="boolean"?u:j6(u,i)).reduce(MIe,void 0);return c===null?null:o?!c:c};default:return n.name}}function GP(n,e){return w3(n,aIe)}function _Ie(n,e,t){const r=t(n);return["list","range"].includes(Ea(r))?r.map(i=>({[e]:i})):null}function EIe(n,e){if(!sf(e)){if(Ea(e)==="nil")return null;e=[e]}return e.some(t=>j6(t,n))}function j6(n,e){return typeof n=="function"?n(e):n instanceof md?n.includes(e):Ev(n,e)}const x2=Array.from("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function vw(n,e){return e.some(t=>Ea(t)===n)&&e.every(t=>t===null||Ea(t)===n)}const SIe=new md({start:null,end:null,"start included":!1,"end included":!1,map(){return[]},includes(){return null}});function p1(n,e,t=!0,r=!0){if(vw("string",[n,e]))return TIe(n,e,t,r);if(vw("number",[n,e]))return AIe(n,e,t,r);if(vw("duration",[n,e]))return RIe(n,e,t,r);if(vw("time",[n,e])||vw("date time",[n,e])||vw("date",[n,e]))return X4(n,e,t,r);if(n===null&&e===null)return SIe;throw new Error(`unsupported range: ${n}..${e}`)}function o5(){return()=>{throw new Error("unsupported range operation: map")}}function kIe(n){return e=>n.map(e)}function CIe(n){return e=>n.includes(e)}function OIe(n,e,t,r){const i=n>e?-1:1;return o=>{const a=[];for(let c=n;!(!(c===0&&!t)&&(c===e&&!r||(a.push(o(c)),c===e)));c+=i);return a}}function Q4(n,e){return e?t=>n<=t:t=>n<t}function K4(n,e){return e?t=>n>=t:t=>n>t}function s5(n,e,t,r,i=o=>o){let o=[];return n===null&&e===null?()=>null:(n!==null&&e!==null?n>e?o=[Q4(e,r),K4(n,t)]:o=[Q4(n,t),K4(e,r)]:e!==null?o=[K4(e,r)]:n!==null&&(o=[Q4(n,t)]),a=>a===null?null:o.every(c=>c(i(a))))}function TIe(n,e,t=!0,r=!0){if(n!==null&&!x2.includes(n))throw new Error("illegal range start: "+n);if(e!==null&&!x2.includes(e))throw new Error("illegal range end: "+e);let i;if(n!==null&&e!==null){let c=x2.indexOf(n),u=x2.indexOf(e);const h=c>u?-1:1;t===!1&&(c+=h),r===!1&&(u-=h),i=x2.slice(c,u+1)}const o=i?kIe(i):o5(),a=i?CIe(i):s5(n,e,t,r);return new md({start:n,end:e,"start included":t,"end included":r,map:o,includes:a})}function AIe(n,e,t,r){const i=n!==null&&e!==null?OIe(n,e,t,r):o5(),o=s5(n,e,t,r);return new md({start:n,end:e,"start included":t,"end included":r,map:i,includes:o})}function RIe(n,e,t,r){const i=c=>c?Jr.fromDurationLike(c).toMillis():null,o=o5(),a=s5(i(n),i(e),t,r,i);return new md({start:n,end:e,"start included":t,"end included":r,map:o,includes:a})}function X4(n,e,t,r){const i=o5(),o=s5(n,e,t,r);return new md({start:n,end:e,"start included":t,"end included":r,map:i,includes:o})}function PIe(n){if(n.some(r=>Ea(r)==="nil"))return null;const e=(r,i)=>[].concat(...r.map(o=>i.map(a=>[].concat(o,a)))),t=(r,i,...o)=>i?t(e(r,i),...o):r||[];return t(...n)}function PY(n,e){return!e||n.type===e.type?n.type:"any"}function hu(n,e){return Object.assign(n,{type:e,toString(){return`TaggedFunction[${e}] ${Function.prototype.toString.call(n)}`}})}function MIe(n,e){return n||e}function YP(n){return n!==!1&&n!==null}function m1(n){return`Test<${n}>`}function QP(n,e=null){return n?n instanceof JM?n:n instanceof md?new JM(t=>n.includes(t),["value"]):typeof n!="function"?null:new JM(n,e||l7(n)):null}function DIe(n){return n.startsWith('"')&&(n=n.slice(1)),n.endsWith('"')&&(n=n.slice(0,-1)),n.replace(/(\\")|(\\\\)|(\\u[a-fA-F0-9]{5,6})|((?:\\u[a-fA-F0-9]{1,4})+)/ig,function(e,...t){const[r,i,o,a]=t;if(r)return'"';if(i)return"\\";const c=/\\u([a-fA-F0-9]+)/ig;if(o){const u=c.exec(o);return String.fromCodePoint(parseInt(u[1],16))}if(a){const u=[];let h;for(;(h=c.exec(e))!==null;)u.push(parseInt(h[1],16));return String.fromCharCode(...u)}throw new Error("illegal match")})}function NIe(n){const e=n.node,t=e.parent;if(e.from!==e.to)return{from:e.from,to:e.to,message:`Unrecognized token in <${t.name}>`};const r=IIe(e);if(r)return{from:e.from,to:r.to,message:`Unrecognized token <${r.name}> in <${t.name}>`};{const i=t.enterUnfinishedNodesBefore(n.to);return{from:e.from,to:e.to,message:`Incomplete <${(i||t).name}>`}}}function IIe(n){const e=n.node;let t,r=e;do{if(t=r.nextSibling,t)return t;r=r.parent}while(r);return null}let V6=[],zse=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?zse:V6).push(t=t+n[e])})();function LIe(n){if(n<768)return!1;for(let e=0,t=V6.length;;){let r=e+t>>1;if(n<V6[r])t=r;else if(n>=zse[r])e=r+1;else return!0;if(e==t)return!1}}function MY(n){return n>=127462&&n<=127487}const DY=8205;function FIe(n,e,t=!0,r=!0){return(t?Hse:$Ie)(n,e,r)}function Hse(n,e,t){if(e==n.length)return e;e&&Wse(n.charCodeAt(e))&&qse(n.charCodeAt(e-1))&&e--;let r=Z4(n,e);for(e+=NY(r);e<n.length;){let i=Z4(n,e);if(r==DY||i==DY||t&&LIe(i))e+=NY(i),r=i;else if(MY(i)){let o=0,a=e-2;for(;a>=0&&MY(Z4(n,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function $Ie(n,e,t){for(;e>0;){let r=Hse(n,e-2,t);if(r<e)return r;e--}return 0}function Z4(n,e){let t=n.charCodeAt(e);if(!qse(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return Wse(r)?(t-55296<<10)+(r-56320)+65536:t}function Wse(n){return n>=56320&&n<57344}function qse(n){return n>=55296&&n<56320}function NY(n){return n<65536?1:2}let Qi=class Use{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=q_(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),Dp.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=q_(this,e,t);let r=[];return this.decompose(e,t,r,0),Dp.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new hC(this),o=new hC(e);for(let a=t,c=t;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(c+=i.value.length,i.done||c>=r)return!0}}iter(e=1){return new hC(this,e)}iterRange(e,t=this.length){return new Gse(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Yse(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Use.empty:e.length<=32?new aa(e):Dp.from(aa.split(e,[]))}};class aa extends Qi{constructor(e,t=BIe(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let a=this.text[o],c=i+a.length;if((t?r:c)>=e)return new jIe(i,c,r,a);i=c+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new aa(IY(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),c=eD(o.text,a.text.slice(),0,o.length);if(c.length<=32)r.push(new aa(c,a.length+o.length));else{let u=c.length>>1;r.push(new aa(c.slice(0,u)),new aa(c.slice(u)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof aa))return super.replace(e,t,r);[e,t]=q_(this,e,t);let i=eD(this.text,eD(r.text,IY(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new aa(i,o):Dp.from(aa.split(i,[]),o)}sliceString(e,t=this.length,r=`
`){[e,t]=q_(this,e,t);let i="";for(let o=0,a=0;o<=t&&a<this.text.length;a++){let c=this.text[a],u=o+c.length;o>e&&a&&(i+=r),e<u&&t>o&&(i+=c.slice(Math.max(0,e-o),t-o)),o=u+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new aa(r,i)),r=[],i=-1);return i>-1&&t.push(new aa(r,i)),t}}class Dp extends Qi{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let a=this.children[o],c=i+a.length,u=r+a.lines-1;if((t?u:c)>=e)return a.lineInner(e,t,r,i);i=c+1,r=u+1}}decompose(e,t,r,i){for(let o=0,a=0;a<=t&&o<this.children.length;o++){let c=this.children[o],u=a+c.length;if(e<=u&&t>=a){let h=i&((a<=e?1:0)|(u>=t?2:0));a>=e&&u<=t&&!h?r.push(c):c.decompose(e-a,t-a,r,h)}a=u+1}}replace(e,t,r){if([e,t]=q_(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],c=o+a.length;if(e>=o&&t<=c){let u=a.replace(e-o,t-o,r),h=this.lines-a.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let m=this.children.slice();return m[i]=u,new Dp(m,this.length-(t-e)+r.length)}return super.replace(o,c,u)}o=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=q_(this,e,t);let i="";for(let o=0,a=0;o<this.children.length&&a<=t;o++){let c=this.children[o],u=a+c.length;a>e&&o&&(i+=r),e<u&&t>a&&(i+=c.sliceString(e-a,t-a,r)),a=u+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Dp))return 0;let r=0,[i,o,a,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==a||o==c)return r;let u=this.children[i],h=e.children[o];if(u!=h)return r+u.scanIdentical(h,t);r+=u.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let k of e)r+=k.lines;if(r<32){let k=[];for(let R of e)R.flatten(k);return new aa(k,t)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,c=[],u=0,h=-1,m=[];function v(k){let R;if(k.lines>o&&k instanceof Dp)for(let T of k.children)v(T);else k.lines>a&&(u>a||!u)?(_(),c.push(k)):k instanceof aa&&u&&(R=m[m.length-1])instanceof aa&&k.lines+R.lines<=32?(u+=k.lines,h+=k.length+1,m[m.length-1]=new aa(R.text.concat(k.text),R.length+1+k.length)):(u+k.lines>i&&_(),u+=k.lines,h+=k.length+1,m.push(k))}function _(){u!=0&&(c.push(m.length==1?m[0]:Dp.from(m,h)),h=-1,u=m.length=0)}for(let k of e)v(k);return _(),c.length==1?c[0]:new Dp(c,t)}}Qi.empty=new aa([""],0);function BIe(n){let e=-1;for(let t of n)e+=t.length+1;return e}function eD(n,e,t=0,r=1e9){for(let i=0,o=0,a=!0;o<n.length&&i<=r;o++){let c=n[o],u=i+c.length;u>=t&&(u>r&&(c=c.slice(0,r-i)),i<t&&(c=c.slice(t-i)),a?(e[e.length-1]+=c,a=!1):e.push(c)),i=u+1}return e}function IY(n,e,t){return eD(n,[""],e,t)}class hC{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof aa?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,c=i instanceof aa?i.text.length:i.children.length;if(a==(t>0?c:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof aa){let u=i.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,u.length>Math.max(0,e))return this.value=e==0?u:t>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[a+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof aa?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Gse{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new hC(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Yse{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Qi.prototype[Symbol.iterator]=function(){return this.iter()},hC.prototype[Symbol.iterator]=Gse.prototype[Symbol.iterator]=Yse.prototype[Symbol.iterator]=function(){return this});let jIe=class{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}};function q_(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function $c(n,e,t=!0,r=!0){return FIe(n,e,t,r)}function VIe(n){return n>=56320&&n<57344}function zIe(n){return n>=55296&&n<56320}function Rp(n,e){let t=n.charCodeAt(e);if(!zIe(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return VIe(r)?(t-55296<<10)+(r-56320)+65536:t}function Qse(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Hy(n){return n<65536?1:2}const z6=/\r\n?|\n/;var Tl=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Tl||(Tl={}));class lg{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],a=this.sections[t++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,t=!1){H6(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new lg(e)}composeDesc(e){return this.empty?e:e.empty?this:Kse(this,e)}mapDesc(e,t=!1){return e.empty?this:W6(this,e,t)}mapPos(e,t=-1,r=Tl.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let c=this.sections[a++],u=this.sections[a++],h=i+c;if(u<0){if(h>e)return o+(e-i);o+=c}else{if(r!=Tl.Simple&&h>=e&&(r==Tl.TrackDel&&i<e&&h>e||r==Tl.TrackBefore&&i<e||r==Tl.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!c)return e==i||t<0?o:o+u;o+=u}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=this.sections[r++],a=this.sections[r++],c=i+o;if(a>=0&&i<=t&&c>=e)return i<e&&c>t?"cover":!0;i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new lg(e)}static create(e){return new lg(e)}}class al extends lg{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return H6(this,(t,r,i,o,a)=>e=e.replace(i,i+(r-t),a),!1),e}mapDesc(e,t=!1){return W6(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let a=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=a;let u=i>>1;for(;r.length<u;)r.push(Qi.empty);r.push(a?e.slice(o,o+a):Qi.empty)}o+=a}return new al(t,r)}compose(e){return this.empty?e:e.empty?this:Kse(this,e,!0)}map(e,t=!1){return e.empty?this:W6(this,e,t,!0)}iterChanges(e,t=!1){H6(this,e,t)}get desc(){return lg.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new yO(this);e:for(let a=0,c=0;;){let u=a==e.length?1e9:e[a++];for(;c<u||c==u&&o.len==0;){if(o.done)break e;let m=Math.min(o.len,u-c);Zl(i,m,-1);let v=o.ins==-1?-1:o.off==0?o.ins:0;Zl(t,m,v),v>0&&iv(r,t,o.text),o.forward(m),c+=m}let h=e[a++];for(;c<h;){if(o.done)break e;let m=Math.min(o.len,h-c);Zl(t,m,-1),Zl(i,m,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(m),c+=m}}return{changes:new al(t,r),filtered:lg.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],a=0,c=null;function u(m=!1){if(!m&&!i.length)return;a<t&&Zl(i,t-a,-1);let v=new al(i,o);c=c?c.compose(v.map(c)):v,i=[],o=[],a=0}function h(m){if(Array.isArray(m))for(let v of m)h(v);else if(m instanceof al){if(m.length!=t)throw new RangeError(`Mismatched change set length (got ${m.length}, expected ${t})`);u(),c=c?c.compose(m.map(c)):m}else{let{from:v,to:_=v,insert:k}=m;if(v>_||v<0||_>t)throw new RangeError(`Invalid change range ${v} to ${_} (in doc of length ${t})`);let R=k?typeof k=="string"?Qi.of(k.split(r||z6)):k:Qi.empty,T=R.length;if(v==_&&T==0)return;v<a&&u(),v>a&&Zl(i,v-a,-1),Zl(i,_-v,T),iv(o,i,R),a=_}}return h(e),u(!c),c}static empty(e){return new al(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,c)=>c&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(Qi.empty);r[i]=Qi.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new al(t,r)}static createSet(e,t){return new al(e,t)}}function Zl(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function iv(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Qi.empty);n.push(t)}}function H6(n,e,t){let r=n.inserted;for(let i=0,o=0,a=0;a<n.sections.length;){let c=n.sections[a++],u=n.sections[a++];if(u<0)i+=c,o+=c;else{let h=i,m=o,v=Qi.empty;for(;h+=c,m+=u,u&&r&&(v=v.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)c=n.sections[a++],u=n.sections[a++];e(i,h,o,m,v),i=h,o=m}}}function W6(n,e,t,r=!1){let i=[],o=r?[]:null,a=new yO(n),c=new yO(e);for(let u=-1;;){if(a.done&&c.len||c.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&c.ins==-1){let h=Math.min(a.len,c.len);Zl(i,h,-1),a.forward(h),c.forward(h)}else if(c.ins>=0&&(a.ins<0||u==a.i||a.off==0&&(c.len<a.len||c.len==a.len&&!t))){let h=c.len;for(Zl(i,c.ins,-1);h;){let m=Math.min(a.len,h);a.ins>=0&&u<a.i&&a.len<=m&&(Zl(i,0,a.ins),o&&iv(o,i,a.text),u=a.i),a.forward(m),h-=m}c.next()}else if(a.ins>=0){let h=0,m=a.len;for(;m;)if(c.ins==-1){let v=Math.min(m,c.len);h+=v,m-=v,c.forward(v)}else if(c.ins==0&&c.len<m)m-=c.len,c.next();else break;Zl(i,h,u<a.i?a.ins:0),o&&u<a.i&&iv(o,i,a.text),u=a.i,a.forward(a.len-m)}else{if(a.done&&c.done)return o?al.createSet(i,o):lg.create(i);throw new Error("Mismatched change set lengths")}}}function Kse(n,e,t=!1){let r=[],i=t?[]:null,o=new yO(n),a=new yO(e);for(let c=!1;;){if(o.done&&a.done)return i?al.createSet(r,i):lg.create(r);if(o.ins==0)Zl(r,o.len,0,c),o.next();else if(a.len==0&&!a.done)Zl(r,0,a.ins,c),i&&iv(i,r,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let u=Math.min(o.len2,a.len),h=r.length;if(o.ins==-1){let m=a.ins==-1?-1:a.off?0:a.ins;Zl(r,u,m,c),i&&m&&iv(i,r,a.text)}else a.ins==-1?(Zl(r,o.off?0:o.len,u,c),i&&iv(i,r,o.textBit(u))):(Zl(r,o.off?0:o.len,a.off?0:a.ins,c),i&&!a.off&&iv(i,r,a.text));c=(o.ins>u||a.ins>=0&&a.len>u)&&(c||r.length>h),o.forward2(u),a.forward(u)}}}}class yO{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Qi.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Qi.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class I1{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new I1(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return qt.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return qt.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return qt.range(e.anchor,e.head)}static create(e,t,r){return new I1(e,t,r)}}class qt{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:qt.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new qt([this.main],0)}addRange(e,t=!0){return qt.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,qt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new qt(e.ranges.map(t=>I1.fromJSON(t)),e.main)}static single(e,t=e){return new qt([qt.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return qt.normalized(e.slice(),t);r=o.to}return new qt(e,t)}static cursor(e,t=0,r,i){return I1.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?I1.create(t,e,48|o):I1.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let c=a.from,u=Math.max(o.to,a.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?qt.range(u,c):qt.range(c,u))}}return new qt(e,t)}}function Xse(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let u7=0;class Vn{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=u7++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Vn(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:d7),!!e.static,e.enables)}of(e){return new tD([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new tD(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new tD(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function d7(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class tD{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=u7++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,c=this.type==2,u=!1,h=!1,m=[];for(let v of this.dependencies)v=="doc"?u=!0:v=="selection"?h=!0:((t=e[v.id])!==null&&t!==void 0?t:1)&1||m.push(e[v.id]);return{create(v){return v.values[a]=r(v),1},update(v,_){if(u&&_.docChanged||h&&(_.docChanged||_.selection)||q6(v,m)){let k=r(v);if(c?!LY(k,v.values[a],i):!i(k,v.values[a]))return v.values[a]=k,1}return 0},reconfigure:(v,_)=>{let k,R=_.config.address[o];if(R!=null){let T=E3(_,R);if(this.dependencies.every(F=>F instanceof Vn?_.facet(F)===v.facet(F):F instanceof Sd?_.field(F,!1)==v.field(F,!1):!0)||(c?LY(k=r(v),T,i):i(k=r(v),T)))return v.values[a]=T,0}else k=r(v);return v.values[a]=k,1}}}}function LY(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function q6(n,e){let t=!1;for(let r of e)pC(n,r)&1&&(t=!0);return t}function HIe(n,e,t){let r=t.map(u=>n[u.id]),i=t.map(u=>u.type),o=r.filter(u=>!(u&1)),a=n[e.id]>>1;function c(u){let h=[];for(let m=0;m<r.length;m++){let v=E3(u,r[m]);if(i[m]==2)for(let _ of v)h.push(_);else h.push(v)}return e.combine(h)}return{create(u){for(let h of r)pC(u,h);return u.values[a]=c(u),1},update(u,h){if(!q6(u,o))return 0;let m=c(u);return e.compare(m,u.values[a])?0:(u.values[a]=m,1)},reconfigure(u,h){let m=q6(u,r),v=h.config.facets[e.id],_=h.facet(e);if(v&&!m&&d7(t,v))return u.values[a]=_,0;let k=c(u);return e.compare(k,_)?(u.values[a]=_,0):(u.values[a]=k,1)}}}const KP=Vn.define({static:!0});class Sd{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new Sd(u7++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(KP).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[t]=a,1)},reconfigure:(r,i)=>{let o=r.facet(KP),a=i.facet(KP),c;return(c=o.find(u=>u.field==this))&&c!=a.find(u=>u.field==this)?(r.values[t]=c.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,KP.of({field:this,create:e})]}get extension(){return this}}const O1={lowest:4,low:3,default:2,high:1,highest:0};function w2(n){return e=>new Zse(e,n)}const AE={highest:w2(O1.highest),high:w2(O1.high),default:w2(O1.default),low:w2(O1.low),lowest:w2(O1.lowest)};class Zse{constructor(e,t){this.inner=e,this.prec=t}}class RE{of(e){return new U6(this,e)}reconfigure(e){return RE.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class U6{constructor(e,t){this.compartment=e,this.inner=t}}class _3{constructor(e,t,r,i,o,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),a=new Map;for(let _ of WIe(e,t,a))_ instanceof Sd?i.push(_):(o[_.facet.id]||(o[_.facet.id]=[])).push(_);let c=Object.create(null),u=[],h=[];for(let _ of i)c[_.id]=h.length<<1,h.push(k=>_.slot(k));let m=r==null?void 0:r.config.facets;for(let _ in o){let k=o[_],R=k[0].facet,T=m&&m[_]||[];if(k.every(F=>F.type==0))if(c[R.id]=u.length<<1|1,d7(T,k))u.push(r.facet(R));else{let F=R.combine(k.map($=>$.value));u.push(r&&R.compare(F,r.facet(R))?r.facet(R):F)}else{for(let F of k)F.type==0?(c[F.id]=u.length<<1|1,u.push(F.value)):(c[F.id]=h.length<<1,h.push($=>F.dynamicSlot($)));c[R.id]=h.length<<1,h.push(F=>HIe(F,R,k))}}let v=h.map(_=>_(c));return new _3(e,a,v,c,u,o)}}function WIe(n,e,t){let r=[[],[],[],[],[]],i=new Map;function o(a,c){let u=i.get(a);if(u!=null){if(u<=c)return;let h=r[u].indexOf(a);h>-1&&r[u].splice(h,1),a instanceof U6&&t.delete(a.compartment)}if(i.set(a,c),Array.isArray(a))for(let h of a)o(h,c);else if(a instanceof U6){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(a.compartment)||a.inner;t.set(a.compartment,h),o(h,c)}else if(a instanceof Zse)o(a.inner,a.prec);else if(a instanceof Sd)r[c].push(a),a.provides&&o(a.provides,c);else if(a instanceof tD)r[c].push(a),a.facet.extensions&&o(a.facet.extensions,O1.default);else{let h=a.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(h,c)}}return o(n,O1.default),r.reduce((a,c)=>a.concat(c))}function pC(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function E3(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const Jse=Vn.define(),G6=Vn.define({combine:n=>n.some(e=>e),static:!0}),eae=Vn.define({combine:n=>n.length?n[0]:void 0,static:!0}),tae=Vn.define(),nae=Vn.define(),rae=Vn.define(),iae=Vn.define({combine:n=>n.length?n[0]:!1});class Pb{constructor(e,t){this.type=e,this.value=t}static define(){return new qIe}}class qIe{of(e){return new Pb(this,e)}}class UIe{constructor(e){this.map=e}of(e){return new Vi(this,e)}}class Vi{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Vi(this.type,t)}is(e){return this.type==e}static define(e={}){return new UIe(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}}Vi.reconfigure=Vi.define();Vi.appendConfig=Vi.define();class Rl{constructor(e,t,r,i,o,a){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&Xse(r,t.newLength),o.some(c=>c.type==Rl.time)||(this.annotations=o.concat(Rl.time.of(Date.now())))}static create(e,t,r,i,o,a){return new Rl(e,t,r,i,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Rl.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Rl.time=Pb.define();Rl.userEvent=Pb.define();Rl.addToHistory=Pb.define();Rl.remote=Pb.define();function GIe(n,e){let t=[];for(let r=0,i=0;;){let o,a;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],a=n[r++];else if(i<e.length)o=e[i++],a=e[i++];else return t;!t.length||t[t.length-1]<o?t.push(o,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function oae(n,e,t){var r;let i,o,a;return t?(i=e.changes,o=al.empty(e.changes.length),a=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Vi.mapEffects(n.effects,i).concat(Vi.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Y6(n,e,t){let r=e.selection,i=a_(e.annotations);return e.userEvent&&(i=i.concat(Rl.userEvent.of(e.userEvent))),{changes:e.changes instanceof al?e.changes:al.of(e.changes||[],t,n.facet(eae)),selection:r&&(r instanceof qt?r:qt.single(r.anchor,r.head)),effects:a_(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function sae(n,e,t){let r=Y6(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let a=!!e[o].sequential;r=oae(r,Y6(n,e[o],a?r.changes.newLength:n.doc.length),a)}let i=Rl.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return QIe(t?YIe(i):i)}function YIe(n){let e=n.startState,t=!0;for(let i of e.facet(tae)){let o=i(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:GIe(t,o))}if(t!==!0){let i,o;if(t===!1)o=n.changes.invertedDesc,i=al.empty(e.doc.length);else{let a=n.changes.filter(t);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}n=Rl.create(e,i,n.selection&&n.selection.map(o),Vi.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let r=e.facet(nae);for(let i=r.length-1;i>=0;i--){let o=r[i](n);o instanceof Rl?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Rl?n=o[0]:n=sae(e,a_(o),!1)}return n}function QIe(n){let e=n.startState,t=e.facet(rae),r=n;for(let i=t.length-1;i>=0;i--){let o=t[i](n);o&&Object.keys(o).length&&(r=oae(r,Y6(e,o,n.changes.newLength),!0))}return r==n?n:Rl.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const KIe=[];function a_(n){return n==null?KIe:Array.isArray(n)?n:[n]}var df=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(df||(df={}));const XIe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Q6;try{Q6=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function ZIe(n){if(Q6)return Q6.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||XIe.test(t)))return!0}return!1}function JIe(n){return e=>{if(!/\S/.test(e))return df.Space;if(ZIe(e))return df.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return df.Word;return df.Other}}class Bi{constructor(e,t,r,i,o,a){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)pC(this,c<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return pC(this,r),E3(this,r)}update(...e){return sae(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let c of e.effects)c.is(RE.reconfigure)?(t&&(i=new Map,t.compartments.forEach((u,h)=>i.set(h,u)),t=null),i.set(c.value.compartment,c.value.extension)):c.is(Vi.reconfigure)?(t=null,r=c.value):c.is(Vi.appendConfig)&&(t=null,r=a_(r).concat(c.value));let o;t?o=e.startState.values.slice():(t=_3.resolve(r,i,this),o=new Bi(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let a=e.startState.facet(G6)?e.newSelection:e.newSelection.asSingle();new Bi(t,e.newDoc,a,o,(c,u)=>u.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:qt.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],a=a_(r.effects);for(let c=1;c<t.ranges.length;c++){let u=e(t.ranges[c]),h=this.changes(u.changes),m=h.map(i);for(let _=0;_<c;_++)o[_]=o[_].map(m);let v=i.mapDesc(h,!0);o.push(u.range.map(v)),i=i.compose(m),a=Vi.mapEffects(a,m).concat(Vi.mapEffects(a_(u.effects),v))}return{changes:i,selection:qt.create(o,t.mainIndex),effects:a}}changes(e=[]){return e instanceof al?e:al.of(e,this.doc.length,this.facet(Bi.lineSeparator))}toText(e){return Qi.of(e.split(this.facet(Bi.lineSeparator)||z6))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(pC(this,t),E3(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Sd&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let a=r[o],c=e[o];i.push(a.init(u=>a.spec.fromJSON(c,u)))}}return Bi.create({doc:e.doc,selection:qt.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=_3.resolve(e.extensions||[],new Map),r=e.doc instanceof Qi?e.doc:Qi.of((e.doc||"").split(t.staticFacet(Bi.lineSeparator)||z6)),i=e.selection?e.selection instanceof qt?e.selection:qt.single(e.selection.anchor,e.selection.head):qt.single(0);return Xse(i,r.length),t.staticFacet(G6)||(i=i.asSingle()),new Bi(t,r,i,t.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(Bi.tabSize)}get lineBreak(){return this.facet(Bi.lineSeparator)||`
`}get readOnly(){return this.facet(iae)}phrase(e,...t){for(let r of this.facet(Bi.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(Jse))for(let a of o(this,t,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return JIe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-r,c=e-r;for(;a>0;){let u=$c(t,a,!1);if(o(t.slice(u,a))!=df.Word)break;a=u}for(;c<i;){let u=$c(t,c);if(o(t.slice(c,u))!=df.Word)break;c=u}return a==c?null:qt.range(a+r,c+r)}}Bi.allowMultipleSelections=G6;Bi.tabSize=Vn.define({combine:n=>n.length?n[0]:4});Bi.lineSeparator=eae;Bi.readOnly=iae;Bi.phrases=Vn.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Bi.languageData=Jse;Bi.changeFilter=tae;Bi.transactionFilter=nae;Bi.transactionExtender=rae;RE.reconfigure=Vi.define();function a5(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let a=i[o],c=r[o];if(c===void 0)r[o]=a;else if(!(c===a||a===void 0))if(Object.hasOwnProperty.call(t,o))r[o]=t[o](c,a);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class hb{eq(e){return this==e}range(e,t=e){return vO.create(e,t,this)}}hb.prototype.startSide=hb.prototype.endSide=0;hb.prototype.point=!1;hb.prototype.mapMode=Tl.TrackDel;class vO{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new vO(e,t,r)}}function K6(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class f7{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let a=i,c=o.length;;){if(a==c)return a;let u=a+c>>1,h=o[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-t;if(u==a)return h>=0?a:c;h>=0?c=u:a=u+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],a=-1,c=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],m=this.from[u]+e,v=this.to[u]+e,_,k;if(m==v){let R=t.mapPos(m,h.startSide,h.mapMode);if(R==null||(_=k=R,h.startSide!=h.endSide&&(k=t.mapPos(m,h.endSide),k<_)))continue}else if(_=t.mapPos(m,h.startSide),k=t.mapPos(v,h.endSide),_>k||_==k&&h.startSide>0&&h.endSide<=0)continue;(k-_||h.endSide-h.startSide)<0||(a<0&&(a=_),h.point&&(c=Math.max(c,k-_)),r.push(h),i.push(_-a),o.push(k-a))}return{mapped:r.length?new f7(i,o,r,c):null,pos:a}}}class uo{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new uo(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(r&&(t=t.slice().sort(K6)),this.isEmpty)return t.length?uo.of(t):this;let c=new aae(this,null,-1).goto(0),u=0,h=[],m=new U_;for(;c.value||u<t.length;)if(u<t.length&&(c.from-t[u].from||c.startSide-t[u].value.startSide)>=0){let v=t[u++];m.addInner(v.from,v.to,v.value)||h.push(v)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(u==t.length||this.chunkEnd(c.chunkIndex)<t[u].from)&&(!a||i>this.chunkEnd(c.chunkIndex)||o<this.chunkPos[c.chunkIndex])&&m.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!a||i>c.to||o<c.from||a(c.from,c.to,c.value))&&(m.addInner(c.from,c.to,c.value)||h.push(vO.create(c.from,c.to,c.value))),c.next());return m.finishInner(this.nextLayer.isEmpty&&!h.length?uo.empty:this.nextLayer.update({add:h,filter:a,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let c=this.chunkPos[a],u=this.chunk[a],h=e.touchesRange(c,c+u.length);if(h===!1)i=Math.max(i,u.maxPoint),t.push(u),r.push(e.mapPos(c));else if(h===!0){let{mapped:m,pos:v}=u.map(c,e);m&&(i=Math.max(i,m.maxPoint),t.push(m),r.push(v))}}let o=this.nextLayer.map(e);return t.length==0?o:new uo(r,t,o||uo.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i];if(t>=o&&e<=o+a.length&&a.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return bO.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return bO.from(e).goto(t)}static compare(e,t,r,i,o=-1){let a=e.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=o),c=t.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=o),u=FY(a,c,r),h=new _2(a,u,o),m=new _2(c,u,o);r.iterGaps((v,_,k)=>$Y(h,v,m,_,k,i)),r.empty&&r.length==0&&$Y(h,0,m,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(m=>!m.isEmpty&&t.indexOf(m)<0),a=t.filter(m=>!m.isEmpty&&e.indexOf(m)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let c=FY(o,a),u=new _2(o,c,0).goto(r),h=new _2(a,c,0).goto(r);for(;;){if(u.to!=h.to||!X6(u.active,h.active)||u.point&&(!h.point||!u.point.eq(h.point)))return!1;if(u.to>i)return!0;u.next(),h.next()}}static spans(e,t,r,i,o=-1){let a=new _2(e,null,o).goto(t),c=t,u=a.openStart;for(;;){let h=Math.min(a.to,r);if(a.point){let m=a.activeForPoint(a.to),v=a.pointFrom<t?m.length+1:a.point.startSide<0?m.length:Math.min(m.length,u);i.point(c,h,a.point,m,v,a.pointRank),u=Math.min(a.openEnd(h),m.length)}else h>c&&(i.span(c,h,a.active,u),u=a.openEnd(h));if(a.to>r)return u+(a.point&&a.to>r?1:0);c=a.to,a.next()}}static of(e,t=!1){let r=new U_;for(let i of e instanceof vO?[e]:t?eLe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return uo.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=uo.empty;i=i.nextLayer)t=new uo(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}uo.empty=new uo([],[],null,-1);function eLe(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(K6(e,r)>0)return n.slice().sort(K6);e=r}return n}uo.empty.nextLayer=uo.empty;class U_{finishChunk(e){this.chunks.push(new f7(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new U_)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(uo.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=uo.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function FY(n,e,t){let r=new Map;for(let o of n)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let c=r.get(o.chunk[a]);c!=null&&(t?t.mapPos(c):c)==o.chunkPos[a]&&!(t!=null&&t.touchesRange(c,c+o.chunk[a].length))&&i.add(o.chunk[a])}return i}class aae{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class bO{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new aae(a,t,r,o));return i.length==1?i[0]:new bO(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)J4(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)J4(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),J4(this.heap,0)}}}function J4(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class _2{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=bO.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){XP(this.active,e),XP(this.activeTo,e),XP(this.activeRank,e),this.minActive=BY(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;ZP(this.active,t,r),ZP(this.activeTo,t,i),ZP(this.activeRank,t,o),e&&ZP(e,t,this.cursor.from),this.minActive=BY(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&XP(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function $Y(n,e,t,r,i,o){n.goto(e),t.goto(r);let a=r+i,c=r,u=r-e;for(;;){let h=n.to+u-t.to,m=h||n.endSide-t.endSide,v=m<0?n.to+u:t.to,_=Math.min(v,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&X6(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(c,_,n.point,t.point):_>c&&!X6(n.active,t.active)&&o.compareRange(c,_,n.active,t.active),v>a)break;(h||n.openEnd!=t.openEnd)&&o.boundChange&&o.boundChange(v),c=v,m<=0&&n.next(),m>=0&&t.next()}}function X6(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function XP(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function ZP(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function BY(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function l5(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=$c(n,i));return r}function tLe(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=$c(n,i)}return r===!0?-1:n.length}const Z6="",jY=typeof Symbol>"u"?"__"+Z6:Symbol.for(Z6),J6=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),VY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class $v{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,c,u,h){let m=[],v=/^@(\w+)\b/.exec(a[0]),_=v&&v[1]=="keyframes";if(v&&c==null)return u.push(a[0]+";");for(let k in c){let R=c[k];if(/&/.test(k))o(k.split(/,\s*/).map(T=>a.map(F=>T.replace(/&/,F))).reduce((T,F)=>T.concat(F)),R,u);else if(R&&typeof R=="object"){if(!v)throw new RangeError("The value of a property ("+k+") should be a primitive value.");o(i(k),R,m,_)}else R!=null&&m.push(k.replace(/_.*/,"").replace(/[A-Z]/g,T=>"-"+T.toLowerCase())+": "+R+";")}(m.length||_)&&u.push((r&&!v&&!h?a.map(r):a).join(", ")+" {"+m.join(" ")+"}")}for(let a in e)o(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=VY[jY]||1;return VY[jY]=e+1,Z6+e.toString(36)}static mount(e,t,r){let i=e[J6],o=r&&r.nonce;i?o&&i.setNonce(o):i=new nLe(e,o),i.mount(Array.isArray(t)?t:[t],e)}}let zY=new Map;class nLe{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=zY.get(r);if(o)return e[J6]=o;this.sheet=new i.CSSStyleSheet,zY.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[J6]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let a=0;a<e.length;a++){let c=e[a],u=this.modules.indexOf(c);if(u<o&&u>-1&&(this.modules.splice(u,1),o--,u=-1),u==-1){if(this.modules.splice(o++,0,c),r)for(let h=0;h<c.rules.length;h++)r.insertRule(c.rules[h],i++)}else{for(;o<u;)i+=this.modules[o++].rules.length;i+=c.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let u=0;u<this.modules.length;u++)a+=this.modules[u].getRules()+`
`;this.styleTag.textContent=a;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Bv={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},xO={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rLe=typeof navigator<"u"&&/Mac/.test(navigator.platform),iLe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ol=0;Ol<10;Ol++)Bv[48+Ol]=Bv[96+Ol]=String(Ol);for(var Ol=1;Ol<=24;Ol++)Bv[Ol+111]="F"+Ol;for(var Ol=65;Ol<=90;Ol++)Bv[Ol]=String.fromCharCode(Ol+32),xO[Ol]=String.fromCharCode(Ol);for(var eF in Bv)xO.hasOwnProperty(eF)||(xO[eF]=Bv[eF]);function oLe(n){var e=rLe&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||iLe&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?xO:Bv)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function wO(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function eB(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function nD(n,e){if(!e.anchorNode)return!1;try{return eB(n,e.anchorNode)}catch{return!1}}function G_(n){return n.nodeType==3?mb(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function mC(n,e,t,r){return t?HY(n,e,t,r,-1)||HY(n,e,t,r,1):!1}function pb(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function S3(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function HY(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Zp(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=pb(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Zp(n):0}else return!1}}function Zp(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function rT(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function sLe(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function lae(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function aLe(n,e,t,r,i,o,a,c){let u=n.ownerDocument,h=u.defaultView||window;for(let m=n,v=!1;m&&!v;)if(m.nodeType==1){let _,k=m==u.body,R=1,T=1;if(k)_=sLe(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(m).position)&&(v=!0),m.scrollHeight<=m.clientHeight&&m.scrollWidth<=m.clientWidth){m=m.assignedSlot||m.parentNode;continue}let j=m.getBoundingClientRect();({scaleX:R,scaleY:T}=lae(m,j)),_={left:j.left,right:j.left+m.clientWidth*R,top:j.top,bottom:j.top+m.clientHeight*T}}let F=0,$=0;if(i=="nearest")e.top<_.top?($=e.top-(_.top+a),t>0&&e.bottom>_.bottom+$&&($=e.bottom-_.bottom+a)):e.bottom>_.bottom&&($=e.bottom-_.bottom+a,t<0&&e.top-$<_.top&&($=e.top-(_.top+a)));else{let j=e.bottom-e.top,B=_.bottom-_.top;$=(i=="center"&&j<=B?e.top+j/2-B/2:i=="start"||i=="center"&&t<0?e.top-a:e.bottom-B+a)-_.top}if(r=="nearest"?e.left<_.left?(F=e.left-(_.left+o),t>0&&e.right>_.right+F&&(F=e.right-_.right+o)):e.right>_.right&&(F=e.right-_.right+o,t<0&&e.left<_.left+F&&(F=e.left-(_.left+o))):F=(r=="center"?e.left+(e.right-e.left)/2-(_.right-_.left)/2:r=="start"==c?e.left-o:e.right-(_.right-_.left)+o)-_.left,F||$)if(k)h.scrollBy(F,$);else{let j=0,B=0;if($){let I=m.scrollTop;m.scrollTop+=$/T,B=(m.scrollTop-I)*T}if(F){let I=m.scrollLeft;m.scrollLeft+=F/R,j=(m.scrollLeft-I)*R}e={left:e.left-j,top:e.top-B,right:e.right-j,bottom:e.bottom-B},j&&Math.abs(j-F)<1&&(r="nearest"),B&&Math.abs(B-$)<1&&(i="nearest")}if(k)break;(e.top<_.top||e.bottom>_.bottom||e.left<_.left||e.right>_.right)&&(e={left:Math.max(e.left,_.left),right:Math.min(e.right,_.right),top:Math.max(e.top,_.top),bottom:Math.min(e.bottom,_.bottom)}),m=m.assignedSlot||m.parentNode}else if(m.nodeType==11)m=m.host;else break}function lLe(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class cLe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Zp(t):0),r,Math.min(e.focusOffset,r?Zp(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let bw=null;function cae(n){if(n.setActive)return n.setActive();if(bw)return n.focus(bw);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(bw==null?{get preventScroll(){return bw={preventScroll:!0},!0}}:void 0),!bw){bw=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let WY;function mb(n,e,t=e){let r=WY||(WY=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function l_(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,n.dispatchEvent(o);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,n.dispatchEvent(a),o.defaultPrevented||a.defaultPrevented}function uLe(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function uae(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function dLe(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Zp(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Zp(t))}else{if(t==n)return!0;r=pb(t),t=t.parentNode}}function dae(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function fae(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Zp(t)}else if(t.parentNode&&!S3(t))r=pb(t),t=t.parentNode;else return null}}function hae(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!S3(t))r=pb(t)+1,t=t.parentNode;else return null}}class tc{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new tc(e.parentNode,pb(e),t)}static after(e,t){return new tc(e.parentNode,pb(e)+1,t)}}const h7=[];class jo{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=i?i.nextSibling:r.firstChild)){let c=jo.get(o);(!c||!c.parent&&c.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(e,t),a.flags&=-8}if(o=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&o!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;o&&o!=a.dom;)o=qY(o);else r.insertBefore(a.dom,o);i=a.dom}for(o=i?i.nextSibling:r.firstChild,o&&t&&t.node==r&&(t.written=!0);o;)o=qY(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Zp(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!jo.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let a=this.children[i];if(a.dom==r)return o;o+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,a=-1,c=-1;for(let u=0,h=r,m=r;u<this.children.length;u++){let v=this.children[u],_=h+v.length;if(h<e&&_>t)return v.domBoundsAround(e,t,h);if(_>=e&&i==-1&&(i=u,o=h),h>t&&v.dom.parentNode==this.dom){a=u,c=m;break}m=_,h=_+v.breakAfter}return{from:o,to:c<0?r+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=h7){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new pae(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}jo.prototype.breakAfter=0;function qY(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class pae{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function mae(n,e,t,r,i,o,a,c,u){let{children:h}=n,m=h.length?h[e]:null,v=o.length?o[o.length-1]:null,_=v?v.breakAfter:a;if(!(e==r&&m&&!a&&!_&&o.length<2&&m.merge(t,i,o.length?v:null,t==0,c,u))){if(r<h.length){let k=h[r];k&&(i<k.length||k.breakAfter&&(v!=null&&v.breakAfter))?(e==r&&(k=k.split(i),i=0),!_&&v&&k.merge(0,i,v,!0,0,u)?o[o.length-1]=k:((i||k.children.length&&!k.children[0].length)&&k.merge(0,i,null,!1,0,u),o.push(k))):k!=null&&k.breakAfter&&(v?v.breakAfter=1:a=1),r++}for(m&&(m.breakAfter=a,t>0&&(!a&&o.length&&m.merge(t,m.length,o[0],!1,c,0)?m.breakAfter=o.shift().breakAfter:(t<m.length||m.children.length&&m.children[m.children.length-1].length==0)&&m.merge(t,m.length,null,!1,c,0),e++));e<r&&o.length;)if(h[r-1].become(o[o.length-1]))r--,o.pop(),u=o.length?0:c;else if(h[e].become(o[0]))e++,o.shift(),c=o.length?0:u;else break;!o.length&&e&&r<h.length&&!h[e-1].breakAfter&&h[r].merge(0,0,h[e-1],!1,c,u)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function gae(n,e,t,r,i,o){let a=n.childCursor(),{i:c,off:u}=a.findPos(t,1),{i:h,off:m}=a.findPos(e,-1),v=e-t;for(let _ of r)v+=_.length;n.length+=v,mae(n,h,m,c,u,r,0,i,o)}let wu=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},tB=typeof document<"u"?document:{documentElement:{style:{}}};const nB=/Edge\/(\d+)/.exec(wu.userAgent),yae=/MSIE \d/.test(wu.userAgent),rB=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wu.userAgent),c5=!!(yae||rB||nB),UY=!c5&&/gecko\/(\d+)/i.test(wu.userAgent),tF=!c5&&/Chrome\/(\d+)/.exec(wu.userAgent),GY="webkitFontSmoothing"in tB.documentElement.style,vae=!c5&&/Apple Computer/.test(wu.vendor),YY=vae&&(/Mobile\/\w+/.test(wu.userAgent)||wu.maxTouchPoints>2);var Dn={mac:YY||/Mac/.test(wu.platform),windows:/Win/.test(wu.platform),linux:/Linux|X11/.test(wu.platform),ie:c5,ie_version:yae?tB.documentMode||6:rB?+rB[1]:nB?+nB[1]:0,gecko:UY,gecko_version:UY?+(/Firefox\/(\d+)/.exec(wu.userAgent)||[0,0])[1]:0,chrome:!!tF,chrome_version:tF?+tF[1]:0,ios:YY,android:/Android\b/.test(wu.userAgent),webkit:GY,safari:vae,webkit_version:GY?+(/\bAppleWebKit\/(\d+)/.exec(wu.userAgent)||[0,0])[1]:0,tabSize:tB.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const fLe=256;class Ih extends jo{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Ih)||this.length-(t-e)+r.length>fLe||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ih(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new tc(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return hLe(this.dom,e,t)}}class wg extends jo{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(uae(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,a){return r&&(!(r instanceof wg&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&a<=0)?!1:(gae(this,e,t,r?r.children.slice():[],o-1,a-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let c of this.children){let u=r+c.length;u>e&&t.push(r<e?c.split(e-r):c),i<0&&r>=e&&(i=o),r=u,o++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new wg(this.mark,t,a)}domAtPos(e){return bae(this,e)}coordsAt(e,t){return wae(this,e,t)}}function hLe(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,o=e,a=0;e==0&&t<0||e==r&&t>=0?Dn.chrome||Dn.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):t<0?i--:o<r&&o++;let c=mb(n,i,o).getClientRects();if(!c.length)return null;let u=c[(a?a<0:t>=0)?0:c.length-1];return Dn.safari&&!a&&u.width==0&&(u=Array.prototype.find.call(c,h=>h.width)||u),a?rT(u,a<0):u||null}class ov extends jo{static create(e,t,r){return new ov(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=ov.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,o,a){return r&&(!(r instanceof ov)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof ov&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Qi.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Qi.empty}domAtPos(e){return(this.length?e==0:this.side>0)?tc.before(this.dom):tc.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let a=this.side?this.side<0:e>0;for(let c=a?i.length-1:0;o=i[c],!(e>0?c==0:c==i.length-1||o.top<o.bottom);c+=a?-1:1);return rT(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Y_ extends jo{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Y_&&e.side==this.side}split(){return new Y_(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?tc.before(this.dom):tc.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Qi.empty}get isHidden(){return!0}}Ih.prototype.children=ov.prototype.children=Y_.prototype.children=h7;function bae(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let a=r[i],c=o+a.length;if(!(c==o&&a.getSide()<=0)){if(e>o&&e<c&&a.dom.parentNode==t)return a.domAtPos(e-o);if(e<=o)break;o=c}}for(let o=i;o>0;o--){let a=r[o-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let o=i;o<r.length;o++){let a=r[o];if(a.dom.parentNode==t)return a.domAtPos(0)}return new tc(t,0)}function xae(n,e,t){let r,{children:i}=n;t>0&&e instanceof wg&&i.length&&(r=i[i.length-1])instanceof wg&&r.mark.eq(e.mark)?xae(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function wae(n,e,t){let r=null,i=-1,o=null,a=-1;function c(h,m){for(let v=0,_=0;v<h.children.length&&_<=m;v++){let k=h.children[v],R=_+k.length;R>=m&&(k.children.length?c(k,m-_):(!o||o.isHidden&&(t>0||mLe(o,k)))&&(R>m||_==R&&k.getSide()>0)?(o=k,a=m-_):(_<m||_==R&&k.getSide()<0&&!k.isHidden)&&(r=k,i=m-_)),_=R}}c(n,e);let u=(t<0?r:o)||r||o;return u?u.coordsAt(Math.max(0,u==r?i:a),t):pLe(n)}function pLe(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=G_(e);return t[t.length-1]||null}function mLe(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function iB(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const QY=Object.create(null);function k3(n,e,t){if(n==e)return!0;n||(n=QY),e||(e=QY);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function oB(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function gLe(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class PE{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var gf=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(gf||(gf={}));class wi extends hb{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new iT(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new jv(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:a}=_ae(e,t);r=(o?t?-3e8:-1:5e8)-1,i=(a?t?2e8:1:-6e8)+1}return new jv(e,r,i,t,e.widget||null,!0)}static line(e){return new oT(e)}static set(e,t=!1){return uo.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}wi.none=uo.empty;class iT extends wi{constructor(e){let{start:t,end:r}=_ae(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof iT&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&k3(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}iT.prototype.point=!1;class oT extends wi{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof oT&&this.spec.class==e.spec.class&&k3(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}oT.prototype.mapMode=Tl.TrackBefore;oT.prototype.point=!0;class jv extends wi{constructor(e,t,r,i,o,a){super(t,r,o,e),this.block=i,this.isReplace=a,this.mapMode=i?t<=0?Tl.TrackBefore:Tl.TrackAfter:Tl.TrackDel}get type(){return this.startSide!=this.endSide?gf.WidgetRange:this.startSide<=0?gf.WidgetBefore:gf.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof jv&&yLe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}jv.prototype.point=!0;function _ae(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function yLe(n,e){return n==e||!!(n&&e&&n.compare(e))}function rD(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class xa extends jo{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,a){if(r){if(!(r instanceof xa))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),gae(this,e,t,r?r.children.slice():[],o,a),!0}split(e){let t=new xa;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){k3(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){xae(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=iB(t,this.attrs||{})),r&&(this.attrs=iB({class:r},this.attrs||{}))}domAtPos(e){return bae(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(uae(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(oB(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&jo.get(i)instanceof wg;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=jo.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Dn.ios||!this.children.some(o=>o instanceof Ih))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Ih)||/[^ -~]/.test(r.text))return null;let i=G_(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=wae(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let a=(o-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return e instanceof xa&&this.children.length==0&&e.children.length==0&&k3(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],a=i+o.length;if(a>=t){if(o instanceof xa)return o;if(a>t)break}i=a+o.breakAfter}return null}}class cg extends jo{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,a){return r&&(!(r instanceof cg)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?tc.before(this.dom):tc.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new cg(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return h7}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Qi.empty}domBoundsAround(){return null}become(e){return e instanceof cg&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof sB?null:rT(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class sB extends PE{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class gC{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof cg&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new xa),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(JP(new Y_(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof cg)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(JP(new Ih(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,a){if(this.disallowBlockEffectsFor[a]&&r instanceof jv){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof jv)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new cg(r.widget||Q_.block,c,r));else{let u=ov.create(r.widget||Q_.inline,c,c?0:r.startSide),h=this.atCursorPos&&!u.isEditable&&o<=i.length&&(e<t||r.startSide>0),m=!u.isEditable&&(e<t||o>i.length||r.startSide<=0),v=this.getLine();this.pendingBuffer==2&&!h&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),h&&(v.append(JP(new Y_(1),i),o),o=i.length+Math.max(0,o-i.length)),v.append(JP(u,i),o),this.atCursorPos=m,this.pendingBuffer=m?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let a=new gC(e,t,r,o);return a.openEnd=uo.spans(i,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function JP(n,e){for(let t of e)n=new wg(t,[n],n.length);return n}class Q_ extends PE{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Q_.inline=new Q_("span");Q_.block=new Q_("div");var Js=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Js||(Js={}));const gb=Js.LTR,p7=Js.RTL;function Eae(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const vLe=Eae("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),bLe=Eae("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),aB=Object.create(null),xp=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);aB[e]=t,aB[t]=-e}function Sae(n){return n<=247?vLe[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?bLe[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const xLe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class sv{get dir(){return this.level%2?p7:gb}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let a=0;a<e.length;a++){let c=e[a];if(c.from<=t&&c.to>=t){if(c.level==r)return a;(o<0||(i!=0?i<0?c.from<t:c.to>t:e[o].level>c.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function kae(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!kae(r.inner,i.inner))return!1}return!0}const Bo=[];function wLe(n,e,t,r,i){for(let o=0;o<=r.length;o++){let a=o?r[o-1].to:e,c=o<r.length?r[o].from:t,u=o?256:i;for(let h=a,m=u,v=u;h<c;h++){let _=Sae(n.charCodeAt(h));_==512?_=m:_==8&&v==4&&(_=16),Bo[h]=_==4?2:_,_&7&&(v=_),m=_}for(let h=a,m=u,v=u;h<c;h++){let _=Bo[h];if(_==128)h<c-1&&m==Bo[h+1]&&m&24?_=Bo[h]=m:Bo[h]=256;else if(_==64){let k=h+1;for(;k<c&&Bo[k]==64;)k++;let R=h&&m==8||k<t&&Bo[k]==8?v==1?1:8:256;for(let T=h;T<k;T++)Bo[T]=R;h=k-1}else _==8&&v==1&&(Bo[h]=1);m=_,_&7&&(v=_)}}}function _Le(n,e,t,r,i){let o=i==1?2:1;for(let a=0,c=0,u=0;a<=r.length;a++){let h=a?r[a-1].to:e,m=a<r.length?r[a].from:t;for(let v=h,_,k,R;v<m;v++)if(k=aB[_=n.charCodeAt(v)])if(k<0){for(let T=c-3;T>=0;T-=3)if(xp[T+1]==-k){let F=xp[T+2],$=F&2?i:F&4?F&1?o:i:0;$&&(Bo[v]=Bo[xp[T]]=$),c=T;break}}else{if(xp.length==189)break;xp[c++]=v,xp[c++]=_,xp[c++]=u}else if((R=Bo[v])==2||R==1){let T=R==i;u=T?0:1;for(let F=c-3;F>=0;F-=3){let $=xp[F+2];if($&2)break;if(T)xp[F+2]|=2;else{if($&4)break;xp[F+2]|=4}}}}}function ELe(n,e,t,r){for(let i=0,o=r;i<=t.length;i++){let a=i?t[i-1].to:n,c=i<t.length?t[i].from:e;for(let u=a;u<c;){let h=Bo[u];if(h==256){let m=u+1;for(;;)if(m==c){if(i==t.length)break;m=t[i++].to,c=i<t.length?t[i].from:e}else if(Bo[m]==256)m++;else break;let v=o==1,_=(m<e?Bo[m]:r)==1,k=v==_?v?1:2:r;for(let R=m,T=i,F=T?t[T-1].to:n;R>u;)R==F&&(R=t[--T].from,F=T?t[T-1].to:n),Bo[--R]=k;u=m}else o=h,u++}}}function lB(n,e,t,r,i,o,a){let c=r%2?2:1;if(r%2==i%2)for(let u=e,h=0;u<t;){let m=!0,v=!1;if(h==o.length||u<o[h].from){let T=Bo[u];T!=c&&(m=!1,v=T==16)}let _=!m&&c==1?[]:null,k=m?r:r+1,R=u;e:for(;;)if(h<o.length&&R==o[h].from){if(v)break e;let T=o[h];if(!m)for(let F=T.to,$=h+1;;){if(F==t)break e;if($<o.length&&o[$].from==F)F=o[$++].to;else{if(Bo[F]==c)break e;break}}if(h++,_)_.push(T);else{T.from>u&&a.push(new sv(u,T.from,k));let F=T.direction==gb!=!(k%2);cB(n,F?r+1:r,i,T.inner,T.from,T.to,a),u=T.to}R=T.to}else{if(R==t||(m?Bo[R]!=c:Bo[R]==c))break;R++}_?lB(n,u,R,r+1,i,_,a):u<R&&a.push(new sv(u,R,k)),u=R}else for(let u=t,h=o.length;u>e;){let m=!0,v=!1;if(!h||u>o[h-1].to){let T=Bo[u-1];T!=c&&(m=!1,v=T==16)}let _=!m&&c==1?[]:null,k=m?r:r+1,R=u;e:for(;;)if(h&&R==o[h-1].to){if(v)break e;let T=o[--h];if(!m)for(let F=T.from,$=h;;){if(F==e)break e;if($&&o[$-1].to==F)F=o[--$].from;else{if(Bo[F-1]==c)break e;break}}if(_)_.push(T);else{T.to<u&&a.push(new sv(T.to,u,k));let F=T.direction==gb!=!(k%2);cB(n,F?r+1:r,i,T.inner,T.from,T.to,a),u=T.from}R=T.from}else{if(R==e||(m?Bo[R-1]!=c:Bo[R-1]==c))break;R--}_?lB(n,R,u,r+1,i,_,a):R<u&&a.push(new sv(R,u,k)),u=R}}function cB(n,e,t,r,i,o,a){let c=e%2?2:1;wLe(n,i,o,r,c),_Le(n,i,o,r,c),ELe(i,o,r,c),lB(n,i,o,e,t,r,a)}function SLe(n,e,t){if(!n)return[new sv(0,0,e==p7?1:0)];if(e==gb&&!t.length&&!xLe.test(n))return Cae(n.length);if(t.length)for(;n.length>Bo.length;)Bo[Bo.length]=256;let r=[],i=e==gb?0:1;return cB(n,i,i,t,0,n.length,r),r}function Cae(n){return[new sv(0,n,0)]}let Oae="";function kLe(n,e,t,r,i){var o;let a=r.head-n.from,c=sv.find(e,a,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),u=e[c],h=u.side(i,t);if(a==h){let _=c+=i?1:-1;if(_<0||_>=e.length)return null;u=e[c=_],a=u.side(!i,t),h=u.side(i,t)}let m=$c(n.text,a,u.forward(i,t));(m<u.from||m>u.to)&&(m=h),Oae=n.text.slice(Math.min(a,m),Math.max(a,m));let v=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return v&&m==h&&v.level+(i?0:1)<u.level?qt.cursor(v.side(!i,t)+n.from,v.forward(i,t)?1:-1,v.level):qt.cursor(m+n.from,u.forward(i,t)?-1:1,u.level)}function CLe(n,e,t){for(let r=e;r<t;r++){let i=Sae(n.charCodeAt(r));if(i==1)return gb;if(i==2||i==4)return p7}return gb}const Tae=Vn.define(),Aae=Vn.define(),Rae=Vn.define(),Pae=Vn.define(),uB=Vn.define(),Mae=Vn.define(),Dae=Vn.define(),m7=Vn.define(),g7=Vn.define(),Nae=Vn.define({combine:n=>n.some(e=>e)}),OLe=Vn.define({combine:n=>n.some(e=>e)}),Iae=Vn.define();class c_{constructor(e,t="nearest",r="nearest",i=5,o=5,a=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=a}map(e){return e.empty?this:new c_(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new c_(qt.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const eM=Vi.define({map:(n,e)=>n.map(e)}),Lae=Vi.define();function Bc(n,e,t){let r=n.facet(Pae);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Xm=Vn.define({combine:n=>n.length?n[0]:!0});let TLe=0;const U2=Vn.define();class Pu{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:a}=t||{};return new Pu(TLe++,e,r,i,c=>{let u=[U2.of(c)];return a&&u.push(_O.of(h=>{let m=h.plugin(c);return m?a(m):wi.none})),o&&u.push(o(c)),u})}static fromClass(e,t){return Pu.define(r=>new e(r),t)}}class nF{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Bc(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Bc(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Bc(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Fae=Vn.define(),y7=Vn.define(),_O=Vn.define(),$ae=Vn.define(),v7=Vn.define(),Bae=Vn.define();function KY(n,e){let t=n.state.facet(Bae);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return uo.spans(r,e.from,e.to,{point(){},span(o,a,c,u){let h=o-e.from,m=a-e.from,v=i;for(let _=c.length-1;_>=0;_--,u--){let k=c[_].spec.bidiIsolate,R;if(k==null&&(k=CLe(e.text,h,m)),u>0&&v.length&&(R=v[v.length-1]).to==h&&R.direction==k)R.to=m,v=R.inner;else{let T={from:h,to:m,direction:k,inner:[]};v.push(T),v=T.inner}}}}),i}const jae=Vn.define();function b7(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(jae)){let a=o(n);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:t,top:r,bottom:i}}const G2=Vn.define();class yf{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new yf(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,a=0,c=0;;i++){let u=i==e.length?null:e[i],h=a-c,m=u?u.fromB:1e9;for(;o<t.length&&t[o]<m;){let v=t[o],_=t[o+1],k=Math.max(c,v),R=Math.min(m,_);if(k<=R&&new yf(k+h,R+h,k,R).addToSet(r),_>m)break;o+=2}if(!u)return r;new yf(u.fromA,u.toA,u.fromB,u.toB).addToSet(r),a=u.toA,c=u.toB}}}class C3{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=al.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,a,c,u)=>i.push(new yf(o,a,c,u))),this.changedRanges=i}static create(e,t,r){return new C3(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class XY extends jo{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=wi.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new xa],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new yf(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:h,toA:m})=>m<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!ILe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?RLe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:m}=this.hasComposition;r=new yf(h,m,e.changes.mapPos(h,-1),e.changes.mapPos(m,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Dn.ie||Dn.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,c=this.updateDeco(),u=DLe(a,c,e.changes);return r=yf.extendWithRanges(r,u),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=Dn.chrome||Dn.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||i.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof cg&&a.widget instanceof sB&&o.push(a.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let a=i.length-1;;a--){let c=a>=0?i[a]:null;if(!c)break;let{fromA:u,toA:h,fromB:m,toB:v}=c,_,k,R,T;if(r&&r.range.fromB<v&&r.range.toB>m){let I=gC.build(this.view.state.doc,m,r.range.fromB,this.decorations,this.dynamicDecorationMap),Y=gC.build(this.view.state.doc,r.range.toB,v,this.decorations,this.dynamicDecorationMap);k=I.breakAtStart,R=I.openStart,T=Y.openEnd;let oe=this.compositionView(r);Y.breakAtStart?oe.breakAfter=1:Y.content.length&&oe.merge(oe.length,oe.length,Y.content[0],!1,Y.openStart,0)&&(oe.breakAfter=Y.content[0].breakAfter,Y.content.shift()),I.content.length&&oe.merge(0,0,I.content[I.content.length-1],!0,0,I.openEnd)&&I.content.pop(),_=I.content.concat(oe).concat(Y.content)}else({content:_,breakAtStart:k,openStart:R,openEnd:T}=gC.build(this.view.state.doc,m,v,this.decorations,this.dynamicDecorationMap));let{i:F,off:$}=o.findPos(h,1),{i:j,off:B}=o.findPos(u,-1);mae(this,j,B,F,$,_,k,R,T)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(Lae)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Ih(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new wg(i,[t],t.length);let r=new xa;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,a)=>{a.flags|=8|(a.children.some(u=>u.flags&7)?1:0),this.markedForComposition.add(a);let c=jo.get(o);c&&c!=a&&(c.dom=null),a.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(Xm)||this.dom.tabIndex>-1)&&nD(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let a=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(c.anchor)),h=c.empty?u:this.moveToLine(this.domAtPos(c.head));if(Dn.gecko&&c.empty&&!this.hasComposition&&ALe(u)){let v=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(v,u.node.childNodes[u.offset]||null)),u=h=new tc(v,0),a=!0}let m=this.view.observer.selectionRange;(a||!m.focusNode||(!mC(u.node,u.offset,m.anchorNode,m.anchorOffset)||!mC(h.node,h.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,c))&&(this.view.observer.ignore(()=>{Dn.android&&Dn.chrome&&this.dom.contains(m.focusNode)&&NLe(m.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let v=wO(this.view.root);if(v)if(c.empty){if(Dn.gecko){let _=PLe(u.node,u.offset);if(_&&_!=3){let k=(_==1?fae:hae)(u.node,u.offset);k&&(u=new tc(k.node,k.offset))}}v.collapse(u.node,u.offset),c.bidiLevel!=null&&v.caretBidiLevel!==void 0&&(v.caretBidiLevel=c.bidiLevel)}else if(v.extend){v.collapse(u.node,u.offset);try{v.extend(h.node,h.offset)}catch{}}else{let _=document.createRange();c.anchor>c.head&&([u,h]=[h,u]),_.setEnd(h.node,h.offset),_.setStart(u.node,u.offset),v.removeAllRanges(),v.addRange(_)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(u,h)),this.impreciseAnchor=u.precise?null:new tc(m.anchorNode,m.anchorOffset),this.impreciseHead=h.precise?null:new tc(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&mC(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=wO(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let a=xa.find(this,t.head);if(!a)return;let c=a.posAtStart;if(t.head==c||t.head==c+a.length)return;let u=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!u||!h||u.bottom>h.top)return;let m=this.domAtPos(t.head+t.assoc);r.collapse(m.node,m.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let v=e.observer.selectionRange;e.docView.posFromDOM(v.anchorNode,v.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let o=jo.get(t.childNodes[i]);o instanceof xa&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=jo.get(t.childNodes[i]);o instanceof xa&&(r=o.domAtPos(o.length))}return r?new tc(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=jo.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof xa)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,a=this.children.length-1;a>=0;a--){let c=this.children[a],u=o-c.breakAfter,h=u-c.length;if(u<e)break;if(h<=e&&(h<e||c.covers(-1))&&(u>e||c.covers(1))&&(!r||c instanceof xa&&!(r instanceof xa&&t>=0)))r=c,i=h;else if(r&&h==e&&u==e&&c instanceof cg&&Math.abs(t)<2){if(c.deco.startSide<0)break;a&&(r=null)}o=h}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof xa))return null;for(;i.children.length;){let{i:c,off:u}=i.childPos(r,1);for(;;c++){if(c==i.children.length)return null;if((i=i.children[c]).length)break}r=u}if(!(i instanceof Ih))return null;let o=$c(i.text,r);if(o==r)return null;let a=mb(i.dom,r,o).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(c==a.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,u=this.view.textDirection==Js.LTR;for(let h=0,m=0;m<this.children.length;m++){let v=this.children[m],_=h+v.length;if(_>i)break;if(h>=r){let k=v.dom.getBoundingClientRect();if(t.push(k.height),a){let R=v.dom.lastChild,T=R?G_(R):[];if(T.length){let F=T[T.length-1],$=u?F.right-k.left:k.right-F.left;$>c&&(c=$,this.minWidth=o,this.minWidthFrom=h,this.minWidthTo=_)}}}h=_+v.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Js.RTL:Js.LTR}measureTextSize(){for(let o of this.children)if(o instanceof xa){let a=o.measureTextSize();if(a)return a}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=G_(e.firstChild)[0];t=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new pae(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],a=o?o.from-1:this.length;if(a>r){let c=(t.lineBlockAt(a).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(wi.replace({widget:new sB(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!o)break;r=o.to+1}return wi.set(e)}updateDeco(){let e=1,t=this.view.state.facet(_O).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet($ae).map((o,a)=>{let c=typeof o=="function";return c&&(r=!0),c?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(uo.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(Iae))try{if(h(this.view,e.range,e))return!0}catch(m){Bc(this.view.state,m,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=b7(this.view),a={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:c,offsetHeight:u}=this.view.scrollDOM;aLe(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==Js.LTR)}}function ALe(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function Vae(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=fae(t.focusNode,t.focusOffset),i=hae(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let c=jo.get(i.node);if(!c||c instanceof Ih&&c.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let u=jo.get(r.node);!u||u instanceof Ih&&u.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let a=e-o.offset;return{from:a,to:a+o.node.nodeValue.length,node:o.node}}function RLe(n,e,t){let r=Vae(n,t);if(!r)return null;let{node:i,from:o,to:a}=r,c=i.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(r.from,r.to)!=c)return null;let u=e.invertedDesc,h=new yf(u.mapPos(o),u.mapPos(a),o,a),m=[];for(let v=i.parentNode;;v=v.parentNode){let _=jo.get(v);if(_ instanceof wg)m.push({node:v,deco:_.mark});else{if(_ instanceof xa||v.nodeName=="DIV"&&v.parentNode==n.contentDOM)return{range:h,text:i,marks:m,line:v};if(v!=n.contentDOM)m.push({node:v,deco:new iT({inclusive:!0,attributes:gLe(v),tagName:v.tagName.toLowerCase()})});else return null}}}function PLe(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let MLe=class{constructor(){this.changes=[]}compareRange(e,t){rD(e,t,this.changes)}comparePoint(e,t){rD(e,t,this.changes)}boundChange(e){rD(e,e,this.changes)}};function DLe(n,e,t){let r=new MLe;return uo.compare(n,e,t,r),r.changes}function NLe(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function ILe(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function LLe(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),o=e-i.from;if(i.length==0)return qt.cursor(e);o==0?t=1:o==i.length&&(t=-1);let a=o,c=o;t<0?a=$c(i.text,o,!1):c=$c(i.text,o);let u=r(i.text.slice(a,c));for(;a>0;){let h=$c(i.text,a,!1);if(r(i.text.slice(h,a))!=u)break;a=h}for(;c<i.length;){let h=$c(i.text,c);if(r(i.text.slice(c,h))!=u)break;c=h}return qt.range(a+i.from,c+i.from)}function FLe(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function $Le(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function rF(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function ZY(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function JY(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function dB(n,e,t){let r,i,o,a,c=!1,u,h,m,v;for(let R=n.firstChild;R;R=R.nextSibling){let T=G_(R);for(let F=0;F<T.length;F++){let $=T[F];i&&rF(i,$)&&($=ZY(JY($,i.bottom),i.top));let j=FLe(e,$),B=$Le(t,$);if(j==0&&B==0)return R.nodeType==3?eQ(R,e,t):dB(R,e,t);if(!r||a>B||a==B&&o>j){r=R,i=$,o=j,a=B;let I=B?t<$.top?-1:1:j?e<$.left?-1:1:0;c=!I||(I>0?F<T.length-1:F>0)}j==0?t>$.bottom&&(!m||m.bottom<$.bottom)?(u=R,m=$):t<$.top&&(!v||v.top>$.top)&&(h=R,v=$):m&&rF(m,$)?m=JY(m,$.bottom):v&&rF(v,$)&&(v=ZY(v,$.top))}}if(m&&m.bottom>=t?(r=u,i=m):v&&v.top<=t&&(r=h,i=v),!r)return{node:n,offset:0};let _=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return eQ(r,_,t);if(c&&r.contentEditable!="false")return dB(r,_,t);let k=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:k}}function eQ(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,a=0;for(let c=0;c<r;c++){let u=mb(n,c,c+1).getClientRects();for(let h=0;h<u.length;h++){let m=u[h];if(m.top==m.bottom)continue;a||(a=e-m.left);let v=(m.top>t?m.top-t:t-m.bottom)-1;if(m.left-1<=e&&m.right+1>=e&&v<o){let _=e>=(m.left+m.right)/2,k=_;if((Dn.chrome||Dn.gecko)&&mb(n,c).getBoundingClientRect().left==m.right&&(k=!_),v<=0)return{node:n,offset:c+(k?1:0)};i=c+(k?1:0),o=v}}}return{node:n,offset:i>-1?i:a>0?n.nodeValue.length:0}}function zae(n,e,t,r=-1){var i,o;let a=n.contentDOM.getBoundingClientRect(),c=a.top+n.viewState.paddingTop,u,{docHeight:h}=n.viewState,{x:m,y:v}=e,_=v-c;if(_<0)return 0;if(_>h)return n.state.doc.length;for(let I=n.viewState.heightOracle.textHeight/2,Y=!1;u=n.elementAtHeight(_),u.type!=gf.Text;)for(;_=r>0?u.bottom+I:u.top-I,!(_>=0&&_<=h);){if(Y)return t?null:0;Y=!0,r=-r}v=c+_;let k=u.from;if(k<n.viewport.from)return n.viewport.from==0?0:t?null:tQ(n,a,u,m,v);if(k>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:tQ(n,a,u,m,v);let R=n.dom.ownerDocument,T=n.root.elementFromPoint?n.root:R,F=T.elementFromPoint(m,v);F&&!n.contentDOM.contains(F)&&(F=null),F||(m=Math.max(a.left+1,Math.min(a.right-1,m)),F=T.elementFromPoint(m,v),F&&!n.contentDOM.contains(F)&&(F=null));let $,j=-1;if(F&&((i=n.docView.nearest(F))===null||i===void 0?void 0:i.isEditable)!=!1){if(R.caretPositionFromPoint){let I=R.caretPositionFromPoint(m,v);I&&({offsetNode:$,offset:j}=I)}else if(R.caretRangeFromPoint){let I=R.caretRangeFromPoint(m,v);I&&({startContainer:$,startOffset:j}=I,(!n.contentDOM.contains($)||Dn.safari&&BLe($,j,m)||Dn.chrome&&jLe($,j,m))&&($=void 0))}$&&(j=Math.min(Zp($),j))}if(!$||!n.docView.dom.contains($)){let I=xa.find(n.docView,k);if(!I)return _>u.top+u.height/2?u.to:u.from;({node:$,offset:j}=dB(I.dom,m,v))}let B=n.docView.nearest($);if(!B)return null;if(B.isWidget&&((o=B.dom)===null||o===void 0?void 0:o.nodeType)==1){let I=B.dom.getBoundingClientRect();return e.y<I.top||e.y<=I.bottom&&e.x<=(I.left+I.right)/2?B.posAtStart:B.posAtEnd}else return B.localPosFromDOM($,j)+B.posAtStart}function tQ(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,u=Math.floor((i-t.top-(n.defaultLineHeight-c)*.5)/c);o+=u*n.viewState.heightOracle.lineLength}let a=n.state.sliceDoc(t.from,t.to);return t.from+tLe(a,o,n.state.tabSize)}function BLe(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return mb(n,r-1,r).getBoundingClientRect().left>t}function jLe(n,e,t){if(e!=0)return!1;for(let i=n;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=n.nodeType==1?n.getBoundingClientRect():mb(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function VLe(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==gf.Text&&(i.type!=o.type||(t<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function zLe(n,e,t,r){let i=VLe(n,e.head,e.assoc||-1),o=!r||i.type!=gf.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(i.from),u=n.posAtCoords({x:t==(c==Js.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return qt.cursor(u,t?-1:1)}return qt.cursor(t?i.to:i.from,t?-1:1)}function nQ(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),a=n.textDirectionAt(i.from);for(let c=e,u=null;;){let h=kLe(i,o,a,c,t),m=Oae;if(!h){if(i.number==(t?n.state.doc.lines:1))return c;m=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),h=n.visualLineSide(i,!t)}if(u){if(!u(m))return c}else{if(!r)return h;u=r(m)}c=h}}function HLe(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return o=>{let a=r(o);return i==df.Space&&(i=a),i==a}}function WLe(n,e,t,r){let i=e.head,o=t?1:-1;if(i==(t?n.state.doc.length:0))return qt.cursor(i,e.assoc);let a=e.goalColumn,c,u=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(i,e.assoc||-1),m=n.documentTop;if(h)a==null&&(a=h.left-u.left),c=o<0?h.top:h.bottom;else{let k=n.viewState.lineBlockAt(i);a==null&&(a=Math.min(u.right-u.left,n.defaultCharacterWidth*(i-k.from))),c=(o<0?k.top:k.bottom)+m}let v=u.left+a,_=r??n.viewState.heightOracle.textHeight>>1;for(let k=0;;k+=10){let R=c+(_+k)*o,T=zae(n,{x:v,y:R},!1,o);if(R<u.top||R>u.bottom||(o<0?T<i:T>i)){let F=n.docView.coordsForChar(T),$=!F||R<F.top?-1:1;return qt.cursor(T,$,void 0,a)}}}function iD(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,a,c)=>{if(e>o&&e<a){let u=r||t||(e-o<a-e?-1:1);e=u<0?o:a,r=u}});if(!r)return e}}function iF(n,e,t){let r=iD(n.state.facet(v7).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:qt.cursor(r,r<t.from?1:-1)}const Y2="";class qLe{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Bi.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Y2}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let a=i.nextSibling;if(a==t)break;let c=jo.get(i),u=jo.get(a);(c&&u?c.breakAfter:(c?c.breakAfter:S3(i))||S3(a)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=a}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,c;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(c=i.exec(t))&&(o=c.index,a=c[0].length),this.append(t.slice(r,o<0?t.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=a-1);r=o+a}}readNode(e){if(e.cmIgnore)return;let t=jo.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(ULe(e,r.node,r.offset)?t:0))}}function ULe(n,e,t){for(;;){if(!e||t<Zp(e))return!1;if(e==n)return!0;t=pb(e)+1,e=e.parentNode}}class rQ{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class GLe{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=o||a?[]:KLe(e),u=new qLe(c,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=XLe(c,this.bounds.from)}else{let c=e.observer.selectionRange,u=o&&o.node==c.focusNode&&o.offset==c.focusOffset||!eB(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),h=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset||!eB(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),m=e.viewport;if((Dn.ios||Dn.chrome)&&e.state.selection.main.empty&&u!=h&&(m.from>0||m.to<e.state.doc.length)){let v=Math.min(u,h),_=Math.max(u,h),k=m.from-v,R=m.to-_;(k==0||k==1||v==0)&&(R==0||R==-1||_==e.state.doc.length)&&(u=0,h=e.state.doc.length)}this.newSel=qt.single(h,u)}}}function Hae(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:c}=e.bounds,u=i.from,h=null;(o===8||Dn.android&&e.text.length<c-a)&&(u=i.to,h="end");let m=QLe(n.state.doc.sliceString(a,c,Y2),e.text,u-a,h);m&&(Dn.chrome&&o==13&&m.toB==m.from+2&&e.text.slice(m.from,m.toB)==Y2+Y2&&m.toB--,t={from:a+m.from,to:a+m.toA,insert:Qi.of(e.text.slice(m.from,m.toB).split(Y2))})}else r&&(!n.hasFocus&&n.state.facet(Xm)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(Dn.mac||Dn.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=qt.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Qi.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:Dn.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=qt.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Qi.of([" "])}),t)return x7(n,t,r,o);if(r&&!r.main.eq(i)){let a=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(a=!0),c=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:a,userEvent:c}),!0}else return!1}function x7(n,e,t,r=-1){if(Dn.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(Dn.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&l_(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&l_(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&l_(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,c=()=>a||(a=YLe(n,e,t));return n.state.facet(Mae).some(u=>u(n,e.from,e.to,o,c))||n.dispatch(c()),!0}function YLe(n,e,t){let r,i=n.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let c=o.from<e.from?i.sliceDoc(o.from,e.from):"",u=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(n.state.toText(c+e.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let c=i.changes(e),u=t&&t.main.to<=c.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let h=n.state.sliceDoc(e.from,e.to),m,v=t&&Vae(n,t.main.head);if(v){let R=e.insert.length-(e.to-e.from);m={from:v.from,to:v.to-R}}else m=n.state.doc.lineAt(o.head);let _=o.to-e.to,k=o.to-o.from;r=i.changeByRange(R=>{if(R.from==o.from&&R.to==o.to)return{changes:c,range:u||R.map(c)};let T=R.to-_,F=T-h.length;if(R.to-R.from!=k||n.state.sliceDoc(F,T)!=h||R.to>=m.from&&R.from<=m.to)return{range:R};let $=i.changes({from:F,to:T,insert:e.insert}),j=R.to-o.to;return{changes:$,range:u?qt.range(Math.max(0,u.anchor+j),Math.max(0,u.head+j)):R.map($)}})}else r={changes:c,selection:u&&i.selection.replaceRange(u)}}let a="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,a+=".compose",n.inputState.compositionFirstChange&&(a+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function QLe(n,e,t,r){let i=Math.min(n.length,e.length),o=0;for(;o<i&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&n.length==e.length)return null;let a=n.length,c=e.length;for(;a>0&&c>0&&n.charCodeAt(a-1)==e.charCodeAt(c-1);)a--,c--;if(r=="end"){let u=Math.max(0,o-Math.min(a,c));t-=a+u-o}if(a<o&&n.length<e.length){let u=t<=o&&t>=a?o-t:0;o-=u,c=o+(c-a),a=o}else if(c<o){let u=t<=o&&t>=c?o-t:0;o-=u,a=o+(a-c),c=o}return{from:o,toA:a,toB:c}}function KLe(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new rQ(t,r)),(i!=t||o!=r)&&e.push(new rQ(i,o))),e}function XLe(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?qt.single(t+e,r+e):null}class ZLe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Dn.safari&&e.contentDOM.addEventListener("input",()=>null),Dn.gecko&&p4e(e.contentDOM.ownerDocument)}handleEvent(e){!s4e(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=JLe(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!="scroll"){let a=!t[o].handlers.length,c=r[o];c&&a!=!c.handlers.length&&(i.removeEventListener(o,this.handleEvent),c=null),c||i.addEventListener(o,this.handleEvent,{passive:a})}for(let o in r)o!="scroll"&&!t[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&qae.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Dn.android&&Dn.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Dn.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Wae.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||e4e.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,l_(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Dn.safari&&!Dn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function iQ(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Bc(t.state,i)}}}function JLe(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let a=i.domEventHandlers[o];a&&t(o).handlers.push(iQ(r.value,a))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let a=i.domEventObservers[o];a&&t(o).observers.push(iQ(r.value,a))}}for(let r in Lh)t(r).handlers.push(Lh[r]);for(let r in Sf)t(r).observers.push(Sf[r]);return e}const Wae=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],e4e="dthko",qae=[16,17,18,20,91,92,224,225],tM=6;function nM(n){return Math.max(0,n)*.7+8}function t4e(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class n4e{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=lLe(e.contentDOM),this.atoms=e.state.facet(v7).map(a=>a(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Bi.allowMultipleSelections)&&r4e(e,t),this.dragging=o4e(e,t)&&Yae(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&t4e(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,a=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:c}=this.scrollParents.y.getBoundingClientRect());let u=b7(this.view);e.clientX-u.left<=i+tM?t=-nM(i-e.clientX):e.clientX+u.right>=a-tM&&(t=nM(e.clientX-a)),e.clientY-u.top<=o+tM?r=-nM(o-e.clientY):e.clientY+u.bottom>=c-tM&&(r=nM(e.clientY-c)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let a=iD(this.atoms,i.from,0);a!=i.from&&(o=qt.cursor(a,-1))}else{let a=iD(this.atoms,i.from,-1),c=iD(this.atoms,i.to,1);(a!=i.from||c!=i.to)&&(o=qt.range(i.from==i.anchor?a:c,i.from==i.head?a:c))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?qt.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function r4e(n,e){let t=n.state.facet(Tae);return t.length?t[0](e):Dn.mac?e.metaKey:e.ctrlKey}function i4e(n,e){let t=n.state.facet(Aae);return t.length?t[0](e):Dn.mac?!e.altKey:!e.ctrlKey}function o4e(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=wO(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function s4e(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=jo.get(t))&&r.ignoreEvent(e))return!1;return!0}const Lh=Object.create(null),Sf=Object.create(null),Uae=Dn.ie&&Dn.ie_version<15||Dn.ios&&Dn.webkit_version<604;function a4e(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Gae(n,t.value)},50)}function u5(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function Gae(n,e){e=u5(n.state,m7,e);let{state:t}=n,r,i=1,o=t.toText(e),a=o.lines==t.selection.ranges.length;if(fB!=null&&t.selection.ranges.every(u=>u.empty)&&fB==o.toString()){let u=-1;r=t.changeByRange(h=>{let m=t.doc.lineAt(h.from);if(m.from==u)return{range:h};u=m.from;let v=t.toText((a?o.line(i++).text:e)+t.lineBreak);return{changes:{from:m.from,insert:v},range:qt.cursor(h.from+v.length)}})}else a?r=t.changeByRange(u=>{let h=o.line(i++);return{changes:{from:u.from,to:u.to,insert:h.text},range:qt.cursor(u.from+h.length)}}):r=t.replaceSelection(o);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Sf.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Lh.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Sf.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Sf.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Lh.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(Rae))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=u4e(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new n4e(n,e,t,r)),r&&n.observer.ignore(()=>{cae(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function oQ(n,e,t,r){if(r==1)return qt.cursor(e,t);if(r==2)return LLe(n.state,e,t);{let i=xa.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:o.from,c=i?i.posAtEnd:o.to;return c<n.state.doc.length&&c==o.to&&c++,qt.range(a,c)}}let sQ=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function l4e(n,e,t,r){let i=xa.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let a=i.coordsAt(o,-1);if(a&&sQ(t,r,a))return-1;let c=i.coordsAt(o,1);return c&&sQ(t,r,c)?1:a&&a.bottom>=r?-1:1}function aQ(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:l4e(n,t,e.clientX,e.clientY)}}const c4e=Dn.ie&&Dn.ie_version<=11;let lQ=null,cQ=0,uQ=0;function Yae(n){if(!c4e)return n.detail;let e=lQ,t=uQ;return lQ=n,uQ=Date.now(),cQ=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(cQ+1)%3:1}function u4e(n,e){let t=aQ(n,e),r=Yae(e),i=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),i=i.map(o.changes))},get(o,a,c){let u=aQ(n,o),h,m=oQ(n,u.pos,u.bias,r);if(t.pos!=u.pos&&!a){let v=oQ(n,t.pos,t.bias,r),_=Math.min(v.from,m.from),k=Math.max(v.to,m.to);m=_<m.from?qt.range(_,k):qt.range(k,_)}return a?i.replaceRange(i.main.extend(m.from,m.to)):c&&r==1&&i.ranges.length>1&&(h=d4e(i,u.pos))?h:c?i.addRange(m):qt.create([m])}}}function d4e(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return qt.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Lh.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,a=o+i.length;(o>=t.to||a<=t.from)&&(t=qt.range(o,a))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",u5(n.state,g7,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Lh.dragend=n=>(n.inputState.draggedContent=null,!1);function dQ(n,e,t,r){if(t=u5(n.state,m7,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,a=r&&o&&i4e(n,e)?{from:o.from,to:o.to}:null,c={from:i,insert:t},u=n.state.changes(a?[a,c]:c);n.focus(),n.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Lh.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&dQ(n,e,r.filter(a=>a!=null).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let c=new FileReader;c.onerror=o,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[a]=c.result),o()},c.readAsText(t[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return dQ(n,e,r,!0),!0}return!1};Lh.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=Uae?null:e.clipboardData;return t?(Gae(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(a4e(n),!1)};function f4e(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function h4e(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:o}of n.selection.ranges){let a=n.doc.lineAt(o);a.number>i&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),i=a.number}r=!0}return{text:u5(n,g7,e.join(n.lineBreak)),ranges:t,linewise:r}}let fB=null;Lh.copy=Lh.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=h4e(n.state);if(!t&&!i)return!1;fB=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=Uae?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(f4e(n,t),!1)};const Qae=Pb.define();function Kae(n,e){let t=[];for(let r of n.facet(Dae)){let i=r(n,e);i&&t.push(i)}return t.length?n.update({effects:t,annotations:Qae.of(!0)}):null}function Xae(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=Kae(n.state,e);t?n.dispatch(t):n.update([])}},10)}Sf.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Xae(n)};Sf.blur=n=>{n.observer.clearSelectionRange(),Xae(n)};Sf.compositionstart=Sf.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Sf.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Dn.chrome&&Dn.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Sf.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Lh.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(o&&a.length){let c=a[0],u=n.posAtDOM(c.startContainer,c.startOffset),h=n.posAtDOM(c.endContainer,c.endOffset);return x7(n,{from:u,to:h,insert:n.state.toText(o)},null),!0}}let i;if(Dn.chrome&&Dn.android&&(i=Wae.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Dn.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Dn.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Sf.compositionend(n,e),20),!1};const fQ=new Set;function p4e(n){fQ.has(n)||(fQ.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const hQ=["pre-wrap","normal","pre-line","break-spaces"];let K_=!1;function pQ(){K_=!1}class m4e{constructor(e){this.lineWrapping=e,this.doc=Qi.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return hQ.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,o,a){let c=hQ.indexOf(e)>-1,u=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,u){this.heightSamples={};for(let h=0;h<a.length;h++){let m=a[h];m<0?h++:this.heightSamples[Math.floor(m*10)]=!0}}return u}}class g4e{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Np{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?gf.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof jv?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Np(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var as=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(as||(as={}));const oD=.001;class zc{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>oD&&(K_=!0),this.height=e)}replace(e,t,r){return zc.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,a=r.doc;for(let c=i.length-1;c>=0;c--){let{fromA:u,toA:h,fromB:m,toB:v}=i[c],_=o.lineAt(u,as.ByPosNoHeight,r.setDoc(t),0,0),k=_.to>=h?_:o.lineAt(h,as.ByPosNoHeight,r,0,0);for(v+=k.to-h,h=k.to;c>0&&_.from<=i[c-1].toA;)u=i[c-1].fromA,m=i[c-1].fromB,c--,u<_.from&&(_=o.lineAt(u,as.ByPosNoHeight,r,0,0));m+=_.from-u,u=_.from;let R=w7.build(r.setDoc(a),e,m,v);o=O3(o,o.replace(u,h,R))}return o.updateHeight(r,0)}static empty(){return new ld(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>o*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,i-=c.size}else if(o>i*2){let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,o-=c.size}else break;else if(i<o){let c=e[t++];c&&(i+=c.size)}else{let c=e[--r];c&&(o+=c.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,r++),new y4e(zc.of(e.slice(0,t)),a,zc.of(e.slice(r)))}}function O3(n,e){return n==e?n:(n.constructor!=e.constructor&&(K_=!0),e)}zc.prototype.size=1;class Zae extends zc{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new Np(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,a){e<=o+this.length&&t>=o&&a(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ld extends Zae{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new Np(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof ld||i instanceof kl&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof kl?i=new ld(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):zc.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class kl extends zc{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,a,c=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*o);a=u/o,this.length>o+1&&(c=(this.height-u)/(this.length-o-1))}else a=this.height/o;return{firstLine:r,lastLine:i,perLine:a,perChar:c}}blockAt(e,t,r,i){let{firstLine:o,lastLine:a,perLine:c,perChar:u}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),m=t.doc.lineAt(h),v=c+m.length*u,_=Math.max(r,e-v/2);return new Np(m.from,m.length,_,v,0)}else{let h=Math.max(0,Math.min(a-o,Math.floor((e-r)/c))),{from:m,length:v}=t.doc.line(o+h);return new Np(m,v,r+c*h,c,0)}}lineAt(e,t,r,i,o){if(t==as.ByHeight)return this.blockAt(e,r,i,o);if(t==as.ByPosNoHeight){let{from:k,to:R}=r.doc.lineAt(e);return new Np(k,R-k,0,0,0)}let{firstLine:a,perLine:c,perChar:u}=this.heightMetrics(r,o),h=r.doc.lineAt(e),m=c+h.length*u,v=h.number-a,_=i+c*v+u*(h.from-o-v);return new Np(h.from,h.length,Math.max(i,Math.min(_,i+this.height-m)),m,0)}forEachLine(e,t,r,i,o,a){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:c,perLine:u,perChar:h}=this.heightMetrics(r,o);for(let m=e,v=i;m<=t;){let _=r.doc.lineAt(m);if(m==e){let R=_.number-c;v+=u*R+h*(e-o-R)}let k=u+h*_.length;a(new Np(_.from,_.length,v,k,0)),v+=k,m=_.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof kl?r[r.length-1]=new kl(o.length+i):r.push(null,new kl(i-1))}if(e>0){let o=r[0];o instanceof kl?r[0]=new kl(e+o.length):r.unshift(new kl(e-1),null)}return zc.of(r)}decomposeLeft(e,t){t.push(new kl(e-1),null)}decomposeRight(e,t){t.push(null,new kl(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let a=[],c=Math.max(t,i.from),u=-1;for(i.from>t&&a.push(new kl(i.from-t-1).updateHeight(e,t));c<=o&&i.more;){let m=e.doc.lineAt(c).length;a.length&&a.push(null);let v=i.heights[i.index++];u==-1?u=v:Math.abs(v-u)>=oD&&(u=-2);let _=new ld(m,v);_.outdated=!1,a.push(_),c+=m+1}c<=o&&a.push(null,new kl(o-c).updateHeight(e,c));let h=zc.of(a);return(u<0||Math.abs(h.height-this.height)>=oD||Math.abs(u-this.heightMetrics(e,t).perLine)>=oD)&&(K_=!0),O3(this,h)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class y4e extends zc{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let a=i+this.left.height,c=o+this.left.length+this.break,u=t==as.ByHeight?e<a:e<c,h=u?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,a,c);if(this.break||(u?h.to<c:h.from>c))return h;let m=t==as.ByPosNoHeight?as.ByPosNoHeight:as.ByPos;return u?h.join(this.right.lineAt(c,m,r,a,c)):this.left.lineAt(c,m,r,i,o).join(h)}forEachLine(e,t,r,i,o,a){let c=i+this.left.height,u=o+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,t,r,i,o,a),t>=u&&this.right.forEachLine(e,t,r,c,u,a);else{let h=this.lineAt(u,as.ByPos,r,i,o);e<h.from&&this.left.forEachLine(e,h.from-1,r,i,o,a),h.to>=e&&h.from<=t&&a(h),t>h.to&&this.right.forEachLine(h.to+1,t,r,c,u,a)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let c of r)o.push(c);if(e>0&&mQ(o,a-1),t<this.length){let c=o.length;this.decomposeRight(t,o),mQ(o,c)}return zc.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?zc.of(this.break?[e,null,t]:[e,t]):(this.left=O3(this.left,e),this.right=O3(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:a}=this,c=t+o.length+this.break,u=null;return i&&i.from<=t+o.length&&i.more?u=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=c+a.length&&i.more?u=a=a.updateHeight(e,c,r,i):a.updateHeight(e,c,r),u?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mQ(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof kl&&(r=n[e+1])instanceof kl&&n.splice(e-1,3,new kl(t.length+1+r.length))}const v4e=5;class w7{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ld?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ld(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=t-e;r.block?this.addBlock(new Zae(a,i,r)):(a||o||i>=v4e)&&this.addLineDeco(i,o,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ld(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new kl(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ld)return e;let t=new ld(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ld)&&!this.isCovered?this.nodes.push(new ld(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ld&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new w7(r,e);return uo.spans(t,r,i,o,0),o.finish(r)}}function b4e(n,e,t){let r=new x4e;return uo.compare(n,e,t,r,0),r.changes}class x4e{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&rD(e,t,this.changes,5)}}function w4e(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),a=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),u=Math.min(i.innerHeight,t.bottom);for(let h=n.parentNode;h&&h!=r.body;)if(h.nodeType==1){let m=h,v=window.getComputedStyle(m);if((m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth)&&v.overflow!="visible"){let _=m.getBoundingClientRect();o=Math.max(o,_.left),a=Math.min(a,_.right),c=Math.max(c,_.top),u=Math.min(h==n.parentNode?i.innerHeight:u,_.bottom)}h=v.position=="absolute"||v.position=="fixed"?m.offsetParent:m.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:o-t.left,right:Math.max(o,a)-t.left,top:c-(t.top+e),bottom:Math.max(c,u)-(t.top+e)}}function _4e(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function E4e(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class oF{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return wi.replace({widget:new S4e(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class S4e extends PE{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class gQ{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=yQ,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Js.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(y7).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new m4e(t),this.stateDeco=e.facet(_O).filter(r=>typeof r!="function"),this.heightMap=zc.empty().applyChanges(this.stateDeco,Qi.empty,this.heightOracle.setDoc(e.doc),[new yf(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=wi.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:a})=>i>=o&&i<=a)){let{from:o,to:a}=this.lineBlockAt(i);e.push(new rM(o,a))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?yQ:new _7(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Q2(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(_O).filter(m=>typeof m!="function");let i=e.changedRanges,o=yf.extendWithRanges(i,b4e(r,this.stateDeco,e?e.changes:al.empty(this.state.doc.length))),a=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);pQ(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=a||K_)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let u=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<u.from||t.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,t));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(OLe)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Js.RTL:Js.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),c=t.getBoundingClientRect(),u=a||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let h=0,m=0;if(c.width&&c.height){let{scaleX:I,scaleY:Y}=lae(t,c);(I>.005&&Math.abs(this.scaleX-I)>.005||Y>.005&&Math.abs(this.scaleY-Y)>.005)&&(this.scaleX=I,this.scaleY=Y,h|=16,a=u=!0)}let v=(parseInt(r.paddingTop)||0)*this.scaleY,_=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=v||this.paddingBottom!=_)&&(this.paddingTop=v,this.paddingBottom=_,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let k=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=k&&(this.scrollAnchorHeight=-1,this.scrollTop=k),this.scrolledToBottom=dae(e.scrollDOM);let R=(this.printing?E4e:w4e)(t,this.paddingTop),T=R.top-this.pixelViewport.top,F=R.bottom-this.pixelViewport.bottom;this.pixelViewport=R;let $=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if($!=this.inView&&(this.inView=$,$&&(u=!0)),!this.inView&&!this.scrollTarget&&!_4e(e.dom))return 0;let j=c.width;if((this.contentDOMWidth!=j||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let I=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(I)&&(a=!0),a||i.lineWrapping&&Math.abs(j-this.contentDOMWidth)>i.charWidth){let{lineHeight:Y,charWidth:oe,textHeight:ne}=e.docView.measureTextSize();a=Y>0&&i.refresh(o,Y,oe,ne,j/oe,I),a&&(e.docView.minWidth=0,h|=16)}T>0&&F>0?m=Math.max(T,F):T<0&&F<0&&(m=Math.min(T,F)),pQ();for(let Y of this.viewports){let oe=Y.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(Y);this.heightMap=(a?zc.empty().applyChanges(this.stateDeco,Qi.empty,this.heightOracle,[new yf(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new g4e(Y.from,oe))}K_&&(h|=2)}let B=!this.viewportIsAppropriate(this.viewport,m)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return B&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(m,this.scrollTarget),h|=this.updateForViewport()),(h&2||B)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:c}=this,u=new rM(i.lineAt(a-r*1e3,as.ByHeight,o,0,0).from,i.lineAt(c+(1-r)*1e3,as.ByHeight,o,0,0).to);if(t){let{head:h}=t.range;if(h<u.from||h>u.to){let m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),v=i.lineAt(h,as.ByPos,o,0,0),_;t.y=="center"?_=(v.top+v.bottom)/2-m/2:t.y=="start"||t.y=="nearest"&&h<u.from?_=v.top:_=v.bottom-m,u=new rM(i.lineAt(_-1e3/2,as.ByHeight,o,0,0).from,i.lineAt(_+m+1e3/2,as.ByHeight,o,0,0).to)}}return u}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new rM(this.heightMap.lineAt(r,as.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,as.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,as.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,as.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:c}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=c+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&o<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new oF(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=Js.LTR&&!r)return[];let c=[],u=(m,v,_,k)=>{if(v-m<o)return;let R=this.state.selection.main,T=[R.from];R.empty||T.push(R.to);for(let $ of T)if($>m&&$<v){u(m,$-10,_,k),u($+10,v,_,k);return}let F=C4e(e,$=>$.from>=_.from&&$.to<=_.to&&Math.abs($.from-m)<o&&Math.abs($.to-v)<o&&!T.some(j=>$.from<j&&$.to>j));if(!F){if(v<_.to&&t&&r&&t.visibleRanges.some(B=>B.from<=v&&B.to>=v)){let B=t.moveToLineBoundary(qt.cursor(v),!1,!0).head;B>m&&(v=B)}let $=this.gapSize(_,m,v,k),j=r||$<2e6?$:2e6;F=new oF(m,v,$,j)}c.push(F)},h=m=>{if(m.length<a||m.type!=gf.Text)return;let v=k4e(m.from,m.to,this.stateDeco);if(v.total<a)return;let _=this.scrollTarget?this.scrollTarget.range.head:null,k,R;if(r){let T=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,F,$;if(_!=null){let j=oM(v,_),B=((this.visibleBottom-this.visibleTop)/2+T)/m.height;F=j-B,$=j+B}else F=(this.visibleTop-m.top-T)/m.height,$=(this.visibleBottom-m.top+T)/m.height;k=iM(v,F),R=iM(v,$)}else{let T=v.total*this.heightOracle.charWidth,F=i*this.heightOracle.charWidth,$=0;if(T>2e6)for(let oe of e)oe.from>=m.from&&oe.from<m.to&&oe.size!=oe.displaySize&&oe.from*this.heightOracle.charWidth+$<this.pixelViewport.left&&($=oe.size-oe.displaySize);let j=this.pixelViewport.left+$,B=this.pixelViewport.right+$,I,Y;if(_!=null){let oe=oM(v,_),ne=((B-j)/2+F)/T;I=oe-ne,Y=oe+ne}else I=(j-F)/T,Y=(B+F)/T;k=iM(v,I),R=iM(v,Y)}k>m.from&&u(m.from,k,m,v),R<m.to&&u(R,m.to,m,v)};for(let m of this.viewportLines)Array.isArray(m.type)?m.type.forEach(h):h(m);return c}gapSize(e,t,r,i){let o=oM(i,r)-oM(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){oF.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=wi.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];uo.spans(t,this.viewport.from,this.viewport.to,{span(o,a){r.push({from:o,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let a=this.visibleRanges[o],c=r[o];(a.from!=c.from||a.to!=c.to)&&(i|=4,e&&e.mapPos(a.from,-1)==c.from&&e.mapPos(a.to,1)==c.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Q2(this.heightMap.lineAt(e,as.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Q2(this.heightMap.lineAt(this.scaler.fromDOM(e),as.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Q2(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let rM=class{constructor(e,t){this.from=e,this.to=t}};function k4e(n,e,t){let r=[],i=n,o=0;return uo.spans(t,n,e,{span(){},point(a,c){a>i&&(r.push({from:i,to:a}),o+=a-i),i=c}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function iM({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:a}=e[i],c=a-o;if(r<=c)return o+r;r-=c}}function oM(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function C4e(n,e){for(let t of n)if(e(t))return t}const yQ={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class _7{constructor(e,t,r){let i=0,o=0,a=0;this.viewports=r.map(({from:c,to:u})=>{let h=t.lineAt(c,as.ByPos,e,0,0).top,m=t.lineAt(u,as.ByPos,e,0,0).bottom;return i+=m-h,{from:c,to:u,top:h,bottom:m,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=a+(c.top-o)*this.scale,a=c.domBottom=c.domTop+(c.bottom-c.top),o=c.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof _7?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Q2(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Np(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Q2(i,e)):n._content)}const sM=Vn.define({combine:n=>n.join(" ")}),hB=Vn.define({combine:n=>n.indexOf(!0)>-1}),pB=$v.newName(),Jae=$v.newName(),ele=$v.newName(),tle={"&light":"."+Jae,"&dark":"."+ele};function mB(n,e,t){return new $v(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const O4e=mB("."+pB,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},tle),T4e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},sF=Dn.ie&&Dn.ie_version<=11;class A4e{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new cLe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(Dn.ie&&Dn.ie_version<=11||Dn.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Dn.chrome&&Dn.chrome_version<126)&&(this.editContext=new P4e(e),e.state.facet(Xm)&&(e.contentDOM.editContext=this.editContext.editContext)),sF&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Xm)?r.root.activeElement!=this.dom:!nD(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Dn.ie&&Dn.ie_version<=11||Dn.android&&Dn.chrome)&&!r.state.selection.main.empty&&i.focusNode&&mC(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=wO(e.root);if(!t)return!1;let r=Dn.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&R4e(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=nD(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&dLe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,T4e),sF&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),sF&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&l_(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(i=!0),t==-1?{from:t,to:r}=a:(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&nD(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new GLe(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=Hae(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=vQ(t,e.previousSibling||e.target.previousSibling,-1),i=vQ(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Xm)!=e.state.facet(Xm)&&(e.view.contentDOM.editContext=e.state.facet(Xm)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function vQ(n,e,t){for(;e;){let r=jo.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function bQ(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return mC(a.node,a.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function R4e(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return bQ(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?bQ(n,t):null}class P4e{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:a}=i,c=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:c,drifted:!1});let h={from:c,to:u,insert:Qi.of(r.text.split(`
`))};if(h.from==this.from&&o<this.from?h.from=o:h.to==this.to&&o>this.to&&(h.to=o),h.from==h.to&&!h.insert.length){let m=qt.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));m.main.eq(i)||e.dispatch({selection:m,userEvent:"select"});return}if((Dn.mac||Dn.android)&&h.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:c,to:u,insert:Qi.of([r.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let m=this.to-this.from+(h.to-h.from+h.insert.length);x7(e,h,qt.single(this.toEditorPos(r.selectionStart,m),this.toEditorPos(r.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let a=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);a<c;a++){let u=e.coordsForChar(a);o=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let a=o.underlineStyle,c=o.underlineThickness;if(a!="None"&&c!="None"){let u=this.toEditorPos(o.rangeStart),h=this.toEditorPos(o.rangeEnd);if(u<h){let m=`text-decoration: underline ${a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${c=="Thin"?1:2}px`;i.push(wi.mark({attributes:{style:m}}).range(u,h))}}}e.dispatch({effects:Lae.of(wi.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=wO(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,a,c,u,h)=>{if(r)return;let m=h.length-(a-o);if(i&&a>=i.to)if(i.from==o&&i.to==a&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=m,this.to+=m;return}else i=null,this.revertPending(e.state);if(o+=t,a+=t,a<=this.from)this.from+=m,this.to+=m;else if(o<this.to){if(o<this.from||a>this.to||this.to-this.from+h.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(a),h.toString()),this.to+=m}t+=m}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class On{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||uLe(e.parent)||document,this.viewState=new gQ(e.state||Bi.create(e)),e.scrollTo&&e.scrollTo.is(eM)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(U2).map(i=>new nF(i));for(let i of this.plugins)i.update(this);this.observer=new A4e(this),this.inputState=new ZLe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new XY(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Rl?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,o=this.state;for(let _ of e){if(_.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=_.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,c=0,u=null;e.some(_=>_.annotation(Qae))?(this.inputState.notifiedFocused=a,c=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,u=Kae(o,a),u||(c=1));let h=this.observer.delayedAndroidKey,m=null;if(h?(this.observer.clearDelayedAndroidKey(),m=this.observer.readChange(),(m&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(m=null)):this.observer.clear(),o.facet(Bi.phrases)!=this.state.facet(Bi.phrases))return this.setState(o);i=C3.create(this,o,e),i.flags|=c;let v=this.viewState.scrollTarget;try{this.updateState=2;for(let _ of e){if(v&&(v=v.map(_.changes)),_.scrollIntoView){let{main:k}=_.state.selection;v=new c_(k.empty?k:qt.cursor(k.head,k.head>k.anchor?-1:1))}for(let k of _.effects)k.is(eM)&&(v=k.value.clip(this.state))}this.viewState.update(i,v),this.bidiCache=T3.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(G2)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(_=>_.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(sM)!=i.state.facet(sM)&&(this.viewState.mustMeasureContent=!0),(t||r||v||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let _ of this.state.facet(uB))try{_(i)}catch(k){Bc(this.state,k,"update listener")}(u||m)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),m&&!Hae(this,m)&&h.force&&l_(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new gQ(e),this.plugins=e.facet(U2).map(r=>new nF(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new XY(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(U2),r=e.state.facet(U2);if(t!=r){let i=[];for(let o of r){let a=t.indexOf(o);if(a<0)i.push(new nF(o));else{let c=this.plugins[a];c.mustUpdate=e,i.push(c)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Bc(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(a<0)if(dae(r))o=-1,a=this.viewState.heightMap.height;else{let k=this.viewState.scrollAnchorAt(i);o=k.from,a=k.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let m=h.map(k=>{try{return k.read(this)}catch(R){return Bc(this.state,R),xQ}}),v=C3.create(this,this.state,[]),_=!1;v.flags|=u,t?t.flags|=u:t=v,this.updateState=2,v.empty||(this.updatePlugins(v),this.inputState.update(v),this.updateAttrs(),_=this.docView.update(v),_&&this.docViewUpdate());for(let k=0;k<h.length;k++)if(m[k]!=xQ)try{let R=h[k];R.write&&R.write(m[k],this)}catch(R){Bc(this.state,R)}if(_&&this.docView.updateSelection(!0),!v.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let R=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(R>1||R<-1){i=i+R,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(uB))c(t)}get themeClasses(){return pB+" "+(this.state.facet(hB)?ele:Jae)+" "+this.state.facet(sM)}updateAttrs(){let e=wQ(this,Fae,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Xm)?"true":"false",class:"cm-content",style:`${Dn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),wQ(this,y7,t);let r=this.observer.ignore(()=>{let i=oB(this.contentDOM,this.contentAttrs,t),o=oB(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(On.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(G2);let e=this.state.facet(On.cspNonce);$v.mount(this.root,this.styleModules.concat(O4e).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return iF(this,e,nQ(this,e,t,r))}moveByGroup(e,t){return iF(this,e,nQ(this,e,t,r=>HLe(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return qt.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return zLe(this,e,t,r)}moveVertically(e,t,r){return iF(this,e,WLe(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),zae(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),a=o[sv.find(o,e-i.from,-1,t)];return rT(r,a.dir==Js.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Nae)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>M4e)return Cae(e.length);let t=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||kae(o.isolates,r=KY(this,e))))return o.order;r||(r=KY(this,e));let i=SLe(e.text,t,r);return this.bidiCache.push(new T3(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Dn.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{cae(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return eM.of(new c_(typeof e=="number"?qt.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return eM.of(new c_(qt.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Pu.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Pu.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=$v.newName(),i=[sM.of(r),G2.of(mB(`.${r}`,e))];return t&&t.dark&&i.push(hB.of(!0)),i}static baseTheme(e){return AE.lowest(G2.of(mB("."+pB,e,tle)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&jo.get(r)||jo.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}On.styleModule=G2;On.inputHandler=Mae;On.clipboardInputFilter=m7;On.clipboardOutputFilter=g7;On.scrollHandler=Iae;On.focusChangeEffect=Dae;On.perLineTextDirection=Nae;On.exceptionSink=Pae;On.updateListener=uB;On.editable=Xm;On.mouseSelectionStyle=Rae;On.dragMovesSelection=Aae;On.clickAddsSelectionRange=Tae;On.decorations=_O;On.outerDecorations=$ae;On.atomicRanges=v7;On.bidiIsolatedRanges=Bae;On.scrollMargins=jae;On.darkTheme=hB;On.cspNonce=Vn.define({combine:n=>n.length?n[0]:""});On.contentAttributes=y7;On.editorAttributes=Fae;On.lineWrapping=On.contentAttributes.of({class:"cm-lineWrapping"});On.announce=Vi.define();const M4e=4096,xQ={};class T3{constructor(e,t,r,i,o,a){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=a}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Js.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==i&&!t.touchesRange(a.from,a.to)&&r.push(new T3(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function wQ(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],a=typeof o=="function"?o(n):o;a&&iB(a,t)}return t}const D4e=Dn.mac?"mac":Dn.windows?"win":Dn.linux?"linux":"key";function N4e(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,o,a,c;for(let u=0;u<t.length-1;++u){const h=t[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))o=!0;else if(/^s(hift)?$/i.test(h))a=!0;else if(/^mod$/i.test(h))e=="mac"?c=!0:o=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),c&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function aM(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const I4e=AE.default(On.domEventHandlers({keydown(n,e){return B4e(L4e(e.state),n,e,"editor")}})),sT=Vn.define({enables:I4e}),_Q=new WeakMap;function L4e(n){let e=n.facet(sT),t=_Q.get(e);return t||_Q.set(e,t=$4e(e.reduce((r,i)=>r.concat(i),[]))),t}let Wy=null;const F4e=4e3;function $4e(n,e=D4e){let t=Object.create(null),r=Object.create(null),i=(a,c)=>{let u=r[a];if(u==null)r[a]=c;else if(u!=c)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,c,u,h,m)=>{var v,_;let k=t[a]||(t[a]=Object.create(null)),R=c.split(/ (?!$)/).map($=>N4e($,e));for(let $=1;$<R.length;$++){let j=R.slice(0,$).join(" ");i(j,!0),k[j]||(k[j]={preventDefault:!0,stopPropagation:!1,run:[B=>{let I=Wy={view:B,prefix:j,scope:a};return setTimeout(()=>{Wy==I&&(Wy=null)},F4e),!0}]})}let T=R.join(" ");i(T,!1);let F=k[T]||(k[T]={preventDefault:!1,stopPropagation:!1,run:((_=(v=k._any)===null||v===void 0?void 0:v.run)===null||_===void 0?void 0:_.slice())||[]});u&&F.run.push(u),h&&(F.preventDefault=!0),m&&(F.stopPropagation=!0)};for(let a of n){let c=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let h of c){let m=t[h]||(t[h]=Object.create(null));m._any||(m._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:v}=a;for(let _ in m)m[_].run.push(k=>v(k,gB))}let u=a[e]||a.key;if(u)for(let h of c)o(h,u,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(h,"Shift-"+u,a.shift,a.preventDefault,a.stopPropagation)}return t}let gB=null;function B4e(n,e,t,r){gB=e;let i=oLe(e),o=Rp(i,0),a=Hy(o)==i.length&&i!=" ",c="",u=!1,h=!1,m=!1;Wy&&Wy.view==t&&Wy.scope==r&&(c=Wy.prefix+" ",qae.indexOf(e.keyCode)<0&&(h=!0,Wy=null));let v=new Set,_=F=>{if(F){for(let $ of F.run)if(!v.has($)&&(v.add($),$(t)))return F.stopPropagation&&(m=!0),!0;F.preventDefault&&(F.stopPropagation&&(m=!0),h=!0)}return!1},k=n[r],R,T;return k&&(_(k[c+aM(i,e,!a)])?u=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Dn.windows&&e.ctrlKey&&e.altKey)&&(R=Bv[e.keyCode])&&R!=i?(_(k[c+aM(R,e,!0)])||e.shiftKey&&(T=xO[e.keyCode])!=i&&T!=R&&_(k[c+aM(T,e,!1)]))&&(u=!0):a&&e.shiftKey&&_(k[c+aM(i,e,!0)])&&(u=!0),!u&&_(k._any)&&(u=!0)),h&&(u=!0),u&&m&&e.stopPropagation(),gB=null,u}let j4e=class extends PE{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?G_(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),i=rT(t[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}};function nle(n){let e=Pu.fromClass(class{constructor(t){this.view=t,this.placeholder=n?wi.set([wi.widget({widget:new j4e(n),side:1}).range(0)]):wi.none}get decorations(){return this.view.state.doc.length?wi.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,On.contentAttributes.of({"aria-placeholder":n})]:e}const E2="-10000px";class rle{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(a=>a);let o=null;this.tooltipViews=this.tooltips.map(a=>o=r(a,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let a=[],c=t?[]:null;for(let u=0;u<o.length;u++){let h=o[u],m=-1;if(h){for(let v=0;v<this.tooltips.length;v++){let _=this.tooltips[v];_&&_.create==h.create&&(m=v)}if(m<0)a[u]=this.createTooltipView(h,u?a[u-1]:null),c&&(c[u]=!!h.above);else{let v=a[u]=this.tooltipViews[m];c&&(c[u]=t[m]),v.update&&v.update(e)}}}for(let u of this.tooltipViews)a.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return t&&(c.forEach((u,h)=>t[h]=u),t.length=c.length),this.input=i,this.tooltips=o,this.tooltipViews=a,!0}}function ile(n={}){return sD.of(n)}function V4e(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const sD=Vn.define({combine:n=>{var e,t,r;return{position:Dn.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||V4e}}}),EQ=new WeakMap,E7=Pu.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(sD);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new rle(n,S7,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(sD);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=E2,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(Dn.gecko)t=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==E2&&o.style.left=="0px"){let a=o.getBoundingClientRect();t=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(t||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(n=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=b7(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,a)=>{let c=this.manager.tooltipViews[a];return c.getCoords?c.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(sD).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:o}=n,a=[];for(let c=0;c<this.manager.tooltips.length;c++){let u=this.manager.tooltips[c],h=this.manager.tooltipViews[c],{dom:m}=h,v=n.pos[c],_=n.size[c];if(!v||u.clip!==!1&&(v.bottom<=Math.max(t.top,r.top)||v.top>=Math.min(t.bottom,r.bottom)||v.right<Math.max(t.left,r.left)-.1||v.left>Math.min(t.right,r.right)+.1)){m.style.top=E2;continue}let k=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,R=k?7:0,T=_.right-_.left,F=(e=EQ.get(h))!==null&&e!==void 0?e:_.bottom-_.top,$=h.offset||H4e,j=this.view.textDirection==Js.LTR,B=_.width>r.right-r.left?j?r.left:r.right-_.width:j?Math.max(r.left,Math.min(v.left-(k?14:0)+$.x,r.right-T)):Math.min(Math.max(r.left,v.left-T+(k?14:0)-$.x),r.right-T),I=this.above[c];!u.strictSide&&(I?v.top-F-R-$.y<r.top:v.bottom+F+R+$.y>r.bottom)&&I==r.bottom-v.bottom>v.top-r.top&&(I=this.above[c]=!I);let Y=(I?v.top-r.top:r.bottom-v.bottom)-R;if(Y<F&&h.resize!==!1){if(Y<this.view.defaultLineHeight){m.style.top=E2;continue}EQ.set(h,F),m.style.height=(F=Y)/o+"px"}else m.style.height&&(m.style.height="");let oe=I?v.top-F-R-$.y:v.bottom+R+$.y,ne=B+T;if(h.overlap!==!0)for(let ae of a)ae.left<ne&&ae.right>B&&ae.top<oe+F&&ae.bottom>oe&&(oe=I?ae.top-F-2-R:ae.bottom+R+2);if(this.position=="absolute"?(m.style.top=(oe-n.parent.top)/o+"px",SQ(m,(B-n.parent.left)/i)):(m.style.top=oe/o+"px",SQ(m,B/i)),k){let ae=v.left+(j?$.x:-$.x)-(B+14-7);k.style.left=ae/i+"px"}h.overlap!==!0&&a.push({left:B,top:oe,right:ne,bottom:oe+F}),m.classList.toggle("cm-tooltip-above",I),m.classList.toggle("cm-tooltip-below",!I),h.positioned&&h.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=E2}},{eventObservers:{scroll(){this.maybeMeasure()}}});function SQ(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const z4e=On.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),H4e={x:0,y:0},S7=Vn.define({enables:[E7,z4e]}),A3=Vn.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class d5{static create(e){return new d5(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new rle(e,A3,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const W4e=S7.compute([A3],n=>{let e=n.facet(A3);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:d5.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class q4e{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof ov)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let c=e.coordsAtPos(i);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(m=>m.from<=i&&m.to>=i),h=u&&u.dir==Js.RTL?-1:1;o=t.x<c.left?-h:h}let a=this.source(e,i,o);if(a!=null&&a.then){let c=this.pending={pos:i};a.then(u=>{this.pending==c&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>Bc(e.state,u,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(E7),t=e?e.manager.tooltips.findIndex(r=>r.create==d5.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!U4e(o.dom,e)||this.pending){let{pos:a}=i[0]||this.pending,c=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:a;(a==c?this.view.posAtCoords(this.lastMove)!=a:!G4e(this.view,a,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const lM=4;function U4e(n,e){let{left:t,right:r,top:i,bottom:o}=n.getBoundingClientRect(),a;if(a=n.querySelector(".cm-tooltip-arrow")){let c=a.getBoundingClientRect();i=Math.min(c.top,i),o=Math.max(c.bottom,o)}return e.clientX>=t-lM&&e.clientX<=r+lM&&e.clientY>=i-lM&&e.clientY<=o+lM}function G4e(n,e,t,r,i,o){let a=n.scrollDOM.getBoundingClientRect(),c=n.documentTop+n.documentPadding.top+n.contentHeight;if(a.left>r||a.right<r||a.top>i||Math.min(a.bottom,c)<i)return!1;let u=n.posAtCoords({x:r,y:i},!1);return u>=e&&u<=t}function Y4e(n,e={}){let t=Vi.define(),r=Sd.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(a=>!e.hideOn(o,a))),o.docChanged)){let a=[];for(let c of i){let u=o.changes.mapPos(c.pos,-1,Tl.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),c);h.pos=u,h.end!=null&&(h.end=o.changes.mapPos(h.end)),a.push(h)}}i=a}for(let a of o.effects)a.is(t)&&(i=a.value),a.is(Q4e)&&(i=[]);return i},provide:i=>A3.from(i)});return{active:r,extension:[r,Pu.define(i=>new q4e(i,n,r,t,e.hoverTime||300)),W4e]}}function ole(n,e){let t=n.plugin(E7);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const Q4e=Vi.define(),kQ=Vn.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}}),K4e=Pu.fromClass(class{constructor(n){this.input=n.state.facet(yB),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(kQ);this.top=new cM(n,!0,e.topContainer),this.bottom=new cM(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(kQ);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new cM(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new cM(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(yB);if(t!=this.input){let r=t.filter(u=>u),i=[],o=[],a=[],c=[];for(let u of r){let h=this.specs.indexOf(u),m;h<0?(m=u(n.view),c.push(m)):(m=this.panels[h],m.update&&m.update(n)),i.push(m),(m.top?o:a).push(m)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(a);for(let u of c)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>On.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class cM{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=CQ(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=CQ(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function CQ(n){let e=n.nextSibling;return n.remove(),e}const yB=Vn.define({enables:K4e});class yb extends hb{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}yb.prototype.elementClass="";yb.prototype.toDOM=void 0;yb.prototype.mapMode=Tl.TrackBefore;yb.prototype.startSide=yb.prototype.endSide=-1;yb.prototype.point=!0;const aF=Vn.define(),X4e=Vn.define(),aD=Vn.define(),OQ=Vn.define({combine:n=>n.some(e=>e)});function Z4e(n){return[J4e]}const J4e=Pu.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(aD).map(e=>new AQ(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(OQ),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(OQ)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=uo.iter(this.view.state.facet(aF),this.view.viewport.from),r=[],i=this.gutters.map(o=>new eFe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let a=!0;for(let c of o.type)if(c.type==gf.Text&&a){vB(t,r,c.from);for(let u of i)u.line(this.view,c,r);a=!1}else if(c.widget)for(let u of i)u.widget(this.view,c)}else if(o.type==gf.Text){vB(t,r,o.from);for(let a of i)a.line(this.view,o,r)}else if(o.widget)for(let a of i)a.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(aD),t=n.state.facet(aD),r=n.docChanged||n.heightChanged||n.viewportChanged||!uo.eq(n.startState.facet(aF),n.state.facet(aF),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let a=e.indexOf(o);a<0?i.push(new AQ(this.view,o)):(this.gutters[a].update(n),i.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>On.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Js.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function TQ(n){return Array.isArray(n)?n:[n]}function vB(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class eFe{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=uo.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==i.elements.length){let c=new sle(e,a,o,r);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(e,a,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];vB(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet(X4e)){let a=o(e,t.widget,t);a&&(i||(i=[])).push(a)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class AQ{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let u=o.getBoundingClientRect();a=(u.top+u.bottom)/2}else a=i.clientY;let c=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,c,i)&&i.preventDefault()});this.markers=TQ(t.markers(e)),t.initialSpacer&&(this.spacer=new sle(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=TQ(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!uo.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class sle{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),tFe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,a=0;;){let c=a,u=o<t.length?t[o++]:null,h=!1;if(u){let m=u.elementClass;m&&(r+=" "+m);for(let v=a;v<this.markers.length;v++)if(this.markers[v].compare(u)){c=v,h=!0;break}}else c=this.markers.length;for(;a<c;){let m=this.markers[a++];if(m.toDOM){m.destroy(i);let v=i.nextSibling;i.remove(),i=v}}if(!u)break;u.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),h&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function tFe(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const nFe=Vn.define(),rFe=Vn.define(),jw=Vn.define({combine(n){return a5(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],a=t[i];r[i]=o?(c,u,h)=>o(c,u,h)||a(c,u,h):a}return r}})}});class lF extends yb{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function cF(n,e){return n.state.facet(jw).formatNumber(e,n.state)}const iFe=aD.compute([jw],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(nFe)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new lF(cF(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(rFe)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(jw)!=e.state.facet(jw),initialSpacer(e){return new lF(cF(e,RQ(e.state.doc.lines)))},updateSpacer(e,t){let r=cF(t.view,RQ(t.view.state.doc.lines));return r==e.number?e:new lF(r)},domEventHandlers:n.facet(jw).domEventHandlers}));function ale(n={}){return[jw.of(n),Z4e(),iFe]}function RQ(n){let e=9;for(;e<n;)e=e*10+9;return e}var uF;const Vw=new Fr;function oFe(n){return Vn.define({combine:n?e=>e.concat(n):void 0})}const sFe=new Fr;class _h{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Bi.prototype.hasOwnProperty("tree")||Object.defineProperty(Bi.prototype,"tree",{get(){return Ga(this)}}),this.parser=t,this.extension=[Z_.of(this),Bi.languageData.of((o,a,c)=>{let u=PQ(o,a,c),h=u.type.prop(Vw);if(!h)return[];let m=o.facet(h),v=u.type.prop(sFe);if(v){let _=u.resolve(a-u.from,c);for(let k of v)if(k.test(_,o)){let R=o.facet(k.facet);return k.type=="replace"?R:R.concat(m)}}return m})].concat(r)}isActiveAt(e,t,r=-1){return PQ(e,t,r).type.prop(Vw)==this.data}findRegions(e){let t=e.facet(Z_);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,a)=>{if(o.prop(Vw)==this.data){r.push({from:a,to:a+o.length});return}let c=o.prop(Fr.mounted);if(c){if(c.tree.prop(Vw)==this.data){if(c.overlay)for(let u of c.overlay)r.push({from:u.from+a,to:u.to+a});else r.push({from:a,to:a+o.length});return}else if(c.overlay){let u=r.length;if(i(c.tree,c.overlay[0].from+a),r.length>u)return}}for(let u=0;u<o.children.length;u++){let h=o.children[u];h instanceof fo&&i(h,o.positions[u]+a)}};return i(Ga(e),0),r}get allowsNesting(){return!0}}_h.setState=Vi.define();function PQ(n,e,t){let r=n.facet(Z_),i=Ga(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,Cs.ExcludeBuffers))o.type.isTop&&(i=o);return i}class EO extends _h{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=oFe(e.languageData);return new EO(t,e.parser.configure({props:[Vw.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new EO(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ga(n){let e=n.field(_h.state,!1);return e?e.tree:fo.empty}class aFe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let S2=null;class R3{constructor(e,t,r=[],i,o,a,c,u){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=c,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new R3(e,t,[],fo.empty,0,r,[],null)}startParse(){return this.parser.startParse(new aFe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=fo.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ag.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ag.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=S2;S2=this;try{return e()}finally{S2=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=MQ(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:a,skipped:c}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,m,v,_)=>u.push({fromA:h,toA:m,fromB:v,toB:_})),r=ag.applyChanges(r,u),i=fo.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){c=[];for(let h of this.skipped){let m=e.mapPos(h.from,1),v=e.mapPos(h.to,-1);m<v&&c.push({from:m,to:v})}}}return new R3(this.parser,t,r,i,o,a,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=MQ(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends n7{createParse(t,r,i){let o=i[0].from,a=i[i.length-1].to;return{parsedPos:o,advance(){let u=S2;if(u){for(let h of i)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=a,new fo(Ua.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return S2}}function MQ(n,e,t){return ag.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class X_{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new X_(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=R3.create(e.facet(Z_).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new X_(r)}}_h.state=Sd.define({create:X_.init,update(n,e){for(let t of e.effects)if(t.is(_h.setState))return t.value;return e.startState.facet(Z_)!=e.state.facet(Z_)?X_.init(e.state):n.apply(e)}});let lle=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(lle=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const dF=typeof navigator<"u"&&(!((uF=navigator.scheduling)===null||uF===void 0)&&uF.isInputPending)?()=>navigator.scheduling.isInputPending():null,lFe=Pu.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(_h.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(_h.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=lle(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(_h.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!dF?Math.max(25,e.timeRemaining()-5):1e9),c=o.context.treeLen<i&&r.doc.length>i+1e3,u=o.context.work(()=>dF&&dF()||Date.now()>a,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:_h.setState.of(new X_(o.context))})),this.chunkBudget>0&&!(u&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Bc(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Z_=Vn.define({combine(n){return n.length?n[0]:null},enables:n=>[_h.state,lFe,On.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class cle{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const cFe=Vn.define(),f5=Vn.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function P3(n){let e=n.facet(f5);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function SO(n,e){let t="",r=n.tabSize,i=n.facet(f5)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function k7(n,e){n instanceof Bi&&(n=new h5(n));for(let r of n.state.facet(cFe)){let i=r(n,e);if(i!==void 0)return i}let t=Ga(n.state);return t.length>=e?uFe(n,t,e):null}class h5{constructor(e,t={}){this.state=e,this.options=t,this.unit=P3(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return l5(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ule=new Fr;function uFe(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let o=[];for(let a=i;a&&!(a.from==r.node.from&&a.type==r.node.type);a=a.parent)o.push(a);for(let a=o.length-1;a>=0;a--)r={node:o[a],next:r}}return dle(r,n,t)}function dle(n,e,t){for(let r=n;r;r=r.next){let i=fFe(r.node);if(i)return i(C7.create(e,t,r))}return 0}function dFe(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function fFe(n){let e=n.type.prop(ule);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Fr.closedBy))){let i=n.lastChild,o=i&&r.indexOf(i.name)>-1;return a=>fle(a,!0,1,void 0,o&&!dFe(a)?i.from:void 0)}return n.parent==null?hFe:null}function hFe(){return 0}class C7 extends h5{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new C7(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(pFe(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return dle(this.context.next,this.base,this.pos)}}function pFe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function mFe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),a=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let c=t.to;;){let u=e.childAfter(c);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=a)return null;let h=/^ */.exec(o.text.slice(t.to-o.from))[0].length;return{from:t.from,to:t.to+h}}c=u.to}}function DQ({closing:n,align:e=!0,units:t=1}){return r=>fle(r,e,t,n)}function fle(n,e,t,r,i){let o=n.textAfter,a=o.match(/^\s*/)[0].length,c=r&&o.slice(a,a+r.length)==r||i==n.pos+a,u=e?mFe(n):null;return u?c?n.column(u.from):n.column(u.to):n.baseIndent+(c?0:n.unit*t)}function fF({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const gFe=200;function hle(){return Bi.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+gFe)return n;let o=t.sliceString(i.from,r);if(!e.some(h=>h.test(o)))return n;let{state:a}=n,c=-1,u=[];for(let{head:h}of a.selection.ranges){let m=a.doc.lineAt(h);if(m.from==c)continue;c=m.from;let v=k7(a,m.from);if(v==null)continue;let _=/^\s*/.exec(m.text)[0],k=SO(a,v);_!=k&&u.push({from:m.from,to:m.from+_.length,insert:k})}return u.length?[n,{changes:u,sequential:!0}]:n})}const ple=new Fr;function yC(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}class Qv{constructor(e,t){this.specs=e;let r;function i(c){let u=$v.newName();return(r||(r=Object.create(null)))["."+u]=c,u}const o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,a=t.scope;this.scope=a instanceof _h?c=>c.prop(Vw)==a.data:a?c=>c==a:void 0,this.style=Sse(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:o}).style,this.module=r?new $v(r):null,this.themeType=t.themeType}static define(e,t){return new Qv(e,t||{})}}const bB=Vn.define(),yFe=Vn.define({combine(n){return n.length?[n[0]]:null}});function hF(n){let e=n.facet(bB);return e.length?e:n.facet(yFe)}function p5(n,e){let t=[bFe],r;return n instanceof Qv&&(n.module&&t.push(On.styleModule.of(n.module)),r=n.themeType),r?t.push(bB.computeN([On.darkTheme],i=>i.facet(On.darkTheme)==(r=="dark")?[n]:[])):t.push(bB.of(n)),t}class vFe{constructor(e){this.markCache=Object.create(null),this.tree=Ga(e.state),this.decorations=this.buildDeco(e,hF(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Ga(e.state),r=hF(e.state),i=r!=hF(e.startState),{viewport:o}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&a>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return wi.none;let r=new U_;for(let{from:i,to:o}of e.visibleRanges)xNe(this.tree,t,(a,c,u)=>{r.add(a,c,this.markCache[u]||(this.markCache[u]=wi.mark({class:u})))},i,o);return r.finish()}}const bFe=AE.high(Pu.fromClass(vFe,{decorations:n=>n.decorations}));Se.meta,Se.link,Se.heading,Se.emphasis,Se.strong,Se.strikethrough,Se.keyword,Se.atom,Se.bool,Se.url,Se.contentSeparator,Se.labelName,Se.literal,Se.inserted,Se.string,Se.deleted,Se.regexp,Se.escape,Se.string,Se.variableName,Se.variableName,Se.typeName,Se.namespace,Se.className,Se.variableName,Se.macroName,Se.propertyName,Se.comment,Se.invalid;const xFe=On.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),mle=1e4,gle="()[]{}",yle=Vn.define({combine(n){return a5(n,{afterCursor:!0,brackets:gle,maxScanDistance:mle,renderMatch:EFe})}}),wFe=wi.mark({class:"cm-matchingBracket"}),_Fe=wi.mark({class:"cm-nonmatchingBracket"});function EFe(n){let e=[],t=n.matched?wFe:_Fe;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const SFe=Sd.define({create(){return wi.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(yle);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=$p(e.state,i.head,-1,r)||i.head>0&&$p(e.state,i.head-1,1,r)||r.afterCursor&&($p(e.state,i.head,1,r)||i.head<e.state.doc.length&&$p(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return wi.set(t,!0)},provide:n=>On.decorations.from(n)}),kFe=[SFe,xFe];function vle(n={}){return[yle.of(n),kFe]}const CFe=new Fr;function xB(n,e,t){let r=n.prop(e<0?Fr.openedBy:Fr.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function wB(n){let e=n.type.prop(CFe);return e?e(n.node):n}function $p(n,e,t,r={}){let i=r.maxScanDistance||mle,o=r.brackets||gle,a=Ga(n),c=a.resolveInner(e,t);for(let u=c;u;u=u.parent){let h=xB(u.type,t,o);if(h&&u.from<u.to){let m=wB(u);if(m&&(t>0?e>=m.from&&e<m.to:e>m.from&&e<=m.to))return OFe(n,e,t,u,m,h,o)}}return TFe(n,e,t,a,c.type,i,o)}function OFe(n,e,t,r,i,o,a){let c=r.parent,u={from:i.from,to:i.to},h=0,m=c==null?void 0:c.cursor();if(m&&(t<0?m.childBefore(r.from):m.childAfter(r.to)))do if(t<0?m.to<=r.from:m.from>=r.to){if(h==0&&o.indexOf(m.type.name)>-1&&m.from<m.to){let v=wB(m);return{start:u,end:v?{from:v.from,to:v.to}:void 0,matched:!0}}else if(xB(m.type,t,a))h++;else if(xB(m.type,-t,a)){if(h==0){let v=wB(m);return{start:u,end:v&&v.from<v.to?{from:v.from,to:v.to}:void 0,matched:!1}}h--}}while(t<0?m.prevSibling():m.nextSibling());return{start:u,matched:!1}}function TFe(n,e,t,r,i,o,a){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),u=a.indexOf(c);if(u<0||u%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},m=n.doc.iterRange(e,t>0?n.doc.length:0),v=0;for(let _=0;!m.next().done&&_<=o;){let k=m.value;t<0&&(_+=k.length);let R=e+_*t;for(let T=t>0?0:k.length-1,F=t>0?k.length:-1;T!=F;T+=t){let $=a.indexOf(k[T]);if(!($<0||r.resolveInner(R+T,1).type!=i))if($%2==0==t>0)v++;else{if(v==1)return{start:h,end:{from:R+T,to:R+T+1},matched:$>>1==u>>1};v--}}t>0&&(_+=k.length)}return m.done?{start:h,matched:!1}:null}const AFe=Object.create(null),NQ=[Ua.none],IQ=[],LQ=Object.create(null),RFe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])RFe[n]=PFe(AFe,e);function pF(n,e){IQ.indexOf(n)>-1||(IQ.push(n),console.warn(e))}function PFe(n,e){let t=[];for(let c of e.split(" ")){let u=[];for(let h of c.split(".")){let m=n[h]||Se[h];m?typeof m=="function"?u.length?u=u.map(m):pF(h,`Modifier ${h} used at start of tag`):u.length?pF(h,`Tag ${h} used as modifier`):u=Array.isArray(m)?m:[m]:pF(h,`Unknown highlighting tag ${h}`)}for(let h of u)t.push(h)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(c=>c.id),o=LQ[i];if(o)return o.id;let a=LQ[i]=Ua.define({id:NQ.length,name:r,props:[nT({[r]:t})]});return NQ.push(a),a.id}Js.RTL,Js.LTR;class ble{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Ga(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(xle(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function FQ(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function MFe(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=FQ(e)+FQ(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function O7(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:MFe(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}class $Q{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Q1(n){return n.selection.main.from}function xle(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?n:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const T7=Pb.define();function DFe(n,e,t,r){let{main:i}=n.selection,o=t-i.from,a=r-i.from;return Object.assign(Object.assign({},n.changeByRange(c=>{if(c!=i&&t!=r&&n.sliceDoc(c.from+o,c.from+a)!=n.sliceDoc(t,r))return{range:c};let u=n.toText(e);return{changes:{from:c.from+o,to:r==i.from?c.to:c.from+a,insert:u},range:qt.cursor(c.from+o+u.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const BQ=new WeakMap;function NFe(n){if(!Array.isArray(n))return n;let e=BQ.get(n);return e||BQ.set(n,e=O7(n)),e}const M3=Vi.define(),kO=Vi.define();class IFe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Rp(e,t),i=Hy(r);this.chars.push(r);let o=e.slice(t,t+i),a=o.toUpperCase();this.folded.push(Rp(a==o?o.toLowerCase():a,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:a}=this;if(t.length==1){let j=Rp(e,0),B=Hy(j),I=B==e.length?0:-100;if(j!=t[0])if(j==r[0])I+=-200;else return null;return this.ret(I,[0,B])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=t.length,h=0;if(c<0){for(let j=0,B=Math.min(e.length,200);j<B&&h<u;){let I=Rp(e,j);(I==t[h]||I==r[h])&&(i[h++]=j),j+=Hy(I)}if(h<u)return null}let m=0,v=0,_=!1,k=0,R=-1,T=-1,F=/[a-z]/.test(e),$=!0;for(let j=0,B=Math.min(e.length,200),I=0;j<B&&v<u;){let Y=Rp(e,j);c<0&&(m<u&&Y==t[m]&&(o[m++]=j),k<u&&(Y==t[k]||Y==r[k]?(k==0&&(R=j),T=j+1,k++):k=0));let oe,ne=Y<255?Y>=48&&Y<=57||Y>=97&&Y<=122?2:Y>=65&&Y<=90?1:0:(oe=Qse(Y))!=oe.toLowerCase()?1:oe!=oe.toUpperCase()?2:0;(!j||ne==1&&F||I==0&&ne!=0)&&(t[v]==Y||r[v]==Y&&(_=!0)?a[v++]=j:a.length&&($=!1)),I=ne,j+=Hy(Y)}return v==u&&a[0]==0&&$?this.result(-100+(_?-200:0),a,e):k==u&&R==0?this.ret(-200-e.length+(T==e.length?0:-100),[0,T]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):k==u?this.ret(-900-e.length,[R,T]):v==u?this.result(-100+(_?-200:0)+-700+($?0:-1100),a,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],o=0;for(let a of t){let c=a+(this.astral?Hy(Rp(r,a)):1);o&&i[o-1]==a?i[o-1]=c:(i[o++]=a,i[o++]=c)}return this.ret(e-r.length,i)}}class LFe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const ll=Vn.define({combine(n){return a5(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:FFe,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>jQ(e(r),t(r)),optionClass:(e,t)=>r=>jQ(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function jQ(n,e){return n?e?n+" "+e:n:e}function FFe(n,e,t,r,i,o){let a=n.textDirection==Js.RTL,c=a,u=!1,h="top",m,v,_=e.left-i.left,k=i.right-e.right,R=r.right-r.left,T=r.bottom-r.top;if(c&&_<Math.min(R,k)?c=!1:!c&&k<Math.min(R,_)&&(c=!0),R<=(c?_:k))m=Math.max(i.top,Math.min(t.top,i.bottom-T))-e.top,v=Math.min(400,c?_:k);else{u=!0,v=Math.min(400,(a?e.right:i.right-e.left)-30);let j=i.bottom-e.bottom;j>=T||j>e.top?m=t.bottom-e.top:(h="bottom",m=e.bottom-t.top)}let F=(e.bottom-e.top)/o.offsetHeight,$=(e.right-e.left)/o.offsetWidth;return{style:`${h}: ${m/F}px; max-width: ${v/$}px`,class:"cm-completionInfo-"+(u?a?"left-narrow":"right-narrow":c?"left":"right")}}function $Fe(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,o){let a=document.createElement("span");a.className="cm-completionLabel";let c=t.displayLabel||t.label,u=0;for(let h=0;h<o.length;){let m=o[h++],v=o[h++];m>u&&a.appendChild(document.createTextNode(c.slice(u,m)));let _=a.appendChild(document.createElement("span"));_.appendChild(document.createTextNode(c.slice(m,v))),_.className="cm-completionMatchedText",u=v}return u<c.length&&a.appendChild(document.createTextNode(c.slice(u))),a},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function mF(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class BFe{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:a}=i.open,c=e.state.facet(ll);this.optionContent=$Fe(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=mF(o.length,a,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(t).open;for(let m=u.target,v;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(v=/-(\d+)$/.exec(m.id))&&+v[1]<h.length){this.applyCompletion(e,h[+v[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(ll).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:kO.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:a,disabled:c}=r.open;(!i.open||i.open.options!=o)&&(this.range=mF(o.length,a,e.state.facet(ll).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),c!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=mF(t.options.length,t.selected,this.view.state.facet(ll).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,r)}).catch(a=>Bc(this.view.state,a,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&VFe(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(ll).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let o=null;for(let a=r.from;a<r.to;a++){let{completion:c,match:u}=e[a],{section:h}=c;if(h){let _=typeof h=="string"?h:h.name;if(_!=o&&(a>r.from||r.from==0))if(o=_,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let k=i.appendChild(document.createElement("completion-section"));k.textContent=_}}const m=i.appendChild(document.createElement("li"));m.id=t+"-"+a,m.setAttribute("role","option");let v=this.optionClass(c);v&&(m.className=v);for(let _ of this.optionContent){let k=_(c,this.view.state,this.view,u);k&&m.appendChild(k)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function jFe(n,e){return t=>new BFe(t,n,e)}function VFe(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function VQ(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function zFe(n,e){let t=[],r=null,i=h=>{t.push(h);let{section:m}=h.completion;if(m){r||(r=[]);let v=typeof m=="string"?m:m.name;r.some(_=>_.name==v)||r.push(typeof m=="string"?{name:v}:m)}},o=e.facet(ll);for(let h of n)if(h.hasResult()){let m=h.result.getMatch;if(h.result.filter===!1)for(let v of h.result.options)i(new $Q(v,h.source,m?m(v):[],1e9-t.length));else{let v=e.sliceDoc(h.from,h.to),_,k=o.filterStrict?new LFe(v):new IFe(v);for(let R of h.result.options)if(_=k.match(R.label)){let T=R.displayLabel?m?m(R,_.matched):[]:_.matched;i(new $Q(R,h.source,T,_.score+(R.boost||0)))}}}if(r){let h=Object.create(null),m=0,v=(_,k)=>{var R,T;return((R=_.rank)!==null&&R!==void 0?R:1e9)-((T=k.rank)!==null&&T!==void 0?T:1e9)||(_.name<k.name?-1:1)};for(let _ of r.sort(v))m-=1e5,h[_.name]=m;for(let _ of t){let{section:k}=_.completion;k&&(_.score+=h[typeof k=="string"?k:k.name])}}let a=[],c=null,u=o.compareCompletions;for(let h of t.sort((m,v)=>v.score-m.score||u(m.completion,v.completion))){let m=h.completion;!c||c.label!=m.label||c.detail!=m.detail||c.type!=null&&m.type!=null&&c.type!=m.type||c.apply!=m.apply||c.boost!=m.boost?a.push(h):VQ(h.completion)>VQ(c)&&(a[a.length-1]=h),c=h.completion}return a}class zw{constructor(e,t,r,i,o,a){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new zw(this.options,zQ(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o,a){if(i&&!a&&e.some(h=>h.isPending))return i.setDisabled();let c=zFe(e,t);if(!c.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let u=t.facet(ll).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let h=i.options[i.selected].completion;for(let m=0;m<c.length;m++)if(c[m].completion==h){u=m;break}}return new zw(c,zQ(r,u),{pos:e.reduce((h,m)=>m.hasResult()?Math.min(h,m.from):h,1e8),create:YFe,above:o.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new zw(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new zw(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class D3{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new D3(UFe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(ll),o=(r.override||t.languageDataAt("autocomplete",Q1(t)).map(NFe)).map(u=>(this.active.find(m=>m.source==u)||new ff(u,this.active.some(m=>m.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((u,h)=>u==this.active[h])&&(o=this.active);let a=this.open,c=e.effects.some(u=>u.is(A7));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!HFe(o,this.active)||c?a=zw.build(o,t,this.id,a,r,c):a&&a.disabled&&!o.some(u=>u.isPending)&&(a=null),!a&&o.every(u=>!u.isPending)&&o.some(u=>u.hasResult())&&(o=o.map(u=>u.hasResult()?new ff(u.source,0):u));for(let u of e.effects)u.is(_le)&&(a=a&&a.setSelected(u.value,this.id));return o==this.active&&a==this.open?this:new D3(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?WFe:qFe}}function HFe(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}const WFe={"aria-autocomplete":"list"},qFe={};function zQ(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const UFe=[];function wle(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(T7);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class ff{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=wle(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new ff(i.source,0)),r&4&&i.state==0&&(i=new ff(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(M3))i=new ff(i.source,1,o.value);else if(o.is(kO))i=new ff(i.source,0);else if(o.is(A7))for(let a of o.value)a.source==i.source&&(i=a);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Q1(e.state))}}class u_ extends ff{constructor(e,t,r,i,o,a){super(e,3,t),this.limit=r,this.result=i,this.from=o,this.to=a}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),c=Q1(e.state);if(c>a||!i||t&2&&(Q1(e.startState)==this.from||c<this.limit))return new ff(this.source,t&4?1:0);let u=e.changes.mapPos(this.limit);return GFe(i.validFor,e.state,o,a)?new u_(this.source,this.explicit,u,i,o,a):i.update&&(i=i.update(i,o,a,new ble(e.state,c,!1)))?new u_(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:Q1(e.state)):new ff(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new u_(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ff(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function GFe(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):xle(n,!0).test(i)}const A7=Vi.define({map(n,e){return n.map(t=>t.map(e))}}),_le=Vi.define(),_u=Sd.define({create(){return D3.start()},update(n,e){return n.update(e)},provide:n=>[S7.from(n,e=>e.tooltip),On.contentAttributes.from(n,e=>e.attrs)]});function R7(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(_u).active.find(i=>i.source==e.source);return r instanceof u_?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},DFe(n.state,t,r.from,r.to)),{annotations:T7.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const YFe=jFe(_u,R7);function uM(n,e="option"){return t=>{let r=t.state.field(_u,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(ll).interactionDelay)return!1;let i=1,o;e=="page"&&(o=ole(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,c=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:a-1;return c<0?c=e=="page"?0:a-1:c>=a&&(c=e=="page"?a-1:0),t.dispatch({effects:_le.of(c)}),!0}}const QFe=n=>{let e=n.state.field(_u,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(ll).interactionDelay?!1:R7(n,e.open.options[e.open.selected])},HQ=n=>n.state.field(_u,!1)?(n.dispatch({effects:M3.of(!0)}),!0):!1,KFe=n=>{let e=n.state.field(_u,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:kO.of(null)}),!0)};class XFe{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const ZFe=50,JFe=1e3,e$e=Pu.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(_u).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(_u),t=n.state.facet(ll);if(!n.selectionSet&&!n.docChanged&&n.startState.field(_u)==e)return;let r=n.transactions.some(o=>{let a=wle(o,t);return a&8||(o.selection||o.docChanged)&&!(a&3)});for(let o=0;o<this.running.length;o++){let a=this.running[o];if(r||a.context.abortOnDocChange&&n.docChanged||a.updates.length+n.transactions.length>ZFe&&Date.now()-a.time>JFe){for(let c of a.context.abortListeners)try{c()}catch(u){Bc(this.view.state,u)}a.context.abortListeners=null,this.running.splice(o--,1)}else a.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(a=>a.is(M3)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(a=>a.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(_u);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ll).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Q1(e),r=new ble(e,t,n.explicit,this.view),i=new XFe(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:kO.of(null)}),Bc(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ll).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(ll),r=this.view.state.field(_u);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let c=Q1(o.updates.length?o.updates[0].startState:this.view.state),u=Math.min(c,o.done.from+(o.active.explicit?0:1)),h=new u_(o.active.source,o.active.explicit,u,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:c);for(let m of o.updates)h=h.update(m,t);if(h.hasResult()){e.push(h);continue}}let a=r.active.find(c=>c.source==o.active.source);if(a&&a.isPending)if(o.done==null){let c=new ff(o.active.source,0);for(let u of o.updates)c=c.update(u,t);c.isPending||e.push(c)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:A7.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(_u,!1);if(e&&e.tooltip&&this.view.state.facet(ll).closeOnBlur){let t=e.open&&ole(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:kO.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:M3.of(!1)}),20),this.composing=0}}}),t$e=typeof navigator=="object"&&/Win/.test(navigator.platform),n$e=AE.highest(On.domEventHandlers({keydown(n,e){let t=e.state.field(_u,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(t$e&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(a=>a.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&R7(e,r),!1}})),Ele=On.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class r$e{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class P7{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,Tl.TrackDel),r=e.mapPos(this.to,1,Tl.TrackDel);return t==null||r==null?null:new P7(this.field,t,r)}}class M7{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],o=e.doc.lineAt(t),a=/^\s*/.exec(o.text)[0];for(let u of this.lines){if(r.length){let h=a,m=/^\t*/.exec(u)[0].length;for(let v=0;v<m;v++)h+=e.facet(f5);i.push(t+h.length-m),u=h+u.slice(m)}r.push(u),t+=u.length+1}let c=this.fieldPositions.map(u=>new P7(u.field,i[u.line]+u.from,i[u.line]+u.to));return{text:r,ranges:c}}static parse(e){let t=[],r=[],i=[],o;for(let a of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(a);){let c=o[1]?+o[1]:null,u=o[2]||o[3]||"",h=-1,m=u.replace(/\\[{}]/g,v=>v[1]);for(let v=0;v<t.length;v++)(c!=null?t[v].seq==c:m&&t[v].name==m)&&(h=v);if(h<0){let v=0;for(;v<t.length&&(c==null||t[v].seq!=null&&t[v].seq<c);)v++;t.splice(v,0,{seq:c,name:m}),h=v;for(let _ of i)_.field>=h&&_.field++}i.push(new r$e(h,r.length,o.index,o.index+m.length)),a=a.slice(0,o.index)+u+a.slice(o.index+o[0].length)}a=a.replace(/\\([{}])/g,(c,u,h)=>{for(let m of i)m.line==r.length&&m.from>h&&(m.from--,m.to--);return u}),r.push(a)}return new M7(r,i)}}let i$e=wi.widget({widget:new class extends PE{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),o$e=wi.mark({class:"cm-snippetField"});class ME{constructor(e,t){this.ranges=e,this.active=t,this.deco=wi.set(e.map(r=>(r.from==r.to?i$e:o$e).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new ME(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const aT=Vi.define({map(n,e){return n&&n.map(e)}}),s$e=Vi.define(),CO=Sd.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(aT))return t.value;if(t.is(s$e)&&n)return new ME(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>On.decorations.from(n,e=>e?e.deco:wi.none)});function D7(n,e){return qt.create(n.filter(t=>t.field==e).map(t=>qt.range(t.from,t.to)))}function a$e(n){let e=M7.parse(n);return(t,r,i,o)=>{let{text:a,ranges:c}=e.instantiate(t.state,i),{main:u}=t.state.selection,h={changes:{from:i,to:o==u.from?u.to:o,insert:Qi.of(a)},scrollIntoView:!0,annotations:r?[T7.of(r),Rl.userEvent.of("input.complete")]:void 0};if(c.length&&(h.selection=D7(c,0)),c.some(m=>m.field>0)){let m=new ME(c,0),v=h.effects=[aT.of(m)];t.state.field(CO,!1)===void 0&&v.push(Vi.appendConfig.of([CO,f$e,h$e,Ele]))}t.dispatch(t.state.update(h))}}function Sle(n){return({state:e,dispatch:t})=>{let r=e.field(CO,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,o=n>0&&!r.ranges.some(a=>a.field==i+n);return t(e.update({selection:D7(r.ranges,i),effects:aT.of(o?null:new ME(r.ranges,i)),scrollIntoView:!0})),!0}}const l$e=({state:n,dispatch:e})=>n.field(CO,!1)?(e(n.update({effects:aT.of(null)})),!0):!1,c$e=Sle(1),u$e=Sle(-1),d$e=[{key:"Tab",run:c$e,shift:u$e},{key:"Escape",run:l$e}],WQ=Vn.define({combine(n){return n.length?n[0]:d$e}}),f$e=AE.highest(sT.compute([WQ],n=>n.facet(WQ)));function _p(n,e){return Object.assign(Object.assign({},e),{apply:a$e(n)})}const h$e=On.domEventHandlers({mousedown(n,e){let t=e.state.field(CO,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:D7(t.ranges,i.field),effects:aT.of(t.ranges.some(o=>o.field>i.field)?new ME(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),N3={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},L1=Vi.define({map(n,e){let t=e.mapPos(n,-1,Tl.TrackAfter);return t??void 0}}),N7=new class extends hb{};N7.startSide=1;N7.endSide=-1;const kle=Sd.define({create(){return uo.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(L1)&&(n=n.update({add:[N7.range(t.value,t.value+1)]}));return n}});function Cle(){return[y$e,kle]}const gF="()[]{}<>";function p$e(n){for(let e=0;e<gF.length;e+=2)if(gF.charCodeAt(e)==n)return gF.charAt(e+1);return Qse(n<128?n:n+1)}function m$e(n,e){return n.languageDataAt("closeBrackets",e)[0]||N3}const g$e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),y$e=On.inputHandler.of((n,e,t,r)=>{if((g$e?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&Hy(Rp(r,0))==1||e!=i.from||t!=i.to)return!1;let o=v$e(n.state,r);return o?(n.dispatch(o),!0):!1});function v$e(n,e){let t=m$e(n,n.selection.main.head),r=t.brackets||N3.brackets;for(let i of r){let o=p$e(Rp(i,0));if(e==i)return o==i?w$e(n,i,r.indexOf(i+i+i)>-1,t):b$e(n,i,o,t.before||N3.before);if(e==o&&Ole(n,n.selection.main.from))return x$e(n,i,o)}return null}function Ole(n,e){let t=!1;return n.field(kle).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function I7(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Hy(Rp(t,0)))}function b$e(n,e,t,r){let i=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:L1.of(a.to+e.length),range:qt.range(a.anchor+e.length,a.head+e.length)};let c=I7(n.doc,a.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:e+t,from:a.head},effects:L1.of(a.head+e.length),range:qt.cursor(a.head+e.length)}:{range:i=a}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function x$e(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&I7(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:qt.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function w$e(n,e,t,r){let i=r.stringPrefixes||N3.stringPrefixes,o=null,a=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:L1.of(c.to+e.length),range:qt.range(c.anchor+e.length,c.head+e.length)};let u=c.head,h=I7(n.doc,u),m;if(h==e){if(qQ(n,u))return{changes:{insert:e+e,from:u},effects:L1.of(u+e.length),range:qt.cursor(u+e.length)};if(Ole(n,u)){let _=t&&n.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+_.length,insert:_},range:qt.cursor(u+_.length)}}}else{if(t&&n.sliceDoc(u-2*e.length,u)==e+e&&(m=UQ(n,u-2*e.length,i))>-1&&qQ(n,m))return{changes:{insert:e+e+e+e,from:u},effects:L1.of(u+e.length),range:qt.cursor(u+e.length)};if(n.charCategorizer(u)(h)!=df.Word&&UQ(n,u,i)>-1&&!_$e(n,u,e,i))return{changes:{insert:e+e,from:u},effects:L1.of(u+e.length),range:qt.cursor(u+e.length)}}return{range:o=c}});return o?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function qQ(n,e){let t=Ga(n).resolveInner(e+1);return t.parent&&t.from==e}function _$e(n,e,t,r){let i=Ga(n).resolveInner(e,-1),o=r.reduce((a,c)=>Math.max(a,c.length),0);for(let a=0;a<5;a++){let c=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),u=c.indexOf(t);if(!u||u>-1&&r.indexOf(c.slice(0,u))>-1){let m=i.firstChild;for(;m&&m.from==i.from&&m.to-m.from>t.length+u;){if(n.sliceDoc(m.to-t.length,m.to)==t)return!1;m=m.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function UQ(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=df.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=df.Word)return o}return-1}function E$e(n={}){return[n$e,_u,ll.of(n),e$e,k$e,Ele]}const S$e=[{key:"Ctrl-Space",run:HQ},{mac:"Alt-`",run:HQ},{key:"Escape",run:KFe},{key:"ArrowDown",run:uM(!0)},{key:"ArrowUp",run:uM(!1)},{key:"PageDown",run:uM(!0,"page")},{key:"PageUp",run:uM(!1,"page")},{key:"Enter",run:QFe}],k$e=AE.highest(sT.computeN([ll],n=>n.facet(ll).defaultKeymap?[S$e]:[])),C$e=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=F7(n.state,t.from);return r.line?O$e(n):r.block?A$e(n):!1};function L7(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const O$e=L7(M$e,0),T$e=L7(Tle,0),A$e=L7((n,e)=>Tle(n,e,P$e(e)),0);function F7(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const k2=50;function R$e(n,{open:e,close:t},r,i){let o=n.sliceDoc(r-k2,r),a=n.sliceDoc(i,i+k2),c=/\s*$/.exec(o)[0].length,u=/^\s*/.exec(a)[0].length,h=o.length-c;if(o.slice(h-e.length,h)==e&&a.slice(u,u+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};let m,v;i-r<=2*k2?m=v=n.sliceDoc(r,i):(m=n.sliceDoc(r,r+k2),v=n.sliceDoc(i-k2,i));let _=/^\s*/.exec(m)[0].length,k=/\s*$/.exec(v)[0].length,R=v.length-k-t.length;return m.slice(_,_+e.length)==e&&v.slice(R,R+t.length)==t?{open:{pos:r+_+e.length,margin:/\s/.test(m.charAt(_+e.length))?1:0},close:{pos:i-k-t.length,margin:/\s/.test(v.charAt(R-1))?1:0}}:null}function P$e(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function Tle(n,e,t=e.selection.ranges){let r=t.map(o=>F7(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,a)=>R$e(e,r[a],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,a)=>i[a]?[]:[{from:o.from,insert:r[a].open+" "},{from:o.to,insert:" "+r[a].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let a=0,c;a<i.length;a++)if(c=i[a]){let u=r[a],{open:h,close:m}=c;o.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:m.pos-m.margin,to:m.pos+u.close.length})}return{changes:o}}return null}function M$e(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:a}of t){let c=r.length,u=1e9,h=F7(e,o).line;if(h){for(let m=o;m<=a;){let v=e.doc.lineAt(m);if(v.from>i&&(o==a||a>v.from)){i=v.from;let _=/^\s*/.exec(v.text)[0].length,k=_==v.length,R=v.text.slice(_,_+h.length)==h?_:-1;_<v.text.length&&_<u&&(u=_),r.push({line:v,comment:R,token:h,indent:_,empty:k,single:!1})}m=v.to+1}if(u<1e9)for(let m=c;m<r.length;m++)r[m].indent<r[m].line.text.length&&(r[m].indent=u);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:c,token:u,indent:h,empty:m,single:v}of r)(v||!m)&&o.push({from:c.from+h,insert:u+" "});let a=e.changes(o);return{changes:a,selection:e.selection.map(a,1)}}else if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:c,token:u}of r)if(c>=0){let h=a.from+c,m=h+u.length;a.text[m-a.from]==" "&&m++,o.push({from:h,to:m})}return{changes:o}}return null}function DE(n,e){return qt.create(n.ranges.map(e),n.mainIndex)}function nm(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function zh({state:n,dispatch:e},t){let r=DE(n.selection,t);return r.eq(n.selection,!0)?!1:(e(nm(n,r)),!0)}function m5(n,e){return qt.cursor(e?n.to:n.from)}function Ale(n,e){return zh(n,t=>t.empty?n.moveByChar(t,e):m5(t,e))}function ac(n){return n.textDirectionAt(n.state.selection.main.head)==Js.LTR}const Rle=n=>Ale(n,!ac(n)),Ple=n=>Ale(n,ac(n));function Mle(n,e){return zh(n,t=>t.empty?n.moveByGroup(t,e):m5(t,e))}const D$e=n=>Mle(n,!ac(n)),N$e=n=>Mle(n,ac(n));function I$e(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function g5(n,e,t){let r=Ga(n).resolveInner(e.head),i=t?Fr.closedBy:Fr.openedBy;for(let u=e.head;;){let h=t?r.childAfter(u):r.childBefore(u);if(!h)break;I$e(n,h,i)?r=h:u=t?h.to:h.from}let o=r.type.prop(i),a,c;return o&&(a=t?$p(n,r.from,1):$p(n,r.to,-1))&&a.matched?c=t?a.end.to:a.end.from:c=t?r.to:r.from,qt.cursor(c,t?-1:1)}const L$e=n=>zh(n,e=>g5(n.state,e,!ac(n))),F$e=n=>zh(n,e=>g5(n.state,e,ac(n)));function Dle(n,e){return zh(n,t=>{if(!t.empty)return m5(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const Nle=n=>Dle(n,!1),Ile=n=>Dle(n,!0);function Lle(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let o of n.state.facet(On.scrollMargins)){let a=o(n);a!=null&&a.top&&(t=Math.max(a==null?void 0:a.top,t)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function Fle(n,e){let t=Lle(n),{state:r}=n,i=DE(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):m5(a,e));if(i.eq(r.selection))return!1;let o;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),u=c.top+t.marginTop,h=c.bottom-t.marginBottom;a&&a.top>u&&a.bottom<h&&(o=On.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-u}))}return n.dispatch(nm(r,i),{effects:o}),!0}const GQ=n=>Fle(n,!1),_B=n=>Fle(n,!0);function Kv(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=qt.cursor(r.from+o))}return i}const $$e=n=>zh(n,e=>Kv(n,e,!0)),B$e=n=>zh(n,e=>Kv(n,e,!1)),j$e=n=>zh(n,e=>Kv(n,e,!ac(n))),V$e=n=>zh(n,e=>Kv(n,e,ac(n))),z$e=n=>zh(n,e=>qt.cursor(n.lineBlockAt(e.head).from,1)),H$e=n=>zh(n,e=>qt.cursor(n.lineBlockAt(e.head).to,-1));function W$e(n,e,t){let r=!1,i=DE(n.selection,o=>{let a=$p(n,o.head,-1)||$p(n,o.head,1)||o.head>0&&$p(n,o.head-1,1)||o.head<n.doc.length&&$p(n,o.head+1,-1);if(!a||!a.end)return o;r=!0;let c=a.start.from==o.head?a.end.to:a.end.from;return qt.cursor(c)});return r?(e(nm(n,i)),!0):!1}const q$e=({state:n,dispatch:e})=>W$e(n,e);function kf(n,e){let t=DE(n.state.selection,r=>{let i=e(r);return qt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(nm(n.state,t)),!0)}function $le(n,e){return kf(n,t=>n.moveByChar(t,e))}const Ble=n=>$le(n,!ac(n)),jle=n=>$le(n,ac(n));function Vle(n,e){return kf(n,t=>n.moveByGroup(t,e))}const U$e=n=>Vle(n,!ac(n)),G$e=n=>Vle(n,ac(n)),Y$e=n=>kf(n,e=>g5(n.state,e,!ac(n))),Q$e=n=>kf(n,e=>g5(n.state,e,ac(n)));function zle(n,e){return kf(n,t=>n.moveVertically(t,e))}const Hle=n=>zle(n,!1),Wle=n=>zle(n,!0);function qle(n,e){return kf(n,t=>n.moveVertically(t,e,Lle(n).height))}const YQ=n=>qle(n,!1),QQ=n=>qle(n,!0),K$e=n=>kf(n,e=>Kv(n,e,!0)),X$e=n=>kf(n,e=>Kv(n,e,!1)),Z$e=n=>kf(n,e=>Kv(n,e,!ac(n))),J$e=n=>kf(n,e=>Kv(n,e,ac(n))),e6e=n=>kf(n,e=>qt.cursor(n.lineBlockAt(e.head).from)),t6e=n=>kf(n,e=>qt.cursor(n.lineBlockAt(e.head).to)),KQ=({state:n,dispatch:e})=>(e(nm(n,{anchor:0})),!0),XQ=({state:n,dispatch:e})=>(e(nm(n,{anchor:n.doc.length})),!0),ZQ=({state:n,dispatch:e})=>(e(nm(n,{anchor:n.selection.main.anchor,head:0})),!0),JQ=({state:n,dispatch:e})=>(e(nm(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),n6e=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),r6e=({state:n,dispatch:e})=>{let t=y5(n).map(({from:r,to:i})=>qt.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:qt.create(t),userEvent:"select"})),!0},i6e=({state:n,dispatch:e})=>{let t=DE(n.selection,r=>{let i=Ga(n),o=i.resolveStack(r.from,1);if(r.empty){let a=i.resolveStack(r.from,-1);a.node.from>=o.node.from&&a.node.to<=o.node.to&&(o=a)}for(let a=o;a;a=a.next){let{node:c}=a;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&a.next)return qt.range(c.to,c.from)}return r});return t.eq(n.selection)?!1:(e(nm(n,t)),!0)},o6e=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=qt.create([t.main]):t.main.empty||(r=qt.create([qt.cursor(t.main.head)])),r?(e(nm(n,r)),!0):!1};function lT(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:a,to:c}=o;if(a==c){let u=e(o);u<a?(t="delete.backward",u=dM(n,u,!1)):u>a&&(t="delete.forward",u=dM(n,u,!0)),a=Math.min(a,u),c=Math.max(c,u)}else a=dM(n,a,!1),c=dM(n,c,!0);return a==c?{range:o}:{changes:{from:a,to:c},range:qt.cursor(a,a<o.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?On.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function dM(n,e,t){if(n instanceof On)for(let r of n.state.facet(On.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const Ule=(n,e,t)=>lT(n,r=>{let i=r.from,{state:o}=n,a=o.doc.lineAt(i),c,u;if(t&&!e&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(c=a.text.slice(0,i-a.from))){if(c[c.length-1]=="	")return i-1;let h=l5(c,o.tabSize),m=h%P3(o)||P3(o);for(let v=0;v<m&&c[c.length-1-v]==" ";v++)i--;u=i}else u=$c(a.text,i-a.from,e,e)+a.from,u==i&&a.number!=(e?o.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(u-a.from,i-a.from))&&(u=$c(a.text,u-a.from,!1,!1)+a.from);return u}),EB=n=>Ule(n,!1,!0),Gle=n=>Ule(n,!0,!1),Yle=(n,e)=>lT(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),a=i.charCategorizer(r);for(let c=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=$c(o.text,r-o.from,e)+o.from,h=o.text.slice(Math.min(r,u)-o.from,Math.max(r,u)-o.from),m=a(h);if(c!=null&&m!=c)break;(h!=" "||r!=t.head)&&(c=m),r=u}return r}),Qle=n=>Yle(n,!1),s6e=n=>Yle(n,!0),a6e=n=>lT(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),l6e=n=>lT(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),c6e=n=>lT(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),u6e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Qi.of(["",""])},range:qt.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},d6e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),a=i==o.from?i-1:$c(o.text,i-o.from,!1)+o.from,c=i==o.to?i+1:$c(o.text,i-o.from,!0)+o.from;return{changes:{from:a,to:c,insert:n.doc.slice(i,c).append(n.doc.slice(a,i))},range:qt.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function y5(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let a=e[e.length-1];a.to=o.to,a.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function Kle(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of y5(n)){if(t?o.to==n.doc.length:o.from==0)continue;let a=n.doc.lineAt(t?o.to+1:o.from-1),c=a.length+1;if(t){r.push({from:o.to,to:a.to},{from:o.from,insert:a.text+n.lineBreak});for(let u of o.ranges)i.push(qt.range(Math.min(n.doc.length,u.anchor+c),Math.min(n.doc.length,u.head+c)))}else{r.push({from:a.from,to:o.from},{from:o.to,insert:n.lineBreak+a.text});for(let u of o.ranges)i.push(qt.range(u.anchor-c,u.head-c))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:qt.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const f6e=({state:n,dispatch:e})=>Kle(n,e,!1),h6e=({state:n,dispatch:e})=>Kle(n,e,!0);function Xle(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of y5(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const p6e=({state:n,dispatch:e})=>Xle(n,e,!1),m6e=({state:n,dispatch:e})=>Xle(n,e,!0),g6e=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(y5(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=DE(e.selection,i=>{let o;if(n.lineWrapping){let a=n.lineBlockAt(i.head),c=n.coordsAtPos(i.head,i.assoc||1);c&&(o=a.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function y6e(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Ga(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Fr.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const eK=Zle(!1),v6e=Zle(!0);function Zle(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:a}=i,c=e.doc.lineAt(o),u=!n&&o==a&&y6e(e,o);n&&(o=a=(a<=c.to?c:e.doc.lineAt(a)).to);let h=new h5(e,{simulateBreak:o,simulateDoubleBreak:!!u}),m=k7(h,o);for(m==null&&(m=l5(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));a<c.to&&/\s/.test(c.text[a-c.from]);)a++;u?{from:o,to:a}=u:o>c.from&&o<c.from+100&&!/\S/.test(c.text.slice(0,o))&&(o=c.from);let v=["",SO(e,m)];return u&&v.push(SO(e,h.lineIndent(c.from,-1))),{changes:{from:o,to:a,insert:Qi.of(v)},range:qt.cursor(o+1+v[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function $7(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let c=n.doc.lineAt(a);c.number>t&&(r.empty||r.to>c.from)&&(e(c,i,r),t=c.number),a=c.to+1}let o=n.changes(i);return{changes:i,range:qt.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const b6e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new h5(n,{overrideIndentation:o=>{let a=t[o];return a??-1}}),i=$7(n,(o,a,c)=>{let u=k7(r,o.from);if(u==null)return;/\S/.test(o.text)||(u=0);let h=/^\s*/.exec(o.text)[0],m=SO(n,u);(h!=m||c.from<o.from+h.length)&&(t[o.from]=u,a.push({from:o.from,to:o.from+h.length,insert:m}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},x6e=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update($7(n,(t,r)=>{r.push({from:t.from,insert:n.facet(f5)})}),{userEvent:"input.indent"})),!0),w6e=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update($7(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=l5(i,n.tabSize),a=0,c=SO(n,Math.max(0,o-P3(n)));for(;a<i.length&&a<c.length&&i.charCodeAt(a)==c.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+i.length,insert:c.slice(a)})}),{userEvent:"delete.dedent"})),!0),_6e=n=>(n.setTabFocusMode(),!0),E6e=[{key:"Ctrl-b",run:Rle,shift:Ble,preventDefault:!0},{key:"Ctrl-f",run:Ple,shift:jle},{key:"Ctrl-p",run:Nle,shift:Hle},{key:"Ctrl-n",run:Ile,shift:Wle},{key:"Ctrl-a",run:z$e,shift:e6e},{key:"Ctrl-e",run:H$e,shift:t6e},{key:"Ctrl-d",run:Gle},{key:"Ctrl-h",run:EB},{key:"Ctrl-k",run:a6e},{key:"Ctrl-Alt-h",run:Qle},{key:"Ctrl-o",run:u6e},{key:"Ctrl-t",run:d6e},{key:"Ctrl-v",run:_B}],S6e=[{key:"ArrowLeft",run:Rle,shift:Ble,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:D$e,shift:U$e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:j$e,shift:Z$e,preventDefault:!0},{key:"ArrowRight",run:Ple,shift:jle,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:N$e,shift:G$e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:V$e,shift:J$e,preventDefault:!0},{key:"ArrowUp",run:Nle,shift:Hle,preventDefault:!0},{mac:"Cmd-ArrowUp",run:KQ,shift:ZQ},{mac:"Ctrl-ArrowUp",run:GQ,shift:YQ},{key:"ArrowDown",run:Ile,shift:Wle,preventDefault:!0},{mac:"Cmd-ArrowDown",run:XQ,shift:JQ},{mac:"Ctrl-ArrowDown",run:_B,shift:QQ},{key:"PageUp",run:GQ,shift:YQ},{key:"PageDown",run:_B,shift:QQ},{key:"Home",run:B$e,shift:X$e,preventDefault:!0},{key:"Mod-Home",run:KQ,shift:ZQ},{key:"End",run:$$e,shift:K$e,preventDefault:!0},{key:"Mod-End",run:XQ,shift:JQ},{key:"Enter",run:eK,shift:eK},{key:"Mod-a",run:n6e},{key:"Backspace",run:EB,shift:EB},{key:"Delete",run:Gle},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Qle},{key:"Mod-Delete",mac:"Alt-Delete",run:s6e},{mac:"Mod-Backspace",run:l6e},{mac:"Mod-Delete",run:c6e}].concat(E6e.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Jle=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:L$e,shift:Y$e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:F$e,shift:Q$e},{key:"Alt-ArrowUp",run:f6e},{key:"Shift-Alt-ArrowUp",run:p6e},{key:"Alt-ArrowDown",run:h6e},{key:"Shift-Alt-ArrowDown",run:m6e},{key:"Escape",run:o6e},{key:"Mod-Enter",run:v6e},{key:"Alt-l",mac:"Ctrl-l",run:r6e},{key:"Mod-i",run:i6e,preventDefault:!0},{key:"Mod-[",run:w6e},{key:"Mod-]",run:x6e},{key:"Mod-Alt-\\",run:b6e},{key:"Shift-Mod-k",run:g6e},{key:"Shift-Mod-\\",run:q$e},{key:"Mod-/",run:C$e},{key:"Alt-A",run:T$e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:_6e}].concat(S6e);function Ip(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)ece(n,arguments[e]);return n}function ece(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)ece(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}class tK{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class T1{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet(Bp).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((m,v)=>m.from-v.from||m.to-v.to),a=new U_,c=[],u=0;for(let m=0;;){let v=m==o.length?null:o[m];if(!v&&!c.length)break;let _,k;for(c.length?(_=u,k=c.reduce((T,F)=>Math.min(T,F.to),v&&v.from>_?v.from:1e8)):(_=v.from,k=v.to,c.push(v),m++);m<o.length;){let T=o[m];if(T.from==_&&(T.to>T.from||T.to==_))c.push(T),m++,k=Math.min(T.to,k);else{k=Math.min(T.from,k);break}}let R=F6e(c);if(c.some(T=>T.from==T.to||T.from==T.to-1&&r.doc.lineAt(T.from).to==T.from))a.add(_,_,wi.widget({widget:new D6e(R),diagnostics:c.slice()}));else{let T=c.reduce((F,$)=>$.markClass?F+" "+$.markClass:F,"");a.add(_,k,wi.mark({class:"cm-lintRange cm-lintRange-"+R+T,diagnostics:c.slice(),inclusiveEnd:c.some(F=>F.to>k)}))}u=k;for(let T=0;T<c.length;T++)c[T].to<=u&&c.splice(T--,1)}let h=a.finish();return new T1(h,t,J_(h))}}function J_(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!r)r=new tK(i,o,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new tK(r.from,o,r.diagnostic)}}),r}function k6e(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(Bp).hideOn(n,t,r);if(i!=null)return i;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(a=>a.is(cT))||n.changes.touchesRange(o.from,Math.max(o.to,r)))}function C6e(n,e){return n.field(Eh,!1)?e:e.concat(Vi.appendConfig.of(sce))}function O6e(n,e){return{effects:C6e(n,[cT.of(e)])}}const cT=Vi.define(),tce=Vi.define(),nce=Vi.define(),Eh=Sd.define({create(){return new T1(wi.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=J_(t,n.selected.diagnostic,o)||J_(t,null,o)}!t.size&&i&&e.state.facet(Bp).autoPanel&&(i=null),n=new T1(t,i,r)}for(let t of e.effects)if(t.is(cT)){let r=e.state.facet(Bp).autoPanel?t.value.length?I3.open:null:n.panel;n=T1.init(t.value,r,e.state)}else t.is(tce)?n=new T1(n.diagnostics,t.value?I3.open:null,n.selected):t.is(nce)&&(n=new T1(n.diagnostics,n.panel,t.value));return n},provide:n=>[yB.from(n,e=>e.panel),On.decorations.from(n,e=>e.diagnostics)]}),T6e=wi.mark({class:"cm-lintRange cm-lintRange-active"});function A6e(n,e,t){let{diagnostics:r}=n.state.field(Eh),i,o=-1,a=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(u,h,{spec:m})=>{if(e>=u&&e<=h&&(u==h||(e>u||t>0)&&(e<h||t<0)))return i=m.diagnostics,o=u,a=h,!1});let c=n.state.facet(Bp).tooltipFilter;return i&&c&&(i=c(i,n.state)),i?{pos:o,end:a,above:n.state.doc.lineAt(o).to<a,create(){return{dom:R6e(n,i)}}}:null}function R6e(n,e){return Ip("ul",{class:"cm-tooltip-lint"},e.map(t=>oce(n,t,!1)))}const nK=n=>{let e=n.state.field(Eh,!1);return!e||!e.panel?!1:(n.dispatch({effects:tce.of(!1)}),!0)},P6e=Pu.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(Bp);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Bp);t.length&&M6e(t.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(O6e(this.view.state,r.reduce((i,o)=>i.concat(o))))},r=>{Bc(this.view.state,r)})}}update(n){let e=n.state.facet(Bp);(n.docChanged||e!=n.startState.facet(Bp)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function M6e(n,e,t){let r=[],i=-1;for(let o of n)o.then(a=>{r.push(a),clearTimeout(i),r.length==n.length?e(r):i=setTimeout(()=>e(r),200)},t)}const Bp=Vn.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},a5(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function rce(n,e={}){return[Bp.of({source:n,config:e}),P6e,sce]}function ice(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function oce(n,e,t){var r;let i=t?ice(e.actions):[];return Ip("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ip("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,a)=>{let c=!1,u=_=>{if(_.preventDefault(),c)return;c=!0;let k=J_(n.state.field(Eh).diagnostics,e);k&&o.apply(n,k.from,k.to)},{name:h}=o,m=i[a]?h.indexOf(i[a]):-1,v=m<0?h:[h.slice(0,m),Ip("u",h.slice(m,m+1)),h.slice(m+1)];return Ip("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${h}${m<0?"":` (access key "${i[a]})"`}.`},v)}),e.source&&Ip("div",{class:"cm-diagnosticSource"},e.source))}class D6e extends PE{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Ip("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class rK{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=oce(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class I3{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)nK(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=ice(o.actions);for(let c=0;c<a.length;c++)if(a[c].toUpperCase().charCodeAt(0)==i.keyCode){let u=J_(this.view.state.field(Eh).diagnostics,o);u&&o.actions[c].apply(e,u.from,u.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=Ip("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=Ip("div",{class:"cm-panel-lint"},this.list,Ip("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>nK(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Eh).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Eh),r=0,i=!1,o=null,a=new Set;for(e.between(0,this.view.state.doc.length,(c,u,{spec:h})=>{for(let m of h.diagnostics){if(a.has(m))continue;a.add(m);let v=-1,_;for(let k=r;k<this.items.length;k++)if(this.items[k].diagnostic==m){v=k;break}v<0?(_=new rK(this.view,m),this.items.splice(r,0,_),i=!0):(_=this.items[v],v>r&&(this.items.splice(r,v-r),i=!0)),t&&_.diagnostic==t.diagnostic?_.dom.hasAttribute("aria-selected")||(_.dom.setAttribute("aria-selected","true"),o=_):_.dom.hasAttribute("aria-selected")&&_.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new rK(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:u})=>{let h=u.height/this.list.offsetHeight;c.top<u.top?this.list.scrollTop-=(u.top-c.top)/h:c.bottom>u.bottom&&(this.list.scrollTop+=(c.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Eh),r=J_(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:nce.of(r)})}static open(e){return new I3(e)}}function N6e(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function fM(n){return N6e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const I6e=On.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:fM("#d11")},".cm-lintRange-warning":{backgroundImage:fM("orange")},".cm-lintRange-info":{backgroundImage:fM("#999")},".cm-lintRange-hint":{backgroundImage:fM("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function L6e(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function F6e(n){let e="hint",t=1;for(let r of n){let i=L6e(r.severity);i>t&&(t=i,e=r.severity)}return e}const sce=[Eh,On.decorations.compute([Eh],n=>{let{selected:e,panel:t}=n.field(Eh);return!e||!t||e.from==e.to?wi.none:wi.set([T6e.range(e.from,e.to)])}),Y4e(A6e,{hideOn:k6e}),I6e];class L3{static create(e,t,r,i,o){let a=i+(i<<8)+e+(t<<4)|0;return new L3(e,t,r,a,o,[],[])}constructor(e,t,r,i,o,a,c){this.type=e,this.value=t,this.from=r,this.hash=i,this.end=o,this.children=a,this.positions=c,this.hashProp=[[Fr.contextHash,i]]}addChild(e,t){e.prop(Fr.contextHash)!=this.hash&&(e=new fo(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(t)}toTree(e,t=this.end){let r=this.children.length-1;return r>=0&&(t=Math.max(t,this.positions[r]+this.children[r].length+this.from)),new fo(e.types[this.type],this.children,this.positions,t-this.from).balance({makeTree:(i,o,a)=>new fo(Ua.none,i,o,a,this.hashProp)})}}var dn;(function(n){n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL"})(dn||(dn={}));class $6e{constructor(e,t){this.start=e,this.content=t,this.marks=[],this.parsers=[]}}class B6e{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return vC(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,t=0,r=0){for(let i=t;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let t=0;for(let r=0;t<this.text.length&&r<e;t++)r+=this.text.charCodeAt(t)==9?4-r%4:1;return t}scrub(){if(!this.baseIndent)return this.text;let e="";for(let t=0;t<this.basePos;t++)e+=" ";return e+this.text.slice(this.basePos)}}function iK(n,e,t){if(t.pos==t.text.length||n!=e.block&&t.indent>=e.stack[t.depth+1].value+t.baseIndent)return!0;if(t.indent>=t.baseIndent+4)return!1;let r=(n.type==dn.OrderedList?V7:j7)(t,e,!1);return r>0&&(n.type!=dn.BulletList||B7(t,e,!1)<0)&&t.text.charCodeAt(t.pos+r-1)==n.value}const ace={[dn.Blockquote](n,e,t){return t.next!=62?!1:(t.markers.push(Pi(dn.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1)),t.moveBase(t.pos+(Cf(t.text.charCodeAt(t.pos+1))?2:1)),n.end=e.lineStart+t.text.length,!0)},[dn.ListItem](n,e,t){return t.indent<t.baseIndent+n.value&&t.next>-1?!1:(t.moveBaseColumn(t.baseIndent+n.value),!0)},[dn.OrderedList]:iK,[dn.BulletList]:iK,[dn.Document](){return!0}};function Cf(n){return n==32||n==9||n==10||n==13}function vC(n,e=0){for(;e<n.length&&Cf(n.charCodeAt(e));)e++;return e}function oK(n,e,t){for(;e>t&&Cf(n.charCodeAt(e-1));)e--;return e}function lce(n){if(n.next!=96&&n.next!=126)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;if(e<n.pos+3)return-1;if(n.next==96){for(let t=e;t<n.text.length;t++)if(n.text.charCodeAt(t)==96)return-1}return e}function cce(n){return n.next!=62?-1:n.text.charCodeAt(n.pos+1)==32?2:1}function B7(n,e,t){if(n.next!=42&&n.next!=45&&n.next!=95)return-1;let r=1;for(let i=n.pos+1;i<n.text.length;i++){let o=n.text.charCodeAt(i);if(o==n.next)r++;else if(!Cf(o))return-1}return t&&n.next==45&&fce(n)>-1&&n.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(gce.SetextHeading)>-1||r<3?-1:1}function uce(n,e){for(let t=n.stack.length-1;t>=0;t--)if(n.stack[t].type==e)return!0;return!1}function j7(n,e,t){return(n.next==45||n.next==43||n.next==42)&&(n.pos==n.text.length-1||Cf(n.text.charCodeAt(n.pos+1)))&&(!t||uce(e,dn.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?1:-1}function V7(n,e,t){let r=n.pos,i=n.next;for(;i>=48&&i<=57;){r++;if(r==n.text.length)return-1;i=n.text.charCodeAt(r)}return r==n.pos||r>n.pos+9||i!=46&&i!=41||r<n.text.length-1&&!Cf(n.text.charCodeAt(r+1))||t&&!uce(e,dn.OrderedList)&&(n.skipSpace(r+1)==n.text.length||r>n.pos+1||n.next!=49)?-1:r+1-n.pos}function dce(n){if(n.next!=35)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==35;)e++;if(e<n.text.length&&n.text.charCodeAt(e)!=32)return-1;let t=e-n.pos;return t>6?-1:t}function fce(n){if(n.next!=45&&n.next!=61||n.indent>=n.baseIndent+4)return-1;let e=n.pos+1;for(;e<n.text.length&&n.text.charCodeAt(e)==n.next;)e++;let t=e;for(;e<n.text.length&&Cf(n.text.charCodeAt(e));)e++;return e==n.text.length?t:-1}const SB=/^[ \t]*$/,hce=/-->/,pce=/\?>/,kB=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,hce],[/^\s*<\?/,pce],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,SB],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,SB]];function mce(n,e,t){if(n.next!=60)return-1;let r=n.text.slice(n.pos);for(let i=0,o=kB.length-(t?1:0);i<o;i++)if(kB[i][0].test(r))return i;return-1}function sK(n,e){let t=n.countIndent(e,n.pos,n.indent),r=n.countIndent(n.skipSpace(e),e,t);return r>=t+5?t+1:r}function g1(n,e,t){let r=n.length-1;r>=0&&n[r].to==e&&n[r].type==dn.CodeText?n[r].to=t:n.push(Pi(dn.CodeText,e,t))}const hM={LinkReference:void 0,IndentedCode(n,e){let t=e.baseIndent+4;if(e.indent<t)return!1;let r=e.findColumn(t),i=n.lineStart+r,o=n.lineStart+e.text.length,a=[],c=[];for(g1(a,i,o);n.nextLine()&&e.depth>=n.stack.length;)if(e.pos==e.text.length){g1(c,n.lineStart-1,n.lineStart);for(let u of e.markers)c.push(u)}else{if(e.indent<t)break;{if(c.length){for(let h of c)h.type==dn.CodeText?g1(a,h.from,h.to):a.push(h);c=[]}g1(a,n.lineStart-1,n.lineStart);for(let h of e.markers)a.push(h);o=n.lineStart+e.text.length;let u=n.lineStart+e.findColumn(e.baseIndent+4);u<o&&g1(a,u,o)}}return c.length&&(c=c.filter(u=>u.type!=dn.CodeText),c.length&&(e.markers=c.concat(e.markers))),n.addNode(n.buffer.writeElements(a,-i).finish(dn.CodeBlock,o-i),i),!0},FencedCode(n,e){let t=lce(e);if(t<0)return!1;let r=n.lineStart+e.pos,i=e.next,o=t-e.pos,a=e.skipSpace(t),c=oK(e.text,e.text.length,a),u=[Pi(dn.CodeMark,r,r+o)];a<c&&u.push(Pi(dn.CodeInfo,n.lineStart+a,n.lineStart+c));for(let h=!0;n.nextLine()&&e.depth>=n.stack.length;h=!1){let m=e.pos;if(e.indent-e.baseIndent<4)for(;m<e.text.length&&e.text.charCodeAt(m)==i;)m++;if(m-e.pos>=o&&e.skipSpace(m)==e.text.length){for(let v of e.markers)u.push(v);u.push(Pi(dn.CodeMark,n.lineStart+e.pos,n.lineStart+m)),n.nextLine();break}else{h||g1(u,n.lineStart-1,n.lineStart);for(let k of e.markers)u.push(k);let v=n.lineStart+e.basePos,_=n.lineStart+e.text.length;v<_&&g1(u,v,_)}}return n.addNode(n.buffer.writeElements(u,-r).finish(dn.FencedCode,n.prevLineEnd()-r),r),!0},Blockquote(n,e){let t=cce(e);return t<0?!1:(n.startContext(dn.Blockquote,e.pos),n.addNode(dn.QuoteMark,n.lineStart+e.pos,n.lineStart+e.pos+1),e.moveBase(e.pos+t),null)},HorizontalRule(n,e){if(B7(e,n,!1)<0)return!1;let t=n.lineStart+e.pos;return n.nextLine(),n.addNode(dn.HorizontalRule,t),!0},BulletList(n,e){let t=j7(e,n,!1);if(t<0)return!1;n.block.type!=dn.BulletList&&n.startContext(dn.BulletList,e.basePos,e.next);let r=sK(e,e.pos+1);return n.startContext(dn.ListItem,e.basePos,r-e.baseIndent),n.addNode(dn.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(r),null},OrderedList(n,e){let t=V7(e,n,!1);if(t<0)return!1;n.block.type!=dn.OrderedList&&n.startContext(dn.OrderedList,e.basePos,e.text.charCodeAt(e.pos+t-1));let r=sK(e,e.pos+t);return n.startContext(dn.ListItem,e.basePos,r-e.baseIndent),n.addNode(dn.ListMark,n.lineStart+e.pos,n.lineStart+e.pos+t),e.moveBaseColumn(r),null},ATXHeading(n,e){let t=dce(e);if(t<0)return!1;let r=e.pos,i=n.lineStart+r,o=oK(e.text,e.text.length,r),a=o;for(;a>r&&e.text.charCodeAt(a-1)==e.next;)a--;(a==o||a==r||!Cf(e.text.charCodeAt(a-1)))&&(a=e.text.length);let c=n.buffer.write(dn.HeaderMark,0,t).writeElements(n.parser.parseInline(e.text.slice(r+t+1,a),i+t+1),-i);a<e.text.length&&c.write(dn.HeaderMark,a-r,o-r);let u=c.finish(dn.ATXHeading1-1+t,e.text.length-r);return n.nextLine(),n.addNode(u,i),!0},HTMLBlock(n,e){let t=mce(e,n,!1);if(t<0)return!1;let r=n.lineStart+e.pos,i=kB[t][1],o=[],a=i!=SB;for(;!i.test(e.text)&&n.nextLine();){if(e.depth<n.stack.length){a=!1;break}for(let h of e.markers)o.push(h)}a&&n.nextLine();let c=i==hce?dn.CommentBlock:i==pce?dn.ProcessingInstructionBlock:dn.HTMLBlock,u=n.prevLineEnd();return n.addNode(n.buffer.writeElements(o,-r).finish(c,u-r),r),!0},SetextHeading:void 0};class j6e{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,t,r){if(this.stage==-1)return!1;let i=r.content+`
`+t.scrub(),o=this.advance(i);return o>-1&&o<i.length?this.complete(e,r,o):!1}finish(e,t){return(this.stage==2||this.stage==3)&&vC(t.content,this.pos)==t.content.length?this.complete(e,t,t.content.length):!1}complete(e,t,r){return e.addLeafElement(t,Pi(dn.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(kce(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Pi(dn.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(Ece(e,vC(e,this.pos),this.start)))return-1}else if(this.stage==2){let t=vC(e,this.pos),r=0;if(t>this.pos){let i=Sce(e,t,this.start);if(i){let o=yF(e,i.to-this.start);o>0&&(this.nextStage(i),r=o)}}return r||(r=yF(e,this.pos)),r>0&&r<e.length?r:-1}else return yF(e,this.pos)}}}function yF(n,e){for(;e<n.length;e++){let t=n.charCodeAt(e);if(t==10)break;if(!Cf(t))return-1}return e}class V6e{nextLine(e,t,r){let i=t.depth<e.stack.length?-1:fce(t),o=t.next;if(i<0)return!1;let a=Pi(dn.HeaderMark,e.lineStart+t.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,Pi(o==61?dn.SetextHeading1:dn.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),a])),!0}finish(){return!1}}const gce={LinkReference(n,e){return e.content.charCodeAt(0)==91?new j6e(e):null},SetextHeading(){return new V6e}},z6e=[(n,e)=>dce(e)>=0,(n,e)=>lce(e)>=0,(n,e)=>cce(e)>=0,(n,e)=>j7(e,n,!0)>=0,(n,e)=>V7(e,n,!0)>=0,(n,e)=>B7(e,n,!0)>=0,(n,e)=>mce(e,n,!0)>=0],H6e={text:"",end:0};class W6e{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.line=new B6e,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=L3.create(dn.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new Y6e(r,t):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let o=e.markers[r++];this.addNode(o.type,o.from,o.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let t=new $6e(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,t);i&&t.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,t))break e}for(let r of t.parsers)if(r.nextLine(this,e,t))return null;t.content+=`
`+e.scrub();for(let r of e.markers)t.marks.push(r)}return this.finishLeaf(t),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let t=this.fragments.takeNodes(this);return t?(this.absoluteLineStart+=t,this.lineStart=Cce(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let t=H6e;if(t.end=e,e>=this.to)t.text="";else if(t.text=this.lineChunkAt(e),t.end+=t.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<t.end;){i++;let o=this.ranges[i].from,a=this.lineChunkAt(o);t.end=o+a.length,t.text=t.text.slice(0,this.ranges[i-1].to-r)+a,r=t.end-t.text.length}}return t}readLine(){let{line:e}=this,{text:t,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(t);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],o=this.parser.skipContextMarkup[i.type];if(!o)throw new Error("Unhandled block context "+dn[i.type]);if(!o(i,this,e))break;e.forward()}}lineChunkAt(e){let t=this.input.chunk(e),r;if(this.input.lineChunks)r=t==`
`?"":t;else{let i=t.indexOf(`
`);r=i<0?t:t.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,t,r=0){this.block=L3.create(e,r,this.lineStart+t,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,t,r=0){this.startContext(this.parser.getNodeType(e),t,r)}addNode(e,t,r){typeof e=="number"&&(e=new fo(this.parser.nodeSet.types[e],eE,eE,(r??this.prevLineEnd())-t)),this.block.addChild(e,t-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,t){this.addNode(this.buffer.writeElements(TB(t.children,e.marks),-t.from).finish(t.type,t.to-t.from),t.from)}finishContext(){let e=this.stack.pop(),t=this.stack[this.stack.length-1];t.addChild(e.toTree(this.parser.nodeSet),e.from-t.from),this.block=t}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?yce(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let t=TB(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(t,-e.start).finish(dn.Paragraph,e.content.length),e.start)}elt(e,t,r,i){return typeof e=="string"?Pi(this.parser.getNodeType(e),t,r,i):new xce(e,t)}get buffer(){return new bce(this.parser.nodeSet)}}function yce(n,e,t,r,i){let o=n[e].to,a=[],c=[],u=t.from+r;function h(m,v){for(;v?m>=o:m>o;){let _=n[e+1].from-o;r+=_,m+=_,e++,o=n[e].to}}for(let m=t.firstChild;m;m=m.nextSibling){h(m.from+r,!0);let v=m.from+r,_,k=i.get(m.tree);k?_=k:m.to+r>o?(_=yce(n,e,m,r,i),h(m.to+r,!1)):_=m.toTree(),a.push(_),c.push(v-u)}return h(t.to+r,!1),new fo(t.type,a,c,t.to+r-u,t.tree?t.tree.propValues:void 0)}class z7 extends n7{constructor(e,t,r,i,o,a,c,u,h){super(),this.nodeSet=e,this.blockParsers=t,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=o,this.skipContextMarkup=a,this.inlineParsers=c,this.inlineNames=u,this.wrappers=h,this.nodeTypes=Object.create(null);for(let m of e.types)this.nodeTypes[m.name]=m.id}createParse(e,t,r){let i=new W6e(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}configure(e){let t=CB(e);if(!t)return this;let{nodeSet:r,skipContextMarkup:i}=this,o=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),c=this.blockNames.slice(),u=this.inlineParsers.slice(),h=this.inlineNames.slice(),m=this.endLeafBlock.slice(),v=this.wrappers;if(C2(t.defineNodes)){i=Object.assign({},i);let _=r.types.slice(),k;for(let R of t.defineNodes){let{name:T,block:F,composite:$,style:j}=typeof R=="string"?{name:R}:R;if(_.some(Y=>Y.name==T))continue;$&&(i[_.length]=(Y,oe,ne)=>$(oe,ne,Y.value));let B=_.length,I=$?["Block","BlockContext"]:F?B>=dn.ATXHeading1&&B<=dn.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;_.push(Ua.define({id:B,name:T,props:I&&[[Fr.group,I]]})),j&&(k||(k={}),Array.isArray(j)||j instanceof ud?k[T]=j:Object.assign(k,j))}r=new tT(_),k&&(r=r.extend(nT(k)))}if(C2(t.props)&&(r=r.extend(...t.props)),C2(t.remove))for(let _ of t.remove){let k=this.blockNames.indexOf(_),R=this.inlineNames.indexOf(_);k>-1&&(o[k]=a[k]=void 0),R>-1&&(u[R]=void 0)}if(C2(t.parseBlock))for(let _ of t.parseBlock){let k=c.indexOf(_.name);if(k>-1)o[k]=_.parse,a[k]=_.leaf;else{let R=_.before?pM(c,_.before):_.after?pM(c,_.after)+1:c.length-1;o.splice(R,0,_.parse),a.splice(R,0,_.leaf),c.splice(R,0,_.name)}_.endLeaf&&m.push(_.endLeaf)}if(C2(t.parseInline))for(let _ of t.parseInline){let k=h.indexOf(_.name);if(k>-1)u[k]=_.parse;else{let R=_.before?pM(h,_.before):_.after?pM(h,_.after)+1:h.length-1;u.splice(R,0,_.parse),h.splice(R,0,_.name)}}return t.wrap&&(v=v.concat(t.wrap)),new z7(r,o,a,c,m,i,u,h,v)}getNodeType(e){let t=this.nodeTypes[e];if(t==null)throw new RangeError(`Unknown node type '${e}'`);return t}parseInline(e,t){let r=new U6e(this,e,t);e:for(let i=t;i<r.end;){let o=r.char(i);for(let a of this.inlineParsers)if(a){let c=a(r,o,i);if(c>=0){i=c;continue e}}i++}return r.resolveMarkers(0)}}function C2(n){return n!=null&&n.length>0}function CB(n){if(!Array.isArray(n))return n;if(n.length==0)return null;let e=CB(n[0]);if(n.length==1)return e;let t=CB(n.slice(1));if(!t||!e)return e||t;let r=(a,c)=>(a||eE).concat(c||eE),i=e.wrap,o=t.wrap;return{props:r(e.props,t.props),defineNodes:r(e.defineNodes,t.defineNodes),parseBlock:r(e.parseBlock,t.parseBlock),parseInline:r(e.parseInline,t.parseInline),remove:r(e.remove,t.remove),wrap:i?o?(a,c,u,h)=>i(o(a,c,u,h),c,u,h):i:o}}function pM(n,e){let t=n.indexOf(e);if(t<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return t}let vce=[Ua.none];for(let n=1,e;e=dn[n];n++)vce[n]=Ua.define({id:n,name:e,props:n>=dn.Escape?[]:[[Fr.group,n in ace?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const eE=[];class bce{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,t,r,i=0){return this.content.push(e,t,r,4+i*4),this}writeElements(e,t=0){for(let r of e)r.writeTo(this,t);return this}finish(e,t){return fo.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:t})}}let OO=class{constructor(e,t,r,i=eE){this.type=e,this.from=t,this.to=r,this.children=i}writeTo(e,t){let r=e.content.length;e.writeElements(this.children,t),e.content.push(this.type,this.from+t,this.to+t,e.content.length+4-r)}toTree(e){return new bce(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class xce{constructor(e,t){this.tree=e,this.from=t}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return eE}writeTo(e,t){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+t,this.to+t,-1)}toTree(){return this.tree}}function Pi(n,e,t,r){return new OO(n,e,t,r)}const wce={resolve:"Emphasis",mark:"EmphasisMark"},_ce={resolve:"Emphasis",mark:"EmphasisMark"},Sw={},OB={};class nf{constructor(e,t,r,i){this.type=e,this.from=t,this.to=r,this.side=i}}const aK="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let TO=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{TO=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const vF={Escape(n,e,t){if(e!=92||t==n.end-1)return-1;let r=n.char(t+1);for(let i=0;i<aK.length;i++)if(aK.charCodeAt(i)==r)return n.append(Pi(dn.Escape,t,t+2));return-1},Entity(n,e,t){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(t+1,t+31));return r?n.append(Pi(dn.Entity,t,t+1+r[0].length)):-1},InlineCode(n,e,t){if(e!=96||t&&n.char(t-1)==96)return-1;let r=t+1;for(;r<n.end&&n.char(r)==96;)r++;let i=r-t,o=0;for(;r<n.end;r++)if(n.char(r)==96){if(o++,o==i&&n.char(r+1)!=96)return n.append(Pi(dn.InlineCode,t,r+1,[Pi(dn.CodeMark,t,t+i),Pi(dn.CodeMark,r+1-i,r+1)]))}else o=0;return-1},HTMLTag(n,e,t){if(e!=60||t==n.end-1)return-1;let r=n.slice(t+1,n.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return n.append(Pi(dn.Autolink,t,t+1+i[0].length,[Pi(dn.LinkMark,t,t+1),Pi(dn.URL,t+1,t+i[0].length),Pi(dn.LinkMark,t+i[0].length,t+1+i[0].length)]));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(o)return n.append(Pi(dn.Comment,t,t+1+o[0].length));let a=/^\?[^]*?\?>/.exec(r);if(a)return n.append(Pi(dn.ProcessingInstruction,t,t+1+a[0].length));let c=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return c?n.append(Pi(dn.HTMLTag,t,t+1+c[0].length)):-1},Emphasis(n,e,t){if(e!=95&&e!=42)return-1;let r=t+1;for(;n.char(r)==e;)r++;let i=n.slice(t-1,t),o=n.slice(r,r+1),a=TO.test(i),c=TO.test(o),u=/\s|^$/.test(i),h=/\s|^$/.test(o),m=!h&&(!c||u||a),v=!u&&(!a||h||c),_=m&&(e==42||!v||a),k=v&&(e==42||!m||c);return n.append(new nf(e==95?wce:_ce,t,r,(_?1:0)|(k?2:0)))},HardBreak(n,e,t){if(e==92&&n.char(t+1)==10)return n.append(Pi(dn.HardBreak,t,t+2));if(e==32){let r=t+1;for(;n.char(r)==32;)r++;if(n.char(r)==10&&r>=t+2)return n.append(Pi(dn.HardBreak,t,r+1))}return-1},Link(n,e,t){return e==91?n.append(new nf(Sw,t,t+1,1)):-1},Image(n,e,t){return e==33&&n.char(t+1)==91?n.append(new nf(OB,t,t+2,1)):-1},LinkEnd(n,e,t){if(e!=93)return-1;for(let r=n.parts.length-1;r>=0;r--){let i=n.parts[r];if(i instanceof nf&&(i.type==Sw||i.type==OB)){if(!i.side||n.skipSpace(i.to)==t&&!/[(\[]/.test(n.slice(t+1,t+2)))return n.parts[r]=null,-1;let o=n.takeContent(r),a=n.parts[r]=q6e(n,o,i.type==Sw?dn.Link:dn.Image,i.from,t+1);if(i.type==Sw)for(let c=0;c<r;c++){let u=n.parts[c];u instanceof nf&&u.type==Sw&&(u.side=0)}return a.to}}return-1}};function q6e(n,e,t,r,i){let{text:o}=n,a=n.char(i),c=i;if(e.unshift(Pi(dn.LinkMark,r,r+(t==dn.Image?2:1))),e.push(Pi(dn.LinkMark,i-1,i)),a==40){let u=n.skipSpace(i+1),h=Ece(o,u-n.offset,n.offset),m;h&&(u=n.skipSpace(h.to),u!=h.to&&(m=Sce(o,u-n.offset,n.offset),m&&(u=n.skipSpace(m.to)))),n.char(u)==41&&(e.push(Pi(dn.LinkMark,i,i+1)),c=u+1,h&&e.push(h),m&&e.push(m),e.push(Pi(dn.LinkMark,u,c)))}else if(a==91){let u=kce(o,i-n.offset,n.offset,!1);u&&(e.push(u),c=u.to)}return Pi(t,r,c,e)}function Ece(n,e,t){if(n.charCodeAt(e)==60){for(let i=e+1;i<n.length;i++){let o=n.charCodeAt(i);if(o==62)return Pi(dn.URL,e+t,i+1+t);if(o==60||o==10)return!1}return null}else{let i=0,o=e;for(let a=!1;o<n.length;o++){let c=n.charCodeAt(o);if(Cf(c))break;if(a)a=!1;else if(c==40)i++;else if(c==41){if(!i)break;i--}else c==92&&(a=!0)}return o>e?Pi(dn.URL,e+t,o+t):o==n.length?null:!1}}function Sce(n,e,t){let r=n.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let o=e+1,a=!1;o<n.length;o++){let c=n.charCodeAt(o);if(a)a=!1;else{if(c==i)return Pi(dn.LinkTitle,e+t,o+1+t);c==92&&(a=!0)}}return null}function kce(n,e,t,r){for(let i=!1,o=e+1,a=Math.min(n.length,o+999);o<a;o++){let c=n.charCodeAt(o);if(i)i=!1;else{if(c==93)return r?!1:Pi(dn.LinkLabel,e+t,o+1+t);if(r&&!Cf(c)&&(r=!1),c==91)return!1;c==92&&(i=!0)}}return null}class U6e{constructor(e,t,r){this.parser=e,this.text=t,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,t){return this.text.slice(e-this.offset,t-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,t,r,i,o){return this.append(new nf(e,t,r,(i?1:0)|(o?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let t=this.parts[e];if(t instanceof nf&&(t.type==Sw||t.type==OB))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof nf&&i.type.resolve&&i.side&2))continue;let o=i.type==wce||i.type==_ce,a=i.to-i.from,c,u=r-1;for(;u>=e;u--){let T=this.parts[u];if(T instanceof nf&&T.side&1&&T.type==i.type&&!(o&&(i.side&1||T.side&2)&&(T.to-T.from+a)%3==0&&((T.to-T.from)%3||a%3))){c=T;break}}if(!c)continue;let h=i.type.resolve,m=[],v=c.from,_=i.to;if(o){let T=Math.min(2,c.to-c.from,a);v=c.to-T,_=i.from+T,h=T==1?"Emphasis":"StrongEmphasis"}c.type.mark&&m.push(this.elt(c.type.mark,v,c.to));for(let T=u+1;T<r;T++)this.parts[T]instanceof OO&&m.push(this.parts[T]),this.parts[T]=null;i.type.mark&&m.push(this.elt(i.type.mark,i.from,_));let k=this.elt(h,v,_,m);this.parts[u]=o&&c.from!=v?new nf(c.type,c.from,v,c.side):null,(this.parts[r]=o&&i.to!=_?new nf(i.type,_,i.to,i.side):null)?this.parts.splice(r,0,k):this.parts[r]=k}let t=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof OO&&t.push(i)}return t}findOpeningDelimiter(e){for(let t=this.parts.length-1;t>=0;t--){let r=this.parts[t];if(r instanceof nf&&r.type==e)return t}return null}takeContent(e){let t=this.resolveMarkers(e);return this.parts.length=e,t}skipSpace(e){return vC(this.text,e-this.offset)+this.offset}elt(e,t,r,i){return typeof e=="string"?Pi(this.parser.getNodeType(e),t,r,i):new xce(e,t)}}function TB(n,e){if(!e.length)return n;if(!n.length)return e;let t=n.slice(),r=0;for(let i of e){for(;r<t.length&&t[r].to<i.to;)r++;if(r<t.length&&t[r].from<i.from){let o=t[r];o instanceof OO&&(t[r]=new OO(o.type,o.from,o.to,TB(o.children,[i])))}else t.splice(r++,0,i)}return t}const G6e=[dn.CodeBlock,dn.ListItem,dn.OrderedList,dn.BulletList];class Y6e{constructor(e,t){this.fragments=e,this.input=t,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,t){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let o=this.fragment.to;for(;o>0&&this.input.read(o-1,o)!=`
`;)o--;this.fragmentEnd=o?o-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=t;if(!r.childAfter(i))return!1}}matches(e){let t=this.cursor.tree;return t&&t.prop(Fr.contextHash)==e}takeNodes(e){let t=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),o=e.absoluteLineStart,a=o,c=e.block.children.length,u=a,h=c;for(;;){if(t.to-r>i){if(t.type.isAnonymous&&t.firstChild())continue;break}let m=Cce(t.from-r,e.ranges);if(t.to-r<=e.ranges[e.rangeI].to)e.addNode(t.tree,m);else{let v=new fo(e.parser.nodeSet.types[dn.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(v,t.tree),e.addNode(v,m)}if(t.type.is("Block")&&(G6e.indexOf(t.type.id)<0?(a=t.to-r,c=e.block.children.length):(a=u,c=h,u=t.to-r,h=e.block.children.length)),!t.nextSibling())break}for(;e.block.children.length>c;)e.block.children.pop(),e.block.positions.pop();return a-o}}function Cce(n,e){let t=n;for(let r=1;r<e.length;r++){let i=e[r-1].to,o=e[r].from;i<n&&(t-=o-i)}return t}const Q6e=nT({"Blockquote/...":Se.quote,HorizontalRule:Se.contentSeparator,"ATXHeading1/... SetextHeading1/...":Se.heading1,"ATXHeading2/... SetextHeading2/...":Se.heading2,"ATXHeading3/...":Se.heading3,"ATXHeading4/...":Se.heading4,"ATXHeading5/...":Se.heading5,"ATXHeading6/...":Se.heading6,"Comment CommentBlock":Se.comment,Escape:Se.escape,Entity:Se.character,"Emphasis/...":Se.emphasis,"StrongEmphasis/...":Se.strong,"Link/... Image/...":Se.link,"OrderedList/... BulletList/...":Se.list,"BlockQuote/...":Se.quote,"InlineCode CodeText":Se.monospace,"URL Autolink":Se.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Se.processingInstruction,"CodeInfo LinkLabel":Se.labelName,LinkTitle:Se.string,Paragraph:Se.content}),K6e=new z7(new tT(vce).extend(Q6e),Object.keys(hM).map(n=>hM[n]),Object.keys(hM).map(n=>gce[n]),Object.keys(hM),z6e,ace,Object.keys(vF).map(n=>vF[n]),Object.keys(vF),[]),X6e={resolve:"Strikethrough",mark:"StrikethroughMark"};Se.strikethrough,Se.processingInstruction;function bC(n,e,t=0,r,i=0){let o=0,a=!0,c=-1,u=-1,h=!1,m=()=>{r.push(n.elt("TableCell",i+c,i+u,n.parser.parseInline(e.slice(c,u),i+c)))};for(let v=t;v<e.length;v++){let _=e.charCodeAt(v);_==124&&!h?((!a||c>-1)&&o++,a=!1,r&&(c>-1&&m(),r.push(n.elt("TableDelimiter",v+i,v+i+1))),c=u=-1):(h||_!=32&&_!=9)&&(c<0&&(c=v),u=v+1),h=!h&&_==92}return c>-1&&(o++,r&&m()),o}function lK(n,e){for(let t=e;t<n.length;t++){let r=n.charCodeAt(t);if(r==124)return!0;r==92&&t++}return!1}const Oce=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class cK{constructor(){this.rows=null}nextLine(e,t,r){if(this.rows==null){this.rows=!1;let i;if((t.next==45||t.next==58||t.next==124)&&Oce.test(i=t.text.slice(t.pos))){let o=[];bC(e,r.content,0,o,r.start)==bC(e,i,t.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,o),e.elt("TableDelimiter",e.lineStart+t.pos,e.lineStart+t.text.length)])}}else if(this.rows){let i=[];bC(e,t.text,t.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+t.pos,e.lineStart+t.text.length,i))}return!1}finish(e,t){return this.rows?(e.addLeafElement(t,e.elt("Table",t.start,t.start+t.content.length,this.rows)),!0):!1}}Se.heading,Se.content,Se.processingInstruction;class Z6e{nextLine(){return!1}finish(e,t){return e.addLeafElement(t,e.elt("Task",t.start,t.start+t.content.length,[e.elt("TaskMarker",t.start,t.start+3),...e.parser.parseInline(t.content.slice(3),t.start+3)])),!0}}Se.list,Se.atom;function Tce(n,e,t){return(r,i,o)=>{if(i!=n||r.char(o+1)==n)return-1;let a=[r.elt(t,o,o+1)];for(let c=o+1;c<r.end;c++){let u=r.char(c);if(u==n)return r.addElement(r.elt(e,o,c+1,a.concat(r.elt(t,c,c+1))));if(u==92&&a.push(r.elt("Escape",c,c+++2)),Cf(u))break}return-1}}Se.special(Se.content),Se.processingInstruction,Tce(94,"Superscript","SuperscriptMark");Se.special(Se.content),Se.processingInstruction,Tce(126,"Subscript","SubscriptMark");Se.character;function J6e(n){const e=[];return n.iterate({enter:t=>{const r=t.node;if(!r.type.isError)return;const i=r.parent,o=Ace(r),a={from:r.from,to:r.to,severity:"error",type:"Syntax Error"};if(r.from!==r.to)a.message=`Unrecognized token in <${i.name}>`;else if(o)a.message=`Unrecognized token <${o.name}> in <${i.name}>`,a.to=o.to;else{const c=i.enterUnfinishedNodesBefore(r.to);a.message=`Incomplete <${(c||i).name}>`}e.push(a)}}),e}function Ace(n){return n?n.nextSibling||Ace(n.parent):null}const eBe="first-item";var tBe={create(n){return{enter(e){if(e.name!=="FilterExpression")return;const t=n.readContent(e.from,e.to);if(uK().test(t)){const{from:r,to:i}=e;n.report({from:r,to:i,message:"First item is accessed via [1]",severity:"warning",type:eBe,actions:[{name:"fix",apply(o,a=r,c=i){n.updateContent(a,c,t.replace(uK(),"[1]"))}}]})}}}}};function uK(){return/\[\s*0\s*\]$/}const nBe=[tBe];function rBe(n){const{readContent:e,syntaxTree:t,updateContent:r}=n,i=[],o={readContent:e,report:c=>{i.push(c)},updateContent:r},a=nBe.map(c=>c.create(o));return t.iterate({enter:c=>{for(const u of a)u.enter&&u.enter(c)},leave:c=>{for(const u of a)u.leave&&u.leave(c)}}),i}function iBe(n){return[...J6e(n.syntaxTree),...rBe(n)]}const Rce=()=>n=>{if(n.state.doc.length===0)return[];const e=Ga(n.state);return iBe({syntaxTree:e,readContent:(r,i)=>n.state.sliceDoc(r,i),updateContent:(r,i,o)=>n.dispatch({changes:{from:r,to:i,insert:o}})}).map(r=>({...r,source:r.type}))},oBe=p5(Qv.define([{tag:Se.strong,fontWeight:"bold"},{tag:Se.emphasis,fontStyle:"italic"}])),sBe=On.theme({"& .cm-lintRange":{position:"relative"},"& .cm-lintRange::after":{content:'""',width:"100%",position:"absolute",left:"0px",bottom:"-2px",height:"3px",backgroundRepeat:"repeat-x"},"& .cm-lintRange.cm-lintRange-warning, & .cm-lintRange.cm-lintRange-error":{backgroundImage:"none"},"& .cm-lintPoint::after":{bottom:"-2px"}});var Pce=[sBe,oBe];const dK=n=>`%23${n.slice(1)}`,Ur={black:"#1f2b36",darkGrey:"#2f3d58",grey:"#404a5c",midGrey:"#576071",lightGrey:"#c5d1e5",offWhite:"#d9e0f5",snowWhite:"#eaf1ff",white:"#ffffff",mossGreen:"#7ab6aa",iceBlue:"#6cbfd8",waterBlue:"#065aaa",brightBlue:"#0a56b9",deepBlue:"#355472",red:"#9f1c15",orangeBrown:"#b4502f",yellow:"#debd71",lila:"#9a4890",purple:"#5b2c83"},Fa={lightBackground:Ur.white,darkBackground:Ur.snowWhite,selection:Ur.snowWhite,tooltipBackground:Ur.offWhite,error:Ur.red,warning:Ur.yellow,invalid:"#b40000"},aBe=On.theme({"&":{color:Ur.black,backgroundColor:Fa.lightBackground},".cm-content":{caretColor:Ur.darkGrey},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ur.darkGrey},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Fa.selection},".cm-panels":{backgroundColor:Fa.darkBackground,color:Ur.grey},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${Ur.black}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${Ur.black}`},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${Ur.midGrey}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:Ur.offWhite},".cm-activeLine":{backgroundColor:Fa.selection},".cm-selectionMatch":{backgroundColor:Ur.offWhite},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${Ur.grey}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:Ur.snowWhite},".cm-gutters":{backgroundColor:"#f3f7fe",color:"#52668d",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:Fa.selection},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Fa.tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Fa.tooltipBackground,borderBottomColor:Fa.tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Fa.darkBackground,color:Ur.midGrey}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${dK(Fa.warning)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${dK(Fa.error)}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{border:`1px solid ${Fa.warning}`,borderLeft:`5px solid ${Fa.warning}`,background:Fa.lightBackground},"& .cm-diagnostic-error":{border:`1px solid ${Fa.error}`,borderLeft:`5px solid ${Fa.error}`,background:Fa.lightBackground},"& .cm-diagnostic":{padding:"3px 8px"}},{dark:!1}),lBe=p5(Qv.define([{tag:[Se.macroName,Se.variableName],color:Ur.waterBlue},{tag:[Se.special(Se.bracket)],color:Ur.waterBlue,fontWeight:"bold"},{tag:[Se.color,Se.name,Se.definition(Se.name),Se.constant(Se.name),Se.standard(Se.name),Se.propertyName],color:Ur.deepBlue},{tag:[Se.definition(Se.variableName),Se.function(Se.variableName),Se.function(Se.propertyName)],color:Ur.brightBlue},{tag:[Se.labelName],color:Ur.orangeBrown},{tag:[Se.annotation],color:Fa.invalid},{tag:[Se.number,Se.changed,Se.annotation,Se.modifier,Se.self,Se.namespace,Se.atom,Se.bool,Se.special(Se.variableName)],color:Ur.red},{tag:[Se.typeName,Se.className,Se.attributeName],color:Ur.lila},{tag:[Se.operator,Se.operatorKeyword,Se.tagName,Se.keyword],color:Ur.purple},{tag:[Se.angleBracket,Se.squareBracket,Se.brace,Se.separator,Se.punctuation],color:Ur.midGrey},{tag:[Se.regexp],color:Ur.deepBlue},{tag:[Se.quote],color:Ur.darkGrey},{tag:[Se.string,Se.character,Se.deleted],color:Ur.orangeBrown},{tag:Se.link,color:Ur.mossGreen,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[Se.url,Se.escape,Se.special(Se.string)],color:Ur.red},{tag:[Se.meta],color:Ur.iceBlue},{tag:[Se.comment],color:Ur.midGrey,fontStyle:"italic"},{tag:Se.strong,fontWeight:"bold",color:Ur.deepBlue},{tag:Se.emphasis,fontStyle:"italic",color:Ur.deepBlue},{tag:Se.strikethrough,textDecoration:"line-through"},{tag:Se.heading,fontWeight:"bold",color:Ur.midGray},{tag:Se.special(Se.heading1),fontWeight:"bold",color:Ur.darkGrey},{tag:[Se.heading1,Se.heading2,Se.heading3,Se.heading4],fontWeight:"bold",color:Ur.midGrey},{tag:[Se.heading5,Se.heading6,Se.processingInstruction,Se.inserted],color:Ur.grey},{tag:[Se.contentSeparator],color:Ur.yellow},{tag:Se.invalid,color:Ur.midGrey,borderBottom:`1px dotted ${Fa.invalid}`}]));var cBe=[aBe,lBe];const uBe="#abb2bf",bF="#f07178",dBe="#7d8799",fBe="#ffffff",xw="#fffce1",xF="#ec9e6f",hBe="#21252b",wF="rgba(0, 0, 0, 0.5)",pBe="#292d3e",_F="#353a42",mBe="rgba(128, 203, 196, 0.2)",fK="#ffcc00",gBe="%23",hK="fff890",pK="red",yBe="#281e16",vBe="#281616",bBe=On.theme({"&":{color:"#ffffff",backgroundColor:pBe},".cm-content":{caretColor:fK},"&.cm-focused .cm-cursor":{borderLeftColor:fK},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:mBe},".cm-panels":{backgroundColor:hBe,color:"#ffffff"},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:wF},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{background:"#292d3e",color:"#676e95",border:"none",padding:"0 5px"},".cm-activeLineGutter":{backgroundColor:wF},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:_F},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:_F,borderBottomColor:_F},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:wF,color:uBe}},"& .cm-lintRange.cm-lintRange-warning::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${gBe+hK}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-lintRange.cm-lintRange-error::after":{backgroundImage:`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='6' height='3'><path d='m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0' stroke='${pK}' fill='none' stroke-width='1.2'/></svg>")`},"& .cm-diagnostic-warning":{borderLeft:`5px solid #${hK}`,background:yBe},"& .cm-diagnostic-error":{borderLeft:`5px solid ${pK}`,background:vBe},"& .cm-diagnostic":{borderRadius:"2px",padding:"3px 8px"}},{dark:!0}),xBe=p5(Qv.define([{tag:Se.heading1,color:xw},{tag:Se.heading2,color:xw},{tag:Se.heading3,color:xw},{tag:Se.heading4,color:xw},{tag:Se.heading5,color:xw},{tag:Se.heading6,color:xw},{tag:Se.special(Se.bracket),color:xF,fontWeight:"bold"},{tag:Se.keyword,color:"#c792ea"},{tag:Se.operator,color:"#89ddff"},{tag:Se.special(Se.variableName),color:"#eeffff"},{tag:Se.typeName,color:"#f07178"},{tag:Se.atom,color:"#f78c6c"},{tag:Se.number,color:"#ff5370"},{tag:Se.bool,color:"#ff5370"},{tag:Se.definition(Se.variableName),color:"#82aaff"},{tag:Se.string,color:"#c3e88d"},{tag:Se.comment,color:dBe},{tag:Se.tagName,color:"#ff5370"},{tag:Se.bracket,color:"#a2a1a4"},{tag:Se.meta,color:"#ffcb6b"},{tag:Se.special(Se.string),color:bF},{tag:Se.propertyName,color:xF},{tag:Se.variableName,color:xF},{tag:Se.attributeName,color:bF},{tag:Se.className,color:bF},{tag:Se.invalid,color:fBe}]));var wBe=[bBe,xBe];const _Be=[...Pce,...cBe],EBe=[...Pce,...wBe],SBe=1,kBe=2,CBe=3,F3={"{":123,"}":125},OBe=(n,e=0)=>{const t=n.peek(e)===F3["}"],r=n.peek(e+1)===F3["}"];return t&&r||n.peek(e)===-1},TBe=new CE((n,e)=>{let t=0;for(;!OBe(n,t);)t++;t>0&&(n.advance(t),n.acceptToken(kBe))}),ABe=(n,e=0)=>{const t=n.peek(e)===F3["{"],r=n.peek(e+1)===F3["{"];return t&&r||n.peek(e)===-1},RBe=new CE((n,e)=>{let t=0;for(;!ABe(n,t);)t++;t>0&&(n.advance(t),n.acceptToken(CBe))}),PBe=new CE((n,e)=>{let t=0;for(;n.peek(t)!==-1;)t++;t>0&&(n.advance(t),n.acceptToken(SBe))}),MBe=nT({ConditionalSpanner:Se.special(Se.bracket),ConditionalSpannerClose:Se.special(Se.bracket),ConditionalSpannerCloseNl:Se.special(Se.bracket),LoopSpanner:Se.special(Se.bracket),LoopSpannerClose:Se.special(Se.bracket),LoopSpannerCloseNl:Se.special(Se.bracket),EmptyInsert:Se.special(Se.bracket),Insert:Se.special(Se.bracket)}),H7=mO.deserialize({version:14,states:"$bOQOaOOOfOXO'#CbOOO`'#Cm'#CmOqOWO'#CcOvOWO'#CfOOO`'#Cp'#CpOOO`'#Ci'#CiO{OaO'#ClO!jOSOOQOOOOOO!oOPO,58{O!tOXO,58|OOO`,58|,58|O!|OQO,58}O#ROQO,59QOOO`-E6g-E6gOOO`1G.g1G.gO#WOPO1G.gOOO`1G.h1G.hO#]OaO1G.iO#qOaO1G.lOOO`7+$R7+$RO$VOPO7+$TO$_OPO7+$WOOO`<<Go<<GoOOO`<<Gr<<Gr",stateData:"$g~ORUO_WObPOeROgSO^`P~OQYO_ZOc[O~OQ]O~OQ^O~ORUObPOeROgSO^`XW`XX`XZ`X[`X~OPXO~Oc`O~OQaOcbO~OfcO~OfdO~OceO~ORUObPOeROgSOW`PX`P~ORUObPOeROgSOZ`P[`P~OWhOXhO~OZiO[iO~O",goto:"!ZePPPPPfflPPlPPrPPz!TPP!TXQOVcdXTOVcdUVOcdR_VQXOQfcRgdXUOVcd",nodeNames:" Feel FeelBlock SimpleTextBlock Feelers Insert EmptyInsert ConditionalSpanner ConditionalSpannerClose ConditionalSpannerCloseNl LoopSpanner LoopSpannerClose LoopSpannerCloseNl",maxTerm:23,propSources:[MBe],skippedNodes:[0],repeatNodeCount:1,tokenData:"%X~RR!_!`[#o#pa#q#r$r~aO_~~dP#o#pg~lQb~str!P!Q!{~uQ#]#^{#`#a!^~!OP#Y#Z!R~!UPpq!X~!^Oe~~!aP#c#d!d~!gP#c#d!j~!mP#d#e!p~!sPpq!v~!{Og~~#OQ#]#^#U#`#a#u~#XP#Y#Z#[~#_P#q#r#b~#eP#q#r#h~#mPW~YZ#p~#uOX~~#xP#c#d#{~$OP#c#d$R~$UP#d#e$X~$[P#q#r$_~$bP#q#r$e~$jPZ~YZ$m~$rO[~R$uP#q#r$xR%PPcPfQYZ%SQ%XOfQ",tokenizers:[0,1,PBe,TBe,RBe],topRules:{Feelers:[0,4]},tokenPrec:0});function Mce(n,e){const t=[{children:[]}],r=i=>["SimpleTextBlock","Feel","FeelBlock"].includes(i.type.name);return n.iterate({enter:(i,o,a)=>{const c={name:i.type.name,children:[]};r(i)&&(c.content=e.slice(i.from,i.to)),t.push(c)},leave:(i,o,a)=>{const c=t.pop(),u=t[t.length-1];c.parent=u,u.children.push(c)}}),t[0].children[0]}const DBe=(n,e={},t={})=>{const{debug:r=!1,strict:i=!1,buildDebugString:o=m=>`{{ ${m.message.toLowerCase()} }}`,sanitizer:a}=t,c=H7.parse(n),u=Mce(c,n);return NBe({debug:r,strict:i,buildDebugString:o,sanitizer:a})(u,Dce(e,null))},NBe=n=>{const{debug:e,strict:t,buildDebugString:r,sanitizer:i}=n,o=u=>{if(e)return r(u);throw u},a=(u,h={})=>{switch(u.name){case"SimpleTextBlock":return u.content;case"Insert":{const m=u.children[0].content;try{const v=UP(`string(${m})`,h);return i?i(v):v}catch{return o(new Error(`FEEL expression ${m} couldn't be evaluated`))}}case"EmptyInsert":return"";case"Feel":case"FeelBlock":{const m=u.content;try{const v=UP(`string(${m})`,h);return i?i(v):v}catch{return o(new Error(`FEEL expression ${m} couldn't be evaluated`))}}case"Feelers":return u.children.map(m=>c(m,h)).join("");case"ConditionalSpanner":{const m=u.children[0].content;let v;try{v=UP(m,h)}catch{return o(new Error(`FEEL expression ${m} couldn't be evaluated`))}if(t&&typeof v!="boolean")return o(new Error(`FEEL expression ${m} expected to evaluate to a boolean`));if(v){const k=u.children.slice(1,u.children.length-1).map(F=>c(F,h)).join(""),T=u.children[u.children.length-1].name.endsWith("Nl")&&!k.endsWith(`
`);return k+(T?`
`:"")}return""}case"LoopSpanner":{const m=u.children[0].content;let v;try{v=UP(m,h)}catch{return o(new Error(`FEEL expression ${m} couldn't be evaluated`))}if(!Array.isArray(v)){if(t)return o(new Error(`FEEL expression ${m} expected to evaluate to an array`));v==null?v=[]:v=[v]}const _=u.children.slice(1,u.children.length-1),k=($,j)=>{const B=Dce($,j);return _.map(I=>c(I,B)).join("")},R=v.map($=>k($,h)).join(""),F=u.children[u.children.length-1].name.endsWith("Nl")&&!R.endsWith(`
`);return R+(F?`
`:"")}}},c=(u,h={})=>{try{return a(u,h)}catch(m){return o(m)}};return c},Dce=(n,e)=>typeof n=="object"?{this:n,parent:e,...n,_this_:n,_parent_:e}:{this:n,parent:e,_this_:n,_parent_:e},IBe={ConditionalSpanner:yC,LoopSpanner:yC};function LBe(n=null){const e=H7.configure({wrap:Z3e(t=>t.name=="Feel"||t.name=="FeelBlock"?{parser:TE}:n&&t.name=="SimpleTextBlock"?{parser:n}:null),props:[ple.add(IBe)]});return EO.define({parser:e})}const FBe=n=>new cle(LBe(n),[]);function $Be(n){const e=[];return n.iterate({enter:t=>{t.type.name==="EmptyInsert"&&e.push({from:t.from,to:t.to,severity:"warning",message:"this insert is empty and will be ignored",type:"emptyInsert"})}}),e}function BBe(n){return[...$Be(n)]}function jBe(){const n=Rce();return e=>{const t=n(e);if(e.state.doc.length===0)return[];const r=Ga(e.state),i=BBe(r);return[...t,...i.map(o=>({...o,source:"feelers linter"}))]}}var VBe=rce(jBe());function v5({container:n,tooltipContainer:e,hostLanguage:t,hostLanguageParser:r,onChange:i=()=>{},onKeyDown:o=()=>{},onLint:a=()=>{},contentAttributes:c={},readOnly:u=!1,value:h="",enableGutters:m=!1,singleLine:v=!1,lineWrap:_=!1,darkMode:k=!1}){const R=On.updateListener.of(oe=>{oe.docChanged&&i(oe.state.doc.toString())}),T=On.updateListener.of(oe=>{const ne=oe.transactions.flatMap(Te=>Te.effects).filter(Te=>Te.is(cT));if(!ne.length)return;const ae=ne.flatMap(Te=>Te.value);a(ae)}),F=On.contentAttributes.of(c),$=On.domEventHandlers({keydown:o});typeof e=="string"&&(e=document.querySelector(e));const j=e?ile({tooltipSpace:function(){return e.getBoundingClientRect()}}):[],I=FBe(r||t&&(oe=>{switch(oe){case"markdown":return K6e;default:return null}})(t)),Y=[vle(),R,F,Cle(),hle(),$,sT.of([...Jle]),I,VBe,T,j,k?EBe:_Be,...m?[ale()]:[],...v?[Bi.transactionFilter.of(oe=>oe.newDoc.lines>1?[]:oe)]:[],..._?[On.lineWrapping]:[]];return u&&Y.push(On.editable.of(!1)),v&&h&&(h=h.toString().split(`
`)[0]),this._cmEditor=new On({state:Bi.create({doc:h,extensions:Y}),parent:n}),this}v5.prototype.setValue=function(n){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:n}})};v5.prototype.focus=function(n){const e=this._cmEditor;if(e.contentDOM.focus(),e.focus(),typeof n=="number"){const t=e.state.doc.length;e.dispatch({selection:{anchor:n<=t?n:t}})}};v5.prototype.getSelection=function(){return this._cmEditor.state.selection};function W7(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Mb=W7();function Nce(n){Mb=n}const xC={exec:()=>null};function po(n,e=""){let t=typeof n=="string"?n:n.source;const r={replace:(i,o)=>{let a=typeof o=="string"?o:o.source;return a=a.replace(jc.caret,"$1"),t=t.replace(i,a),r},getRegex:()=>new RegExp(t,e)};return r}const jc={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},zBe=/^(?:[ \t]*(?:\n|$))+/,HBe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,WBe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,uT=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qBe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,q7=/(?:[*+-]|\d{1,9}[.)])/,Ice=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Lce=po(Ice).replace(/bull/g,q7).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),UBe=po(Ice).replace(/bull/g,q7).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),U7=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,GBe=/^[^\n]+/,G7=/(?!\s*\])(?:\\.|[^\[\]\\])+/,YBe=po(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",G7).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),QBe=po(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,q7).getRegex(),b5="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Y7=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,KBe=po("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Y7).replace("tag",b5).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Fce=po(U7).replace("hr",uT).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",b5).getRegex(),XBe=po(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Fce).getRegex(),Q7={blockquote:XBe,code:HBe,def:YBe,fences:WBe,heading:qBe,hr:uT,html:KBe,lheading:Lce,list:QBe,newline:zBe,paragraph:Fce,table:xC,text:GBe},mK=po("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",uT).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",b5).getRegex(),ZBe={...Q7,lheading:UBe,table:mK,paragraph:po(U7).replace("hr",uT).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",mK).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",b5).getRegex()},JBe={...Q7,html:po(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Y7).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xC,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:po(U7).replace("hr",uT).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Lce).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},eje=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tje=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,$ce=/^( {2,}|\\)\n(?!\s*$)/,nje=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,x5=/[\p{P}\p{S}]/u,K7=/[\s\p{P}\p{S}]/u,Bce=/[^\s\p{P}\p{S}]/u,rje=po(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,K7).getRegex(),jce=/(?!~)[\p{P}\p{S}]/u,ije=/(?!~)[\s\p{P}\p{S}]/u,oje=/(?:[^\s\p{P}\p{S}]|~)/u,sje=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Vce=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,aje=po(Vce,"u").replace(/punct/g,x5).getRegex(),lje=po(Vce,"u").replace(/punct/g,jce).getRegex(),zce="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",cje=po(zce,"gu").replace(/notPunctSpace/g,Bce).replace(/punctSpace/g,K7).replace(/punct/g,x5).getRegex(),uje=po(zce,"gu").replace(/notPunctSpace/g,oje).replace(/punctSpace/g,ije).replace(/punct/g,jce).getRegex(),dje=po("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Bce).replace(/punctSpace/g,K7).replace(/punct/g,x5).getRegex(),fje=po(/\\(punct)/,"gu").replace(/punct/g,x5).getRegex(),hje=po(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),pje=po(Y7).replace("(?:-->|$)","-->").getRegex(),mje=po("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",pje).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),$3=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,gje=po(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",$3).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Hce=po(/^!?\[(label)\]\[(ref)\]/).replace("label",$3).replace("ref",G7).getRegex(),Wce=po(/^!?\[(ref)\](?:\[\])?/).replace("ref",G7).getRegex(),yje=po("reflink|nolink(?!\\()","g").replace("reflink",Hce).replace("nolink",Wce).getRegex(),X7={_backpedal:xC,anyPunctuation:fje,autolink:hje,blockSkip:sje,br:$ce,code:tje,del:xC,emStrongLDelim:aje,emStrongRDelimAst:cje,emStrongRDelimUnd:dje,escape:eje,link:gje,nolink:Wce,punctuation:rje,reflink:Hce,reflinkSearch:yje,tag:mje,text:nje,url:xC},vje={...X7,link:po(/^!?\[(label)\]\((.*?)\)/).replace("label",$3).getRegex(),reflink:po(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$3).getRegex()},AB={...X7,emStrongRDelimAst:uje,emStrongLDelim:lje,url:po(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},bje={...AB,br:po($ce).replace("{2,}","*").getRegex(),text:po(AB.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},mM={normal:Q7,gfm:ZBe,pedantic:JBe},O2={normal:X7,gfm:AB,breaks:bje,pedantic:vje},xje={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gK=n=>xje[n];function Ep(n,e){if(e){if(jc.escapeTest.test(n))return n.replace(jc.escapeReplace,gK)}else if(jc.escapeTestNoEncode.test(n))return n.replace(jc.escapeReplaceNoEncode,gK);return n}function yK(n){try{n=encodeURI(n).replace(jc.percentDecode,"%")}catch{return null}return n}function vK(n,e){var o;const t=n.replace(jc.findPipe,(a,c,u)=>{let h=!1,m=c;for(;--m>=0&&u[m]==="\\";)h=!h;return h?"|":" |"}),r=t.split(jc.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!((o=r.at(-1))!=null&&o.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(jc.slashPipe,"|");return r}function T2(n,e,t){const r=n.length;if(r===0)return"";let i=0;for(;i<r&&n.charAt(r-i-1)===e;)i++;return n.slice(0,r-i)}function wje(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return t>0?-2:-1}function bK(n,e,t,r,i){const o=e.href,a=e.title||null,c=n[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const u={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:a,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,u}function _je(n,e,t){const r=n.match(t.other.indentCodeCompensation);if(r===null)return e;const i=r[1];return e.split(`
`).map(o=>{const a=o.match(t.other.beginningSpace);if(a===null)return o;const[c]=a;return c.length>=i.length?o.slice(i.length):o}).join(`
`)}class B3{constructor(e){$o(this,"options");$o(this,"rules");$o(this,"lexer");this.options=e||Mb}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:T2(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],i=_je(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){const i=T2(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:T2(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=T2(t[0],`
`).split(`
`),i="",o="";const a=[];for(;r.length>0;){let c=!1;const u=[];let h;for(h=0;h<r.length;h++)if(this.rules.other.blockquoteStart.test(r[h]))u.push(r[h]),c=!0;else if(!c)u.push(r[h]);else break;r=r.slice(h);const m=u.join(`
`),v=m.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${m}`:m,o=o?`${o}
${v}`:v;const _=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,a,!0),this.lexer.state.top=_,r.length===0)break;const k=a.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){const R=k,T=R.raw+`
`+r.join(`
`),F=this.blockquote(T);a[a.length-1]=F,i=i.substring(0,i.length-R.raw.length)+F.raw,o=o.substring(0,o.length-R.text.length)+F.text;break}else if((k==null?void 0:k.type)==="list"){const R=k,T=R.raw+`
`+r.join(`
`),F=this.list(T);a[a.length-1]=F,i=i.substring(0,i.length-k.raw.length)+F.raw,o=o.substring(0,o.length-R.raw.length)+F.raw,r=T.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const i=r.length>1,o={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const a=this.rules.other.listItemRegex(r);let c=!1;for(;e;){let h=!1,m="",v="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;m=t[0],e=e.substring(m.length);let _=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,j=>" ".repeat(3*j.length)),k=e.split(`
`,1)[0],R=!_.trim(),T=0;if(this.options.pedantic?(T=2,v=_.trimStart()):R?T=t[1].length+1:(T=t[2].search(this.rules.other.nonSpaceChar),T=T>4?1:T,v=_.slice(T),T+=t[1].length),R&&this.rules.other.blankLine.test(k)&&(m+=k+`
`,e=e.substring(k.length+1),h=!0),!h){const j=this.rules.other.nextBulletRegex(T),B=this.rules.other.hrRegex(T),I=this.rules.other.fencesBeginRegex(T),Y=this.rules.other.headingBeginRegex(T),oe=this.rules.other.htmlBeginRegex(T);for(;e;){const ne=e.split(`
`,1)[0];let ae;if(k=ne,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),ae=k):ae=k.replace(this.rules.other.tabCharGlobal,"    "),I.test(k)||Y.test(k)||oe.test(k)||j.test(k)||B.test(k))break;if(ae.search(this.rules.other.nonSpaceChar)>=T||!k.trim())v+=`
`+ae.slice(T);else{if(R||_.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||I.test(_)||Y.test(_)||B.test(_))break;v+=`
`+k}!R&&!k.trim()&&(R=!0),m+=ne+`
`,e=e.substring(ne.length+1),_=ae.slice(T)}}o.loose||(c?o.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(c=!0));let F=null,$;this.options.gfm&&(F=this.rules.other.listIsTask.exec(v),F&&($=F[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:m,task:!!F,checked:$,loose:!1,text:v,tokens:[]}),o.raw+=m}const u=o.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let h=0;h<o.items.length;h++)if(this.lexer.state.top=!1,o.items[h].tokens=this.lexer.blockTokens(o.items[h].text,[]),!o.loose){const m=o.items[h].tokens.filter(_=>_.type==="space"),v=m.length>0&&m.some(_=>this.rules.other.anyLine.test(_.raw));o.loose=v}if(o.loose)for(let h=0;h<o.items.length;h++)o.items[h].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:o}}}table(e){var c;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const r=vK(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(c=t[3])!=null&&c.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const u of i)this.rules.other.tableAlignRight.test(u)?a.align.push("right"):this.rules.other.tableAlignCenter.test(u)?a.align.push("center"):this.rules.other.tableAlignLeft.test(u)?a.align.push("left"):a.align.push(null);for(let u=0;u<r.length;u++)a.header.push({text:r[u],tokens:this.lexer.inline(r[u]),header:!0,align:a.align[u]});for(const u of o)a.rows.push(vK(u,a.header.length).map((h,m)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:a.align[m]})));return a}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const a=T2(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=wje(t[2],"()");if(a===-2)return;if(a>-1){const u=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],o=a[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),bK(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[i.toLowerCase()];if(!o){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return bK(r,o,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=[...i[0]].length-1;let c,u,h=a,m=0;const v=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,t=t.slice(-1*e.length+a);(i=v.exec(t))!=null;){if(c=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!c)continue;if(u=[...c].length,i[3]||i[4]){h+=u;continue}else if((i[5]||i[6])&&a%3&&!((a+u)%3)){m+=u;continue}if(h-=u,h>0)continue;u=Math.min(u,u+h+m);const _=[...i[0]][0].length,k=e.slice(0,a+i.index+_+u);if(Math.min(a,u)%2){const T=k.slice(1,-1);return{type:"em",raw:k,text:T,tokens:this.lexer.inlineTokens(T)}}const R=k.slice(2,-2);return{type:"strong",raw:k,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(r),o=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&o&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=t[1],i="mailto:"+r):(r=t[1],i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let i,o;if(t[2]==="@")i=t[0],o="mailto:"+i;else{let a;do a=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(a!==t[0]);i=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}}class hf{constructor(e){$o(this,"tokens");$o(this,"options");$o(this,"state");$o(this,"tokenizer");$o(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Mb,this.options.tokenizer=this.options.tokenizer||new B3,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:jc,block:mM.normal,inline:O2.normal};this.options.pedantic?(t.block=mM.pedantic,t.inline=O2.pedantic):this.options.gfm&&(t.block=mM.gfm,this.options.breaks?t.inline=O2.breaks:t.inline=O2.gfm),this.tokenizer.rules=t}static get rules(){return{block:mM,inline:O2}}static lex(e,t){return new hf(t).lex(e)}static lexInline(e,t){return new hf(t).inlineTokens(e)}lex(e){e=e.replace(jc.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var i,o,a;for(this.options.pedantic&&(e=e.replace(jc.tabCharGlobal,"    ").replace(jc.spaceLine,""));e;){let c;if((o=(i=this.options.extensions)==null?void 0:i.block)!=null&&o.some(h=>(c=h.call({lexer:this},e,t))?(e=e.substring(c.raw.length),t.push(c),!0):!1))continue;if(c=this.tokenizer.space(e)){e=e.substring(c.raw.length);const h=t.at(-1);c.raw.length===1&&h!==void 0?h.raw+=`
`:t.push(c);continue}if(c=this.tokenizer.code(e)){e=e.substring(c.raw.length);const h=t.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue.at(-1).src=h.text):t.push(c);continue}if(c=this.tokenizer.fences(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.heading(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.hr(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.blockquote(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.list(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.html(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.def(e)){e=e.substring(c.raw.length);const h=t.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=`
`+c.raw,h.text+=`
`+c.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title});continue}if(c=this.tokenizer.table(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.lheading(e)){e=e.substring(c.raw.length),t.push(c);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let h=1/0;const m=e.slice(1);let v;this.options.extensions.startBlock.forEach(_=>{v=_.call({lexer:this},m),typeof v=="number"&&v>=0&&(h=Math.min(h,v))}),h<1/0&&h>=0&&(u=e.substring(0,h+1))}if(this.state.top&&(c=this.tokenizer.paragraph(u))){const h=t.at(-1);r&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):t.push(c),r=u.length!==e.length,e=e.substring(c.raw.length);continue}if(c=this.tokenizer.text(e)){e=e.substring(c.raw.length);const h=t.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):t.push(c);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var c,u,h;let r=e,i=null;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)m.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,a="";for(;e;){o||(a=""),o=!1;let m;if((u=(c=this.options.extensions)==null?void 0:c.inline)!=null&&u.some(_=>(m=_.call({lexer:this},e,t))?(e=e.substring(m.raw.length),t.push(m),!0):!1))continue;if(m=this.tokenizer.escape(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.tag(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.link(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(m.raw.length);const _=t.at(-1);m.type==="text"&&(_==null?void 0:_.type)==="text"?(_.raw+=m.raw,_.text+=m.text):t.push(m);continue}if(m=this.tokenizer.emStrong(e,r,a)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.codespan(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.br(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.del(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.autolink(e)){e=e.substring(m.raw.length),t.push(m);continue}if(!this.state.inLink&&(m=this.tokenizer.url(e))){e=e.substring(m.raw.length),t.push(m);continue}let v=e;if((h=this.options.extensions)!=null&&h.startInline){let _=1/0;const k=e.slice(1);let R;this.options.extensions.startInline.forEach(T=>{R=T.call({lexer:this},k),typeof R=="number"&&R>=0&&(_=Math.min(_,R))}),_<1/0&&_>=0&&(v=e.substring(0,_+1))}if(m=this.tokenizer.inlineText(v)){e=e.substring(m.raw.length),m.raw.slice(-1)!=="_"&&(a=m.raw.slice(-1)),o=!0;const _=t.at(-1);(_==null?void 0:_.type)==="text"?(_.raw+=m.raw,_.text+=m.text):t.push(m);continue}if(e){const _="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return t}}class j3{constructor(e){$o(this,"options");$o(this,"parser");this.options=e||Mb}space(e){return""}code({text:e,lang:t,escaped:r}){var a;const i=(a=(t||"").match(jc.notSpaceStart))==null?void 0:a[0],o=e.replace(jc.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Ep(i)+'">'+(r?o:Ep(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:Ep(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,r=e.start;let i="";for(let c=0;c<e.items.length;c++){const u=e.items[c];i+=this.listitem(u)}const o=t?"ol":"ul",a=t&&r!==1?' start="'+r+'"':"";return"<"+o+a+`>
`+i+"</"+o+`>
`}listitem(e){var r;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+Ep(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let o=0;o<e.header.length;o++)r+=this.tablecell(e.header[o]);t+=this.tablerow({text:r});let i="";for(let o=0;o<e.rows.length;o++){const a=e.rows[o];r="";for(let c=0;c<a.length;c++)r+=this.tablecell(a[c]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ep(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){const i=this.parser.parseInline(r),o=yK(e);if(o===null)return i;e=o;let a='<a href="'+e+'"';return t&&(a+=' title="'+Ep(t)+'"'),a+=">"+i+"</a>",a}image({href:e,title:t,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));const o=yK(e);if(o===null)return Ep(r);e=o;let a=`<img src="${e}" alt="${r}"`;return t&&(a+=` title="${Ep(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ep(e.text)}}class Z7{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class pf{constructor(e){$o(this,"options");$o(this,"renderer");$o(this,"textRenderer");this.options=e||Mb,this.options.renderer=this.options.renderer||new j3,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Z7}static parse(e,t){return new pf(t).parse(e)}static parseInline(e,t){return new pf(t).parseInline(e)}parse(e,t=!0){var i,o;let r="";for(let a=0;a<e.length;a++){const c=e[a];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[c.type]){const h=c,m=this.options.extensions.renderers[h.type].call({parser:this},h);if(m!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)){r+=m||"";continue}}const u=c;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let h=u,m=this.renderer.text(h);for(;a+1<e.length&&e[a+1].type==="text";)h=e[++a],m+=`
`+this.renderer.text(h);t?r+=this.renderer.paragraph({type:"paragraph",raw:m,text:m,tokens:[{type:"text",raw:m,text:m,escaped:!0}]}):r+=m;continue}default:{const h='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return r}parseInline(e,t=this.renderer){var i,o;let r="";for(let a=0;a<e.length;a++){const c=e[a];if((o=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&o[c.type]){const h=this.options.extensions.renderers[c.type].call({parser:this},c);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){r+=h||"";continue}}const u=c;switch(u.type){case"escape":{r+=t.text(u);break}case"html":{r+=t.html(u);break}case"link":{r+=t.link(u);break}case"image":{r+=t.image(u);break}case"strong":{r+=t.strong(u);break}case"em":{r+=t.em(u);break}case"codespan":{r+=t.codespan(u);break}case"br":{r+=t.br(u);break}case"del":{r+=t.del(u);break}case"text":{r+=t.text(u);break}default:{const h='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return r}}class wC{constructor(e){$o(this,"options");$o(this,"block");this.options=e||Mb}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?hf.lex:hf.lexInline}provideParser(){return this.block?pf.parse:pf.parseInline}}$o(wC,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Eje{constructor(...e){$o(this,"defaults",W7());$o(this,"options",this.setOptions);$o(this,"parse",this.parseMarkdown(!0));$o(this,"parseInline",this.parseMarkdown(!1));$o(this,"Parser",pf);$o(this,"Renderer",j3);$o(this,"TextRenderer",Z7);$o(this,"Lexer",hf);$o(this,"Tokenizer",B3);$o(this,"Hooks",wC);this.use(...e)}walkTokens(e,t){var i,o;let r=[];for(const a of e)switch(r=r.concat(t.call(this,a)),a.type){case"table":{const c=a;for(const u of c.header)r=r.concat(this.walkTokens(u.tokens,t));for(const u of c.rows)for(const h of u)r=r.concat(this.walkTokens(h.tokens,t));break}case"list":{const c=a;r=r.concat(this.walkTokens(c.items,t));break}default:{const c=a;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[c.type]?this.defaults.extensions.childTokens[c.type].forEach(u=>{const h=c[u].flat(1/0);r=r.concat(this.walkTokens(h,t))}):c.tokens&&(r=r.concat(this.walkTokens(c.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const a=t.renderers[o.name];a?t.renderers[o.name]=function(...c){let u=o.renderer.apply(this,c);return u===!1&&(u=a.apply(this,c)),u}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=t[o.level];a?a.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),i.extensions=t),r.renderer){const o=this.defaults.renderer||new j3(this.defaults);for(const a in r.renderer){if(!(a in o))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const c=a,u=r.renderer[c],h=o[c];o[c]=(...m)=>{let v=u.apply(o,m);return v===!1&&(v=h.apply(o,m)),v||""}}i.renderer=o}if(r.tokenizer){const o=this.defaults.tokenizer||new B3(this.defaults);for(const a in r.tokenizer){if(!(a in o))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const c=a,u=r.tokenizer[c],h=o[c];o[c]=(...m)=>{let v=u.apply(o,m);return v===!1&&(v=h.apply(o,m)),v}}i.tokenizer=o}if(r.hooks){const o=this.defaults.hooks||new wC;for(const a in r.hooks){if(!(a in o))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const c=a,u=r.hooks[c],h=o[c];wC.passThroughHooks.has(a)?o[c]=m=>{if(this.defaults.async)return Promise.resolve(u.call(o,m)).then(_=>h.call(o,_));const v=u.call(o,m);return h.call(o,v)}:o[c]=(...m)=>{let v=u.apply(o,m);return v===!1&&(v=h.apply(o,m)),v}}i.hooks=o}if(r.walkTokens){const o=this.defaults.walkTokens,a=r.walkTokens;i.walkTokens=function(c){let u=[];return u.push(a.call(this,c)),o&&(u=u.concat(o.call(this,c))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return hf.lex(e,t??this.defaults)}parser(e,t){return pf.parse(e,t??this.defaults)}parseMarkdown(e){return(r,i)=>{const o={...i},a={...this.defaults,...o},c=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&o.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const u=a.hooks?a.hooks.provideLexer():e?hf.lex:hf.lexInline,h=a.hooks?a.hooks.provideParser():e?pf.parse:pf.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(m=>u(m,a)).then(m=>a.hooks?a.hooks.processAllTokens(m):m).then(m=>a.walkTokens?Promise.all(this.walkTokens(m,a.walkTokens)).then(()=>m):m).then(m=>h(m,a)).then(m=>a.hooks?a.hooks.postprocess(m):m).catch(c);try{a.hooks&&(r=a.hooks.preprocess(r));let m=u(r,a);a.hooks&&(m=a.hooks.processAllTokens(m)),a.walkTokens&&this.walkTokens(m,a.walkTokens);let v=h(m,a);return a.hooks&&(v=a.hooks.postprocess(v)),v}catch(m){return c(m)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Ep(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}}}const vb=new Eje;function wo(n,e){return vb.parse(n,e)}wo.options=wo.setOptions=function(n){return vb.setOptions(n),wo.defaults=vb.defaults,Nce(wo.defaults),wo};wo.getDefaults=W7;wo.defaults=Mb;wo.use=function(...n){return vb.use(...n),wo.defaults=vb.defaults,Nce(wo.defaults),wo};wo.walkTokens=function(n,e){return vb.walkTokens(n,e)};wo.parseInline=vb.parseInline;wo.Parser=pf;wo.parser=pf.parse;wo.Renderer=j3;wo.TextRenderer=Z7;wo.Lexer=hf;wo.lexer=hf.lex;wo.Tokenizer=B3;wo.Hooks=wC;wo.parse=wo;wo.options;wo.setOptions;wo.use;wo.walkTokens;wo.parseInline;pf.parse;hf.lex;const qce=(n,e="expression",t={})=>{const{depth:r=0,specialDepthAccessors:i={}}=t;if(!["expression","unaryTest"].includes(e))return[];const o=e==="expression"?Fse(n):$se(n),a=Cje(o,n),c=function u(h){if(h.name==="PathExpression"){const m=J7(h)[0];return m.name==="Context"?u(m):Object.keys(i).length===0?r===0?[Sje(h,0)]:[]:Array.from(kje(h,r,i))}if(r===0&&h.name==="VariableName")return[h.variableName];if(h.children){const m=h.children.reduce((v,_)=>v.concat(u(_)),[]);return h.name==="FilterContext"?m.filter(v=>v!=="item"):m}return[]}(a);return[...new Set(c)]},Sje=(n,e)=>J7(n)[e].variableName||null,kje=(n,e,t)=>{let r=[{previous:null,current:e-1}];const i=new Set,o=J7(n);for(let a=0;a<o.length;a++){const c=o[a].variableName;c in t?r=t[c].reduce((h,m)=>[...h,...r.map(v=>({previous:v.current,current:v.current+m}))],[]).filter(h=>h.current>=-1):r=r.map(u=>({previous:u.current,current:u.current+1})),r.some(u=>u.previous===-1&&u.current===0)&&i.add(c)}return new Set(i)},J7=n=>{let e=n,t=[];for(;e.name==="PathExpression";)t.push(e.children[1]),e=e.children[0];return t.push(e),t.reverse()},Cje=(n,e)=>{const t=[{children:[]}];return n.iterate({enter:r=>{const i={name:r.type.name,children:[]};r.type.name==="VariableName"&&(i.variableName=e.slice(r.from,r.to)),t.push(i)},leave:()=>{const r=t.pop();t[t.length-1].children.push(r)}}),Oje(t[0].children[0])},Oje=n=>{const e={name:"Root",children:[n]},t=r=>{if(r.children)for(let i=0;i<r.children.length;i++)if(r.children[i].name==="FilterExpression"){const o=r.children[i].children[0],a=r.children[i].children[2];r.children[i]=o;const c={name:"FilterContext",children:[a]};e.children.push(c),t(a)}else t(r.children[i])};return t(n),e};class w5{constructor(e){this._eventBus=e}isExpression(e){return Zo(e)&&e.startsWith("=")}getVariableNames(e,t={}){const{type:r="expression"}=t;if(!this.isExpression(e))return[];if(!["unaryTest","expression"].includes(r))throw new Error("Unknown expression type: "+r);return qce(e,r)}evaluate(e,t={}){if(!e||!Zo(e)||!e.startsWith("="))return null;try{return H5e(e.slice(1),t)}catch(r){return this._eventBus.fire("error",{error:r}),null}}}w5.$inject=["eventBus"];class eV{constructor(){}isTemplate(e){return Zo(e)&&(e.startsWith("=")||/{{.*?}}/.test(e))}getVariableNames(e){if(!this.isTemplate(e))return[];const t=this._extractExpressionsWithDepth(e),r={parent:[-1,1],_parent_:[-1],this:[0,1],_this_:[0]};return t.reduce((i,{expression:o,depth:a})=>i.concat(qce(o,"expression",{depth:a,specialDepthAccessors:r})),[])}evaluate(e,t={},r={}){const{debug:i=!1,strict:o=!1,buildDebugString:a=u=>" {{}} ",sanitizer:c=u=>u}=r;return DBe(e,t,{debug:i,strict:o,buildDebugString:a,sanitizer:c})}_extractExpressionsWithDepth(e){const t=H7.parse(e),r=Mce(t,e);return function i(o,a=0){if(["Feel","FeelBlock"].includes(o.name))return[{depth:a,expression:o.content}];if(o.name==="LoopSpanner"){const c=o.children[0].content,u=o.children.slice(1).reduce((h,m)=>h.concat(i(m,a+1)),[]);return[{depth:a,expression:c},...u]}return o.children.reduce((c,u)=>c.concat(i(u,a)),[])}(r)}}eV.$inject=[];const Qm=60*24,di={DATE:"date",TIME:"time",DATETIME:"datetime"},Sv={UTC_OFFSET:"utc_offset",UTC_NORMALIZED:"utc_normalized",NO_TIMEZONE:"no_timezone"},Tje={[di.DATE]:"Date",[di.TIME]:"Time",[di.DATETIME]:"Date & Time"},Aje={[Sv.UTC_OFFSET]:"UTC offset",[Sv.UTC_NORMALIZED]:"UTC normalized",[Sv.NO_TIMEZONE]:"No timezone"},RB=["subtype"],V3=["dateLabel"],Uce=["disallowPassedDates"],PB=["timeLabel"],Gce=["use24h"],z3=["timeInterval"],H3=["timeSerializingFormat"],us={STATIC:"static",INPUT:"input",EXPRESSION:"expression"},Rje=us.STATIC,Pje={[us.STATIC]:"Static",[us.INPUT]:"Input data",[us.EXPRESSION]:"Expression"},Sh={[us.STATIC]:["values"],[us.INPUT]:["valuesKey"],[us.EXPRESSION]:["valuesExpression"]},Mje={[us.STATIC]:[{label:"Value",value:"value"}],[us.INPUT]:"",[us.EXPRESSION]:"="};function tV(n){for(const e of Object.values(us))if(wt(n,Sh[e])!==void 0)return e;return Rje}const qm="sandbox",gM="allow",MB=[{attribute:qm,directive:"allow-scripts",property:"allowScripts",label:"Script execution"},{attribute:qm,directive:"allow-same-origin",property:"allowSameOrigin",label:"Allow same origin"},{attribute:gM,directive:"fullscreen",property:"fullscreen",label:"Open in fullscreen"},{attribute:gM,directive:"geolocation",property:"geolocation",label:"Geolocation"},{attribute:gM,directive:"camera",property:"camera",label:"Camera access"},{attribute:gM,directive:"microphone",property:"microphone",label:"Microphone access"},{attribute:qm,directive:"allow-forms",property:"allowForms",label:"Forms submission"},{attribute:qm,directive:"allow-modals",property:"allowModals",label:"Open modal windows"},{attribute:qm,directive:"allow-popups",property:"allowPopups",label:"Open popups"},{attribute:qm,directive:"allow-top-navigation",property:"allowTopNavigation",label:"Top level navigation"},{attribute:qm,directive:"allow-storage-access-by-user-activation",property:"allowStorageAccessByUserActivation",label:"Storage access by user"}];function Yce(n){const e=new vse(n);return e.init(),e}function Qce(n="fjs"){const e=document.createElement("div");return e.classList.add(`${n}-container`),e}function ha(n,{errors:e=[],disabled:t=!1,readonly:r=!1}={}){if(!n)throw new Error("type required");return er("fjs-form-field",`fjs-form-field-${n}`,{"fjs-has-errors":e.length>0,"fjs-disabled":t,"fjs-readonly":r})}function Dje(n){const{layout:e={}}=n,{columns:t}=e;return er("fjs-layout-column",`cds--col${t?"-lg-"+t:""}`,"cds--col-sm-16","cds--col-md-16")}function Nje(n){if(typeof n!="string")return null;for(const e of n.split(`
`)){const t=e.trim();if(t!=="")return t}return null}function tE(n,e,t){let r="fjs-form";return e&&(r+=`-${e}`),r+=`-${n}`,Object.values(t||{}).forEach(i=>{r+=`_${i}`}),r}const Xv=Du({Empty:n=>null,Hidden:n=>null,Children:n=>q("div",{class:n.class,style:n.style,children:n.children}),Element:n=>q("div",{class:n.class,style:n.style,children:n.children}),Row:n=>q("div",{class:n.class,style:n.style,children:n.children}),Column:n=>n.field.type==="default"?n.children:q("div",{class:n.class,style:n.style,children:n.children}),hoverInfo:{cleanup:()=>{}}}),Jp=Du({data:null,this:null,parent:null,i:null});function Ije(n,e){}const NE=Du({getService:Ije,formId:null});function xo(n,e){const{getService:t}=_i(NE);return t(n,e)}function Eu(n,e){return JSON.parse(JSON.stringify(n,e))}function DB(n,e){(n.components||[]).forEach((r,i)=>{DB(r,e)}),e(n)}function Lje(n){const e={};for(const[t,r]of Object.entries(n))e[`_${t}_`]=r;return e}function IE(n){const{data:e,...t}=n;return{...t,...e,...Lje(t)}}function nV(n,e,t){return n&&n.isExpression(e)?n.evaluate(e,IE(t)):e}function Fje(n){const e=xo("conditionChecker",!1),t=_i(Jp);return $n(()=>e?e.check(n,IE(t)):null,[e,n,t])}function Kce(n,e){const{valuesExpression:t,valuesKey:r,values:i}=n;return t?null:r?wt(e,[r]):i}function rV(n){return n.filter(Xce).map($je).filter(e=>!kg(e))}function _5(n={}){const e={};return!n.valuesKey&&!n.valuesExpression&&(e.values=[{label:"Value",value:"value"}]),{...e,...n}}function $je(n){if(NB(n))return{value:n,label:`${n}`};if(_f(n)){const e=Bje(n.label);if(!e&&NB(n.value))return{value:n.value,label:`${n.value}`};if(e&&Xce(n.value))return n}return null}function NB(n){return["number","string","boolean"].includes(typeof n)&&(n||n===0||n===!1)}function Bje(n){return n&&Zo(n)}function Xce(n){return _f(n)?Object.keys(n).length>0:NB(n)}function dT(n){const e=xo("expressionLanguage"),t=_i(Jp);return $n(()=>nV(e,n,t),[e,t,n])}function LE(n){const e=Kn();return wE(n,e.current)||(e.current=n),e.current}const vf={LOADED:"loaded",ERROR:"error"};function fT(n){const{valuesExpression:e,valuesKey:t,values:r}=n,i=xo("form")._getState().initialData,o=dT(e),a=LE(o||[]);return $n(()=>{let u=[];if(t!==void 0){const h=(i||{})[t];h&&Array.isArray(h)&&(u=h)}else if(r!==void 0)u=Array.isArray(r)?r:[];else if(e&&a&&Array.isArray(a))u=a;else return jje("No options source defined in the form definition");return Vje(rV(u))},[t,r,i,e,a])}const jje=n=>({options:[],error:n,loadState:vf.ERROR}),Vje=n=>({options:n,error:void 0,loadState:vf.LOADED}),Zce=n=>{const{html:e,transform:t=c=>c,sanitize:r=!0,sanitizeStyleTags:i=!0}=n,o=$n(()=>r?L3e.sanitize(e,zje(i)):e,[e,r,i]);return{__html:$n(()=>t(o),[o,t])}},zje=n=>({FORCE_BODY:!0,FORBID_TAGS:n?["style"]:[]});function Hje(n){const e=LE(n),t=$n(()=>MB.filter(({attribute:i})=>i===qm).filter(({property:i})=>wt(e,[i],!1)).map(({directive:i})=>i).join(" "),[e]),r=$n(()=>MB.filter(({attribute:i})=>i!==qm).filter(({property:i})=>wt(e,[i],!1)).map(({directive:i})=>i).join("; "),[e]);return[t,r]}function iV(n){const e=$n(()=>Object.assign({},...n.map(t=>({[xK(t.value)]:t.label}))),[n]);return qn(t=>e[xK(t)],[e])}const xK=n=>_f(n)?JSON.stringify(n):n;function Wje(n,e){return n.querySelectorAll("style").forEach(r=>{const o=qje(r.textContent).map(a=>{const{selector:c,styles:u}=Uje(a);return`${Gje(c,e)} ${u}`}).join(" ");r.textContent=o}),n}function qje(n){let e=0,t=0,r=0;const i=[];for(;e<n.length;)n[e]==="{"&&r++,n[e]==="}"&&(r--,r===0&&(i.push(n.substring(t,e+1)),t=e+1)),e++;return i.map(o=>o.trim())}function Uje(n){const e=n.indexOf("{"),t=n.substring(0,e),r=n.substring(e);return{selector:t,styles:r}}function Gje(n,e){return n.split(",").map(t=>`${e} ${t.trim()}`).join(", ")}function Jce(n){for(;n&&n!==document.body&&n!==document.documentElement;){if(EF(n))return n;n=n.parentElement}return EF(document.body)?document.body:EF(document.documentElement)?document.documentElement:null}function EF(n){const e=window.getComputedStyle(n),t=e.overflowY||e.overflow;return(t==="auto"||t==="scroll")&&n.scrollHeight>n.clientHeight}const Yje={},Qje=[];function Kje(n,e,t,r){const i=t||Yje,o=r||Qje;sn(()=>{if(Jke(o,F=>!F.current)||!n.current)return;for(let F=0;F<o.length;F++)o[F].current=!1;const a=n.current,c=Jce(a);if(!c)return;const u=a.getBoundingClientRect(),h=c.getBoundingClientRect(),{align:m="center",offset:v=0,behavior:_="auto",scrollIfVisible:k=!1}=i;if(!(k||!(u.top>=h.top&&u.bottom<=h.bottom)))return;const T=Xje(a,c,{align:m,offset:v});c.scroll({top:T,behavior:_})},e)}function Xje(n,e,t){const r=n.getBoundingClientRect(),i=e.getBoundingClientRect();return t.align==="top"?r.top-i.top+e.scrollTop-t.offset:t.align==="bottom"?r.bottom-i.top-e.clientHeight+e.scrollTop+t.offset:t.align==="center"?r.top-i.top-e.clientHeight/2+e.scrollTop+r.height/2+t.offset:0}function Zje(n){const e=xo("expressionLanguage"),t=_i(Jp);return $n(()=>{const r=nV(e,n,t);return typeof r=="boolean"?r:!1},[e,t,n])}function Jje(){const{initialData:n,data:e}=xo("form")._getState(),t=xo("conditionChecker",!1);return $n(()=>{const r=t?t.applyConditions(e,e):e;return{...n,...r}},[t,e,n])}function SF(n,e,t=window){function r({key:i}){i===n&&e()}sn(()=>(t.addEventListener("keydown",r),()=>{t.removeEventListener("keydown",r)}))}function e9e(n,e={}){const t=xo("expressionLanguage"),r=xo("conditionChecker",!1),i=_i(Jp),{readonly:o}=n;return e.readOnly?!0:t&&t.isExpression(o)?r?r.check(o,IE(i)):!1:o||!1}function wK(n,e=null){const t=Kn(e);return sn(()=>t.current=n,[n]),t.current}function oV(n){const e=Kn(null),t=Kn(null),r=xo("config",!1),i=r&&r.debounce,o=i!==!1&&i!==0,a=typeof i=="number"?i:300,c=qn((...h)=>{if(!o){n(...h);return}t.current=h,e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{n(...t.current),t.current=null},a)},[n,a,o]),u=qn(()=>{e.current&&(clearTimeout(e.current),t.current!==null&&(n(...t.current),t.current=null),e.current=null)},[n]);return[c,u]}function sV(n,e={}){const t=xo("templating"),r=_i(Jp);return $n(()=>t&&t.isTemplate(n)?t.evaluate(n,IE(r),e):n,[t,n,r,e])}function Fh(n,e={}){const t=sV(n,e);return $n(()=>t&&t.split(`
`)[0],[t])}const _K=new KeyboardEvent("keydown",{code:"Enter",key:"Enter",charCode:13,keyCode:13,bubbles:!0});function EK(n){if(!n)return;!n.isOpen&&n.open();const e=n.calendarContainer,t=e.querySelector(".flatpickr-day.selected")||e.querySelector(".flatpickr-day.today")||e.querySelector(".flatpickr-day");t&&t.focus()}function kF(n,e){if(e===null)return null;const t=e%(24*60),r=e%60;let i=Math.floor(t/60);if(n)return kh(i)+":"+kh(r);i=i%12||12;const o=t>=12*60;return kh(i)+":"+kh(r)+" "+(o?"PM":"AM")}function SK(n){let e=n.toLowerCase();if(e.includes("am")||e.includes("pm")){const r=e.includes("pm"),i=e.match(/\d+/g),o=parseInt(i&&i[0]),a=parseInt(i&&i[1])||0,c=rc(o)&&o>=1&&o<=12,u=a>=0&&a<=59;return!c||!u?null:(o%12+(r?12:0))*60+a}else{const r=e.match(/\d+/g),i=parseInt(r&&r[0]),o=parseInt(r&&r[1]),a=rc(i)&&i>=0&&i<=23,c=rc(o)&&o>=0&&o<=59;return!a||!c?null:i*60+o}}function eue(n,e,t){if(t===Sv.UTC_NORMALIZED){const o=(n+e+Qm)%Qm;return kh(Math.floor(o/60))+":"+kh(o%60)+"Z"}const r=kh(Math.floor(n/60))+":"+kh(n%60),i=t===Sv.UTC_OFFSET;return r+(i?i9e(e):"")}function tue(n){if(!n)return null;const e=r=>{const i=r.split(":"),o=parseInt(i[0]),a=i.length>1?parseInt(i[1]):0;return isNaN(o)||o<0||o>24||isNaN(a)||a<0||a>60?null:o*60+a},t=new Date().getTimezoneOffset();if(n.includes("Z")){n=n.replace("Z","");const r=e(n);return r===null?null:(r-t+Qm)%Qm}else if(n.includes("+")){const[r,i]=n.split("+"),o=e(r);let a=e(i);return o===null||a===null?null:(a=-a,(o+a-t+Qm)%Qm)}else if(n.includes("-")){const[r,i]=n.split("-"),o=e(r);let a=e(i);return o===null||a===null?null:(o+a-t+Qm)%Qm}else return e(n)}function nue(n){return pr.fromJSDate(n).toISODate()}function t9e(n){if(!n||typeof n!="string")return!1;const e=n.split("T");return!(e.length!=2||e[0].split("-").length!=3)}function n9e(n){return!(!n||typeof n!="string"||n.includes("T")||n.split("-").length!=3)}function r9e(n,e,t){const r=new Date;if(r.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setHours(Math.floor(e/60),e%60,0,0),t===Sv.UTC_NORMALIZED){const i=r.getTimezoneOffset(),o=e+i<0?-1:e+i>Qm?1:0;r.setHours(r.getHours()+o*24)}return nue(r)+"T"+eue(e,r.getTimezoneOffset(),t)}function i9e(n){return o9e(n)+":"+kh(Math.abs(n%60))}function kK(n){return isNaN(new Date(Date.parse(n)).getTime())}function CK(){return{date:new Date(Date.parse(null)),time:null}}function A2(n){return n&&!isNaN(n.getTime())}function yM(n){return!isNaN(parseInt(n))}function o9e(n){return n>0?"-"+kh(Math.floor(n/60)):"+"+kh(Math.floor((0-n)/60))}function kh(n){return n.toString().padStart(2,"0")}const s9e=/^(https?|data):.*/i,a9e=/^(https):\/\/*/i;function l9e(n){const{formField:e,value:t}=n,{subtype:r}=e;return typeof t!="string"||r===di.DATE&&(kK(t)||!n9e(t))||r===di.TIME&&tue(t)===null||r===di.DATETIME&&(kK(t)||!t9e(t))?null:t}function Vv(n,e){return Array.isArray(e)?e.some(t=>wE(n,t)):!1}function rue(n){const{formField:e,data:t,value:r}=n,{valuesExpression:i}=e;try{if(i)return r;const o=rV(Kce(e,t)).map(a=>a.value);return Vv(r,o)?r:null}catch{return null}}function iue(n){const{formField:e,data:t,value:r}=n,{valuesExpression:i}=e;try{if(i)return r;const o=rV(Kce(e,t)).map(a=>a.value);return r.filter(a=>Vv(a,o))}catch{return[]}}function oue(n){return s9e.test(n)?n:""}function c9e(n){return a9e.test(n)?n:""}function u9e(n){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","{":"&#123;","}":"&#125;",":":"&#58;",";":"&#59;"};return n.replace(/[&<>"'{};:]/g,t=>e[t])}function aV(n){const{field:e,options:t,loadState:r,onChange:i,value:o}=n;sn(()=>{if(r!==vf.LOADED)return;const a=t.map(u=>u.value);o&&!Vv(o,a)&&i({field:e,value:null})},[e,t,i,o,r])}function sue(n){const{field:e,options:t,loadState:r,onChange:i,values:o}=n,a=LE(o||[]);sn(()=>{if(r!==vf.LOADED)return;const c=t.map(h=>h.value);a.some(h=>!Vv(h,c))&&i({field:e,value:a.filter(h=>Vv(h,c))})},[e,t,i,a,r])}const aue="button";function lue(n){const{disabled:e,onFocus:t,onBlur:r,field:i}=n,{action:o="submit"}=i,a=Fh(i.label||"",{debug:!0});return q("div",{class:ha(aue),children:q("button",{class:"fjs-button",type:o,disabled:e,onFocus:()=>t&&t(),onBlur:()=>r&&r(),children:a})})}lue.config={type:aue,keyed:!1,name:"Button",group:"action",create:(n={})=>({label:"Button",action:"submit",...n})};function Og(n){const{description:e,id:t}=n,r=Fh(e||"",{debug:!0});return r?q("div",{id:t,class:"fjs-form-field-description",children:r}):null}function Mu(n){const{errors:e,id:t}=n;return e.length?q("div",{class:"fjs-form-field-error","aria-live":"polite",id:t,children:q("ul",{children:e.map((r,i)=>q("li",{children:r},i))})}):null}function da(n){const{id:e,htmlFor:t,label:r,collapseOnEmpty:i=!0,required:o=!1}=n,a=Fh(r||"",{debug:!0});return q("label",{id:e,htmlFor:t,class:er("fjs-form-field-label",{"fjs-incollapsible-label":!i},n.class),children:[n.children,a,o&&q("span",{class:"fjs-asterix","aria-hidden":!0,children:"*"})]})}const cue="checkbox";function uue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u=!1}=n,{description:h,label:m,validate:v={}}=a,{required:_}=v,k=({target:F})=>{n.onChange({value:F.checked})},R=`${r}-description`,T=`${r}-error-message`;return q("div",{class:er(ha(cue,{errors:t,disabled:e,readonly:c}),{"fjs-checked":u}),children:[q("div",{class:"fjs-inline-label",children:[q("input",{checked:u,class:"fjs-input",disabled:e,readOnly:c,id:r,type:"checkbox",onChange:k,onBlur:()=>i&&i(),onFocus:()=>o&&o(),required:_,"aria-invalid":t.length>0,"aria-describedby":[R,T].join(" ")}),q(da,{htmlFor:r,label:m,required:_})]}),q(Og,{id:R,description:h}),q(Mu,{id:T,errors:t})]})}uue.config={type:cue,keyed:!0,name:"Checkbox",group:"selection",emptyValue:!1,sanitizeValue:({value:n})=>n===!0,create:(n={})=>({label:"Checkbox",...n})};const due="checklist";function fue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u=[]}=n,{description:h,label:m,validate:v={}}=a,_=Kn(),{required:k}=v,R=Y=>{const oe=Vv(Y,u)?u.filter(ne=>!wE(ne,Y)):[...u,Y];n.onChange({value:oe})},T=Y=>{_.current.contains(Y.relatedTarget)||i&&i()},F=Y=>{_.current.contains(Y.relatedTarget)||o&&o()},{loadState:$,options:j}=fT(a);sue({field:a,loadState:$,options:j,values:u,onChange:n.onChange});const B=`${r}-description`,I=`${r}-error-message`;return q("div",{class:er(ha(due,{errors:t,disabled:e,readonly:c})),ref:_,children:[q(da,{label:m,required:k}),$==vf.LOADED&&j.map((Y,oe)=>{const ne=`${r}-${oe}`,ae=Vv(Y.value,u);return q("div",{className:er("fjs-inline-label",{"fjs-checked":ae}),children:[q("input",{checked:ae,class:"fjs-input",disabled:e,readOnly:c,id:ne,type:"checkbox",onClick:()=>R(Y.value),onBlur:T,onFocus:F,required:k,"aria-invalid":t.length>0,"aria-describedby":[B,I].join(" ")}),q(da,{htmlFor:ne,label:Y.label,required:!1})]},Y.value)}),q(Og,{id:B,description:h}),q(Mu,{id:I,errors:t})]})}fue.config={type:due,keyed:!0,name:"Checkbox group",group:"selection",emptyValue:[],sanitizeValue:iue,create:(n={})=>({label:"Checkbox group",..._5(n)})};const CF=()=>!1,d9e=new Au([32,36,1]);function hue(n){const e=Kn(d9e.next()),{field:t,indexes:r,onChange:i}=n,o=xo("formFields"),a=xo("viewerCommands",!1),c=xo("formFieldInstanceRegistry",!1),u=xo("pathRegistry"),h=xo("eventBus"),m=xo("form"),{initialData:v,data:_,errors:k,properties:R}=m._getState(),{Element:T,Hidden:F,Column:$}=_i(Xv),{formId:j}=_i(NE),[B,I]=hn(!!a),Y=o.get(t.type);if(!Y)throw new Error(`cannot render field <${t.type}>`);const oe=Y.config,ne=_i(Jp),ae=$n(()=>u.getValuePath(t,{indexes:r}),[t,r,u]),Te=$n(()=>wt(v,ae),[v,ae]),Me=e9e(t,R),Ee=wt(_,ae),we=!R.readOnly&&(R.disabled||t.disabled||!1),Ce=Fje(t.conditional&&t.conditional.hide||null),Oe=$n(()=>c?c.syncInstance(e.current,{id:t.id,expressionContextInfo:ne,valuePath:ae,value:Ee,indexes:r,hidden:Ce}):null,[c,t.id,ne,ae,Ee,r,Ce]),Fe=Oe?c.get(Oe):null;sn(()=>{const rt=e.current;if(c)return()=>c.cleanupInstance(rt)},[c]),sn(()=>{if(!a)return;const rt=()=>{I(!0)};return h.on("import.done",rt),h.on("reset",rt),()=>{h.off("import.done",rt),h.off("reset",rt)}},[h,a]),sn(()=>{const rt=Te&&!wE(Te,[]);B&&rt&&Fe&&(I(!1),a.updateFieldInstanceValidation(Fe,Te))},[Fe,B,Te,a]);const ze=qn(()=>{const rt=wt(_,ae);B&&(I(!1),a.updateFieldInstanceValidation(Fe,rt)),h.fire("formField.blur",{formField:t})},[_,h,t,Fe,B,ae,a]),dt=qn(()=>{h.fire("formField.focus",{formField:t})},[h,t]),De=qn(rt=>{I(!1),i({field:t,indexes:r,fieldInstance:Fe,...rt})},[i,t,Fe,r]);if(Ce)return q(F,{field:t});const Ze=`${tE(t.id,j,r)}`,bt=wt(k,[t.id,...Object.values(r||{})])||[],Ye=q(Y,{...n,disabled:we,errors:bt,domId:Ze,onChange:we||Me?CF:De,onBlur:we||Me?CF:ze,onFocus:we||Me?CF:dt,readonly:Me,value:Ee,fieldInstance:Fe});return oe.escapeGridRender?Ye:q($,{field:t,class:Dje(t),children:q(T,{class:"fjs-element",field:t,children:Ye})})}function lV(n){const{Children:e}=_i(Xv),{field:t,Empty:r}=n,{id:i}=t,o=xo("repeatRenderManager",!1),a=o&&o.isFieldRepeating(i),c=o.Repeater,u=o.RepeatFooter;return a?q(h9e,{...n,ChildrenRoot:e,Empty:r,Repeater:c,RepeatFooter:u,repeatRenderManager:o}):q(f9e,{...n,ChildrenRoot:e,Empty:r})}function f9e(n){const{ChildrenRoot:e,Empty:t,field:r}=n,{components:i=[]}=r,o=!i.length;return q(e,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:r,children:[q(IB,{...n}),o?q(t,{field:r}):null]})}function h9e(n){const{ChildrenRoot:e,repeatRenderManager:t,Empty:r,field:i,...o}=n,{components:a=[]}=i,c=hn({isCollapsed:!0}),u=t.Repeater,h=t.RepeatFooter;return q(Vo,{children:[q(e,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:i,children:[u?q(u,{...o,useSharedState:c,field:i,RowsRenderer:IB}):q(IB,{...o,field:i}),a.length?null:q(r,{field:i})]}),h?q(h,{...o,useSharedState:c,field:i}):null]})}function IB(n){const{field:e,indexes:t}=n,{id:r,verticalAlignment:i="start"}=e,o=xo("formLayouter"),a=xo("formFieldRegistry"),c=o.getRows(r),{Row:u}=_i(Xv);return q(Vo,{children:[" ",c.map(h=>{const{components:m=[]}=h;return m.length?q(u,{row:h,class:"fjs-layout-row cds--row",style:{alignItems:i},children:m.map(v=>{const _=a.get(v);return _?St(hue,{...n,key:v,field:_,indexes:t}):null})},h.id):null})," "]})}function pue(n){const{Empty:e}=_i(Xv),t={...n,Empty:e};return q(lV,{...t})}pue.config={type:"default",keyed:!1,label:null,group:null,create:(n={})=>({components:[],...n}),getSubheading:n=>n.id};var OK;function LB(){return LB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LB.apply(null,arguments)}var p9e=function(e){return St("svg",LB({xmlns:"http://www.w3.org/2000/svg",width:14,height:15,fill:"none",viewBox:"0 0 28 30"},e),OK||(OK=St("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2zM7 7V4H2v5h24V4h-5v3h-2V4H9v3zm-5 4v17h24V11z",clipRule:"evenodd"})))};function mue(n="default"){return new Intl.DateTimeFormat(n).formatToParts(new Date(Date.UTC(2020,5,5))).map(t=>{const r=t.value.length;switch(t.type){case"day":return"d".repeat(r);case"month":return"M".repeat(r);case"year":return"y".repeat(r);default:return t.value}}).join("")}function m9e(n){let e=mue(n).toLowerCase();return e.includes("mm")||(e=e.replace("m","mm")),e.includes("dd")||(e=e.replace("d","dd")),e}function g9e(n){return y9e(mue(n))}function y9e(n){const e={day:n.includes("dd"),month:n.includes("MM"),year:n.includes("yyyy")};return n=e.day?n.replace("dd","d"):n.replace("d","j"),n=e.month?n.replace("MM","m"):n.replace("M","n"),n=e.year?n.replace("yyyy","Y"):n.replace("yy","y"),n}function cV(n){const{pre:e,post:t,rootRef:r,inputRef:i,children:o,disabled:a,readonly:c,hasErrors:u}=n,h=()=>i&&i.current&&i.current.focus();return q("div",{class:er("fjs-input-group",{"fjs-disabled":a,"fjs-readonly":c},{hasErrors:u}),ref:r,children:[e&&q("span",{class:"fjs-input-adornment border-right border-radius-left",onClick:h,children:[" ",Zo(e)?q("span",{class:"fjs-input-adornment-text",children:e}):e," "]}),o,t&&q("span",{class:"fjs-input-adornment border-left border-radius-right",onClick:h,children:[" ",Zo(t)?q("span",{class:"fjs-input-adornment-text",children:t}):t," "]})]})}function v9e(n){const{label:e,domId:t,collapseLabelOnEmpty:r,onDateTimeBlur:i,onDateTimeFocus:o,required:a,disabled:c,disallowPassedDates:u,date:h,readonly:m,setDate:v}=n,_=Kn(),k=Kn(),[R,T]=hn(null),[F,$]=hn(!1),[j,B]=hn(!1),I=LE(h);sn(()=>{!R||!R.config||(R.setDate(I,!0),$(!1))},[R,I]),sn(()=>{j&&(EK(R),B(!1))},[R,j]),sn(()=>{let ae={allowInput:!0,dateFormat:g9e(),static:!0,clickOpens:!1,minDate:u?"today":"01/01/1900",errorHandler:()=>{}};const Te=_a(_.current,ae);T(Te);const Me=we=>{!Te.calendarContainer.contains(we.relatedTarget)&&we.relatedTarget!=_.current&&Te.close()},Ee=we=>{we.target.classList.contains("flatpickr-day")&&$(!1)};Te.config.onOpen=[()=>Te.calendarContainer.addEventListener("focusout",Me),()=>Te.calendarContainer.addEventListener("mousedown",Ee)],Te.config.onClose=[()=>Te.calendarContainer.removeEventListener("focusout",Me),()=>Te.calendarContainer.removeEventListener("mousedown",Ee)]},[u]),sn(()=>{!R||!R.config||(R.config.onChange=[ae=>v(new Date(ae)),()=>$(!1)])},[R,v]);const Y=qn(ae=>{R&&(ae.code==="Escape"&&R.close(),ae.code==="ArrowDown"&&(F?(_.current.dispatchEvent(_K),$(!1),B(!0)):EK(R),ae.preventDefault()),ae.code==="Enter"&&$(!1))},[R,F]),oe=qn(ae=>{!R||k.current.contains(ae.relatedTarget)||m||(R.open(),o(ae))},[R,m,o]),ne=qn(ae=>{ae.relatedTarget&&ae.relatedTarget.classList.contains("flatpickr-day")||(F&&(_.current.dispatchEvent(_K),$(!1)),i(ae))},[F,i]);return q("div",{class:"fjs-datetime-subsection",children:[q(da,{htmlFor:t,label:e,collapseOnEmpty:r,required:a}),q(cV,{pre:q(p9e,{}),disabled:c,readonly:m,rootRef:k,inputRef:_,children:q("div",{class:"fjs-datepicker",style:{width:"100%"},children:q("input",{ref:_,type:"text",id:t,class:"fjs-input",disabled:c,readOnly:m,placeholder:m9e(),autoComplete:"off",onFocus:oe,onBlur:ne,onKeyDown:Y,onMouseDown:()=>!R.isOpen&&!m&&R.open(),onInput:()=>$(!0),"data-input":!0,"aria-describedby":n["aria-describedby"]})})})]})}var TK,AK;function FB(){return FB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FB.apply(null,arguments)}var b9e=function(e){return St("svg",FB({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 28 29"},e),TK||(TK=St("path",{fill:"currentColor",d:"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2z"})),AK||(AK=St("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64M7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z",clipRule:"evenodd"})))};const x9e=n=>n,w9e=()=>{};function E5(n){const{listenerElement:e=window,values:t=[],getLabel:r=x9e,onValueSelected:i=w9e,height:o=235,emptyListMessage:a="No results",initialFocusIndex:c=0}=n,[u,h]=hn(!1),[m,v]=hn(c),[_,k]=hn(!1),R=Kn(),T=Kn(),F=$n(()=>t.length?t[m]:null,[m,t]),$=qn(B=>{v(I=>Math.min(Math.max(0,I+B),t.length-1))},[t.length]);sn(()=>{m!==0&&(!m||!t.length?v(0):m>=t.length&&v(t.length-1))},[m,t.length]),SF("ArrowUp",()=>{t.length&&($(-1),h(!1))},e),SF("ArrowDown",()=>{t.length&&($(1),h(!1))},e),SF("Enter",()=>{F&&i(F)},e),sn(()=>{const B=R.current.children;if(B.length&&!u){const I=B[m];I&&I.scrollIntoView({block:"nearest",inline:"nearest"})}},[m,u]),sn(()=>{k(!0)},[]);const j=(B,I)=>{(!T.current||T.current.x!==B.screenX&&T.current.y!==B.screenY)&&(T.current={x:B.screenX,y:B.screenY},h(!0),v(I))};return q("div",{ref:R,tabIndex:-1,class:"fjs-dropdownlist",onMouseDown:B=>B.preventDefault(),style:{maxHeight:o,scrollBehavior:_?"smooth":"auto"},children:[t.length>0&&t.map((B,I)=>q("div",{class:er("fjs-dropdownlist-item",{focused:m===I}),onMouseMove:u?void 0:Y=>j(Y,I),onMouseEnter:u?()=>v(I):void 0,onMouseDown:Y=>i(B),children:r(B)},B.value)),!t.length&&q("div",{class:"fjs-dropdownlist-empty",children:a})]})}function _9e(n){const{label:e,collapseLabelOnEmpty:t,onDateTimeBlur:r,onDateTimeFocus:i,domId:o,required:a,disabled:c,readonly:u,use24h:h=!1,timeInterval:m,time:v,setTime:_}=n,k=$n(()=>[1,5,10,15,30,60].includes(m)?m:15,[m]),R=Kn(),[T,F]=hn(!1),$=$n(()=>k!==1,[k]),[j,B]=hn("");sn(()=>{if(v===null){B("");return}const Ee=v-v%k;B(kF(h,Ee)),Ee!=v&&_(Ee)},[v,_,h,k]);const I=qn(Ee=>{const we=Ee||j;if(!we){_(null);return}const Ce=SK(we);if(!rc(Ce)){B(""),_(null);return}const Oe=Ce-Ce%k;B(kF(h,Oe)),_(Oe)},[j,k,h,_]),Y=$n(()=>{const we=Math.floor(1440/k);return[...Array(we).keys()].map(Ce=>kF(h,Ce*k))},[k,h]),oe=$n(()=>{if(!Y||!k)return null;if(v)return v/k;const Ee=SK(j);return Ee?(Ee-Ee%k)/k:Math.floor(Y.length/2)},[j,v,k,Y]),ne=Ee=>{switch(Ee.key){case"ArrowUp":Ee.preventDefault();break;case"ArrowDown":$&&F(!0),Ee.preventDefault();break;case"Escape":$&&F(!1);break;case"Enter":!T&&I();break}},ae=Ee=>{F(!1),I(),r(Ee)},Te=Ee=>{i(Ee),!u&&$&&F(!0)},Me=Ee=>{F(!1),I(Ee)};return q("div",{class:"fjs-datetime-subsection",children:[q(da,{htmlFor:o,label:e,collapseOnEmpty:t,required:a}),q(cV,{pre:q(b9e,{}),inputRef:R,disabled:c,readonly:u,children:q("div",{class:"fjs-timepicker fjs-timepicker-anchor",children:[q("input",{ref:R,type:"text",id:o,class:"fjs-input",value:j,disabled:c,readOnly:u,placeholder:h?"hh:mm":"hh:mm --",autoComplete:"off",onInput:Ee=>{B(Ee.target.value),$&&F(!1)},onBlur:ae,onFocus:Te,onClick:()=>!u&&$&&F(!0),onKeyDown:ne,"data-input":!0,"aria-describedby":n["aria-describedby"]}),T&&q(E5,{values:Y,height:150,onValueSelected:Me,listenerElement:R.current,initialFocusIndex:oe})]})})]})}const gue="datetime";function yue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,onChange:c,readonly:u,value:h=""}=n,{description:m,id:v,dateLabel:_,timeLabel:k,validate:R={},subtype:T,use24h:F,disallowPassedDates:$,timeInterval:j,timeSerializingFormat:B}=a,{required:I}=R,{formId:Y}=_i(NE),oe=Kn(),[ne,ae]=hn(CK()),[Te,Me]=hn(null),Ee=$n(()=>T===di.DATE||T===di.DATETIME,[T]),we=$n(()=>T===di.TIME||T===di.DATETIME,[T]),Ce=qn(ve=>{ve.relatedTarget&&oe.current.contains(ve.relatedTarget)||i&&i()},[i]),Oe=qn(ve=>{ve.relatedTarget&&oe.current.contains(ve.relatedTarget)||o&&o()},[o]);sn(()=>{let{date:ve,time:vt}=CK();switch(T){case di.DATE:{ve=typeof h=="string"?pr.fromISO(h).toJSDate():new Date(NaN);break}case di.TIME:{vt=tue(h);break}case di.DATETIME:{ve=new Date(Date.parse(h)),vt=A2(ve)?60*ve.getHours()+ve.getMinutes():null;break}}ae({date:ve,time:vt})},[T,h]);const Fe=qn(({date:ve,time:vt})=>{let gt=null;T===di.DATE&&A2(ve)?gt=nue(ve):T===di.TIME&&yM(vt)?gt=eue(vt,new Date().getTimezoneOffset(),B):T===di.DATETIME&&A2(ve)&&yM(vt)&&(gt=r9e(ve,vt,B)),h!==gt&&c({value:gt,field:a})},[h,a,c,T,B]);sn(()=>{if(Te){if(Te.refreshOnly)Fe(ne);else{const ve={...ne,...Te};ae(ve),Fe(ve)}Me(null)}},[Fe,ne,Te]),sn(()=>{Me({refreshOnly:!0})},[B]);const ze=$n(()=>I||T!==di.DATETIME?t:A2(ne.date)&&!yM(ne.time)||!A2(ne.date)&&yM(ne.time)?["Date and time must both be entered.",...t]:t,[I,T,ne,t]),dt=qn(ve=>{Me(vt=>vt?{...vt,date:ve}:{date:ve})},[]),De=qn(ve=>{Me(vt=>vt?{...vt,time:ve}:{time:ve})},[]),Ze=ze.length===0?void 0:`${tE(v,Y)}-error-message`,bt=`${tE(v,Y)}-description`,Ye={label:_,collapseLabelOnEmpty:!k,onDateTimeBlur:Ce,onDateTimeFocus:Oe,domId:`${r}-date`,required:I,disabled:e,disallowPassedDates:$,date:ne.date,readonly:u,setDate:dt,"aria-describedby":[bt,Ze].join(" ")},rt={label:k,collapseLabelOnEmpty:!_,onDateTimeBlur:Ce,onDateTimeFocus:Oe,domId:`${r}-time`,required:I,disabled:e,readonly:u,use24h:F,timeInterval:j,time:ne.time,setTime:De,"aria-describedby":[bt,Ze].join(" ")};return q("div",{class:ha(gue,{errors:ze,disabled:e,readonly:u}),children:[q("div",{class:er("fjs-vertical-group"),ref:oe,children:[Ee&&q(v9e,{...Ye}),we&&Ee&&q("div",{class:"fjs-datetime-separator"}),we&&q(_9e,{...rt})]}),q(Og,{id:bt,description:m}),q(Mu,{errors:ze,id:Ze})]})}yue.config={type:gue,keyed:!0,name:"Date time",group:"basic-input",emptyValue:null,sanitizeValue:l9e,create:(n={},e)=>{const t={};return Es(t,RB,di.DATE),e&&Es(t,V3,"Date"),{...t,...n}},getSubheading:n=>n.dateLabel||n.timeLabel};function vue(n){const{field:e,domId:t}=n,{label:r,type:i,showOutline:o}=e,{Empty:a}=_i(Xv),c={...n,Empty:a};return q("div",{className:er(ha(i),"fjs-form-field-grouplike",{"fjs-outlined":o}),role:"group","aria-labelledby":t,children:[q(da,{id:t,label:r}),q(lV,{...c})]})}vue.config={type:"group",pathed:!0,name:"Group",group:"container",create:(n={})=>({label:"Group",components:[],showOutline:!0,...n})};const bue="iframe",E9e=300;function uV(n){const{field:e,disabled:t,readonly:r,domId:i}=n,{height:o=E9e,label:a,url:c,security:u={}}=e,h=Fh(c,{debug:!0}),m=$n(()=>c9e(h),[h]),v=Fh(a,{debug:!0}),[_,k]=Hje(u),[R,T]=hn(0);return sn(()=>{T(F=>F+1)},[_,k]),q("div",{class:ha(bue,{disabled:t,readonly:r}),children:[q(da,{htmlFor:i,label:v}),!h&&q(RK,{text:"No content to show."}),h&&m&&q("iframe",{src:m,title:v,height:o,class:"fjs-iframe",id:i,sandbox:_,allow:k},"iframe-"+R),h&&!m&&q(RK,{text:"External content couldn't be loaded."})]})}function RK(n){const{text:e="iFrame"}=n;return q("div",{class:"fjs-iframe-placeholder",children:q("p",{class:"fjs-iframe-placeholder-text",children:e})})}uV.config={type:bue,keyed:!1,name:"iFrame",group:"container",create:(n={})=>({label:"iFrame",security:{allowScripts:!0},...n})};var PK;function $B(){return $B=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$B.apply(null,arguments)}var S9e=function(e){return St("svg",$B({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),PK||(PK=St("path",{fillRule:"evenodd",d:"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3zm-9 8.889H18v2.222h18z"})))},MK;function BB(){return BB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BB.apply(null,arguments)}var k9e=function(e){return St("svg",BB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),MK||(MK=St("path",{d:"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23z"})))},DK;function jB(){return jB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jB.apply(null,arguments)}var C9e=function(e){return St("svg",jB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),DK||(DK=St("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.35 24.75H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 37.05H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 12.45H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414m12.007 14.977a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0 12.3a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0-24.6a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293",clipRule:"evenodd"})))},NK,IK,LK;function VB(){return VB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VB.apply(null,arguments)}var O9e=function(e){return St("svg",VB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),NK||(NK=St("path",{fillRule:"evenodd",d:"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06"})),IK||(IK=St("path",{d:"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z"})),LK||(LK=St("path",{fillRule:"evenodd",d:"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67"})))},FK,$K;function zB(){return zB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zB.apply(null,arguments)}var T9e=function(e){return St("svg",zB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),FK||(FK=St("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1"})),$K||($K=St("path",{d:"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1z"})))},BK,jK,VK;function HB(){return HB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},HB.apply(null,arguments)}var A9e=function(e){return St("svg",HB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54},e),BK||(BK=St("rect",{width:24,height:4,x:15,y:17,rx:1})),jK||(jK=St("rect",{width:24,height:4,x:15,y:25,rx:1})),VK||(VK=St("rect",{width:13,height:4,x:15,y:33,rx:1})))},zK;function WB(){return WB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WB.apply(null,arguments)}var HK=function(e){return St("svg",WB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),zK||(zK=St("path",{fill:"#000",fillRule:"evenodd",d:"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7zm0-4.656h2.7V32.82h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254zm5.4-2.418v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7v-1.253c0-.693-.604-1.254-1.35-1.254zm2.7 4.746h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254zm-5.4 2.418v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507z",clipRule:"evenodd"})))},WK;function qB(){return qB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qB.apply(null,arguments)}var R9e=function(e){return St("svg",qB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),WK||(WK=St("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1M35 28.444h7l-3.5 4zM35 26h7l-3.5-4z"})))},qK;function UB(){return UB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UB.apply(null,arguments)}var P9e=function(e){return St("svg",UB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),qK||(qK=St("path",{d:"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10m0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16"})))},UK;function GB(){return GB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GB.apply(null,arguments)}var M9e=function(e){return St("svg",GB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),UK||(UK=St("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-12 7h9l-4.5 6z"})))},GK;function YB(){return YB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YB.apply(null,arguments)}var D9e=function(e){return St("svg",YB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),GK||(GK=St("path",{fill:"currentColor",d:"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zM9 26h36v2H9zm13.293 7.707 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))},YK;function QB(){return QB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QB.apply(null,arguments)}var N9e=function(e){return St("svg",QB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),YK||(YK=St("path",{fill:"currentColor",d:"M9 15v2h36v-2zm0 22v2h36v-2zm17.293-17.707a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zm-4 11.414 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))},QK;function KB(){return KB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},KB.apply(null,arguments)}var I9e=function(e){return St("svg",KB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),QK||(QK=St("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795q.074.211.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096zm2.7-2.507v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507zm0-5.014V13.21H2.7v2.507zm-2.7-5.014h1.852a1.4 1.4 0 0 1-.502.096h1.275v-.096H5.4V9.45q0 .235-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45zm5.175.096h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1-2.7v1.795a1.4 1.4 0 0 1-.075-.445v1.254h.075v.096h1.275a1.4 1.4 0 0 1-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35zm-.075 5.11v2.508h2.7V13.21zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7V23.24zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm2.7 5.014h-1.852a1.4 1.4 0 0 1 .502-.096h-1.275v.096H48.6v1.254q0-.235.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35zm-5.175-.096h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35m27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35M43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05z",clipRule:"evenodd"})))},KK;function XB(){return XB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XB.apply(null,arguments)}var L9e=function(e){return St("svg",XB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),KK||(KK=St("path",{d:"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.5 15.5 0 0 1 2.4.14 3.4 3.4 0 0 1 1.41.55 3.5 3.5 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.6 3.6 0 0 1-1.09 1.4 3.9 3.9 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.8 1.8 0 0 0 1.1-.49 1.4 1.4 0 0 0 .41-1 1.5 1.5 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.5 11.5 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.7 1.7 0 0 0-.86-.62 9.3 9.3 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.1 7.1 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.3 5.3 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21"})))},XK;function ZB(){return ZB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ZB.apply(null,arguments)}var F9e=function(e){return St("svg",ZB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),XK||(XK=St("path",{fill:"currentColor",fillRule:"evenodd",d:"M47.008 12.15c1.625 0 2.942 1.36 2.942 3.039v23.622c0 1.678-1.317 3.039-2.942 3.039H6.992c-1.625 0-2.942-1.36-2.942-3.039V15.189c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H6.992c-.542 0-.98.454-.98 1.013V16.2h-.004v2.7h.003v19.911c0 .56.44 1.013.98 1.013h40.017c.542 0 .98-.453.98-1.013V18.9h.005v-2.7h-.004v-1.011c0-.56-.44-1.013-.98-1.013M14.934 26.055v-3.78h2.194v9.45h-2.194v-3.78h-3.29v3.78H9.45v-9.45h2.194v3.78zm4.388-1.89h2.194v7.56h2.193v-7.56h2.194v-1.89h-6.581zm14.26-1.89h2.193v9.45h-2.194V25.11l-1.645 3.78-1.645-3.78v6.615h-2.194v-9.45h2.194l1.645 3.78zm4.387 0h2.194v7.56h4.387v1.89h-6.581z",clipRule:"evenodd"})))},ZK;function JB(){return JB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JB.apply(null,arguments)}var $9e=function(e){return St("svg",JB({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),ZK||(ZK=St("path",{fill:"currentcolor",fillRule:"evenodd",d:"M12.78 16.2v6.75c0 1.619-.635 3.059-1.618 4.05.983.991 1.618 2.431 1.618 4.05v6.75h3.51v2.7h-3.51c-1.289 0-2.34-1.213-2.34-2.7v-6.75c0-1.487-1.051-2.7-2.34-2.7v-2.7c1.289 0 2.34-1.213 2.34-2.7V16.2c0-1.487 1.051-2.7 2.34-2.7h3.51v2.7zm30.78 0v6.75c0 1.487 1.051 2.7 2.34 2.7v2.7c-1.289 0-2.34 1.213-2.34 2.7v6.75c0 1.487-1.051 2.7-2.34 2.7h-3.51v-2.7h3.51v-6.75c0-1.619.635-3.059 1.618-4.05-.983-.991-1.618-2.431-1.618-4.05V16.2h-3.51v-2.7h3.51c1.289 0 2.34 1.213 2.34 2.7M21.8 34.531q.7-.569.959-1.758l1.788-8.34h1.585l.387-1.828h-1.585l.405-1.878h1.585l.387-1.827H25.69q-1.271 0-1.972.569-.681.569-.94 1.758l-.294 1.378H21.34l-.387 1.827h1.142l-1.898 8.841h-1.585l-.387 1.827h1.622q1.272 0 1.953-.569m7.248-7.686-3.797 4.808h2.599l2.12-3.016h.22l.885 3.016h2.599l-1.677-4.36 3.778-4.688h-2.599l-2.12 2.947h-.22l-.885-2.947h-2.599z",clipRule:"evenodd"})))},JK;function ej(){return ej=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ej.apply(null,arguments)}var B9e=function(e){return St("svg",ej({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),JK||(JK=St("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-32 4v10h-2V22z"})))},eX;function tj(){return tj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tj.apply(null,arguments)}var j9e=function(e){return St("svg",tj({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),eX||(eX=St("path",{fillRule:"evenodd",d:"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1m-1.136 15.5.849.849-6.364 6.364-.849-.849zm.264 3.5.849.849-2.828 2.828-.849-.849zM13 19v10h-2V19z"})))},tX;function nj(){return nj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nj.apply(null,arguments)}var V9e=function(e){return St("svg",nj({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),tX||(tX=St("path",{fill:"currentColor",fillRule:"evenodd",d:"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.77 8.77 0 0 1 39.825 27a8.77 8.77 0 0 1 8.775 8.775 8.77 8.77 0 0 1-8.775 8.775 8.77 8.77 0 0 1-8.775-8.775m12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0q-.155 2.632-.929 4.645c1.858-.826 3.304-2.58 3.923-4.645z",clipRule:"evenodd"})))},nX,rX;function rj(){return rj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rj.apply(null,arguments)}var z9e=function(e){return St("svg",rj({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),nX||(nX=St("path",{fillRule:"evenodd",d:"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z",clipRule:"evenodd"})),rX||(rX=St("path",{fillRule:"evenodd",d:"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73zM15 39v-8.754a1 1 0 0 0 .168-.135l5.893-5.893 6.684 6.685a1.91 1.91 0 0 0 2.41.238l2.657-1.77 6.02 6.02q.078.077.168.135V39z",clipRule:"evenodd"})))},iX;function ij(){return ij=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ij.apply(null,arguments)}var H9e=function(e){return St("svg",ij({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 54 54"},e),iX||(iX=St("path",{fill:"currentcolor",fillRule:"evenodd",d:"M42.545 12.273A2.455 2.455 0 0 1 45 14.727v24.546a2.455 2.455 0 0 1-2.455 2.454h-31.09A2.455 2.455 0 0 1 9 39.273V14.727a2.455 2.455 0 0 1 2.455-2.454zM27.818 40.09h14.727a.82.82 0 0 0 .819-.818v-4.91H27.818Zm-1.636-5.727v5.727H11.455a.82.82 0 0 1-.819-.818v-4.91zm1.636-1.637h15.546V27H27.818ZM26.182 27v5.727H10.636V27zm1.636-1.636h15.546v-5.728H27.818Zm-1.636-5.728v5.728H10.636v-5.728z",clipRule:"evenodd"})))},oX;function oj(){return oj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oj.apply(null,arguments)}var W9e=function(e){return St("svg",oj({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),oX||(oX=St("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175H27v2.362h-9.45a2.37 2.37 0 0 1-2.363-2.362v-28.35a2.37 2.37 0 0 1 2.363-2.363h11.813a1.07 1.07 0 0 1 .826.355l8.27 8.269a1.07 1.07 0 0 1 .353.826v5.907H36.45v-3.544h-7.088A2.37 2.37 0 0 1 27 19.912v-7.087h-9.45zm18.427-21.263-6.614-6.615v6.615zm4.253 18.664 3.308 3.308-1.654 1.653-3.308-3.307a6.35 6.35 0 0 1-3.307.945c-3.308 0-5.906-2.599-5.906-5.906 0-3.308 2.598-5.907 5.906-5.907s5.906 2.6 5.906 5.907a6.35 6.35 0 0 1-.945 3.307m-4.961-6.851c-2.008 0-3.544 1.536-3.544 3.544s1.536 3.543 3.544 3.543 3.544-1.535 3.544-3.543-1.536-3.544-3.544-3.544",clipRule:"evenodd"})))},sX;function sj(){return sj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sj.apply(null,arguments)}var q9e=function(e){return St("svg",sj({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),sX||(sX=St("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175h6.75v2.363h-6.75a2.37 2.37 0 0 1-2.363-2.363v-28.35a2.37 2.37 0 0 1 2.363-2.362h11.813a1.07 1.07 0 0 1 .826.354l8.27 8.269a1.07 1.07 0 0 1 .353.827v7.256H36.45v-4.894h-7.088A2.37 2.37 0 0 1 27 19.913v-7.088h-9.45zm18.427-21.262-6.614-6.616v6.616zm-2.212 10.564-.015-.001h-.015a8.86 8.86 0 0 0-7.926 5.656l-.003.008a.9.9 0 0 0 0 .62l.003.008a8.85 8.85 0 0 0 7.926 5.655l.015.001h.015a8.86 8.86 0 0 0 7.926-5.656l.003-.008a.9.9 0 0 0 0-.62l-.003-.008a8.85 8.85 0 0 0-7.926-5.655M33.75 40.6c-2.456 0-5.088-1.802-6.107-4.151 1.019-2.349 3.651-4.151 6.107-4.151s5.088 1.802 6.107 4.151c-1.019 2.349-3.65 4.151-6.107 4.151m0-7.593a3.443 3.443 0 1 0 0 6.885 3.443 3.443 0 0 0 0-6.886Zm-.316 1.853a1.62 1.62 0 1 1 .632 3.178 1.62 1.62 0 0 1-.632-3.178",clipRule:"evenodd"})))};const Zv=n=>({button:S9e,checkbox:k9e,checklist:C9e,columns:HK,datetime:O9e,group:HK,iframe:V9e,image:z9e,number:R9e,expression:$9e,radio:P9e,select:M9e,separator:D9e,spacer:N9e,dynamiclist:I9e,taglist:T9e,text:L9e,html:F9e,textfield:B9e,textarea:j9e,table:H9e,filepicker:W9e,documentPreview:q9e,default:A9e})[n],xue="image";function wue(n){const{field:e}=n,{alt:t,id:r,source:i}=e,o=Zv(e.type),a=Fh(i,{debug:!0}),c=$n(()=>oue(a),[a]),u=Fh(t,{debug:!0}),{formId:h}=_i(NE);return q("div",{class:ha(xue),children:[c&&q("div",{class:"fjs-image-container",children:q("img",{alt:u,src:c,class:"fjs-image",id:tE(r,h)})}),!c&&q("div",{class:"fjs-image-placeholder",children:q("span",{class:"fjs-image-placeholder-inner",children:q(o,{alt:"This is an image placeholder",width:"32",height:"32",viewBox:"0 0 56 56"})})})]})}wue.config={type:xue,keyed:!1,name:"Image view",group:"presentation",create:(n={})=>n,getSubheading:n=>n.alt};function _ue(n){const{pre:e,post:t}=n,r=Fh(e,{debug:!0}),i=Fh(t,{debug:!0});return q(cV,{...n,pre:r,post:i})}var aX;function aj(){return aj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aj.apply(null,arguments)}var dV=function(e){return St("svg",aj({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),aX||(aX=St("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0",clipRule:"evenodd"})))},lX;function lj(){return lj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lj.apply(null,arguments)}var fV=function(e){return St("svg",lj({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),lX||(lX=St("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0",clipRule:"evenodd"})))};function U9e(n){const e=sl(n);return e.toString()===e.toFixed(0)?0:e.toFixed().split(".")[1].length||0}function cj(n){return(typeof n=="number"||typeof n=="string")&&n!==""&&!isNaN(Number(n))}function G9e(n,e,t,r,i){if(e==="NaN")return!1;e=e.replace(",",".");const o=!e.includes(".")&&(n==="."||n===","),a=!e.includes("-")&&n==="-"&&t===0,c=/^[0-9]$/i.test(n),u=e===void 0?-1:e.indexOf("."),h=typeof i=="number"&&r===0&&u!==-1&&e.includes(".")&&e.split(".")[1].length>=i&&t>u;return(c||i!==0&&o||a)&&!h}function Eue(n){return n==null||n===""}const Sue="number";function hV(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,value:c,readonly:u}=n,{description:h,label:m,appearance:v={},validate:_={},decimalDigits:k,increment:R}=a,{prefixAdorner:T,suffixAdorner:F}=v,{required:$}=_,j=Kn(),[B,I]=hn(c),[Y,oe]=hn(c),ne=qn(vt=>hV.config.sanitizeValue({value:vt,formField:a}),[a]),[ae,Te]=oV(n.onChange);wK(c)!==B&&ae({field:a,value:B});const Ee=()=>{Te&&Te(),i&&i()},we=()=>{o&&o()},Ce=qn(vt=>{if(Eue(vt)){oe(""),I(null);return}if(vt=vt.replaceAll(",","."),vt==="-"){oe("-");return}if(isNaN(Number(vt))){oe("NaN"),I(null);return}oe(vt),I(ne(vt))},[ne]),Fe=wK(c)!=c,ze=ne(c)===ne(B);Fe&&!ze&&Ce(c&&c.toString()||"");const dt=$n(()=>sl(R||(k?`1e-${k}`:"1")),[k,R]),De=()=>{if(u)return;const vt=cj(B)?sl(B):sl(0),gt=vt.minus(vt.mod(dt));Ce(gt.plus(dt).toFixed())},Ze=()=>{if(u)return;const vt=cj(B)?sl(B):sl(0);if(vt.mod(dt).cmp(0)===0)Ce(vt.minus(dt).toFixed());else{const Tt=vt.minus(vt.mod(dt));Ce(Tt.toFixed())}},bt=vt=>{if(Y==="NaN"&&(vt.code==="Backspace"||vt.code==="Delete")){Ce(""),vt.preventDefault();return}if(vt.code==="ArrowUp"){De(),vt.preventDefault();return}if(vt.code==="ArrowDown"){Ze(),vt.preventDefault();return}},Ye=vt=>{const gt=j.current.selectionStart,Tt=j.current.selectionStart-j.current.selectionEnd,Zt=j.current.value;G9e(vt.key,Zt,gt,Tt,k)||vt.preventDefault()},rt=`${r}-description`,ve=`${r}-error-message`;return q("div",{class:ha(Sue,{errors:t,disabled:e,readonly:u}),children:[q(da,{htmlFor:r,label:m,required:$}),q(_ue,{disabled:e,readonly:u,pre:T,post:F,children:q("div",{class:er("fjs-vertical-group",{"fjs-disabled":e,"fjs-readonly":u},{hasErrors:t.length}),children:[q("input",{ref:j,class:"fjs-input",disabled:e,readOnly:u,id:r,onKeyDown:bt,onKeyPress:Ye,onBlur:Ee,onFocus:we,onInput:vt=>Ce(vt.target.value,!0),onPaste:vt=>Y==="NaN"&&vt.preventDefault(),type:"text",autoComplete:"off",step:dt,value:Y,"aria-describedby":[rt,ve].join(" "),required:$,"aria-invalid":t.length>0}),q("div",{class:er("fjs-number-arrow-container",{"fjs-disabled":e,"fjs-readonly":u}),children:[q("button",{type:"button",class:"fjs-number-arrow-up","aria-label":"Increment",onClick:()=>De(),tabIndex:-1,children:q(fV,{})}),q("div",{class:"fjs-number-arrow-separator"}),q("button",{type:"button",class:"fjs-number-arrow-down","aria-label":"Decrement",onClick:()=>Ze(),tabIndex:-1,children:q(dV,{})})]})]})}),q(Og,{id:rt,description:h}),q(Mu,{id:ve,errors:t})]})}hV.config={type:Sue,keyed:!0,name:"Number",group:"basic-input",emptyValue:null,sanitizeValue:({value:n,formField:e})=>Eue(n)||!cj(n)?null:e.serializeToString?n.toString():Number(n),create:(n={})=>({label:"Number",...n})};const kue="radio";function Cue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u}=n,{description:h,label:m,validate:v={}}=a,_=Kn(),{required:k}=v,R=Y=>{n.onChange({value:Y})},T=Y=>{_.current.contains(Y.relatedTarget)||i&&i()},F=Y=>{_.current.contains(Y.relatedTarget)||o&&o()},{loadState:$,options:j}=fT(a);aV({field:a,loadState:$,options:j,value:u,onChange:n.onChange});const B=`${r}-description`,I=`${r}-error-message`;return q("div",{class:ha(kue,{errors:t,disabled:e,readonly:c}),ref:_,children:[q(da,{label:m,required:k}),$==vf.LOADED&&j.map((Y,oe)=>{const ne=`${r}-${oe}`,ae=wE(Y.value,u);return q("div",{className:er("fjs-inline-label",{"fjs-checked":ae}),children:[q("input",{checked:ae,class:"fjs-input",disabled:e,readOnly:c,name:r,id:ne,type:"radio",onClick:()=>R(Y.value),onBlur:T,onFocus:F,"aria-describedby":[B,I].join(" "),required:k,"aria-invalid":t.length>0}),q(da,{htmlFor:ne,label:Y.label,class:er({"fjs-checked":ae}),required:!1})]},Y.value)}),q(Og,{id:B,description:h}),q(Mu,{id:I,errors:t})]})}Cue.config={type:kue,keyed:!0,name:"Radio group",group:"selection",emptyValue:null,sanitizeValue:rue,create:(n={})=>({label:"Radio group",..._5(n)})};var cX;function uj(){return uj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uj.apply(null,arguments)}var pV=function(e){return St("svg",uj({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),cX||(cX=St("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0",clipRule:"evenodd"})))};function Y9e(n){const{domId:e,disabled:t,errors:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u}=n,[h,m]=hn(""),[v,_]=hn(!1),[k,R]=hn(!0),[T,F]=hn(!1),$=Kn(),j=xo("eventBus"),{loadState:B,options:I}=fT(a);aV({field:a,loadState:B,options:I,value:u,onChange:n.onChange});const Y=iV(I),oe=$n(()=>u&&Y(u),[u,Y]);sn(()=>{m(oe||"")},[oe]);const ne=$n(()=>B!==vf.LOADED?[]:!h||!k?I:I.filter(ze=>ze.label&&ze.value&&ze.label.toLowerCase().includes(h.toLowerCase())),[h,B,I,k]),ae=qn(ze=>{m(ze&&ze.label||""),n.onChange({value:ze&&ze.value||null})},[n]),Te=$n(()=>{const ze={};return ze.componentReady=!t&&!c&&B===vf.LOADED,ze.displayCross=ze.componentReady&&u!==null&&u!==void 0,ze.displayDropdown=!t&&!c&&v&&!T,ze},[t,v,T,B,c,u]),Me=qn(ze=>{F(!1),_(!v);const dt=$.current;v?dt.blur():dt.focus(),ze.preventDefault()},[v]),Ee=({target:ze})=>{F(!1),_(!0),R(!0),m(ze.value||""),j.fire("formField.search",{formField:a,value:ze.value||""})},we=qn(ze=>{switch(ze.key){case"ArrowUp":ze.preventDefault();break;case"ArrowDown":{v||(_(!0),R(!1)),ze.preventDefault();break}case"Escape":F(!0);break;case"Enter":T&&F(!1);break}},[v,T]),Ce=qn(()=>{F(!1),_(!0),R(!1)},[]),Oe=qn(()=>{F(!1),_(!0),o&&o()},[o]),Fe=qn(()=>{_(!1),m(oe||""),i&&i()},[i,oe]);return q(Vo,{children:[q("div",{class:er("fjs-input-group",{disabled:t,readonly:c},{hasErrors:r.length}),children:[q("input",{disabled:t,readOnly:c,class:"fjs-input",ref:$,id:e,onChange:Ee,type:"text",value:h,placeholder:"Search",autoComplete:"off",onKeyDown:we,onMouseDown:Ce,onFocus:Oe,onBlur:Fe,"aria-describedby":n["aria-describedby"]}),Te.displayCross&&q("span",{class:"fjs-select-cross",onMouseDown:ze=>{ae(null),ze.preventDefault()},children:[q(pV,{})," "]}),q("span",{class:"fjs-select-arrow",onMouseDown:ze=>Me(ze),children:Te.displayDropdown?q(fV,{}):q(dV,{})})]}),q("div",{class:"fjs-select-anchor",children:Te.displayDropdown&&q(E5,{values:ne,getLabel:ze=>ze.label,onValueSelected:ze=>{ae(ze),_(!1)},listenerElement:$.current})})]})}function Q9e(n){const{domId:e,disabled:t,errors:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u}=n,[h,m]=hn(!1),v=Kn(),_=Kn(),{loadState:k,options:R}=fT(a);aV({field:a,loadState:k,options:R,value:u,onChange:n.onChange});const T=iV(R),F=$n(()=>u&&T(u),[u,T]),$=qn(ne=>{n.onChange({value:ne&&ne.value||null})},[n]),j=$n(()=>{const ne={};return ne.componentReady=!t&&!c&&k===vf.LOADED,ne.displayCross=ne.componentReady&&u!==null&&u!==void 0,ne.displayDropdown=!t&&!c&&h,ne},[t,h,k,c,u]),B=qn(ne=>{const ae=_.current;t||!ae||(m(!h),h?ae.blur():ae.focus(),ne.preventDefault())},[t,h]),I=$n(()=>u&&Zke(R,ne=>ne.value===u)||0,[R,u]),Y=qn(()=>{c||(m(!0),o&&o())},[o,c]),oe=qn(()=>{c||(m(!1),i&&i())},[i,c]);return q(Vo,{children:[q("div",{ref:v,class:er("fjs-input-group",{disabled:t,readonly:c},{hasErrors:r.length}),onFocus:Y,onBlur:oe,onMouseDown:B,children:[q("div",{class:er("fjs-select-display",{"fjs-select-placeholder":!u}),id:`${e}-display`,children:F||"Select"}),!t&&q("input",{ref:_,id:e,class:"fjs-select-hidden-input",value:F,onFocus:Y,onBlur:oe,"aria-describedby":n["aria-describedby"]}),j.displayCross&&q("span",{class:"fjs-select-cross",onMouseDown:ne=>{$(null),ne.stopPropagation()},children:q(pV,{})}),q("span",{class:"fjs-select-arrow",children:j.displayDropdown?q(fV,{}):q(dV,{})})]}),q("div",{class:"fjs-select-anchor",children:j.displayDropdown&&q(E5,{values:R,getLabel:ne=>ne.label,initialFocusIndex:I,onValueSelected:ne=>{$(ne),m(!1)},listenerElement:v.current})})]})}const Oue="select";function Tue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,onChange:c,readonly:u,value:h}=n,{description:m,label:v,searchable:_=!1,validate:k={}}=a,{required:R}=k,T=`${r}-description`,F=`${r}-error-message`,$={domId:r,disabled:e,errors:t,onBlur:i,onFocus:o,field:a,value:h,onChange:c,readonly:u,required:R,"aria-invalid":t.length>0,"aria-describedby":[T,F].join(" ")};return q("div",{class:ha(Oue,{errors:t,disabled:e,readonly:u}),onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),j.stopPropagation())},children:[q(da,{htmlFor:r,label:v,required:R}),_?q(Y9e,{...$}):q(Q9e,{...$}),q(Og,{id:T,description:m}),q(Mu,{id:F,errors:t})]})}Tue.config={type:Oue,keyed:!0,name:"Select",group:"selection",emptyValue:null,sanitizeValue:rue,create:(n={})=>({label:"Select",..._5(n)})};const Aue="separator";function Rue(){return q("div",{class:ha(Aue),children:q("hr",{})})}Rue.config={type:Aue,keyed:!1,name:"Separator",group:"presentation",create:(n={})=>({...n})};const Pue="spacer";function Mue(n){const{field:e}=n,{height:t=60}=e;return q("div",{class:ha(Pue),style:{height:t}})}Mue.config={type:Pue,keyed:!1,name:"Spacer",group:"presentation",create:(n={})=>({height:60,...n})};function Due(n){const{field:e,domId:t,readonly:r}=n,{label:i,type:o,showOutline:a}=e,{Empty:c}=_i(Xv),u={...n,Empty:c};return q("div",{className:er(ha(o,{readonly:r}),"fjs-form-field-grouplike",{"fjs-outlined":a}),role:"group","aria-labelledby":t,children:[q(da,{id:t,label:i}),q(lV,{...u})]})}Due.config={type:"dynamiclist",pathed:!0,repeatable:!0,name:"Dynamic list",group:"container",create:(n={})=>({label:"Dynamic list",components:[],showOutline:!0,isRepeating:!0,allowAddRemove:!0,defaultRepetitions:1,...n})};function K9e(n){const{className:e,label:t,onSkip:r}=n,i=qn(o=>{o.key==="Enter"&&(o.preventDefault(),o.stopPropagation(),r())},[r]);return q("a",{href:"#",class:er("fjs-skip-link",e),onKeyDown:i,children:t})}const Nue="taglist";function Iue(n){const{disabled:e,errors:t=[],onFocus:r,domId:i,onBlur:o,field:a,readonly:c,value:u}=n,{description:h,label:m,validate:v={}}=a,{required:_}=v,[k,R]=hn(""),[T,F]=hn(!1),[$,j]=hn(!1),B=Kn(),I=Kn(),Y=xo("eventBus"),{loadState:oe,options:ne}=fT(a),ae=LE(u||[]);sue({field:a,loadState:oe,options:ne,values:ae,onChange:n.onChange});const Te=iV(ne),Me=$n(()=>ne.length>ae.length,[ne.length,ae.length]),Ee=$n(()=>{if(oe!==vf.LOADED)return[];const gt=Tt=>Tt.label.toLowerCase().includes(k.toLowerCase())&&!Vv(Tt.value,ae);return ne.filter(gt)},[k,ne,ae,oe]),we=gt=>{R(""),ae.at(-1)!==gt&&n.onChange({value:[...ae,gt]})},Ce=gt=>{const Tt=ae.filter(Zt=>!wE(Zt,gt));n.onChange({value:Tt})},Oe=({target:gt})=>{j(!1),R(gt.value||""),Y.fire("formField.search",{formField:a,value:gt.value||""})},Fe=gt=>{switch(gt.key){case"ArrowUp":case"ArrowDown":gt.preventDefault();break;case"Backspace":!k&&ae.length&&Ce(ae[ae.length-1]);break;case"Escape":j(!0);break;case"Enter":$&&j(!1);break}},ze=gt=>{B.current.contains(gt.relatedTarget)||o&&o()},dt=gt=>{B.current.contains(gt.relatedTarget)||r&&r()},De=gt=>{c||(F(!1),R("")),ze(gt)},Ze=gt=>{c||F(!0),dt(gt)},bt=(gt,Tt)=>{const{target:Zt}=gt;Ce(Tt),Zt.closest(".fjs-taglist-tag").nextSibling||I.current.focus()},Ye=()=>{I.current.focus()},rt=$n(()=>!e&&oe===vf.LOADED&&T&&!$,[e,T,$,oe]),ve=`${i}-description`,vt=`${i}-error-message`;return q("div",{ref:B,class:ha(Nue,{errors:t,disabled:e,readonly:c}),onKeyDown:gt=>{gt.key==="Enter"&&(gt.stopPropagation(),gt.preventDefault())},children:[q(da,{label:m,required:_,htmlFor:i}),!e&&!c&&!!ae.length&&q(K9e,{className:"fjs-taglist-skip-link",label:"Skip to search",onSkip:Ye}),q("div",{class:er("fjs-taglist",{"fjs-disabled":e,"fjs-readonly":c}),children:[oe===vf.LOADED&&q("div",{class:"fjs-taglist-tags",children:ae.map(gt=>q("div",{class:er("fjs-taglist-tag",{"fjs-disabled":e,"fjs-readonly":c}),onMouseDown:Tt=>Tt.preventDefault(),children:[q("span",{class:"fjs-taglist-tag-label",children:Te(gt)}),!e&&!c&&q("button",{type:"button",title:"Remove tag",class:"fjs-taglist-tag-remove",onFocus:dt,onBlur:ze,onClick:Tt=>bt(Tt,gt),children:q(pV,{})})]},gt))}),q("input",{disabled:e,readOnly:c,class:"fjs-taglist-input",ref:I,id:i,onChange:Oe,type:"text",value:k,placeholder:e||c?void 0:"Search",autoComplete:"off",onKeyDown:Fe,onMouseDown:()=>j(!1),onFocus:Ze,onBlur:De,"aria-describedby":[ve,vt].join(" "),required:_,"aria-invalid":t.length>0})]}),q("div",{class:"fjs-taglist-anchor",children:rt&&q(E5,{values:Ee,getLabel:gt=>gt.label,onValueSelected:gt=>we(gt.value),emptyListMessage:Me?"No results":"All values selected",listenerElement:I.current})}),q(Og,{id:ve,description:h}),q(Mu,{id:vt,errors:t})]})}Iue.config={type:Nue,keyed:!0,name:"Tag list",group:"selection",emptyValue:[],sanitizeValue:iue,create:(n={})=>({label:"Tag list",..._5(n)})};const X9e=3,Z9e=1,J9e=["h1","h2","h3","h4","h5","h6","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong","table","thead","tbody","tr","th","td"],e8e=["align","alt","class","href","id","name","rel","target","src"],t8e=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,n8e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,r8e=document.createElement("form");function i8e(n){const e=new DOMParser().parseFromString(`<!DOCTYPE html>
<html><body><div>${n}`,"text/html");e.normalize();const t=e.body.firstChild;return t?(Lue(t),t.innerHTML):""}function Lue(n){if(n.nodeType===X9e)return;if(n.nodeType!==Z9e)return n.remove();const e=n.tagName.toLowerCase();if(!J9e.includes(e))return n.remove();const t=n.attributes;for(let r=t.length;r--;){const i=t[r],o=i.name,a=o.toLowerCase(),c=i.value.trim();n.removeAttribute(o),o8e(e,a,c)&&n.setAttribute(o,c)}e==="a"&&n.getAttribute("target")==="_blank"&&n.getAttribute("rel")!=="noopener"&&n.setAttribute("rel","noopener");for(let r=n.childNodes.length;r--;)Lue(n.childNodes[r])}function o8e(n,e,t){return!(!e8e.includes(e)||(e==="id"||e==="name")&&(t in document||t in r8e)||e==="target"&&t!=="_blank"||e==="href"&&!t8e.test(t.replace(n8e,"")))}const Fue="text";function S5(n){const e=xo("form"),{textLinkTarget:t}=e._getState().properties,{field:r,disableLinks:i}=n,{text:o="",strict:a=!1}=r,c=xo("markdownRenderer"),u=sV(o,{debug:!0,strict:a}),h=$n(()=>c.render(u),[c,u]),m=qn(_=>{const k=i8e(_),R=document.createElement("div");return R.innerHTML=k,R.querySelectorAll("a").forEach(F=>{i&&(F.setAttribute("class","fjs-disabled-link"),F.setAttribute("tabIndex","-1")),t&&F.setAttribute("target",t)}),R.innerHTML},[i,t]),v=Zce({html:h,transform:m,sanitize:!1,sanitizeStyleTags:!1});return q("div",{class:ha(Fue),dangerouslySetInnerHTML:v})}S5.config={type:Fue,keyed:!1,name:"Text view",group:"presentation",create:(n={})=>({text:"# Text",...n}),getSubheading:n=>{Nje(n.text)}};const $ue="html";function k5(n){const e=xo("form"),{textLinkTarget:t}=e._getState().properties,{field:r,disableLinks:i,domId:o}=n,{content:a="",strict:c=!1}=r,u=`${o}-style-scope`,h=sV(a,{debug:!0,strict:c,sanitizer:u9e}),m=qn(_=>{const k=document.createElement("div");return k.innerHTML=_,k.querySelectorAll("a").forEach(T=>{i&&(T.setAttribute("class","fjs-disabled-link"),T.setAttribute("tabIndex","-1")),t&&T.setAttribute("target",t)}),Wje(k,`.${u}`),k.innerHTML},[i,u,t]),v=Zce({html:h,transform:m,sanitize:!0,sanitizeStyleTags:!1});return q("div",{class:er(ha($ue),u),dangerouslySetInnerHTML:v})}k5.config={type:$ue,keyed:!1,name:"HTML view",group:"presentation",create:(n={})=>({content:"",...n})};const s8e="expression";function mV(n){const{field:e,onChange:t,value:r}=n,{computeOn:i,expression:o}=e,a=dT(o),c=LE(a),u=xo("eventBus"),h=xo("expressionLoopPreventer"),m=qn(()=>{t&&t({field:e,value:c,shouldNotRecompute:!0})},[e,c,t]);return sn(()=>{i!=="change"||F3e.isEqual(c,r)||!h.registerExpressionExecution(this)||m()}),sn(()=>{if(i==="presubmit")return u.on("presubmit",m),()=>u.off("presubmit",m)},[i,m,u]),null}mV.config={type:s8e,name:"Expression",group:"basic-input",keyed:!0,emptyValue:null,escapeGridRender:!0,create:(n={})=>({computeOn:"change",...n})};const Bue="textfield";function jue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u=""}=n,{description:h,label:m,appearance:v={},validate:_={}}=a,{prefixAdorner:k,suffixAdorner:R}=v,{required:T}=_,[F,$]=oV(({target:ne})=>{n.onChange({value:ne.value})}),j=ne=>{F({target:ne.target})},B=()=>{$&&$(),i&&i()},I=()=>{o&&o()},Y=`${r}-description`,oe=`${r}-error-message`;return q("div",{class:ha(Bue,{errors:t,disabled:e,readonly:c}),children:[q(da,{htmlFor:r,label:m,required:T}),q(_ue,{disabled:e,readonly:c,pre:k,post:R,children:q("input",{class:"fjs-input",disabled:e,readOnly:c,id:r,onInput:j,onBlur:B,onFocus:I,type:"text",value:u,"aria-describedby":[Y,oe].join(" "),required:T,"aria-invalid":t.length>0})}),q(Og,{id:Y,description:h}),q(Mu,{id:oe,errors:t})]})}jue.config={type:Bue,keyed:!0,name:"Text field",group:"basic-input",emptyValue:"",sanitizeValue:({value:n})=>fa(n)||_f(n)||kg(n)?"":typeof n=="string"?n.replace(/[\r\n\t]/g," "):String(n),create:(n={})=>({label:"Text field",...n})};const Vue="textarea";function zue(n){const{disabled:e,errors:t=[],domId:r,onBlur:i,onFocus:o,field:a,readonly:c,value:u=""}=n,{description:h,label:m,validate:v={}}=a,{required:_}=v,k=Kn(),[R,T]=oV(({target:Y})=>{n.onChange({value:Y.value})}),F=()=>{T&&T(),i&&i()},$=()=>{o&&o()},j=Y=>{R({target:Y.target}),OF(k.current)};fb(()=>{OF(k.current)},[u]),sn(()=>{OF(k.current)},[]);const B=`${r}-description`,I=`${r}-error-message`;return q("div",{class:ha(Vue,{errors:t,disabled:e,readonly:c}),children:[q(da,{htmlFor:r,label:m,required:_}),q("textarea",{class:"fjs-textarea",disabled:e,readOnly:c,id:r,onInput:j,onBlur:F,onFocus:$,value:u,ref:k,"aria-describedby":[B,I].join(" "),required:_,"aria-invalid":t.length>0}),q(Og,{id:B,description:h}),q(Mu,{id:I,errors:t})]})}zue.config={type:Vue,keyed:!0,name:"Text area",group:"basic-input",emptyValue:"",sanitizeValue:({value:n})=>fa(n)||_f(n)||kg(n)?"":String(n),create:(n={})=>({label:"Text area",...n})};const OF=n=>{n.style.height="0px";const e=window.getComputedStyle(n),t=()=>{const c=parseInt(e.getPropertyValue("line-height").replace("px",""))||0;return(n.value?n.value.toString().split(`
`).length:0)*c},r=parseInt(e.getPropertyValue("border-top-width"))+parseInt(e.getPropertyValue("padding-top"))+(n.scrollHeight||t())+parseInt(e.getPropertyValue("padding-bottom"))+parseInt(e.getPropertyValue("border-bottom-width")),i=75,o=350,a=Math.max(Math.min(r||0,o),i);n.style.height=`${a}px`,n.style.overflow=r>o?"visible":"hidden"};var uX;function dj(){return dj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dj.apply(null,arguments)}var a8e=function(e){return St("svg",dj({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),uX||(uX=St("path",{fill:"currentcolor",d:"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10z"})))},dX;function fj(){return fj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fj.apply(null,arguments)}var l8e=function(e){return St("svg",fj({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),dX||(dX=St("path",{fill:"currentcolor",d:"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14z"})))},fX;function hj(){return hj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hj.apply(null,arguments)}var c8e=function(e){return St("svg",hj({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},e),fX||(fX=St("path",{fill:"currentcolor",d:"m20 24-10-8 10-8z"})))},hX;function pj(){return pj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pj.apply(null,arguments)}var u8e=function(e){return St("svg",pj({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},e),hX||(hX=St("path",{fill:"currentcolor",d:"m12 8 10 8-10 8z"})))};const Hue="table";function gV(n){const{field:e}=n,{columns:t=[],columnsExpression:r,dataSource:i="",rowCount:o,id:a,label:c}=e,[u,h]=hn(null),m=d8e(r||"",t),v=m.map(({key:I})=>I),_=dT(i),k=Array.isArray(_)?_.filter(I=>!kg(I)||typeof I!="object"):[],R=u===null?k:h8e(k,u.key,u.direction),T=rc(o)?f8e(R,o):[R],[F,$]=hn(0),j=T[F]||[];sn(()=>{$(0)},[o,u]);function B(I){h(Y=>Y===null||Y.key!==I?{key:I,direction:"asc"}:Y.direction==="desc"?null:{key:I,direction:"desc"})}return q("div",{class:ha(Hue),children:[q(da,{htmlFor:tE(a),label:c}),q("div",{class:er("fjs-table-middle-container",{"fjs-table-empty":m.length===0}),children:[m.length===0?"Nothing to show.":q("div",{class:"fjs-table-inner-container",children:q("table",{class:"fjs-table",id:tE(a),children:[q("thead",{class:"fjs-table-head",children:q("tr",{class:"fjs-table-tr",children:m.map(({key:I,label:Y})=>{const oe=Y||I;return q("th",{tabIndex:0,class:"fjs-table-th",onClick:()=>{B(I)},onKeyDown:ne=>{["Enter","Space"].includes(ne.code)&&B(I)},"aria-label":p8e(u,I,oe),children:q("span",{class:"fjs-table-th-label",children:[oe,u!==null&&u.key===I?q(Vo,{children:u.direction==="asc"?q(l8e,{class:"fjs-table-sort-icon-asc"}):q(a8e,{class:"fjs-table-sort-icon-desc"})}):null]})},I)})})}),j.length===0?q("tbody",{class:"fjs-table-body",children:q("tr",{class:"fjs-table-tr",children:q("td",{class:"fjs-table-td",colSpan:m.length,children:"Nothing to show."})})}):q("tbody",{class:"fjs-table-body",children:j.map((I,Y)=>q("tr",{class:"fjs-table-tr",children:v.map(oe=>q("td",{class:"fjs-table-td",children:m8e(I[oe])},oe))},Y))})]})}),rc(o)&&T.length>1&&m.length>0?q("nav",{class:"fjs-table-nav",children:[q("span",{class:"fjs-table-nav-label",children:[F+1," of ",T.length]}),q("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{$(I=>Math.max(I-1,0))},disabled:F===0,"aria-label":"Previous page",children:q(c8e,{})}),q("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{$(I=>Math.min(I+1,T.length-1))},disabled:F>=T.length-1,"aria-label":"Next page",children:q(u8e,{})})]}):null]})]})}gV.config={type:Hue,keyed:!1,name:"Table",group:"presentation",create:(n={})=>{const{id:e,columnsExpression:t,columns:r,rowCount:i,...o}=n;return M8(e)&&rc(i)&&(o.rowCount=i),Zo(t)?{...o,id:e,columnsExpression:t}:Array.isArray(r)&&r.every(Wue)?{...o,id:e,columns:r}:{...o,label:"Table",rowCount:10,columns:[{label:"ID",key:"id"},{label:"Name",key:"name"},{label:"Date",key:"date"}]}},generateInitialDemoData:n=>{const e=[{id:1,name:"John Doe",date:"31.01.2023"},{id:2,name:"Erika Muller",date:"20.02.2023"},{id:3,name:"Dominic Leaf",date:"11.03.2023"}],t=Object.keys(e[0]),{columns:r,id:i,dataSource:o}=n;if(!(!Array.isArray(r)||r.length===0||o!==`=${i}`)&&r.map(({key:a})=>a).every(a=>t.includes(a)))return e}};function d8e(n,e){const t=dT(n||"");return Array.isArray(t)&&t.every(Wue)?t:e}function Wue(n){return _f(n)&&Zo(n.label)&&Zo(n.key)}function f8e(n,e){return n.reduce((t,r,i)=>(i%e===0?t.push([r]):t[t.length-1].push(r),t),[])}function h8e(n,e,t){return[...n].sort((r,i)=>!_f(r)||!_f(i)?0:t==="asc"?r[e]>i[e]?1:-1:r[e]<i[e]?1:-1)}function p8e(n,e,t){return n===null||n.key!==e?`Click to sort by ${t} descending`:n.direction==="asc"?"Click to remove sorting":`Click to sort by ${t} ascending`}function m8e(n){return n!==null&&typeof n=="object"?JSON.stringify(n):`${n||""}`}const que="files::",g8e="filepicker",y8e=new Au,v8e=[];function Uue(n){const e=Kn(null),t=xo("fileRegistry",!1),{field:r,onChange:i,domId:o,errors:a=[],disabled:c,readonly:u,value:h=""}=n,{label:m,multiple:v=!1,accept:_="",validate:k={}}=r,R=Fh(_,{debug:!0}),T=Zje(v),F=`${o}-error-message`,$=t===null?v8e:t.getFiles(h);sn(()=>{h&&t!==null&&!t.hasKey(h)&&i({value:null})},[t,h,i,$.length]),sn(()=>{const I=new DataTransfer;$.forEach(Y=>I.items.add(Y)),e.current.files=I.files},[$]);const j=I=>{const Y=I.target;if((Y.files===null||Y.files.length===0)&&h!==""){t.deleteFiles(h),i({value:null});return}const oe=Array.from(Y.files),ne=h||y8e.nextPrefixed(que);t.setFiles(ne,oe),i({value:ne})},B=c||u||t===null;return q("div",{className:ha(g8e,{errors:a,disabled:c,readonly:u}),children:[q(da,{htmlFor:o,label:m,required:k.required}),q("input",{type:"file",className:"fjs-hidden",ref:e,id:o,name:o,disabled:B,multiple:T||void 0,accept:R||void 0,onChange:j,required:k.required}),q("div",{className:"fjs-filepicker-container",children:[q("button",{type:"button",disabled:B,readOnly:u,className:"fjs-button fjs-filepicker-button",onClick:()=>{e.current.click()},children:"Browse"}),q("span",{className:"fjs-form-field-label",children:b8e($)})]}),q(Mu,{id:F,errors:a})]})}Uue.config={type:"filepicker",keyed:!0,label:"File picker",group:"basic-input",emptyValue:null,create:(n={})=>({...n})};function b8e(n){return n.length===0?"No files selected":n.length===1?n[0].name:`${n.length} files selected`}var pX;function mj(){return mj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mj.apply(null,arguments)}var x8e=function(e){return St("svg",mj({xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),pX||(pX=St("path",{fill:"currentColor",d:"M13 12v2H3v-2H2v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2zm0-5-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5z"})),St("path",{d:"M0 0h16v16H0z",style:{fill:"none"}}))};const ng="documentPreview";function yV(n){const e=xo("documentEndpointBuilder",!1),{field:t,domId:r}=n,{dataSource:i,maxHeight:o,label:a}=t,c=`${r}-error-message`,u=S8e(i||""),h=Fh(a,{debug:!0});return q("div",{class:ha(ng),children:[q(da,{htmlFor:r,label:h}),q("div",{class:`fjs-${ng}-document-container`,id:r,children:u.map((m,v)=>{const _=T8e(()=>e==null?void 0:e.buildUrl(m))??m.endpoint;return _8e(_)?q(C8e,{documentMetadata:m,endpoint:_,maxHeight:o,domId:`${r}-${v}`},m.documentId):null})}),q(Mu,{id:c,errors:w8e({dataSource:i})})]})}yV.config={type:ng,keyed:!1,group:"presentation",name:"Document preview",create:(n={})=>({label:"Document preview",...n})};function w8e(n){const{dataSource:e}=n;let t=[];return(!Zo(e)||e.length<1)&&t.push("Document reference is not defined."),t}function _8e(n){return typeof n=="string"&&URL.canParse(n)}function E8e(n){return typeof n=="object"&&n!==null&&"documentId"in n&&"metadata"in n&&typeof n.metadata=="object"&&"fileName"in n.metadata}function S8e(n){const e=dT(n);return Array.isArray(e)?e.filter(E8e):[]}function k8e(n){const{url:e,onError:t,errorMessageId:r}=n,[i,o]=hn(null),[a,c]=hn(!1);return sn(()=>{let u=null;return(async()=>{try{const m=await fetch(e);if(!m.ok){c(!0),t();return}const v=await m.blob();u=URL.createObjectURL(v),o(u)}catch{c(!0),t()}})(),()=>{u&&URL.revokeObjectURL(u)}},[e,t]),q(Vo,{children:[i!==null?q("embed",{src:i,type:"application/pdf",class:`fjs-${ng}-pdf-viewer`}):null,a?q(Mu,{id:r,errors:["Unable to download document"]}):null]})}function C8e(n){const{documentMetadata:e,endpoint:t,maxHeight:r,domId:i}=n,{metadata:o}=e,[a,c]=hn(!1),u=Kn(null),h=O8e(u),m=`fjs-${ng}-single-document-container`,v=`${i}-error-message`,_="Unable to download document",k=typeof o.contentType=="string";return k&&o.contentType.toLowerCase().startsWith("image/")&&h?q("div",{class:m,style:{maxHeight:r},"aria-describedby":a?v:void 0,children:[q("img",{src:t,alt:o.fileName,class:`fjs-${ng}-image`}),q(mX,{endpoint:t,fileName:o.fileName,onDownloadError:()=>{c(!0)}}),a?q(Mu,{id:v,errors:[_]}):null]}):k&&o.contentType.toLowerCase()==="application/pdf"&&h?q("div",{class:m,style:{maxHeight:r},"aria-describedby":a?v:void 0,children:q(k8e,{url:t,fileName:o.fileName,onError:()=>c(!0),errorMessageId:v})}):q("div",{class:er(`fjs-${ng}-non-preview-item`,`fjs-${ng}-single-document-container`),ref:u,"aria-describedby":a?v:void 0,children:[q("div",{children:[q("div",{class:"fjs-document-preview-title",children:o.fileName}),a?q(Mu,{id:v,errors:[_]}):null]}),q(mX,{endpoint:t,fileName:o.fileName,onDownloadError:()=>{c(!0)}})]})}function mX(n){const{endpoint:e,fileName:t,onDownloadError:r}=n;return q("button",{type:"button",onClick:async()=>{try{const o=await fetch(e);if(!o.ok){r();return}const a=await o.blob(),c=window.URL.createObjectURL(a),u=document.createElement("a");u.href=c,u.download=t,u.click(),window.URL.revokeObjectURL(c)}catch{r()}},class:er(`fjs-${ng}-download-button`),"aria-label":`Download ${t}`,children:q(x8e,{})})}function O8e(n){const[e,t]=hn(!1);return sn(()=>{const r=n.current;if(!r)return;const i=new IntersectionObserver(([o])=>{o.isIntersecting&&t(!0)},{threshold:0});return i.observe(r),()=>{r&&i.unobserve(r)}},[n]),e}const T8e=n=>{try{return n()}catch(e){return console.error(e),null}};function Gue(){return q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14.02 5.57",width:"53",height:"21",style:"vertical-align:middle",children:[q("path",{fill:"currentColor",d:"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"}),q("path",{fill:"currentColor",d:"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"})]})}function A8e(n){const{open:e}=n;return e?q("div",{class:"fjs-powered-by-lightbox",style:"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0",children:[q("div",{class:"backdrop",style:"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)",onClick:n.onBackdropClick}),q("div",{class:"notice",style:"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3",children:[q("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",style:"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)",children:q(Gue,{})}),q("span",{children:["Web-based tooling for BPMN, DMN, and forms powered by"," ",q("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",children:"bpmn.io"}),"."]})]})]}):null}function R8e(n){return q("div",{class:"fjs-powered-by fjs-form-field",style:"text-align: right",children:q("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",class:"fjs-powered-by-link",title:"Powered by bpmn.io",style:"color: var(--cds-text-primary, #404040)",onClick:n.onClick,children:q(Gue,{})})})}function P8e(n){const[e,t]=hn(!1);function r(i){return o=>{o.preventDefault(),t(i)}}return q(Vo,{children:[t5(q(A8e,{open:e,onBackdropClick:r(!1)}),document.body),q(R8e,{onClick:r(!0)})]})}const TF=()=>{};function Yue(n){const e=xo("form"),{schema:t,properties:r}=e._getState(),{ariaLabel:i}=r,{onSubmit:o=TF,onReset:a=TF,onChange:c=TF}=n,u=_=>{_.preventDefault(),o()},h=_=>{_.preventDefault(),a()},m=Jje(),v=$n(()=>({data:m,parent:null,this:m,i:[]}),[m]);return q("form",{class:"fjs-form",onSubmit:u,onReset:h,"aria-label":i,noValidate:!0,children:[q(Jp.Provider,{value:v,children:q(hue,{field:t,onChange:c})}),q(P8e,{})]})}const M8e=[jue,zue,hV,yue,mV,Uue,uue,fue,Cue,Tue,Iue,S5,wue,gV,k5,yV,Mue,Rue,vue,Due,uV,lue,pue];class vV{constructor(){this._formFields={},M8e.forEach(e=>{this.register(e.config.type,e)})}register(e,t){this._formFields[e]=t}get(e){return this._formFields[e]}}const D8e=["alt","appearance.prefixAdorner","appearance.suffixAdorner","conditional.hide","description","label","source","readonly","text","validate.min","validate.max","validate.minLength","validate.maxLength","valuesExpression","url","dataSource","columnsExpression","expression","multiple","accept","title"],N8e=["alt","appearance.prefixAdorner","appearance.suffixAdorner","description","label","source","text","content","url","title"];function I8e(n,e={}){const{formFields:t=new vV,expressionLanguage:r=new w5(null),templating:i=new eV,inputs:o=!0,outputs:a=!0}=e;if(!n.components)return[];const c=m=>{const v=[];return m.components&&m.components.forEach(_=>{v.push(_),v.push(...c(_))}),v},u=c(n).reduce((m,v)=>{const{valuesKey:_}=v;return o&&(_&&(m=[...m,_]),D8e.forEach(k=>{const R=wt(v,k.split("."));if(R&&r.isExpression(R)){const T=r.getVariableNames(R,{type:"expression"});m=[...m,...T]}}),N8e.forEach(k=>{const R=wt(v,k.split("."));if(R&&!r.isExpression(R)&&i.isTemplate(R)){const T=i.getVariableNames(R);m=[...m,...T]}})),m.filter(k=>typeof k=="string")},[]),h=m=>{const v=[],_=t.get(m.type);return _&&_.config.keyed&&m.key?[m.key.split(".")[0]]:_&&_.config.pathed&&m.path?[m.path.split(".")[0]]:(m.components&&m.components.forEach(k=>{v.push(...h(k))}),v)};return(o||a)&&u.push(...h(n)),Array.from(new Set(u))}const _C=(n,e)=>{const t=[];let r=e.get(n);for(;r;)t.push(r.id),r=e.get(r._parent);return t};class Que{constructor(e,t,r){this._formFieldRegistry=e,this._pathRegistry=t,this._eventBus=r}applyConditions(e,t={},r={}){const i=Eu(e),{getFilterPath:o=(u,h)=>this._pathRegistry.getValuePath(u,{indexes:h})}=r,a=(u,h,m=!1)=>{const{indexes:v={},expressionIndexes:_=[],scopeData:k=t,parentScopeData:R=null}=h;this._pathRegistry.executeRecursivelyOnFields(u,({field:T,isClosed:F,isRepeatable:$,context:j})=>{const{conditional:B,components:I,id:Y}=T,oe=IE({this:k,data:t,i:_,parent:R});if(j.isHidden=m||j.isHidden||B&&this._checkHideCondition(B,oe),$&&!j.isHidden){j.preventRecursion=!0;const ne=this._pathRegistry.getValuePath(T,{indexes:v}),ae=wt(t,ne);if(!Array.isArray(ae)||!ae.length||!Array.isArray(I)||!I.length)return;for(let Te=0;Te<ae.length;Te++){const Me={indexes:{...v,[Y]:Te},expressionIndexes:[..._,Te+1],scopeData:ae[Te],parentScopeData:k};I.forEach(Ee=>{a(Ee,Me,j.isHidden)})}}j.isHidden&&$&&(j.preventRecursion=!0,this._eventBus.fire("conditionChecker.remove",{item:{[T.key]:wt(i,o(T,v))}}),this._cleanlyClearDataAtPath(o(T,v),i)),j.isHidden&&F&&(this._eventBus.fire("conditionChecker.remove",{item:{[T.key]:wt(i,o(T,v))}}),this._cleanlyClearDataAtPath(o(T,v),i))})},c=this._formFieldRegistry.getForm();if(!c)throw new Error("form field registry has no form");return a(c,{scopeData:t}),i}check(e,t={}){if(!e||!Zo(e)||!e.startsWith("="))return null;try{return z5e(e.slice(1),t)}catch(r){return this._eventBus.fire("error",{error:r}),null}}_checkHideCondition(e,t){return e.hide?this.check(e.hide,t)===!0:!1}_cleanlyClearDataAtPath(e,t){const r=[...e];let i=!1;do{Es(t,r,void 0),r.pop();const o=wt(t,r);i=!!r.length&&(this._isEmptyObject(o)||this._isEmptyArray(o))}while(i)}_isEmptyObject(e){return _f(e)&&!e2e(e).length}_isEmptyArray(e){return Array.isArray(e)&&(!e.length||e.every(t=>t===void 0))}}Que.$inject=["formFieldRegistry","pathRegistry","eventBus"];const L8e={__init__:["expressionLanguage","templating","conditionChecker"],expressionLanguage:["type",w5],templating:["type",eV],conditionChecker:["type",Que]};class Kue{constructor(e){this._computedExpressions=[],e.on("field.updated",({shouldNotRecompute:t})=>{t||this.reset()}),e.on("import.done",this.reset.bind(this)),e.on("reset",this.reset.bind(this))}registerExpressionExecution(e){return this._computedExpressions.includes(e)?!1:(this._computedExpressions.push(e),!0)}reset(){this._computedExpressions=[]}}Kue.$inject=["eventBus"];const F8e={__init__:["expressionLoopPreventer"],expressionLoopPreventer:["type",Kue]};class Xue{render(e){return wo.parse(e,{gfm:!0,breaks:!0})}}Xue.$inject=[];const Zue={__init__:["markdownRenderer"],markdownRenderer:["type",Xue]};function ds(n,e){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=e,this._eventBus=n,this._uid=1,n.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}ds.$inject=["eventBus","injector"];ds.prototype.execute=function(n,e){if(!n)throw new Error("command required");this._currentExecution.trigger="execute";const t={command:n,context:e};this._pushAction(t),this._internalExecute(t),this._popAction()};ds.prototype.canExecute=function(n,e){const t={command:n,context:e},r=this._getHandler(n);let i=this._fire(n,"canExecute",t);if(i===void 0){if(!r)return!1;r.canExecute&&(i=r.canExecute(e))}return i};ds.prototype.clear=function(n){this._stack.length=0,this._stackIdx=-1,n!==!1&&this._fire("changed",{trigger:"clear"})};ds.prototype.undo=function(){let n=this._getUndoAction(),e;if(n){for(this._currentExecution.trigger="undo",this._pushAction(n);n&&(this._internalUndo(n),e=this._getUndoAction(),!(!e||e.id!==n.id));)n=e;this._popAction()}};ds.prototype.redo=function(){let n=this._getRedoAction(),e;if(n){for(this._currentExecution.trigger="redo",this._pushAction(n);n&&(this._internalExecute(n,!0),e=this._getRedoAction(),!(!e||e.id!==n.id));)n=e;this._popAction()}};ds.prototype.register=function(n,e){this._setHandler(n,e)};ds.prototype.registerHandler=function(n,e){if(!n||!e)throw new Error("command and handlerCls must be defined");const t=this._injector.instantiate(e);this.register(n,t)};ds.prototype.canUndo=function(){return!!this._getUndoAction()};ds.prototype.canRedo=function(){return!!this._getRedoAction()};ds.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};ds.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};ds.prototype._internalUndo=function(n){const e=n.command,t=n.context,r=this._getHandler(e);this._atomicDo(()=>{this._fire(e,"revert",n),r.revert&&this._markDirty(r.revert(t)),this._revertedAction(n),this._fire(e,"reverted",n)})};ds.prototype._fire=function(n,e,t){arguments.length<3&&(t=e,e=null);const r=e?[n+"."+e,e]:[n];let i;t=this._eventBus.createEvent(t);for(const o of r)if(i=this._eventBus.fire("commandStack."+o,t),t.cancelBubble)break;return i};ds.prototype._createId=function(){return this._uid++};ds.prototype._atomicDo=function(n){const e=this._currentExecution;e.atomic=!0;try{n()}finally{e.atomic=!1}};ds.prototype._internalExecute=function(n,e){const t=n.command,r=n.context,i=this._getHandler(t);if(!i)throw new Error("no command handler registered for <"+t+">");this._pushAction(n),e||(this._fire(t,"preExecute",n),i.preExecute&&i.preExecute(r),this._fire(t,"preExecuted",n)),this._atomicDo(()=>{this._fire(t,"execute",n),i.execute&&this._markDirty(i.execute(r)),this._executedAction(n,e),this._fire(t,"executed",n)}),e||(this._fire(t,"postExecute",n),i.postExecute&&i.postExecute(r),this._fire(t,"postExecuted",n)),this._popAction()};ds.prototype._pushAction=function(n){const e=this._currentExecution,t=e.actions,r=t[0];if(e.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+n.command+")");n.id||(n.id=r&&r.id||this._createId()),t.push(n)};ds.prototype._popAction=function(){const n=this._currentExecution,e=n.trigger,t=n.actions,r=n.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:kie("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:e}),n.trigger=null)};ds.prototype._markDirty=function(n){const e=this._currentExecution;n&&(n=fa(n)?n:[n],e.dirty=e.dirty.concat(n))};ds.prototype._executedAction=function(n,e){const t=++this._stackIdx;e||this._stack.splice(t,this._stack.length,n)};ds.prototype._revertedAction=function(n){this._stackIdx--};ds.prototype._getHandler=function(n){return this._handlerMap[n]};ds.prototype._setHandler=function(n,e){if(!n||!e)throw new Error("command and handler required");if(this._handlerMap[n])throw new Error("overriding handler for command <"+n+">");this._handlerMap[n]=e};var $8e={commandStack:["type",ds]};class Jue{constructor(e,t){this._form=e,this._validator=t}execute(e){const{field:t,value:r,indexes:i}=e,{errors:o}=this._form._getState();e.oldErrors=Eu(o);const a=this._validator.validateField(t,r),c=Es(o,[t.id,...Object.values(i||{})],a.length?a:void 0);this._form._setState({errors:c})}revert(e){this._form._setState({errors:e.oldErrors})}}Jue.$inject=["form","validator"];class ede{constructor(e,t){this._form=e,this._validator=t}execute(e){const{fieldInstance:t,value:r}=e,{id:i,indexes:o}=t,{errors:a}=this._form._getState();e.oldErrors=Eu(a);const c=this._validator.validateFieldInstance(t,r),u=Es(a,[i,...Object.values(o||{})],c.length?c:void 0);this._form._setState({errors:u})}revert(e){this._form._setState({errors:e.oldErrors})}}ede.$inject=["form","validator"];class tde{constructor(e,t){this._commandStack=e,t.on("form.init",()=>{this.registerHandlers()})}registerHandlers(){Object.entries(this.getHandlers()).forEach(([e,t])=>{this._commandStack.registerHandler(e,t)})}getHandlers(){return{"formField.validation.update":Jue,"formFieldInstance.validation.update":ede}}updateFieldValidation(e,t,r){const i={field:e,value:t,indexes:r};this._commandStack.execute("formField.validation.update",i)}updateFieldInstanceValidation(e,t){const r={fieldInstance:e,value:t};this._commandStack.execute("formFieldInstance.validation.update",r)}}tde.$inject=["commandStack","eventBus"];const B8e={__depends__:[$8e],__init__:["viewerCommands"],viewerCommands:["type",tde]};var gX;function gj(){return gj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gj.apply(null,arguments)}var j8e=function(e){return St("svg",gj({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),gX||(gX=St("path",{fill:"currentColor",d:"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2zm11-7H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1m0 3H3V3h10z"})))},yX;function yj(){return yj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yj.apply(null,arguments)}var V8e=function(e){return St("svg",yj({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),yX||(yX=St("path",{fill:"currentColor",d:"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1m0 3H3v-2h10zM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5z"})))},vX,bX;function vj(){return vj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vj.apply(null,arguments)}var z8e=function(e){return St("svg",vj({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),vX||(vX=St("path",{fill:"currentColor",d:"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6m0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7"})),bX||(bX=St("path",{fill:"currentColor",d:"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12z"})))},xX;function bj(){return bj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bj.apply(null,arguments)}var H8e=function(e){return St("svg",bj({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),xX||(xX=St("path",{fill:"currentColor",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z"})))};class nde{constructor(e,t,r,i,o){this._form=e,this._formFields=t,this._formFieldRegistry=r,this._pathRegistry=i,this._eventBus=o,this.Repeater=this.Repeater.bind(this),this.RepeatFooter=this.RepeatFooter.bind(this)}isFieldRepeating(e){if(!e)return!1;const t=this._formFieldRegistry.get(e);return this._formFields.get(t.type).config.repeatable&&t.isRepeating}Repeater(e){const{RowsRenderer:t,indexes:r,useSharedState:i,...o}=e,[a]=i,{data:c}=this._form._getState(),u=e.field,h=this._pathRegistry.getValuePath(u,{indexes:r}),m=wt(c,h)||[],v=this._getNonCollapsedItems(u),k=!u.disableCollapse&&m.length>v&&a.isCollapsed,R=u.components&&u.components.length>0,T=u.allowAddRemove&&R,F=j=>{const B=m.slice(),I=B.splice(j,1)[0];this._eventBus.fire("repeatRenderManager.remove",{dataPath:h,index:j,item:I}),e.onChange({field:u,value:B,indexes:r})},$=_i(Jp);return q(Vo,{children:m.map((j,B)=>q("div",{class:er({"fjs-repeat-row-collapsed":k?B>=v:!1}),children:q(W8e,{itemIndex:B,itemValue:j,parentExpressionContextInfo:$,repeaterField:u,RowsRenderer:t,indexes:r,onDeleteItem:F,showRemove:T,...o})},B))})}RepeatFooter(e){const t=Kn(null),{useSharedState:r,indexes:i,field:o,readonly:a,disabled:c}=e,[u,h]=r,{data:m}=this._form._getState(),v=this._pathRegistry.getValuePath(o,{indexes:i}),_=wt(m,v)||[],k=this._getNonCollapsedItems(o),R=!o.disableCollapse&&_.length>k,T=R&&u.isCollapsed,F=o.components&&o.components.length>0,$=o.allowAddRemove&&F,j=()=>{h(Y=>({...Y,isCollapsed:!T}))},B=Kn(!1),I=()=>{const Y=_.slice(),oe=this._form._getInitializedFieldData(this._form._getState().data,{container:o,indexes:{...i,[o.id]:Y.length}});Y.push(oe),B.current=!0,this._eventBus.fire("repeatRenderManager.add",{dataPath:v,index:Y.length-1,item:oe}),e.onChange({value:Y}),h(ne=>({...ne,isCollapsed:!1}))};return Kje(t,[_.length],{align:"bottom",behavior:"auto",offset:20},[B]),q("div",{className:er("fjs-repeat-render-footer",{"fjs-remove-allowed":o.allowAddRemove}),children:[$?q("button",{type:"button",readOnly:a,disabled:c||a,class:"fjs-repeat-render-add",ref:t,onClick:I,children:q(Vo,{children:[q(z8e,{})," ","Add new"]})}):null,R?q("button",{type:"button",class:"fjs-repeat-render-collapse",onClick:j,children:T?q(Vo,{children:[q(j8e,{})," ",`Expand all (${_.length-1})`]}):q(Vo,{children:[q(V8e,{})," ","Collapse"]})}):null]})}_getNonCollapsedItems(e){const{nonCollapsedItems:r}=e;return r||5}}const W8e=n=>{const{itemIndex:e,itemValue:t,parentExpressionContextInfo:r,repeaterField:i,RowsRenderer:o,indexes:a,onDeleteItem:c,showRemove:u,...h}=n,m=$n(()=>({...h,indexes:{...a||{},[i.id]:e}}),[e,a,i.id,h]),v=$n(()=>({data:r.data,this:t,parent:IE({...r,data:r.this}),i:[...r.i,e+1]}),[e,r,t]);return u?q("div",{class:"fjs-repeat-row-container",children:[q("div",{class:"fjs-repeat-row-rows",children:q(Jp.Provider,{value:v,children:q(o,{...m})})}),q("button",{type:"button",class:"fjs-repeat-row-remove","aria-label":`Remove list item ${e+1}`,onClick:()=>c(e),children:q("div",{class:"fjs-repeat-row-remove-icon-container",children:q(H8e,{})})})]}):q(Jp.Provider,{value:v,children:q(o,{...m})})};nde.$inject=["form","formFields","formFieldRegistry","pathRegistry","eventBus"];const q8e={__init__:["repeatRenderManager"],repeatRenderManager:["type",nde]};var W3="__fn",rde=1e3,U8e=Array.prototype.slice;function Nu(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}Nu.prototype.on=function(n,e,t,r){if(n=fa(n)?n:[n],Ao(e)&&(r=t,t=e,e=rde),!rc(e))throw new Error("priority must be a number");var i=t;r&&(i=Oie(t,r),i[W3]=t[W3]||t);var o=this;n.forEach(function(a){o._addListener(a,{priority:e,callback:i,next:null})})};Nu.prototype.once=function(n,e,t,r){var i=this;if(Ao(e)&&(r=t,t=e,e=rde),!rc(e))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var a=t.apply(r,arguments);return i.off(n,o),a}o[W3]=t,this.on(n,e,o)};Nu.prototype.off=function(n,e){n=fa(n)?n:[n];var t=this;n.forEach(function(r){t._removeListener(r,e)})};Nu.prototype.createEvent=function(n){var e=new hT;return e.init(n),e};Nu.prototype.fire=function(n,e){var t,r,i,o;if(o=U8e.call(arguments),typeof n=="object"&&(e=n,n=e.type),!n)throw new Error("no event type specified");if(r=this._listeners[n],!!r){e instanceof hT?t=e:t=this.createEvent(e),o[0]=t;var a=t.type;n!==a&&(t.type=n);try{i=this._invokeListeners(t,o,r)}finally{n!==a&&(t.type=a)}return i===void 0&&t.defaultPrevented&&(i=!1),i}};Nu.prototype.handleError=function(n){return this.fire("error",{error:n})===!1};Nu.prototype._destroy=function(){this._listeners={}};Nu.prototype._invokeListeners=function(n,e,t){for(var r;t&&!n.cancelBubble;)r=this._invokeListener(n,e,t),t=t.next;return r};Nu.prototype._invokeListener=function(n,e,t){var r;if(t.callback.__isTomb)return r;try{r=G8e(t.callback,e),r!==void 0&&(n.returnValue=r,n.stopPropagation()),r===!1&&n.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener",i),i}return r};Nu.prototype._addListener=function(n,e){var t=this._getListeners(n),r;if(!t){this._setListeners(n,e);return}for(;t;){if(t.priority<e.priority){e.next=t,r?r.next=e:this._setListeners(n,e);return}r=t,t=t.next}r.next=e};Nu.prototype._getListeners=function(n){return this._listeners[n]};Nu.prototype._setListeners=function(n,e){this._listeners[n]=e};Nu.prototype._removeListener=function(n,e){var t=this._getListeners(n),r,i,o;if(!e){this._setListeners(n,null);return}for(;t;)r=t.next,o=t.callback,(o===e||o[W3]===e)&&(i?i.next=r:this._setListeners(n,r)),i=t,t=r};function hT(){}hT.prototype.stopPropagation=function(){this.cancelBubble=!0};hT.prototype.preventDefault=function(){this.defaultPrevented=!0};hT.prototype.init=function(n){I8(this,n||{})};function G8e(n,e){return n.apply(null,e)}const Y8e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Q8e=/(\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{4,20}$/,ide=["min","max","minLength","maxLength"];class ode{constructor(e,t,r,i){this._expressionLanguage=e,this._conditionChecker=t,this._form=r,this._formFieldRegistry=i}validateField(e,t){const{type:r,validate:i}=e;let o=[];if(r==="number"&&(o=[...o,...wX(e,t)]),!i)return o;const a=X8e(i,this._expressionLanguage,this._conditionChecker,this._form);return o=[...o,..._X(e,a,t)],o}validateFieldInstance(e,t){const{id:r,expressionContextInfo:i}=e,o=this._formFieldRegistry.get(r);if(!o)return[];const{type:a,validate:c}=o;let u=[];if(a==="number"&&(u=[...u,...wX(o,t)]),!c)return u;const h=K8e(c,this._expressionLanguage,i);return u=[...u,..._X(o,h,t)],u}}ode.$inject=["expressionLanguage","conditionChecker","form","formFieldRegistry"];function wX(n,e){const{decimalDigits:t,increment:r}=n,i=[];if(e==="NaN")i.push("Value is not a number.");else if(e&&(t>=0&&U9e(e)>t&&i.push("Value is expected to "+(t===0?"be an integer":`have at most ${t} decimal digit${t>1?"s":""}`)+"."),r)){const o=sl(e),a=sl(r),c=o.mod(a);if(c.cmp(0)!==0){const u=o.minus(c),h=u.plus(a);i.push(`Please select a valid value, the two nearest valid values are ${u} and ${h}.`)}}return i}function _X(n,e,t){const r=[];if(e.pattern&&t&&!new RegExp(e.pattern).test(t)&&r.push(`Field must match pattern ${e.pattern}.`),e.required){const i=n.type==="checkbox"&&t===!1,o=kg(t)||t==="",a=Array.isArray(t)&&t.length===0;(i||o||a)&&r.push("Field is required.")}return"min"in e&&(t||t===0)&&t<e.min&&r.push(`Field must have minimum value of ${e.min}.`),"max"in e&&(t||t===0)&&t>e.max&&r.push(`Field must have maximum value of ${e.max}.`),"minLength"in e&&t&&t.trim().length<e.minLength&&r.push(`Field must have minimum length of ${e.minLength}.`),"maxLength"in e&&t&&t.trim().length>e.maxLength&&r.push(`Field must have maximum length of ${e.maxLength}.`),"validationType"in e&&t&&e.validationType==="phone"&&!Q8e.test(t)&&r.push("Field must be a valid  international phone number. (e.g. +4930664040900)"),"validationType"in e&&t&&e.validationType==="email"&&!Y8e.test(t)&&r.push("Field must be a valid email."),r}function K8e(n,e,t){const r={...n};return ide.forEach(i=>{const o=i.split("."),a=wt(r,o),c=nV(e,a,t);Es(r,o,c===null?void 0:c)}),r}function X8e(n,e,t,r){const i={...n};return ide.forEach(o=>{const a=o.split("."),c=wt(i,a);if(!e||!e.isExpression(c))return c;const{initialData:u,data:h}=r._getState(),m=t?t.applyConditions(h,h):h,v={...u,...m},_=e.evaluate(c,v);_&&Es(i,a,_)}),i}class bV{constructor(e,t,r,i){this._formFieldRegistry=e,this._pathRegistry=t,this._fieldFactory=r,this._formLayouter=i}importSchema(e){const t=[];try{this._cleanup();const r=this.importFormField(Eu(e));return this._formLayouter.calculateLayout(Eu(r)),{schema:r,warnings:t}}catch(r){throw this._cleanup(),r.warnings=t,r}}_cleanup(){this._formLayouter.clear(),this._formFieldRegistry.clear(),this._pathRegistry.clear()}importFormField(e,t,r){const{components:i}=e;let o,a;t&&(o=this._formFieldRegistry.get(t)),a=o?[...o._path,"components",r]:[];const c=this._fieldFactory.create({...e,_path:a,_parent:t},!1);return this._formFieldRegistry.add(c),i&&(c.components=this.importFormFields(i,c.id)),c}importFormFields(e,t){return e.map((r,i)=>this.importFormField(r,t,i))}}bV.$inject=["formFieldRegistry","pathRegistry","fieldFactory","formLayouter"];class xV{constructor(e,t,r){this._formFieldRegistry=e,this._pathRegistry=t,this._formFields=r}create(e,t=!0){const{id:r,type:i,key:o,path:a,_parent:c}=e,u=this._formFields.get(i);if(!u)throw new Error(`form field of type <${i}> not supported`);const{config:h}=u;if(!h)throw new Error(`form field of type <${i}> has no config`);if(r&&this._formFieldRegistry._ids.assigned(r))throw new Error(`form field with id <${r}> already exists`);const m=c&&this._formFieldRegistry.get(c),v=m&&this._pathRegistry.getValuePath(m)||[],_=_C(c,this._formFieldRegistry);if(h.keyed&&o&&!this._pathRegistry.canClaimPath([...v,...o.split(".")],{isClosed:!0,knownAncestorIds:_}))throw new Error(`binding path '${[...v,o].join(".")}' is already claimed`);if(h.pathed&&a&&!this._pathRegistry.canClaimPath([...v,...a.split(".")],{isRepeatable:h.repeatable,knownAncestorIds:_}))throw new Error(`binding path '${[...v,...a.split(".")].join(".")}' is already claimed`);const k=h.create({...h.label?{label:h.label}:{},...e},t);return this._ensureId(k),h.keyed&&(this._ensureKey(k),this._pathRegistry.claimPath(this._pathRegistry.getValuePath(k),{isClosed:!0,claimerId:k.id,knownAncestorIds:_C(c,this._formFieldRegistry)})),h.pathed&&(h.repeatable&&this._enforceDefaultPath(k),this._pathRegistry.claimPath(this._pathRegistry.getValuePath(k),{isRepeatable:h.repeatable,claimerId:k.id,knownAncestorIds:_C(c,this._formFieldRegistry)})),k}_ensureId(e){if(e.id){this._formFieldRegistry._ids.claim(e.id,e);return}let t="Field";e.type==="default"&&(t="Form"),e.id=this._formFieldRegistry._ids.nextPrefixed(`${t}_`,e)}_ensureKey(e){e.key||(e.key=this._getUniqueKeyPath(e))}_enforceDefaultPath(e){e.path||(e.path=this._getUniqueKeyPath(e))}_getUniqueKeyPath(e){let t;const r=this._formFieldRegistry.get(e._parent);do t=Math.random().toString(36).substring(7);while(r&&r.components.some(i=>i.key===t));return`${e.type}_${t}`}}xV.$inject=["formFieldRegistry","pathRegistry","formFields"];class wV{constructor(e,t,r){this._formFieldRegistry=e,this._formFields=t,this._injector=r,this._dataPaths=[]}canClaimPath(e,t={}){const{isClosed:r=!1,isRepeatable:i=!1,skipAncestryCheck:o=!1,claimerId:a=null,knownAncestorIds:c=[]}=t;let u={children:this._dataPaths};for(const h of e){if(u=vM(u,h),!u)return!0;if(u.isRepeatable&&!o){if(!(a||c.length))throw new Error("cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds");if(!(c.includes(u.repeaterId)||a&&_C(a,this._formFieldRegistry).includes(u.repeaterId)))return!1}if(u.children===null)return!1}return!(r||i)}claimPath(e,t={}){const{isClosed:r=!1,isRepeatable:i=!1,claimerId:o=null,knownAncestorIds:a=[]}=t;if(!this.canClaimPath(e,{isClosed:r,isRepeatable:i,claimerId:o,knownAncestorIds:a}))throw new Error(`cannot claim path '${e.join(".")}'`);let c={children:this._dataPaths};for(const u of e){let h=vM(c,u);h?h.claimCount++:(h={segment:u,claimCount:1,children:[]},c.children.push(h)),c=h}r&&(c.children=null),i&&(c.isRepeatable=!0,c.repeaterId=o)}unclaimPath(e){let t={children:this._dataPaths};for(const r of e){const i=vM(t,r);if(!i)throw new Error(`no open path found for '${e.join(".")}'`);t=i}t={children:this._dataPaths};for(const r of e){const i=vM(t,r);if(i.claimCount--,i.claimCount===0){t.children.splice(t.children.indexOf(i),1);break}t=i}}executeRecursivelyOnFields(e,t,r={}){let i=!0;const o=this._formFields.get(e.type).config;if(o.keyed){const a=t({field:e,isClosed:!0,isRepeatable:!1,context:r});return i&&a}else if(o.pathed){const a=t({field:e,isClosed:!1,isRepeatable:o.repeatable,context:r});i=i&&a}if(i===!1||r.preventRecursion)return i;if(Array.isArray(e.components))for(const a of e.components){const c=this.executeRecursivelyOnFields(a,t,Eu(r));if(i=i&&c,i===!1)return i}return i}getValuePath(e,t={}){const{replacements:r={},indexes:i=null,cutoffNode:o=null}=t;let a=[];const c=Object.prototype.hasOwnProperty.call(r,e.id),u=this._formFields.get(e.type).config;if(c){const h=r[e.id];if(h==null||h==="")a=[];else if(typeof h=="string")a=h.split(".");else if(Array.isArray(h))a=h;else throw new Error(`replacements for field ${e.id} must be a string, array or null/undefined`)}else u.keyed?a=e.key.split("."):u.pathed&&e.path&&(a=e.path.split("."));if(i&&(a=this._addIndexes(a,e,i)),e._parent&&e._parent!==o){const h=this._formFieldRegistry.get(e._parent);return[...this.getValuePath(h,t)||[],...a]}return a}clear(){this._dataPaths=[]}_addIndexes(e,t,r){const i=this._injector.get("repeatRenderManager",!1);return i&&i.isFieldRepeating(t._parent)?[r[t._parent],...e]:e}}const vM=(n,e)=>fa(n.children)&&n.children.find(t=>t.segment===e)||null;wV.$inject=["formFieldRegistry","formFields","injector"];class _V{constructor(e){this._rows=[],this._ids=new Au([32,36,1]),this._eventBus=e}addRow(e,t){let r=this._rows.find(i=>i.formFieldId===e);r||(r={formFieldId:e,rows:[]},this._rows.push(r)),r.rows.push(t)}getRow(e){return EX(this._rows).find(r=>r.id===e)}getRowForField(e){return EX(this._rows).find(t=>{const{components:r}=t;return r.includes(e.id)})}getRows(e){const t=this._rows.find(r=>e===r.formFieldId);return t?t.rows:[]}nextRowId(){return this._ids.nextPrefixed("Row_")}calculateLayout(e){const{type:t,components:r}=e;if(!["default","group","dynamiclist"].includes(t)||!r)return;const i=Z8e(r,this._ids);Object.entries(i).forEach(([o,a])=>{this.addRow(e.id,{id:o,components:a.map(c=>c.id)})}),r.forEach(o=>this.calculateLayout(o)),this._eventBus.fire("form.layoutCalculated",{rows:this._rows})}clear(){this._rows=[],this._ids.clear(),this._eventBus.fire("form.layoutCleared")}}_V.$inject=["eventBus"];function Z8e(n,e){return Sie(n,t=>{const{layout:r}=t;return!r||!r.row?e.nextPrefixed("Row_"):r.row})}function EX(n){return n.map(e=>e.rows).flat()}let EV=class{constructor(e){this._eventBus=e,this._formFields={},e.on("form.clear",()=>this.clear()),this._ids=new Au([32,36,1])}add(e){const{id:t}=e;if(this._formFields[t])throw new Error(`form field with ID ${t} already exists`);this._eventBus.fire("formField.add",{formField:e}),this._formFields[t]=e}remove(e){const{id:t}=e;this._formFields[t]&&(this._eventBus.fire("formField.remove",{formField:e}),delete this._formFields[t])}get(e){return this._formFields[e]}getAll(){return Object.values(this._formFields)}getForm(){return this.getAll().find(e=>e.type==="default")}forEach(e){this.getAll().forEach(t=>e(t))}clear(){this._formFields={},this._ids.clear()}};EV.$inject=["eventBus"];class sde{constructor(e,t,r){this._eventBus=e,this._formFieldRegistry=t,this._formFields=r,this._formFieldInstances={},e.on("form.clear",()=>this.clear())}syncInstance(e,t){const{hidden:r,...i}=t,o=!r,a=this._formFieldInstances[e];return o&&!a?(this._formFieldInstances[e]={instanceId:e,...i},this._eventBus.fire("formFieldInstance.added",{instanceId:e})):!o&&a?(delete this._formFieldInstances[e],this._eventBus.fire("formFieldInstance.removed",{instanceId:e})):o&&a&&Object.keys(i).some(u=>this._formFieldInstances[e][u]!==i[u])&&(this._formFieldInstances[e]={instanceId:e,...i},this._eventBus.fire("formFieldInstance.changed",{instanceId:e})),e}cleanupInstance(e){this._formFieldInstances[e]&&(delete this._formFieldInstances[e],this._eventBus.fire("formFieldInstance.removed",{instanceId:e}))}get(e){return this._formFieldInstances[e]}getAll(){return Object.values(this._formFieldInstances)}getAllKeyed(){return this.getAll().filter(({id:e})=>{const t=this._formFieldRegistry.get(e);if(!t)return!1;const{type:r}=t,{config:i}=this._formFields.get(r);return i.keyed})}clear(){this._formFieldInstances={}}}sde.$inject=["eventBus","formFieldRegistry","formFields"];function ade(n,e,t,r){const i=()=>{const[a,c]=hn(t._getState()),u={getService(T,F=!0){return r.get(T,F)},formId:t._id};e.on("changed",T=>{c(T)});const h=qn(T=>t._update(T),[]),{properties:m}=a,{readOnly:v}=m,_=qn(()=>{v||t.submit()},[v]),k=qn(()=>t.reset(),[]),{schema:R}=a;return R?q(NE.Provider,{value:u,children:q(Yue,{onChange:h,onSubmit:_,onReset:k})}):null},{container:o}=n;e.on("form.init",()=>{bg(q(i,{}),o)}),e.on("form.destroy",()=>{bg(null,o)})}ade.$inject=["config.renderer","eventBus","form","injector"];const xj=n=>{const e=[];return n===null||Object.values(n).forEach(t=>{t!==null&&(typeof t=="object"?e.push(...xj(t)):Array.isArray(t)?e.push(...t.map(xj).flat()):typeof t=="string"&&t.startsWith(que)&&e.push(t))}),e},Ry=Symbol("fileRegistry"),J8e=Symbol("eventBus"),e7e=Symbol("formFieldRegistry"),t7e=Symbol("formFieldInstanceRegistry"),n7e=[];class lde{constructor(e,t,r){this[Ry]=new Map,this[J8e]=e,this[e7e]=t,this[t7e]=r;const i=({item:o})=>{xj(o).forEach(c=>{this.deleteFiles(c)})};e.on("form.clear",()=>this.clear()),e.on("conditionChecker.remove",i),e.on("repeatRenderManager.remove",i)}setFiles(e,t){this[Ry].set(e,t)}getFiles(e){return this[Ry].get(e)||n7e}getKeys(){return Array.from(this[Ry].keys())}hasKey(e){return this[Ry].has(e)}deleteFiles(e){this[Ry].delete(e)}getAllFiles(){return new Map(this[Ry])}clear(){this[Ry].clear()}}lde.$inject=["eventBus","formFieldRegistry","formFieldInstanceRegistry"];const r7e={__init__:["formFields","renderer"],formFields:["type",vV],renderer:["type",ade],fileRegistry:["type",lde]},i7e={__depends__:[r7e],eventBus:["type",Nu],importer:["type",bV],fieldFactory:["type",xV],formFieldRegistry:["type",EV],formFieldInstanceRegistry:["type",sde],pathRegistry:["type",wV],formLayouter:["type",_V],validator:["type",ode]},o7e=new Au([32,36,1]);class s7e{constructor(e={}){this.on=this._onEvent,this._id=o7e.next(),this._container=Qce();const{container:t,injector:r=this._createInjector(e,this._container),properties:i={}}=e;this._state={initialData:null,data:null,properties:i,errors:{},schema:null},this.get=r.get,this.invoke=r.invoke,this.get("eventBus").fire("form.init"),t&&this.attachTo(t)}clear(){this._emit("diagram.clear"),this._emit("form.clear")}destroy(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}importSchema(e,t={}){return new Promise((r,i)=>{try{this.clear();const{schema:o,warnings:a}=this.get("importer").importSchema(e),c=this._getInitializedFieldData(Eu(t));return this._setState({data:c,errors:{},schema:o,initialData:Eu(c)}),this._emit("import.done",{warnings:a}),r({warnings:a})}catch(o){return this._emit("import.done",{error:o,warnings:o.warnings||[]}),i(o)}})}submit(){const{properties:e}=this._getState();if(e.readOnly||e.disabled)throw new Error("form is read-only");this._emit("presubmit");const t=this._getSubmitData(),r=this.validate(),i=this.get("fileRegistry").getAllFiles(),o={data:t,errors:r,files:i};return this._emit("submit",o),o}reset(){this._emit("reset"),this._setState({data:Eu(this._state.initialData),errors:{}})}validate(){const e=this.get("formFieldRegistry"),t=this.get("formFieldInstanceRegistry"),r=this.get("validator"),{data:i}=this._getState(),o={},a=(c,u)=>[c,...Object.values(u||{})];return t.getAllKeyed().forEach(c=>{const{id:u,valuePath:h,indexes:m}=c,v=e.get(u);if(v.disabled)return;const _=wt(i,h),k=r.validateFieldInstance(c,_);k.length&&Es(o,a(v.id,m),k)}),this._setState({errors:o}),o}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),Zo(e)&&(e=document.querySelector(e));const t=this._container;e.appendChild(t),this._emit("attach")}detach(){this._detach()}_detach(e=!0){const t=this._container,r=t.parentNode;r&&(e&&this._emit("detach"),r.removeChild(t))}setProperty(e,t){const r=Es(this._getState().properties,[e],t);this._setState({properties:r})}off(e,t){this.get("eventBus").off(e,t)}_createInjector(e,t){const{modules:r=this._getModules(),additionalModules:i=[],...o}=e,a={...o,renderer:{container:t}};return Yce([{config:["value",a]},{form:["value",this]},i7e,...r,...i])}_emit(e,t){this.get("eventBus").fire(e,t)}_update(e){const{fieldInstance:t,value:r}=e,{id:i,valuePath:o,indexes:a}=t,{data:c,errors:u}=this._getState(),m=this.get("validator").validateFieldInstance(t,r);Es(c,o,r),Es(u,[i,...Object.values(a||{})],m.length?m:void 0),this._emit("field.updated",e),this._setState({data:Eu(c),errors:Eu(u)})}_getState(){return this._state}_setState(e){this._state={...this._state,...e},this._emit("changed",this._getState())}_getModules(){return[L8e,F8e,Zue,B8e,q8e]}_onEvent(e,t,r){this.get("eventBus").on(e,t,r)}_getSubmitData(){const e=this.get("formFieldRegistry"),t=this.get("formFieldInstanceRegistry"),r=this._getState().data,i={};return t.getAllKeyed().forEach(o=>{const{id:a,valuePath:c}=o,{disabled:u}=e.get(a);if(u)return;const h=wt(r,c);Es(i,c,h)}),i}_getInitializedFieldData(e,t={}){const r=this.get("formFieldRegistry"),i=this.get("formFields"),o=this.get("pathRegistry");function a(_,k,R){const{defaultValue:T,type:F,isRepeating:$}=k,{config:j}=i.get(F),B=o.getValuePath(k,{indexes:R});let I=wt(e,B);if(j.keyed){!ph(I)&&j.sanitizeValue&&(I=j.sanitizeValue({formField:k,data:e,value:I}));const Y=ph(I)?ph(T)?j.emptyValue:T:I;Es(_,B,Y)}if(Array.isArray(k.components)){if(j.repeatable&&$){if((!I||!Array.isArray(I))&&(I=new Array(ph(k.defaultRepetitions)?1:k.defaultRepetitions).fill().map(Y=>({}))||[]),I=I.map(Y=>_f(Y)?Y:{}),Es(_,B,I),!ph(R[k.id])){k.components.forEach(Y=>a(_,Y,{...R}));return}I.forEach((Y,oe)=>{k.components.forEach(ne=>a(_,ne,{...R,[k.id]:oe}))});return}k.components.forEach(Y=>a(_,Y,R))}}const c=t.container||r.getForm(),u=t.indexes||{},h=o.getValuePath(c,{indexes:u})||[],m=ph(u[c.id])?h:[...h,u[c.id]],v=Eu(e);return a(v,c,u),wt(v,m,{})}}const a7e=18;function l7e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var c7e=function(n,e){return Array.prototype.slice.call(n,e)},u7e=typeof setImmediate=="function",wj;u7e?wj=function(n){setImmediate(n)}:wj=function(n){setTimeout(n,0)};var d7e=wj,f7e=d7e,h7e=function(n,e,t){n&&f7e(function(){n.apply(t||null,e||[])})},SX=c7e,p7e=h7e,m7e=function(n,e){var t=e||{},r={};return n===void 0&&(n={}),n.on=function(i,o){return r[i]?r[i].push(o):r[i]=[o],n},n.once=function(i,o){return o._once=!0,n.on(i,o),n},n.off=function(i,o){var a=arguments.length;if(a===1)delete r[i];else if(a===0)r={};else{var c=r[i];if(!c)return n;c.splice(c.indexOf(o),1)}return n},n.emit=function(){var i=SX(arguments);return n.emitterSnapshot(i.shift()).apply(this,i)},n.emitterSnapshot=function(i){var o=(r[i]||[]).slice(0);return function(){var a=SX(arguments),c=this||n;if(i==="error"&&t.throws!==!1&&!o.length)throw a.length===1?a[0]:a;return o.forEach(function(u){t.async?p7e(u,a,c):u.apply(c,a),u._once&&n.off(i,u)}),n}},n};const g7e=l7e(m7e),kX={},y7e="(?:^|\\s)",v7e="(?:\\s|$)";function cde(n){let e=kX[n];return e?e.lastIndex=0:kX[n]=e=new RegExp(y7e+n+v7e,"g"),e}function bM(n,e){const t=n.className;t.length?cde(e).test(t)||(n.className+=" "+e):n.className=e}function xM(n,e){n.className=n.className.replace(cde(e)," ").trim()}const b7e=(n,e)=>({containers:e,moves:()=>!0,accepts:()=>!0,invalid:()=>!1,isContainer:()=>!1,transformOffset:t=>t,copy:!1,copySortSource:!1,revertOnSpill:!1,removeOnSpill:!1,direction:"vertical",ignoreInputTextSelection:!0,mirrorContainer:document.body,...n});function CX(n){if(n.touches!==void 0)return n.touches.length;if(n.which!==void 0&&n.which!==0)return n.which;if(n.buttons!==void 0)return n.buttons;const e=n.button;if(e!==void 0)return e&1?1:e&2?3:e&4?2:0}const x7e=n=>{const e=n.getBoundingClientRect();return{left:e.left+OX("scrollLeft","pageXOffset"),top:e.top+OX("scrollTop","pageYOffset")}},OX=(n,e)=>typeof global[e]<"u"?global[e]:document.documentElement.clientHeight?document.documentElement[n]:document.body[n],TX=(n={},e,t)=>{const r=n.className||"";n.className+=" gu-hide";const i=document.elementFromPoint(e,t);return n.className=r,i},AX=n=>n.width||n.right-n.left,RX=n=>n.height||n.bottom-n.top,pu=n=>n.parentNode===document?null:n.parentNode,PX=n=>["INPUT","TEXTAREA","SELECT"].includes(n.tagName)||ude(n),ude=n=>!n||n.contentEditable==="false"?!1:n.contentEditable==="true"?!0:ude(pu(n)),R2=n=>{const e=()=>{let t=n;do t=t.nextSibling;while(t&&t.nodeType!==1);return t};return n.nextElementSibling||e()};window.global||(window.global=window);const dde=document,y1=dde.documentElement;function w7e(n=[],e={}){Array.isArray(n)||(e=n,n=[]);let t,r,i,o,a,c,u,h,m,v,_,k,R;const T=b7e(e,n),F=g7e({containers:T.containers,start:Ee,end:Ce,cancel:De,remove:dt,destroy:Y,canMove:Me,dragging:!1});return T.removeOnSpill&&F.on("over",ve).on("out",vt),j(),F;function $(ot){return F.containers.indexOf(ot)!==-1||T.isContainer(ot)}function j(ot){const Ht=ot?"removeEventListener":"addEventListener";y1[Ht]("pointerdown",ne,!0),y1[Ht]("pointerup",Fe,!0)}function B(ot){y1[ot?"removeEventListener":"addEventListener"]("pointermove",ae,!0)}function I(ot){y1[ot?"removeEventListener":"addEventListener"]("click",oe,!0)}function Y(){j(!0),Fe({})}function oe(ot){R&&ot.preventDefault()}function ne(ot){if(c=ot.clientX,u=ot.clientY,CX(ot)!==1||ot.metaKey||ot.ctrlKey)return;const Ht=ot.target,Vt=Te(Ht);Vt&&(R=Vt,B(),ot.type==="pointerdown"&&(PX(Ht)?Ht.focus():ot.preventDefault()))}function ae(ot){if(!R)return;if(CX(ot)===0){Fe({});return}if(ot.clientX!==void 0&&Math.abs(ot.clientX-c)<=(T.slideFactorX||0)&&ot.clientY!==void 0&&Math.abs(ot.clientY-u)<=(T.slideFactorY||0))return;if(T.ignoreInputTextSelection){const{clientX:nr=0,clientY:rr=0}=ot,Re=dde.elementFromPoint(nr,rr);if(PX(Re))return}const Ht=R;B(!0),I(),Ce(),we(Ht);const Vt=x7e(i),mn=T.transformOffset(Vt,ot,i),{pageX:En=0,pageY:bn=0}=ot;o=En-mn.left,a=bn-mn.top,bM(v||i,"gu-transit"),gt(),rt(ot)}function Te(ot){if(F.dragging&&t||$(ot))return;const Ht=ot;for(;pu(ot)&&$(pu(ot))===!1;)if(T.invalid(ot,Ht)||(ot=pu(ot),!ot))return;const Vt=pu(ot);if(!(!Vt||T.invalid(ot,Ht)||!T.moves(ot,Vt,Ht,R2(ot))))return{item:ot,source:Vt}}function Me(ot){return!!Te(ot)}function Ee(ot){const Ht=Te(ot);Ht&&we(Ht)}function we(ot){lr(ot.item,ot.source)&&(v=ot.item.cloneNode(!0),F.emit("cloned",v,ot.item,"copy")),r=ot.source,i=ot.item,h=m=R2(ot.item),F.dragging=!0,F.emit("drag",i,r)}function Ce(){if(!F.dragging)return;const ot=v||i;ze(ot,pu(ot))}function Oe(){R=!1,B(!0),I(!0)}function Fe(ot){if(Oe(),!F.dragging)return;const Ht=v||i,{clientX:Vt=0,clientY:mn=0}=ot,En=TX(t,Vt,mn),bn=Ye(En,Vt,mn);bn&&(v&&T.copySortSource||!v||bn!==r)?ze(Ht,bn):T.removeOnSpill?dt():De()}function ze(ot,Ht){const Vt=pu(ot);v&&T.copySortSource&&Ht===r&&Vt.removeChild(i),bt(Ht)?F.emit("cancel",ot,r,r):F.emit("drop",ot,Ht,r,m),Ze()}function dt(){if(!F.dragging)return;const ot=v||i,Ht=pu(ot);Ht&&Ht.removeChild(ot),F.emit(v?"cancel":"remove",ot,Ht,r),Ze()}function De(ot){if(!F.dragging)return;const Ht=arguments.length>0?ot:T.revertOnSpill,Vt=v||i,mn=pu(Vt),En=bt(mn);En===!1&&Ht&&(v?mn&&mn.removeChild(v):r.insertBefore(Vt,h)),En||Ht?F.emit("cancel",Vt,r,r):F.emit("drop",Vt,mn,r,m),Ze()}function Ze(){const ot=v||i;Oe(),Tt(),ot&&xM(ot,"gu-transit"),_&&clearTimeout(_),F.dragging=!1,k&&F.emit("out",ot,k,r),F.emit("dragend",ot),r=i=v=h=m=_=k=null}function bt(ot,Ht){let Vt;return Ht!==void 0?Vt=Ht:t?Vt=m:Vt=R2(v||i),ot===r&&Vt===h}function Ye(ot,Ht,Vt){let mn=ot;for(;mn&&!En();)mn=pu(mn);return mn;function En(){if($(mn)===!1)return!1;const bn=Zt(mn,ot),nr=pn(mn,bn,Ht,Vt);return bt(mn,nr)?!0:T.accepts(i,mn,r,nr)}}function rt(ot){if(!t)return;ot.preventDefault();const{clientX:Ht=0,clientY:Vt=0}=ot,mn=Ht-o,En=Vt-a;t.style.left=mn+"px",t.style.top=En+"px";const bn=v||i,nr=TX(t,Ht,Vt);let rr=Ye(nr,Ht,Vt);const Re=rr!==null&&rr!==k;(Re||rr===null)&&(vn(),k=rr,At());const We=pu(bn);if(rr===r&&v&&!T.copySortSource){We&&We.removeChild(bn);return}let Je;const Nt=Zt(rr,nr);if(Nt!==null)Je=pn(rr,Nt,Ht,Vt);else if(T.revertOnSpill===!0&&!v)Je=h,rr=r;else{v&&We&&We.removeChild(bn);return}(Je===null&&Re||Je!==bn&&Je!==R2(bn))&&(m=Je,rr.insertBefore(bn,Je),F.emit("shadow",bn,rr,r));function Bt(Nn){F.emit(Nn,bn,k,r)}function At(){Re&&Bt("over")}function vn(){k&&Bt("out")}}function ve(ot){xM(ot,"gu-hide")}function vt(ot){F.dragging&&bM(ot,"gu-hide")}function gt(){if(t)return;const ot=i.getBoundingClientRect();t=i.cloneNode(!0),t.style.width=AX(ot)+"px",t.style.height=RX(ot)+"px",xM(t,"gu-transit"),bM(t,"gu-mirror"),T.mirrorContainer.appendChild(t),y1.addEventListener("pointermove",rt),bM(T.mirrorContainer,"gu-unselectable"),F.emit("cloned",t,i,"mirror")}function Tt(){t&&(xM(T.mirrorContainer,"gu-unselectable"),y1.removeEventListener("pointermove",rt),pu(t).removeChild(t),t=null)}function Zt(ot,Ht){let Vt=Ht;for(;Vt!==ot&&pu(Vt)!==ot;)Vt=pu(Vt);return Vt===y1?null:Vt}function pn(ot,Ht,Vt,mn){const En=(typeof T.direction=="function"?T.direction(i,ot,r):T.direction)==="horizontal";return Ht!==ot?nr():bn();function bn(){const Re=ot.children.length;let We,Je,Nt;for(We=0;We<Re;We++)if(Je=ot.children[We],Nt=Je.getBoundingClientRect(),En&&Nt.left+Nt.width/2>Vt||!En&&Nt.top+Nt.height/2>mn)return Je;return null}function nr(){const Re=Ht.getBoundingClientRect();return rr(En?Vt>Re.left+AX(Re)/2:mn>Re.top+RX(Re)/2)}function rr(Re){return Re?R2(Ht):Ht}}function lr(ot,Ht){return typeof T.copy=="boolean"?T.copy:T.copy(ot,Ht)}}function _7e(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}const E7e=Object.prototype.toString;function C5(n){return new zv(n)}function zv(n){if(!n||!n.nodeType)throw new Error("A DOM element reference is required");this.el=n,this.list=n.classList}zv.prototype.add=function(n){return this.list.add(n),this};zv.prototype.remove=function(n){return E7e.call(n)=="[object RegExp]"?this.removeMatching(n):(this.list.remove(n),this)};zv.prototype.removeMatching=function(n){const e=this.array();for(let t=0;t<e.length;t++)n.test(e[t])&&this.remove(e[t]);return this};zv.prototype.toggle=function(n,e){return typeof e<"u"?e!==this.list.toggle(n,e)&&this.list.toggle(n):this.list.toggle(n),this};zv.prototype.array=function(){return Array.from(this.list)};zv.prototype.has=zv.prototype.contains=function(n){return this.list.contains(n)};var q3={},U3,_j,SV;function fde(){U3=window.addEventListener?"addEventListener":"attachEvent",_j=window.removeEventListener?"removeEventListener":"detachEvent",SV=U3!=="addEventListener"?"on":""}var S7e=q3.bind=function(n,e,t,r){return U3||fde(),n[U3](SV+e,t,r||!1),t},k7e=q3.unbind=function(n,e,t,r){return _j||fde(),n[_j](SV+e,t,r||!1),t},G3=_7e({__proto__:null,bind:S7e,unbind:k7e,default:q3},[q3]),C7e=O7e,hde=!1,wM;typeof document<"u"&&(wM=document.createElement("div"),wM.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',hde=!wM.getElementsByTagName("link").length,wM=void 0);var la={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:hde?[1,"X<div>","</div>"]:[0,"",""]};la.td=la.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];la.option=la.optgroup=[1,'<select multiple="multiple">',"</select>"];la.thead=la.tbody=la.colgroup=la.caption=la.tfoot=[1,"<table>","</table>"];la.polyline=la.ellipse=la.polygon=la.circle=la.text=la.line=la.path=la.rect=la.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function O7e(n,e){if(typeof n!="string")throw new TypeError("String expected");e||(e=document);var t=/<([\w:]+)/.exec(n);if(!t)return e.createTextNode(n);n=n.replace(/^\s+|\s+$/g,"");var r=t[1];if(r=="body"){var u=e.createElement("html");return u.innerHTML=n,u.removeChild(u.lastChild)}var i=Object.prototype.hasOwnProperty.call(la,r)?la[r]:la._default,o=i[0],a=i[1],c=i[2],u=e.createElement("div");for(u.innerHTML=a+n+c;o--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var h=e.createDocumentFragment();u.firstChild;)h.appendChild(u.removeChild(u.firstChild));return h}var kV=C7e;function _g(n,e){return e=e||document,e.querySelector(n)}function T7e(n,e,t){const r=e<0?n.length+e:e;if(r>=0&&r<n.length){const i=t<0?n.length+t:t,[o]=n.splice(e,1);n.splice(i,0,o)}}const pde=[_p("function(${params}) ${body}",{label:"function",detail:"definition",type:"keyword"}),_p("for ${var} in ${collection} return ${value}",{label:"for",detail:"expression",type:"keyword"}),_p("every ${var} in ${collection} satisfies ${condition}",{label:"every",detail:"quantified expression",type:"keyword"}),_p("some ${var} in ${collection} satisfies ${condition}",{label:"some",detail:"quantified expression",type:"keyword"}),_p("if ${condition} then ${value} else ${other value}",{label:"if",detail:"block",type:"keyword"}),_p("{ ${key}: ${value} }",{label:"context",detail:"block",type:"keyword"}),_p("null",{label:"null",detail:"literal",type:"keyword"}),_p("true",{label:"true",detail:"literal",type:"keyword"}),_p("false",{label:"false",detail:"literal",type:"keyword"})];function Ej(){return Ej=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ej.apply(this,arguments)}function P2(n){const{context:e,after:t,before:r,keyword:i}=n;return M7e({nodes:e,before:r,after:t,keyword:i},O7([{label:i,type:"keyword",boost:10}]))}const mde=[P2({context:"InExpression",keyword:"in"}),P2({context:"IfExpression",keyword:"then",after:"if",before:"else"}),P2({context:"IfExpression",keyword:"else",after:"then"}),P2({context:"QuantifiedExpression",keyword:"satisfies"}),P2({context:"ForExpression",after:"InExpressions",keyword:"return"})],MX=["StringLiteral","Identifier","LineComment","BlockComment","PathExpression","Context","Key","ParameterName"],A7e=["Expr","ContextEntry"];function R7e(n){const e=[...MX,...A7e];return t=>{const{state:r,pos:i}=t,o=vde(Ga(r).resolveInner(i,-1),e);if(o){const[a,c]=o;if(MX.includes(c))return null}return n(t)}}function gde(n){return R7e(O7(n.map(e=>Ej({},e,{type:"text"}))))}function DX(n,e,t){return yde(n,e,t,-1)}function P7e(n,e,t){return yde(n,e,t,1)}function yde(n,e,t,r){let i=n[r>0?"childAfter":"childBefore"](e);for(;i;){if(t.includes(i.name))return i;if(i.type.isError&&i.firstChild&&t.includes(i.firstChild.name))return i.firstChild;i=i[r>0?"nextSibling":"prevSibling"]}return null}function vde(n,e){for(Array.isArray(e)||(e=[e]);n;n=n.parent){const t=n.type,r=e.find(i=>i&&t.is(i));if(r)return[n,r];if(t.isTop)break}return null}function M7e(n,e){const{nodes:t,before:r,after:i,keyword:o}=n;return a=>{const{state:c,pos:u}=a,h=vde(Ga(c).resolveInner(u,-1),t);if(!h)return null;const[m]=h;return DX(m,u,[o,r])||P7e(m,u,[o,i])||i&&!DX(m,u,[i])?null:e(a)}}const bde=EO.define({parser:TE.configure({props:[ule.add({Context:DQ({closing:"}"}),"List FilterExpression":DQ({closing:"]"}),"ParenthesizedExpression FunctionInvocation":fF({except:/^\s*\)/}),"ForExpression QuantifiedExpression IfExpression":fF({except:/^\s*(then|else|return|satisfies)\b/}),FunctionDefinition:fF({except:/^\s*(\(|\))/})}),ple.add({Context:yC,List:yC,ParenthesizedExpression:yC,FunctionDefinition(n){const e=n.getChild(")");return e?{from:e.to,to:n.to}:null}})]}),languageData:{indentOnInput:/^\s*(\)|\}|\]|then|else|return|satisfies)$/,commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),D7e=bde.configure({top:"UnaryTests"},"FEEL unary tests"),N7e=bde.configure({top:"Expression"},"FEEL expression");function I7e(n={}){const e=n.dialect==="unaryTests"?D7e:N7e,t=n.parserDialect,r=OE(n.context),i=e.configure({contextTracker:r,dialect:t}),o=n.completions||[gde(pde),mde].flat();return new cle(i,[...o.map(a=>i.data.of({autocomplete:a}))])}var L7e=[rce(Rce())];const F7e=On.theme({"& .cm-content":{padding:"0px"},"& .cm-line":{padding:"0px"},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-completionInfo":{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},"&.cm-editor":{height:"100%"},"& .cm-completionInfo > *":{whiteSpace:"normal"},"& .cm-completionInfo ul":{margin:0,paddingLeft:"15px"},"& .cm-completionInfo pre":{marginBottom:0,whiteSpace:"pre-wrap"},"& .cm-completionInfo p":{marginTop:0},"& .cm-completionInfo p:not(:last-of-type)":{marginBottom:0}}),$7e=On.baseTheme({"& .variableName":{color:"#10f"},"& .number":{color:"#164"},"& .string":{color:"#a11"},"& .bool":{color:"#219"},"& .function":{color:"#aa3731",fontWeight:"bold"},"& .control":{color:"#708"}}),B7e=p5(Qv.define([{tag:Se.variableName,class:"variableName"},{tag:Se.name,class:"variableName"},{tag:Se.number,class:"number"},{tag:Se.string,class:"string"},{tag:Se.bool,class:"bool"},{tag:Se.function(Se.variableName),class:"function"},{tag:Se.function(Se.special(Se.variableName)),class:"function"},{tag:Se.controlKeyword,class:"control"},{tag:Se.operatorKeyword,class:"control"}]));var j7e=[F7e,$7e,B7e];function NX(n){return n&&n.from===n.to}function V7e(n,e){const t=n.nextSibling;return NX(n)||t&&t.from===e&&NX(t)}function z7e(n){return n&&n.parent&&n.parent.name==="VariableName"}function CV(n){return n?n.name==="PathExpression"?!0:CV(n.parent):!1}function H7e({variables:n}){return e=>{const t=Ga(e.state).resolve(e.pos,-1);if(!CV(t))return;const r=W7e(t),i=t===r?e.pos:t.from,o=OV(r,e);let a=n;for(var c=0;c<o.length-1;c++){var u=a.find(m=>m.name===o[c].name);if(!u)return null;if(u.isList!=="optional"&&!!u.isList!==o[c].isList)return;a=u.entries}return a?(a=a.map(m=>({label:m.name,type:"variable",info:m.info,detail:m.detail})),{from:i,options:a}):void 0}}function W7e(n){for(;n;){if(n.name==="PathExpression")return n;n=n.parent}}function OV(n,e){let t=[];for(let r=n.firstChild;r;r=r.nextSibling)r.name==="PathExpression"?t.push(...OV(r,e)):r.name==="FilterExpression"?t.push(...q7e(r,e)):t.push({name:xde(r,e),isList:!1});return t}function q7e(n,e){const t=n.firstChild;if(t.name==="PathExpression"){const r=OV(t,e),i=r[r.length-1];return i.isList=!0,r}return[{name:xde(t,e),isList:!0}]}function xde(n,e){return e.state.sliceDoc(n.from,n.to)}function U7e({variables:n=[],builtins:e=[]}){const t=G7e(n,e);return t.length?r=>{const{pos:i,state:o}=r,a=Ga(o).resolve(i,-1);return V7e(a,i)?r.explicit?{from:i,options:t}:null:!z7e(a)||CV(a)?null:{from:a.from,options:t}}:r=>null}function G7e(n,e){return[].concat(n.map(t=>IX(t)),e.map(t=>IX(t)))}function IX(n,e){return n.type==="function"?Y7e(n,e):{label:n.name,type:"variable",info:n.info,detail:n.detail,boost:e}}function Y7e(n,e){const{name:t,info:r,detail:i,params:o=[]}=n,a=o.map(({name:m,type:v},_)=>({name:m||`param ${_+1}`,type:v})),c=`${t}(${a.map(m=>"${"+m.name+"}").join(", ")})`,u=a.map(({name:m,type:v})=>v?`${m}: ${v}`:m).join(", "),h=`${t}(${u})`;return _p(c,{label:h,type:"function",info:r,detail:i,boost:e})}function Q7e({variables:n=[],builtins:e=[]}){return[H7e({variables:n}),U7e({variables:n,builtins:e}),gde(pde.map(t=>({...t,boost:-1}))),...mde]}function K7e(n){return I7e(n)}function X7e(n){return n.slice().reverse().reduce((e,t)=>(e[t.name]=()=>{},e),{})}const wde=Vn.define(),_de=Vn.define(),Ede=Vn.define(),Sde=Vn.define();function kde({dialect:n="expression",parserDialect:e,variables:t=[],builtins:r=[],completions:i=Q7e({builtins:r,variables:t})}){const o=X7e([...t,...r]);return[Ede.of(n),wde.of(r),_de.of(t),Sde.of(e),K7e({dialect:n,parserDialect:e,context:o,completions:i})]}function Z7e(n){const e=n.facet(wde)[0],t=n.facet(_de)[0],r=n.facet(Ede)[0],i=n.facet(Sde)[0];return{builtins:e,variables:t,dialect:r,parserDialect:i}}var J7e=[{name:"not(negand)",description:`<p>Returns the logical negation of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">not(negand: boolean): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">not(true)
// false

not(null)
// null
</code></pre>
`},{name:"is defined(value)",description:`<p><em>Camunda Extension</em></p>
<p>Checks if a given value is not <code>null</code>. If the value is <code>null</code> then the function returns <code>false</code>.
Otherwise, the function returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is defined(value: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is defined(1)
// true

is defined(null)
// false

is defined(x)
// false - if no variable &quot;x&quot; exists

is defined(x.y)
// false - if no variable &quot;x&quot; exists or it doesn&#39;t have a property &quot;y&quot;
</code></pre>
<p>:::caution Breaking change</p>
<p>This function worked differently in previous versions. It returned <code>true</code> if the value was <code>null</code>.
Since this version, the function returns <code>false</code> if the value is <code>null</code>.</p>
<p>:::</p>
`},{name:"get or else(value, default)",description:`<p><em>Camunda Extension</em></p>
<p>Return the provided value parameter if not <code>null</code>, otherwise return the default parameter</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get or else(value: Any, default: Any): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get or else(&quot;this&quot;, &quot;default&quot;)
// &quot;this&quot;

get or else(null, &quot;default&quot;)
// &quot;default&quot;

get or else(null, null)
// null
</code></pre>
`},{name:"assert(value, condition)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null)
// &quot;value&quot; - if x is &quot;value&quot;
// error - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0)
// 4 - if x is 4
// error - if x is less than zero
</code></pre>
`},{name:"assert(value, condition, cause)",description:`<p><em>Camunda Extension</em></p>
<p>Verify that the given condition is met. If the condition is <code>true</code>, the function returns the value.
Otherwise, the evaluation fails with an error containing the given message.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">assert(value: Any, condition: Any, cause: String)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">assert(x, x != null, &quot;&#39;x&#39; should not be null&quot;)
// &quot;value&quot; - if x is &quot;value&quot;
// error(&#39;x&#39; should not be null) - if x is null or doesn&#39;t exist

assert(x, x &gt;= 0, &quot;&#39;x&#39; should be positive&quot;)
// 4 - if x is 4
// error(&#39;x&#39; should be positive) - if x is less than zero
</code></pre>
`},{name:"get value(context, key)",description:`<p>Returns the value of the context entry with the given key.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, key: string): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({foo: 123}, &quot;foo&quot;)
// 123

get value({a: 1}, &quot;b&quot;)
// null
</code></pre>
`},{name:"get value(context, keys)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the value of the context entry for a context path defined by the given keys.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it returns the value at the nested entry <code>k1.k2</code> of the context.</p>
<p>If <code>keys</code> are empty or the nested entry defined by the keys doesn&#39;t exist in the context, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get value(context: context, keys: list&lt;string&gt;): Any
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get value({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;])
// 0

get value({x: {y: {z:0}}}, [&quot;x&quot;, &quot;y&quot;])
// {z:0}

get value({a: {b: 3}}, [&quot;b&quot;])
// null
</code></pre>
`},{name:"get entries(context)",description:`<p>Returns the entries of the context as a list of key-value-pairs.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">get entries(context: context): list&lt;context&gt;
</code></pre>
<p>The return value is a list of contexts. Each context contains two entries for &quot;key&quot; and &quot;value&quot;.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">get entries({foo: 123})
// [{key: &quot;foo&quot;, value: 123}]
</code></pre>
`},{name:"context put(context, key, value)",description:`<p>Adds a new entry with the given key and value to the context. Returns a new context that includes the entry.</p>
<p>If an entry for the same key already exists in the context, it overrides the value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, key: string, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, &quot;y&quot;, 2)
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context put()</code> replaced the previous function <code>put()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"context put(context, keys, value)",description:`<p>Adds a new entry with the given value to the context. The path of the entry is defined by the keys. Returns a new context that includes the entry.</p>
<p>If <code>keys</code> contains the keys <code>[k1, k2]</code> then it adds the nested entry <code>k1.k2 = value</code> to the context.</p>
<p>If an entry for the same keys already exists in the context, it overrides the value.</p>
<p>If <code>keys</code> are empty, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context put(context: context, keys: list&lt;string&gt;, value: Any): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context put({x:1}, [&quot;y&quot;], 2)
// {x:1, y:2}

context put({x:1, y: {z:0}}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}

context put({x:1}, [&quot;y&quot;, &quot;z&quot;], 2)
// {x:1, y: {z:2}}
</code></pre>
`},{name:"context merge(contexts)",description:`<p>Union the given contexts. Returns a new context that includes all entries of the given contexts.</p>
<p>If an entry for the same key already exists in a context, it overrides the value. The entries are overridden in the same order as in the list of contexts.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context merge(contexts: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context merge([{x:1}, {y:2}])
// {x:1, y:2}

context merge([{x:1, y: 0}, {y:2}])
// {x:1, y:2}
</code></pre>
<p>:::info
The function <code>context merge()</code> replaced the previous function <code>put all()</code> (Camunda Extension). The
previous function is deprecated and should not be used anymore.
:::</p>
`},{name:"string(from)",description:`<p>Returns the given value as a string representation.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string(from: Any): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string(1.1)
// &quot;1.1&quot;

string(date(&quot;2012-12-25&quot;))
// &quot;2012-12-25&quot;
</code></pre>
`},{name:"number(from)",description:`<p>Parses the given string to a number.</p>
<p>Returns <code>null</code> if the string is not a number.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">number(from: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">number(&quot;1500.5&quot;)
// 1500.5
</code></pre>
`},{name:"context(entries)",description:`<p>Constructs a context of the given list of key-value pairs. It is the reverse function to <a href="feel-built-in-functions-context.md#get-entriescontext">get entries()</a>.</p>
<p>Each key-value pair must be a context with two entries: <code>key</code> and <code>value</code>. The entry with name <code>key</code> must have a value of the type <code>string</code>.</p>
<p>It might override context entries if the keys are equal. The entries are overridden in the same order as the contexts in the given list.</p>
<p>Returns <code>null</code> if one of the entries is not a context or if a context doesn&#39;t contain the required entries.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">context(entries: list&lt;context&gt;): context
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">context([{&quot;key&quot;:&quot;a&quot;, &quot;value&quot;:1}, {&quot;key&quot;:&quot;b&quot;, &quot;value&quot;:2}])
// {a:1, b:2}
</code></pre>
`},{name:"date(from)",description:`<p>Returns a date from the given value.</p>
<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31&quot;</code> is invalid because June has
only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(from: string): date
</code></pre>
<p>Parses the given string into a date.</p>
<pre><code class="language-feel">date(from: date and time): date
</code></pre>
<p>Extracts the date component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(&quot;2018-04-29&quot;)
// date(&quot;2018-04-29&quot;)

date(date and time(&quot;2012-12-25T11:00:00&quot;))
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"date(year, month, day)",description:`<p>Returns a date from the given components.</p>
<p>Returns <code>null</code> if the components don&#39;t represent a valid calendar date. For example, <code>2024,6,31</code> is invalid because
June has only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date(year: number, month: number, day: number): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date(2012, 12, 25)
// date(&quot;2012-12-25&quot;)
</code></pre>
`},{name:"time(from)",description:`<p>Returns a time from the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(from: string): time
</code></pre>
<p>Parses the given string into a time.</p>
<pre><code class="language-feel">time(from: date and time): time
</code></pre>
<p>Extracts the time component from the given date and time.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(&quot;12:00:00&quot;)
// time(&quot;12:00:00&quot;)

time(date and time(&quot;2012-12-25T11:00:00&quot;))
// time(&quot;11:00:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second)",description:`<p>Returns a time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(23, 59, 0)
// time(&quot;23:59:00&quot;)
</code></pre>
`},{name:"time(hour, minute, second, offset)",description:`<p>Returns a time from the given components, including a timezone offset.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">time(hour: number, minute: number, second: number, offset: days and time duration): time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">time(14, 30, 0, duration(&quot;PT1H&quot;))
// time(&quot;14:30:00+01:00&quot;)
</code></pre>
`},{name:"date and time(from)",description:`<p>Parses the given string into a date and time.</p>
<p>Returns <code>null</code> if the string is not a valid calendar date. For example, <code>&quot;2024-06-31T10:00:00&quot;</code> is invalid because
June has only 30 days.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(from: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(&quot;2018-04-29T09:30:00&quot;)
// date and time(&quot;2018-04-29T09:30:00&quot;)
</code></pre>
`},{name:"date and time(date, time)",description:`<p>Returns a date and time from the given components.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date, time: time): date and time
</code></pre>
<pre><code class="language-feel">date and time(date: date and time, time: time): date and time
</code></pre>
<p>Returns a date and time value that consists of the date component of <code>date</code> combined with <code>time</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(date(&quot;2012-12-24&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-24T23:59:00&quot;)

date and time(date and time(&quot;2012-12-25T11:00:00&quot;),time(&quot;T23:59:00&quot;))
// date and time(&quot;2012-12-25T23:59:00&quot;)
</code></pre>
`},{name:"date and time(date, timezone)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given date and time value at the given timezone.</p>
<p>If <code>date</code> has a different timezone than <code>timezone</code> then it adjusts the time to match the local time of <code>timezone</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">date and time(date: date and time, timezone: string): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">date and time(@&quot;2020-07-31T14:27:30@Europe/Berlin&quot;, &quot;America/Los_Angeles&quot;)
// date and time(&quot;2020-07-31T05:27:30@America/Los_Angeles&quot;)

date and time(@&quot;2020-07-31T14:27:30&quot;, &quot;Z&quot;)
// date and time(&quot;2020-07-31T12:27:30Z&quot;)
</code></pre>
`},{name:"duration(from)",description:`<p>Parses the given string into a duration. The duration is either a days and time duration or a years and months duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duration(from: string): days and time duration
</code></pre>
<pre><code class="language-feel">duration(from: string): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duration(&quot;P5D&quot;)
// duration(&quot;P5D&quot;)

duration(&quot;P32Y&quot;)
// duration(&quot;P32Y&quot;)
</code></pre>
`},{name:"years and months duration(from, to)",description:`<p>Returns the years and months duration between <code>from</code> and <code>to</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">years and months duration(from: date, to: date): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">years and months duration(date(&quot;2011-12-22&quot;), date(&quot;2013-08-24&quot;))
// duration(&quot;P1Y8M&quot;)
</code></pre>
`},{name:"list contains(list, element)",description:`<p>Returns <code>true</code> if the given list contains the element. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">list contains(list: list, element: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">list contains([1,2,3], 2)
// true
</code></pre>
`},{name:"count(list)",description:`<p>Returns the number of elements of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">count(list: list): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">count([1,2,3])
// 3
</code></pre>
`},{name:"min(list)",description:`<p>Returns the minimum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">min(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">min([1,2,3])
// 1

min(1,2,3)
// 1
</code></pre>
`},{name:"max(list)",description:`<p>Returns the maximum of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">max(list: list): Any
</code></pre>
<p>All elements in <code>list</code> should have the same type and be comparable.</p>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">max([1,2,3])
// 3

max(1,2,3)
// 3
</code></pre>
`},{name:"sum(list)",description:`<p>Returns the sum of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sum(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sum([1,2,3])
// 6

sum(1,2,3)
// 6
</code></pre>
`},{name:"product(list)",description:`<p>Returns the product of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">product(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">product([2, 3, 4])
// 24

product(2, 3, 4)
// 24
</code></pre>
`},{name:"mean(list)",description:`<p>Returns the arithmetic mean (i.e. average) of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mean(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mean([1,2,3])
// 2

mean(1,2,3)
// 2
</code></pre>
`},{name:"median(list)",description:`<p>Returns the median element of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">median(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">median(8, 2, 5, 3, 4)
// 4

median([6, 1, 2, 3])
// 2.5
</code></pre>
`},{name:"stddev(list)",description:`<p>Returns the standard deviation of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">stddev(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">stddev(2, 4, 7, 5)
// 2.0816659994661326

stddev([2, 4, 7, 5])
// 2.0816659994661326
</code></pre>
`},{name:"mode(list)",description:`<p>Returns the mode of the given list of numbers.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">mode(list: list&lt;number&gt;): number
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">mode(6, 3, 9, 6, 6)
// [6]

mode([6, 1, 9, 6, 1])
// [1, 6]
</code></pre>
`},{name:"all(list)",description:`<p>Returns <code>false</code> if any element of the given list is <code>false</code>. Otherwise, returns <code>true</code>.</p>
<p>If the given list is empty, it returns <code>true</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">all(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">all([true,false])
// false

all(false,null,true)
// false
</code></pre>
<p>:::info
The function <code>all()</code> replaced the previous function <code>and()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"any(list)",description:`<p>Returns <code>true</code> if any element of the given list is <code>true</code>. Otherwise, returns <code>false</code>.</p>
<p>If the given list is empty, it returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">any(list: list&lt;boolean&gt;): boolean
</code></pre>
<p>The parameter <code>list</code> can be passed as a list or as a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">any([false,true])
// true

any(false,null,true)
// true
</code></pre>
<p>:::info
The function <code>any()</code> replaced the previous function <code>or()</code>. The previous function is deprecated and
should not be used anymore.
:::</p>
`},{name:"sublist(list, start position)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 2)
// [2,3]
</code></pre>
`},{name:"sublist(list, start position, length)",description:`<p>Returns a partial list of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sublist(list: list, start position: number, length: number): list
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sublist([1,2,3], 1, 2)
// [1,2]
</code></pre>
`},{name:"append(list, items)",description:`<p>Returns the given list with all <code>items</code> appended.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">append(list: list, items: Any): list
</code></pre>
<p>The parameter <code>items</code> can be a single element or a sequence of elements.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">append([1], 2, 3)
// [1,2,3]
</code></pre>
`},{name:"concatenate(lists)",description:`<p>Returns a list that includes all elements of the given lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">concatenate(lists: list): list
</code></pre>
<p>The parameter <code>lists</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">concatenate([1,2],[3])
// [1,2,3]

concatenate([1],[2],[3])
// [1,2,3]
</code></pre>
`},{name:"insert before(list, position, newItem)",description:`<p>Returns the given list with <code>newItem</code> inserted at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">insert before(list: list, position: number, newItem: Any): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">insert before([1,3],1,2)
// [2,1,3]
</code></pre>
`},{name:"remove(list, position)",description:`<p>Returns the given list without the element at <code>position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">remove(list: list, position: number): list
</code></pre>
<p>The <code>position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">remove([1,2,3], 2)
// [1,3]
</code></pre>
`},{name:"reverse(list)",description:`<p>Returns the given list in revered order.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">reverse(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">reverse([1,2,3])
// [3,2,1]
</code></pre>
`},{name:"index of(list, match)",description:`<p>Returns an ascending list of positions containing <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">index of(list: list, match: Any): list&lt;number&gt;
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">index of([1,2,3,2],2)
// [2,4]
</code></pre>
`},{name:"union(list)",description:`<p>Returns a list that includes all elements of the given lists without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">union(list: list): list
</code></pre>
<p>The parameter <code>list</code> is a sequence of lists.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">union([1,2],[2,3])
// [1,2,3]
</code></pre>
`},{name:"distinct values(list)",description:`<p>Returns the given list without duplicates.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">distinct values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">distinct values([1,2,3,2,1])
// [1,2,3]
</code></pre>
`},{name:"duplicate values(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all duplicate values of the given list.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">duplicate values(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">duplicate values([1,2,3,2,1])
// [1,2]
</code></pre>
`},{name:"flatten(list)",description:`<p>Returns a list that includes all elements of the given list without nested lists.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">flatten(list: list): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">flatten([[1,2],[[3]], 4])
// [1,2,3,4]
</code></pre>
`},{name:"sort(list, precedes)",description:`<p>Returns the given list sorted by the <code>precedes</code> function.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sort(list: list, precedes: function&lt;(Any, Any) -&gt; boolean&gt;): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sort(list: [3,1,4,5,2], precedes: function(x,y) x &lt; y)
// [1,2,3,4,5]
</code></pre>
`},{name:"string join(list)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])
// &quot;abc&quot;

string join([&quot;a&quot;,null,&quot;c&quot;])
// &quot;ac&quot;

string join([])
// &quot;&quot;
</code></pre>
`},{name:"string join(list, delimiter)",description:`<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string contains a <code>delimiter</code> between each element.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;], &quot;X&quot;)
// &quot;a&quot;

string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;)
// &quot;a, b, c&quot;
</code></pre>
`},{name:"string join(list, delimiter, prefix, suffix)",description:`<p><em>Camunda Extension</em></p>
<p>Joins a list of strings into a single string. This is similar to
Java&#39;s <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)">joining</a>
function.</p>
<p>If an item of the list is <code>null</code>, the item is ignored for the result string. If an item is
neither a string nor <code>null</code>, the function returns <code>null</code> instead of a string.</p>
<p>The resulting string starts with <code>prefix</code>, contains a <code>delimiter</code> between each element, and ends
with <code>suffix</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string join(list: list&lt;string&gt;, delimiter: string, prefix: string, suffix: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string join([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;], &quot;, &quot;, &quot;[&quot;, &quot;]&quot;)
// &quot;[a, b, c]&quot;
</code></pre>
`},{name:"is empty(list)",description:`<p><em>Camunda Extension</em></p>
<p>Returns <code>true</code> if the given list is empty. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is empty(list: list): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is empty([])
// true

is empty([1,2,3])
// false
</code></pre>
`},{name:"partition(list size)",description:`<p><em>Camunda Extension</em></p>
<p>Returns consecutive sublists of a list, each of the same size (the final list may be smaller).</p>
<p>If <code>size</code> is less than <code>0</code>, it returns <code>null</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">partition(list: list, size: number): list
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">partition([1,2,3,4,5], 2)
// [[1,2], [3,4], [5]]

partition([], 2)
// []

partition([1,2], 0)
// null
</code></pre>
`},{name:"decimal(n, scale)",description:`<p>Rounds the given value at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">decimal(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">decimal(1/3, 2)
// .33

decimal(1.5, 0)
// 2
</code></pre>
`},{name:"floor(n)",description:`<p>Rounds the given value with rounding mode flooring.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(1.5)
// 1

floor(-1.5)
// -2
</code></pre>
`},{name:"floor(n, scale)",description:`<p>Rounds the given value with rounding mode flooring at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">floor(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">floor(-1.56, 1)
// -1.6
</code></pre>
`},{name:"ceiling(n)",description:`<p>Rounds the given value with rounding mode ceiling.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(1.5)
// 2

ceiling(-1.5)
// -1
</code></pre>
`},{name:"ceiling(n, scale)",description:`<p>Rounds the given value with rounding mode ceiling at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ceiling(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ceiling(-1.56, 1)
// -1.5
</code></pre>
`},{name:"round up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round up(5.5)
// 6

round up(-5.5)
// -6

round up(1.121, 2)
// 1.13

round up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round down(5.5, 0)
// 5

round down (-5.5, 0)
// -5

round down (1.121, 2)
// 1.12

round down (-1.126, 2)
// -1.12
</code></pre>
`},{name:"round half up(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-up at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half up(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half up(5.5, 0)
// 6

round half up(-5.5, 0)
// -6

round half up(1.121, 2)
// 1.12

round half up(-1.126, 2)
// -1.13
</code></pre>
`},{name:"round half down(n, scale)",description:`<p>Rounds the given value with the rounding mode round-half-down at the given scale.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">round half down(n: number, scale: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">round half down (5.5, 0)
// 5

round half down (-5.5, 0)
// -5

round half down (1.121, 2)
// 1.12

round half down (-1.126, 2)
// -1.13
</code></pre>
`},{name:"abs(number)",description:`<p>Returns the absolute value of the given numeric value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(10)
// 10

abs(-10)
// 10
</code></pre>
`},{name:"modulo(dividend, divisor)",description:`<p>Returns the remainder of the division of dividend by divisor.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">modulo(dividend: number, divisor: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">modulo(12, 5)
// 2
</code></pre>
`},{name:"sqrt(number)",description:`<p>Returns the square root of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">sqrt(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">sqrt(16)
// 4
</code></pre>
`},{name:"log(number)",description:`<p>Returns the natural logarithm (base e) of the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">log(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">log(10)
// 2.302585092994046
</code></pre>
`},{name:"exp(number)",description:`<p>Returns the Eulers number e raised to the power of the given number .</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">exp(number: number): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">exp(5)
// 148.4131591025766
</code></pre>
`},{name:"odd(number)",description:`<p>Returns <code>true</code> if the given value is odd. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">odd(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">odd(5)
// true

odd(2)
// false
</code></pre>
`},{name:"even(number)",description:`<p>Returns <code>true</code> if the given is even. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">even(number: number): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">even(5)
// false

even(2)
// true
</code></pre>
`},{name:"random number()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a random number between <code>0</code> and <code>1</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">random number(): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">random number()
// 0.9701618132579795
</code></pre>
`},{name:"before(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, 10)
// true

before(10, 1)
// false
</code></pre>
`},{name:"before(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], 10)
// true
</code></pre>
`},{name:"before(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before(1, [2..5])
// true
</code></pre>
`},{name:"before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">before([1..5], [6..10])
// true

before([1..5),[5..10])
// true
</code></pre>
`},{name:"after(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(10, 1)
// true

after(1, 10)
// false
</code></pre>
`},{name:"after(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([1..5], 10)
// false
</code></pre>
`},{name:"after(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after(12, [2..5])
// true
</code></pre>
`},{name:"after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">after([6..10], [1..5])
// true

after([5..10], [1..5))
// true
</code></pre>
`},{name:"meets(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">meets(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">meets([1..5], [5..10])
// true

meets([1..3], [4..6])
// false

meets([1..3], [3..5])
// true

meets([1..5], (5..8])
// false
</code></pre>
`},{name:"met by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">met by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">met by([5..10], [1..5])
// true

met by([3..4], [1..2])
// false

met by([3..5], [1..3])
// true

met by((5..8], [1..5))
// false

met by([5..10], [1..5))
// false
</code></pre>
`},{name:"overlaps(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps([5..10], [1..6])
// true

overlaps((3..7], [1..4])
// true

overlaps([1..3], (3..6])
// false

overlaps((5..8], [1..5))
// false

overlaps([4..10], [1..5))
// true
</code></pre>
`},{name:"overlaps before(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps before(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps before([1..5], [4..10])
// true

overlaps before([3..4], [1..2])
// false

overlaps before([1..3], (3..5])
// false

overlaps before([1..5), (3..8])
// true

overlaps before([1..5), [5..10])
// false
</code></pre>
`},{name:"overlaps after(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">overlaps after(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">overlaps after([4..10], [1..5])
// true

overlaps after([3..4], [1..2])
// false

overlaps after([3..5], [1..3))
// false

overlaps after((5..8], [1..5))
// false

overlaps after([4..10], [1..5))
// true
</code></pre>
`},{name:"finishes(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes(5, [1..5])
// true

finishes(10, [1..7])
// false
</code></pre>
`},{name:"finishes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finishes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finishes([3..5], [1..5])
// true

finishes((1..5], [1..5))
// false

finishes([5..10], [1..10))
// false
</code></pre>
`},{name:"finished by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([5..10], 10)
// true

finished by([3..4], 2)
// false
</code></pre>
`},{name:"finished by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">finished by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">finished by([1..5], [3..5])
// true

finished by((5..8], [1..5))
// false

finished by([5..10], (1..10))
// false
</code></pre>
`},{name:"includes(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([5..10], 6)
// true

includes([3..4], 5)
// false
</code></pre>
`},{name:"includes(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">includes(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">includes([1..10], [4..6])
// true

includes((5..8], [1..5))
// false

includes([1..10], [1..5))
// true
</code></pre>
`},{name:"during(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during(5, [1..10])
// true

during(12, [1..10])
// false

during(1, (1..10])
// false
</code></pre>
`},{name:"during(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">during(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">during([4..6], [1..10))
// true

during((1..5], (1..10])
// true
</code></pre>
`},{name:"starts(point, range)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(point: Any, range: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts(1, [1..5])
// true

starts(1, (1..8])
// false
</code></pre>
`},{name:"starts(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts((1..5], [1..5])
// false

starts([1..10], [1..5])
// false

starts((1..5), (1..10))
// true
</code></pre>
`},{name:"started by(range, point)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range: range, point: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], 1)
// true

started by((1..10], 1)
// false
</code></pre>
`},{name:"started by(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">started by(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">started by([1..10], [1..5])
// true

started by((1..10], [1..5))
// false

started by([1..10], [1..10))
// true
</code></pre>
`},{name:"coincides(point1, point2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(point1: Any, point2: Any): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides(5, 5)
// true

coincides(3, 4)
// false
</code></pre>
`},{name:"coincides(range1, range2)",description:`<p><strong>Function signature</strong></p>
<pre><code class="language-feel">coincides(range1: range, range2: range): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">coincides([1..5], [1..5])
// true

coincides((1..5], [1..5))
// false

coincides([1..5], [2..6])
// false
</code></pre>
`},{name:"substring(string, start position)",description:`<p>Returns a substring of the given value starting at <code>start position</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3)
// &quot;obar&quot;

substring(&quot;foobar&quot;, -2)
// &quot;ar&quot;
</code></pre>
`},{name:"substring(string, start position, length)",description:`<p>Returns a substring of the given value, starting at <code>start position</code> with the given <code>length</code>. If <code>length</code> is greater than
the remaining characters of the value, it returns all characters from <code>start position</code> until the end.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring(string: string, start position: number, length: number): string
</code></pre>
<p>The <code>start position</code> starts at the index <code>1</code>. The last position is <code>-1</code>.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring(&quot;foobar&quot;, 3, 3)
// &quot;oba&quot;

substring(&quot;foobar&quot;, -3, 2)
// &quot;ba&quot;

substring(&quot;foobar&quot;, 3, 10)
// &quot;obar&quot;
</code></pre>
`},{name:"string length(string)",description:`<p>Returns the number of characters in the given value.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">string length(string: string): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">string length(&quot;foo&quot;)
// 3
</code></pre>
`},{name:"upper case(string)",description:`<p>Returns the given value with all characters are uppercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">upper case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">upper case(&quot;aBc4&quot;)
// &quot;ABC4&quot;
</code></pre>
`},{name:"lower case(string)",description:`<p>Returns the given value with all characters are lowercase.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">lower case(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">lower case(&quot;aBc4&quot;)
// &quot;abc4&quot;
</code></pre>
`},{name:"substring before(string, match)",description:`<p>Returns a substring of the given value that contains all characters before <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring before(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring before(&quot;foobar&quot;, &quot;bar&quot;)
// &quot;foo&quot;
</code></pre>
`},{name:"substring after(string, match)",description:`<p>Returns a substring of the given value that contains all characters after <code>match</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">substring after(string: string, match: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">substring after(&quot;foobar&quot;, &quot;ob&quot;)
// &quot;ar&quot;
</code></pre>
`},{name:"contains(string, match)",description:`<p>Returns <code>true</code> if the given value contains the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">contains(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">contains(&quot;foobar&quot;, &quot;of&quot;)
// false
</code></pre>
`},{name:"starts with(string, match)",description:`<p>Returns <code>true</code> if the given value starts with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">starts with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">starts with(&quot;foobar&quot;, &quot;fo&quot;)
// true
</code></pre>
`},{name:"ends with(string, match)",description:`<p>Returns <code>true</code> if the given value ends with the substring <code>match</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">ends with(string: string, match: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">ends with(&quot;foobar&quot;, &quot;r&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;foobar&quot;, &quot;^fo*bar&quot;)
// true
</code></pre>
`},{name:"matches(input, pattern, flags)",description:`<p>Returns <code>true</code> if the given value matches the <code>pattern</code>. Otherwise, returns <code>false</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">matches(input: string, pattern: string, flags: string): boolean
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">matches(&quot;FooBar&quot;, &quot;foo&quot;, &quot;i&quot;)
// true
</code></pre>
`},{name:"replace(input, pattern, replacement)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;abcd&quot;, &quot;(ab)|(a)&quot;, &quot;[1=$1][2=$2]&quot;)
// &quot;[1=ab][2=]cd&quot;

replace(&quot;0123456789&quot;, &quot;(\\d{3})(\\d{3})(\\d{4})&quot;, &quot;($1) $2-$3&quot;)
// &quot;(012) 345-6789&quot;
</code></pre>
`},{name:"replace(input, pattern, replacement, flags)",description:`<p>Returns the resulting string after replacing all occurrences of <code>pattern</code> with <code>replacement</code>.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">replace(input: string, pattern: string, replacement: string, flags: string): string
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p>The <code>replacement</code> can access the match groups by using <code>$</code> and the number of the group, for example,
<code>$1</code> to access the first group.</p>
<p>The <code>flags</code> can contain one or more of the following characters:</p>
<ul>
<li><code>s</code> (dot-all)</li>
<li><code>m</code> (multi-line)</li>
<li><code>i</code> (case insensitive)</li>
<li><code>x</code> (comments)</li>
</ul>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">replace(&quot;How do you feel?&quot;, &quot;Feel&quot;, &quot;FEEL&quot;, &quot;i&quot;)
// &quot;How do you FEEL?&quot;
</code></pre>
`},{name:"split(string, delimiter)",description:`<p>Splits the given value into a list of substrings, breaking at each occurrence of the <code>delimiter</code> pattern.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">split(string: string, delimiter: string): list&lt;string&gt;
</code></pre>
<p>The <code>delimiter</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">split(&quot;John Doe&quot;, &quot;\\s&quot; )
// [&quot;John&quot;, &quot;Doe&quot;]

split(&quot;a;b;c;;&quot;, &quot;;&quot;)
// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;&quot;, &quot;&quot;]
</code></pre>
`},{name:"extract(string, pattern)",description:`<p><em>Camunda Extension</em></p>
<p>Returns all matches of the pattern in the given string. Returns an empty list if the pattern doesn&#39;t
match.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">extract(string: string, pattern: string): list&lt;string&gt;
</code></pre>
<p>The <code>pattern</code> is a string that contains a regular expression.</p>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">extract(&quot;references are 1234, 1256, 1378&quot;, &quot;12[0-9]*&quot;)
// [&quot;1234&quot;,&quot;1256&quot;]
</code></pre>
`},{name:"trim(string)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given string without leading and trailing spaces.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">trim(string: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">trim(&quot;  hello world  &quot;)
// &quot;hello world&quot;

trim(&quot;hello   world &quot;)
// &quot;hello   world&quot;
</code></pre>
`},{name:"uuid()",description:`<p><em>Camunda Extension</em></p>
<p>Returns a UUID (Universally Unique Identifier) with 36 characters.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">uuid(): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">uuid()
// &quot;7793aab1-d761-4d38-916b-b7270e309894&quot;
</code></pre>
`},{name:"to base64(value)",description:`<p><em>Camunda Extension</em></p>
<p>Returns the given string encoded in Base64 format.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">to base64(value: string): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">to base64(&quot;FEEL&quot;)
// &quot;RkVFTA==&quot;
</code></pre>
`},{name:"is blank(string)",description:`<p><em>Camunda Extension</em></p>
<p>Returns <code>true</code> if the given string is blank (empty or contains only whitespaces).</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">is blank(string: string): boolean
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">is blank(&quot;&quot;)
// true

is blank(&quot; &quot;)
// true

is blank(&quot;hello world&quot;)
// false
</code></pre>
`},{name:"now()",description:`<p>Returns the current date and time including the timezone.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">now(): date and time
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">now()
// date and time(&quot;2020-07-31T14:27:30@Europe/Berlin&quot;)
</code></pre>
`},{name:"today()",description:`<p>Returns the current date.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">today(): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">today()
// date(&quot;2020-07-31&quot;)
</code></pre>
`},{name:"day of week(date)",description:`<p>Returns the day of the week according to the Gregorian calendar. Note that it always returns the English name of the day.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of week(date: date): string
</code></pre>
<pre><code class="language-feel">day of week(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of week(date(&quot;2019-09-17&quot;))
// &quot;Tuesday&quot;

day of week(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;Tuesday&quot;
</code></pre>
`},{name:"day of year(date)",description:`<p>Returns the Gregorian number of the day within the year.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">day of year(date: date): number
</code></pre>
<pre><code class="language-feel">day of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">day of year(date(&quot;2019-09-17&quot;))
// 260

day of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 260
</code></pre>
`},{name:"week of year(date)",description:`<p>Returns the Gregorian number of the week within the year, according to ISO 8601.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">week of year(date: date): number
</code></pre>
<pre><code class="language-feel">week of year(date: date and time): number
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">week of year(date(&quot;2019-09-17&quot;))
// 38

week of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// 38
</code></pre>
`},{name:"month of year(date)",description:`<p>Returns the month of the year according to the Gregorian calendar. Note that it always returns the English name of the month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">month of year(date: date): string
</code></pre>
<pre><code class="language-feel">month of year(date: date and time): string
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">month of year(date(&quot;2019-09-17&quot;))
// &quot;September&quot;

month of year(date and time(&quot;2019-09-17T12:00:00&quot;))
// &quot;September&quot;
</code></pre>
`},{name:"abs(n)",description:`<p>Returns the absolute value of a given duration.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">abs(n: days and time duration): days and time duration
</code></pre>
<pre><code class="language-feel">abs(n: years and months duration): years and months duration
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">abs(duration(&quot;-PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;PT5H&quot;))
// &quot;duration(&quot;PT5H&quot;)&quot;

abs(duration(&quot;-P2M&quot;))
// duration(&quot;P2M&quot;)
</code></pre>
`},{name:"last day of month(date)",description:`<p><em>Camunda Extension</em></p>
<p>Takes the month of the given date or date-time value and returns the last day of this month.</p>
<p><strong>Function signature</strong></p>
<pre><code class="language-feel">last day of month(date: date): date
</code></pre>
<pre><code class="language-feel">last day of month(date: date and time): date
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-feel">last day of month(date(&quot;2022-10-01&quot;))
// date(&quot;2022-10-31&quot;))

last day of month(date and time(&quot;2022-10-16T12:00:00&quot;))
// date(&quot;2022-10-31&quot;))
</code></pre>
`}];function eVe(n){return n.map(tVe)}function tVe(n){const{name:e,description:t}=n,r=e.match(/^([\w\s]+)\((.*)\)$/),i=r[1],o=r[2],a=o?o.split(", ").map(c=>({name:c})):[];return{name:i,type:"function",params:a,info:()=>kV(`<div class="description">${t}<div>`),boost:0}}const nVe=eVe(J7e),Cde=new RE,Ode=new RE;function FE({extensions:n=[],dialect:e="expression",parserDialect:t,container:r,contentAttributes:i={},tooltipContainer:o,onChange:a=()=>{},onKeyDown:c=()=>{},onLint:u=()=>{},placeholder:h="",readOnly:m=!1,value:v="",builtins:_=nVe,variables:k=[]}){const R=On.updateListener.of(B=>{B.docChanged&&a(B.state.doc.toString())}),T=On.updateListener.of(B=>{const I=B.transactions.flatMap(oe=>oe.effects).filter(oe=>oe.is(cT));if(!I.length)return;const Y=I.flatMap(oe=>oe.value);u(Y)}),F=On.domEventHandlers({keydown:c});typeof o=="string"&&(o=document.querySelector(o));const $=o?ile({tooltipSpace:function(){return o.getBoundingClientRect()}}):[],j=[E$e(),Cde.of(kde({dialect:e,builtins:_,variables:k,parserDialect:t})),vle(),hle(),Cle(),On.contentAttributes.of(i),R,F,sT.of([...Jle]),L7e,T,$,Ode.of(nle(h)),j7e,...n];return m&&j.push(On.editable.of(!1)),this._cmEditor=new On({state:Bi.create({doc:v,extensions:j}),parent:r}),this}FE.prototype.setValue=function(n){this._cmEditor.dispatch({changes:{from:0,to:this._cmEditor.state.doc.length,insert:n}})};FE.prototype.focus=function(n){const e=this._cmEditor;if(e.contentDOM.focus(),e.focus(),typeof n=="number"){const t=e.state.doc.length;e.dispatch({selection:{anchor:n<=t?n:t}})}};FE.prototype.getSelection=function(){return this._cmEditor.state.selection};FE.prototype.setVariables=function(n){const e=Z7e(this._cmEditor.state);this._cmEditor.dispatch({effects:[Cde.reconfigure(kde({...e,variables:n}))]})};FE.prototype.setPlaceholder=function(n){this._cmEditor.dispatch({effects:Ode.reconfigure(nle(n))})};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Tde=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Y3=Tde.join(","),Ade=typeof Element>"u",bb=Ade?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Q3=!Ade&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},K3=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",a=o||t&&e&&n(e.parentNode);return a},rVe=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Rde=function(e,t,r){if(K3(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Y3));return t&&bb.call(e,Y3)&&i.unshift(e),i=i.filter(r),i},Pde=function n(e,t,r){for(var i=[],o=Array.from(e);o.length;){var a=o.shift();if(!K3(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),u=c.length?c:a.children,h=n(u,!0,r);r.flatten?i.push.apply(i,h):i.push({scopeParent:a,candidates:h})}else{var m=bb.call(a,Y3);m&&r.filter(a)&&(t||!e.includes(a))&&i.push(a);var v=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),_=!K3(v,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(v&&_){var k=n(v===!0?a.children:v.children,!0,r);r.flatten?i.push.apply(i,k):i.push({scopeParent:a,candidates:k})}else o.unshift.apply(o,a.children)}}return i},Mde=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},A1=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||rVe(e))&&!Mde(e)?0:e.tabIndex},iVe=function(e,t){var r=A1(e);return r<0&&t&&!Mde(e)?0:r},oVe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Dde=function(e){return e.tagName==="INPUT"},sVe=function(e){return Dde(e)&&e.type==="hidden"},aVe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},lVe=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},cVe=function(e){if(!e.name)return!0;var t=e.form||Q3(e),r=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=lVe(i,e.form);return!o||o===e},uVe=function(e){return Dde(e)&&e.type==="radio"},dVe=function(e){return uVe(e)&&!cVe(e)},fVe=function(e){var t,r=e&&Q3(e),i=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var a,c,u;for(o=!!((a=i)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(i)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!o&&i;){var h,m,v;r=Q3(i),i=(h=r)===null||h===void 0?void 0:h.host,o=!!((m=i)!==null&&m!==void 0&&(v=m.ownerDocument)!==null&&v!==void 0&&v.contains(i))}}return o},LX=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},hVe=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=bb.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(bb.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var c=e;e;){var u=e.parentElement,h=Q3(e);if(u&&!u.shadowRoot&&i(u)===!0)return LX(e);e.assignedSlot?e=e.assignedSlot:!u&&h!==e.ownerDocument?e=h.host:e=u}e=c}if(fVe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return LX(e);return!1},pVe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return bb.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},X3=function(e,t){return!(t.disabled||K3(t)||sVe(t)||hVe(t,e)||aVe(t)||pVe(t))},Sj=function(e,t){return!(dVe(t)||A1(t)<0||!X3(e,t))},mVe=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},gVe=function n(e){var t=[],r=[];return e.forEach(function(i,o){var a=!!i.scopeParent,c=a?i.scopeParent:i,u=iVe(c,a),h=a?n(i.candidates):c;u===0?a?t.push.apply(t,h):t.push(c):r.push({documentOrder:o,tabIndex:u,item:i,isScope:a,content:h})}),r.sort(oVe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(t)},yVe=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Pde([e],t.includeContainer,{filter:Sj.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:mVe}):r=Rde(e,t.includeContainer,Sj.bind(null,t)),gVe(r)},vVe=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Pde([e],t.includeContainer,{filter:X3.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Rde(e,t.includeContainer,X3.bind(null,t)),r},ww=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return bb.call(e,Y3)===!1?!1:Sj(t,e)},bVe=Tde.concat("iframe").join(","),AF=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return bb.call(e,bVe)===!1?!1:X3(t,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function kj(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function xVe(n){if(Array.isArray(n))return kj(n)}function wVe(n,e,t){return(e=CVe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Ve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function EVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $X(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FX(Object(t),!0).forEach(function(r){wVe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SVe(n){return xVe(n)||_Ve(n)||OVe(n)||EVe()}function kVe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CVe(n){var e=kVe(n,"string");return typeof e=="symbol"?e:e+""}function OVe(n,e){if(n){if(typeof n=="string")return kj(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kj(n,e):void 0}}var BX={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r._setPausedState(!0)}var i=e.indexOf(t);i===-1||e.splice(i,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},TVe=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},AVe=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},EC=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},RVe=function(e){return EC(e)&&!e.shiftKey},PVe=function(e){return EC(e)&&e.shiftKey},jX=function(e){return setTimeout(e,0)},M2=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},_M=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},MVe=[],DVe=function(e,t){var r=(t==null?void 0:t.document)||document,i=(t==null?void 0:t.trapStack)||MVe,o=$X({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:RVe,isKeyBackward:PVe},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,u=function(Ce,Oe,Fe){return Ce&&Ce[Oe]!==void 0?Ce[Oe]:o[Fe||Oe]},h=function(Ce,Oe){var Fe=typeof(Oe==null?void 0:Oe.composedPath)=="function"?Oe.composedPath():void 0;return a.containerGroups.findIndex(function(ze){var dt=ze.container,De=ze.tabbableNodes;return dt.contains(Ce)||(Fe==null?void 0:Fe.includes(dt))||De.find(function(Ze){return Ze===Ce})})},m=function(Ce){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=Oe.hasFallback,ze=Fe===void 0?!1:Fe,dt=Oe.params,De=dt===void 0?[]:dt,Ze=o[Ce];if(typeof Ze=="function"&&(Ze=Ze.apply(void 0,SVe(De))),Ze===!0&&(Ze=void 0),!Ze){if(Ze===void 0||Ze===!1)return Ze;throw new Error("`".concat(Ce,"` was specified but was not a node, or did not return a node"))}var bt=Ze;if(typeof Ze=="string"){try{bt=r.querySelector(Ze)}catch(Ye){throw new Error("`".concat(Ce,'` appears to be an invalid selector; error="').concat(Ye.message,'"'))}if(!bt&&!ze)throw new Error("`".concat(Ce,"` as selector refers to no known node"))}return bt},v=function(){var Ce=m("initialFocus",{hasFallback:!0});if(Ce===!1)return!1;if(Ce===void 0||Ce&&!AF(Ce,o.tabbableOptions))if(h(r.activeElement)>=0)Ce=r.activeElement;else{var Oe=a.tabbableGroups[0],Fe=Oe&&Oe.firstTabbableNode;Ce=Fe||m("fallbackFocus")}else Ce===null&&(Ce=m("fallbackFocus"));if(!Ce)throw new Error("Your focus-trap needs to have at least one focusable element");return Ce},_=function(){if(a.containerGroups=a.containers.map(function(Ce){var Oe=yVe(Ce,o.tabbableOptions),Fe=vVe(Ce,o.tabbableOptions),ze=Oe.length>0?Oe[0]:void 0,dt=Oe.length>0?Oe[Oe.length-1]:void 0,De=Fe.find(function(Ye){return ww(Ye)}),Ze=Fe.slice().reverse().find(function(Ye){return ww(Ye)}),bt=!!Oe.find(function(Ye){return A1(Ye)>0});return{container:Ce,tabbableNodes:Oe,focusableNodes:Fe,posTabIndexesFound:bt,firstTabbableNode:ze,lastTabbableNode:dt,firstDomTabbableNode:De,lastDomTabbableNode:Ze,nextTabbableNode:function(rt){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,vt=Oe.indexOf(rt);return vt<0?ve?Fe.slice(Fe.indexOf(rt)+1).find(function(gt){return ww(gt)}):Fe.slice(0,Fe.indexOf(rt)).reverse().find(function(gt){return ww(gt)}):Oe[vt+(ve?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(Ce){return Ce.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(Ce){return Ce.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},k=function(Ce){var Oe=Ce.activeElement;if(Oe)return Oe.shadowRoot&&Oe.shadowRoot.activeElement!==null?k(Oe.shadowRoot):Oe},R=function(Ce){if(Ce!==!1&&Ce!==k(document)){if(!Ce||!Ce.focus){R(v());return}Ce.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=Ce,TVe(Ce)&&Ce.select()}},T=function(Ce){var Oe=m("setReturnFocus",{params:[Ce]});return Oe||(Oe===!1?!1:Ce)},F=function(Ce){var Oe=Ce.target,Fe=Ce.event,ze=Ce.isBackward,dt=ze===void 0?!1:ze;Oe=Oe||_M(Fe),_();var De=null;if(a.tabbableGroups.length>0){var Ze=h(Oe,Fe),bt=Ze>=0?a.containerGroups[Ze]:void 0;if(Ze<0)dt?De=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:De=a.tabbableGroups[0].firstTabbableNode;else if(dt){var Ye=a.tabbableGroups.findIndex(function(Zt){var pn=Zt.firstTabbableNode;return Oe===pn});if(Ye<0&&(bt.container===Oe||AF(Oe,o.tabbableOptions)&&!ww(Oe,o.tabbableOptions)&&!bt.nextTabbableNode(Oe,!1))&&(Ye=Ze),Ye>=0){var rt=Ye===0?a.tabbableGroups.length-1:Ye-1,ve=a.tabbableGroups[rt];De=A1(Oe)>=0?ve.lastTabbableNode:ve.lastDomTabbableNode}else EC(Fe)||(De=bt.nextTabbableNode(Oe,!1))}else{var vt=a.tabbableGroups.findIndex(function(Zt){var pn=Zt.lastTabbableNode;return Oe===pn});if(vt<0&&(bt.container===Oe||AF(Oe,o.tabbableOptions)&&!ww(Oe,o.tabbableOptions)&&!bt.nextTabbableNode(Oe))&&(vt=Ze),vt>=0){var gt=vt===a.tabbableGroups.length-1?0:vt+1,Tt=a.tabbableGroups[gt];De=A1(Oe)>=0?Tt.firstTabbableNode:Tt.firstDomTabbableNode}else EC(Fe)||(De=bt.nextTabbableNode(Oe))}}else De=m("fallbackFocus");return De},$=function(Ce){var Oe=_M(Ce);if(!(h(Oe,Ce)>=0)){if(M2(o.clickOutsideDeactivates,Ce)){c.deactivate({returnFocus:o.returnFocusOnDeactivate});return}M2(o.allowOutsideClick,Ce)||Ce.preventDefault()}},j=function(Ce){var Oe=_M(Ce),Fe=h(Oe,Ce)>=0;if(Fe||Oe instanceof Document)Fe&&(a.mostRecentlyFocusedNode=Oe);else{Ce.stopImmediatePropagation();var ze,dt=!0;if(a.mostRecentlyFocusedNode)if(A1(a.mostRecentlyFocusedNode)>0){var De=h(a.mostRecentlyFocusedNode),Ze=a.containerGroups[De].tabbableNodes;if(Ze.length>0){var bt=Ze.findIndex(function(Ye){return Ye===a.mostRecentlyFocusedNode});bt>=0&&(o.isKeyForward(a.recentNavEvent)?bt+1<Ze.length&&(ze=Ze[bt+1],dt=!1):bt-1>=0&&(ze=Ze[bt-1],dt=!1))}}else a.containerGroups.some(function(Ye){return Ye.tabbableNodes.some(function(rt){return A1(rt)>0})})||(dt=!1);else dt=!1;dt&&(ze=F({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),R(ze||a.mostRecentlyFocusedNode||v())}a.recentNavEvent=void 0},B=function(Ce){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=Ce;var Fe=F({event:Ce,isBackward:Oe});Fe&&(EC(Ce)&&Ce.preventDefault(),R(Fe))},I=function(Ce){(o.isKeyForward(Ce)||o.isKeyBackward(Ce))&&B(Ce,o.isKeyBackward(Ce))},Y=function(Ce){AVe(Ce)&&M2(o.escapeDeactivates,Ce)!==!1&&(Ce.preventDefault(),c.deactivate())},oe=function(Ce){var Oe=_M(Ce);h(Oe,Ce)>=0||M2(o.clickOutsideDeactivates,Ce)||M2(o.allowOutsideClick,Ce)||(Ce.preventDefault(),Ce.stopImmediatePropagation())},ne=function(){if(a.active)return BX.activateTrap(i,c),a.delayInitialFocusTimer=o.delayInitialFocus?jX(function(){R(v())}):R(v()),r.addEventListener("focusin",j,!0),r.addEventListener("mousedown",$,{capture:!0,passive:!1}),r.addEventListener("touchstart",$,{capture:!0,passive:!1}),r.addEventListener("click",oe,{capture:!0,passive:!1}),r.addEventListener("keydown",I,{capture:!0,passive:!1}),r.addEventListener("keydown",Y),c},ae=function(){if(a.active)return r.removeEventListener("focusin",j,!0),r.removeEventListener("mousedown",$,!0),r.removeEventListener("touchstart",$,!0),r.removeEventListener("click",oe,!0),r.removeEventListener("keydown",I,!0),r.removeEventListener("keydown",Y),c},Te=function(Ce){var Oe=Ce.some(function(Fe){var ze=Array.from(Fe.removedNodes);return ze.some(function(dt){return dt===a.mostRecentlyFocusedNode})});Oe&&R(v())},Me=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Te):void 0,Ee=function(){Me&&(Me.disconnect(),a.active&&!a.paused&&a.containers.map(function(Ce){Me.observe(Ce,{subtree:!0,childList:!0})}))};return c={get active(){return a.active},get paused(){return a.paused},activate:function(Ce){if(a.active)return this;var Oe=u(Ce,"onActivate"),Fe=u(Ce,"onPostActivate"),ze=u(Ce,"checkCanFocusTrap");ze||_(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,Oe==null||Oe();var dt=function(){ze&&_(),ne(),Ee(),Fe==null||Fe()};return ze?(ze(a.containers.concat()).then(dt,dt),this):(dt(),this)},deactivate:function(Ce){if(!a.active)return this;var Oe=$X({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},Ce);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,ae(),a.active=!1,a.paused=!1,Ee(),BX.deactivateTrap(i,c);var Fe=u(Oe,"onDeactivate"),ze=u(Oe,"onPostDeactivate"),dt=u(Oe,"checkCanReturnFocus"),De=u(Oe,"returnFocus","returnFocusOnDeactivate");Fe==null||Fe();var Ze=function(){jX(function(){De&&R(T(a.nodeFocusedBeforeActivation)),ze==null||ze()})};return De&&dt?(dt(T(a.nodeFocusedBeforeActivation)).then(Ze,Ze),this):(Ze(),this)},pause:function(Ce){return a.active?(a.manuallyPaused=!0,this._setPausedState(!0,Ce)):this},unpause:function(Ce){return a.active?(a.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,Ce)):this},updateContainerElements:function(Ce){var Oe=[].concat(Ce).filter(Boolean);return a.containers=Oe.map(function(Fe){return typeof Fe=="string"?r.querySelector(Fe):Fe}),a.active&&_(),Ee(),this}},Object.defineProperties(c,{_isManuallyPaused:{value:function(){return a.manuallyPaused}},_setPausedState:{value:function(Ce,Oe){if(a.paused===Ce)return this;if(a.paused=Ce,Ce){var Fe=u(Oe,"onPause"),ze=u(Oe,"onPostPause");Fe==null||Fe(),ae(),Ee(),ze==null||ze()}else{var dt=u(Oe,"onUnpause"),De=u(Oe,"onPostUnpause");dt==null||dt(),_(),ne(),Ee(),De==null||De()}return this}}}),c.updateContainerElements(e),c},Z3="__fn",Nde=1e3,NVe=Array.prototype.slice;function Iu(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}Iu.prototype.on=function(n,e,t,r){if(n=fa(n)?n:[n],Ao(e)&&(r=t,t=e,e=Nde),!rc(e))throw new Error("priority must be a number");var i=t;r&&(i=Oie(t,r),i[Z3]=t[Z3]||t);var o=this;n.forEach(function(a){o._addListener(a,{priority:e,callback:i,next:null})})};Iu.prototype.once=function(n,e,t,r){var i=this;if(Ao(e)&&(r=t,t=e,e=Nde),!rc(e))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var a=t.apply(r,arguments);return i.off(n,o),a}o[Z3]=t,this.on(n,e,o)};Iu.prototype.off=function(n,e){n=fa(n)?n:[n];var t=this;n.forEach(function(r){t._removeListener(r,e)})};Iu.prototype.createEvent=function(n){var e=new pT;return e.init(n),e};Iu.prototype.fire=function(n,e){var t,r,i,o;if(o=NVe.call(arguments),typeof n=="object"&&(e=n,n=e.type),!n)throw new Error("no event type specified");if(r=this._listeners[n],!!r){e instanceof pT?t=e:t=this.createEvent(e),o[0]=t;var a=t.type;n!==a&&(t.type=n);try{i=this._invokeListeners(t,o,r)}finally{n!==a&&(t.type=a)}return i===void 0&&t.defaultPrevented&&(i=!1),i}};Iu.prototype.handleError=function(n){return this.fire("error",{error:n})===!1};Iu.prototype._destroy=function(){this._listeners={}};Iu.prototype._invokeListeners=function(n,e,t){for(var r;t&&!n.cancelBubble;)r=this._invokeListener(n,e,t),t=t.next;return r};Iu.prototype._invokeListener=function(n,e,t){var r;if(t.callback.__isTomb)return r;try{r=IVe(t.callback,e),r!==void 0&&(n.returnValue=r,n.stopPropagation()),r===!1&&n.preventDefault()}catch(i){if(!this.handleError(i))throw console.error("unhandled error in event listener",i),i}return r};Iu.prototype._addListener=function(n,e){var t=this._getListeners(n),r;if(!t){this._setListeners(n,e);return}for(;t;){if(t.priority<e.priority){e.next=t,r?r.next=e:this._setListeners(n,e);return}r=t,t=t.next}r.next=e};Iu.prototype._getListeners=function(n){return this._listeners[n]};Iu.prototype._setListeners=function(n,e){this._listeners[n]=e};Iu.prototype._removeListener=function(n,e){var t=this._getListeners(n),r,i,o;if(!e){this._setListeners(n,null);return}for(;t;)r=t.next,o=t.callback,(o===e||o[Z3]===e)&&(i?i.next=r:this._setListeners(n,r)),i=t,t=r};function pT(){}pT.prototype.stopPropagation=function(){this.cancelBubble=!0};pT.prototype.preventDefault=function(){this.defaultPrevented=!0};pT.prototype.init=function(n){I8(this,n||{})};function IVe(n,e){return n.apply(null,e)}function Ide(n=!0){const e=typeof n=="number"?n:n?300:0;return e?t=>r2e(t,e):t=>t}Ide.$inject=["config.debounce"];class LVe extends EV{updateId(e,t){if(this._validateId(t),this._eventBus.fire("formField.updateId",{formField:e,newId:t}),this.remove(e),e.id=t,this.add(e),"components"in e)for(const r of e.components)r._parent=t}_validateId(e){if(!e)throw new Error("formField must have an id");if(this.get(e))throw new Error("formField with id "+e+" already added")}}const lD=16,VX=16,Cj=2,zX=4;class Lde{constructor(e,t){this._formLayouter=e,this._formFieldRegistry=t}validateField(e={},t,r){if(Number.isInteger(t)){if(t<Cj)return`Minimum ${Cj} columns are allowed`;if(t>VX)return`Maximum ${VX} columns are allowed`}r||(r=this._formLayouter.getRowForField(e));let i=parseInt(t)||0,o=1,a=t?0:1;return r.components.forEach(c=>{if(e.id===c)return;const h=(this._formFieldRegistry.get(c).layout||{}).columns;h||a++,i+=parseInt(h)||0,o++}),i>lD||a>0&&i>FVe(a)||t===lD&&o>1?`New value exceeds the maximum of ${lD} columns per row`:o>zX?`Maximum ${zX} fields per row are allowed`:null}}Lde.$inject=["formLayouter","formFieldRegistry"];function FVe(n){return lD-n*2}const $Ve=VVe();function Yp(n,{disabled:e=!1}={}){if(!n)throw new Error("type required");return er("fjs-form-field",`fjs-form-field-${n}`,{"fjs-disabled":e})}function BVe(n){let e,t,r;function i(c){e=this,t=c.clientX,r=c.clientY,c.dataTransfer&&c.dataTransfer.setDragImage($Ve,0,0),document.addEventListener("dragover",o),document.addEventListener("dragend",a),document.addEventListener("drop",HX)}function o(c){const u={x:c.clientX-t,y:c.clientY-r};return n.call(e,c,u)}function a(){document.removeEventListener("dragover",o),document.removeEventListener("dragend",a),document.removeEventListener("drop",HX)}return i}function jVe(n){let e=!1,t=[],r;return function(...i){t=i,r=this,!e&&(e=!0,n.apply(r,t),window.requestAnimationFrame(function(){t=r=e=void 0}))}}function HX(n){n.preventDefault(),n.stopPropagation()}function VVe(){const n=new Image;return n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n}function Fde(n){const{field:e,domId:t}=n,{label:r}=e,i=Zv(e.type);return q("div",{class:Yp(e.type),children:[q(da,{id:t,label:r}),q("div",{class:"fjs-iframe-placeholder",id:t,children:q("p",{class:"fjs-iframe-placeholder-text",children:[q(i,{width:"32",height:"24",viewBox:"0 0 56 56"}),"iFrame"]})})]})}Fde.config=uV.config;const $de=Du({drake:null});function zVe(n,e){}const Bde=Du({getService:zVe});function To(n,e){const{getService:t}=_i(Bde);return t(n,e)}var WX;function Oj(){return Oj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Oj.apply(null,arguments)}var HVe=function(e){return St("svg",Oj({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),WX||(WX=St("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z",clipRule:"evenodd"})))},qX,UX;function Tj(){return Tj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tj.apply(null,arguments)}var WVe=function(e){return St("svg",Tj({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),St("rect",{width:16,height:16,x:.536,fill:"#fff",rx:3,style:{mixBlendMode:"multiply"}}),St("path",{fill:"#fff",d:"M0 0h16v16H0z",style:{mixBlendMode:"multiply"},transform:"translate(.536)"}),qX||(qX=St("path",{fill:"currentcolor",d:"M7.536 6h-1v6h1zm3 0h-1v6h1z"})),UX||(UX=St("path",{fill:"currentcolor",d:"M2.536 3v1h1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h1V3zm2 11V4h8v10zm6-13h-4v1h4z"})))},GX;function Aj(){return Aj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Aj.apply(null,arguments)}var qVe=function(e){return St("svg",Aj({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:16,height:16,fill:"currentcolor",viewBox:"0 0 32 32"},e),GX||(GX=St("path",{d:"M10 6h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4z"})),St("path",{d:"M0 0h32v32H0z",style:{fill:"none"}}))},YX;function Rj(){return Rj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rj.apply(null,arguments)}var UVe=function(e){return St("svg",Rj({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none"},e),YX||(YX=St("path",{fill:"currentColor",d:"m14.5 13.793-3.776-3.776a5.508 5.508 0 1 0-.707.707l3.776 3.776zM2 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0"})))},QX,KX,XX,ZX,JX,eZ,tZ,nZ;function Pj(){return Pj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pj.apply(null,arguments)}var GVe=function(e){return St("svg",Pj({xmlns:"http://www.w3.org/2000/svg",width:126,height:96,fill:"none"},e),QX||(QX=St("path",{fill:"#FF832B",fillRule:"evenodd",d:"M70 78v8a3 3 0 0 1-3 3h-8v-5h6v-6zm0-16h-5V46h5zm0-32h-5v-6h-6v-5h8a3 3 0 0 1 3 3zM43 19v5H27v-5zm-32 0v5H5v6H0v-8a3 3 0 0 1 3-3zM0 46h5v16H0zm0 32h5v6h6v5H3a3 3 0 0 1-3-3zm27 11v-5h16v5z",clipRule:"evenodd"})),KX||(KX=St("rect",{width:70,height:70,fill:"#E5E5E5",rx:3,transform:"matrix(-1 0 0 1 94 0)"})),XX||(XX=St("mask",{id:"EmptyForm_svg__a",fill:"#fff"},St("path",{fillRule:"evenodd",d:"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z",clipRule:"evenodd"}))),ZX||(ZX=St("path",{fill:"#393939",fillRule:"evenodd",d:"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z",clipRule:"evenodd"})),JX||(JX=St("path",{fill:"#393939",d:"M75.43 45.185 70.6 46.48l-2.241-8.365 8.365 2.242zm11.655 43.499 4.037 2.95-6.163 8.432-2.704-10.088zm31.844-31.843 1.294-4.83 10.088 2.703-8.432 6.163zm-11.044 8.072-3.535 3.535-4.128-4.127 4.713-3.445zm8.557 8.556 3.535-3.535 3.536 3.535-3.536 3.536zm-12.728 12.728 3.536 3.536-3.536 3.535-3.536-3.535zm-8.557-8.556-4.036-2.951 3.444-4.713 4.128 4.128zM80.26 43.89 91.915 87.39l-9.66 2.588L70.6 46.48zm37.375 17.78L74.136 50.014l2.588-9.66 43.499 11.656zm-12.699-.795 11.043-8.072 5.901 8.073-11.043 8.072zm7.971 16.129-8.556-8.557 7.071-7.07 8.556 8.556zm-12.728 5.657 12.728-12.728 7.071 7.07-12.727 12.729zm-1.485-8.557 8.557 8.557-7.072 7.07-8.556-8.556zM83.049 85.733 91.12 74.69l8.073 5.901-8.072 11.044z",mask:"url(#EmptyForm_svg__a)"})),eZ||(eZ=St("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"m69.431 39.163-9.192-9.192"})),tZ||(tZ=St("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M1.5-1.5h8",transform:"matrix(-1 0 0 1 68.213 50.123)"})),nZ||(nZ=St("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M78.969 36.367v-8"})))};function jde(n){const{type:e,text:t=""}=n.field,r=Zv("text"),i=To("templating"),o=To("expressionLanguage");return!t||!t.trim()?q("div",{class:Yp(e),children:q("div",{class:"fjs-form-field-placeholder",children:[q(r,{viewBox:"0 0 54 54"}),"Text view is empty"]})}):o.isExpression(t)?q("div",{class:Yp(e),children:q("div",{class:"fjs-form-field-placeholder",children:[q(r,{viewBox:"0 0 54 54"}),"Text view is populated by an expression"]})}):i.isTemplate(t)?q("div",{class:Yp(e),children:q("div",{class:"fjs-form-field-placeholder",children:[q(r,{viewBox:"0 0 54 54"}),"Text view is templated"]})}):q(S5,{...n,disableLinks:!0})}jde.config=S5.config;function Vde(n){const{type:e,content:t=""}=n.field,r=Zv(e),i=To("templating"),o=To("expressionLanguage");return!t||!t.trim()?q("div",{class:Yp(e),children:q("div",{class:"fjs-form-field-placeholder",children:[q(r,{viewBox:"0 0 54 54"}),"Html view is empty"]})}):o.isExpression(t)?q("div",{class:Yp(e),children:q("div",{class:"fjs-form-field-placeholder",children:[q(r,{viewBox:"0 0 54 54"}),"Html view is populated by an expression"]})}):i.isTemplate(t)?q("div",{class:Yp(e),children:q("div",{class:"fjs-form-field-placeholder",children:[q(r,{viewBox:"0 0 54 54"}),"Html view is templated"]})}):q(k5,{...n,disableLinks:!0})}Vde.config=k5.config;function zde(n){const{columnsExpression:e,columns:t,id:r,label:i}=n.field,a=typeof e=="string"&&e.length>0||Array.isArray(t)&&t.length===0?[{key:"1",label:"Column 1"},{key:"2",label:"Column 2"},{key:"3",label:"Column 3"}]:t,c=`fjs-form-${r}`;return q("div",{class:Yp("table",{disabled:!0}),children:[q(da,{id:c,label:i}),q("div",{class:"fjs-table-middle-container",children:q("div",{class:"fjs-table-inner-container",children:q("table",{class:er("fjs-table","fjs-disabled"),id:c,children:[q("thead",{class:"fjs-table-head",children:q("tr",{class:"fjs-table-tr",children:a.map(({key:u,label:h})=>q("th",{class:"fjs-table-th",children:h},u))})}),q("tbody",{class:"fjs-table-body",children:q("tr",{class:"fjs-table-tr",children:a.map(({key:u})=>q("td",{class:"fjs-table-td",children:"Content"},u))})})]})})})]})}zde.config=gV.config;const YVe="expression";function Hde(n){const{field:e}=n,{expression:t="",key:r}=e,i=Zv("expression"),o=To("expressionLanguage");let a="Expression is empty";return t.trim()&&o.isExpression(t)&&(a=`Expression for '${r}'`),q("div",{class:Yp(YVe),children:q("div",{class:"fjs-form-field-placeholder",children:[q(i,{viewBox:"0 0 54 54"}),a]})})}Hde.config={...mV.config,escapeGridRender:!1};function Wde(n){const{field:e,domId:t}=n,{label:r}=e,i=Zv(e.type);return q("div",{class:Yp(e.type),children:[q(da,{id:t,label:r}),q("div",{class:"fjs-documentPreview-placeholder",id:t,children:q("p",{class:"fjs-documentPreview-placeholder-text",children:[q(i,{width:"32",height:"24",viewBox:"0 0 56 56"}),"Document preview"]})})]})}Wde.config=yV.config;const QVe=[Fde,jde,Vde,zde,Hde,Wde];class KVe extends vV{constructor(){super(),QVe.forEach(e=>{this.register(e.config.type,e)})}}const rZ=n=>{const{rootClass:e,RootElement:t,section:r,children:i}=n,o=To("eventBus"),a=To(`config.${r}`),[c,u]=hn(a&&a.parent||null),[h,m]=hn(!0),v=$n(()=>{if(c===null)return null;if(typeof c=="string"){if(!document.querySelector(c))throw new Error(`Target root element with selector '${c}' not found for section '${r}'`);return document.querySelector(c)}if(!(c instanceof Element))throw new Error(`Target root element for section '${r}' must be a valid selector or DOM element`);return c},[r,c]);sn(()=>{const k=({container:F})=>{u(F),m(!0)},R=()=>{u(null),m(!1)},T=()=>{u(null),m(!0)};return o.on(`${r}.attach`,k),o.on(`${r}.detach`,R),o.on(`${r}.reset`,T),o.fire(`${r}.section.rendered`),()=>{o.off(`${r}.attach`,k),o.off(`${r}.detach`,R),o.off(`${r}.reset`,T),o.fire(`${r}.section.destroyed`)}},[o,r]),sn(()=>{if(h)return o.fire(`${r}.rendered`,{element:v}),()=>{o.fire(`${r}.destroyed`,{element:v})}},[o,r,h,v]);const _=qn(({children:k})=>t?q(t,{children:k}):q("div",{className:e,children:k}),[e,t]);return h?c?t5(q(_,{children:i}),v):q(_,{children:i}):null},qde=Du({addFill(n,e){throw new Error("FillContext.addFill() uninitialized")},removeFill(n){throw new Error("FillContext.addFill() uninitialized")}}),XVe=n=>{const e=Kn(Symbol("fill_uid")),t=_i(qde);return sn(()=>{if(t)return t.addFill({id:e,...n}),()=>{t.removeFill(e)}},[t,n]),null},Ude=Du({fills:[]}),Gde=n=>{const{name:e,fillRoot:t=ZVe,groupFn:r=eze,separatorFn:i=v=>null,limit:o}=n,{fills:a}=_i(Ude),c=$n(()=>a.filter(v=>v.slot===e),[a,e]),u=$n(()=>o?c.slice(0,o):c,[c,o]),h=$n(()=>r(u),[u,r]);return $n(()=>JVe(h,t,i),[h,t,i])},ZVe=n=>q(Vo,{children:n.children},n.id),JVe=(n,e,t)=>{const r=[];return n.forEach((i,o)=>{if(o!==0){const a=t(`__separator_${o}`);a&&r.push(a)}i.forEach(a=>{r.push(e(a))})}),r},eze=n=>{const e=[],t={};return n.forEach(function(r){const{group:i="z_default"}=r;let o=t[i];o||(t[i]=o=[],e.push(o)),o.push(r)}),e.forEach(r=>r.sort(tze)),Object.keys(t).sort().map(r=>t[r])},tze=(n,e)=>(e.priority||0)-(n.priority||0),iZ=()=>{},nze=n=>{const[e,t]=hn([]),{onSetFill:r=iZ,onRemoveFill:i=iZ}=n,o=$n(()=>({addFill:c=>{t(u=>[...u.filter(h=>h.id!==c.id),c]),r(c)},removeFill:c=>{t(u=>u.filter(h=>h.id!==c)),i(c)}}),[i,r]),a=$n(()=>({fills:e}),[e]);return q(Ude.Provider,{value:a,children:q(qde.Provider,{value:o,children:n.children})})};function rze(n){const{type:e,label:t,icon:r,iconUrl:i,getPaletteIcon:o}=n,a=To("modeling"),c=To("formEditor"),u=o({icon:r,iconUrl:i,label:t,type:e}),h=m=>{if(m.code==="Enter"){const{fieldType:v}=m.target.dataset,{schema:_}=c._getState();a.addFormField({type:v},_,_.components.length)}};return q("button",{type:"button",class:"fjs-palette-field fjs-drag-copy fjs-no-drop","data-field-type":e,title:`Create ${ize(e)} ${t} element`,onKeyDown:h,children:[u?q(u,{class:"fjs-palette-field-icon",width:"36",height:"36",viewBox:"0 0 54 54"}):null,q("span",{class:"fjs-palette-field-text",children:t})]})}function ize(n){return["image"].includes(n)?"an":"a"}const oze=[{label:"Input",id:"basic-input"},{label:"Selection",id:"selection"},{label:"Presentation",id:"presentation"},{label:"Containers",id:"container"},{label:"Action",id:"action"}];function sze(n){const e=To("formFields"),t=Kn(Yde(e)),[r,i]=hn(t.current),[o,a]=hn(""),c=Kn(),u=lze(r),h=qn(k=>k.toLowerCase().replace(/\s+/g,""),[]),m=qn(k=>{const R=h(o);if(!R)return!0;const T=h(k.label),F=h(k.type);return T.includes(R)||F.includes(R)},[o,h]);sn(()=>{const k=t.current.filter(m);i(k)},[m,o]);const v=qn(k=>{a(()=>k.target.value)},[a]),_=qn(k=>{a(""),c.current.focus()},[c,a]);return q("div",{class:"fjs-palette",children:[q("div",{class:"fjs-palette-header",title:"Components",children:"Components"}),q("div",{class:"fjs-palette-search-container",children:[q("span",{class:"fjs-palette-search-icon",children:q(UVe,{})}),q("input",{class:"fjs-palette-search",ref:c,type:"text",placeholder:"Search components",value:o,onInput:v}),o&&q("button",{type:"button",title:"Clear content",class:"fjs-palette-search-clear",onClick:_,children:q(HVe,{})})]}),q("div",{class:"fjs-palette-entries",children:[u.map(({label:k,entries:R,id:T})=>q("div",{class:"fjs-palette-group","data-group-id":T,children:[q("span",{class:"fjs-palette-group-title",children:k}),q("div",{class:"fjs-palette-fields fjs-drag-container fjs-no-drop",children:R.map(F=>q(rze,{getPaletteIcon:TV,...F},F.type))})]},T)),u.length==0&&q("div",{class:"fjs-palette-no-entries",children:"No components found."})]}),q("div",{class:"fjs-palette-footer",children:q(Gde,{name:"editor-palette__footer",fillRoot:aze})})]})}const aze=n=>q("div",{className:"fjs-palette-footer-fill",children:n.children});function lze(n){const e=oze.map(r=>({...r,entries:[]})),t=r=>e.find(i=>r===i.id);return n.forEach(r=>{const{group:i}=r;t(i).entries.push(r)}),e.filter(r=>r.entries.length)}function Yde(n){return Object.entries(n._formFields).map(([e,t])=>{const{config:r}=t;return{label:r.name||r.label,type:e,group:r.group,icon:r.icon,iconUrl:r.iconUrl}}).filter(({type:e})=>e!=="default")}function TV(n){const{icon:e,iconUrl:t,type:r,label:i}=n;let o;return t?o=function(){return q("img",{class:"fjs-field-icon-image",width:36,style:{margin:"auto"},alt:i,src:oue(t)})}:o=e||Zv(r),o}const cze=()=>{const e=To("renderInjector").fetchRenderers(),t=$n(()=>({useService:To,components:{Fill:XVe,Slot:Gde}}),[]);return q(Vo,{children:e.map(({Renderer:r},i)=>q(r,{...t},i))})},uze=/^fjs-cursor-.*$/;function O5(n){const e=C5(document.body);e.removeMatching(uze),n&&e.add("fjs-cursor-"+n)}function dze(){O5(null)}const oZ="fjs-drag-container",Mj="fjs-drop-container-vertical",J3="fjs-drop-container-horizontal",Dj="fjs-drag-move",SC="fjs-drag-row-move",sZ="fjs-drag-copy",fze="fjs-no-drop",Qde="fjs-no-move",Kde="fjs-error-drop";class Xde{constructor(e,t,r,i,o,a){this._formFieldRegistry=e,this._formLayouter=t,this._formLayoutValidator=r,this._eventBus=i,this._modeling=o,this._pathRegistry=a}getTargetIndex(e,t,r){const i=r&&r.querySelector(".fjs-element"),o=i&&this._formFieldRegistry.get(i.dataset.id);return o?D2(t,o):e?D2(t,this._formFieldRegistry.get(e.components[e.components.length-1]))+1:t.components.length}validateDrop(e,t){const r=e.querySelector(".fjs-element"),i=this._formLayouter.getRow(t.dataset.rowId);let o,a,c;if(r){if(a=this._formFieldRegistry.get(r.dataset.id),!a)return"No associated form field in the registry";if(o=(a.layout||{}).columns,RF(t)){c=EM(t).dataset.id;const m=this._formLayoutValidator.validateField(a,o,i);if(m)return m}else c=t.dataset.id;if(!c)return"Drop is not a valid target";const u=this._formFieldRegistry.get(c),h=this._formFieldRegistry.get(a._parent);if(u!==h){const m=this._pathRegistry.getValuePath(u),v=this._pathRegistry.getValuePath(h);if(m.join(".")!==v.join(".")&&!this._pathRegistry.executeRecursivelyOnFields(a,({field:k,isClosed:R,isRepeatable:T})=>{const F={cutoffNode:h.id},$=this._pathRegistry.getValuePath(k,F);return this._pathRegistry.canClaimPath([...m,...$],{isClosed:R,isRepeatable:T,knownAncestorIds:_C(c,this._formFieldRegistry)})}))return"Drop not allowed by path registry"}}}moveField(e,t,r,i,o){const a=e.querySelector(".fjs-element"),c=this._formFieldRegistry.get(a.dataset.id),u=EM(t),h=this._formFieldRegistry.get(u.dataset.id),m=D2(h,c),v=this._formLayouter.getRowForField(c);this._modeling.moveFormField(c,h,i,m,o,v,r)}createNewField(e,t,r,i){let a={type:e.dataset.fieldType};a={...a,_parent:r.id,layout:{row:t?t.id:this._formLayouter.nextRowId(),columns:null}},this._modeling.addFormField(a,r,i)}handleRowDrop(e,t,r,i){const o=this._formFieldRegistry.get(t.dataset.id),a=e.querySelector(".fjs-layout-row"),c=this._formLayouter.getRow(a.dataset.rowId);c.components.forEach((u,h)=>{const m=this._formFieldRegistry.get(u),v=EM(r),_=this._formFieldRegistry.get(v.dataset.id),k=i&&i.querySelector(".fjs-layout-row"),R=k&&this._formLayouter.getRow(k.dataset.rowId),T=i&&this._formFieldRegistry.get(R.components[0]),F=D2(_,m),$=(k?D2(o,T):o.components.length)+h;this._modeling.moveFormField(m,_,o,F,$,c,c)})}handleElementDrop(e,t,r,i,o){const a=this._formFieldRegistry.get(EM(t).dataset.id);let c;if(RF(t)&&(c=this._formLayouter.getRow(t.dataset.rowId)),this.validateDrop(e,t))return o.cancel(!0);o.remove();const h=this.getTargetIndex(c,a,i);pze(r)?this.createNewField(e,c,a,h):this.moveField(e,r,c,a,h)}createDragulaInstance(e){const{container:t,mirrorContainer:r}=e||{},o=w7e({direction:function(a,c){return RF(c)?"horizontal":"vertical"},mirrorContainer:r,isContainer(a){return t.some(c=>a.classList.contains(c))},moves(a,c,u){return!u.classList.contains(Qde)&&(a.classList.contains(Dj)||a.classList.contains(sZ)||a.classList.contains(SC))},copy(a){return a.classList.contains(sZ)},accepts:(a,c)=>(gze(c),a.classList.contains(SC)?!c.classList.contains(J3):(this.validateDrop(a,c)&&mze(c),!c.classList.contains(fze))),transformOffset:(a,c,u)=>{if(u.classList.contains(SC)){const h={x:-5,y:-60};return{left:c.clientX+h.x,top:c.clientY+h.y}}if(u.classList.contains(Dj)){const h={x:-5,y:-15};return{left:c.clientX+h.x,top:c.clientY+h.y}}return a},slideFactorX:10,slideFactorY:5});return o.on("drag",(a,c)=>{this.emit("drag.start",{element:a,source:c})}),o.on("dragend",a=>{this.emit("drag.end",{element:a})}),o.on("drop",(a,c,u,h)=>{this.emit("drag.drop",{element:a,target:c,source:u,sibling:h})}),o.on("over",(a,c,u)=>{this.emit("drag.hover",{element:a,container:c,source:u})}),o.on("out",(a,c,u)=>{this.emit("drag.out",{element:a,container:c,source:u})}),o.on("cancel",(a,c,u)=>{this.emit("drag.cancel",{element:a,container:c,source:u})}),o.on("drop",(a,c,u,h)=>{if(!c){o.remove();return}hze(a)?this.handleRowDrop(a,c,u,h):this.handleElementDrop(a,c,u,h,o)}),this.emit("dragula.created",o),o}emit(e,t){this._eventBus.fire(e,t)}}Xde.$inject=["formFieldRegistry","formLayouter","formLayoutValidator","eventBus","modeling","pathRegistry"];function D2(n,e){let t=n.components.length;return n.components.forEach(({id:r},i)=>{r===e.id&&(t=i)}),t}function RF(n){return n.classList.contains("fjs-layout-row")}function hze(n){return n.classList.contains(SC)}function pze(n){return n.classList.contains("fjs-palette-fields")}function EM(n){return n.closest(".fjs-element")}function mze(n){n.classList.add(Kde),O5("not-allowed")}function gze(n){n.classList.remove(Kde),O5("grabbing")}function yze(n){const{class:e,Icon:t,label:r}=n;return q("div",{class:er("fjs-field-preview",e),children:[q(t,{class:"fjs-field-preview-icon",width:"36",height:"36",viewBox:"0 0 54 54"}),q("span",{class:"fjs-field-preview-text",children:r})]})}const vze=/^cds--col(-lg)?/,Zde="fjs-element-resizing",bze=16;function aZ(n){const{field:e,position:t}=n,r=Kn(null),i=To("formLayoutValidator"),o=To("modeling"),a=Kn({startColumns:0,newColumns:0}),c=jVe((m,v)=>{const{x:_}=v,{layout:k={}}=e,R=xze(r.current,k.columns||a.current.startColumns,_,t);if(!i.validateField(e,R)){a.current.newColumns=R;const F=r.current.closest(".fjs-layout-column");wze(F,vze),F.classList.add(`cds--col-lg-${R}`)}}),u=m=>{const v=lZ(e),_=efe(v);BVe(c)(m);const T=_ze(v).getBoundingClientRect().width+bze;a.current.startColumns=Jde(T,_),Eze(v,t)},h=()=>{const{layout:m={}}=e;a.current.newColumns&&o.editFormField(e,"layout",{...m,columns:a.current.newColumns});const v=lZ(e);Sze(v,t),a.current.newColumns=null};return e.type==="default"?null:q("div",{ref:r,class:er("fjs-field-resize-handle","fjs-field-resize-handle-"+t,Qde),draggable:!0,onDragStart:u,onDragEnd:h})}function Jde(n,e){const t=e.getBoundingClientRect().width,r=1/16*t;return Math.round(n/r)}function xze(n,e,t,r){const i=efe(n);r==="left"&&(t=t*-1);const o=Jde(t,i);return e+o}function efe(n){return n.closest(".fjs-layout-row")}function wze(n,e){return C5(n).removeMatching(e)}function _ze(n){return n.closest(".fjs-layout-column")}function lZ(n){return _g('.fjs-element[data-id="'+n.id+'"]')}function Eze(n,e){C5(n).add(Zde+"-"+e)}function Sze(n,e){C5(n).remove(Zde+"-"+e)}function kze(n){return n.children?q("div",{class:"fjs-context-pad",children:n.children}):null}function Cze(){return q("div",{class:"fjs-empty-component",children:q("span",{class:"fjs-empty-component-text",children:"Drag and drop components here."})})}function Oze(){return q("div",{class:"fjs-empty-editor",children:q("div",{class:"fjs-empty-editor-card",children:[q(GVe,{}),q("h2",{children:"Build your form"}),q("span",{children:"Drag and drop components here to start designing."}),q("span",{children:"Use the preview window to test your form."})]})})}function Tze(n){return["group","dynamiclist"].includes(n.field.type)?q(Cze,{}):n.field.type==="default"?q(Oze,{}):null}function Aze(n){const e=To("eventBus"),t=To("formFieldRegistry"),r=To("formFields"),i=To("modeling"),o=To("selection"),{hoverInfo:a}=_i(Xv),{field:c}=n,{id:u,type:h,showOutline:m}=c,v=Kn(),[_,k]=hn(!1);sn(()=>{function B({selection:I}){const Y=Jce(v.current);if(!I||I.type==="default"||I.id!==u||!Y||!v.current)return;const oe=v.current.getBoundingClientRect(),ne=Y.getBoundingClientRect(),ae=oe.height>ne.height;(oe.bottom>ne.bottom||oe.top<ne.top)&&!ae&&v.current.scrollIntoView({behavior:"auto",block:"nearest"})}return e.on("selection.changed",B),()=>e.off("selection.changed",B)},[e,u]),fb(()=>{o.isSelected(c)&&v.current.focus()},[o,c]);const R=qn(B=>{const I=B.target.closest("[data-id]");if(!I)return;I.dataset.id===c.id&&o.toggle(c)},[c,o]),T=o.isSelected(c),F=$n(()=>{const B=[];return n.class&&B.push(...n.class.split(" ")),T&&B.push("fjs-editor-selected"),["group","dynamiclist"].includes(h)&&B.push(m?"fjs-outlined":"fjs-dashed-outlined"),_&&B.push("fjs-editor-hovered"),B.join(" ")},[_,T,n.class,m,h]),$=B=>{B.stopPropagation();const I=t.get(c._parent),Y=Ize(I,c);i.removeFormField(c,I,Y)};return q("div",{class:F,"data-id":u,"data-field-type":h,tabIndex:h==="default"?-1:0,onClick:R,onKeyPress:B=>{B.key==="Enter"&&(B.stopPropagation(),o.toggle(c))},onMouseOver:B=>{a.cleanup&&a.cleanup(),k(!0),a.cleanup=()=>k(!1),B.stopPropagation()},ref:v,children:[q(Rze,{field:c}),q(kze,{children:o.isSelected(c)&&c.type!=="default"?q("button",{type:"button",title:$ze(c,r),class:"fjs-context-pad-item",onClick:$,children:q(WVe,{})}):null}),n.children,q(aZ,{position:"left",field:c}),q(aZ,{position:"right",field:c})]})}function Rze(n){const{field:e}=n;return!To("config.debugColumns")||e.type=="default"?null:q("div",{style:"width: fit-content; padding: 2px 6px; height: 16px; background: var(--color-blue-205-100-95); display: flex; justify-content: center; align-items: center; position: absolute; bottom: -2px; z-index: 2; font-size: 10px; right: 3px;",class:"fjs-debug-columns",children:(e.layout||{}).columns||"auto"})}function Pze(n){const{field:e}=n,{id:t}=e,r=["fjs-children",Mj];return n.class&&r.push(...n.class.split(" ")),q("div",{class:r.join(" "),"data-id":t,children:n.children})}function Mze(n){const{row:e}=n,{id:t}=e,r=[J3];return n.class&&r.push(...n.class.split(" ")),q("div",{class:er(SC),children:[q("span",{class:"fjs-row-dragger",children:q(qVe,{})}),q("div",{class:r.join(" "),style:n.style,"data-row-id":t,children:n.children})]})}function Dze(n){const{field:e}=n,t=[Dj];return e.type==="default"?n.children:(n.class&&t.push(...n.class.split(" ")),q("div",{"data-field-type":e.type,class:t.join(" "),children:n.children}))}function Nze(){const n=To("dragging"),e=To("eventBus"),t=To("formEditor"),r=To("injector"),i=To("selection"),o=To("propertiesPanel"),a=To("config.propertiesPanel"),{schema:c,properties:u}=t._getState(),{ariaLabel:h}=u,m=Kn(null),v=Kn(null),[,_]=hn(c),[k,R]=hn(!1);sn(()=>{function ne(ae){_(ae.selection||c)}return e.on("selection.changed",ne),()=>{e.off("selection.changed",ne)}},[e,c]),sn(()=>{_(i.get()||c)},[i,c]);const[T,F]=hn(null),$={drake:T};sn(()=>{let ne=n.createDragulaInstance({container:[oZ,Mj,J3],mirrorContainer:m.current});F(ne);const ae=()=>{ne&&(ne.destroy(),e.fire("dragula.destroyed"))},Te=()=>{ae(),ne=n.createDragulaInstance({container:[oZ,Mj,J3],mirrorContainer:m.current}),F(ne)},Me=Ce=>{F(Ce)},Ee=()=>{O5("grabbing")},we=()=>{dze()};return e.on("attach",Te),e.on("detach",ae),e.on("dragula.created",Me),e.on("drag.start",Ee),e.on("drag.end",we),()=>{ae(),e.off("attach",Te),e.off("detach",ae),e.off("dragula.created",Me),e.off("drag.start",Ee),e.off("drag.end",we)}},[n,e]),sn(()=>{k||(R(!0),e.fire("rendered"),e.fire("formEditor.rendered"))},[e,k]);const j=$n(()=>({Children:Pze,Column:Dze,Element:Aze,Empty:Tze,Row:Mze,hoverInfo:{}}),[]),B=$n(()=>({getService(ne,ae=!0){return ne==="form"?{_getState(){return{data:{},errors:{},properties:{ariaLabel:h,disabled:!0},schema:c}}}:r.get(ne,ae)},formId:t._id}),[h,t,r,c]),I=qn(()=>{},[]),Y=qn(()=>{},[]),oe=Fze(a);return sn(()=>{oe&&o.attachTo(v.current)},[v,o,oe]),q("div",{class:"fjs-form-editor",children:q(nze,{children:[q($de.Provider,{value:$,children:[q(rZ,{rootClass:"fjs-palette-container",section:"palette",children:q(sze,{})}),q("div",{ref:m,class:"fjs-form-container",children:q(NE.Provider,{value:B,children:q(Xv.Provider,{value:j,children:q(Yue,{onSubmit:I,onReset:Y})})})}),q(Lze,{})]}),oe&&q("div",{class:"fjs-editor-properties-container",ref:v}),q(rZ,{rootClass:"fjs-render-injector-container",section:"renderInjector",children:q(cze,{})})]})})}function Ize(n,e){let t=n.components.length;return n.components.forEach(({id:r},i)=>{r===e.id&&(t=i)}),t}function Lze(n){const{drake:e}=_i($de),t=To("formFields");return sn(()=>{if(!e)return;function r(i,o,a){const c=i.dataset.fieldType;if(c){const u=tfe(c,t);if(!u)return;const{label:h}=u,m=TV(u);i.innerHTML="",i.class="gu-mirror",i.classList.add("fjs-field-preview-container"),o.classList.contains("fjs-palette-field")&&i.classList.add("cds--col"),bg(q(yze,{label:h,Icon:m}),i)}else["fjs-context-pad","fjs-row-dragger","fjs-debug-columns"].forEach(u=>{const h=i.querySelectorAll("."+u);h.length&&h.forEach(m=>m.remove())}),i.classList.add("cds--grid"),i.classList.add("cds--grid--condensed")}return e.on("cloned",r),()=>e.off("cloned",r)},[e,t]),null}function tfe(n,e){return Yde(e).find(t=>t.type===n)}function Fze(n){return!(n&&n.parent)}function $ze(n,e){const t=tfe(n.type,e);return t?`Remove ${t.label}`:"Remove form field"}class nfe{constructor(e,t,r,i){const{container:o,compact:a=!1}=e;t.on("form.init",function(){t.fire("canvas.init",{svg:o,viewport:null})}),o.addEventListener("mouseover",function(){document.activeElement===document.body&&o.focus({preventScroll:!0})}),o.addEventListener("click",function(u){o.contains(document.activeElement)||o.focus({preventScroll:!0})});const c=()=>{const[u,h]=hn(r._getState()),m={getService(_,k=!0){return i.get(_,k)}};r.on("changed",_=>{h(_)});const{schema:v}=u;return v?q("div",{class:`fjs-container fjs-editor-container ${a?"fjs-editor-compact":""}`,children:q(Bde.Provider,{value:m,children:q(Nze,{})})}):null};t.on("form.init",()=>{bg(q(c,{}),o)}),t.on("form.destroy",()=>{bg(null,o)})}}nfe.$inject=["config.renderer","eventBus","formEditor","injector"];const Bze={__init__:["formFields","renderer"],formFields:["type",KVe],renderer:["type",nfe]},jze={__depends__:[Bze],debounce:["factory",Ide],eventBus:["type",Iu],importer:["type",bV],formFieldRegistry:["type",LVe],pathRegistry:["type",wV],formLayouter:["type",_V],formLayoutValidator:["type",Lde],fieldFactory:["type",xV]};var rfe="is not a registered action",Vze="is already registered";function rm(n,e){this._actions={};var t=this;n.on("diagram.init",function(){t._registerDefaultActions(e),n.fire("editorActions.init",{editorActions:t})})}rm.$inject=["eventBus","injector"];rm.prototype._registerDefaultActions=function(n){var e=n.get("commandStack",!1),t=n.get("modeling",!1),r=n.get("selection",!1),i=n.get("zoomScroll",!1),o=n.get("copyPaste",!1),a=n.get("canvas",!1),c=n.get("rules",!1),u=n.get("keyboardMove",!1),h=n.get("keyboardMoveSelection",!1);e&&(this.register("undo",function(){e.undo()}),this.register("redo",function(){e.redo()})),o&&r&&this.register("copy",function(){var m=r.get();if(m.length)return o.copy(m)}),o&&this.register("paste",function(){o.paste()}),i&&this.register("stepZoom",function(m){i.stepZoom(m.value)}),a&&this.register("zoom",function(m){a.zoom(m.value)}),t&&r&&c&&this.register("removeSelection",function(){var m=r.get();if(m.length){var v=c.allowed("elements.delete",{elements:m}),_;v!==!1&&(fa(v)?_=v:_=m,_.length&&t.removeElements(_.slice()))}}),u&&this.register("moveCanvas",function(m){u.moveCanvas(m)}),h&&this.register("moveSelection",function(m){h.moveSelection(m.direction,m.accelerated)})};rm.prototype.trigger=function(n,e){if(!this._actions[n])throw AV(n,rfe);return this._actions[n](e)};rm.prototype.register=function(n,e){var t=this;if(typeof n=="string")return this._registerAction(n,e);tm(n,function(r,i){t._registerAction(i,r)})};rm.prototype._registerAction=function(n,e){if(this.isRegistered(n))throw AV(n,Vze);this._actions[n]=e};rm.prototype.unregister=function(n){if(!this.isRegistered(n))throw AV(n,rfe);this._actions[n]=void 0};rm.prototype.getActions=function(){return Object.keys(this._actions)};rm.prototype.isRegistered=function(n){return!!this._actions[n]};function AV(n,e){return new Error(n+" "+e)}var zze={__init__:["editorActions"],editorActions:["type",rm]};class ife extends rm{constructor(e,t){super(e,t),e.on("form.init",()=>{this._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:this})})}_registerDefaultActions(e){const t=e.get("commandStack",!1),r=e.get("formFieldRegistry",!1),i=e.get("selection",!1);t&&(this.register("undo",()=>{t.undo()}),this.register("redo",()=>{t.redo()})),r&&i&&this.register("selectFormField",(o={})=>{const{id:a}=o;if(!a)return;const c=r.get(a);c&&i.set(c)})}}ife.$inject=["eventBus","injector"];const Hze={__depends__:[zze],editorActions:["type",ife]};class ofe{isTemplate(e){return Zo(e)&&(e.startsWith("=")||/{{/.test(e))}evaluate(e){return e}}ofe.$inject=[];const Wze={__init__:["expressionLanguage","templating"],expressionLanguage:["type",w5],templating:["type",ofe]};var qze=["c","C"],Uze=["v","V"],Gze=["y","Y"],sfe=["z","Z"];function Yze(n){return n.ctrlKey||n.metaKey||n.shiftKey||n.altKey}function kv(n){return n.altKey?!1:n.ctrlKey||n.metaKey}function jp(n,e){return n=fa(n)?n:[n],n.indexOf(e.key)!==-1||n.indexOf(e.code)!==-1}function RV(n){return n.shiftKey}function Qze(n){return kv(n)&&jp(qze,n)}function Kze(n){return kv(n)&&jp(Uze,n)}function afe(n){return kv(n)&&!RV(n)&&jp(sfe,n)}function lfe(n){return kv(n)&&(jp(Gze,n)||jp(sfe,n)&&RV(n))}var T5="keyboard.keydown",Xze="keyboard.keyup",Zze=1e3,cfe="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function lc(n,e){var t=this;this._config=n=n||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){t._fire("destroy"),t.unbind()}),n.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(cfe));var r=n&&n.bind!==!1;e.on("canvas.init",function(i){t._target=i.svg,r&&t.bind(),t._fire("init")})}lc.$inject=["config.keyboard","eventBus"];lc.prototype._keydownHandler=function(n){this._keyHandler(n,T5)};lc.prototype._keyupHandler=function(n){this._keyHandler(n,Xze)};lc.prototype._keyHandler=function(n,e){var t;if(!this._isEventIgnored(n)){var r={keyEvent:n};t=this._eventBus.fire(e||T5,r),t&&n.preventDefault()}};lc.prototype._isEventIgnored=function(n){return!1};lc.prototype.bind=function(n){n&&console.error("unsupported argument <node>",new Error(cfe)),this.unbind(),n=this._node=this._target,G3.bind(n,"keydown",this._keydownHandler),G3.bind(n,"keyup",this._keyupHandler),this._fire("bind")};lc.prototype.getBinding=function(){return this._node};lc.prototype.unbind=function(){var n=this._node;n&&(this._fire("unbind"),G3.unbind(n,"keydown",this._keydownHandler),G3.unbind(n,"keyup",this._keyupHandler)),this._node=null};lc.prototype._fire=function(n){this._eventBus.fire("keyboard."+n,{node:this._node})};lc.prototype.addListener=function(n,e,t){Ao(n)&&(t=e,e=n,n=Zze),this._eventBus.on(t||T5,n,e)};lc.prototype.removeListener=function(n,e){this._eventBus.off(e||T5,n)};lc.prototype.hasModifier=Yze;lc.prototype.isCmd=kv;lc.prototype.isShift=RV;lc.prototype.isKey=jp;var Jze=500;function PV(n,e){var t=this;n.on("editorActions.init",Jze,function(r){var i=r.editorActions;t.registerBindings(e,i)})}PV.$inject=["eventBus","keyboard"];PV.prototype.registerBindings=function(n,e){function t(r,i){e.isRegistered(r)&&n.addListener(i)}t("undo",function(r){var i=r.keyEvent;if(afe(i))return e.trigger("undo"),!0}),t("redo",function(r){var i=r.keyEvent;if(lfe(i))return e.trigger("redo"),!0}),t("copy",function(r){var i=r.keyEvent;if(Qze(i))return e.trigger("copy"),!0}),t("paste",function(r){var i=r.keyEvent;if(Kze(i))return e.trigger("paste"),!0}),t("stepZoom",function(r){var i=r.keyEvent;if(jp(["+","Add","="],i)&&kv(i))return e.trigger("stepZoom",{value:1}),!0}),t("stepZoom",function(r){var i=r.keyEvent;if(jp(["-","Subtract"],i)&&kv(i))return e.trigger("stepZoom",{value:-1}),!0}),t("zoom",function(r){var i=r.keyEvent;if(jp("0",i)&&kv(i))return e.trigger("zoom",{value:1}),!0}),t("removeSelection",function(r){var i=r.keyEvent;if(jp(["Backspace","Delete","Del"],i))return e.trigger("removeSelection"),!0})};var eHe={__init__:["keyboard","keyboardBindings"],keyboard:["type",lc],keyboardBindings:["type",PV]};const tHe=500;class ufe{constructor(e,t){e.on("editorActions.init",tHe,r=>{const{editorActions:i}=r;this.registerBindings(t,i)})}registerBindings(e,t){function r(i,o){t.isRegistered(i)&&e.addListener(o)}r("undo",i=>{const{keyEvent:o}=i;if(afe(o))return t.trigger("undo"),!0}),r("redo",i=>{const{keyEvent:o}=i;if(lfe(o))return t.trigger("redo"),!0})}}ufe.$inject=["eventBus","keyboard"];const nHe={__depends__:[eHe],__init__:["keyboardBindings"],keyboardBindings:["type",ufe]},rHe={__init__:["dragging"],dragging:["type",Xde]};function fs(n,e){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=e,this._eventBus=n,this._uid=1,n.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}fs.$inject=["eventBus","injector"];fs.prototype.execute=function(n,e){if(!n)throw new Error("command required");this._currentExecution.trigger="execute";const t={command:n,context:e};this._pushAction(t),this._internalExecute(t),this._popAction()};fs.prototype.canExecute=function(n,e){const t={command:n,context:e},r=this._getHandler(n);let i=this._fire(n,"canExecute",t);if(i===void 0){if(!r)return!1;r.canExecute&&(i=r.canExecute(e))}return i};fs.prototype.clear=function(n){this._stack.length=0,this._stackIdx=-1,n!==!1&&this._fire("changed",{trigger:"clear"})};fs.prototype.undo=function(){let n=this._getUndoAction(),e;if(n){for(this._currentExecution.trigger="undo",this._pushAction(n);n&&(this._internalUndo(n),e=this._getUndoAction(),!(!e||e.id!==n.id));)n=e;this._popAction()}};fs.prototype.redo=function(){let n=this._getRedoAction(),e;if(n){for(this._currentExecution.trigger="redo",this._pushAction(n);n&&(this._internalExecute(n,!0),e=this._getRedoAction(),!(!e||e.id!==n.id));)n=e;this._popAction()}};fs.prototype.register=function(n,e){this._setHandler(n,e)};fs.prototype.registerHandler=function(n,e){if(!n||!e)throw new Error("command and handlerCls must be defined");const t=this._injector.instantiate(e);this.register(n,t)};fs.prototype.canUndo=function(){return!!this._getUndoAction()};fs.prototype.canRedo=function(){return!!this._getRedoAction()};fs.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};fs.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};fs.prototype._internalUndo=function(n){const e=n.command,t=n.context,r=this._getHandler(e);this._atomicDo(()=>{this._fire(e,"revert",n),r.revert&&this._markDirty(r.revert(t)),this._revertedAction(n),this._fire(e,"reverted",n)})};fs.prototype._fire=function(n,e,t){arguments.length<3&&(t=e,e=null);const r=e?[n+"."+e,e]:[n];let i;t=this._eventBus.createEvent(t);for(const o of r)if(i=this._eventBus.fire("commandStack."+o,t),t.cancelBubble)break;return i};fs.prototype._createId=function(){return this._uid++};fs.prototype._atomicDo=function(n){const e=this._currentExecution;e.atomic=!0;try{n()}finally{e.atomic=!1}};fs.prototype._internalExecute=function(n,e){const t=n.command,r=n.context,i=this._getHandler(t);if(!i)throw new Error("no command handler registered for <"+t+">");this._pushAction(n),e||(this._fire(t,"preExecute",n),i.preExecute&&i.preExecute(r),this._fire(t,"preExecuted",n)),this._atomicDo(()=>{this._fire(t,"execute",n),i.execute&&this._markDirty(i.execute(r)),this._executedAction(n,e),this._fire(t,"executed",n)}),e||(this._fire(t,"postExecute",n),i.postExecute&&i.postExecute(r),this._fire(t,"postExecuted",n)),this._popAction()};fs.prototype._pushAction=function(n){const e=this._currentExecution,t=e.actions,r=t[0];if(e.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+n.command+")");n.id||(n.id=r&&r.id||this._createId()),t.push(n)};fs.prototype._popAction=function(){const n=this._currentExecution,e=n.trigger,t=n.actions,r=n.dirty;t.pop(),t.length||(this._eventBus.fire("elements.changed",{elements:kie("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:e}),n.trigger=null)};fs.prototype._markDirty=function(n){const e=this._currentExecution;n&&(n=fa(n)?n:[n],e.dirty=e.dirty.concat(n))};fs.prototype._executedAction=function(n,e){const t=++this._stackIdx;e||this._stack.splice(t,this._stack.length,n)};fs.prototype._revertedAction=function(n){this._stackIdx--};fs.prototype._getHandler=function(n){return this._handlerMap[n]};fs.prototype._setHandler=function(n,e){if(!n||!e)throw new Error("command and handler required");if(this._handlerMap[n])throw new Error("overriding handler for command <"+n+">");this._handlerMap[n]=e};var iHe={commandStack:["type",fs]},oHe=1e3;function Qa(n){this._eventBus=n}Qa.$inject=["eventBus"];function sHe(n,e){return function(t){return n.call(e||null,t.context,t.command,t)}}Qa.prototype.on=function(n,e,t,r,i,o){if((Ao(e)||rc(e))&&(o=i,i=r,r=t,t=e,e=null),Ao(t)&&(o=i,i=r,r=t,t=oHe),_f(i)&&(o=i,i=!1),!Ao(r))throw new Error("handlerFn must be a function");fa(n)||(n=[n]);var a=this._eventBus;tm(n,function(c){var u=["commandStack",c,e].filter(function(h){return h}).join(".");a.on(u,t,i?sHe(r,o):r,o)})};Qa.prototype.canExecute=Tg("canExecute");Qa.prototype.preExecute=Tg("preExecute");Qa.prototype.preExecuted=Tg("preExecuted");Qa.prototype.execute=Tg("execute");Qa.prototype.executed=Tg("executed");Qa.prototype.postExecute=Tg("postExecute");Qa.prototype.postExecuted=Tg("postExecuted");Qa.prototype.revert=Tg("revert");Qa.prototype.reverted=Tg("reverted");function Tg(n){return function(t,r,i,o,a){(Ao(t)||rc(t))&&(a=o,o=i,i=r,r=t,t=null),this.on(t,n,r,i,o,a)}}class dfe extends Qa{constructor(e,t){super(e),this.preExecute("formField.remove",function(r){const{formField:i}=r,{id:o}=i;t.unclaimId(i,o)},!0),this.preExecute("formField.edit",function(r){const{formField:i,properties:o}=r;"id"in o&&(t.unclaimId(i,i.id),t.claimId(i,o.id))},!0)}}dfe.$inject=["eventBus","modeling"];class ffe extends Qa{constructor(e,t,r){super(e),this.preExecute("formField.remove",function(i){const{formField:o}=i,{key:a,type:c}=o,{config:u}=r.get(c);u.keyed&&t.unclaimKey(o,a)},!0),this.preExecute("formField.edit",function(i){const{formField:o,properties:a}=i,{key:c,type:u}=o,{config:h}=r.get(u);h.keyed&&"key"in a&&(t.unclaimKey(o,c),t.claimKey(o,a.key))},!0)}}ffe.$inject=["eventBus","modeling","formFields"];class hfe extends Qa{constructor(e,t,r){super(e),this.preExecute("formField.remove",function(i){const{formField:o}=i,{path:a,type:c}=o,{config:u}=r.get(c);u.pathed&&t.unclaimPath(o,a)},!0),this.preExecute("formField.edit",function(i){const{formField:o,properties:a}=i,{path:c,type:u}=o,{config:h}=r.get(u);h.pathed&&"path"in a&&(t.unclaimPath(o,c),t.claimPath(o,a.path))},!0)}}hfe.$inject=["eventBus","modeling","formFields"];class pfe extends Qa{constructor(e){super(e),this.preExecute("formField.edit",function(t){const{properties:r}=t,{validate:i={}}=r;if(i.validationType){const o={...i};delete o.minLength,delete o.maxLength,delete o.pattern,r.validate=o}},!0)}}pfe.$inject=["eventBus"];class mfe extends Qa{constructor(e){super(e),this.preExecute("formField.edit",function(t){const{properties:r}=t,i={};aHe(r)&&(Object.values(us).forEach(o=>{const a=Sh[o];wt(r,a)==null&&(i[Sh[o]]=void 0)}),(wt(r,Sh[us.EXPRESSION])!==void 0||wt(r,Sh[us.INPUT])!==void 0)&&(i.defaultValue=void 0),t.properties={...r,...i})},!0)}}mfe.$inject=["eventBus"];function aHe(n){return Object.values(Sh).some(e=>wt(n,e)!==void 0)}const N2={columns:"columns",columnsExpression:"columnsExpression"};class gfe extends Qa{constructor(e){super(e),this.preExecute("formField.edit",function(t){const{properties:r,oldProperties:i}=t;if(!Object.values(N2).some(m=>wt(r,[m])!==void 0))return;const a=wt(r,[N2.columns]),c=wt(i,[N2.columns]),u=wt(r,[N2.columnsExpression]),h=wt(i,[N2.columnsExpression]);if(fa(a)&&!M8(c)){t.properties={...r,columnsExpression:void 0};return}if(Zo(u)&&!Zo(h)){t.properties={...r,columns:void 0};return}},!0)}}gfe.$inject=["eventBus"];class yfe extends Qa{constructor(e){super(e),this.preExecute("formField.add",function(t){const{formField:r}=t;wt(r,["type"])==="table"&&(t.formField={...r,dataSource:`=${r.id}`})},!0)}}yfe.$inject=["eventBus"];const lHe={__init__:["idBehavior","keyBehavior","pathBehavior","validateBehavior","optionsSourceBehavior","columnsSourceBehavior","tableDataSourceBehavior"],idBehavior:["type",dfe],keyBehavior:["type",ffe],pathBehavior:["type",hfe],validateBehavior:["type",pfe],optionsSourceBehavior:["type",mfe],columnsSourceBehavior:["type",gfe],tableDataSourceBehavior:["type",yfe]};function MV(n,e,t){return n.splice(e,0,t),n}function DV(n,e){return n.splice(e,1),n}function K1(n,e,t){const r=n.get(e._parent);return vfe(e,[...r._path,"components",t]),e}function vfe(n,e){n._path=e,(n.components||[]).forEach((r,i)=>{vfe(r,[...e,"components",i])})}function Nj(n,e){return n.layout={...n.layout||{},row:e},n}class bfe extends Qa{constructor(e,t,r,i){super(e),this._eventBus=e,this._formLayouter=t,this._modeling=r,this._formEditor=i,this.preExecute(["formField.add","formField.remove","formField.move","id.updateClaim"],o=>this.updateRowIds(o)),e.on("changed",o=>{const{schema:a}=o;this.updateLayout(a)})}updateLayout(e){this._formLayouter.clear(),this._formLayouter.calculateLayout(Eu(e))}updateRowIds(e){const{schema:t}=this._formEditor._getState(),r=i=>{!i.components||!i.components.length||i.components.forEach(o=>{const a=this._formLayouter.getRowForField(o);Nj(o,a.id),r(o)})};r(t)}}bfe.$inject=["eventBus","formLayouter","modeling","formEditor"];class xfe{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{formField:t,targetFormField:r,targetIndex:i}=e,{schema:o}=this._formEditor._getState(),a=[...r._path,"components"];t._parent=r.id,MV(wt(o,a),i,t),wt(o,a).forEach((c,u)=>K1(this._formFieldRegistry,c,u)),this._formFieldRegistry.add(t),this._formEditor._setState({schema:o})}revert(e){const{formField:t,targetFormField:r,targetIndex:i}=e,{schema:o}=this._formEditor._getState(),a=[...r._path,"components"];DV(wt(o,a),i),wt(o,a).forEach((c,u)=>K1(this._formFieldRegistry,c,u)),this._formFieldRegistry.remove(t),this._formEditor._setState({schema:o})}}xfe.$inject=["formEditor","formFieldRegistry"];class wfe{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{formField:t,properties:r}=e;let{schema:i}=this._formEditor._getState();const o={};for(let a in r){o[a]=t[a];const c=r[a];a==="id"?c!==t.id&&this._formFieldRegistry.updateId(t,c):t[a]=c}return e.oldProperties=o,this._formEditor._setState({schema:i}),t}revert(e){const{formField:t,oldProperties:r}=e;let{schema:i}=this._formEditor._getState();for(let o in r){const a=r[o];o==="id"?a!==t.id&&this._formFieldRegistry.updateId(t,a):t[o]=a}return this._formEditor._setState({schema:i}),t}}wfe.$inject=["formEditor","formFieldRegistry"];class _fe{constructor(e,t,r,i){this._formEditor=e,this._formFieldRegistry=t,this._pathRegistry=r,this._formLayouter=i}execute(e){this.moveFormField(e)}revert(e){let{sourceFormField:t,targetFormField:r,sourceIndex:i,targetIndex:o,sourceRow:a,targetRow:c}=e;this.moveFormField({sourceFormField:r,targetFormField:t,sourceIndex:o,targetIndex:i,sourceRow:c,targetRow:a},!0)}moveFormField(e,t){let{sourceFormField:r,targetFormField:i,sourceIndex:o,targetIndex:a,targetRow:c}=e,{schema:u}=this._formEditor._getState();const h=[...r._path,"components"];if(r.id===i.id){t?o>a&&o--:o<a&&a--;const m=wt(u,[...h,o]);Nj(m,c?c.id:this._formLayouter.nextRowId()),T7e(wt(u,h),o,a),wt(u,h).forEach((v,_)=>K1(this._formFieldRegistry,v,_))}else{const m=wt(u,[...h,o]);this._pathRegistry.executeRecursivelyOnFields(m,({field:_})=>{this._pathRegistry.unclaimPath(this._pathRegistry.getValuePath(_))}),m._parent=i.id,DV(wt(u,h),o),wt(u,h).forEach((_,k)=>K1(this._formFieldRegistry,_,k));const v=[...i._path,"components"];Nj(m,c?c.id:this._formLayouter.nextRowId()),MV(wt(u,v),a,m),wt(u,v).forEach((_,k)=>K1(this._formFieldRegistry,_,k)),this._pathRegistry.executeRecursivelyOnFields(m,({field:_,isClosed:k,isRepeatable:R})=>{this._pathRegistry.claimPath(this._pathRegistry.getValuePath(_),{isClosed:k,isRepeatable:R,claimerId:_.id})})}this._formEditor._setState({schema:u})}}_fe.$inject=["formEditor","formFieldRegistry","pathRegistry","formLayouter"];class Efe{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{sourceFormField:t,sourceIndex:r}=e;let{schema:i}=this._formEditor._getState();const o=[...t._path,"components"],a=e.formField=wt(i,[...o,r]);DV(wt(i,o),r),wt(i,o).forEach((c,u)=>K1(this._formFieldRegistry,c,u)),DB(a,c=>this._formFieldRegistry.remove(c)),this._formEditor._setState({schema:i})}revert(e){const{formField:t,sourceFormField:r,sourceIndex:i}=e;let{schema:o}=this._formEditor._getState();const a=[...r._path,"components"];MV(wt(o,a),i,t),wt(o,a).forEach((c,u)=>K1(this._formFieldRegistry,c,u)),DB(t,c=>this._formFieldRegistry.add(c)),this._formEditor._setState({schema:o})}}Efe.$inject=["formEditor","formFieldRegistry"];class Sfe{constructor(e){this._formFieldRegistry=e}execute(e){const{claiming:t,formField:r,id:i}=e;t?this._formFieldRegistry._ids.claim(i,r):this._formFieldRegistry._ids.unclaim(i)}revert(e){const{claiming:t,formField:r,id:i}=e;t?this._formFieldRegistry._ids.unclaim(i):this._formFieldRegistry._ids.claim(i,r)}}Sfe.$inject=["formFieldRegistry"];class kfe{constructor(e){this._pathRegistry=e}execute(e){const{claiming:t,formField:r,key:i}=e,o={replacements:{[r.id]:i}},a=this._pathRegistry.getValuePath(r,o);t?this._pathRegistry.claimPath(a,{isClosed:!0,claimerId:r.id}):this._pathRegistry.unclaimPath(a),e.valuePath=a}revert(e){const{claiming:t,formField:r,valuePath:i}=e;t?this._pathRegistry.unclaimPath(i):this._pathRegistry.claimPath(i,{isClosed:!0,claimerId:r.id})}}kfe.$inject=["pathRegistry"];class Cfe{constructor(e){this._pathRegistry=e}execute(e){const{claiming:t,formField:r,path:i}=e,o={replacements:{[r.id]:i}},a=[];t?this._pathRegistry.executeRecursivelyOnFields(r,({field:c,isClosed:u,isRepeatable:h})=>{const m=this._pathRegistry.getValuePath(c,o);a.push({valuePath:m,isClosed:u,isRepeatable:h,claimerId:c.id}),this._pathRegistry.claimPath(m,{isClosed:u,isRepeatable:h,claimerId:c.id})}):this._pathRegistry.executeRecursivelyOnFields(r,({field:c,isClosed:u,isRepeatable:h})=>{const m=this._pathRegistry.getValuePath(c,o);a.push({valuePath:m,isClosed:u,isRepeatable:h,claimerId:c.id}),this._pathRegistry.unclaimPath(m)}),e.valuePaths=a}revert(e){const{claiming:t,valuePaths:r}=e;t?r.forEach(({valuePath:i})=>{this._pathRegistry.unclaimPath(i)}):r.forEach(({valuePath:i,isClosed:o,isRepeatable:a,claimerId:c})=>{this._pathRegistry.claimPath(i,{isClosed:o,isRepeatable:a,claimerId:c})})}}Cfe.$inject=["pathRegistry"];class Ofe{constructor(e,t,r,i,o){this._commandStack=e,this._formEditor=r,this._formFieldRegistry=i,this._fieldFactory=o,t.on("form.init",()=>{this.registerHandlers()})}registerHandlers(){Object.entries(this.getHandlers()).forEach(([e,t])=>{this._commandStack.registerHandler(e,t)})}getHandlers(){return{"formField.add":xfe,"formField.edit":wfe,"formField.move":_fe,"formField.remove":Efe,"id.updateClaim":Sfe,"key.updateClaim":kfe,"path.updateClaim":Cfe}}addFormField(e,t,r){const i=this._fieldFactory.create(e),o={formField:i,targetFormField:t,targetIndex:r};return this._commandStack.execute("formField.add",o),i}editFormField(e,t,r){_f(t)||(t={[t]:r});const i={formField:e,properties:t};this._commandStack.execute("formField.edit",i)}moveFormField(e,t,r,i,o,a,c){const u={formField:e,sourceFormField:t,targetFormField:r,sourceIndex:i,targetIndex:o,sourceRow:a,targetRow:c};this._commandStack.execute("formField.move",u)}removeFormField(e,t,r){const i={formField:e,sourceFormField:t,sourceIndex:r};this._commandStack.execute("formField.remove",i)}claimId(e,t){const r={formField:e,id:t,claiming:!0};this._commandStack.execute("id.updateClaim",r)}unclaimId(e,t){const r={formField:e,id:t,claiming:!1};this._commandStack.execute("id.updateClaim",r)}claimKey(e,t){const r={formField:e,key:t,claiming:!0};this._commandStack.execute("key.updateClaim",r)}unclaimKey(e,t){const r={formField:e,key:t,claiming:!1};this._commandStack.execute("key.updateClaim",r)}claimPath(e,t){const r={formField:e,path:t,claiming:!0};this._commandStack.execute("path.updateClaim",r)}unclaimPath(e,t){const r={formField:e,path:t,claiming:!1};this._commandStack.execute("path.updateClaim",r)}}Ofe.$inject=["commandStack","eventBus","formEditor","formFieldRegistry","fieldFactory"];const cHe={__depends__:[lHe,iHe],__init__:["formLayoutUpdater","modeling"],formLayoutUpdater:["type",bfe],modeling:["type",Ofe]};class Tfe{constructor(e){this._eventBus=e,this._selection=null}get(){return this._selection}set(e){this._selection!==e&&(this._selection=e,this._eventBus.fire("selection.changed",{selection:this._selection}))}toggle(e){const t=this._selection===e?null:e;this.set(t)}clear(){this.set(null)}isSelected(e){return this._selection===e}}Tfe.$inject=["eventBus"];class Afe{constructor(e,t){e.on(["commandStack.formField.add.postExecuted","commandStack.formField.move.postExecuted"],({context:r})=>{const{formField:i}=r;t.set(i)}),e.on("commandStack.formField.remove.postExecuted",({context:r})=>{const{sourceFormField:i,sourceIndex:o}=r,a=i.components[o]||i.components[o-1];a?t.set(a):t.clear()}),e.on("formField.remove",({formField:r})=>{t.isSelected(r)&&t.clear()})}}Afe.$inject=["eventBus","selection"];const uHe={__init__:["selection","selectionBehavior"],selection:["type",Tfe],selectionBehavior:["type",Afe]};class Rfe{constructor(e,t){this._eventBus=e,this._sectionKey=t,this._eventBus.on(`${this._sectionKey}.section.rendered`,()=>{this.isSectionRendered=!0}),this._eventBus.on(`${this._sectionKey}.section.destroyed`,()=>{this.isSectionRendered=!1})}attachTo(e){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.attach`,{container:e}))}detach(){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.detach`))}reset(){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.reset`))}_onceSectionRendered(e){this.isSectionRendered?e():this._eventBus.once(`${this._sectionKey}.section.rendered`,e)}}class Pfe extends Rfe{constructor(e){super(e,"palette")}}Pfe.$inject=["eventBus"];const dHe={__init__:["palette"],palette:["type",Pfe]};var A5=function(e){return q("svg",{...e,children:q("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};A5.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Mfe=function(e){return q("svg",{...e,children:q("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z",fill:"currentColor"})})};Mfe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Dfe=function(e){return q("svg",{...e,children:q("path",{fillRule:"evenodd",d:"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z"})})};Dfe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Nfe=function(e){return q("svg",{...e,children:q("path",{fillRule:"evenodd",d:"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z"})})};Nfe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Ife=function(e){return q("svg",{...e,children:[q("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),q("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),q("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};Ife.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var Lfe=function(e){return q("svg",{...e,children:q("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};Lfe.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var Ffe=function(e){return q("svg",{...e,children:q("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})})};Ffe.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var $fe=function(e){return q("svg",{...e,children:[q("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z"}),q("path",{d:"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z"})]})};$fe.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var NV=function(e){return q("svg",{...e,children:[q("path",{fill:"currentColor",d:"M28 4H10a2.006 2.006 0 0 0-2 2v14a2.006 2.006 0 0 0 2 2h18a2.006 2.006 0 0 0 2-2V6a2.006 2.006 0 0 0-2-2Zm0 16H10V6h18Z"}),q("path",{fill:"currentColor",d:"M18 26H4V16h2v-2H4a2.006 2.006 0 0 0-2 2v10a2.006 2.006 0 0 0 2 2h14a2.006 2.006 0 0 0 2-2v-2h-2Z"})]})};NV.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 32 32"};function fHe(n){const{element:e,headerProvider:t}=n,{getElementIcon:r,getDocumentationRef:i,getElementLabel:o,getTypeLabel:a}=t,c=o(e),u=a(e),h=i&&i(e),m=r(e);return q("div",{class:"bio-properties-panel-header",children:[q("div",{class:"bio-properties-panel-header-icon",children:m&&q(m,{width:"32",height:"32",viewBox:"0 0 32 32"})}),q("div",{class:"bio-properties-panel-header-labels",children:[q("div",{title:u,class:"bio-properties-panel-header-type",children:u}),c?q("div",{title:c,class:"bio-properties-panel-header-label",children:c}):null]}),q("div",{class:"bio-properties-panel-header-actions",children:h?q("a",{rel:"noreferrer",class:"bio-properties-panel-header-link",href:h,title:"Open documentation",target:"_blank",children:q(Lfe,{})}):null})]})}const Bfe=Du({description:{},getDescriptionForId:()=>{}}),IV=Du({errors:{}}),jfe=Du({eventBus:null}),Ah=Du({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),Vfe=Du({tooltip:{},getTooltipForId:()=>{}});function hHe(n,e){const{getTooltipForId:t}=_i(Vfe);return t(n,e)}function Jv(n){const{forId:e,element:t}=n,r=hHe(e,t),i=n.value||r;return i?q(pHe,{...n,value:i,forId:`bio-properties-panel-${e}`}):n.children}function pHe(n){const{forId:e,value:t,parent:r,direction:i="right",position:o}=n,[a,c]=hn(!1),u=200;let h=null;const m=Kn(null),v=Kn(null),_=(j,B)=>{a||(B?h=setTimeout(()=>{c(!0)},u):c(!0))},k=()=>{clearTimeout(h),c(!1)},R=({relatedTarget:j})=>{j===m.current||j===v.current||(j==null?void 0:j.parentElement)===v.current||k()},T=j=>{var Y;const{target:B}=j,I=B.matches(":hover")||((Y=v.current)==null?void 0:Y.matches(":hover"));if(B===m.current&&I){j.stopPropagation();return}k()},F=j=>{j.code==="Escape"&&k()},$=()=>q("div",{class:`bio-properties-panel-tooltip ${i}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":e,style:o||mHe(m.current),ref:v,onClick:j=>j.stopPropagation(),onMouseLeave:R,children:[q("div",{class:"bio-properties-panel-tooltip-content",children:t}),q("div",{class:"bio-properties-panel-tooltip-arrow"})]});return q("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:m,onMouseEnter:j=>_(j,!0),onMouseLeave:R,onFocus:_,onBlur:T,onKeyDown:F,children:[n.children,a?r?t5($(),r.current):$():null]})}function mHe(n){const e=n.getBoundingClientRect(),t=`calc(100% - ${e.x}px)`,r=`${e.top-10}px`;return`right: ${t}; top: ${r};`}function gHe(n,e){const{getDescriptionForId:t}=_i(Bfe);return t(n,e)}function $E(n){const{errors:e}=_i(IV);return e[n]}function zfe(){const{errors:n}=_i(IV);return n}function AO(n,e,t){const r=_i(jfe);t||({eventBus:t}=r);const i=Kn(!1);t&&!i.current&&t.on(n,e),sn(()=>(t&&i.current&&t.on(n,e),i.current=!0,()=>{t&&t.off(n,e)}),[e,n,t])}function Hfe(n,e){const{getLayoutForKey:t,setLayoutForKey:r}=_i(Ah),i=t(n,e),o=qn(a=>{r(n,a)},[r]);return[i,o]}function LV(n){const e=Kn();return sn(()=>{e.current=n}),e.current}function mT(n){const{onShow:e}=_i(Ah),t=Kn(),r=Kn(!1),i=qn(o=>{o.id===n&&(e(),r.current||(r.current=!0))},[n]);return sn(()=>{r.current&&t.current&&(Ao(t.current.focus)&&t.current.focus(),Ao(t.current.select)&&t.current.select(),r.current=!1)}),AO("propertiesPanel.showEntry",i),t}function Wfe(n,e,t){const[r,i]=hn(_g(e)),o=qn(()=>{const a=_g(e);a!==r&&i(a)},[e,r]);sn(()=>{o()},[o]),AO("propertiesPanel.attach",o),AO("propertiesPanel.detach",o),sn(()=>{const a=IntersectionObserver;if(!a||!n.current||!r)return;const c=new a(u=>{r.scrollHeight!==0&&u.forEach(h=>{h.intersectionRatio<1?t(!0):h.intersectionRatio===1&&t(!1)})},{root:r,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return c.observe(n.current),()=>{c.unobserve(n.current)}},[n.current,r,t])}function nE(n){const e=Kn(n);return e.current=n,qn((...t)=>e.current(...t),[])}function yHe(n){const[e,t]=hn(!!n&&!!n.clientHeight);return fb(()=>{if(!n)return;const r=new ResizeObserver(([i])=>{requestAnimationFrame(()=>{const o=!!i.contentRect.height;o!==e&&t(o)})});return r.observe(n),()=>r.disconnect()},[n,e]),e}function kC(n){const{element:e,entries:t=[],id:r,label:i,shouldOpen:o=!1}=n,a=Kn(null),[c,u]=Hfe(["groups",r,"open"],o),h=qn(()=>u(!0),[u]),m=()=>u(!c),[v,_]=hn(!1),[k,R]=hn(!1);sn(()=>{const j=requestAnimationFrame(()=>{const B=t.find(I=>{const{id:Y,isEdited:oe}=I,ne=_g(`[data-entry-id="${Y}"]`);if(!Ao(oe)||!ne)return!1;const ae=_g(".bio-properties-panel-input",ne);return oe(ae)});_(B)});return()=>cancelAnimationFrame(j)},[t,_]);const T=zfe(),F=t.some(j=>T[j.id]);Wfe(a,"div.bio-properties-panel-scroll-container",R);const $={..._i(Ah),onShow:h};return q("div",{class:"bio-properties-panel-group","data-group-id":"group-"+r,ref:a,children:[q("div",{class:er("bio-properties-panel-group-header",v?"":"empty",c?"open":"",k&&c?"sticky":""),onClick:m,children:[q("div",{title:n.tooltip?null:i,"data-title":i,class:"bio-properties-panel-group-header-title",children:q(Jv,{value:n.tooltip,forId:"group-"+r,element:e,parent:a,children:i})}),q("div",{class:"bio-properties-panel-group-header-buttons",children:[q(vHe,{edited:v,hasErrors:F}),q("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:q(A5,{class:c?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),q("div",{class:er("bio-properties-panel-group-entries",c?"open":""),children:q(Ah.Provider,{value:$,children:t.map(j=>{const{component:B,id:I}=j;return St(B,{...j,element:e,key:I})})})})]})}function vHe(n){const{edited:e,hasErrors:t}=n;return t?q("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):e?q("div",{title:"Section contains data",class:"bio-properties-panel-dot"}):null}function cZ(n){const{text:e,icon:t}=n;return q("div",{class:"bio-properties-panel open",children:q("section",{class:"bio-properties-panel-placeholder",children:[t&&q(t,{class:"bio-properties-panel-placeholder-icon"}),q("p",{class:"bio-properties-panel-placeholder-text",children:e})]})})}function Db(n){const{element:e,forId:t,value:r}=n,i=gHe(t,e),o=r||i;if(o)return q("div",{class:"bio-properties-panel-description",children:o})}const uZ=()=>{},bHe=function(n,e){const[t,r]=hn(void 0);e.current=$n(()=>({focus:i=>{n?n.focus(i):(typeof i>"u"&&(i=1/0),r(i))}}),[n]),sn(()=>{typeof t<"u"&&n&&(n.focus(t),r(!1))},[n,t])},qfe=Yv((n,e)=>{const{onInput:t,disabled:r,tooltipContainer:i,enableGutters:o,value:a,onLint:c=uZ,onPopupOpen:u=uZ,popupOpen:h,contentAttributes:m={},hostLanguage:v=null,singleLine:_=!1}=n,k=Kn(),[R,T]=hn(),[F,$]=hn(a||"");bHe(R,e);const j=nE(I=>{t(I),$(I)});sn(()=>{let I;return I=new v5({container:k.current,onChange:j,value:F,onLint:c,contentAttributes:m,tooltipContainer:i,enableGutters:o,hostLanguage:v,singleLine:_,lineWrap:!0}),T(I),()=>{c([]),k.current.innerHTML="",T(null)}},[]),sn(()=>{R&&a!==F&&(R.setValue(a),$(a))},[a]);const B=()=>{e.current.focus()};return q("div",{class:er("bio-properties-panel-feelers-editor-container",h?"popupOpen":null),children:[q("div",{class:"bio-properties-panel-feelers-editor__open-popup-placeholder",children:"Opened in editor"}),q("div",{name:n.name,class:er("bio-properties-panel-feelers-editor bio-properties-panel-input",F?"edited":null,r?"disabled":null),ref:k,onClick:B}),q("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>u("feelers"),children:q(NV,{})})]})}),PF=()=>{},xHe=function(n,e){const[t,r]=hn(void 0);e.current=$n(()=>({focus:i=>{n?n.focus(i):(typeof i>"u"&&(i=1/0),r(i))}}),[n]),sn(()=>{typeof t<"u"&&n&&(n.focus(t),r(!1))},[n,t])},Ufe=Yv((n,e)=>{const{contentAttributes:t,enableGutters:r,value:i,onInput:o,onFeelToggle:a=PF,onLint:c=PF,onPopupOpen:u=PF,placeholder:h,popupOpen:m,disabled:v,tooltipContainer:_,variables:k}=n,R=Kn(),[T,F]=hn(),[$,j]=hn(i||"");xHe(T,e);const B=nE(Y=>{o(Y),j(Y)});sn(()=>{let Y;const oe=ne=>{if(ne.key!=="Backspace"||!Y)return;const ae=Y.getSelection(),Te=ae.ranges[ae.mainIndex];Te.from===0&&Te.to===0&&a()};return Y=new FE({container:R.current,onChange:B,onKeyDown:oe,onLint:c,placeholder:h,tooltipContainer:_,value:$,variables:k,extensions:[...r?[ale()]:[],On.lineWrapping],contentAttributes:t}),F(Y),()=>{c([]),R.current.innerHTML="",F(null)}},[]),sn(()=>{T&&i!==$&&(T.setValue(i),j(i))},[i]),sn(()=>{T&&T.setVariables(k)},[k]),sn(()=>{T&&T.setPlaceholder(h)},[h]);const I=()=>{e.current.focus()};return q("div",{class:er("bio-properties-panel-feel-editor-container",v?"disabled":null,m?"popupOpen":null),children:[q("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),q("div",{name:n.name,class:er("bio-properties-panel-input",$?"edited":null),ref:R,onClick:I}),q("button",{type:"button",title:"Open pop-up editor",class:"bio-properties-panel-open-feel-popup",onClick:()=>u(),children:q(NV,{})})]})});function wHe(n){const{active:e}=n;return e?q("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}const _He=()=>{};function EHe(n){const{feel:e=!1,active:t,disabled:r=!1,onClick:i=_He}=n,o="FEEL expression is mandatory",a=`Click to ${t?"remove":"set a"} dynamic value with FEEL expression`,c=u=>{i(u),u.pointerType||u.stopPropagation()};return q("button",{type:"button",class:er("bio-properties-panel-feel-icon",t?"active":null,e==="required"?"required":"optional"),onClick:c,disabled:e==="required"||r,title:e==="required"?o:a,children:q(Ffe,{})})}const FV=Du({open:()=>{},close:()=>{},source:null});function SHe(n,e){let t,r,i;function o(u){t=this,r=u.clientX,i=u.clientY,u.dataTransfer&&u.dataTransfer.setDragImage(e||kHe(),0,0),document.addEventListener("dragover",a,!0),document.addEventListener("dragenter",SM,!0),document.addEventListener("dragend",c),document.addEventListener("drop",SM)}function a(u){const h={x:u.clientX-r,y:u.clientY-i};return n.call(t,u,h)}function c(){document.removeEventListener("dragover",a,!0),document.removeEventListener("dragenter",SM,!0),document.removeEventListener("dragend",c),document.removeEventListener("drop",SM)}return o}function SM(n){n.preventDefault(),n.stopPropagation()}function kHe(){return kV('<canvas width="0" height="0" />')}const dZ=()=>{};function CHe(n,e){const{container:t,className:r,delayInitialFocus:i,position:o,width:a,height:c,onClose:u,onPostActivate:h=dZ,onPostDeactivate:m=dZ,returnFocus:v=!0,closeOnEscape:_=!0,title:k}=n,R=Kn(null),T=Kn(null),F=e||T,$=$n(()=>PHe(t),[t]),j=Y=>{Y.stopPropagation(),_&&Y.key==="Escape"&&u()},B=()=>{R.current&&R.current.activate()};let I={};return o&&(I={...I,top:o.top+"px",left:o.left+"px"}),a&&(I.width=a+"px"),c&&(I.height=c+"px"),sn(()=>(F.current&&F.current.addEventListener("focusin",B),()=>{F.current.removeEventListener("focusin",B)}),[F]),sn(()=>(F.current&&(R.current=DVe(F.current,{clickOutsideDeactivates:!0,delayInitialFocus:i,fallbackFocus:F.current,onPostActivate:h,onPostDeactivate:m,returnFocusOnDeactivate:v}),R.current.activate()),()=>R.current&&R.current.deactivate()),[F]),AO("propertiesPanel.detach",u),t5(q("div",{"aria-label":k,tabIndex:-1,ref:F,onKeyDown:j,role:"dialog",class:er("bio-properties-panel-popup",r),style:I,children:n.children}),$||document.body)}const d_=Yv(CHe);d_.Title=OHe;d_.Body=THe;d_.Footer=AHe;function OHe(n){const{children:e,className:t,draggable:r,emit:i=()=>{},title:o,showCloseButton:a=!1,closeButtonTooltip:c="Close popup",onClose:u,...h}=n,m=Kn({startPosition:null,newPosition:null}),v=Kn(),_=Kn(),k=(F,$)=>{RHe(F);const{x:j,y:B}=$,I={x:m.current.startPosition.x+j,y:m.current.startPosition.y+B},Y=fZ(_.current);Y.style.top=I.y+"px",Y.style.left=I.x+"px",i("dragover",{newPosition:I,delta:$})},R=F=>{SHe(k,v.current)(F),F.stopPropagation();const B=fZ(_.current).getBoundingClientRect();m.current.startPosition={x:B.left,y:B.top},i("dragstart")},T=()=>{m.current.newPosition=null,i("dragend")};return q("div",{class:er("bio-properties-panel-popup__header",r&&"draggable",t),ref:_,draggable:r,onDragStart:R,onDragEnd:T,...h,children:[r&&q(Vo,{children:[q("div",{ref:v,class:"bio-properties-panel-popup__drag-preview"}),q("div",{class:"bio-properties-panel-popup__drag-handle",children:q(Ife,{})})]}),q("div",{class:"bio-properties-panel-popup__title",children:o}),e,a&&q("button",{title:c,class:"bio-properties-panel-popup__close",onClick:u,children:q(Mfe,{})})]})}function THe(n){const{children:e,className:t,...r}=n;return q("div",{class:er("bio-properties-panel-popup__body",t),...r,children:e})}function AHe(n){const{children:e,className:t,...r}=n;return q("div",{class:er("bio-properties-panel-popup__footer",t),...r,children:n.children})}function fZ(n){return n.closest(".bio-properties-panel-popup")}function RHe(n){n.preventDefault(),n.stopPropagation()}function PHe(n){return typeof n=="string"?_g(n):n}const Gfe=700,MHe=250;function DHe(n){const{element:e,eventBus:t={fire(){},on(){},off(){}},popupContainer:r,getPopupLinks:i=()=>[]}=n,o=LV(e),[a,c]=hn({}),[u,h]=hn(!1),[m,v]=hn(null),[_,k]=hn(null),R=(B,I)=>{t.fire("feelPopup."+B,I)},T=qn(()=>!!u,[u]);LHe(()=>{u||R("closed")},[u]);const F=(B,I,Y)=>{v(B),c(I),h(!0),k(Y),R("open")},$=(B={})=>{const{id:I}=B;I&&I!==m||(h(!1),v(null))},j={open:F,close:$,source:m};return sn(()=>{e&&o&&e!==o&&$()},[e]),sn(()=>{const B=Y=>{const{entryId:oe,popupConfig:ne,sourceElement:ae}=Y;F(oe,ne,ae)},I=()=>T();return t.on("feelPopup._close",$),t.on("feelPopup._open",B),t.on("feelPopup._isOpen",I),()=>{t.off("feelPopup._close",$),t.off("feelPopup._open",F),t.off("feelPopup._isOpen",I)}},[t,T]),q(FV.Provider,{value:j,children:[u&&q(NHe,{onClose:$,container:r,getLinks:i,sourceElement:_,emit:R,...a}),n.children]})}function NHe(n){const{container:e,getLinks:t,id:r,hostLanguage:i,onInput:o,onClose:a,position:c,singleLine:u,sourceElement:h,title:m,tooltipContainer:v,type:_,value:k,variables:R,emit:T}=n,F=Kn(),$=Kn(),j=Kn(!1),B=()=>{h&&h.focus()},I=oe=>{oe.key==="Escape"&&(j.current=IHe(oe.target))},Y=oe=>{oe.key==="Escape"&&(j.current||(a(),j.current=!1))};return sn(()=>(T("opened",{domNode:$.current}),()=>T("close",{domNode:$.current})),[]),sn(()=>{F.current&&F.current.focus()},[F]),q(d_,{container:e,className:"bio-properties-panel-feel-popup",emit:T,position:c,title:m,onClose:a,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:B,height:MHe,width:Gfe,ref:$,children:[q(d_.Title,{title:m,emit:T,showCloseButton:!0,closeButtonTooltip:"Save and close",onClose:a,draggable:!0,children:q(Vo,{children:t(_).map((oe,ne)=>q("a",{rel:"noreferrer",href:oe.href,target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:[oe.title,q($fe,{})]},ne))})}),q(d_.Body,{children:q("div",{onKeyDownCapture:I,onKeyDown:Y,class:"bio-properties-panel-feel-popup__body",children:[_==="feel"&&q(Ufe,{enableGutters:!0,id:hZ(r),name:r,onInput:o,value:k,variables:R,ref:F,tooltipContainer:v}),_==="feelers"&&q(qfe,{id:hZ(r),contentAttributes:{"aria-label":m},enableGutters:!0,hostLanguage:i,name:r,onInput:o,value:k,ref:F,singleLine:u,tooltipContainer:v})]})})]})}function hZ(n){return`bio-properties-panel-${n}`}function IHe(n){return n.closest(".cm-editor").querySelector(".cm-tooltip-autocomplete")}function LHe(n,e){const t=Kn(!1);sn(()=>{if(t.current)return n();t.current=!0},e)}function Yfe(n){const{id:e,label:t,onInput:r,value:i,switcherLabel:o,inline:a,onFocus:c,onBlur:u,inputRef:h,tooltip:m}=n,[v,_]=hn(i),k=async()=>{r(!i)},R=T=>{k(),_(T.target.value)};return sn(()=>{i!==v&&_(i)},[i]),q("div",{class:er("bio-properties-panel-toggle-switch",{inline:a}),children:[q("label",{class:"bio-properties-panel-label",for:pZ(e),children:q(Jv,{value:m,forId:e,element:n.element,children:t})}),q("div",{class:"bio-properties-panel-field-wrapper",children:[q("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[q("input",{ref:h,id:pZ(e),class:"bio-properties-panel-input",type:"checkbox",onFocus:c,onBlur:u,name:e,onInput:R,checked:!!v}),q("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),o&&q("p",{class:"bio-properties-panel-toggle-switch__label",children:o})]})]})}function $V(n){const{element:e,id:t,description:r,label:i,switcherLabel:o,inline:a,getValue:c,setValue:u,onFocus:h,onBlur:m,tooltip:v}=n,_=c(e);return q("div",{class:"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry","data-entry-id":t,children:[q(Yfe,{id:t,label:i,value:_,onInput:u,onFocus:h,onBlur:m,switcherLabel:o,inline:a,tooltip:v,element:e}),q(Db,{forId:t,element:e,value:r})]})}function BV(n){return n&&!!n.checked}function pZ(n){return`bio-properties-panel-${n}`}function Qfe(n){const{debounce:e,disabled:t,displayLabel:r=!0,id:i,inputRef:o,label:a,max:c,min:u,onInput:h,step:m,value:v="",onFocus:_,onBlur:k}=n,[R,T]=hn(v),F=$n(()=>e(j=>{j.validity.valid&&h(j.value?parseFloat(j.value):void 0)}),[h,e]),$=j=>{F(j.target),T(j.target.value)};return sn(()=>{v!==R&&T(v)},[v]),q("div",{class:"bio-properties-panel-numberfield",children:[r&&q("label",{for:mZ(i),class:"bio-properties-panel-label",children:a}),q("input",{id:mZ(i),ref:o,type:"number",name:i,spellCheck:"false",autoComplete:"off",disabled:t,class:"bio-properties-panel-input",max:c,min:u,onInput:$,onFocus:_,onBlur:k,step:m,value:R})]})}function R5(n){const{debounce:e,description:t,disabled:r,element:i,getValue:o,id:a,label:c,max:u,min:h,setValue:m,step:v,onFocus:_,onBlur:k,validate:R}=n,T=$E(a),[F,$]=hn(null);let j=o(i);sn(()=>{if(Ao(R)){const Y=R(j)||null;$(Y)}},[j,R]);const B=Y=>{let oe=null;Ao(R)&&(oe=R(Y)||null),m(Y,oe),$(oe)},I=T||F;return q("div",{class:er("bio-properties-panel-entry",I?"has-error":""),"data-entry-id":a,children:[q(Qfe,{debounce:e,disabled:r,id:a,label:c,onFocus:_,onBlur:k,onInput:B,max:u,min:h,step:v,value:j},i),I&&q("div",{class:"bio-properties-panel-error",children:I}),q(Db,{forId:a,element:i,value:t})]})}function P5(n){return n&&!!n.value}function mZ(n){return`bio-properties-panel-${n}`}const FHe=()=>{};function $He(n){const{debounce:e,id:t,element:r,label:i,hostLanguage:o,onInput:a,onBlur:c,onError:u,placeholder:h,feel:m,value:v="",disabled:_=!1,variables:k,singleLine:R,tooltipContainer:T,OptionalComponent:F=jHe,tooltip:$}=n,[j,B]=hn(v),I=mT(t),Y=Kn(),oe=Zo(j)&&j.startsWith("=")||m==="required",ne=Zo(j)&&j.startsWith("=")?j.substring(1):j,[ae,Te]=hn(void 0),{open:Me,source:Ee}=_i(FV),we=Ee===t,Ce=(Ye=0)=>{const ve=Y.current.contains(document.activeElement)?document.activeElement.selectionStart:1/0;Te(ve+Ye)},Oe=$n(()=>e(Ye=>{a(Ye)}),[a,e]),Fe=Ye=>{B(Ye),Oe(typeof Ye>"u"||Ye===""||Ye==="="?void 0:Ye)},ze=nE(()=>{m!=="required"&&Fe(oe?ne:"="+j)}),dt=Ye=>{oe&&(Ye="="+Ye),Ye!==j&&(Fe(Ye),!oe&&Zo(Ye)&&Ye.startsWith("=")&&Ce(-1))},De=Ye=>{c&&c(Ye),Fe(Ye.target.value.trim())},Ze=nE((Ye=[])=>{const rt=Ye.some(ve=>ve.type==="Syntax Error");u(rt?"Unparsable FEEL expression.":void 0)}),bt=(Ye="feel")=>{const rt={id:t,hostLanguage:o,onInput:dt,position:HHe(Y.current),singleLine:R,title:WHe(r,i),tooltipContainer:T,type:Ye,value:ne,variables:k};Me(t,rt,I.current)};return sn(()=>{typeof ae<"u"&&(I.current.focus(ae),Te(void 0))},[ae]),sn(()=>{if(v!==j){if(!v){Fe(oe?"=":"");return}Fe(v)}},[v]),sn(()=>{const Ye=ve=>{oe&&ve.clipboardData.setData("application/FEEL",ve.clipboardData.getData("text"))},rt=ve=>{if(oe||we)return;ve.clipboardData.getData("application/FEEL")&&setTimeout(()=>{ze(),Ce()})};return Y.current.addEventListener("copy",Ye),Y.current.addEventListener("cut",Ye),Y.current.addEventListener("paste",rt),()=>{Y.current.removeEventListener("copy",Ye),Y.current.removeEventListener("cut",Ye),Y.current.removeEventListener("paste",rt)}},[Y,oe,ze,Ce]),q("div",{class:er("bio-properties-panel-feel-entry",{"feel-active":oe}),children:[q("label",{for:f_(t),class:"bio-properties-panel-label",onClick:()=>Ce(),children:[q(Jv,{value:$,forId:t,element:n.element,children:i}),q(EHe,{label:i,feel:m,onClick:ze,active:oe})]}),q("div",{class:"bio-properties-panel-feel-container",ref:Y,children:[q(wHe,{active:oe,disabled:m!=="optional"||_,onClick:ze}),oe?q(Ufe,{name:t,onInput:dt,contentAttributes:{id:f_(t),"aria-label":i},disabled:_,popupOpen:we,onFeelToggle:()=>{ze(),Ce(!0)},onLint:Ze,onPopupOpen:bt,placeholder:h,value:ne,variables:k,ref:I,tooltipContainer:T}):q(F,{...n,popupOpen:we,onInput:dt,onBlur:De,contentAttributes:{id:f_(t),"aria-label":i},value:j,ref:I,onPopupOpen:bt,containerRef:Y})]})]})}const BHe=qHe($He),jHe=Yv((n,e)=>{const{id:t,disabled:r,onInput:i,value:o,onFocus:a,onBlur:c,placeholder:u}=n,h=Kn();return e.current={focus:m=>{const v=h.current;v&&(v.focus(),typeof m=="number"&&(m>o.length&&(m=o.length),v.setSelectionRange(m,m)))}},q("input",{id:f_(t),type:"text",ref:h,name:t,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:m=>i(m.target.value),onFocus:a,onBlur:c,placeholder:u,value:o||""})}),VHe=Yv((n,e)=>{const{id:t,debounce:r,disabled:i,onInput:o,value:a,min:c,max:u,step:h,onFocus:m,onBlur:v}=n,_=Kn();return e.current={focus:k=>{const R=_.current;R&&(R.focus(),typeof k=="number"&&k!==1/0&&(k>a.length&&(k=a.length),R.setSelectionRange(k,k)))}},q(Qfe,{id:t,debounce:r,disabled:i,displayLabel:!1,inputRef:_,max:u,min:c,onInput:o,step:h,value:a,onFocus:m,onBlur:v})});Yv((n,e)=>{const{id:t,disabled:r,onInput:i,value:o,onFocus:a,onBlur:c,placeholder:u}=n,h=Kn();return e.current={focus:()=>{const m=h.current;m&&(m.focus(),m.setSelectionRange(0,0))}},q("textarea",{id:f_(t),type:"text",ref:h,name:t,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:m=>i(m.target.value),onFocus:a,onBlur:c,placeholder:u,value:o||"","data-gramm":"false"})});const zHe=Yv((n,e)=>{const{id:t,onInput:r,value:i,onFocus:o,onBlur:a,switcherLabel:c}=n,u=Kn();return e.current={focus:()=>{const h=u.current;h&&h.focus()}},q(Yfe,{id:t,value:i,inputRef:u,onInput:r,onFocus:o,onBlur:a,switcherLabel:c})});Yv((n,e)=>{const{id:t,disabled:r,onInput:i,value:o,onFocus:a,onBlur:c}=n,u=Kn(),h=({target:m})=>{i(m.checked)};return e.current={focus:()=>{const m=u.current;m&&m.focus()}},q("input",{ref:u,id:f_(t),name:t,onFocus:a,onBlur:c,type:"checkbox",class:"bio-properties-panel-input",onChange:h,checked:o,disabled:r})});function BE(n){const{element:e,id:t,description:r,debounce:i,disabled:o,feel:a,label:c,getValue:u,setValue:h,tooltipContainer:m,hostLanguage:v,singleLine:_,validate:k,show:R=FHe,example:T,variables:F,onFocus:$,onBlur:j,placeholder:B,tooltip:I}=n,[Y,oe]=hn(null),[ne,ae]=hn(null);let Te=u(e);sn(()=>{if(Ao(k)){const Oe=k(Te)||null;oe(Oe)}},[Te,k]);const Me=nE(Oe=>{let Fe=null;Ao(k)&&(Fe=k(Oe)||null),Oe!==Te&&h(Oe,Fe),oe(Fe)}),Ee=qn(Oe=>{ae(Oe)},[]),Ce=$E(t)||ne||Y;return q("div",{class:er(n.class,"bio-properties-panel-entry",Ce?"has-error":""),"data-entry-id":t,children:[St(BHe,{...n,debounce:i,disabled:o,feel:a,id:t,key:e,label:c,onInput:Me,onError:Ee,onFocus:$,onBlur:j,placeholder:B,example:T,hostLanguage:v,singleLine:_,show:R,value:Te,variables:F,tooltipContainer:m,OptionalComponent:n.OptionalComponent,tooltip:I}),Ce&&q("div",{class:"bio-properties-panel-error",children:Ce}),q(Db,{forId:t,element:e,value:r})]})}function M5(n){return q(BE,{class:"bio-properties-panel-feel-number",OptionalComponent:VHe,...n})}function Kfe(n){return q(BE,{class:"bio-properties-panel-feel-toggle-switch",OptionalComponent:zHe,...n})}function Yc(n){return q(BE,{class:"bio-properties-panel-feel-templating",OptionalComponent:qfe,...n})}function Os(n){return n?n.type==="checkbox"?!!n.checked||n.classList.contains("edited"):!!n.value||n.classList.contains("edited"):!1}function f_(n){return`bio-properties-panel-${n}`}function HHe(n){const{top:e,left:t}=n.getBoundingClientRect();return{left:t-Gfe-20,top:e}}function WHe(n,e){let t="";return n&&n.type&&(t=`${n.type} / `),`${t}${e}`}function qHe(n){return function(e){const{id:t}=e,{close:r}=_i(FV),i=nE(r);return sn(()=>()=>{i({id:t})},[]),q(n,{...e})}}const UHe={},GHe={},YHe={};function QHe(n){const{element:e,headerProvider:t,placeholderProvider:r,groups:i,layoutConfig:o,layoutChanged:a,descriptionConfig:c,descriptionLoaded:u,tooltipConfig:h,tooltipLoaded:m,feelPopupContainer:v,getFeelPopupLinks:_,eventBus:k}=n,[R,T]=hn(gZ(o));ZHe(()=>{const Fe=gZ(o);T(Fe)},[o]),sn(()=>{typeof a=="function"&&a(R)},[R,a]);const j={layout:R,setLayout:T,getLayoutForKey:(Fe,ze)=>wt(R,Fe,ze),setLayoutForKey:(Fe,ze)=>{const dt=I8({},R);Es(dt,Fe,ze),T(dt)}},B=$n(()=>KHe(c),[c]);sn(()=>{typeof u=="function"&&u(B)},[B,u]);const Y={description:B,getDescriptionForId:(Fe,ze)=>B[Fe]&&B[Fe](ze)},oe=$n(()=>XHe(h),[h]);sn(()=>{typeof m=="function"&&m(oe)},[oe,m]);const ae={tooltip:oe,getTooltipForId:(Fe,ze)=>oe[Fe]&&oe[Fe](ze)},[Te,Me]=hn({});AO("propertiesPanel.setErrors",({errors:Fe})=>Me(Fe),k);const we={errors:Te},Ce={eventBus:k},Oe={element:e};return r&&!e?q(cZ,{...r.getEmpty()}):r&&fa(e)?q(cZ,{...r.getMultiple()}):q(Ah.Provider,{value:Oe,children:q(IV.Provider,{value:we,children:q(Bfe.Provider,{value:Y,children:q(Vfe.Provider,{value:ae,children:q(Ah.Provider,{value:j,children:q(jfe.Provider,{value:Ce,children:q(DHe,{element:e,eventBus:k,popupContainer:v,getPopupLinks:_,children:q("div",{class:"bio-properties-panel",children:[q(fHe,{element:e,headerProvider:t}),q("div",{class:"bio-properties-panel-scroll-container",children:i.map(Fe=>{const{component:ze=kC,id:dt}=Fe;return St(ze,{...Fe,key:dt,element:e})})})]})})})})})})})})}function gZ(n={},e=UHe){return{...e,...n}}function KHe(n={}){return{...GHe,...n}}function XHe(n={}){return{...YHe,...n}}function ZHe(n,e){const t=Kn(!1);fb(()=>{if(t.current)return n();t.current=!0},e)}function jV(n,e){return e=e||{},n.replace(/{([^}]+)}/g,function(t,r){return e[r]||"{"+r+"}"})}function JHe(n){const{element:e,entries:t=[],id:r,label:i,open:o,remove:a,translate:c=jV}=n,[u,h]=hn(o),m=()=>h(!u),{onShow:v}=_i(Ah),_={..._i(Ah),onShow:qn(()=>{h(!0),Ao(v)&&v()},[v,h])},k=c("<empty>");return q("div",{"data-entry-id":r,class:er("bio-properties-panel-collapsible-entry",u?"open":""),children:[q("div",{class:"bio-properties-panel-collapsible-entry-header",onClick:m,children:[q("div",{title:i||k,class:er("bio-properties-panel-collapsible-entry-header-title",!i&&"empty"),children:i||k}),q("button",{type:"button",title:c("Toggle list item"),class:"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow",children:q(A5,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}),a?q("button",{type:"button",title:c("Delete item"),class:"bio-properties-panel-remove-entry",onClick:a,children:q(Nfe,{})}):null]}),q("div",{class:er("bio-properties-panel-collapsible-entry-entries",u?"open":""),children:q(Ah.Provider,{value:_,children:t.map(R=>{const{component:T,id:F}=R;return St(T,{...R,element:e,key:F})})})})]})}function eWe(n){const{autoFocusEntry:e,autoOpen:t,translate:r=jV}=n;return sn(()=>{if(t&&e){const i=_g(`[data-entry-id="${e}"]`),o=_g(".bio-properties-panel-input",i);o&&(Ao(o.select)?o.select():Ao(o.focus)&&o.focus(),o.scrollIntoView())}},[t,e]),q("div",{class:"bio-properties-panel-list-item",children:q(JHe,{...n,open:t,translate:r})})}const tWe=()=>{};function VV(n){const{add:e,element:t,id:r,items:i,label:o,shouldOpen:a=!1,translate:c=jV}=n;sn(()=>{n.shouldSort!=null&&console.warn("the property 'shouldSort' is no longer supported")},[n.shouldSort]);const u=Kn(null),[h,m]=Hfe(["groups",r,"open"],a),[v,_]=hn(!1),k=qn(()=>m(!0),[m]),[R,T]=hn([]),[F,$]=hn(!1),j=LV(t),B=qn(()=>m(!h),[h]),I=t===j&&h&&F?nWe(i,R):[];sn(()=>{T(i),$(!1)},[i]),Wfe(u,"div.bio-properties-panel-scroll-container",_);const Y=!!i.length,oe={..._i(Ah),onShow:k},ne=Me=>{$(!0),m(!0),e(Me)},ae=zfe(),Te=i.some(Me=>{if(ae[Me.id])return!0;if(Me.entries)return Me.entries.some(Ee=>ae[Ee.id])});return q("div",{class:"bio-properties-panel-group","data-group-id":"group-"+r,ref:u,children:[q("div",{class:er("bio-properties-panel-group-header",Y?"":"empty",Y&&h?"open":"",v&&h?"sticky":""),onClick:Y?B:tWe,children:[q("div",{title:n.tooltip?null:o,"data-title":o,class:"bio-properties-panel-group-header-title",children:q(Jv,{value:n.tooltip,forId:"group-"+r,element:t,parent:u,children:o})}),q("div",{class:"bio-properties-panel-group-header-buttons",children:[e?q("button",{type:"button",title:c("Create new list item"),class:"bio-properties-panel-group-header-button bio-properties-panel-add-entry",onClick:ne,children:[q(Dfe,{}),Y?null:q("span",{class:"bio-properties-panel-add-entry-label",children:c("Create")})]}):null,Y?q("div",{title:c(`List contains {numOfItems} item${i.length!=1?"s":""}`,{numOfItems:i.length}),class:er("bio-properties-panel-list-badge",Te?"bio-properties-panel-list-badge--error":""),children:i.length}):null,Y?q("button",{type:"button",title:c("Toggle section"),class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:q(A5,{class:h?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}):null]})]}),q("div",{class:er("bio-properties-panel-list",h&&Y?"open":""),children:q(Ah.Provider,{value:oe,children:i.map((Me,Ee)=>{if(!Me)return;const{id:we}=Me,Ce=I.includes(Me.id);return St(eWe,{...Me,autoOpen:Ce,element:t,index:Ee,key:we,translate:c})})})})]})}function nWe(n,e){const t=n.map(i=>i.id),r=e.map(i=>i.id);return t.filter(i=>!r.includes(i))}function rWe(n){const{id:e,label:t,onChange:r,disabled:i,value:o=!1,onFocus:a,onBlur:c,tooltip:u}=n,[h,m]=hn(o),v=({target:R})=>{r(R.checked)},_=R=>{v(R),m(R.target.value)};sn(()=>{o!==h&&m(o)},[o]);const k=mT(e);return q("div",{class:"bio-properties-panel-checkbox",children:[q("input",{ref:k,id:yZ(e),name:e,onFocus:a,onBlur:c,type:"checkbox",class:"bio-properties-panel-input",onChange:_,checked:h,disabled:i}),q("label",{for:yZ(e),class:"bio-properties-panel-label",children:q(Jv,{value:u,forId:e,element:n.element,children:t})})]})}function D5(n){const{element:e,id:t,description:r,label:i,getValue:o,setValue:a,disabled:c,onFocus:u,onBlur:h,tooltip:m}=n,v=o(e),_=$E(t);return q("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":t,children:[q(rWe,{disabled:c,id:t,label:i,onChange:a,onFocus:u,onBlur:h,value:v,tooltip:m,element:e},e),_&&q("div",{class:"bio-properties-panel-error",children:_}),q(Db,{forId:t,element:e,value:r})]})}function N5(n){return n&&!!n.checked}function yZ(n){return`bio-properties-panel-${n}`}function iWe(n){const{id:e,label:t,onChange:r,options:i=[],value:o="",disabled:a,onFocus:c,onBlur:u,tooltip:h}=n,m=mT(e),[v,_]=hn(o),k=({target:T})=>{r(T.value)},R=T=>{k(T),_(T.target.value)};return sn(()=>{o!==v&&_(o)},[o]),q("div",{class:"bio-properties-panel-select",children:[q("label",{for:vZ(e),class:"bio-properties-panel-label",children:q(Jv,{value:h,forId:e,element:n.element,children:t})}),q("select",{ref:m,id:vZ(e),name:e,class:"bio-properties-panel-input",onInput:R,onFocus:c,onBlur:u,value:v,disabled:a,children:i.map((T,F)=>T.children?q("optgroup",{label:T.label,children:T.children.map(($,j)=>q("option",{value:$.value,disabled:$.disabled,children:$.label},j))},F):q("option",{value:T.value,disabled:T.disabled,children:T.label},F))})]})}function Hh(n){const{element:e,id:t,description:r,label:i,getValue:o,setValue:a,getOptions:c,disabled:u,onFocus:h,onBlur:m,validate:v,tooltip:_}=n,k=c(e),R=$E(t),[T,F]=hn(null);let $=o(e);sn(()=>{if(Ao(v)){const I=v($)||null;F(I)}},[$,v]);const j=I=>{let Y=null;Ao(v)&&(Y=v(I)||null),a(I,Y),F(Y)},B=R||T;return q("div",{class:er("bio-properties-panel-entry",B?"has-error":""),"data-entry-id":t,children:[q(iWe,{id:t,label:i,value:$,onChange:j,onFocus:h,onBlur:m,options:k,disabled:u,tooltip:_,element:e},e),B&&q("div",{class:"bio-properties-panel-error",children:B}),q(Db,{forId:t,element:e,value:r})]})}function $h(n){return n&&!!n.value}function vZ(n){return`bio-properties-panel-${n}`}function MF(n){n.style.height="auto",n.style.height=`${n.scrollHeight+2}px`}function oWe(n){const{id:e,label:t,debounce:r,onInput:i,value:o="",disabled:a,monospace:c,onFocus:u,onBlur:h,autoResize:m=!0,placeholder:v,rows:_=m?1:2,tooltip:k}=n,[R,T]=hn(o),F=mT(e),$=yHe(F.current),j=$n(()=>r(Y=>i(Y.value.length?Y.value:void 0)),[i,r]),B=Y=>{j(Y.target),m&&MF(Y.target),T(Y.target.value)},I=Y=>{h&&h(Y),T(Y.target.value.trim())};return fb(()=>{m&&MF(F.current)},[]),fb(()=>{$&&m&&MF(F.current)},[$]),sn(()=>{o!==R&&T(o)},[o]),q("div",{class:"bio-properties-panel-textarea",children:[q("label",{for:bZ(e),class:"bio-properties-panel-label",children:q(Jv,{value:k,forId:e,element:n.element,children:t})}),q("textarea",{ref:F,id:bZ(e),name:e,spellCheck:"false",class:er("bio-properties-panel-input",c?"bio-properties-panel-input-monospace":"",m?"auto-resize":""),onInput:B,onFocus:u,onBlur:I,placeholder:v,rows:_,value:R,disabled:a,"data-gramm":"false"})]})}function sWe(n){const{element:e,id:t,description:r,debounce:i,label:o,getValue:a,setValue:c,rows:u,monospace:h,disabled:m,validate:v,onFocus:_,onBlur:k,placeholder:R,autoResize:T,tooltip:F}=n,$=$E(t),[j,B]=hn(null);let I=a(e);sn(()=>{if(Ao(v)){const ne=v(I)||null;B(ne)}},[I,v]);const Y=ne=>{let ae=null;Ao(v)&&(ae=v(ne)||null),c(ne,ae),B(ae)},oe=$||j;return q("div",{class:er("bio-properties-panel-entry",oe?"has-error":""),"data-entry-id":t,children:[q(oWe,{id:t,label:o,value:I,onInput:Y,onFocus:_,onBlur:k,rows:u,debounce:i,monospace:h,disabled:m,placeholder:R,autoResize:T,tooltip:F,element:e},e),oe&&q("div",{class:"bio-properties-panel-error",children:oe}),q(Db,{forId:t,element:e,value:r})]})}function aWe(n){return n&&!!n.value}function bZ(n){return`bio-properties-panel-${n}`}function lWe(n){const{debounce:e,disabled:t=!1,id:r,label:i,onInput:o,onFocus:a,onBlur:c,placeholder:u,value:h="",tooltip:m}=n,[v,_]=hn(h||""),k=mT(r),R=$n(()=>e($=>o($.value.length?$.value:void 0)),[o,e]),T=$=>{c&&c($),_($.target.value.trim())},F=$=>{R($.target),_($.target.value)};return sn(()=>{h!==v&&_(h)},[h]),q("div",{class:"bio-properties-panel-textfield",children:[q("label",{for:xZ(r),class:"bio-properties-panel-label",children:q(Jv,{value:m,forId:r,element:n.element,children:i})}),q("input",{ref:k,id:xZ(r),type:"text",name:r,spellCheck:"false",autoComplete:"off",disabled:t,class:"bio-properties-panel-input",onInput:F,onFocus:a,onBlur:T,placeholder:u,value:v})]})}function cc(n){const{element:e,id:t,description:r,debounce:i,disabled:o,label:a,getValue:c,setValue:u,validate:h,onFocus:m,onBlur:v,placeholder:_,tooltip:k}=n,R=$E(t),[T,F]=hn(null);let $=c(e);sn(()=>{if(Ao(h)){const I=h($)||null;F(I)}},[$,h]);const j=I=>{let Y=null;Ao(h)&&(Y=h(I)||null),u(I,Y),F(Y)},B=R||T;return q("div",{class:er("bio-properties-panel-entry",B?"has-error":""),"data-entry-id":t,children:[q(lWe,{debounce:i,disabled:o,id:t,label:a,onInput:j,onFocus:m,onBlur:v,placeholder:_,value:$,tooltip:k,element:e},e),B&&q("div",{class:"bio-properties-panel-error",children:B}),q(Db,{forId:t,element:e,value:r})]})}function Bh(n){return n&&!!n.value}function xZ(n){return`bio-properties-panel-${n}`}class Xfe{constructor(e){this._eventBus=e}isOpen(){return this._eventBus.fire("feelPopup._isOpen")}open(e,t,r){return this._eventBus.fire("feelPopup._open",{entryId:e,popupConfig:t,sourceElement:r})}close(){return this._eventBus.fire("feelPopup._close")}}Xfe.$inject=["eventBus"];var cWe={feelPopup:["type",Xfe]};function uWe(n,e){}const Zfe=Du({getService:uWe});function dWe(n={}){const{getDocumentationRef:e,formFields:t}=n;return{getElementLabel:r=>{const{type:i}=r,o=t.get(i).config;return o.getSubheading?o.getSubheading(r):r.label},getElementIcon:r=>{const{type:i}=r,o=t.get(i).config,a=o.icon||Zv(i);if(a)return function(){return q(a,{width:"36",height:"36",viewBox:"0 0 54 54"})};if(o.iconUrl)return TV({iconUrl:o.iconUrl,label:o.label})},getTypeLabel:r=>{const{type:i}=r;if(i==="default")return"Form";const o=t.get(i).config;return o.name||o.label||i},getDocumentationRef:e}}const fWe={getEmpty:()=>({text:"Select a form field to edit its properties."}),getMultiple:()=>({text:"Multiple form fields are selected. Select a single form field to edit its properties."})},hWe={};function pWe(n){const{eventBus:e,getProviders:t,injector:r}=n,i=r.get("formEditor"),o=r.get("modeling"),a=r.get("selection"),c=r.get("config.propertiesPanel")||hWe,{feelPopupContainer:u}=c,[h,m]=hn({selectedFormField:a.get()||i._getState().schema}),v=h.selectedFormField,_=qn(oe=>{m({selectedFormField:a.get()||i._getState().schema}),e.fire("propertiesPanel.updated",{formField:oe})},[e,i,a]);fb(()=>(e.on("changed",_),e.on("import.done",_),e.on("selection.changed",_),()=>{e.off("changed",_),e.off("import.done",_),e.off("selection.changed",_)}),[e,_]);const k=(oe,ne=!0)=>r.get(oe,ne),R={getService:k},T=()=>e.fire("propertiesPanel.focusin"),F=()=>e.fire("propertiesPanel.focusout"),$=qn((oe,ne,ae)=>o.editFormField(oe,ne,ae),[o]),j=t(v),B=$n(()=>_ie(j,function(oe,ne){return fa(v)?[]:ne.getGroups(v,$)(oe)},[]),[j,v,$]),I=k("formFields"),Y=$n(()=>dWe({getDocumentationRef:c.getDocumentationRef,formFields:I}),[I,c]);return q("div",{class:"fjs-properties-panel","data-field":v&&v.id,onFocusCapture:T,onBlurCapture:F,children:q(Zfe.Provider,{value:R,children:q(QHe,{element:v,eventBus:e,groups:B,headerProvider:Y,placeholderProvider:fWe,feelPopupContainer:u})})})}const mWe=1e3;class Jfe{constructor(e,t,r){const{parent:i}=e||{};this._eventBus=r,this._injector=t,this._container=kV('<div class="fjs-properties-container" input-handle-modified-keys="y,z"></div>'),i&&this.attachTo(i),this._eventBus.once("formEditor.rendered",500,()=>{this._render()})}attachTo(e){if(!e)throw new Error("container required");typeof e=="string"&&(e=_g(e)),this.detach(),e.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const e=this._container.parentNode;e&&(e.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}_render(){bg(q(pWe,{getProviders:this._getProviders.bind(this),eventBus:this._eventBus,injector:this._injector}),this._container),this._eventBus.fire("propertiesPanel.rendered")}_destroy(){this._container&&(bg(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}registerProvider(e,t){if(t||(t=mWe),typeof e.getGroups!="function"){console.error("Properties provider does not implement #getGroups(element) API");return}this._eventBus.on("propertiesPanel.getProviders",t,function(r){r.providers.push(e)}),this._eventBus.fire("propertiesPanel.providersChanged")}_getProviders(){const e=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(e),e.providers}}Jfe.$inject=["config.propertiesPanel","injector","eventBus"];function gWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"action",component:yWe,editField:e,field:t,isEdited:$h,isDefaultVisible:i=>i.type==="button"}),r}function yWe(n){const{editField:e,field:t,id:r}=n,i=["action"];return Hh({element:t,getOptions:()=>[{label:"Submit",value:"submit"},{label:"Reset",value:"reset"}],getValue:()=>wt(t,i,""),id:r,label:"Action",setValue:u=>e(t,i,u)})}function ar(n,e){const{getService:t}=_i(Zfe);return t(n,e)}function Ts(){const e=ar("formEditor").getSchema();return I8e(e)}function vWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"alt",component:bWe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>["image"].includes(i.type)}),r}function bWe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["alt"];return Yc({debounce:i,element:t,feel:"optional",getValue:()=>wt(t,a,""),id:r,label:"Alternative text",tooltip:"Descriptive text for screen reader accessibility.",setValue:h=>e(t,a,h),singleLine:!0,variables:o})}const xWe="";function wWe(n){const{editField:e,field:t}=n;return[{id:"columns",component:_We,field:t,editField:e,isEdited:$h}]}function _We(n){const{field:e,editField:t,id:r}=n;ar("debounce");const i=ar("formLayoutValidator"),o=qn(h=>i.validateField(e,h?parseInt(h):null),[e,i]);return Hh({element:e,id:r,label:"Columns",getOptions:()=>[{label:"Auto",value:xWe},...SWe(16).filter(h=>h>=Cj).map(EWe)],getValue:()=>wt(e,["layout","columns"]),setValue:(h,m)=>{if(m)return;const v=wt(e,["layout"],{}),_=h?parseInt(h):null;t(e,["layout"],Es(v,["columns"],_))},validate:o})}function EWe(n){return{value:n,label:n.toString()}}function SWe(n){return Array.from({length:n}).map((e,t)=>t+1)}function ehe(n,e,t){const r=[...n];return r.splice(e,0,t),r}function the(n){const e=sl(n);return e.toString()===e.toFixed(0)?0:e.toFixed().split(".")[1].length||0}function h_(n){return(typeof n=="number"||typeof n=="string")&&n!==""&&!isNaN(Number(n))}function zV(n){return/^\w+(\.\w+)*$/.test(n)}function nhe(n){const e=["__proto__","prototype","constructor"];return n.split(".").some(t=>e.includes(t))}const kWe=["button","group","dynamiclist","iframe","table","documentPreview"],rg=["checkbox","checklist","datetime","number","radio","select","taglist","textfield","textarea","filepicker"],rhe=["checklist","radio","select","taglist"];function CWe(n,e){const{propertiesPanelEntries:t=[]}=n;return t.length?t.some(r=>r===e):!1}function OWe(n){const{propertiesPanelEntries:e=[]}=n;return e.length?e.some(t=>t==="values"):!1}function HV(n){return n.split(".").some(e=>/^\d+$/.test(e))}function TWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"description",component:AWe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type!=="filepicker"&&rg.includes(i.type)}),r}function AWe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["description"];return Yc({debounce:i,element:t,getValue:()=>wt(t,a,""),id:r,label:"Field description",singleLine:!0,setValue:h=>e(t,a,h),variables:o})}const wZ="";function RWe(n){const{editField:e,field:t}=n,{type:r}=t,i=[];function o(c){return u=>!rg.includes(r)||rhe.includes(r)&&!u.values?!1:c(u)}const a={editField:e,field:t,id:"defaultValue",label:"Default value"};return i.push({...a,component:PWe,isEdited:$h,isDefaultVisible:o(c=>c.type==="checkbox")}),i.push({...a,component:MWe,isEdited:Bh,isDefaultVisible:o(c=>c.type==="number")}),i.push({...a,component:DWe,isEdited:$h,isDefaultVisible:o(c=>c.type==="radio"||c.type==="select")}),i.push({...a,component:NWe,isEdited:Bh,isDefaultVisible:o(c=>c.type==="textfield")}),i.push({...a,component:IWe,isEdited:aWe,isDefaultVisible:o(c=>c.type==="textarea")}),i}function PWe(n){const{editField:e,field:t,id:r,label:i}=n,{defaultValue:o}=t,a=["defaultValue"];return Hh({element:t,getOptions:()=>[{label:"Checked",value:"true"},{label:"Not checked",value:"false"}],getValue:()=>FWe(o),id:r,label:i,setValue:m=>e(t,a,LWe(m))})}function MWe(n){const{editField:e,field:t,id:r,label:i}=n,{decimalDigits:o,serializeToString:a=!1}=t,c=ar("debounce"),u=["defaultValue"],h=k=>{let R=wt(t,u);if(h_(R))return a?sl(R).toFixed():R},m=(k,R)=>{if(R)return;let T;return h_(k)&&(T=a?k:Number(k)),e(t,u,T)},v=o||o===0,_=qn(k=>{if(k!=null){if(!h_(k))return"Should be a valid number";if(v&&the(k)>o)return`Should not contain more than ${o} decimal digits`}},[v,o]);return cc({debounce:c,label:i,element:t,getValue:h,id:r,setValue:m,validate:_})}function DWe(n){const{editField:e,field:t,id:r,label:i}=n,{defaultValue:o=wZ,values:a=[]}=t,c=["defaultValue"];return Hh({element:t,getOptions:()=>[{label:"<none>",value:wZ},...a],getValue:()=>o,id:r,label:i,setValue:v=>e(t,c,v.length?v:void 0)})}function NWe(n){const{editField:e,field:t,id:r,label:i}=n,o=ar("debounce"),a=["defaultValue"];return cc({debounce:o,element:t,getValue:()=>wt(t,a,""),id:r,label:i,setValue:h=>e(t,a,h)})}function IWe(n){const{editField:e,field:t,id:r,label:i}=n,o=ar("debounce"),a=["defaultValue"];return sWe({debounce:o,element:t,getValue:()=>wt(t,a,""),id:r,label:i,setValue:h=>e(t,a,h)})}function LWe(n){return n==="true"}function FWe(n){return n===!0?"true":"false"}function $We(n){const{editField:e,field:t}=n,r=[];return r.push({id:"disabled",component:BWe,editField:e,field:t,isEdited:BV,isDefaultVisible:i=>rg.includes(i.type)}),r}function BWe(n){const{editField:e,field:t,id:r}=n,i=["disabled"];return $V({element:t,getValue:()=>wt(t,i,""),id:r,label:"Disabled",tooltip:"Field cannot be edited by the end-user, and the data is not submitted. Takes precedence over read only.",inline:!0,setValue:c=>e(t,i,c)})}function jWe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"id",component:VWe,editField:e,field:t,isEdited:Bh,isDefaultVisible:i=>i.type==="default"}),r}function VWe(n){const{editField:e,field:t,id:r}=n,i=ar("formFieldRegistry"),o=ar("debounce"),a=["id"],c=()=>wt(t,a,""),u=(m,v)=>{if(!v)return e(t,a,m)},h=qn(m=>{if(typeof m!="string"||m.length===0)return"Must not be empty.";const v=i._ids.assigned(m);return v&&v!==t?"Must be unique.":qWe(m)||null},[i,t]);return cc({debounce:o,element:t,getValue:c,id:r,label:"ID",setValue:u,validate:h})}const zWe=/\s/,HWe=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,WWe=/^[a-z_][\w-.]*$/i;function qWe(n){if(UWe(n))return"Must not contain spaces.";if(!WWe.test(n))return HWe.test(n)?"Must not contain prefix.":"Must be a valid QName."}function UWe(n){return zWe.test(n)}function GWe(n){const{editField:e,field:t,getService:r}=n,i=[];return i.push({id:"key",component:YWe,editField:e,field:t,isEdited:Bh,isDefaultVisible:o=>{const a=r("formFields"),{config:c}=a.get(o.type);return c.keyed}}),i}function YWe(n){const{editField:e,field:t,id:r}=n,i=ar("pathRegistry"),o=ar("debounce"),a=["key"],c=()=>wt(t,a,""),u=(m,v)=>{if(!v)return e(t,a,m)},h=qn(m=>{if(m===t.key)return null;if(!Zo(m)||m.length===0)return"Must not be empty.";if(!zV(m))return"Must be a variable or a dot separated path.";if(HV(m))return"Must not contain numerical path segments.";if(nhe(m))return"Must not be a prohibited path.";const v={[t.id]:m.split(".")},_=i.getValuePath(t),k=i.getValuePath(t,{replacements:v});i.unclaimPath(_);const R=i.canClaimPath(k,{isClosed:!0,claimerId:t.id});return i.claimPath(_,{isClosed:!0,claimerId:t.id}),R?null:"Must not conflict with other key/path assignments."},[t,i]);return cc({debounce:o,description:"Binds to a form variable",element:t,getValue:c,id:r,label:"Key",tooltip:`Use a unique "key" to link the form element and the related input/output data. When dealing with nested data, break it down in the user task's input mapping before using it.`,setValue:u,validate:h})}function QWe(n){const{editField:e,field:t,getService:r}=n,{type:i}=t,o=[],a=r("formFields").get(i);return a&&a.config.pathed&&o.push({id:"path",component:KWe,editField:e,field:t,isEdited:Bh}),o}function KWe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=ar("pathRegistry"),c=ar("formFields").get(t.type).config.repeatable&&t.isRepeating,u=["path"],h=()=>wt(t,u,""),m=(k,R)=>{if(!R)return e(t,u,k)},v=qn(k=>{if(!k&&c)return"Must not be empty";if(!k&&!c||k===t.path)return null;if(!zV(k))return c?"Must be a variable or a dot-separated path":"Must be empty, a variable or a dot-separated path";if(HV(k))return"Must not contain numerical path segments.";if(nhe(k))return"Must not be a prohibited path.";const R={replacements:{[t.id]:k.split(".")}};return o.executeRecursivelyOnFields(t,({field:F,isClosed:$,isRepeatable:j})=>{const B=o.getValuePath(F,R);return o.canClaimPath(B,{isClosed:$,isRepeatable:j,claimerId:F.id})})?null:"Must not cause two binding paths to collide"},[t,c,o]);return cc({debounce:i,description:"Where the child variables of this component are pathed to.",element:t,getValue:h,id:r,label:"Path",tooltip:c?"Routes the children of this component into a form variable, may be left empty to route at the root level.":"Routes the children of this component into a form variable.",setValue:m,validate:v})}function RO(n){const{id:e,label:t,description:r,path:i,props:o,getValue:a,setValue:c,isDefaultVisible:u}=n,{editField:h,field:m}=o;return{id:e,label:t,path:i,field:m,editField:h,description:r,component:XWe,isEdited:BV,isDefaultVisible:u,getValue:a,setValue:c}}const XWe=n=>{const{id:e,label:t,path:r,field:i,editField:o,getValue:a=()=>wt(i,r,""),setValue:c=h=>o(i,r,h||!1),description:u}=n;return $V({element:i,getValue:a,id:e,label:t,setValue:c,inline:!0,description:u})};function ZWe(n){const{id:e,label:t,path:r,props:i,optionsArray:o}=n,{editField:a,field:c}=i;return{id:e,label:t,path:r,field:c,editField:a,optionsArray:o,component:JWe,isEdited:$h}}const JWe=n=>{const{id:e,label:t,path:r,field:i,editField:o,optionsArray:a}=n;return Hh({label:t,element:i,getOptions:()=>a,getValue:()=>wt(i,r,""),id:e,setValue:m=>o(i,r,m)})};function _Z(n){const{id:e,label:t,path:r,props:i,min:o,max:a}=n,{editField:c,field:u}=i;return{id:e,label:t,path:r,field:u,editField:c,min:o,max:a,component:eqe,isEdited:Bh}}const eqe=n=>{const{id:e,label:t,path:r,field:i,editField:o,min:a=Number.MIN_SAFE_INTEGER,max:c=Number.MAX_SAFE_INTEGER}=n,u=ar("debounce"),h=()=>{const _=wt(i,r);return h_(_)&&Number.isInteger(_)?_:null},m=(_,k)=>{k||o(i,r,Number(_))},v=qn(_=>{if(!(_==null||_==="")){if(!Number.isInteger(Number(_)))return"Should be an integer.";if(sl(_).cmp(a)<0)return`Should be at least ${a}.`;if(sl(_).cmp(c)>0)return`Should be at most ${c}.`}},[a,c]);return cc({debounce:u,label:t,element:i,getValue:h,id:e,setValue:m,validate:v})};function tqe(n){const{field:e}=n,{type:t}=e;return["group","dynamiclist"].includes(t)?[RO({id:"showOutline",path:["showOutline"],label:"Show outline",props:n})]:[]}function nqe(n){const{field:e,editField:t}=n,r=[];r.push({id:"date-label",component:iqe,editField:t,field:e,isEdited:Os,isDefaultVisible:function(o){return o.type==="datetime"&&(o.subtype===di.DATE||o.subtype===di.DATETIME)}}),r.push({id:"time-label",component:oqe,editField:t,field:e,isEdited:Os,isDefaultVisible:function(o){return o.type==="datetime"&&(o.subtype===di.TIME||o.subtype===di.DATETIME)}});const i=o=>[...rg.filter(a=>a!=="datetime"),...kWe].includes(o.type);return r.push({id:"label",component:rqe,editField:t,field:e,isEdited:Os,isDefaultVisible:i}),r}function rqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(m=>({name:m})),a=["label"],c=()=>wt(t,a,""),u=m=>e(t,a,m||""),h=sqe(t.type);return Yc({debounce:i,element:t,getValue:c,id:r,label:h,singleLine:!0,setValue:u,variables:o})}function iqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=V3;return Yc({debounce:i,element:t,getValue:()=>wt(t,a,""),id:r,label:"Date label",singleLine:!0,setValue:h=>e(t,a,h||""),variables:o})}function oqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=PB;return Yc({debounce:i,element:t,getValue:()=>wt(t,a,""),id:r,label:"Time label",singleLine:!0,setValue:h=>e(t,a,h||""),variables:o})}function sqe(n){switch(n){case"group":case"dynamiclist":return"Group label";case"table":return"Table label";case"iframe":case"documentPreview":return"Title";default:return"Field label"}}function ihe(n){const{editField:e,field:t,id:r,description:i,isDefaultVisible:o,defaultValue:a}=n,c=[];return c.push({id:r+"-height",component:aqe,description:i,isEdited:P5,editField:e,field:t,defaultValue:a,isDefaultVisible:u=>Ao(o)?o(u):u.type==="spacer"}),c}function aqe(n){const{description:e,editField:t,field:r,id:i}=n,o=ar("debounce");return R5({debounce:o,description:e,label:"Height",element:r,id:i,getValue:u=>wt(r,["height"],null),setValue:(u,h)=>{h||t(r,["height"],u)},validate:lqe})}const lqe=n=>{if(typeof n!="number")return"A number is required.";if(!Number.isInteger(n))return"Should be an integer.";if(n<1)return"Should be greater than zero."};function cqe(n){return[...ihe({...n,description:"Height of the container in pixels.",isDefaultVisible:e=>e.type==="iframe"})]}const uqe=/^(https):\/\/*/i;function dqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"url",component:fqe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="iframe"}),r}function fqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["url"];return Yc({debounce:i,element:t,feel:"optional",getValue:()=>wt(t,a,""),id:r,label:"URL",setValue:h=>e(t,a,h),singleLine:!0,tooltip:hqe(),validate:pqe,variables:o})}function hqe(){return q(Vo,{children:[q("p",{children:"Enter a HTTPS URL to a source or populate it dynamically via a template or an expression (e.g., to pass a value from the variable)."}),q("p",{children:"Please make sure that the URL is safe as it might impose security risks."}),q("p",{children:["Not all external sources can be displayed in the iFrame. Read more about it in the"," ",q("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options",rel:"noreferrer",children:"X-FRAME-OPTIONS documentation"}),"."]})]})}const pqe=n=>{if(!(!n||n.startsWith("="))&&!uqe.test(n))return'For security reasons the URL must start with "https".'};function mqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"source",component:gqe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="image"}),r}function gqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["source"];return Yc({debounce:i,description:"Expression or static value (link/data URI)",element:t,feel:"optional",getValue:()=>wt(t,a,""),id:r,label:"Image source",tooltip:"Link referring to a hosted image, or use a data URI directly to embed image data into the form.",setValue:h=>e(t,a,h),singleLine:!0,variables:o})}function yqe(n){const{editField:e,field:t}=n;return[{id:"text",component:vqe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="text"}]}function vqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["text"];return Yc({debounce:i,description:bqe,element:t,getValue:()=>wt(t,a,""),id:r,label:"Text",hostLanguage:"markdown",setValue:h=>e(t,a,h||""),variables:o})}const bqe=q(Vo,{children:["Supports markdown and templating."," ",q("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-text/",target:"_blank",rel:"noreferrer",children:"Learn more"})]});function xqe(n){const{editField:e,field:t}=n;return[{id:"content",component:wqe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="html"}]}function wqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["content"];return Yc({debounce:i,description:_qe,element:t,getValue:()=>wt(t,a,""),id:r,label:"Content",hostLanguage:"html",validate:Eqe,setValue:h=>e(t,a,h||""),variables:o})}const _qe=q(Vo,{children:["Supports HTML, styling, and templating. Styles are automatically scoped to the HTML component."," ",q("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-html/",target:"_blank",rel:"noreferrer",children:"Learn more"})]}),Eqe=n=>{if(typeof n!="string"||n===""||n.startsWith("="))return null};function Sqe(n){const{editField:e,field:t,id:r}=n,i=[];return i.push({id:r+"-decimalDigits",component:kqe,isEdited:P5,editField:e,field:t,isDefaultVisible:o=>o.type==="number"}),i.push({id:r+"-step",component:Cqe,isEdited:Bh,editField:e,field:t,isDefaultVisible:o=>o.type==="number"}),i}function kqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce");return R5({debounce:i,label:"Decimal digits",element:t,step:"any",getValue:c=>wt(t,["decimalDigits"]),id:r,setValue:(c,u)=>{u||e(t,["decimalDigits"],c)},validate:Oqe})}function Cqe(n){const{editField:e,field:t,id:r}=n,{decimalDigits:i}=t,o=ar("debounce"),a=v=>{let _=wt(t,["increment"]);return h_(_)?_:null},c=v=>{if(!v)return v;const _=v.replace(/^0+/g,"");return(_.startsWith(".")?"0":"")+_},u=(v,_)=>{_||e(t,["increment"],c(v))},h=i||i===0,m=qn(v=>{if(v!=null){if(!h_(v))return"Should be a valid number.";if(sl(v).cmp(0)<=0)return"Should be greater than zero.";if(h){const _=sl(`1e-${i}`);if(sl(v).cmp(_)<0)return`Should be at least ${_.toString()}.`;if(the(v)>i)return`Should not contain more than ${i} decimal digits.`}}},[h,i]);return cc({debounce:o,label:"Increment",element:t,getValue:a,id:r,setValue:u,validate:m})}const Oqe=n=>{if(typeof n=="number"){if(!Number.isInteger(n))return"Should be an integer.";if(n<0)return"Should be greater than or equal to zero."}};function Tqe(n){const{editField:e,field:t,id:r}=n,i=[];return i.push({id:`${r}-expression`,component:Aqe,isEdited:Os,editField:e,field:t,isDefaultVisible:o=>o.type==="expression"}),i.push({id:`${r}-computeOn`,component:Rqe,isEdited:$h,editField:e,field:t,isDefaultVisible:o=>o.type==="expression"}),i}function Aqe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(u=>({name:u}));return BE({debounce:i,description:"Define an expression to calculate the value of this field",element:t,feel:"required",getValue:()=>t.expression||"",id:r,label:"Target value",setValue:u=>{e(t,["expression"],u)},variables:o})}function Rqe(n){const{editField:e,field:t,id:r}=n;return Hh({id:r,label:"Compute on",getValue:()=>t.computeOn||"",setValue:c=>{e(t,["computeOn"],c)},getOptions:()=>[{value:"change",label:"Value changes"},{value:"presubmit",label:"Form submission"}]})}function Pqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"serialize-to-string",component:Mqe,isEdited:N5,editField:e,field:t,isDefaultVisible:i=>i.type==="number"}),r}function Mqe(n){const{editField:e,field:t,id:r}=n,{defaultValue:i}=t,o=["serializeToString"];return D5({element:t,getValue:()=>wt(t,o,""),id:r,label:"Output as string",description:"Allows arbitrary precision values",setValue:u=>((i||i===0)&&e(t,["defaultValue"],u?sl(i).toFixed():Number(i)),e(t,o,u))})}function Dqe(n){const{editField:e,field:t}=n,r=[{id:"subtype",component:Nqe,isEdited:$h,editField:e,field:t,isDefaultVisible:i=>i.type==="datetime"}];return r.push({id:"use24h",component:Iqe,isEdited:N5,editField:e,field:t,isDefaultVisible:i=>i.type==="datetime"&&(i.subtype===di.TIME||i.subtype===di.DATETIME)}),r}function Nqe(n){const{editField:e,field:t,id:r}=n,i=v=>wt(t,RB),o=()=>{const v=[PB,Gce,z3,H3];for(const _ of v)e(t,_,void 0)},a=()=>{e(t,PB,"Time"),e(t,H3,Sv.UTC_OFFSET),e(t,z3,15)},c=()=>{const v=[V3,Uce];for(const _ of v)e(t,_,void 0)},u=()=>{e(t,V3,"Date")};return Hh({label:"Subtype",element:t,getOptions:()=>Object.values(di).map(v=>({label:Tje[v],value:v})),getValue:i,id:r,setValue:v=>{const _=i();if(_!==v)return v===di.DATE?(o(),_===di.TIME&&u()):v===di.TIME?(c(),_===di.DATE&&a()):v===di.DATETIME&&(_===di.DATE&&a(),_===di.TIME&&u()),e(t,RB,v)}})}function Iqe(n){const{editField:e,field:t,id:r}=n,i=Gce;return D5({element:t,getValue:()=>wt(t,i,""),id:r,label:"Use 24h",setValue:c=>e(t,i,c)})}function Lqe(n){const{editField:e,field:t,id:r}=n;function i(a){return c=>c.type!=="datetime"?!1:a.includes(c.subtype)}const o=[];return o.push({id:r+"-timeInterval",component:$qe,isEdited:$h,editField:e,field:t,isDefaultVisible:i([di.TIME,di.DATETIME])}),o.push({id:r+"-disallowPassedDates",component:Fqe,isEdited:N5,editField:e,field:t,isDefaultVisible:i([di.DATE,di.DATETIME])}),o}function Fqe(n){const{editField:e,field:t,id:r}=n,i=Uce;return D5({element:t,getValue:()=>wt(t,i,""),id:r,label:"Disallow past dates",setValue:c=>e(t,i,c)})}function $qe(n){const{editField:e,field:t,id:r}=n,i=[1,5,10,15,30,60];return Hh({label:"Time interval",element:t,getOptions:()=>i.map(u=>({label:u===60?"1h":u+"m",value:u})),getValue:u=>wt(t,z3),id:r,setValue:u=>e(t,z3,parseInt(u))})}function Bqe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"time-format",component:jqe,isEdited:$h,editField:e,field:t,isDefaultVisible:i=>i.type==="datetime"&&(i.subtype===di.TIME||i.subtype===di.DATETIME)}),r}function jqe(n){const{editField:e,field:t,id:r}=n;return Hh({label:"Time format",element:t,getOptions:()=>Object.values(Sv).map(c=>({label:Aje[c],value:c})),getValue:c=>wt(t,H3),id:r,setValue:c=>e(t,H3,c)})}function Vqe(n){return[RO({id:"searchable",path:["searchable"],label:"Searchable",props:n,isDefaultVisible:t=>t.type==="select"})]}function zqe(n){const{editField:e,field:t,idPrefix:r,index:i,validateFactory:o}=n;return[{component:Hqe,editField:e,field:t,id:r+"-label",idPrefix:r,index:i,validateFactory:o},{component:Wqe,editField:e,field:t,id:r+"-value",idPrefix:r,index:i,validateFactory:o}]}function Hqe(n){const{editField:e,field:t,id:r,index:i,validateFactory:o}=n,a=ar("debounce"),c=(m,v)=>{if(v)return;const _=wt(t,["values"]);return e(t,"values",Es(_,[i,"label"],m))},u=()=>wt(t,["values",i,"label"]),h=$n(()=>o(wt(t,["values",i,"label"]),m=>m.label),[t,i,o]);return cc({debounce:a,element:t,getValue:u,id:r,label:"Label",setValue:c,validate:h})}function Wqe(n){const{editField:e,field:t,id:r,index:i,validateFactory:o}=n,a=ar("debounce"),c=(m,v)=>{if(v)return;const _=wt(t,["values"]);return e(t,"values",Es(_,[i,"value"],m))},u=()=>wt(t,["values",i,"value"]),h=$n(()=>o(wt(t,["values",i,"value"]),m=>m.value),[t,i,o]);return cc({debounce:a,element:t,getValue:u,id:r,label:"Value",setValue:c,validate:h})}function qqe(n){const{editField:e,field:t,idPrefix:r,index:i,validateFactory:o}=n;return[{component:Uqe,editField:e,field:t,id:r+"-key",idPrefix:r,index:i,validateFactory:o},{component:Gqe,editField:e,field:t,id:r+"-value",idPrefix:r,index:i,validateFactory:o}]}function Uqe(n){const{editField:e,field:t,id:r,index:i,validateFactory:o}=n,a=ar("debounce"),c=(m,v)=>{if(v)return;const _=wt(t,["properties"]),k=Object.keys(_)[i];return e(t,"properties",Qqe(_,k,m))},u=()=>Object.keys(wt(t,["properties"]))[i],h=$n(()=>o(Object.keys(wt(t,["properties"]))[i]),[o,t,i]);return cc({debounce:a,element:t,getValue:u,id:r,label:"Key",setValue:c,validate:h})}function Gqe(n){const{editField:e,field:t,id:r,index:i,validateFactory:o}=n,a=ar("debounce"),c=h=>{const m=wt(t,["properties"]),v=Object.keys(m)[i];e(t,"properties",Yqe(m,v,h))},u=()=>{const h=wt(t,["properties"]),m=Object.keys(h)[i];return wt(t,["properties",m])};return cc({debounce:a,element:t,getValue:u,id:r,label:"Value",setValue:c,validate:o(u())})}function Yqe(n,e,t){return{...n,[e]:t}}function Qqe(n,e,t){return Object.entries(n).reduce((r,i)=>{const[o,a]=i;return{...r,[o===e?t:o]:a}},{})}function ohe(n){const{autoFocusEntry:e,element:t,getValue:r}=n,i=r(t),o=LV(i),a=ar("eventBus");return sn(()=>{e&&o&&i!==o&&setTimeout(()=>{a.fire("propertiesPanel.showEntry",{id:e})})},[i,e,o,a]),q(Hh,{...n})}function Kqe(n){const{editField:e,field:t,id:r}=n;return[{id:r+"-select",component:Xqe,isEdited:$h,editField:e,field:t}]}function Xqe(n){const{editField:e,field:t,id:r}=n,i=tV,o=c=>{let u=t;const h={};return h[Sh[c]]=Mje[c],u=e(t,h),u},a=()=>Object.values(us).map(c=>({label:Pje[c],value:c}));return ohe({autoFocusEntry:Zqe(t),label:"Type",element:t,getOptions:a,getValue:i,id:r,setValue:o})}function Zqe(n){const e=tV(n);return e===us.EXPRESSION?"optionsExpression-expression":e===us.INPUT?"dynamicOptions-key":e===us.STATIC?"staticOptions-0-label":null}function Jqe(n){const{editField:e,field:t,id:r}=n;return[{id:r+"-key",component:eUe,isEdited:Bh,editField:e,field:t}]}function eUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Sh[us.INPUT],c=q("div",{children:["The input property may be an array of simple values or alternatively follow this schema:",q("pre",{children:q("code",{children:`[
  {
    "label": "dollar",
    "value": "$"
  }
]`})})]});return cc({debounce:i,description:"Define which input property to populate the values from",tooltip:c,element:t,getValue:()=>wt(t,o,""),id:r,label:"Input values key",setValue:(m,v)=>{v||e(t,o,m||"")},validate:tUe})}const tUe=n=>typeof n!="string"||n.length===0?"Must not be empty.":/\s/.test(n)?"Must not contain spaces.":null;function nUe(n){const{editField:e,field:t,id:r}=n,{values:i}=t,o=h=>{h.stopPropagation();const m=i.length+1,v=rUe(m,i);e(t,Sh[us.STATIC],ehe(i,i.length,v))},a=h=>{t.defaultValue===h.value?e(t,{values:l6(i,h),defaultValue:void 0}):e(t,Sh[us.STATIC],l6(i,h))},c=(h,m)=>v=>{if(v===h)return;if(typeof v!="string"||v.length===0)return"Must not be empty.";if(i.find(k=>m(k)===v))return"Must be unique."};return{items:i.map((h,m)=>{const v=r+"-"+m;return{id:v,label:h.label,entries:zqe({editField:e,field:t,idPrefix:v,index:m,validateFactory:c}),autoFocusEntry:v+"-label",remove:()=>a(h)}}),add:o}}function rUe(n,e){const t={label:"Value",value:"value"};for(;iUe(n,e);)n++;return n>1&&(t.label+=` ${n}`,t.value+=`${n}`),t}function iUe(n,e){return e.some(t=>t.label===`Value ${n}`||t.value===`value${n}`)}function oUe(n){const{editField:e,field:t}=n,r=[],i=a=>c=>{const u=wt(t,["appearance"],{});e(t,["appearance"],Es(u,[a],c))},o=a=>()=>wt(t,["appearance",a]);return r.push({id:"prefix-adorner",component:sUe,isEdited:Os,editField:e,field:t,onChange:i,getValue:o,isDefaultVisible:a=>["number","textfield"].includes(a.type)}),r.push({id:"suffix-adorner",component:aUe,isEdited:Os,editField:e,field:t,onChange:i,getValue:o,isDefaultVisible:a=>["number","textfield"].includes(a.type)}),r}function sUe(n){const{field:e,id:t,onChange:r,getValue:i}=n,o=ar("debounce"),a=Ts().map(c=>({name:c}));return Yc({debounce:o,element:e,feel:"optional",getValue:i("prefixAdorner"),id:t,label:"Prefix",setValue:r("prefixAdorner"),singleLine:!0,variables:a})}function aUe(n){const{field:e,id:t,onChange:r,getValue:i}=n,o=ar("debounce"),a=Ts().map(c=>({name:c}));return Yc({debounce:o,element:e,getValue:i("suffixAdorner"),id:t,label:"Suffix",setValue:r("suffixAdorner"),singleLine:!0,variables:a})}function lUe(n){const{editField:e,field:t}=n,{disabled:r}=t,i=[];return r||i.push({id:"readonly",component:cUe,editField:e,field:t,isEdited:Os,isDefaultVisible:o=>rg.includes(o.type)}),i}function cUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["readonly"];return Kfe({debounce:i,element:t,feel:"optional",getValue:()=>wt(t,a,""),id:r,label:"Read only",tooltip:"Field cannot be edited by the end-user, but the data will still be submitted.",setValue:h=>e(t,a,h||!1),variables:o})}function uUe(n){const{field:e}=n;return["group","dynamiclist"].includes(e.type)?[ZWe({id:"verticalAlignment",path:["verticalAlignment"],label:"Vertical alignment",optionsArray:[{value:"start",label:"Top"},{value:"center",label:"Center"},{value:"end",label:"Bottom"}],props:n})]:[]}function dUe(n){const{field:e,getService:t}=n,{type:r}=e,i=t("formFields").get(r);if(!i||!i.config.repeatable)return[];const o=[_Z({id:"defaultRepetitions",path:["defaultRepetitions"],label:"Default number of items",min:1,max:20,props:n}),RO({id:"allowAddRemove",path:["allowAddRemove"],label:"Allow add/delete items",props:n}),RO({id:"disableCollapse",path:["disableCollapse"],label:"Disable collapse",props:n})];if(!e.disableCollapse){const a=_Z({id:"nonCollapsedItems",path:["nonCollapsedItems"],label:"Number of non-collapsing items",min:1,props:n});o.push(a)}return o}function fUe(n){const{editField:e,field:t}=n;return[{id:"conditional-hide",component:hUe,editField:e,field:t,isEdited:Os}]}function hUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(v=>({name:v})),a=["conditional","hide"],c=()=>wt(t,a,""),u=v=>v?e(t,"conditional",{hide:v}):e(t,"conditional",void 0);let h="Hide if",m="Condition under which the field is hidden";return t.type==="expression"&&(h="Deactivate if",m="Condition under which the field is deactivated"),BE({debounce:i,description:m,element:t,feel:"required",getValue:c,id:r,label:h,setValue:u,variables:o})}function pUe(n){const{editField:e,field:t,id:r}=n;return[{id:r+"-expression",component:mUe,isEdited:Os,editField:e,field:t}]}function mUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(v=>({name:v})),a=Sh[us.EXPRESSION],u=q("div",{children:["The expression may result in an array of simple values or alternatively follow this schema:",q("pre",{children:q("code",{children:`[
  {
    "label": "dollar",
    "value": "$"
  }
]`})})]});return BE({debounce:i,description:"Define an expression to populate the options from.",tooltip:u,element:t,feel:"required",getValue:()=>wt(t,a,""),id:r,label:"Options expression",setValue:v=>e(t,a,v||""),variables:o})}function gUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"dataSource",component:yUe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="table"}),r}function yUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["dataSource"];return Yc({debounce:i,description:"Specify the source from which to populate the table",element:t,feel:"required",getValue:()=>wt(t,a,t.id),id:r,label:"Data source",tooltip:"Enter a form input variable that contains the data for the table or define an expression to populate the data dynamically.",setValue:(h,m)=>{m||e(t,a,h)},singleLine:!0,variables:o,validate:vUe})}const vUe=n=>!Zo(n)||n.length===0?"Must not be empty.":n.startsWith("=")?null:zV(n)?HV(n)?"Must not contain numerical path segments.":null:"Must be a variable or a dot separated path.";function bUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"pagination",component:xUe,editField:e,field:t,isEdited:BV,isDefaultVisible:i=>i.type==="table"}),r}function xUe(n){const{editField:e,field:t,id:r}=n,i=10,o=["rowCount"];return $V({element:t,getValue:()=>rc(wt(t,o)),id:r,label:"Pagination",inline:!0,setValue:u=>{u?e(t,o,i):e(t,o,void 0)}})}const Ij=["rowCount"];function wUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"rowCount",component:_Ue,isEdited:P5,editField:e,field:t,isDefaultVisible:i=>i.type==="table"&&rc(wt(i,Ij))}),r}function _Ue(n){const{editField:e,field:t,id:r}=n,i=ar("debounce");return R5({debounce:i,label:"Number of rows per page",element:t,id:r,getValue:()=>wt(t,Ij),setValue:(c,u)=>{u||e(t,Ij,c)},validate:EUe})}const EUe=n=>kg(n)?null:rc(n)?Number.isInteger(n)?n<1?"Should be greater than zero.":null:"Should be an integer.":"Must be number",K2={static:{label:"List of items",value:"static"},expression:{label:"Expression",value:"expression"}},SUe=Object.values(K2),she=["columns"],ahe=["columnsExpression"];function kUe(n){const{editField:e,field:t,id:r}=n;return[{id:r+"-select",component:CUe,isEdited:$h,editField:e,field:t}]}function CUe(n){const{editField:e,field:t,id:r}=n,i=()=>{const c=wt(t,she),u=wt(t,ahe);if(Zo(u))return K2.expression.value;if(fa(c))return K2.static.value},o=c=>{switch(c){case K2.static.value:e(t,{columns:[{label:"Column",key:"inputVariable"}]});break;case K2.expression.value:e(t,{columnsExpression:"="});break}},a=()=>SUe;return ohe({autoFocusEntry:OUe(t),label:"Type",element:t,getOptions:a,getValue:i,id:r,setValue:o})}function OUe(n){const e=wt(n,she),t=wt(n,ahe);return Zo(t)?`${n.id}-columnsExpression`:fa(e)?`${n.id}-columns-0-label`:null}const Lj=["columnsExpression"];function TUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:`${t.id}-columnsExpression`,component:AUe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="table"&&Zo(wt(i,Lj))}),r}function AUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(m=>({name:m})),a=()=>wt(t,Lj),c=(m,v)=>{v||e(t,Lj,m)},h=q("div",{children:["The expression may result in an array of simple values or alternatively follow this schema:",q("pre",{children:q("code",{children:`[
  {
    "key": "column_1",
    "label": "Column 1"
  }
]`})})]});return Yc({debounce:i,description:"Specify an expression to populate column items",element:t,feel:"required",getValue:a,id:r,label:"Expression",tooltip:h,setValue:c,singleLine:!0,variables:o,validate:RUe})}const RUe=n=>!Zo(n)||n.length===0||n==="="?"Must not be empty.":null,p_="columns",EZ="label",SZ="key";function PUe(n){const{editField:e,field:t,idPrefix:r,index:i}=n;return[{component:MUe,editField:e,field:t,id:r+"-label",idPrefix:r,index:i},{component:DUe,editField:e,field:t,id:r+"-key",idPrefix:r,index:i}]}function MUe(n){const{editField:e,field:t,id:r,index:i}=n,o=ar("debounce");return cc({debounce:o,element:t,getValue:()=>wt(t,[p_,i,EZ]),id:r,label:"Label",setValue:(u,h)=>{if(h)return;const m=wt(t,[p_]);e(t,p_,Es(m,[i,EZ],u))}})}function DUe(n){const{editField:e,field:t,id:r,index:i}=n,o=ar("debounce");return cc({debounce:o,element:t,getValue:()=>wt(t,[p_,i,SZ]),id:r,label:"Key",setValue:(u,h)=>{if(h)return;const m=wt(t,[p_]);e(t,p_,Es(m,[i,SZ],u))},validate:NUe})}function NUe(n){return!Zo(n)||n.length===0?"Must not be empty.":null}const kZ=["columns"];function IUe(n){const{editField:e,field:t,id:r}=n,{columns:i}=t,o=u=>{u.stopPropagation();const h={label:"Column",key:"inputVariable"};e(t,kZ,ehe(i,i.length,h))},a=u=>{e(t,kZ,l6(i,u))};return{items:i.map((u,h)=>{const m=`${r}-${h}`;return{id:m,label:u.label||u.key,entries:PUe({editField:e,field:t,idPrefix:m,index:h}),autoFocusEntry:`${m}-label`,remove:()=>a(u)}}),add:o}}function LUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"versionTag",component:FUe,editField:e,field:t,isEdited:Bh,isDefaultVisible:i=>i.type==="default"}),r}function FUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=["versionTag"],a=()=>wt(t,o,""),c=(h,m)=>{if(!m)return e(t,o,h)},u=q("div",{children:"Version tag by which this form can be referenced."});return cc({debounce:i,element:t,getValue:a,id:r,label:"Version tag",setValue:c,tooltip:u})}function $Ue(n){const{editField:e,field:t}=n,r=[];return r.push({id:"accept",component:BUe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="filepicker"}),r}function BUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["accept"];return Yc({debounce:i,element:t,getValue:()=>wt(t,a,""),id:r,label:"Supported file formats",singleLine:!0,setValue:h=>e(t,a,h),variables:o,description:jUe})}const jUe=q(Vo,{children:["A comma-separated list of"," ",q("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers",target:"_blank",rel:"noreferrer",children:"file type specifiers"})]});function VUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"multiple",component:zUe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="filepicker"}),r}function zUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(h=>({name:h})),a=["multiple"];return Kfe({debounce:i,element:t,feel:"optional",getValue:()=>wt(t,a,""),id:r,label:"Upload multiple files",inline:!0,setValue:h=>e(t,a,h),variables:o})}function HUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"dataSource",component:WUe,editField:e,field:t,isEdited:Os,isDefaultVisible:i=>i.type==="documentPreview"}),r}function WUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=Ts().map(v=>({name:v})),a=["dataSource"],c=()=>wt(t,a,""),u=v=>e(t,a,v),m=q("div",{children:[q("p",{children:"A source is a JSON object containing metadata for a document or an array of documents."}),q("p",{children:"Each entry must include a document ID, name, and MIME type."}),q("p",{children:"Additional details are optional. The expected format is as follows:"}),q("pre",{children:q("code",{children:`[
  {
    "documentId": "u123",
    "endpoint": "https://api.example.com/documents/u123",
    "metadata": {
      "fileName": "Document.pdf",
      "contentType": "application/pdf"
    }
  }
]`})}),q("p",{children:"When using Camunda Tasklist UI, additional document reference attributes are automatically handled. Modifying the document reference may affect the document preview functionality."}),q("p",{children:["Learn more in our"," ",q("a",{href:"https://docs.camunda.io/docs/8.7/components/modeler/forms/form-element-library/forms-element-library-document-preview/",target:"_blank",rel:"noopener noreferrer",children:"documentation"}),"."]})]});return Yc({debounce:i,element:t,getValue:c,id:r,label:"Document reference",feel:"required",singleLine:!0,setValue:u,variables:o,tooltip:m,validate:qUe})}const qUe=n=>{if(typeof n!="string"||n.length===0)return"The document data source is required."};function UUe(n){const{editField:e,field:t}=n,r=[];return r.push({id:"maxHeight",component:GUe,editField:e,field:t,isEdited:P5,isDefaultVisible:i=>i.type==="documentPreview"}),r}function GUe(n){const{editField:e,field:t,id:r}=n,i=ar("debounce"),o=["maxHeight"];return R5({debounce:i,label:"Max height of preview container",element:t,id:r,getValue:()=>wt(t,o,""),setValue:u=>e(t,o,u),validate:YUe,description:QUe})}const YUe=n=>{if(n===void 0||n==="")return null;if(typeof n=="string")return"Value must be a number.";if(!Number.isInteger(n))return"Should be an integer.";if(n<1)return"Should be greater than zero."},QUe=q(Vo,{children:"Documents with height that exceeds the defined value will be vertically scrollable"});function KUe(n,e,t){const r=[...jWe({field:n,editField:e}),...LUe({field:n,editField:e}),...nqe({field:n,editField:e}),...TWe({field:n,editField:e}),...GWe({field:n,editField:e,getService:t}),...QWe({field:n,editField:e,getService:t}),...dUe({field:n,editField:e,getService:t}),...RWe({field:n,editField:e}),...gWe({field:n,editField:e}),...Dqe({field:n,editField:e}),...yqe({field:n,editField:e}),...xqe({field:n,editField:e}),...dqe({field:n,editField:e}),...cqe({field:n,editField:e}),...ihe({field:n,editField:e}),...Sqe({field:n,editField:e}),...Tqe({field:n,editField:e}),...mqe({field:n,editField:e}),...vWe({field:n,editField:e}),...Vqe({field:n,editField:e}),...$Ue({field:n,editField:e}),...VUe({field:n,editField:e}),...$We({field:n,editField:e}),...lUe({field:n,editField:e}),...gUe({field:n,editField:e}),...bUe({field:n,editField:e}),...wUe({field:n,editField:e}),...HUe({field:n,editField:e})];return r.length===0?null:{id:"general",label:"General",entries:r}}function XUe(n,e){const t=[...Pqe({field:n,editField:e}),...Bqe({field:n,editField:e})];return t.length?{id:"serialization",label:"Serialization",entries:t}:null}function ZUe(n,e){const t=[...Lqe({field:n,editField:e})];return t.length?{id:"constraints",label:"Constraints",entries:t}:null}const Fj={custom:{value:"",label:"Custom"},email:{value:"email",label:"Email"},phone:{value:"phone",label:"Phone"}};function JUe(n,e){const{type:t}=n,r=wt(n,["validate"],{}),i=[void 0,Fj.custom.value].includes(r.validationType),o=u=>h=>{const m=wt(n,["validate"],{});e(n,["validate"],Es(m,[u],h))},a=u=>()=>wt(n,["validate",u]);let c=[{id:"required",component:eGe,getValue:a,field:n,isEdited:N5,onChange:o,isDefaultVisible:u=>rg.includes(u.type)}];return c.push({id:"validationType",component:sGe,getValue:a,field:n,editField:e,isEdited:Bh,onChange:o,isDefaultVisible:u=>u.type==="textfield"}),c.push({id:"minLength",component:tGe,getValue:a,field:n,isEdited:Os,onChange:o,isDefaultVisible:u=>rg.includes(u.type)&&(t==="textarea"||t==="textfield"&&i)},{id:"maxLength",component:nGe,getValue:a,field:n,isEdited:Os,onChange:o,isDefaultVisible:u=>rg.includes(u.type)&&(t==="textarea"||t==="textfield"&&i)}),c.push({id:"pattern",component:rGe,getValue:a,field:n,isEdited:Bh,onChange:o,isDefaultVisible:u=>rg.includes(u.type)&&t==="textfield"&&i}),c.push({id:"min",component:iGe,getValue:a,field:n,isEdited:Os,onChange:o,isDefaultVisible:u=>u.type==="number"},{id:"max",component:oGe,getValue:a,field:n,isEdited:Os,onChange:o,isDefaultVisible:u=>u.type==="number"}),{id:"validation",label:"Validation",entries:c}}function eGe(n){const{field:e,getValue:t,id:r,onChange:i}=n;return D5({element:e,getValue:t("required"),id:r,label:"Required",setValue:i("required")})}function tGe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=ar("debounce"),a=Ts().map(c=>({name:c}));return M5({debounce:o,element:e,feel:"optional",getValue:t("minLength"),id:r,label:"Minimum length",min:0,setValue:i("minLength"),variables:a})}function nGe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=ar("debounce"),a=Ts().map(c=>({name:c}));return M5({debounce:o,element:e,feel:"optional",getValue:t("maxLength"),id:r,label:"Maximum length",min:0,setValue:i("maxLength"),variables:a})}function rGe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=ar("debounce");return cc({debounce:o,element:e,getValue:t("pattern"),id:r,label:"Custom regular expression",setValue:i("pattern")})}function iGe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=ar("debounce"),a=Ts().map(c=>({name:c}));return M5({debounce:o,element:e,feel:"optional",id:r,label:"Minimum",step:"any",getValue:t("min"),setValue:i("min"),variables:a})}function oGe(n){const{field:e,getValue:t,id:r,onChange:i}=n,o=ar("debounce"),a=Ts().map(c=>({name:c}));return M5({debounce:o,element:e,feel:"optional",id:r,label:"Maximum",step:"any",getValue:t("max"),setValue:i("max"),variables:a})}function sGe(n){const{field:e,getValue:t,id:r,onChange:i}=n;ar("debounce");const o=a=>{i("validationType")(a||void 0)};return Hh({element:e,getValue:t("validationType"),id:r,label:"Validation pattern",setValue:o,getOptions:()=>Object.values(Fj),tooltip:t("validationType")()===Fj.phone.value?"The built-in phone validation pattern is based on the E.164 standard with no spaces. Ex: +491234567890":void 0})}function aGe(n,e,t){const{type:r}=n,o=t("formFields").get(r).config;if(!rhe.includes(r)&&!OWe(o))return[];const a={editField:e,field:n},c="valuesSource",u=[{id:c,label:"Options source",tooltip:lGe(),component:kC,entries:Kqe({...a,id:c})}],h=tV(n);if(h===us.INPUT){const m="dynamicOptions";u.push({id:m,label:"Dynamic options",component:kC,entries:Jqe({...a,id:m})})}else if(h===us.STATIC){const m="staticOptions";u.push({id:m,label:"Static options",component:VV,...nUe({...a,id:m})})}else if(h===us.EXPRESSION){const m="optionsExpression";u.push({id:m,label:"Options expression",component:kC,entries:pUe({...a,id:m})})}return u}function lGe(){return`"Static" defines a constant, predefined set of form options.

"Input data" defines options that are populated dynamically, adjusting based on variable data for flexible responses to different conditions or inputs.

"Expression" defines options that are populated from a FEEL expression.`}function cGe(n,e){const{properties:t={},type:r}=n;if(r==="default")return null;const i=c=>{c.stopPropagation();let u=Object.keys(t).length+1;for(;`key${u}`in t;)u++;e(n,["properties"],{...t,[`key${u}`]:"value"})},o=c=>u=>{if(u!==c){if(typeof u!="string"||u.length===0)return"Must not be empty.";if(D8(t,u))return"Must be unique."}},a=Object.keys(t).map((c,u)=>{const h=v=>(v.stopPropagation(),e(n,["properties"],uGe(t,c))),m=`property-${u}`;return{autoFocusEntry:m+"-key",entries:qqe({editField:e,field:n,idPrefix:m,index:u,validateFactory:o}),id:m,label:c||"",remove:h}});return{add:i,component:VV,id:"custom-values",items:a,label:"Custom properties",tooltip:"Add properties directly to the form schema, useful to configure functionality in custom-built task applications and form renderers."}}function uGe(n,e){return Object.entries(n).reduce((t,r)=>{const[i,o]=r;return i===e?t:{...t,[i]:o}},{})}function dGe(n,e,t){const r=[...oUe({field:n,editField:e}),...tqe({field:n,editField:e}),...uUe({field:n,editField:e}),...UUe({field:n,editField:e})];return r.length?{id:"appearance",label:"Appearance",entries:r}:null}function fGe(n,e){const{type:t}=n;if(t==="default")return null;const r=[...wWe({field:n,editField:e})];return r.length===0?null:{id:"layout",label:"Layout",entries:r}}function hGe(n,e){const{type:t}=n;if(t!=="iframe")return null;const r=pGe({field:n,editField:e});return r.length?{id:"securityAttributes",label:"Security attributes",entries:r,tooltip:gGe()}:null}function pGe(n){const{editField:e,field:t}=n,r=MB.map(i=>{const{label:o,property:a}=i;return RO({id:a,label:o,isDefaultVisible:c=>c.type==="iframe",path:["security",a],props:n,getValue:()=>wt(t,["security",a]),setValue:c=>{const u=wt(t,["security"],{});e(t,["security"],Es(u,[a],c))}})});return[{component:mGe},...r]}const mGe=n=>q("div",{class:"bio-properties-panel-description fjs-properties-panel-detached-description",children:"These options can incur security risks, especially if used in combination with dynamic links. Ensure that you are aware of them, that you trust the source url and only enable what your use case requires."});function gGe(){return q(Vo,{children:q("p",{children:["Allow the iframe to access more functionality of your browser, details regarding the various options can be found in the"," ",q("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe",rel:"noreferrer",children:"MDN iFrame documentation."})]})})}function yGe(n,e){const{type:t}=n;return t==="default"?null:{id:"condition",label:"Condition",entries:[...fUe({field:n,editField:e})]}}function vGe(n,e){const{type:t,id:r}=n;if(t!=="table")return[];const i=fa(wt(n,["columns"])),o=[{id:`${r}-columnsSource`,label:"Headers source",tooltip:bGe,component:kC,entries:[...kUe({field:n,editField:e}),...TUe({field:n,editField:e})]}];if(i){const a=`${r}-columns`;o.push({id:a,label:"Header items",component:VV,...IUe({field:n,editField:e,id:a})})}return o}const bGe=`"List of items" defines a constant, predefined set of form options.

"Expression" defines options that are populated from a FEEL expression.
`;class lhe{constructor(e,t){this._injector=t,e.registerProvider(this)}_filterVisibleEntries(e,t,r){return e.forEach(i=>{const{entries:o}=i,{type:a}=t,u=r("formFields").get(a).config;o&&(i.entries=o.filter(h=>{const{isDefaultVisible:m}=h;return m?m(t)||CWe(u,h.id):!0}))})}getGroups(e,t){return r=>{if(!e)return r;const i=(o,a=!0)=>this._injector.get(o,a);return r=[...r,KUe(e,t,i),...aGe(e,t,i),...vGe(e,t),hGe(e,t),yGe(e,t),fGe(e,t),dGe(e,t),XUe(e,t),ZUe(e,t),JUe(e,t),cGe(e,t)].filter(o=>o!=null),this._filterVisibleEntries(r,e,i),r.filter(o=>o.items||o.entries&&o.entries.length)}}}lhe.$inject=["propertiesPanel","injector"];const xGe={__depends__:[cWe],__init__:["propertiesPanel","propertiesProvider"],propertiesPanel:["type",Jfe],propertiesProvider:["type",lhe]};class che extends Rfe{constructor(e){super(e,"renderInjector"),this._eventBus=e,this.registeredRenderers=[]}attachRenderer(e,t){this.registeredRenderers=[...this.registeredRenderers,{identifier:e,Renderer:t}]}detachRenderer(e){this.registeredRenderers=this.registeredRenderers.filter(t=>t.identifier!==e)}fetchRenderers(){return this.registeredRenderers}}che.$inject=["eventBus"];const wGe={__init__:["renderInjector"],renderInjector:["type",che]};var CZ;function $j(){return $j=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$j.apply(null,arguments)}var _Ge=function(e){return St("svg",$j({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),CZ||(CZ=St("path",{fill:"currentColor",d:"M3 3h10.086l-1.793-1.793L12 .5l3 3-3 3-.707-.707L13.086 4H3v3.5H2V4a1 1 0 0 1 1-1M4.707 10.207 2.914 12H13V8.5h1V12a1 1 0 0 1-1 1H2.914l1.793 1.793L4 15.5l-3-3 3-3z"})))};class uhe{constructor(e,t){this._formFields=e,this._formFieldRegistry=t,this.RepeatFooter=this.RepeatFooter.bind(this)}isFieldRepeating(e){if(!e)return!1;const t=this._formFieldRegistry.get(e);return this._formFields.get(t.type).config.repeatable&&t.isRepeating}RepeatFooter(){return q("div",{className:"fjs-repeat-render-footer",children:[q(_Ge,{}),q("span",{children:"Repeatable"})]})}}uhe.$inject=["formFields","formFieldRegistry"];const EGe={__init__:["repeatRenderManager"],repeatRenderManager:["type",uhe]},SGe=new Au([32,36,1]);let kGe=class{constructor(e={}){this.on=this._onEvent,this._id=SGe.next(),this._container=Qce(),this._container.setAttribute("tabindex","0");const{container:t,exporter:r,injector:i=this._createInjector(e,this._container),properties:o={}}=e;this.exporter=r,this._state={properties:o,schema:null},this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("form.init"),t&&this.attachTo(t)}clear(){this._emit("diagram.clear"),this._emit("form.clear")}destroy(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}importSchema(e){return new Promise((t,r)=>{try{this.clear();const{schema:i,warnings:o}=this.get("importer").importSchema(e);return this._setState({schema:i}),this._emit("import.done",{warnings:o}),t({warnings:o})}catch(i){return this._emit("import.done",{error:i,warnings:i.warnings||[]}),r(i)}})}saveSchema(){return this.getSchema()}getSchema(){const{schema:e}=this._getState();return CGe(e,this.exporter,a7e)}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),Zo(e)&&(e=document.querySelector(e));const t=this._container;e.appendChild(t),this._emit("attach")}detach(){this._detach()}_detach(e=!0){const t=this._container,r=t.parentNode;r&&(e&&this._emit("detach"),r.removeChild(t))}setProperty(e,t){const r=Es(this._getState().properties,[e],t);this._setState({properties:r})}off(e,t){this.get("eventBus").off(e,t)}_createInjector(e,t){const{modules:r=this._getModules(),additionalModules:i=[],renderer:o={},...a}=e,c={...a,renderer:{...o,container:t}};return Yce([{config:["value",c]},{formEditor:["value",this]},jze,...r,...i])}_emit(e,t){this.get("eventBus").fire(e,t)}_getState(){return this._state}_setState(e){this._state={...this._state,...e},this._emit("changed",this._getState())}_getModules(){return[cHe,Hze,nHe,rHe,uHe,dHe,Wze,Zue,xGe,wGe,EGe]}_onEvent(e,t,r){this.get("eventBus").on(e,t,r)}};function CGe(n,e,t){const r=e?{exporter:e}:{};return{...Eu(n,(o,a)=>{if(!["_parent","_path"].includes(o))return a}),...r,schemaVersion:t}}const I2={type:"default",components:[{type:"text",text:`# My New Form

This is a new dynamic form.`},{key:"textfield",label:"Text Field",type:"textfield"},{key:"checkbox",label:"Checkbox",type:"checkbox"}],schemaVersion:5};function OGe({initialSchema:n,onChange:e}){const t=Z.useRef(null),r=Z.useRef(null),[i,o]=Z.useState(null);Z.useEffect(()=>{if(!t.current)return;const c=a(n),u=new kGe({container:t.current});return r.current=u,u.importSchema(c).then(()=>{console.log("Form imported successfully"),o(null)}).catch(h=>{console.error("Error importing form:",h),o(`Error importing form: ${h.message}`),n!==I2&&(console.log("Trying to import default schema instead"),u.importSchema(I2).then(()=>{console.log("Default form imported successfully"),e&&e(I2),o(null)}).catch(m=>{console.error("Error importing default form:",m),o(`Error importing form: ${m.message}`)}))}),e&&u.on("changed",()=>{try{const h=u.getSchema();e(h)}catch(h){console.error("Error getting schema:",h)}}),()=>{u.destroy()}},[n,e]);const a=c=>{if(!c)return I2;const u={...c};return u.type||(u.type="default"),(!u.components||!Array.isArray(u.components))&&(u.components=I2.components),u.schemaVersion||(u.schemaVersion=5),u};return V.jsxs("div",{className:"h-full",children:[i&&V.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:i}),V.jsx("div",{ref:t,className:"h-full"})]})}const TGe=Lp.object({name:Lp.string().min(2,{message:"O nome deve ter pelo menos 2 caracteres"}),description:Lp.string().min(5,{message:"A descrio deve ter pelo menos 5 caracteres"})}),DF={type:"default",components:[{type:"text",text:`# Meu Novo Formulrio

Este  um novo formulrio dinmico.`},{key:"textfield",label:"Campo de Texto",type:"textfield"},{key:"checkbox",label:"Caixa de Seleo",type:"checkbox"}],schemaVersion:5},OZ=()=>{const n=kb(),{id:e}=vN(),t=Uv(),r=!!e,i=wie(),[o,a]=Z.useState(DF),c=A8({resolver:R8(TGe),defaultValues:{name:"",description:""}}),{data:u,isLoading:h}=Al({queryKey:["form",e],queryFn:()=>og.getFormById(e),enabled:r});Z.useEffect(()=>{if(u)if(c.reset({name:u.name,description:u.description}),u.schema){const R={...u.schema};R.type||(R.type="default"),(!R.components||!Array.isArray(R.components))&&(R.components=DF.components),R.schemaVersion||(R.schemaVersion=5),a(R)}else a(DF)},[u,c]);const m=mg({mutationFn:R=>og.createForm(R),onSuccess:()=>{t.invalidateQueries({queryKey:["forms"]}),ls.success("Formulrio criado com sucesso"),n("/forms")},onError:()=>{ls.error("Falha ao criar formulrio")}}),v=mg({mutationFn:({id:R,data:T})=>og.updateForm(R,T),onSuccess:()=>{t.invalidateQueries({queryKey:["forms"]}),t.invalidateQueries({queryKey:["form",e]}),ls.success("Formulrio atualizado com sucesso"),n("/forms")},onError:()=>{ls.error("Falha ao atualizar formulrio")}}),_=R=>{a(R)},k=R=>{if(!o){ls.error("O esquema do formulrio  obrigatrio");return}const T={name:R.name,description:R.description,schema:o};r&&e?v.mutate({id:e,data:T}):m.mutate(T)};return V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx(yi,{variant:"outline",size:"icon",onClick:()=>n("/forms"),children:V.jsx(_N,{className:"h-4 w-4"})}),V.jsx("h2",{className:"ml-4 text-3xl font-bold",children:r?"Editar Formulrio":"Novo Formulrio"})]}),V.jsxs("div",{className:"grid gap-6",children:[V.jsxs(za,{className:`h-[calc(100vh-250px)] ${i||!i&&window.innerWidth<1280?"w-full":""}`,children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:"Construtor de Formulrio"}),V.jsx(wf,{children:"Projete seu formulrio usando o construtor abaixo"})]}),V.jsx(Wa,{className:"h-[calc(100%-130px)]",children:h&&r?V.jsx("div",{className:"flex h-full w-full items-center justify-center",children:V.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):V.jsx(OGe,{initialSchema:o,onChange:_})})]}),V.jsxs(za,{className:`${i||!i&&window.innerWidth<1280?"w-full":""}`,children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:"Detalhes do Formulrio"}),V.jsx(wf,{children:"Insira as informaes bsicas sobre seu formulrio"})]}),V.jsx(Wa,{children:V.jsx(P8,{...c,children:V.jsxs("form",{onSubmit:c.handleSubmit(k),className:"space-y-4",children:[V.jsx(Y1,{control:c.control,name:"name",render:({field:R})=>V.jsxs(gv,{children:[V.jsx(yv,{children:"Nome"}),V.jsx(vv,{children:V.jsx(w8,{placeholder:"Digite o nome do formulrio",...R})}),V.jsx(bv,{})]})}),V.jsx(Y1,{control:c.control,name:"description",render:({field:R})=>V.jsxs(gv,{children:[V.jsx(yv,{children:"Descrio"}),V.jsx(vv,{children:V.jsx(_8,{placeholder:"Digite a descrio do formulrio",rows:4,...R})}),V.jsx(bv,{})]})}),V.jsxs(yi,{type:"submit",className:"w-full",disabled:h||m.isPending||v.isPending,children:[V.jsx(Z9,{className:"mr-2 h-4 w-4"}),r?"Atualizar Formulrio":"Salvar Formulrio"]})]})})})]})]})]})};function AGe({schema:n,onSubmit:e}){const t=Z.useRef(null),r=Z.useRef(null);return Z.useEffect(()=>{if(!t.current||!n)return;const i=new s7e({container:t.current});return r.current=i,i.importSchema(n).then(()=>{console.log("Form rendered successfully")}).catch(o=>{console.error("Error rendering form:",o)}),e&&i.on("submit",o=>{const{data:a}=o;e(a)}),()=>{i.destroy()}},[n,e]),V.jsx("div",{ref:t,className:"fjs-container"})}const RGe=()=>{var u,h;const n=kb(),{id:e}=vN(),{data:t,isLoading:r}=Al({queryKey:["form",e],queryFn:()=>og.getFormById(e),enabled:!!e}),{data:i=[]}=Al({queryKey:["integrations"],queryFn:()=>U1.getAllIntegrations(),enabled:!!e}),o=i.filter(m=>m.formId===e),{data:a=[]}=Al({queryKey:["processes","byForm",e],queryFn:async()=>{const m=o.map(_=>Hp.getProcessById(_.processId));return(await Promise.all(m)).filter(Boolean)},enabled:o.length>0}),c=m=>{console.log("Form submitted with data:",m),ls.success("Form submitted successfully!")};return r?V.jsx("div",{className:"flex h-[calc(100vh-120px)] items-center justify-center",children:V.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):t?V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx(yi,{variant:"outline",size:"icon",onClick:()=>n("/forms"),children:V.jsx(_N,{className:"h-4 w-4"})}),V.jsx("h2",{className:"ml-4 text-3xl font-bold",children:t.name})]}),V.jsx("div",{className:"mt-4 flex space-x-2 md:mt-0",children:V.jsx(yi,{asChild:!0,variant:"outline",children:V.jsxs("span",{onClick:()=>n(`/forms/${e}/edit`),children:[V.jsx(I_,{className:"mr-2 h-4 w-4"}),"Edit Form"]})})})]}),V.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[V.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[V.jsxs(za,{children:[V.jsx(Ha,{children:V.jsx(nc,{children:"Form Details"})}),V.jsxs(Wa,{className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),V.jsx("p",{children:t.description})]}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),V.jsx("p",{children:ab(new Date(t.createdAt),"PPP 'at' pp")})]}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),V.jsx("p",{children:ab(new Date(t.updatedAt),"PPP 'at' pp")})]}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Fields"}),V.jsxs("p",{children:[((h=(u=t.schema.components)==null?void 0:u.filter(m=>m.key))==null?void 0:h.length)||0," fields"]})]})]})]}),a.length>0&&V.jsxs(za,{children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:"Linked Processes"}),V.jsx(wf,{children:"This form is used in these processes"})]}),V.jsx(Wa,{children:V.jsx("ul",{className:"space-y-2",children:a.map(m=>V.jsxs("li",{className:"flex items-center justify-between",children:[V.jsx("span",{children:m.name}),V.jsx(yi,{variant:"outline",size:"sm",onClick:()=>n(`/processes/${m.id}`),children:"View"})]},m.id))})})]})]}),V.jsxs(za,{className:"lg:col-span-2",children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:"Form Preview"}),V.jsx(wf,{children:"Interactive preview of this form"})]}),V.jsx(Wa,{children:V.jsx(AGe,{schema:t.schema,onSubmit:c})})]})]})]}):V.jsx("div",{className:"flex h-[calc(100vh-120px)] items-center justify-center",children:V.jsxs("div",{className:"text-center",children:[V.jsx("h2",{className:"text-2xl font-bold",children:"Form not found"}),V.jsx("p",{className:"text-muted-foreground",children:"The requested form does not exist"}),V.jsx(yi,{onClick:()=>n("/forms"),className:"mt-4",children:"Go back to forms"})]})})},PGe=()=>V.jsx("div",{className:"flex h-[calc(100vh-160px)] items-center justify-center",children:V.jsxs("div",{className:"mx-auto flex max-w-md flex-col items-center justify-center text-center",children:[V.jsx("div",{className:"mb-4 rounded-full bg-primary/10 p-3",children:V.jsx(K9,{className:"h-10 w-10 text-primary"})}),V.jsx("h2",{className:"text-2xl font-bold",children:"Nenhuma integrao cadastrada"}),V.jsx("p",{className:"mt-2 text-muted-foreground",children:"Crie sua primeira integrao ao conectar o processo BPMN com um formulrio dinmico."}),V.jsx(yi,{asChild:!0,className:"mt-6",children:V.jsxs(Cl,{to:"/integration/new",children:[V.jsx(dE,{className:"mr-2 h-4 w-4"}),"Criar Integrao"]})})]})}),MGe=()=>V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold",children:"Process-Form Integrations"}),V.jsx("p",{className:"text-muted-foreground",children:"Connect your BPMN processes with dynamic forms"})]})}),V.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((n,e)=>V.jsxs(za,{children:[V.jsxs(Ha,{children:[V.jsx("div",{className:"h-6 w-2/3 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"h-4 w-4/5 animate-pulse rounded-md bg-muted"})]}),V.jsx(Wa,{children:V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("div",{className:"h-4 w-1/4 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"mt-1 h-5 w-3/4 animate-pulse rounded-md bg-muted"})]}),V.jsxs("div",{children:[V.jsx("div",{className:"h-4 w-1/4 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"mt-1 h-5 w-3/4 animate-pulse rounded-md bg-muted"})]})]})}),V.jsxs(Cb,{className:"flex justify-between",children:[V.jsx("div",{className:"h-9 w-20 animate-pulse rounded-md bg-muted"}),V.jsx("div",{className:"h-9 w-20 animate-pulse rounded-md bg-muted"})]})]},e))})]}),DGe=()=>{const n=Uv(),e=kb(),{data:t=[],isLoading:r}=Al({queryKey:["integrations"],queryFn:()=>U1.getAllIntegrations()}),{data:i=[],isLoading:o}=Al({queryKey:["processes"],queryFn:()=>Hp.getAllProcesses()}),{data:a=[],isLoading:c}=Al({queryKey:["forms"],queryFn:()=>og.getAllForms()}),u=mg({mutationFn:_=>U1.deleteIntegration(_),onSuccess:()=>{n.invalidateQueries({queryKey:["integrations"]}),ls.success("Integrao excluda com sucesso")},onError:_=>{ls.error("Falha ao excluir a integrao"),console.error(_)}}),h=_=>{u.mutate(_)},m=r||o||c,v=t.map(_=>{const k=i.find(T=>T.id===_.processId),R=a.find(T=>T.id===_.formId);return{..._,process:k,form:R}});return m?V.jsx(MGe,{}):t.length===0?V.jsx(PGe,{}):V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-3xl font-bold",children:"Integraes de Processo-Formulrio"}),V.jsx("p",{className:"text-muted-foreground",children:"Conecte seus processos BPMN com formulrios dinmicos"})]}),V.jsx(yi,{asChild:!0,className:"mt-4 sm:mt-0",children:V.jsxs(Cl,{to:"/integration/new",children:[V.jsx(dE,{className:"mr-2 h-4 w-4"}),"Nova Integrao"]})})]}),V.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:v.map(_=>{var k,R;return V.jsxs(za,{children:[V.jsxs(Ha,{children:[V.jsx(nc,{children:V.jsxs("div",{className:"flex items-center",children:[V.jsx(K9,{className:"mr-2 h-4 w-4"}),"Integrao Processo-Formulrio"]})}),V.jsxs(wf,{children:["Criado em ",ab(new Date(_.createdAt),"PPP")]})]}),V.jsxs(Wa,{className:"space-y-4",children:[V.jsxs("div",{children:[V.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Processo"}),V.jsx("p",{className:"font-medium",children:((k=_.process)==null?void 0:k.name)||"Processo Desconhecido"})]}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Tarefa"}),V.jsx("p",{className:"font-medium",children:_.taskName||"Tarefa Inteira"})]}),V.jsxs("div",{children:[V.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Formulrio"}),V.jsx("p",{className:"font-medium",children:((R=_.form)==null?void 0:R.name)||"Formulrio Desconhecido"})]})]}),V.jsxs(Cb,{className:"flex justify-between",children:[V.jsx(yi,{asChild:!0,variant:"outline",size:"sm",children:V.jsxs("span",{onClick:()=>e(`/integration/${_.id}`),children:[V.jsx(I_,{className:"mr-2 h-4 w-4"}),"Editar"]})}),V.jsxs(b8,{children:[V.jsx(x8,{asChild:!0,children:V.jsxs(yi,{variant:"destructive",size:"sm",children:[V.jsx(J9,{className:"mr-2 h-4 w-4"}),"Excluir"]})}),V.jsxs(PN,{children:[V.jsxs(MN,{children:[V.jsx(NN,{children:"Confirmar excluso"}),V.jsx(IN,{children:"Tem certeza que deseja excluir esta integrao? Esta ao no pode ser desfeita."})]}),V.jsxs(DN,{children:[V.jsx(FN,{children:"Cancelar"}),V.jsx(LN,{onClick:()=>h(_.id),children:"Excluir"})]})]})]})]})]},_.id)})})]})};function TZ(n,[e,t]){return Math.min(t,Math.max(e,n))}var NGe=Z.createContext(void 0);function IGe(n){const e=Z.useContext(NGe);return n||e||"ltr"}function LGe(n){const e=Z.useRef({value:n,previous:n});return Z.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var FGe=[" ","Enter","ArrowUp","ArrowDown"],$Ge=[" ","Enter"],gT="Select",[I5,L5,BGe]=Ote(gT),[jE,UYe]=VO(gT,[BGe,CN]),F5=CN(),[jGe,e0]=jE(gT),[VGe,zGe]=jE(gT),dhe=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:c,onValueChange:u,dir:h,name:m,autoComplete:v,disabled:_,required:k,form:R}=n,T=F5(e),[F,$]=Z.useState(null),[j,B]=Z.useState(null),[I,Y]=Z.useState(!1),oe=IGe(h),[ne=!1,ae]=jD({prop:r,defaultProp:i,onChange:o}),[Te,Me]=jD({prop:a,defaultProp:c,onChange:u}),Ee=Z.useRef(null),we=F?R||!!F.closest("form"):!0,[Ce,Oe]=Z.useState(new Set),Fe=Array.from(Ce).map(ze=>ze.props.value).join(";");return V.jsx(twe,{...T,children:V.jsxs(jGe,{required:k,scope:e,trigger:F,onTriggerChange:$,valueNode:j,onValueNodeChange:B,valueNodeHasChildren:I,onValueNodeHasChildrenChange:Y,contentId:Xw(),value:Te,onValueChange:Me,open:ne,onOpenChange:ae,dir:oe,triggerPointerDownPosRef:Ee,disabled:_,children:[V.jsx(I5.Provider,{scope:e,children:V.jsx(VGe,{scope:n.__scopeSelect,onNativeOptionAdd:Z.useCallback(ze=>{Oe(dt=>new Set(dt).add(ze))},[]),onNativeOptionRemove:Z.useCallback(ze=>{Oe(dt=>{const De=new Set(dt);return De.delete(ze),De})},[]),children:t})}),we?V.jsxs(Lhe,{"aria-hidden":!0,required:k,tabIndex:-1,name:m,autoComplete:v,value:Te,onChange:ze=>Me(ze.target.value),disabled:_,form:R,children:[Te===void 0?V.jsx("option",{value:""}):null,Array.from(Ce)]},Fe):null]})})};dhe.displayName=gT;var fhe="SelectTrigger",hhe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,o=F5(t),a=e0(fhe,t),c=a.disabled||r,u=zo(e,a.onTriggerChange),h=L5(t),m=Z.useRef("touch"),[v,_,k]=Fhe(T=>{const F=h().filter(B=>!B.disabled),$=F.find(B=>B.value===a.value),j=$he(F,T,$);j!==void 0&&a.onValueChange(j.value)}),R=T=>{c||(a.onOpenChange(!0),k()),T&&(a.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return V.jsx(Rne,{asChild:!0,...o,children:V.jsx(zi.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Ihe(a.value)?"":void 0,...i,ref:u,onClick:Gr(i.onClick,T=>{T.currentTarget.focus(),m.current!=="mouse"&&R(T)}),onPointerDown:Gr(i.onPointerDown,T=>{m.current=T.pointerType;const F=T.target;F.hasPointerCapture(T.pointerId)&&F.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(R(T),T.preventDefault())}),onKeyDown:Gr(i.onKeyDown,T=>{const F=v.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&_(T.key),!(F&&T.key===" ")&&FGe.includes(T.key)&&(R(),T.preventDefault())})})})});hhe.displayName=fhe;var phe="SelectValue",mhe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:o,placeholder:a="",...c}=n,u=e0(phe,t),{onValueNodeHasChildrenChange:h}=u,m=o!==void 0,v=zo(e,u.onValueNodeChange);return oc(()=>{h(m)},[h,m]),V.jsx(zi.span,{...c,ref:v,style:{pointerEvents:"none"},children:Ihe(u.value)?V.jsx(V.Fragment,{children:a}):o})});mhe.displayName=phe;var HGe="SelectIcon",ghe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return V.jsx(zi.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});ghe.displayName=HGe;var WGe="SelectPortal",yhe=n=>V.jsx(bN,{asChild:!0,...n});yhe.displayName=WGe;var xb="SelectContent",vhe=Z.forwardRef((n,e)=>{const t=e0(xb,n.__scopeSelect),[r,i]=Z.useState();if(oc(()=>{i(new DocumentFragment)},[]),!t.open){const o=r;return o?Eb.createPortal(V.jsx(bhe,{scope:n.__scopeSelect,children:V.jsx(I5.Slot,{scope:n.__scopeSelect,children:V.jsx("div",{children:n.children})})}),o):null}return V.jsx(xhe,{...n,ref:e})});vhe.displayName=xb;var lh=10,[bhe,t0]=jE(xb),qGe="SelectContentImpl",xhe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:c,sideOffset:u,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:_,collisionPadding:k,sticky:R,hideWhenDetached:T,avoidCollisions:F,...$}=n,j=e0(xb,t),[B,I]=Z.useState(null),[Y,oe]=Z.useState(null),ne=zo(e,Zt=>I(Zt)),[ae,Te]=Z.useState(null),[Me,Ee]=Z.useState(null),we=L5(t),[Ce,Oe]=Z.useState(!1),Fe=Z.useRef(!1);Z.useEffect(()=>{if(B)return Jne(B)},[B]),Wne();const ze=Z.useCallback(Zt=>{const[pn,...lr]=we().map(Vt=>Vt.ref.current),[ot]=lr.slice(-1),Ht=document.activeElement;for(const Vt of Zt)if(Vt===Ht||(Vt==null||Vt.scrollIntoView({block:"nearest"}),Vt===pn&&Y&&(Y.scrollTop=0),Vt===ot&&Y&&(Y.scrollTop=Y.scrollHeight),Vt==null||Vt.focus(),document.activeElement!==Ht))return},[we,Y]),dt=Z.useCallback(()=>ze([ae,B]),[ze,ae,B]);Z.useEffect(()=>{Ce&&dt()},[Ce,dt]);const{onOpenChange:De,triggerPointerDownPosRef:Ze}=j;Z.useEffect(()=>{if(B){let Zt={x:0,y:0};const pn=ot=>{var Ht,Vt;Zt={x:Math.abs(Math.round(ot.pageX)-(((Ht=Ze.current)==null?void 0:Ht.x)??0)),y:Math.abs(Math.round(ot.pageY)-(((Vt=Ze.current)==null?void 0:Vt.y)??0))}},lr=ot=>{Zt.x<=10&&Zt.y<=10?ot.preventDefault():B.contains(ot.target)||De(!1),document.removeEventListener("pointermove",pn),Ze.current=null};return Ze.current!==null&&(document.addEventListener("pointermove",pn),document.addEventListener("pointerup",lr,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pn),document.removeEventListener("pointerup",lr,{capture:!0})}}},[B,De,Ze]),Z.useEffect(()=>{const Zt=()=>De(!1);return window.addEventListener("blur",Zt),window.addEventListener("resize",Zt),()=>{window.removeEventListener("blur",Zt),window.removeEventListener("resize",Zt)}},[De]);const[bt,Ye]=Fhe(Zt=>{const pn=we().filter(Ht=>!Ht.disabled),lr=pn.find(Ht=>Ht.ref.current===document.activeElement),ot=$he(pn,Zt,lr);ot&&setTimeout(()=>ot.ref.current.focus())}),rt=Z.useCallback((Zt,pn,lr)=>{const ot=!Fe.current&&!lr;(j.value!==void 0&&j.value===pn||ot)&&(Te(Zt),ot&&(Fe.current=!0))},[j.value]),ve=Z.useCallback(()=>B==null?void 0:B.focus(),[B]),vt=Z.useCallback((Zt,pn,lr)=>{const ot=!Fe.current&&!lr;(j.value!==void 0&&j.value===pn||ot)&&Ee(Zt)},[j.value]),gt=r==="popper"?Bj:whe,Tt=gt===Bj?{side:c,sideOffset:u,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:_,collisionPadding:k,sticky:R,hideWhenDetached:T,avoidCollisions:F}:{};return V.jsx(bhe,{scope:t,content:B,viewport:Y,onViewportChange:oe,itemRefCallback:rt,selectedItem:ae,onItemLeave:ve,itemTextRefCallback:vt,focusSelectedItem:dt,selectedItemText:Me,position:r,isPositioned:Ce,searchRef:bt,children:V.jsx(p8,{as:Tv,allowPinchZoom:!0,children:V.jsx(h8,{asChild:!0,trapped:j.open,onMountAutoFocus:Zt=>{Zt.preventDefault()},onUnmountAutoFocus:Gr(i,Zt=>{var pn;(pn=j.trigger)==null||pn.focus({preventScroll:!0}),Zt.preventDefault()}),children:V.jsx(zO,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:Zt=>Zt.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:V.jsx(gt,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:Zt=>Zt.preventDefault(),...$,...Tt,onPlaced:()=>Oe(!0),ref:ne,style:{display:"flex",flexDirection:"column",outline:"none",...$.style},onKeyDown:Gr($.onKeyDown,Zt=>{const pn=Zt.ctrlKey||Zt.altKey||Zt.metaKey;if(Zt.key==="Tab"&&Zt.preventDefault(),!pn&&Zt.key.length===1&&Ye(Zt.key),["ArrowUp","ArrowDown","Home","End"].includes(Zt.key)){let ot=we().filter(Ht=>!Ht.disabled).map(Ht=>Ht.ref.current);if(["ArrowUp","End"].includes(Zt.key)&&(ot=ot.slice().reverse()),["ArrowUp","ArrowDown"].includes(Zt.key)){const Ht=Zt.target,Vt=ot.indexOf(Ht);ot=ot.slice(Vt+1)}setTimeout(()=>ze(ot)),Zt.preventDefault()}})})})})})})});xhe.displayName=qGe;var UGe="SelectItemAlignedPosition",whe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,o=e0(xb,t),a=t0(xb,t),[c,u]=Z.useState(null),[h,m]=Z.useState(null),v=zo(e,ne=>m(ne)),_=L5(t),k=Z.useRef(!1),R=Z.useRef(!0),{viewport:T,selectedItem:F,selectedItemText:$,focusSelectedItem:j}=a,B=Z.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&T&&F&&$){const ne=o.trigger.getBoundingClientRect(),ae=h.getBoundingClientRect(),Te=o.valueNode.getBoundingClientRect(),Me=$.getBoundingClientRect();if(o.dir!=="rtl"){const Ht=Me.left-ae.left,Vt=Te.left-Ht,mn=ne.left-Vt,En=ne.width+mn,bn=Math.max(En,ae.width),nr=window.innerWidth-lh,rr=TZ(Vt,[lh,Math.max(lh,nr-bn)]);c.style.minWidth=En+"px",c.style.left=rr+"px"}else{const Ht=ae.right-Me.right,Vt=window.innerWidth-Te.right-Ht,mn=window.innerWidth-ne.right-Vt,En=ne.width+mn,bn=Math.max(En,ae.width),nr=window.innerWidth-lh,rr=TZ(Vt,[lh,Math.max(lh,nr-bn)]);c.style.minWidth=En+"px",c.style.right=rr+"px"}const Ee=_(),we=window.innerHeight-lh*2,Ce=T.scrollHeight,Oe=window.getComputedStyle(h),Fe=parseInt(Oe.borderTopWidth,10),ze=parseInt(Oe.paddingTop,10),dt=parseInt(Oe.borderBottomWidth,10),De=parseInt(Oe.paddingBottom,10),Ze=Fe+ze+Ce+De+dt,bt=Math.min(F.offsetHeight*5,Ze),Ye=window.getComputedStyle(T),rt=parseInt(Ye.paddingTop,10),ve=parseInt(Ye.paddingBottom,10),vt=ne.top+ne.height/2-lh,gt=we-vt,Tt=F.offsetHeight/2,Zt=F.offsetTop+Tt,pn=Fe+ze+Zt,lr=Ze-pn;if(pn<=vt){const Ht=Ee.length>0&&F===Ee[Ee.length-1].ref.current;c.style.bottom="0px";const Vt=h.clientHeight-T.offsetTop-T.offsetHeight,mn=Math.max(gt,Tt+(Ht?ve:0)+Vt+dt),En=pn+mn;c.style.height=En+"px"}else{const Ht=Ee.length>0&&F===Ee[0].ref.current;c.style.top="0px";const mn=Math.max(vt,Fe+T.offsetTop+(Ht?rt:0)+Tt)+lr;c.style.height=mn+"px",T.scrollTop=pn-vt+T.offsetTop}c.style.margin=`${lh}px 0`,c.style.minHeight=bt+"px",c.style.maxHeight=we+"px",r==null||r(),requestAnimationFrame(()=>k.current=!0)}},[_,o.trigger,o.valueNode,c,h,T,F,$,o.dir,r]);oc(()=>B(),[B]);const[I,Y]=Z.useState();oc(()=>{h&&Y(window.getComputedStyle(h).zIndex)},[h]);const oe=Z.useCallback(ne=>{ne&&R.current===!0&&(B(),j==null||j(),R.current=!1)},[B,j]);return V.jsx(YGe,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:k,onScrollButtonChange:oe,children:V.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:V.jsx(zi.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});whe.displayName=UGe;var GGe="SelectPopperPosition",Bj=Z.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=lh,...o}=n,a=F5(t);return V.jsx(Pne,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bj.displayName=GGe;var[YGe,WV]=jE(xb,{}),jj="SelectViewport",_he=Z.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,o=t0(jj,t),a=WV(jj,t),c=zo(e,o.onViewportChange),u=Z.useRef(0);return V.jsxs(V.Fragment,{children:[V.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),V.jsx(I5.Slot,{scope:t,children:V.jsx(zi.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Gr(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:_}=a;if(_!=null&&_.current&&v){const k=Math.abs(u.current-m.scrollTop);if(k>0){const R=window.innerHeight-lh*2,T=parseFloat(v.style.minHeight),F=parseFloat(v.style.height),$=Math.max(T,F);if($<R){const j=$+k,B=Math.min(R,j),I=j-B;v.style.height=B+"px",v.style.bottom==="0px"&&(m.scrollTop=I>0?I:0,v.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});_he.displayName=jj;var Ehe="SelectGroup",[QGe,KGe]=jE(Ehe),XGe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Xw();return V.jsx(QGe,{scope:t,id:i,children:V.jsx(zi.div,{role:"group","aria-labelledby":i,...r,ref:e})})});XGe.displayName=Ehe;var She="SelectLabel",khe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=KGe(She,t);return V.jsx(zi.div,{id:i.id,...r,ref:e})});khe.displayName=She;var eN="SelectItem",[ZGe,Che]=jE(eN),Ohe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:o,...a}=n,c=e0(eN,t),u=t0(eN,t),h=c.value===r,[m,v]=Z.useState(o??""),[_,k]=Z.useState(!1),R=zo(e,j=>{var B;return(B=u.itemRefCallback)==null?void 0:B.call(u,j,r,i)}),T=Xw(),F=Z.useRef("touch"),$=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return V.jsx(ZGe,{scope:t,value:r,disabled:i,textId:T,isSelected:h,onItemTextChange:Z.useCallback(j=>{v(B=>B||((j==null?void 0:j.textContent)??"").trim())},[]),children:V.jsx(I5.ItemSlot,{scope:t,value:r,disabled:i,textValue:m,children:V.jsx(zi.div,{role:"option","aria-labelledby":T,"data-highlighted":_?"":void 0,"aria-selected":h&&_,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:R,onFocus:Gr(a.onFocus,()=>k(!0)),onBlur:Gr(a.onBlur,()=>k(!1)),onClick:Gr(a.onClick,()=>{F.current!=="mouse"&&$()}),onPointerUp:Gr(a.onPointerUp,()=>{F.current==="mouse"&&$()}),onPointerDown:Gr(a.onPointerDown,j=>{F.current=j.pointerType}),onPointerMove:Gr(a.onPointerMove,j=>{var B;F.current=j.pointerType,i?(B=u.onItemLeave)==null||B.call(u):F.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Gr(a.onPointerLeave,j=>{var B;j.currentTarget===document.activeElement&&((B=u.onItemLeave)==null||B.call(u))}),onKeyDown:Gr(a.onKeyDown,j=>{var I;((I=u.searchRef)==null?void 0:I.current)!==""&&j.key===" "||($Ge.includes(j.key)&&$(),j.key===" "&&j.preventDefault())})})})})});Ohe.displayName=eN;var X2="SelectItemText",The=Z.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...o}=n,a=e0(X2,t),c=t0(X2,t),u=Che(X2,t),h=zGe(X2,t),[m,v]=Z.useState(null),_=zo(e,$=>v($),u.onItemTextChange,$=>{var j;return(j=c.itemTextRefCallback)==null?void 0:j.call(c,$,u.value,u.disabled)}),k=m==null?void 0:m.textContent,R=Z.useMemo(()=>V.jsx("option",{value:u.value,disabled:u.disabled,children:k},u.value),[u.disabled,u.value,k]),{onNativeOptionAdd:T,onNativeOptionRemove:F}=h;return oc(()=>(T(R),()=>F(R)),[T,F,R]),V.jsxs(V.Fragment,{children:[V.jsx(zi.span,{id:u.textId,...o,ref:_}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Eb.createPortal(o.children,a.valueNode):null]})});The.displayName=X2;var Ahe="SelectItemIndicator",Rhe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return Che(Ahe,t).isSelected?V.jsx(zi.span,{"aria-hidden":!0,...r,ref:e}):null});Rhe.displayName=Ahe;var Vj="SelectScrollUpButton",Phe=Z.forwardRef((n,e)=>{const t=t0(Vj,n.__scopeSelect),r=WV(Vj,n.__scopeSelect),[i,o]=Z.useState(!1),a=zo(e,r.onScrollButtonChange);return oc(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=u.scrollTop>0;o(h)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?V.jsx(Dhe,{...n,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Phe.displayName=Vj;var zj="SelectScrollDownButton",Mhe=Z.forwardRef((n,e)=>{const t=t0(zj,n.__scopeSelect),r=WV(zj,n.__scopeSelect),[i,o]=Z.useState(!1),a=zo(e,r.onScrollButtonChange);return oc(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;o(m)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?V.jsx(Dhe,{...n,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});Mhe.displayName=zj;var Dhe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,o=t0("SelectScrollButton",t),a=Z.useRef(null),c=L5(t),u=Z.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return Z.useEffect(()=>()=>u(),[u]),oc(()=>{var m;const h=c().find(v=>v.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),V.jsx(zi.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Gr(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Gr(i.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Gr(i.onPointerLeave,()=>{u()})})}),JGe="SelectSeparator",Nhe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return V.jsx(zi.div,{"aria-hidden":!0,...r,ref:e})});Nhe.displayName=JGe;var Hj="SelectArrow",eYe=Z.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=F5(t),o=e0(Hj,t),a=t0(Hj,t);return o.open&&a.position==="popper"?V.jsx(Mne,{...i,...r,ref:e}):null});eYe.displayName=Hj;function Ihe(n){return n===""||n===void 0}var Lhe=Z.forwardRef((n,e)=>{const{value:t,...r}=n,i=Z.useRef(null),o=zo(e,i),a=LGe(t);return Z.useEffect(()=>{const c=i.current,u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==t&&m){const v=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(v)}},[a,t]),V.jsx(HO,{asChild:!0,children:V.jsx("select",{...r,ref:o,defaultValue:t})})});Lhe.displayName="BubbleSelect";function Fhe(n){const e=wd(n),t=Z.useRef(""),r=Z.useRef(0),i=Z.useCallback(a=>{const c=t.current+a;e(c),function u(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(c)},[e]),o=Z.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return Z.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,o]}function $he(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let a=tYe(n,Math.max(o,0));i.length===1&&(a=a.filter(h=>h!==t));const u=a.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==t?u:void 0}function tYe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var nYe=dhe,Bhe=hhe,rYe=mhe,iYe=ghe,oYe=yhe,jhe=vhe,sYe=_he,Vhe=khe,zhe=Ohe,aYe=The,lYe=Rhe,Hhe=Phe,Whe=Mhe,qhe=Nhe;const NF=nYe,IF=rYe,cD=Z.forwardRef(({className:n,children:e,...t},r)=>V.jsxs(Bhe,{ref:r,className:oi("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,V.jsx(iYe,{asChild:!0,children:V.jsx(ene,{className:"h-4 w-4 opacity-50"})})]}));cD.displayName=Bhe.displayName;const Uhe=Z.forwardRef(({className:n,...e},t)=>V.jsx(Hhe,{ref:t,className:oi("flex cursor-default items-center justify-center py-1",n),...e,children:V.jsx(A1e,{className:"h-4 w-4"})}));Uhe.displayName=Hhe.displayName;const Ghe=Z.forwardRef(({className:n,...e},t)=>V.jsx(Whe,{ref:t,className:oi("flex cursor-default items-center justify-center py-1",n),...e,children:V.jsx(ene,{className:"h-4 w-4"})}));Ghe.displayName=Whe.displayName;const uD=Z.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>V.jsx(oYe,{children:V.jsxs(jhe,{ref:i,className:oi("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[V.jsx(Uhe,{}),V.jsx(sYe,{className:oi("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),V.jsx(Ghe,{})]})}));uD.displayName=jhe.displayName;const cYe=Z.forwardRef(({className:n,...e},t)=>V.jsx(Vhe,{ref:t,className:oi("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));cYe.displayName=Vhe.displayName;const dD=Z.forwardRef(({className:n,children:e,...t},r)=>V.jsxs(zhe,{ref:r,className:oi("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[V.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:V.jsx(lYe,{children:V.jsx(C1e,{className:"h-4 w-4"})})}),V.jsx(aYe,{children:e})]}));dD.displayName=zhe.displayName;const uYe=Z.forwardRef(({className:n,...e},t)=>V.jsx(qhe,{ref:t,className:oi("-mx-1 my-1 h-px bg-muted",n),...e}));uYe.displayName=qhe.displayName;var Yhe={exports:{}};/*! bpmn-js - bpmn-navigated-viewer v16.3.2 | Copyright (c) 2014-present, camunda Services GmbH | bpmn.io/license */(function(n,e){(function(t,r){n.exports=r()})(mh,function(){function t(x,C){C&&(x.super_=C,x.prototype=Object.create(C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}))}const r=Object.prototype.toString,i=Object.prototype.hasOwnProperty;function o(x){return x===void 0}function a(x){return x!==void 0}function c(x){return r.call(x)==="[object Array]"}function u(x){return r.call(x)==="[object Object]"}function h(x){return r.call(x)==="[object Number]"}function m(x){const C=r.call(x);return C==="[object Function]"||C==="[object AsyncFunction]"||C==="[object GeneratorFunction]"||C==="[object AsyncGeneratorFunction]"||C==="[object Proxy]"}function v(x){return r.call(x)==="[object String]"}function _(x,C){return i.call(x,C)}function k(x,C){const P=I(C);let N;return T(x,function(W,G){if(P(W,G))return N=W,!1}),N}function R(x,C){const P=I(C);let N=[];return T(x,function(W,G){P(W,G)&&N.push(W)}),N}function T(x,C){let P,N;if(o(x))return;const W=c(x)?oe:Y;for(let G in x)if(_(x,G)&&(P=x[G],N=C(P,W(G)),N===!1))return P}function F(x,C,P){return T(x,function(N,W){P=C(P,N,W)}),P}function $(x,C){return!!F(x,function(P,N,W){return P&&C(N,W)},!0)}function j(x,C){return!!k(x,C)}function B(x){return function(C){return $(x,function(P,N){return C[N]===P})}}function I(x){return m(x)?x:C=>C===x}function Y(x){return x}function oe(x){return Number(x)}function ne(x,C){return x.bind(C)}function ae(x,...C){return Object.assign(x,...C)}var Te=1e3;function Me(x,C){var P=this;C=C||Te,x.on(["render.shape","render.connection"],C,function(N,W){var G=N.type,te=W.element,de=W.gfx,xe=W.attrs;if(P.canRender(te))return G==="render.shape"?P.drawShape(de,te,xe):P.drawConnection(de,te,xe)}),x.on(["render.getShapePath","render.getConnectionPath"],C,function(N,W){if(P.canRender(W))return N.type==="render.getShapePath"?P.getShapePath(W):P.getConnectionPath(W)})}function Ee(x,C){var P=we(x);return P&&typeof P.$instanceOf=="function"&&P.$instanceOf(C)}function we(x){return x&&x.businessObject||x}function Ce(x){return x&&x.di}function Oe(x,C){return!Ee(x,"bpmn:CallActivity")&&(Ee(x,"bpmn:SubProcess")?!(!(C=C||Ce(x))||!Ee(C,"bpmndi:BPMNPlane"))||C&&!!C.isExpanded:!Ee(x,"bpmn:Participant")||!!we(x).processRef)}function Fe(x){if(Ee(x,"bpmn:Participant")||Ee(x,"bpmn:Lane")){var C=Ce(x).isHorizontal;return C===void 0||C}}Me.prototype.canRender=function(x){},Me.prototype.drawShape=function(x,C){},Me.prototype.drawConnection=function(x,C){},Me.prototype.getShapePath=function(x){},Me.prototype.getConnectionPath=function(x){};var ze={width:90,height:20},dt=15;function De(x){var C=x.length/2-1,P=x[Math.floor(C)],N=x[Math.ceil(C+.01)],W=function(xe){var qe=xe.length/2-1,st=xe[Math.floor(qe)],It=xe[Math.ceil(qe+.01)];return{x:st.x+(It.x-st.x)/2,y:st.y+(It.y-st.y)/2}}(x),G=Math.atan((N.y-P.y)/(N.x-P.x)),te=W.x,de=W.y;return Math.abs(G)<Math.PI/2?de-=dt:te+=dt,{x:te,y:de}}function Ze(x,C){var P,N,W,G=x.label;return G&&G.bounds?(W=G.bounds,N={width:Math.max(ze.width,W.width),height:W.height},P={x:W.x+W.width/2,y:W.y+W.height/2}):(P=function(te){return te.waypoints?De(te.waypoints):Ee(te,"bpmn:Group")?{x:te.x+te.width/2,y:te.y+ze.height/2}:{x:te.x+te.width/2,y:te.y+te.height+ze.height/2}}(C),N=ze),ae({x:P.x-N.width/2,y:P.y-N.height/2},N)}function bt(x){var C=x.businessObject,P=function(N){return Ee(N,"bpmn:FlowElement")||Ee(N,"bpmn:Participant")||Ee(N,"bpmn:Lane")||Ee(N,"bpmn:SequenceFlow")||Ee(N,"bpmn:MessageFlow")||Ee(N,"bpmn:DataInput")||Ee(N,"bpmn:DataOutput")?"name":Ee(N,"bpmn:TextAnnotation")?"text":Ee(N,"bpmn:Group")?"categoryValueRef":void 0}(C);if(P)return P==="categoryValueRef"?function(N){var W=N.categoryValueRef;return W&&W.value||""}(C):C[P]||""}function Ye(x,C){return C.appendChild(function(P,N){if(P.ownerDocument!==N.ownerDocument)try{return N.ownerDocument.importNode(P,!0)}catch{}return P}(x,C))}function rt(x,C){return Ye(C,x),x}var ve=2,vt={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":ve,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":ve,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function gt(x,C,P){var N=C.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),W=vt[N];W?(W===ve&&typeof P=="number"&&(P=String(P)+"px"),x.style[N]=P):x.setAttributeNS(null,C,P)}function Tt(x,C,P){if(typeof C=="string"){if(P===void 0)return function(N,W){return vt[W]?N.style[W]:N.getAttributeNS(null,W)}(x,C);gt(x,C,P)}else(function(N,W){var G,te,de=Object.keys(W);for(G=0;te=de[G];G++)gt(N,te,W[te])})(x,C);return x}const Zt=Object.prototype.toString;function pn(x){return new lr(x)}function lr(x){if(!x||!x.nodeType)throw new Error("A DOM element reference is required");this.el=x,this.list=x.classList}function ot(x){var C=x.parentNode;return C&&C.removeChild(x),x}function Ht(x){for(var C;C=x.firstChild;)ot(C);return x}lr.prototype.add=function(x){return this.list.add(x),this},lr.prototype.remove=function(x){return Zt.call(x)=="[object RegExp]"?this.removeMatching(x):(this.list.remove(x),this)},lr.prototype.removeMatching=function(x){const C=this.array();for(let P=0;P<C.length;P++)x.test(C[P])&&this.remove(C[P]);return this},lr.prototype.toggle=function(x,C){return C!==void 0?C!==this.list.toggle(x,C)&&this.list.toggle(x):this.list.toggle(x),this},lr.prototype.array=function(){return Array.from(this.list)},lr.prototype.has=lr.prototype.contains=function(x){return this.list.contains(x)};var Vt={svg:"http://www.w3.org/2000/svg"},mn='<svg xmlns="'+Vt.svg+'"';function En(x){var C=!1;x.substring(0,4)==="<svg"?x.indexOf(Vt.svg)===-1&&(x=mn+x.substring(4)):(x=mn+">"+x+"</svg>",C=!0);var P=function(G){var te;return(te=new DOMParser).async=!1,te.parseFromString(G,"text/xml")}(x);if(!C)return P;for(var N=document.createDocumentFragment(),W=P.firstChild;W.firstChild;)N.appendChild(W.firstChild);return N}function bn(x,C){var P;return x.charAt(0)==="<"?(P=En(x).firstChild,P=document.importNode(P,!0)):P=document.createElementNS(Vt.svg,x),C&&Tt(P,C),P}var nr=null;function rr(){return nr===null&&(nr=bn("svg")),nr}function Re(x,C){var P,N,W=Object.keys(C);for(P=0;N=W[P];P++)x[N]=C[N];return x}function We(x){return rr().createSVGTransform()}var Je=/([&<>]{1})/g,Nt=/([\n\r"]{1})/g,Bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function At(x,C){return x.replace(C,function(P,N){return Bt[N]||N})}function vn(x,C){var P,N,W,G,te;switch(x.nodeType){case 3:C.push(At(x.textContent,Je));break;case 1:if(C.push("<",x.tagName),x.hasAttributes())for(P=0,N=(W=x.attributes).length;P<N;++P)G=W.item(P),C.push(" ",G.name,'="',At(G.value,Nt),'"');if(x.hasChildNodes()){for(C.push(">"),P=0,N=(te=x.childNodes).length;P<N;++P)vn(te.item(P),C);C.push("</",x.tagName,">")}else C.push("/>");break;case 8:C.push("<!--",At(x.nodeValue,Je),"-->");break;case 4:C.push("<![CDATA[",x.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+x.nodeType)}return C}function Nn(x,C){return function(P){for(var N=P.firstChild,W=[];N;)vn(N,W),N=N.nextSibling;return W.join("")}(x)}function Xt(x,C){return C instanceof SVGMatrix?x.createSVGTransformFromMatrix(C):C}function Rr(x,C){var P=x.transform.baseVal;return C&&(Array.isArray(C)||(C=[C]),function(N,W){var G,te;for(N.clear(),G=0;te=W[G];G++)N.appendItem(Xt(N,te))}(P,C)),P.consolidate()}function Ti(x){return x.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function fi(x){return["L",x.x,x.y]}function pa(x,C){const P=x.length,N=[(W=x[0],["M",W.x,W.y])];var W,G,te,de;for(let xe=1;xe<P;xe++){const qe=x[xe-1],st=x[xe],It=x[xe+1];if(!It||!C){N.push(fi(st));continue}const Ut=Math.min(C,zr(st.x-qe.x,st.y-qe.y),zr(It.x-st.x,It.y-st.y));if(!Ut){N.push(fi(st));continue}const Tn=Vs(st,qe,Ut),en=Vs(st,qe,.5*Ut),kn=Vs(st,It,Ut),mt=Vs(st,It,.5*Ut);N.push(fi(Tn)),N.push((te=mt,de=kn,["C",(G=en).x,G.y,te.x,te.y,de.x,de.y]))}return N}function Vs(x,C,P){const N=C.x-x.x,W=C.y-x.y,G=P/zr(N,W);return{x:x.x+N*G,y:x.y+W*G}}function zr(x,C){return Math.sqrt(Math.pow(x,2)+Math.pow(C,2))}function _r(x,C,P){h(C)&&(P=C,C=null),C||(C={});const N=bn("path",C);return h(P)&&(N.dataset.cornerRadius=String(P)),mr(N,x)}function mr(x,C){return Tt(x,{d:Ti(pa(C,parseInt(x.dataset.cornerRadius,10)||0))}),x}var Er="hsl(225, 10%, 15%)",Di="white";function Ho(x,C){return j(x.eventDefinitions,function(P){return P.$type===C})}function ct(x,C,P){var N=Ce(x);return P||N.get("color:background-color")||N.get("bioc:fill")||C||Di}function Et(x,C,P){var N=Ce(x);return P||N.get("color:border-color")||N.get("bioc:stroke")||C||Er}function Pr(x,C,P,N){var W=Ce(x).get("label");return N||W&&W.get("color:color")||C||Et(x,P)}function Ai(x,C={}){return{width:Ct(x,C),height:Ro(x,C)}}function Ct(x,C={}){return _(C,"width")?C.width:x.width}function Ro(x,C={}){return _(C,"height")?C.height:x.height}function fe(x,C){return C.forEach(function(P){P&&typeof P!="string"&&!Array.isArray(P)&&Object.keys(P).forEach(function(N){if(N!=="default"&&!(N in x)){var W=Object.getOwnPropertyDescriptor(P,N);Object.defineProperty(x,N,W.get?W:{enumerable:!0,get:function(){return P[N]}})}})}),Object.freeze(x)}const be=Object.prototype.toString,Ie=Object.prototype.hasOwnProperty;function pt(x,C){return Ie.call(x,C)}function Wt(x,C){let P,N;if(x===void 0)return;const W=function(G){return be.call(G)==="[object Array]"}(x)?br:an;for(let G in x)if(pt(x,G)&&(P=x[G],N=C(P,W(G)),N===!1))return P}function an(x){return x}function br(x){return Number(x)}function tn(x,...C){const P=x.style;return Wt(C,function(N){N&&Wt(N,function(W,G){P[G]=W})}),x}const Rt=Object.prototype.toString;function Jt(x){return new In(x)}function In(x){if(!x||!x.nodeType)throw new Error("A DOM element reference is required");this.el=x,this.list=x.classList}function li(x){for(var C;x.childNodes.length;)C=x.childNodes[0],x.removeChild(C);return x}function Jo(x,C){return x&&typeof x.matches=="function"&&x.matches(C)}function Po(x,C,P){for(var N=P?x:x.parentNode;N&&N.nodeType!==document.DOCUMENT_NODE&&N.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(Jo(N,C))return N;N=N.parentNode}return Jo(N,C)?N:null}In.prototype.add=function(x){return this.list.add(x),this},In.prototype.remove=function(x){return Rt.call(x)=="[object RegExp]"?this.removeMatching(x):(this.list.remove(x),this)},In.prototype.removeMatching=function(x){const C=this.array();for(let P=0;P<C.length;P++)x.test(C[P])&&this.remove(C[P]);return this},In.prototype.toggle=function(x,C){return C!==void 0?C!==this.list.toggle(x,C)&&this.list.toggle(x):this.list.toggle(x),this},In.prototype.array=function(){return Array.from(this.list)},In.prototype.has=In.prototype.contains=function(x){return this.list.contains(x)};var ul,hs,Qc,Dl={};function Lu(){ul=window.addEventListener?"addEventListener":"attachEvent",hs=window.removeEventListener?"removeEventListener":"detachEvent",Qc=ul!=="addEventListener"?"on":""}var ea=fe({__proto__:null,bind:Dl.bind=function(x,C,P,N){return ul||Lu(),x[ul](Qc+C,P,N||!1),P},unbind:Dl.unbind=function(x,C,P,N){return hs||Lu(),x[hs](Qc+C,P,N||!1),P},default:Dl},[Dl]),Kc=["focus","blur"],Bn,Be={bind:function(x,C,P,N,W){return Kc.indexOf(P)!==-1&&(W=!0),ea.bind(x,P,function(G){var te=G.target||G.srcElement;G.delegateTarget=Po(te,C,!0),G.delegateTarget&&N.call(x,G)},W)},unbind:function(x,C,P,N){return Kc.indexOf(C)!==-1&&(N=!0),ea.unbind(x,C,P,N)}},jt=function(x,C){if(typeof x!="string")throw new TypeError("String expected");C||(C=document);var P=/<([\w:]+)/.exec(x);if(!P)return C.createTextNode(x);x=x.replace(/^\s+|\s+$/g,"");var N=P[1];if(N=="body")return(W=C.createElement("html")).innerHTML=x,W.removeChild(W.lastChild);var W,G=Object.prototype.hasOwnProperty.call(ir,N)?ir[N]:ir._default,te=G[0],de=G[1],xe=G[2];for((W=C.createElement("div")).innerHTML=de+x+xe;te--;)W=W.lastChild;if(W.firstChild==W.lastChild)return W.removeChild(W.firstChild);for(var qe=C.createDocumentFragment();W.firstChild;)qe.appendChild(W.removeChild(W.firstChild));return qe},Sn=!1;typeof document<"u"&&((Bn=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Sn=!Bn.getElementsByTagName("link").length,Bn=void 0);var ir={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:Sn?[1,"X<div>","</div>"]:[0,"",""]};ir.td=ir.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],ir.option=ir.optgroup=[1,'<select multiple="multiple">',"</select>"],ir.thead=ir.tbody=ir.colgroup=ir.caption=ir.tfoot=[1,"<table>","</table>"],ir.polyline=ir.ellipse=ir.polygon=ir.circle=ir.text=ir.line=ir.path=ir.rect=ir.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Ki=jt;function bi(x,C){return(C=C||document).querySelector(x)}function As(x){x.parentNode&&x.parentNode.removeChild(x)}function Ca(x,C,P,N,W){var G=We();G.setTranslate(C,P);var te=We();te.setRotate(N||0,0,0);var de=We();de.setScale(1,1),Rr(x,[G,te,de])}function kd(x,C,P){var N=We();N.setTranslate(C,P),Rr(x,N)}var zs=function(x,C){return x(C={exports:{}},C.exports),C.exports}(function(x){var C=x.exports=function(P,N){if(N||(N=16),P===void 0&&(P=128),P<=0)return"0";for(var W=Math.log(Math.pow(2,P))/Math.log(N),G=2;W===1/0;G*=2)W=Math.log(Math.pow(2,P/G))/Math.log(N)*G;var te=W-Math.floor(W),de="";for(G=0;G<Math.floor(W);G++)de=Math.floor(Math.random()*N).toString(N)+de;if(te){var xe=Math.pow(N,te);de=Math.floor(Math.random()*xe).toString(N)+de}var qe=parseInt(de,N);return qe!==1/0&&qe>=Math.pow(2,P)?C(P,N):de};C.rack=function(P,N,W){var G=function(de){var xe=0;do{if(xe++>10){if(!W)throw new Error("too many ID collisions, use more bits");P+=W}var qe=C(P,N)}while(Object.hasOwnProperty.call(te,qe));return te[qe]=de,qe},te=G.hats={};return G.get=function(de){return G.hats[de]},G.set=function(de,xe){return G.hats[de]=xe,G},G.bits=P||128,G.base=N||16,G}});function es(x){if(!(this instanceof es))return new es(x);x=x||[128,36,1],this._seed=x.length?zs.rack(x[0],x[1],x[2]):x}es.prototype.next=function(x){return this._seed(x||!0)},es.prototype.nextPrefixed=function(x,C){var P;do P=x+this.next(!0);while(this.assigned(P));return this.claim(P,C),P},es.prototype.claim=function(x,C){this._seed.set(x,C||!0)},es.prototype.assigned=function(x){return this._seed.get(x)||!1},es.prototype.unclaim=function(x){delete this._seed.hats[x]},es.prototype.clear=function(){var x,C=this._seed.hats;for(x in C)this.unclaim(x)};var uc=new es,Cd=.95;function Of(x,C,P,N,W,G,te){Me.call(this,C,te);var de=x&&x.defaultFillColor,xe=x&&x.defaultStrokeColor,qe=x&&x.defaultLabelColor,st=uc.next(),It={};function Ut(_e){return P.computeStyle(_e,{strokeLinecap:"round",strokeLinejoin:"round",stroke:Er,strokeWidth:2,fill:"white"})}function Tn(_e){return P.computeStyle(_e,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:Er,strokeWidth:2})}function en(_e,J){var{ref:le={x:0,y:0},scale:Ue=1,element:at}=J,Qt=bn("marker",{id:_e,viewBox:"0 0 20 20",refX:le.x,refY:le.y,markerWidth:20*Ue,markerHeight:20*Ue,orient:"auto"});rt(Qt,at);var Xn=bi("defs",W._svg);Xn||(Xn=bn("defs"),rt(W._svg,Xn)),rt(Xn,Qt),It[_e]=Qt}function kn(_e){return _e.replace(/[^0-9a-zA-Z]+/g,"_")}function mt(_e,J,le){var Ue=_e+"-"+kn(J)+"-"+kn(le)+"-"+st;return It[Ue]||function(at,Qt,Xn,kr){Qt==="sequenceflow-end"&&en(at,{element:bn("path",{d:"M 1 5 L 11 10 L 1 15 Z",...Ut({fill:kr,stroke:kr,strokeWidth:1})}),ref:{x:11,y:10},scale:.5}),Qt==="messageflow-start"&&en(at,{element:bn("circle",{cx:6,cy:6,r:3.5,...Ut({fill:Xn,stroke:kr,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:6,y:6}}),Qt==="messageflow-end"&&en(at,{element:bn("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...Ut({fill:Xn,stroke:kr,strokeWidth:1,strokeDasharray:[1e4,1]})}),ref:{x:8.5,y:5}}),Qt==="association-start"&&en(at,{element:bn("path",{d:"M 11 5 L 1 10 L 11 15",...Tn({fill:"none",stroke:kr,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:1,y:10},scale:.5}),Qt==="association-end"&&en(at,{element:bn("path",{d:"M 1 5 L 11 10 L 1 15",...Tn({fill:"none",stroke:kr,strokeWidth:1.5,strokeDasharray:[1e4,1]})}),ref:{x:11,y:10},scale:.5}),Qt==="conditional-flow-marker"&&en(at,{element:bn("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...Ut({fill:Xn,stroke:kr})}),ref:{x:-1,y:10},scale:.5}),Qt==="conditional-default-flow-marker"&&en(at,{element:bn("path",{d:"M 6 4 L 10 16",...Ut({stroke:kr})}),ref:{x:0,y:10},scale:.5})}(Ue,_e,J,le),"url(#"+Ue+")"}function et(_e,J,le,Ue,at={}){u(Ue)&&(at=Ue,Ue=0),Ue=Ue||0,at=Ut(at);var Qt=bn("circle",{cx:J/2,cy:le/2,r:Math.round((J+le)/4-Ue),...at});return rt(_e,Qt),Qt}function tt(_e,J,le,Ue,at,Qt){u(at)&&(Qt=at,at=0),at=at||0,Qt=Ut(Qt);var Xn=bn("rect",{x:at,y:at,width:J-2*at,height:le-2*at,rx:Ue,ry:Ue,...Qt});return rt(_e,Xn),Xn}function ft(_e,J,le,Ue){var at=_r(J,le=Tn(le),Ue);return rt(_e,at),at}function ht(_e,J,le){return ft(_e,J,le,5)}function Lt(_e,J,le){le=Tn(le);var Ue=bn("path",{...le,d:J});return rt(_e,Ue),Ue}function nn(_e,J,le,Ue){return Lt(J,le,ae({"data-marker":_e},Ue))}function gr(_e){return Aa[_e]}function $t(_e){return function(J,le,Ue){return gr(_e)(J,le,Ue)}}var Un=function(_e,J,le={},Ue){return Lt(_e,N.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:J.width,containerHeight:J.height,position:{mx:.235,my:.315}}),{fill:Ue?Et(J,xe,le.stroke):ct(J,de,le.fill),stroke:Ue?ct(J,de,le.fill):Et(J,xe,le.stroke),strokeWidth:1})},bs=function(_e,J,le={}){var Ue=et(_e,J.width,J.height,.2*J.height,{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:2});Lt(_e,N.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:J.width,containerHeight:J.height,position:{mx:.5,my:.5}}),{stroke:Et(J,xe,le.stroke),strokeWidth:2});for(var at=0;at<12;at++){var Qt=N.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:J.width,containerHeight:J.height,position:{mx:.5,my:.5}}),Xn=J.width/2,kr=J.height/2;Lt(_e,Qt,{strokeWidth:1,stroke:Et(J,xe,le.stroke),transform:"rotate("+30*at+","+kr+","+Xn+")"})}return Ue},xs=function(_e,J,le={},Ue){return Lt(_e,N.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:.5,my:.2}}),{fill:Ue?Et(J,xe,le.stroke):ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1})},Ot=function(_e,J,le={}){return Lt(_e,N.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:.5,my:.222}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1})},ln=function(_e,J,le={},Ue){return Lt(_e,N.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:.57,my:.263}}),{fill:Ue?Et(J,xe,le.stroke):ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1})},ur=function(_e,J,le={},Ue){return Lt(_e,N.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:J.width,containerHeight:J.height,position:{mx:.2,my:.722}}),{fill:Ue?Et(J,xe,le.stroke):ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1})},tr=function(_e,J,le={},Ue){var at=Lt(_e,N.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:.638,my:-.055}}),{fill:Ue?Et(J,xe,le.stroke):"none",stroke:Et(J,xe,le.stroke),strokeWidth:1});return function(Qt,Xn){var kr=We();kr.setRotate(Xn,0,0),Rr(Qt,kr)}(at,45),at},ai=function(_e,J,le={},Ue){return Lt(_e,N.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:.22,my:.5}}),{fill:Ue?Et(J,xe,le.stroke):ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1})},yr=function(_e,J,le={},Ue){return Lt(_e,N.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:J.width,containerHeight:J.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:Ue?Et(J,xe,le.stroke):ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)})},Ta=function(_e,J,le={},Ue){return Lt(_e,N.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:J.width,containerHeight:J.height,position:{mx:.222,my:.36}}),{fill:Ue?Et(J,xe,le.stroke):ct(J,de,le.fill),strokeWidth:1})},el=function(_e,J,le={}){return Lt(_e,N.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:J.width,containerHeight:J.height,position:{mx:.458,my:.194}}),{fill:Et(J,xe,le.stroke),stroke:Et(J,xe,le.stroke),strokeWidth:1})},Ns=function(_e,J,le={}){return et(_e,J.width,J.height,8,{fill:Et(J,xe,le.stroke),stroke:Et(J,xe,le.stroke),strokeWidth:4})};function yo(_e,J,le={}){var Ue=we(_e),at=function(Qt){return Qt.$type==="bpmn:IntermediateThrowEvent"||Qt.$type==="bpmn:EndEvent"}(Ue);return Ue.get("eventDefinitions")&&Ue.get("eventDefinitions").length>1?Ue.get("parallelMultiple")?el(J,_e,le):Ta(J,_e,le,at):Ho(Ue,"bpmn:MessageEventDefinition")?Un(J,_e,le,at):Ho(Ue,"bpmn:TimerEventDefinition")?bs(J,_e,le):Ho(Ue,"bpmn:ConditionalEventDefinition")?Ot(J,_e,le):Ho(Ue,"bpmn:SignalEventDefinition")?yr(J,_e,le,at):Ho(Ue,"bpmn:EscalationEventDefinition")?xs(J,_e,le,at):Ho(Ue,"bpmn:LinkEventDefinition")?ln(J,_e,le,at):Ho(Ue,"bpmn:ErrorEventDefinition")?ur(J,_e,le,at):Ho(Ue,"bpmn:CancelEventDefinition")?tr(J,_e,le,at):Ho(Ue,"bpmn:CompensateEventDefinition")?ai(J,_e,le,at):Ho(Ue,"bpmn:TerminateEventDefinition")?Ns(J,_e,le):null}var ci={ParticipantMultiplicityMarker:function(_e,J,le={}){var Ue=Ct(J,le),at=Ro(J,le);nn("participant-multiplicity",_e,N.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ue,containerHeight:at,position:{mx:(Ue/2-6)/Ue,my:(at-15)/at}}),{strokeWidth:2,fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)})},SubProcessMarker:function(_e,J,le={}){kd(tt(_e,14,14,0,{strokeWidth:1,fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)}),J.width/2-7.5,J.height-20),nn("sub-process",_e,N.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:J.width,containerHeight:J.height,position:{mx:(J.width/2-7.5)/J.width,my:(J.height-20)/J.height}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)})},ParallelMarker:function(_e,J,le){var Ue=Ct(J,le),at=Ro(J,le);nn("parallel",_e,N.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ue,containerHeight:at,position:{mx:(Ue/2+le.parallel)/Ue,my:(at-20)/at}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)})},SequentialMarker:function(_e,J,le){nn("sequential",_e,N.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:(J.width/2+le.seq)/J.width,my:(J.height-19)/J.height}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)})},CompensationMarker:function(_e,J,le){nn("compensation",_e,N.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:(J.width/2+le.compensation)/J.width,my:(J.height-13)/J.height}}),{strokeWidth:1,fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)})},LoopMarker:function(_e,J,le){var Ue=Ct(J,le),at=Ro(J,le);nn("loop",_e,N.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ue,containerHeight:at,position:{mx:(Ue/2+le.loop)/Ue,my:(at-7)/at}}),{strokeWidth:1.5,fill:"none",stroke:Et(J,xe,le.stroke),strokeMiterlimit:.5})},AdhocMarker:function(_e,J,le){var Ue=Ct(J,le),at=Ro(J,le);nn("adhoc",_e,N.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ue,containerHeight:at,position:{mx:(Ue/2+le.adhoc)/Ue,my:(at-15)/at}}),{strokeWidth:1,fill:Et(J,xe,le.stroke),stroke:Et(J,xe,le.stroke)})}};function dr(_e,J,le,Ue){ci[_e](J,le,Ue)}function Pt(_e,J,le,Ue={}){Ue={fill:Ue.fill,stroke:Ue.stroke,width:Ct(J,Ue),height:Ro(J,Ue)};var at=we(J),Qt=le&&le.includes("SubProcessMarker");Ue=Qt?{...Ue,seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{...Ue,seq:-5,parallel:-6,compensation:-27,loop:0,adhoc:10},T(le,function(pi){dr(pi,_e,J,Ue)}),at.get("isForCompensation")&&dr("CompensationMarker",_e,J,Ue),Ee(at,"bpmn:AdHocSubProcess")&&dr("AdhocMarker",_e,J,Ue);var Xn=at.get("loopCharacteristics"),kr=Xn&&Xn.get("isSequential");Xn&&(kr===void 0&&dr("LoopMarker",_e,J,Ue),kr===!1&&dr("ParallelMarker",_e,J,Ue),kr===!0&&dr("SequentialMarker",_e,J,Ue))}function qs(_e,J,le={}){le=ae({size:{width:100}},le);var Ue=G.createText(J||"",le);return pn(Ue).add("djs-label"),rt(_e,Ue),Ue}function Ld(_e,J,le,Ue={}){var at=we(J),Qt=Ai({x:J.x,y:J.y,width:J.width,height:J.height},Ue);return qs(_e,at.name,{align:le,box:Qt,padding:7,style:{fill:Pr(J,qe,xe,Ue.stroke)}})}function _m(_e,J,le,Ue={}){var at=Fe(le),Qt=qs(_e,J,{box:{height:30,width:at?Ro(le,Ue):Ct(le,Ue)},align:"center-middle",style:{fill:Pr(le,qe,xe,Ue.stroke)}});at&&Ca(Qt,0,-(-1*Ro(le,Ue)),270)}function Uo(_e,J,le={}){var{width:Ue,height:at}=Ai(J,le);return tt(_e,Ue,at,10,{...le,fill:ct(J,de,le.fill),fillOpacity:Cd,stroke:Et(J,xe,le.stroke)})}function ra(_e,J,le={}){var Ue=we(J),at=ct(J,de,le.fill),Qt=Et(J,xe,le.stroke);return Ue.get("associationDirection")!=="One"&&Ue.get("associationDirection")!=="Both"||(le.markerEnd=mt("association-end",at,Qt)),Ue.get("associationDirection")==="Both"&&(le.markerStart=mt("association-start",at,Qt)),le=Mr(le,["markerStart","markerEnd"]),ht(_e,J.waypoints,{...le,stroke:Qt,strokeDasharray:"0, 5"})}function qi(_e,J,le={}){var Ue=ct(J,de,le.fill),at=Et(J,xe,le.stroke),Qt=Lt(_e,N.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:.474,my:.296}}),{fill:Ue,fillOpacity:Cd,stroke:at});return function(Xn){var kr=Xn.dataObjectRef;return Xn.isCollection||kr&&kr.isCollection}(we(J))&&Lt(_e,N.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:.33,my:(J.height-18)/J.height}}),{strokeWidth:2,fill:Ue,stroke:at}),Qt}function ya(_e,J,le={}){return et(_e,J.width,J.height,{fillOpacity:Cd,...le,fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)})}function ws(_e,J,le={}){return function(Ue,at,Qt,Xn){var kr=at/2,pi=Qt/2,Tr=[{x:kr,y:0},{x:at,y:pi},{x:kr,y:Qt},{x:0,y:pi}].map(function(Hg){return Hg.x+","+Hg.y}).join(" ");Xn=Ut(Xn);var Ra=bn("polygon",{...Xn,points:Tr});return rt(Ue,Ra),Ra}(_e,J.width,J.height,{fill:ct(J,de,le.fill),fillOpacity:Cd,stroke:Et(J,xe,le.stroke)})}function Kr(_e,J,le={}){var Ue=tt(_e,Ct(J,le),Ro(J,le),0,{fill:ct(J,de,le.fill),fillOpacity:le.fillOpacity||Cd,stroke:Et(J,xe,le.stroke),strokeWidth:1.5}),at=we(J);return Ee(at,"bpmn:Lane")&&_m(_e,at.get("name"),J,le),Ue}function Zi(_e,J,le={}){var Ue=Uo(_e,J,le);(function(Qt){return Qt&&!!we(Qt).triggeredByEvent})(J)&&Tt(Ue,{strokeDasharray:"0, 5.5",strokeWidth:2.5});var at=Oe(J);return Ld(_e,J,at?"center-top":"center-middle",le),Pt(_e,J,at?void 0:["SubProcessMarker"],le),Ue}function Wr(_e,J,le={}){var Ue=Uo(_e,J,le);return Ld(_e,J,"center-middle",le),Pt(_e,J,void 0,le),Ue}var Aa=this.handlers={"bpmn:AdHocSubProcess":function(_e,J,le={}){return Zi(_e,J,le=Oe(J)?Mr(le,["fill","stroke","width","height"]):Mr(le,["fill","stroke"]))},"bpmn:Association":function(_e,J,le={}){return ra(_e,J,le=Mr(le,["fill","stroke"]))},"bpmn:BoundaryEvent":function(_e,J,le={}){var{renderIcon:Ue=!0}=le;le=Mr(le,["fill","stroke"]);var at=we(J).get("cancelActivity");le={strokeWidth:1.5,fill:ct(J,de,le.fill),fillOpacity:1,stroke:Et(J,xe,le.stroke)},at||(le.strokeDasharray="6");var Qt=ya(_e,J,le);return et(_e,J.width,J.height,3,{...le,fill:"none"}),Ue&&yo(J,_e,le),Qt},"bpmn:BusinessRuleTask":function(_e,J,le={}){var Ue=Wr(_e,J,le=Mr(le,["fill","stroke"]));return Tt(Lt(_e,N.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Tt(Lt(_e,N.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{fill:Et(J,xe,le.stroke),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Ue},"bpmn:CallActivity":function(_e,J,le={}){return le=Mr(le,["fill","stroke"]),Zi(_e,J,{strokeWidth:5,...le})},"bpmn:ComplexGateway":function(_e,J,le={}){var Ue=ws(_e,J,le=Mr(le,["fill","stroke"]));return Lt(_e,N.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:J.width,containerHeight:J.height,position:{mx:.46,my:.26}}),{fill:Et(J,xe,le.stroke),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Ue},"bpmn:DataInput":function(_e,J,le={}){le=Mr(le,["fill","stroke"]);var Ue=N.getRawPath("DATA_ARROW"),at=qi(_e,J,le);return Lt(_e,Ue,{fill:"none",stroke:Et(J,xe,le.stroke),strokeWidth:1}),at},"bpmn:DataInputAssociation":function(_e,J,le={}){return le=Mr(le,["fill","stroke"]),ra(_e,J,{...le,markerEnd:mt("association-end",ct(J,de,le.fill),Et(J,xe,le.stroke))})},"bpmn:DataObject":function(_e,J,le={}){return qi(_e,J,le=Mr(le,["fill","stroke"]))},"bpmn:DataObjectReference":$t("bpmn:DataObject"),"bpmn:DataOutput":function(_e,J,le={}){le=Mr(le,["fill","stroke"]);var Ue=N.getRawPath("DATA_ARROW"),at=qi(_e,J,le);return Lt(_e,Ue,{strokeWidth:1,fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke)}),at},"bpmn:DataOutputAssociation":function(_e,J,le={}){return le=Mr(le,["fill","stroke"]),ra(_e,J,{...le,markerEnd:mt("association-end",ct(J,de,le.fill),Et(J,xe,le.stroke))})},"bpmn:DataStoreReference":function(_e,J,le={}){return le=Mr(le,["fill","stroke"]),Lt(_e,N.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:J.width,containerHeight:J.height,position:{mx:0,my:.133}}),{fill:ct(J,de,le.fill),fillOpacity:Cd,stroke:Et(J,xe,le.stroke),strokeWidth:2})},"bpmn:EndEvent":function(_e,J,le={}){var{renderIcon:Ue=!0}=le;le=Mr(le,["fill","stroke"]);var at=ya(_e,J,{...le,strokeWidth:4});return Ue&&yo(J,_e,le),at},"bpmn:EventBasedGateway":function(_e,J,le={}){le=Mr(le,["fill","stroke"]);var Ue=we(J),at=ws(_e,J,le);et(_e,J.width,J.height,.2*J.height,{fill:ct(J,"none",le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1});var Qt=Ue.get("eventGatewayType"),Xn=!!Ue.get("instantiate");if(Qt==="Parallel"){var kr=N.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:J.width,containerHeight:J.height,position:{mx:.474,my:.296}});Lt(_e,kr,{fill:"none",stroke:Et(J,xe,le.stroke),strokeWidth:1})}else Qt==="Exclusive"&&(Xn||et(_e,J.width,J.height,.26*J.height,{fill:"none",stroke:Et(J,xe,le.stroke),strokeWidth:1}),function(){var pi=N.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:J.width,containerHeight:J.height,position:{mx:.36,my:.44}});Lt(_e,pi,{fill:"none",stroke:Et(J,xe,le.stroke),strokeWidth:2})}());return at},"bpmn:ExclusiveGateway":function(_e,J,le={}){var Ue=ws(_e,J,le=Mr(le,["fill","stroke"])),at=N.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:J.width,containerHeight:J.height,position:{mx:.32,my:.3}});return Ce(J).get("isMarkerVisible")&&Lt(_e,at,{fill:Et(J,xe,le.stroke),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Ue},"bpmn:Gateway":function(_e,J,le={}){return ws(_e,J,le=Mr(le,["fill","stroke"]))},"bpmn:Group":function(_e,J,le={}){return le=Mr(le,["fill","stroke","width","height"]),tt(_e,J.width,J.height,10,{stroke:Et(J,xe,le.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:Ct(J,le),height:Ro(J,le)})},"bpmn:InclusiveGateway":function(_e,J,le={}){var Ue=ws(_e,J,le=Mr(le,["fill","stroke"]));return et(_e,J.width,J.height,.24*J.height,{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:2.5}),Ue},"bpmn:IntermediateEvent":function(_e,J,le={}){var{renderIcon:Ue=!0}=le;le=Mr(le,["fill","stroke"]);var at=ya(_e,J,{...le,strokeWidth:1.5});return et(_e,J.width,J.height,3,{fill:"none",stroke:Et(J,xe,le.stroke),strokeWidth:1.5}),Ue&&yo(J,_e,le),at},"bpmn:IntermediateCatchEvent":$t("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":$t("bpmn:IntermediateEvent"),"bpmn:Lane":function(_e,J,le={}){return le=Mr(le,["fill","stroke","width","height"]),Kr(_e,J,{...le,fillOpacity:.25})},"bpmn:ManualTask":function(_e,J,le={}){var Ue=Wr(_e,J,le=Mr(le,["fill","stroke"]));return Lt(_e,N.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:.5}),Ue},"bpmn:MessageFlow":function(_e,J,le={}){le=Mr(le,["fill","stroke"]);var Ue=we(J),at=Ce(J),Qt=ct(J,de,le.fill),Xn=Et(J,xe,le.stroke),kr=ht(_e,J.waypoints,{markerEnd:mt("messageflow-end",Qt,Xn),markerStart:mt("messageflow-start",Qt,Xn),stroke:Xn,strokeDasharray:"10, 11",strokeWidth:1.5});if(Ue.get("messageRef")){var pi=kr.getPointAtLength(kr.getTotalLength()/2),Tr=N.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:pi.x,y:pi.y}}),Ra={strokeWidth:1};at.get("messageVisibleKind")==="initiating"?(Ra.fill=Qt,Ra.stroke=Xn):(Ra.fill=Xn,Ra.stroke=Qt);var Hg=Lt(_e,Tr,Ra),lp=qs(_e,Ue.get("messageRef").get("name"),{align:"center-top",fitBox:!0,style:{fill:Xn}}),Jb=Hg.getBBox(),ex=lp.getBBox();Ca(lp,pi.x-ex.width/2,pi.y+Jb.height/2+10,0)}return kr},"bpmn:ParallelGateway":function(_e,J,le={}){var Ue=ws(_e,J,le=Mr(le,["fill","stroke"]));return Lt(_e,N.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:J.width,containerHeight:J.height,position:{mx:.46,my:.2}}),{fill:Et(J,xe,le.stroke),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Ue},"bpmn:Participant":function(_e,J,le={}){var Ue=Kr(_e,J,le=Mr(le,["fill","stroke","width","height"])),at=Oe(J),Qt=Fe(J),Xn=we(J),kr=Xn.get("name");if(at)ft(_e,Qt?[{x:30,y:0},{x:30,y:Ro(J,le)}]:[{x:0,y:30},{x:Ct(J,le),y:30}],{stroke:Et(J,xe,le.stroke),strokeWidth:1.5}),_m(_e,kr,J,le);else{var pi=Ai(J,le);Qt||(pi.height=Ct(J,le),pi.width=Ro(J,le));var Tr=qs(_e,kr,{box:pi,align:"center-middle",style:{fill:Pr(J,qe,xe,le.stroke)}});Qt||Ca(Tr,0,-(-1*Ro(J,le)),270)}return Xn.get("participantMultiplicity")&&dr("ParticipantMultiplicityMarker",_e,J,le),Ue},"bpmn:ReceiveTask":function(_e,J,le={}){le=Mr(le,["fill","stroke"]);var Ue,at=we(J),Qt=Wr(_e,J,le);return at.get("instantiate")?(et(_e,28,28,4.4,{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Ue=N.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):Ue=N.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),Lt(_e,Ue,{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Qt},"bpmn:ScriptTask":function(_e,J,le={}){var Ue=Wr(_e,J,le=Mr(le,["fill","stroke"]));return Lt(_e,N.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Ue},"bpmn:SendTask":function(_e,J,le={}){var Ue=Wr(_e,J,le=Mr(le,["fill","stroke"]));return Lt(_e,N.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{fill:Et(J,xe,le.stroke),stroke:ct(J,de,le.fill),strokeWidth:1}),Ue},"bpmn:SequenceFlow":function(_e,J,le={}){le=Mr(le,["fill","stroke"]);var Ue=ct(J,de,le.fill),at=Et(J,xe,le.stroke),Qt=ht(_e,J.waypoints,{markerEnd:mt("sequenceflow-end",Ue,at),stroke:at}),Xn=we(J),{source:kr}=J;if(kr){var pi=we(kr);Xn.get("conditionExpression")&&Ee(pi,"bpmn:Activity")&&Tt(Qt,{markerStart:mt("conditional-flow-marker",Ue,at)}),pi.get("default")&&(Ee(pi,"bpmn:Gateway")||Ee(pi,"bpmn:Activity"))&&pi.get("default")===Xn&&Tt(Qt,{markerStart:mt("conditional-default-flow-marker",Ue,at)})}return Qt},"bpmn:ServiceTask":function(_e,J,le={}){var Ue=Wr(_e,J,le=Mr(le,["fill","stroke"]));return et(_e,10,10,{fill:ct(J,de,le.fill),stroke:"none",transform:"translate(6, 6)"}),Lt(_e,N.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1}),et(_e,10,10,{fill:ct(J,de,le.fill),stroke:"none",transform:"translate(11, 10)"}),Lt(_e,N.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:1}),Ue},"bpmn:StartEvent":function(_e,J,le={}){var{renderIcon:Ue=!0}=le;le=Mr(le,["fill","stroke"]),we(J).get("isInterrupting")||(le={...le,strokeDasharray:"6"});var at=ya(_e,J,le);return Ue&&yo(J,_e,le),at},"bpmn:SubProcess":function(_e,J,le={}){return Zi(_e,J,le=Oe(J)?Mr(le,["fill","stroke","width","height"]):Mr(le,["fill","stroke"]))},"bpmn:Task":function(_e,J,le={}){return Wr(_e,J,le=Mr(le,["fill","stroke"]))},"bpmn:TextAnnotation":function(_e,J,le={}){le=Mr(le,["fill","stroke","width","height"]);var{width:Ue,height:at}=Ai(J,le),Qt=tt(_e,Ue,at,0,0,{fill:"none",stroke:"none"});return Lt(_e,N.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:Ue,containerHeight:at,position:{mx:0,my:0}}),{stroke:Et(J,xe,le.stroke)}),qs(_e,we(J).get("text")||"",{align:"left-top",box:Ai(J,le),padding:7,style:{fill:Pr(J,qe,xe,le.stroke)}}),Qt},"bpmn:Transaction":function(_e,J,le={}){le=Oe(J)?Mr(le,["fill","stroke","width","height"]):Mr(le,["fill","stroke"]);var Ue=Zi(_e,J,{strokeWidth:1.5,...le}),at=P.style(["no-fill","no-events"],{stroke:Et(J,xe,le.stroke),strokeWidth:1.5});return Oe(J)||(le={}),tt(_e,Ct(J,le),Ro(J,le),7,3,at),Ue},"bpmn:UserTask":function(_e,J,le={}){var Ue=Wr(_e,J,le=Mr(le,["fill","stroke"]));return Lt(_e,N.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:.5}),Lt(_e,N.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{fill:ct(J,de,le.fill),stroke:Et(J,xe,le.stroke),strokeWidth:.5}),Lt(_e,N.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{fill:Et(J,xe,le.stroke),stroke:Et(J,xe,le.stroke),strokeWidth:.5}),Ue},label:function(_e,J,le={}){return function(Ue,at,Qt={}){var Xn={width:90,height:30,x:at.width/2+at.x,y:at.height/2+at.y};return qs(Ue,bt(at),{box:Xn,fitBox:!0,style:ae({},G.getExternalStyle(),{fill:Pr(at,qe,xe,Qt.stroke)})})}(_e,J,le)}};this._drawPath=Lt,this._renderer=gr}function Mr(x,C=[]){return C.reduce((P,N)=>(x[N]&&(P[N]=x[N]),P),{})}t(Of,Me),Of.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],Of.prototype.canRender=function(x){return Ee(x,"bpmn:BaseElement")},Of.prototype.drawShape=function(x,C,P={}){var{type:N}=C;return this._renderer(N)(x,C,P)},Of.prototype.drawConnection=function(x,C,P={}){var{type:N}=C;return this._renderer(N)(x,C,P)},Of.prototype.getShapePath=function(x){return Ee(x,"bpmn:Event")?(P=(C=x).x+C.width/2,N=C.y+C.height/2,W=C.width/2,Ti([["M",P,N],["m",0,-W],["a",W,W,0,1,1,0,2*W],["a",W,W,0,1,1,0,-2*W],["z"]])):Ee(x,"bpmn:Activity")?function(G,te){var de=G.x,xe=G.y,qe=G.width,st=G.height;return Ti([["M",de+te,xe],["l",qe-2*te,0],["a",te,te,0,0,1,te,te],["l",0,st-2*te],["a",te,te,0,0,1,-te,te],["l",2*te-qe,0],["a",te,te,0,0,1,-te,-te],["l",0,2*te-st],["a",te,te,0,0,1,te,-te],["z"]])}(x,10):Ee(x,"bpmn:Gateway")?function(G){var te=G.width/2,de=G.height/2;return Ti([["M",G.x+te,G.y],["l",te,de],["l",-te,de],["l",-te,-de],["z"]])}(x):function(G){var te=G.x,de=G.y,xe=G.width;return Ti([["M",te,de],["l",xe,0],["l",0,G.height],["l",-xe,0],["z"]])}(x);var C,P,N,W};var n0=0,im={width:150,height:50};function r0(x,C){var P;C.textContent=x;try{var N,W=x==="";return C.textContent=W?"dummy":x,N={width:(P=C.getBBox()).width+2*P.x,height:P.height},W&&(N.width=0),N}catch{return{width:0,height:0}}}function om(x,C,P){for(var N,W=x.shift(),G=W;;){if((N=r0(G,P)).width=G?N.width:0,G===" "||G===""||N.width<Math.round(C)||G.length<2)return Ag(x,G,W,N);G=Od(G,N.width,C)}}function Ag(x,C,P,N){if(C.length<P.length){var W=P.slice(C.length).trim();x.unshift(W)}return{width:N.width,height:N.height,text:C}}var i0="";function Od(x,C,P){var N=Math.max(x.length*(P/C),1),W=function(G,te){var de,xe=G.split(/(\s|-|\u00AD)/g),qe=[],st=0;if(xe.length>1)for(;de=xe.shift();){if(!(de.length+st<te)){de!=="-"&&de!==i0||qe.pop();break}qe.push(de),st+=de.length}var It=qe[qe.length-1];return It&&It===i0&&(qe[qe.length-1]="-"),qe.join("")}(x,N);return W||(W=x.slice(0,Math.max(Math.round(N-1),1))),W}function dc(x){this._config=ae({},{size:im,padding:n0,style:{},align:"center-top"},x||{})}dc.prototype.createText=function(x,C){return this.layoutText(x,C).element},dc.prototype.getDimensions=function(x,C){return this.layoutText(x,C).dimensions},dc.prototype.layoutText=function(x,C){var P=ae({},this._config.size,C.box),N=ae({},this._config.style,C.style),W=function(mt){var et=mt.split("-");return{horizontal:et[0]||"center",vertical:et[1]||"top"}}(C.align||this._config.align),G=function(mt){return u(mt)?ae({top:0,left:0,right:0,bottom:0},mt):{top:mt,left:mt,right:mt,bottom:mt}}(C.padding!==void 0?C.padding:this._config.padding),te=C.fitBox||!1,de=function(mt){if("fontSize"in mt&&"lineHeight"in mt)return mt.lineHeight*parseInt(mt.fontSize,10)}(N),xe=x.split(/\u00AD?\r?\n/),qe=[],st=P.width-G.left-G.right,It=bn("text");for(Tt(It,{x:0,y:0}),Tt(It,N),rt(function(){var mt=document.getElementById("helper-svg");return mt||(Tt(mt=bn("svg"),{id:"helper-svg"}),tn(mt,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(mt)),mt}(),It);xe.length;)qe.push(om(xe,st,It));W.vertical==="middle"&&(G.top=G.bottom=0);var Ut=F(qe,function(mt,et,tt){return mt+(de||et.height)},0)+G.top+G.bottom,Tn=F(qe,function(mt,et,tt){return et.width>mt?et.width:mt},0),en=G.top;W.vertical==="middle"&&(en+=(P.height-Ut)/2),en-=(de||qe[0].height)/4;var kn=bn("text");return Tt(kn,N),T(qe,function(mt){var et;switch(en+=de||mt.height,W.horizontal){case"left":et=G.left;break;case"right":et=(te?Tn:st)-G.right-mt.width;break;default:et=Math.max(((te?Tn:st)-mt.width)/2+G.left,0)}var tt=bn("tspan");Tt(tt,{x:et,y:en}),tt.textContent=mt.text,rt(kn,tt)}),ot(It),{dimensions:{width:Tn,height:Ut},element:kn}};function So(x){var C=ae({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},x&&x.defaultStyle||{}),P=parseInt(C.fontSize,10)-1,N=ae({},C,{fontSize:P},x&&x.externalStyle||{}),W=new dc({style:C});this.getExternalLabelBounds=function(G,te){var de=W.getDimensions(te,{box:{width:90,height:30},style:N});return{x:Math.round(G.x+G.width/2-de.width/2),y:Math.round(G.y),width:Math.ceil(de.width),height:Math.ceil(de.height)}},this.getTextAnnotationBounds=function(G,te){var de=W.getDimensions(te,{box:G,style:C,align:"left-top",padding:5});return{x:G.x,y:G.y,width:G.width,height:Math.max(30,Math.round(de.height))}},this.createText=function(G,te){return W.createText(G,te||{})},this.getDefaultStyle=function(){return C},this.getExternalStyle=function(){return N}}So.$inject=["config.textRenderer"];var Nb=/\{([^{}]+)\}/g,o0=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,Wh={__init__:["bpmnRenderer"],bpmnRenderer:["type",Of],textRenderer:["type",So],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(x){return this.pathMap[x].d},this.getScaledPath=function(x,C){var P,N,W=this.pathMap[x];C.abspos?(P=C.abspos.x,N=C.abspos.y):(P=C.containerWidth*C.position.mx,N=C.containerHeight*C.position.my);var G={};if(C.position){for(var te=C.containerHeight/W.height*C.yScaleFactor,de=C.containerWidth/W.width*C.xScaleFactor,xe=0;xe<W.heightElements.length;xe++)G["y"+xe]=W.heightElements[xe]*te;for(var qe=0;qe<W.widthElements.length;qe++)G["x"+qe]=W.widthElements[qe]*de}var st,It,Ut=(st=W.d,It={mx:P,my:N,e:G},String(st).replace(Nb,function(Tn,en){return function(kn,mt,et){var tt=et;return mt.replace(o0,function(ft,ht,Lt,nn,gr){ht=ht||nn,tt&&(ht in tt&&(tt=tt[ht]),typeof tt=="function"&&gr&&(tt=tt()))}),tt=(tt==null||tt==et?kn:tt)+""}(Tn,en,It)}));return Ut}}]},fc={translate:["value",function(x,C){return C=C||{},x.replace(/{([^}]+)}/g,function(P,N){return C[N]||"{"+N+"}"})}]};function s0(x){return{top:x.y,right:x.x+(x.width||0),bottom:x.y+(x.height||0),left:x.x}}function Mo(x){return C={x:x.x+(x.width||0)/2,y:x.y+(x.height||0)/2},{x:Math.round(C.x),y:Math.round(C.y)};var C}function Do(x){for(var C=x.waypoints,P=C.reduce(function(xe,qe,st){var It,Ut,Tn=C[st-1];if(Tn){var en=xe[xe.length-1],kn=en&&en.endLength||0,mt=(It=Tn,Ut=qe,Math.sqrt(Math.pow(It.x-Ut.x,2)+Math.pow(It.y-Ut.y,2)));xe.push({start:Tn,end:qe,startLength:kn,endLength:kn+mt,length:mt})}return xe},[]),N=P.reduce(function(xe,qe){return xe+qe.length},0),W=N/2,G=0,te=P[G];te.endLength<W;)te=P[++G];var de=(W-te.startLength)/te.length;return{x:te.start.x+(te.end.x-te.start.x)*de,y:te.start.y+(te.end.y-te.start.y)*de}}function Tf(x){return u(C=x)&&_(C,"waypoints")?Do(x):Mo(x);var C}function io(x){return x?"<"+x.$type+(x.id?' id="'+x.id:"")+'" />':"<null>"}function Af(x,C,P){return ae({id:x.id,type:x.$type,businessObject:x,di:C},P)}function Ib(x,C,P){var N=x.waypoint;return!N||N.length<2?[Tf(C),Tf(P)]:N.map(function(W){return{x:W.x,y:W.y}})}function Xc(x,C,P,N){return new Error(x("element {element} referenced by {referenced}#{property} not yet drawn",{element:io(P),referenced:io(C),property:N}))}function Zc(x,C,P,N,W,G){this._eventBus=x,this._canvas=C,this._elementFactory=P,this._elementRegistry=N,this._translate=W,this._textRenderer=G}Zc.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Zc.prototype.add=function(x,C,P){var N,W,G,te,de,xe,qe,st=this._translate;if(Ee(C,"bpmndi:BPMNPlane")){var It=Ee(x,"bpmn:SubProcess")?{id:x.id+"_plane"}:{};N=this._elementFactory.createRoot(Af(x,C,It)),this._canvas.addRootElement(N)}else if(Ee(C,"bpmndi:BPMNShape")){var Ut=!Oe(x,C),Tn=function(et){return Ee(et,"bpmn:Group")}(x);W=P&&(P.hidden||P.collapsed);var en=C.bounds;N=this._elementFactory.createShape(Af(x,C,{collapsed:Ut,hidden:W,x:Math.round(en.x),y:Math.round(en.y),width:Math.round(en.width),height:Math.round(en.height),isFrame:Tn})),Ee(x,"bpmn:BoundaryEvent")&&this._attachBoundary(x,N),Ee(x,"bpmn:Lane")&&(G=0),Ee(x,"bpmn:DataStoreReference")&&(te=P,de=Tf(en),xe=de.x,qe=de.y,xe>=te.x&&xe<=te.x+te.width&&qe>=te.y&&qe<=te.y+te.height||(P=this._canvas.findRoot(P))),this._canvas.addShape(N,P,G)}else{if(!Ee(C,"bpmndi:BPMNEdge"))throw new Error(st("unknown di {di} for element {semantic}",{di:io(C),semantic:io(x)}));var kn=this._getSource(x),mt=this._getTarget(x);W=P&&(P.hidden||P.collapsed),N=this._elementFactory.createConnection(Af(x,C,{hidden:W,source:kn,target:mt,waypoints:Ib(C,kn,mt)})),Ee(x,"bpmn:DataAssociation")&&(P=this._canvas.findRoot(P)),this._canvas.addConnection(N,P,G)}return function(et){return Ee(et,"bpmn:Event")||Ee(et,"bpmn:Gateway")||Ee(et,"bpmn:DataStoreReference")||Ee(et,"bpmn:DataObjectReference")||Ee(et,"bpmn:DataInput")||Ee(et,"bpmn:DataOutput")||Ee(et,"bpmn:SequenceFlow")||Ee(et,"bpmn:MessageFlow")||Ee(et,"bpmn:Group")}(x)&&bt(N)&&this.addLabel(x,C,N),this._eventBus.fire("bpmnElement.added",{element:N}),N},Zc.prototype._attachBoundary=function(x,C){var P=this._translate,N=x.attachedToRef;if(!N)throw new Error(P("missing {semantic}#attachedToRef",{semantic:io(x)}));var W=this._elementRegistry.get(N.id),G=W&&W.attachers;if(!W)throw Xc(P,x,N,"attachedToRef");C.host=W,G||(W.attachers=G=[]),G.indexOf(C)===-1&&G.push(C)},Zc.prototype.addLabel=function(x,C,P){var N,W,G;return N=Ze(C,P),(W=bt(P))&&(N=this._textRenderer.getExternalLabelBounds(N,W)),G=this._elementFactory.createLabel(Af(x,C,{id:x.id+"_label",labelTarget:P,type:"label",hidden:P.hidden||!bt(P),x:Math.round(N.x),y:Math.round(N.y),width:Math.round(N.width),height:Math.round(N.height)})),this._canvas.addShape(G,P.parent)},Zc.prototype._getConnectedElement=function(x,C){var P,N,W=x.$type,G=this._translate;if(N=x[C+"Ref"],C==="source"&&W==="bpmn:DataInputAssociation"&&(N=N&&N[0]),(C==="source"&&W==="bpmn:DataOutputAssociation"||C==="target"&&W==="bpmn:DataInputAssociation")&&(N=x.$parent),P=N&&this._getElement(N))return P;throw N?Xc(G,x,N,C+"Ref"):new Error(G("{semantic}#{side} Ref not specified",{semantic:io(x),side:C}))},Zc.prototype._getSource=function(x){return this._getConnectedElement(x,"source")},Zc.prototype._getTarget=function(x){return this._getConnectedElement(x,"target")},Zc.prototype._getElement=function(x){return this._elementRegistry.get(x.id)};var a0={__depends__:[Wh,{__depends__:[fc],bpmnImporter:["type",Zc]}]};function qh(x){return x.originalEvent||x.srcEvent}function l0(x){return x.pointers&&x.pointers.length&&(x=x.pointers[0]),x.touches&&x.touches.length&&(x=x.touches[0]),x?{x:x.clientX,y:x.clientY}:null}function c0(){return/mac/i.test(navigator.platform)}function No(x,C){return(qh(x)||x).button===C}function Nl(x){return No(x,0)}function hc(x){return!0}function dl(x){return Nl(x)||function(C){return No(C,1)}(x)}function u0(x,C,P){var N=this;function W(tt,ft,ht){var Lt,nn;(function(gr,$t){var Un=xe[gr]||Nl;return!Un($t)})(tt,ft)||(ht?nn=C.getGraphics(ht):(Lt=ft.delegateTarget||ft.target)&&(nn=Lt,ht=C.get(nn)),nn&&ht&&x.fire(tt,{element:ht,gfx:nn,originalEvent:ft})===!1&&(ft.stopPropagation(),ft.preventDefault()))}var G={};function te(tt){return G[tt]}var de={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},xe={"element.contextmenu":hc,"element.mousedown":dl,"element.mouseup":dl,"element.click":dl,"element.dblclick":dl},qe="svg, .djs-element";function st(tt,ft,ht,Lt){var nn=G[ht]=function(gr){W(ht,gr)};Lt&&(xe[ht]=Lt),nn.$delegate=Be.bind(tt,qe,ft,nn)}function It(tt,ft,ht){var Lt=te(ht);Lt&&Be.unbind(tt,ft,Lt.$delegate)}x.on("canvas.destroy",function(tt){var ft;ft=tt.svg,T(de,function(ht,Lt){It(ft,Lt,ht)})}),x.on("canvas.init",function(tt){var ft;ft=tt.svg,T(de,function(ht,Lt){st(ft,Lt,ht)})}),x.on(["shape.added","connection.added"],function(tt){var ft=tt.element,ht=tt.gfx;x.fire("interactionEvents.createHit",{element:ft,gfx:ht})}),x.on(["shape.changed","connection.changed"],500,function(tt){var ft=tt.element,ht=tt.gfx;x.fire("interactionEvents.updateHit",{element:ft,gfx:ht})}),x.on("interactionEvents.createHit",500,function(tt){var ft=tt.element,ht=tt.gfx;N.createDefaultHit(ft,ht)}),x.on("interactionEvents.updateHit",function(tt){var ft=tt.element,ht=tt.gfx;N.updateDefaultHit(ft,ht)});var Ut=kn("djs-hit djs-hit-stroke"),Tn=kn("djs-hit djs-hit-click-stroke"),en={all:kn("djs-hit djs-hit-all"),"click-stroke":Tn,stroke:Ut,"no-move":kn("djs-hit djs-hit-no-move")};function kn(tt,ft){return ft=ae({stroke:"white",strokeWidth:15},ft||{}),P.cls(tt,["no-fill","no-border"],ft)}function mt(tt,ft){var ht=en[ft];if(!ht)throw new Error("invalid hit type <"+ft+">");return Tt(tt,ht),tt}function et(tt,ft){rt(tt,ft)}this.removeHits=function(tt){var ft;T((ft=".djs-hit",(tt||document).querySelectorAll(ft)),ot)},this.createDefaultHit=function(tt,ft){var ht,Lt=tt.waypoints,nn=tt.isFrame;return Lt?this.createWaypointsHit(ft,Lt):(ht=nn?"stroke":"all",this.createBoxHit(ft,ht,{width:tt.width,height:tt.height}))},this.createWaypointsHit=function(tt,ft){var ht=_r(ft);return mt(ht,"stroke"),et(tt,ht),ht},this.createBoxHit=function(tt,ft,ht){ht=ae({x:0,y:0},ht);var Lt=bn("rect");return mt(Lt,ft),Tt(Lt,ht),et(tt,Lt),Lt},this.updateDefaultHit=function(tt,ft){var ht=bi(".djs-hit",ft);if(ht)return tt.waypoints?mr(ht,tt.waypoints):Tt(ht,{width:tt.width,height:tt.height}),ht},this.fire=W,this.triggerMouseEvent=function(tt,ft,ht){var Lt=de[tt];if(!Lt)throw new Error("unmapped DOM event name <"+tt+">");return W(Lt,ft,ht)},this.mouseHandler=te,this.registerEvent=st,this.unregisterEvent=It}u0.$inject=["eventBus","elementRegistry","styles"];var Td={__init__:["interactionEvents"],interactionEvents:["type",u0]};function Rf(x,C){var P,N,W,G;return C=!!C,c(x)||(x=[x]),T(x,function(te){var de=te;te.waypoints&&!C&&(de=Rf(te.waypoints,!0));var xe=de.x,qe=de.y,st=de.height||0,It=de.width||0;(xe<P||P===void 0)&&(P=xe),(qe<N||N===void 0)&&(N=qe),(xe+It>W||W===void 0)&&(W=xe+It),(qe+st>G||G===void 0)&&(G=qe+st)}),{x:P,y:N,height:G-N,width:W-P}}function Rg(x){return"waypoints"in x?"connection":"x"in x?"shape":"root"}function sm(x){return!(!x||!x.isFrame)}function Fu(x,C){this._eventBus=x,this.offset=5;var P=C.cls("djs-outline",["no-fill"]),N=this;function W(G){var te=bn("rect");return Tt(te,ae({x:0,y:0,rx:4,width:100,height:100},P)),te}x.on(["shape.added","shape.changed"],500,function(G){var te=G.element,de=G.gfx,xe=bi(".djs-outline",de);xe||rt(de,xe=N.getOutline(te)||W()),N.updateShapeOutline(xe,te)}),x.on(["connection.added","connection.changed"],function(G){var te=G.element,de=G.gfx,xe=bi(".djs-outline",de);xe||rt(de,xe=W()),N.updateConnectionOutline(xe,te)})}Fu.prototype.updateShapeOutline=function(x,C){var P=!1,N=this._getProviders();N.length&&T(N,function(W){P=P||W.updateOutline(C,x)}),P||Tt(x,{x:-this.offset,y:-this.offset,width:C.width+2*this.offset,height:C.height+2*this.offset})},Fu.prototype.updateConnectionOutline=function(x,C){var P=Rf(C);Tt(x,{x:P.x-this.offset,y:P.y-this.offset,width:P.width+2*this.offset,height:P.height+2*this.offset})},Fu.prototype.registerProvider=function(x,C){C||(C=x,x=1e3),this._eventBus.on("outline.getProviders",x,function(P){P.providers.push(C)})},Fu.prototype._getProviders=function(){var x=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(x),x.providers},Fu.prototype.getOutline=function(x){var C;return T(this._getProviders(),function(P){m(P.getOutline)&&(C=C||P.getOutline(x))}),C},Fu.$inject=["eventBus","styles","elementRegistry"];var am={__init__:["outline"],outline:["type",Fu]};function pc(x,C){this._eventBus=x,this._canvas=C,this._selectedElements=[];var P=this;x.on(["shape.remove","connection.remove"],function(N){var W=N.element;P.deselect(W)}),x.on(["diagram.clear","root.set"],function(N){P.select(null)})}pc.$inject=["eventBus","canvas"],pc.prototype.deselect=function(x){var C=this._selectedElements,P=C.indexOf(x);if(P!==-1){var N=C.slice();C.splice(P,1),this._eventBus.fire("selection.changed",{oldSelection:N,newSelection:C})}},pc.prototype.get=function(){return this._selectedElements},pc.prototype.isSelected=function(x){return this._selectedElements.indexOf(x)!==-1},pc.prototype.select=function(x,C){var P=this._selectedElements,N=P.slice();c(x)||(x=x?[x]:[]);var W=this._canvas,G=W.getRootElement();x=x.filter(function(te){var de=W.findRoot(te);return G===de}),C?T(x,function(te){P.indexOf(te)===-1&&P.push(te)}):this._selectedElements=P=x.slice(),this._eventBus.fire("selection.changed",{oldSelection:N,newSelection:P})};var Pg="hover",Xi="selected";function Ei(x,C,P){this._canvas=x;var N=this;function W(te,de){x.addMarker(te,de)}function G(te,de){x.removeMarker(te,de)}this._multiSelectionBox=null,C.on("element.hover",function(te){W(te.element,Pg)}),C.on("element.out",function(te){G(te.element,Pg)}),C.on("selection.changed",function(te){var de=te.oldSelection,xe=te.newSelection;T(de,function(qe){xe.indexOf(qe)===-1&&G(qe,Xi)}),T(xe,function(qe){de.indexOf(qe)===-1&&W(qe,Xi)}),N._updateSelectionOutline(xe)}),C.on("element.changed",function(te){P.isSelected(te.element)&&N._updateSelectionOutline(P.get())})}function d0(x,C,P,N){x.on("create.end",500,function(W){var G=W.context,te=G.canExecute,de=G.elements,xe=(G.hints||{}).autoSelect;if(te){if(xe===!1)return;c(xe)?C.select(xe):C.select(de.filter(Lb))}}),x.on("connect.end",500,function(W){var G=W.context.connection;G&&C.select(G)}),x.on("shape.move.end",500,function(W){var G=W.previousSelection||[],te=N.get(W.context.shape.id);k(G,function(de){return te.id===de.id})||C.select(te)}),x.on("element.click",function(W){if(Nl(W)){var G=W.element;G===P.getRootElement()&&(G=null);var te=C.isSelected(G),de=C.get().length>1,xe=function(qe){var st=qh(qe)||qe;return!!Nl(qe)&&(c0()?st.metaKey:st.ctrlKey)}(W)||function(qe){var st=qh(qe)||qe;return Nl(qe)&&st.shiftKey}(W);if(te&&de)return xe?C.deselect(G):C.select(G);te?C.deselect(G):C.select(G,xe)}})}function Lb(x){return!x.hidden}Ei.$inject=["canvas","eventBus","selection"],Ei.prototype._updateSelectionOutline=function(x){var C=this._canvas.getLayer("selectionOutline");Ht(C);var P=x.length>1;if(pn(this._canvas.getContainer())[P?"add":"remove"]("djs-multi-select"),P){var N=function(G){return{x:G.x-6,y:G.y-6,width:G.width+12,height:G.height+12}}(Rf(x)),W=bn("rect");Tt(W,ae({rx:3},N)),pn(W).add("djs-selection-outline"),rt(C,W)}},d0.$inject=["eventBus","selection","canvas","elementRegistry"];var Ad={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Td,am],selection:["type",pc],selectionVisuals:["type",Ei],selectionBehavior:["type",d0]};function f0(x){this._counter=0,this._prefix=(x?x+"-":"")+Math.floor(1e9*Math.random())+"-"}f0.prototype.next=function(){return this._prefix+ ++this._counter};var Fb=new f0("ov");function Rs(x,C,P,N){var W,G;this._eventBus=C,this._canvas=P,this._elementRegistry=N,this._ids=Fb,this._overlayDefaults=ae({show:null,scale:!0},x&&x.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(W=P.getContainer(),tn(G=Ki('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),W.insertBefore(G,W.firstChild),G),this._init()}function Uh(x,C,P){tn(x,{left:C+"px",top:P+"px"})}function Mg(x,C){x.style.display=C===!1?"none":""}function Ps(x,C){x.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(P){x.style[P+"transform"]=C})}Rs.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Rs.prototype.get=function(x){if(v(x)&&(x={id:x}),v(x.element)&&(x.element=this._elementRegistry.get(x.element)),x.element){var C=this._getOverlayContainer(x.element,!0);return C?x.type?R(C.overlays,B({type:x.type})):C.overlays.slice():[]}return x.type?R(this._overlays,B({type:x.type})):x.id?this._overlays[x.id]:null},Rs.prototype.add=function(x,C,P){if(u(C)&&(P=C,C=null),x.id||(x=this._elementRegistry.get(x)),!P.position)throw new Error("must specifiy overlay position");if(!P.html)throw new Error("must specifiy overlay html");if(!x)throw new Error("invalid element specified");var N=this._ids.next();return P=ae({},this._overlayDefaults,P,{id:N,type:C,element:x,html:P.html}),this._addOverlay(P),N},Rs.prototype.remove=function(x){var C=this.get(x)||[];c(C)||(C=[C]);var P=this;T(C,function(N){var W=P._getOverlayContainer(N.element,!0);if(N&&(As(N.html),As(N.htmlContainer),delete N.htmlContainer,delete N.element,delete P._overlays[N.id]),W){var G=W.overlays.indexOf(N);G!==-1&&W.overlays.splice(G,1)}})},Rs.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"},Rs.prototype.show=function(){Mg(this._overlayRoot)},Rs.prototype.hide=function(){Mg(this._overlayRoot,!1)},Rs.prototype.clear=function(){this._overlays={},this._overlayContainers=[],li(this._overlayRoot)},Rs.prototype._updateOverlayContainer=function(x){var C=x.element,P=x.html,N=C.x,W=C.y;if(C.waypoints){var G=Rf(C);N=G.x,W=G.y}Uh(P,N,W),function(te,de,xe){arguments.length==2?te.getAttribute(de):xe===null?te.removeAttribute(de):te.setAttribute(de,xe)}(x.html,"data-container-id",C.id)},Rs.prototype._updateOverlay=function(x){var C,P,N=x.position,W=x.htmlContainer,G=x.element,te=N.left,de=N.top;N.right!==void 0&&(C=G.waypoints?Rf(G).width:G.width,te=-1*N.right+C),N.bottom!==void 0&&(P=G.waypoints?Rf(G).height:G.height,de=-1*N.bottom+P),Uh(W,te||0,de||0),this._updateOverlayVisibilty(x,this._canvas.viewbox())},Rs.prototype._createOverlayContainer=function(x){var C=Ki('<div class="djs-overlays" />');tn(C,{position:"absolute"}),this._overlayRoot.appendChild(C);var P={html:C,element:x,overlays:[]};return this._updateOverlayContainer(P),this._overlayContainers.push(P),P},Rs.prototype._updateRoot=function(x){var C=x.scale||1,P="matrix("+[C,0,0,C,-1*x.x*C,-1*x.y*C].join(",")+")";Ps(this._overlayRoot,P)},Rs.prototype._getOverlayContainer=function(x,C){var P=k(this._overlayContainers,function(N){return N.element===x});return P||C?P:this._createOverlayContainer(x)},Rs.prototype._addOverlay=function(x){var C,P,N=x.id,W=x.element,G=x.html;G.get&&G.constructor.prototype.jquery&&(G=G.get(0)),v(G)&&(G=Ki(G)),P=this._getOverlayContainer(W),tn(C=Ki('<div class="djs-overlay" data-overlay-id="'+N+'">'),{position:"absolute"}),C.appendChild(G),x.type&&Jt(C).add("djs-overlay-"+x.type),Mg(C,this._canvas.findRoot(W)===this._canvas.getRootElement()),x.htmlContainer=C,P.overlays.push(x),P.html.appendChild(C),this._overlays[N]=x,this._updateOverlay(x),this._updateOverlayVisibilty(x,this._canvas.viewbox())},Rs.prototype._updateOverlayVisibilty=function(x,C){var P=x.show,N=this._canvas.findRoot(x.element),W=P&&P.minZoom,G=P&&P.maxZoom,te=x.htmlContainer,de=!0;(N!==this._canvas.getRootElement()||P&&(a(W)&&W>C.scale||a(G)&&G<C.scale))&&(de=!1),Mg(te,de),this._updateOverlayScale(x,C)},Rs.prototype._updateOverlayScale=function(x,C){var P,N,W,G=x.scale,te=x.htmlContainer,de="";G!==!0&&(G===!1?(P=1,N=1):(P=G.min,N=G.max),a(P)&&C.scale<P&&(W=(1/C.scale||1)*P),a(N)&&C.scale>N&&(W=(1/C.scale||1)*N)),a(W)&&(de="scale("+W+","+W+")"),Ps(te,de)},Rs.prototype._updateOverlaysVisibilty=function(x){var C=this;T(this._overlays,function(P){C._updateOverlayVisibilty(P,x)})},Rs.prototype._init=function(){var x=this._eventBus,C=this;x.on("canvas.viewbox.changing",function(P){C.hide()}),x.on("canvas.viewbox.changed",function(P){var N;N=P.viewbox,C._updateRoot(N),C._updateOverlaysVisibilty(N),C.show()}),x.on(["shape.remove","connection.remove"],function(P){var N=P.element;T(C.get({element:N}),function(te){C.remove(te.id)});var W=C._getOverlayContainer(N);if(W){As(W.html);var G=C._overlayContainers.indexOf(W);G!==-1&&C._overlayContainers.splice(G,1)}}),x.on("element.changed",500,function(P){var N=P.element,W=C._getOverlayContainer(N,!0);W&&(T(W.overlays,function(G){C._updateOverlay(G)}),C._updateOverlayContainer(W))}),x.on("element.marker.update",function(P){var N=C._getOverlayContainer(P.element,!0);N&&Jt(N.html)[P.add?"add":"remove"](P.marker)}),x.on("root.set",function(){C._updateOverlaysVisibilty(C._canvas.viewbox())}),x.on("diagram.clear",this.clear,this)};var Dg={__init__:["overlays"],overlays:["type",Rs]};function $u(x,C,P,N){x.on("element.changed",function(W){var G=W.element;(G.parent||G===C.getRootElement())&&(W.gfx=P.getGraphics(G)),W.gfx&&x.fire(Rg(G)+".changed",W)}),x.on("elements.changed",function(W){var G=W.elements;G.forEach(function(te){x.fire("element.changed",{element:te})}),N.updateContainments(G)}),x.on("shape.changed",function(W){N.update("shape",W.element,W.gfx)}),x.on("connection.changed",function(W){N.update("connection",W.element,W.gfx)})}$u.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var lm={__init__:["changeSupport"],changeSupport:["type",$u]};function Hs(x){this._eventBus=x}function ts(x){return function(C,P,N,W,G){(m(C)||h(C))&&(G=W,W=N,N=P,P=C,C=null),this.on(C,x,P,N,W,G)}}function cm(x,C){C.invoke(Hs,this),this.executed(function(P){var N=P.context;N.rootElement?x.setRootElement(N.rootElement):N.rootElement=x.getRootElement()}),this.revert(function(P){var N=P.context;N.rootElement&&x.setRootElement(N.rootElement)})}Hs.$inject=["eventBus"],Hs.prototype.on=function(x,C,P,N,W,G){if((m(C)||h(C))&&(G=W,W=N,N=P,P=C,C=null),m(P)&&(G=W,W=N,N=P,P=1e3),u(W)&&(G=W,W=!1),!m(N))throw new Error("handlerFn must be a function");c(x)||(x=[x]);var te=this._eventBus;T(x,function(de){var xe=["commandStack",de,C].filter(function(qe){return qe}).join(".");te.on(xe,P,W?function(qe,st){return function(It){return qe.call(st||null,It.context,It.command,It)}}(N,G):N,G)})},Hs.prototype.canExecute=ts("canExecute"),Hs.prototype.preExecute=ts("preExecute"),Hs.prototype.preExecuted=ts("preExecuted"),Hs.prototype.execute=ts("execute"),Hs.prototype.executed=ts("executed"),Hs.prototype.postExecute=ts("postExecute"),Hs.prototype.postExecuted=ts("postExecuted"),Hs.prototype.revert=ts("revert"),Hs.prototype.reverted=ts("reverted"),t(cm,Hs),cm.$inject=["canvas","injector"];var Si={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",cm]},jr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h0="_plane";function mc(x){var C=x.id;return Ee(x,"bpmn:SubProcess")?function(P){return P+h0}(C):C}function Ln(x,C,P){var N=Ki('<ul class="bjs-breadcrumbs"></ul>'),W=P.getContainer(),G=Jt(W);W.appendChild(N);var te=[];function de(xe){xe&&(te=function(It){for(var Ut=we(It),Tn=[],en=Ut;en;en=en.$parent)(Ee(en,"bpmn:SubProcess")||Ee(en,"bpmn:Process"))&&Tn.push(en);return Tn.reverse()}(xe));var qe=te.map(function(It){var Ut,Tn=(Ut=""+(Ut=It.name||It.id))&&Ut.replace(/[&<>"']/g,function(et){return jr[et]}),en=Ki('<li><span class="bjs-crumb"><a title="'+Tn+'">'+Tn+"</a></span></li>"),kn=P.findRoot(mc(It))||P.findRoot(It.id);if(!kn&&Ee(It,"bpmn:Process")){var mt=C.find(function(et){var tt=we(et);return tt&&tt.get("processRef")&&tt.get("processRef")===It});kn=P.findRoot(mt.id)}return en.addEventListener("click",function(){P.setRootElement(kn)}),en});N.innerHTML="";var st=qe.length>1;G.toggle("bjs-breadcrumbs-shown",st),qe.forEach(function(It){N.appendChild(It)})}x.on("element.changed",function(xe){var qe=we(xe.element);k(te,function(st){return st===qe})&&de()}),x.on("root.set",function(xe){de(xe.element)})}function ta(x,C){var P=null,N=new VE;x.on("root.set",function(W){var G=W.element,te=C.viewbox(),de=N.get(G);if(N.set(P,{x:te.x,y:te.y,zoom:te.scale}),P=G,!Ee(G,"bpmn:Collaboration")||de){de=de||{x:0,y:0,zoom:1};var xe=(te.x-de.x)*te.scale,qe=(te.y-de.y)*te.scale;xe===0&&qe===0||C.scroll({dx:xe,dy:qe}),de.zoom!==te.scale&&C.zoom(de.zoom,{x:0,y:0})}}),x.on("diagram.clear",function(){N.clear(),P=null})}function VE(){this._entries=[],this.set=function(x,C){var P=!1;for(var N in this._entries)if(this._entries[N][0]===x){this._entries[N][1]=C,P=!0;break}P||this._entries.push([x,C])},this.get=function(x){for(var C in this._entries)if(this._entries[C][0]===x)return this._entries[C][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(x){var C=-1;for(var P in this._entries)if(this._entries[P][0]===x){C=P;break}C!==-1&&this._entries.splice(C,1)}}Ln.$inject=["eventBus","elementRegistry","canvas"],ta.$inject=["eventBus","canvas"];var Pn=180,na=160;function Jc(x,C){this._eventBus=x,this._moddle=C;var P=this;x.on("import.render.start",1500,function(N,W){P._handleImport(W.definitions)})}function Il(x){return Ee(x,"bpmndi:BPMNDiagram")?x:Il(x.$parent)}Jc.prototype._handleImport=function(x){if(x.diagrams){var C=this;this._definitions=x,this._processToDiagramMap={},x.diagrams.forEach(function(N){N.plane&&N.plane.bpmnElement&&(C._processToDiagramMap[N.plane.bpmnElement.id]=N)});var P=[];x.diagrams.forEach(function(N){var W=C._createNewDiagrams(N.plane);Array.prototype.push.apply(P,W)}),P.forEach(function(N){C._movePlaneElementsToOrigin(N.plane)})}},Jc.prototype._createNewDiagrams=function(x){var C=this,P=[],N=[];x.get("planeElement").forEach(function(G){var te=G.bpmnElement;if(te){var de=te.$parent;Ee(te,"bpmn:SubProcess")&&!G.isExpanded&&P.push(te),function(xe,qe){var st=xe.$parent;return!(!Ee(st,"bpmn:SubProcess")||st===qe.bpmnElement||function(It,Ut){return j(Ut,function(Tn){return Ee(It,Tn)})}(xe,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}(te,x)&&N.push({diElement:G,parent:de})}});var W=[];return P.forEach(function(G){if(!C._processToDiagramMap[G.id]){var te=C._createDiagram(G);C._processToDiagramMap[G.id]=te,W.push(te)}}),N.forEach(function(G){for(var te=G.diElement,de=G.parent;de&&P.indexOf(de)===-1;)de=de.$parent;if(de){var xe=C._processToDiagramMap[de.id];C._moveToDiPlane(te,xe.plane)}}),W},Jc.prototype._movePlaneElementsToOrigin=function(x){var C=x.get("planeElement"),P=function(G){var te={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return G.planeElement.forEach(function(de){if(de.bounds){var xe=s0(de.bounds);te.top=Math.min(xe.top,te.top),te.left=Math.min(xe.left,te.left)}}),function(de){return{x:de.left,y:de.top,width:de.right-de.left,height:de.bottom-de.top}}(te)}(x),N=P.x-Pn,W=P.y-na;C.forEach(function(G){G.waypoint?G.waypoint.forEach(function(te){te.x=te.x-N,te.y=te.y-W}):G.bounds&&(G.bounds.x=G.bounds.x-N,G.bounds.y=G.bounds.y-W)})},Jc.prototype._moveToDiPlane=function(x,C){var P=Il(x).plane.get("planeElement");P.splice(P.indexOf(x),1),C.get("planeElement").push(x)},Jc.prototype._createDiagram=function(x){var C=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:x}),P=this._moddle.create("bpmndi:BPMNDiagram",{plane:C});return C.$parent=P,C.bpmnElement=x,P.$parent=this._definitions,this._definitions.diagrams.push(P),P},Jc.$inject=["eventBus","moddle"];var Rd=250;function gc(x,C,P,N){Hs.call(this,C),this._canvas=x,this._eventBus=C,this._elementRegistry=P,this._overlays=N;var W=this;this.executed("shape.toggleCollapse",Rd,function(G){var te=G.shape;W._canDrillDown(te)?W._addOverlay(te):W._removeOverlay(te)},!0),this.reverted("shape.toggleCollapse",Rd,function(G){var te=G.shape;W._canDrillDown(te)?W._addOverlay(te):W._removeOverlay(te)},!0),this.executed(["shape.create","shape.move","shape.delete"],Rd,function(G){var te=G.oldParent,de=G.newParent||G.parent,xe=G.shape;W._canDrillDown(xe)&&W._addOverlay(xe),W._updateDrilldownOverlay(te),W._updateDrilldownOverlay(de),W._updateDrilldownOverlay(xe)},!0),this.reverted(["shape.create","shape.move","shape.delete"],Rd,function(G){var te=G.oldParent,de=G.newParent||G.parent,xe=G.shape;W._canDrillDown(xe)&&W._addOverlay(xe),W._updateDrilldownOverlay(te),W._updateDrilldownOverlay(de),W._updateDrilldownOverlay(xe)},!0),C.on("import.render.complete",function(){P.filter(function(G){return W._canDrillDown(G)}).map(function(G){W._addOverlay(G)})})}t(gc,Hs),gc.prototype._updateDrilldownOverlay=function(x){var C=this._canvas;if(x){var P=C.findRoot(x);P&&this._updateOverlayVisibility(P)}},gc.prototype._canDrillDown=function(x){var C=this._canvas;return Ee(x,"bpmn:SubProcess")&&C.findRoot(mc(x))},gc.prototype._updateOverlayVisibility=function(x){var C=this._overlays,P=we(x),N=C.get({element:P.id,type:"drilldown"})[0];if(N){var W=P&&P.get("flowElements")&&P.get("flowElements").length;Jt(N.html).toggle("bjs-drilldown-empty",!W)}},gc.prototype._addOverlay=function(x){var C=this._canvas,P=this._overlays;P.get({element:x,type:"drilldown"}).length&&this._removeOverlay(x);var N=Ki('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');N.addEventListener("click",function(){C.setRootElement(C.findRoot(mc(x)))}),P.add(x,"drilldown",{position:{bottom:-7,right:-8},html:N}),this._updateOverlayVisibility(x)},gc.prototype._removeOverlay=function(x){this._overlays.remove({element:x,type:"drilldown"})},gc.$inject=["canvas","eventBus","elementRegistry","overlays"];var ko={__depends__:[Dg,lm,Si],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",Ln],drilldownCentering:["type",ta],drilldownOverlayBehavior:["type",gc],subprocessCompatibility:["type",Jc]};const Gn=/^class[ {]/;function Gh(x){return Array.isArray(x)}function Pd(x,C){return Object.prototype.hasOwnProperty.call(x,C)}function Ws(...x){x.length===1&&Gh(x[0])&&(x=x[0]);const C=(x=[...x]).pop();return C.$inject=x,C}const $b=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Ll=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,p0=/\/\*([^*]*)\*\//m;function m0(x){if(typeof x!="function")throw new Error(`Cannot annotate "${x}". Expected a function!`);const C=x.toString().match(function(N){return Gn.test(N.toString())}(x)?$b:Ll);if(!C)return[];const P=C[1]||C[2];return P&&P.split(",").map(N=>{const W=N.match(p0);return(W&&W[1]||N).trim()})||[]}function Yh(x,C){C=C||{get:function(et,tt){if(P.push(et),tt===!1)return null;throw te(`No provider for "${et}"!`)}};const P=[],N=this._providers=Object.create(C._providers||null),W=this._instances=Object.create(null),G=W.injector=this,te=function(et){const tt=P.join(" -> ");return P.length=0,new Error(tt?`${et} (Resolving: ${tt})`:et)};function de(et,tt){if(!N[et]&&et.indexOf(".")!==-1){const ft=et.split(".");let ht=de(ft.shift());for(;ft.length;)ht=ht[ft.shift()];return ht}if(Pd(W,et))return W[et];if(Pd(N,et)){if(P.indexOf(et)!==-1)throw P.push(et),te("Cannot resolve circular dependency!");return P.push(et),W[et]=N[et][0](N[et][1]),P.pop(),W[et]}return C.get(et,tt)}function xe(et,tt){if(tt===void 0&&(tt={}),typeof et!="function"){if(!Gh(et))throw te(`Cannot invoke "${et}". Expected a function!`);et=Ws(et.slice())}return{fn:et,dependencies:(et.$inject||m0(et)).map(ft=>Pd(tt,ft)?tt[ft]:de(ft))}}function qe(et){const{fn:tt,dependencies:ft}=xe(et);return new(Function.prototype.bind.apply(tt,[null].concat(ft)))}function st(et,tt,ft){const{fn:ht,dependencies:Lt}=xe(et,ft);return ht.apply(tt,Lt)}function It(et){return Ws(tt=>et.get(tt))}function Ut(et,tt){if(tt&&tt.length){const ft=Object.create(null),ht=Object.create(null),Lt=[],nn=[],gr=[];let $t,Un,bs,xs;for(let Ot in N)$t=N[Ot],tt.indexOf(Ot)!==-1&&($t[2]==="private"?(Un=Lt.indexOf($t[3]),Un===-1?(bs=$t[3].createChild([],tt),xs=It(bs),Lt.push($t[3]),nn.push(bs),gr.push(xs),ft[Ot]=[xs,Ot,"private",bs]):ft[Ot]=[gr[Un],Ot,"private",nn[Un]]):ft[Ot]=[$t[2],$t[1]],ht[Ot]=!0),$t[2]!=="factory"&&$t[2]!=="type"||!$t[1].$scope||tt.forEach(ln=>{$t[1].$scope.indexOf(ln)!==-1&&(ft[Ot]=[$t[2],$t[1]],ht[ln]=!0)});tt.forEach(Ot=>{if(!ht[Ot])throw new Error('No provider for "'+Ot+'". Cannot use provider from the parent!')}),et.unshift(ft)}return new Yh(et,G)}const Tn={factory:st,type:qe,value:function(et){return et}};function en(et,tt){const ft=et.__init__||[];return function(){ft.forEach(ht=>{typeof ht=="string"?tt.get(ht):tt.invoke(ht)})}}function kn(et){const tt=et.__exports__;if(tt){const ft=et.__modules__,ht=Object.keys(et).reduce(($t,Un)=>(Un!=="__exports__"&&Un!=="__modules__"&&Un!=="__init__"&&Un!=="__depends__"&&($t[Un]=et[Un]),$t),Object.create(null)),Lt=Ut((ft||[]).concat(ht)),nn=Ws(function($t){return Lt.get($t)});tt.forEach(function($t){N[$t]=[nn,$t,"private",Lt]});const gr=(et.__init__||[]).slice();return gr.unshift(function(){Lt.init()}),en(et=Object.assign({},et,{__init__:gr}),Lt)}return Object.keys(et).forEach(function(ft){if(ft==="__init__"||ft==="__depends__")return;if(et[ft][2]==="private")return void(N[ft]=et[ft]);const ht=et[ft][0],Lt=et[ft][1];N[ft]=[Tn[ht],Pf(ht,Lt),ht]}),en(et,G)}function mt(et,tt){return et.indexOf(tt)!==-1||(et=(tt.__depends__||[]).reduce(mt,et)).indexOf(tt)!==-1?et:et.concat(tt)}this.get=de,this.invoke=st,this.instantiate=qe,this.createChild=Ut,this.init=function(et){const tt=et.reduce(mt,[]).map(kn);let ft=!1;return function(){ft||(ft=!0,tt.forEach(ht=>ht()))}}(x)}function Pf(x,C){return x!=="value"&&Gh(C)&&(C=Ws(C.slice())),C}function Bu(x,C){Me.call(this,x,1),this.CONNECTION_STYLE=C.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=C.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=C.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}t(Bu,Me),Bu.prototype.canRender=function(){return!0},Bu.prototype.drawShape=function(x,C,P){var N=bn("rect");return Tt(N,{x:0,y:0,width:C.width||0,height:C.height||0}),sm(C)?Tt(N,ae({},this.FRAME_STYLE,P||{})):Tt(N,ae({},this.SHAPE_STYLE,P||{})),rt(x,N),N},Bu.prototype.drawConnection=function(x,C,P){var N=_r(C.waypoints,ae({},this.CONNECTION_STYLE,P||{}));return rt(x,N),N},Bu.prototype.getShapePath=function(x){var C=x.x,P=x.y,N=x.width;return Ti([["M",C,P],["l",N,0],["l",0,x.height],["l",-N,0],["z"]])},Bu.prototype.getConnectionPath=function(x){var C,P,N=x.waypoints,W=[];for(C=0;P=N[C];C++)P=P.original||P,W.push([C===0?"M":"L",P.x,P.y]);return Ti(W)},Bu.$inject=["eventBus","styles"];var Mf={__init__:["defaultRenderer"],defaultRenderer:["type",Bu],styles:["type",function(){var x={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},C=this;this.cls=function(P,N,W){return ae(this.style(N,W),{class:P})},this.style=function(P,N){c(P)||N||(N=P,P=[]);var W=F(P,function(G,te){return ae(G,x[te]||{})},{});return N?ae(W,N):W},this.computeStyle=function(P,N,W){return c(N)||(W=N,N=[]),C.style(N||[],ae({},W,P||{}))}}]};function ju(x,C){return Math.round(x*C)/C}function um(x){return h(x)?x+"px":x}function dm(x,C,P){const N=bn("g");pn(N).add(C);const W=P!==void 0?P:x.childNodes.length-1;return x.insertBefore(N,x.childNodes[W]||null),N}const g0={shape:["x","y","width","height"],connection:["waypoints"]};function cr(x,C,P,N){this._eventBus=C,this._elementRegistry=N,this._graphicsFactory=P,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(x||{})}function Fl(x,C){const P="matrix("+C.a+","+C.b+","+C.c+","+C.d+","+C.e+","+C.f+")";x.setAttribute("transform",P)}cr.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],cr.prototype._init=function(x){const C=this._eventBus,P=this._container=function(G){const te=(G=ae({},{width:"100%",height:"100%"},G)).container||document.body,de=document.createElement("div");return de.setAttribute("class","djs-container djs-parent"),tn(de,{position:"relative",overflow:"hidden",width:um(G.width),height:um(G.height)}),te.appendChild(de),de}(x),N=this._svg=bn("svg");Tt(N,{width:"100%",height:"100%"}),rt(P,N);const W=this._viewport=dm(N,"viewport");x.deferUpdate&&(this._viewboxChanged=function(G,te){let de,xe,qe,st;function It(kn){let mt=Date.now(),et=kn?0:st+te-mt;if(et>0)return Ut(et);G.apply(qe,xe),Tn()}function Ut(kn){de=setTimeout(It,kn)}function Tn(){de&&clearTimeout(de),de=st=xe=qe=void 0}function en(...kn){st=Date.now(),xe=kn,qe=this,de||Ut(te)}return en.flush=function(){de&&It(!0),Tn()},en.cancel=Tn,en}(ne(this._viewboxChanged,this),300)),C.on("diagram.init",()=>{C.fire("canvas.init",{svg:N,viewport:W})}),C.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),C.on("diagram.destroy",500,this._destroy,this),C.on("diagram.clear",500,this._clear,this)},cr.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const x=this._container.parentNode;x&&x.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},cr.prototype._clear=function(){this._elementRegistry.getAll().forEach(x=>{const C=Rg(x);C==="root"?this.removeRootElement(x):this._removeElement(x,C)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},cr.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},cr.prototype.getLayer=function(x,C){if(!x)throw new Error("must specify a name");let P=this._layers[x];if(P||(P=this._layers[x]=this._createLayer(x,C)),C!==void 0&&P.index!==C)throw new Error("layer <"+x+"> already created at index <"+C+">");return P.group},cr.prototype._getChildIndex=function(x){return F(this._layers,function(C,P){return P.visible&&x>=P.index&&C++,C},0)},cr.prototype._createLayer=function(x,C){C===void 0&&(C=1);const P=this._getChildIndex(C);return{group:dm(this._viewport,"layer-"+x,P),index:C,visible:!0}},cr.prototype.showLayer=function(x){if(!x)throw new Error("must specify a name");const C=this._layers[x];if(!C)throw new Error("layer <"+x+"> does not exist");const P=this._viewport,N=C.group,W=C.index;if(C.visible)return N;const G=this._getChildIndex(W);return P.insertBefore(N,P.childNodes[G]||null),C.visible=!0,N},cr.prototype.hideLayer=function(x){if(!x)throw new Error("must specify a name");const C=this._layers[x];if(!C)throw new Error("layer <"+x+"> does not exist");const P=C.group;return C.visible&&(ot(P),C.visible=!1),P},cr.prototype._removeLayer=function(x){const C=this._layers[x];C&&(delete this._layers[x],ot(C.group))},cr.prototype.getActiveLayer=function(){const x=this._findPlaneForRoot(this.getRootElement());return x?x.layer:null},cr.prototype.findRoot=function(x){return typeof x=="string"&&(x=this._elementRegistry.get(x)),x?(this._findPlaneForRoot(function(P){for(;P.parent;)P=P.parent;return P}(x))||{}).rootElement:void 0},cr.prototype.getRootElements=function(){return this._planes.map(function(x){return x.rootElement})},cr.prototype._findPlaneForRoot=function(x){return k(this._planes,function(C){return C.rootElement===x})},cr.prototype.getContainer=function(){return this._container},cr.prototype._updateMarker=function(x,C,P){let N;x.id||(x=this._elementRegistry.get(x)),N=this._elementRegistry._elements[x.id],N&&(T([N.gfx,N.secondaryGfx],function(W){W&&(P?pn(W).add(C):pn(W).remove(C))}),this._eventBus.fire("element.marker.update",{element:x,gfx:N.gfx,marker:C,add:!!P}))},cr.prototype.addMarker=function(x,C){this._updateMarker(x,C,!0)},cr.prototype.removeMarker=function(x,C){this._updateMarker(x,C,!1)},cr.prototype.hasMarker=function(x,C){return x.id||(x=this._elementRegistry.get(x)),pn(this.getGraphics(x)).has(C)},cr.prototype.toggleMarker=function(x,C){this.hasMarker(x,C)?this.removeMarker(x,C):this.addMarker(x,C)},cr.prototype.getRootElement=function(){const x=this._rootElement;return x||this._planes.length?x:this.setRootElement(this.addRootElement(null))},cr.prototype.addRootElement=function(x){const C=this._rootsIdx++;x||(x={id:"__implicitroot_"+C,children:[],isImplicit:!0});const P=x.layer="root-"+C;this._ensureValid("root",x);const N=this.getLayer(P,0);return this.hideLayer(P),this._addRoot(x,N),this._planes.push({rootElement:x,layer:N}),x},cr.prototype.removeRootElement=function(x){if(typeof x=="string"&&(x=this._elementRegistry.get(x)),this._findPlaneForRoot(x))return this._removeRoot(x),this._removeLayer(x.layer),this._planes=this._planes.filter(function(C){return C.rootElement!==x}),this._rootElement===x&&(this._rootElement=null),x},cr.prototype.setRootElement=function(x){if(x===this._rootElement)return;let C;if(!x)throw new Error("rootElement required");return C=this._findPlaneForRoot(x),C||(x=this.addRootElement(x)),this._setRoot(x),x},cr.prototype._removeRoot=function(x){const C=this._elementRegistry,P=this._eventBus;P.fire("root.remove",{element:x}),P.fire("root.removed",{element:x}),C.remove(x)},cr.prototype._addRoot=function(x,C){const P=this._elementRegistry,N=this._eventBus;N.fire("root.add",{element:x}),P.add(x,C),N.fire("root.added",{element:x,gfx:C})},cr.prototype._setRoot=function(x,C){const P=this._rootElement;P&&(this._elementRegistry.updateGraphics(P,null,!0),this.hideLayer(P.layer)),x&&(C||(C=this._findPlaneForRoot(x).layer),this._elementRegistry.updateGraphics(x,this._svg,!0),this.showLayer(x.layer)),this._rootElement=x,this._eventBus.fire("root.set",{element:x})},cr.prototype._ensureValid=function(x,C){if(!C.id)throw new Error("element must have an id");if(this._elementRegistry.get(C.id))throw new Error("element <"+C.id+"> already exists");const P=g0[x];if(!$(P,function(W){return C[W]!==void 0}))throw new Error("must supply { "+P.join(", ")+" } with "+x)},cr.prototype._setParent=function(x,C,P){(function(N,W,G){if(N&&W){typeof G!="number"&&(G=-1);var te=N.indexOf(W);if(te!==-1){if(te===G||G===-1)return;N.splice(te,1)}G!==-1?N.splice(G,0,W):N.push(W)}})(C.children,x,P),x.parent=C},cr.prototype._addElement=function(x,C,P,N){P=P||this.getRootElement();const W=this._eventBus,G=this._graphicsFactory;this._ensureValid(x,C),W.fire(x+".add",{element:C,parent:P}),this._setParent(C,P,N);const te=G.create(x,C,N);return this._elementRegistry.add(C,te),G.update(x,C,te),W.fire(x+".added",{element:C,gfx:te}),C},cr.prototype.addShape=function(x,C,P){return this._addElement("shape",x,C,P)},cr.prototype.addConnection=function(x,C,P){return this._addElement("connection",x,C,P)},cr.prototype._removeElement=function(x,C){const P=this._elementRegistry,N=this._graphicsFactory,W=this._eventBus;if(x=P.get(x.id||x))return W.fire(C+".remove",{element:x}),N.remove(x),function(G,te){if(!G||!te)return-1;var de=G.indexOf(te);de!==-1&&G.splice(de,1)}(x.parent&&x.parent.children,x),x.parent=null,W.fire(C+".removed",{element:x}),P.remove(x),x},cr.prototype.removeShape=function(x){return this._removeElement(x,"shape")},cr.prototype.removeConnection=function(x){return this._removeElement(x,"connection")},cr.prototype.getGraphics=function(x,C){return this._elementRegistry.getGraphics(x,C)},cr.prototype._changeViewbox=function(x){this._eventBus.fire("canvas.viewbox.changing"),x.apply(this),this._cachedViewbox=null,this._viewboxChanged()},cr.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},cr.prototype.viewbox=function(x){if(x===void 0&&this._cachedViewbox)return this._cachedViewbox;const C=this._viewport,P=this.getSize();let N,W,G,te,de,xe,qe;return x?(this._changeViewbox(function(){de=Math.min(P.width/x.width,P.height/x.height);const st=this._svg.createSVGMatrix().scale(de).translate(-x.x,-x.y);Rr(C,st)}),x):(G=this._rootElement?this.getActiveLayer():null,N=G&&G.getBBox()||{},te=Rr(C),W=te?te.matrix:function(st,It,Ut,Tn,en,kn){var mt=rr().createSVGMatrix();switch(arguments.length){case 0:return mt;case 1:return Re(mt,st);case 6:return Re(mt,{a:st,b:It,c:Ut,d:Tn,e:en,f:kn})}}(),de=ju(W.a,1e3),xe=ju(-W.e||0,1e3),qe=ju(-W.f||0,1e3),x=this._cachedViewbox={x:xe?xe/de:0,y:qe?qe/de:0,width:P.width/de,height:P.height/de,scale:de,inner:{width:N.width||0,height:N.height||0,x:N.x||0,y:N.y||0},outer:P})},cr.prototype.scroll=function(x){const C=this._viewport;let P=C.getCTM();return x&&this._changeViewbox(function(){x=ae({dx:0,dy:0},x||{}),P=this._svg.createSVGMatrix().translate(x.dx,x.dy).multiply(P),Fl(C,P)}),{x:P.e,y:P.f}},cr.prototype.scrollToElement=function(x,C){let P=100;typeof x=="string"&&(x=this._elementRegistry.get(x));const N=this.findRoot(x);if(N!==this.getRootElement()&&this.setRootElement(N),N===x)return;C||(C={}),typeof C=="number"&&(P=C),C={top:C.top||P,right:C.right||P,bottom:C.bottom||P,left:C.left||P};const W=Rf(x),G=s0(W),te=this.viewbox(),de=this.zoom();let xe,qe;te.y+=C.top/de,te.x+=C.left/de,te.width-=(C.right+C.left)/de,te.height-=(C.bottom+C.top)/de;const st=s0(te);if(W.width<te.width&&W.height<te.height){const It=Math.max(0,G.right-st.right),Ut=Math.min(0,G.left-st.left),Tn=Math.max(0,G.bottom-st.bottom),en=Math.min(0,G.top-st.top);xe=It||Ut,qe=Tn||en}else xe=W.x-te.x,qe=W.y-te.y;this.scroll({dx:-xe*de,dy:-qe*de})},cr.prototype.zoom=function(x,C){if(!x)return this.viewbox(x).scale;if(x==="fit-viewport")return this._fitViewport(C);let P,N;return this._changeViewbox(function(){typeof C!="object"&&(P=this.viewbox().outer,C={x:P.width/2,y:P.height/2}),N=this._setZoom(x,C)}),ju(N.a,1e3)},cr.prototype._fitViewport=function(x){const C=this.viewbox(),P=C.outer,N=C.inner;let W,G;return N.x>=0&&N.y>=0&&N.x+N.width<=P.width&&N.y+N.height<=P.height&&!x?G={x:0,y:0,width:Math.max(N.width+N.x,P.width),height:Math.max(N.height+N.y,P.height)}:(W=Math.min(1,P.width/N.width,P.height/N.height),G={x:N.x+(x?N.width/2-P.width/W/2:0),y:N.y+(x?N.height/2-P.height/W/2:0),width:P.width/W,height:P.height/W}),this.viewbox(G),this.viewbox(!1).scale},cr.prototype._setZoom=function(x,C){const P=this._svg,N=this._viewport,W=P.createSVGMatrix(),G=P.createSVGPoint();let te,de,xe,qe,st;xe=N.getCTM();const It=xe.a;return C?(te=ae(G,C),de=te.matrixTransform(xe.inverse()),qe=W.translate(de.x,de.y).scale(1/It*x).translate(-de.x,-de.y),st=xe.multiply(qe)):st=W.scale(x),Fl(this._viewport,st),st},cr.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},cr.prototype.getAbsoluteBBox=function(x){const C=this.viewbox();let P;return x.waypoints?P=this.getGraphics(x).getBBox():P=x,{x:P.x*C.scale-C.x*C.scale,y:P.y*C.scale-C.y*C.scale,width:P.width*C.scale,height:P.height*C.scale}},cr.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var yc="data-element-id";function fl(x){this._elements={},this._eventBus=x}function ma(x,C,P){var N=function(W,G,te,de){var xe=te.inverse;return Object.defineProperty(W,"remove",{value:function(qe){var st=this.indexOf(qe);return st!==-1&&(this.splice(st,1),G.unset(qe,xe,de)),qe}}),Object.defineProperty(W,"contains",{value:function(qe){return this.indexOf(qe)!==-1}}),Object.defineProperty(W,"add",{value:function(qe,st){var It=this.indexOf(qe);if(st===void 0){if(It!==-1)return;st=this.length}It!==-1&&this.splice(It,1),this.splice(st,0,qe),It===-1&&G.set(qe,xe,de)}}),Object.defineProperty(W,"__refs_collection",{value:!0}),W}(P[C.name]||[],x,C,P);Object.defineProperty(P,C.name,{enumerable:C.enumerable,value:N}),N.length&&N.forEach(function(W){x.set(W,C.inverse,P)})}function Hi(x,C){if(!(this instanceof Hi))return new Hi(x,C);x.inverse=C,C.inverse=x,this.props={},this.props[x.name]=x,this.props[C.name]=C}fl.$inject=["eventBus"],fl.prototype.add=function(x,C,P){var N=x.id;this._validateId(N),Tt(C,yc,N),P&&Tt(P,yc,N),this._elements[N]={element:x,gfx:C,secondaryGfx:P}},fl.prototype.remove=function(x){var C=this._elements,P=x.id||x,N=P&&C[P];N&&(Tt(N.gfx,yc,""),N.secondaryGfx&&Tt(N.secondaryGfx,yc,""),delete C[P])},fl.prototype.updateId=function(x,C){this._validateId(C),typeof x=="string"&&(x=this.get(x)),this._eventBus.fire("element.updateId",{element:x,newId:C});var P=this.getGraphics(x),N=this.getGraphics(x,!0);this.remove(x),x.id=C,this.add(x,P,N)},fl.prototype.updateGraphics=function(x,C,P){var N=x.id||x,W=this._elements[N];return P?W.secondaryGfx=C:W.gfx=C,C&&Tt(C,yc,N),C},fl.prototype.get=function(x){var C;C=typeof x=="string"?x:x&&Tt(x,yc);var P=this._elements[C];return P&&P.element},fl.prototype.filter=function(x){var C=[];return this.forEach(function(P,N){x(P,N)&&C.push(P)}),C},fl.prototype.find=function(x){for(var C=this._elements,P=Object.keys(C),N=0;N<P.length;N++){var W=C[P[N]],G=W.element;if(x(G,W.gfx))return G}},fl.prototype.getAll=function(){return this.filter(function(x){return x})},fl.prototype.forEach=function(x){var C=this._elements;Object.keys(C).forEach(function(P){var N=C[P],W=N.element,G=N.gfx;return x(W,G)})},fl.prototype.getGraphics=function(x,C){var P=x.id||x,N=this._elements[P];return N&&(C?N.secondaryGfx:N.gfx)},fl.prototype._validateId=function(x){if(!x)throw new Error("element must have an id");if(this._elements[x])throw new Error("element with id "+x+" already added")},Hi.prototype.bind=function(x,C){if(typeof C=="string"){if(!this.props[C])throw new Error("no property <"+C+"> in ref");C=this.props[C]}C.collection?ma(this,C,x):function(P,N,W){var G=N.inverse,te=W[N.name];Object.defineProperty(W,N.name,{configurable:N.configurable,enumerable:N.enumerable,get:function(){return te},set:function(de){if(de!==te){var xe=te;te=null,xe&&P.unset(xe,G,W),te=de,P.set(te,G,W)}}})}(this,C,x)},Hi.prototype.ensureRefsCollection=function(x,C){var P=x[C.name];return function(N){return N.__refs_collection===!0}(P)||ma(this,C,x),P},Hi.prototype.ensureBound=function(x,C){(function(P,N){return Object.prototype.hasOwnProperty.call(P,N.name||N)})(x,C)||this.bind(x,C)},Hi.prototype.unset=function(x,C,P){x&&(this.ensureBound(x,C),C.collection?this.ensureRefsCollection(x,C).remove(P):x[C.name]=void 0)},Hi.prototype.set=function(x,C,P){x&&(this.ensureBound(x,C),C.collection?this.ensureRefsCollection(x,C).add(P):x[C.name]=P)};var vc=new Hi({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Vu=new Hi({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),ps=new Hi({name:"attachers",collection:!0},{name:"host"}),Ng=new Hi({name:"outgoing",collection:!0},{name:"source"}),Ka=new Hi({name:"incoming",collection:!0},{name:"target"});function Qh(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(x){var C=this.label,P=this.labels;!x&&C?P.remove(C):P.add(x,0)}}),vc.bind(this,"parent"),Vu.bind(this,"labels"),Ng.bind(this,"outgoing"),Ka.bind(this,"incoming")}function fm(){Qh.call(this),vc.bind(this,"children"),ps.bind(this,"host"),ps.bind(this,"attachers")}function Bb(){Qh.call(this),vc.bind(this,"children")}function Df(){fm.call(this),Vu.bind(this,"labelTarget")}function zu(){Qh.call(this),Ng.bind(this,"source"),Ka.bind(this,"target")}t(fm,Qh),t(Bb,fm),t(Df,fm),t(zu,Qh);var jb={connection:zu,shape:fm,label:Df,root:Bb};function Kh(){this._uid=12}Kh.prototype.createRoot=function(x){return this.create("root",x)},Kh.prototype.createLabel=function(x){return this.create("label",x)},Kh.prototype.createShape=function(x){return this.create("shape",x)},Kh.prototype.createConnection=function(x){return this.create("connection",x)},Kh.prototype.create=function(x,C){return(C=ae({},C||{})).id||(C.id=x+"_"+this._uid++),function(P,N){var W=jb[P];if(!W)throw new Error("unknown type: <"+P+">");return ae(new W,N)}(x,C)};var Nf="__fn",Ig=Array.prototype.slice;function Io(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Hu(){}function Wi(x,C){this._eventBus=x,this._elementRegistry=C}function Xa(x,C,P){var N=P||C.firstChild;x!==N&&C.insertBefore(x,N)}Io.prototype.on=function(x,C,P,N){if(x=c(x)?x:[x],m(C)&&(N=P,P=C,C=1e3),!h(C))throw new Error("priority must be a number");var W=P;N&&((W=ne(P,N))[Nf]=P[Nf]||P);var G=this;x.forEach(function(te){G._addListener(te,{priority:C,callback:W,next:null})})},Io.prototype.once=function(x,C,P,N){var W=this;if(m(C)&&(N=P,P=C,C=1e3),!h(C))throw new Error("priority must be a number");function G(){G.__isTomb=!0;var te=P.apply(N,arguments);return W.off(x,G),te}G[Nf]=P,this.on(x,C,G)},Io.prototype.off=function(x,C){x=c(x)?x:[x];var P=this;x.forEach(function(N){P._removeListener(N,C)})},Io.prototype.createEvent=function(x){var C=new Hu;return C.init(x),C},Io.prototype.fire=function(x,C){var P,N,W,G;if(G=Ig.call(arguments),typeof x=="object"&&(x=(C=x).type),!x)throw new Error("no event type specified");if(N=this._listeners[x]){P=C instanceof Hu?C:this.createEvent(C),G[0]=P;var te=P.type;x!==te&&(P.type=x);try{W=this._invokeListeners(P,G,N)}finally{x!==te&&(P.type=te)}return W===void 0&&P.defaultPrevented&&(W=!1),W}},Io.prototype.handleError=function(x){return this.fire("error",{error:x})===!1},Io.prototype._destroy=function(){this._listeners={}},Io.prototype._invokeListeners=function(x,C,P){for(var N;P&&!x.cancelBubble;)N=this._invokeListener(x,C,P),P=P.next;return N},Io.prototype._invokeListener=function(x,C,P){var N;if(P.callback.__isTomb)return N;try{N=function(W,G){return W.apply(null,G)}(P.callback,C),N!==void 0&&(x.returnValue=N,x.stopPropagation()),N===!1&&x.preventDefault()}catch(W){if(!this.handleError(W))throw console.error("unhandled error in event listener",W),W}return N},Io.prototype._addListener=function(x,C){var P,N=this._getListeners(x);if(N){for(;N;){if(N.priority<C.priority)return C.next=N,void(P?P.next=C:this._setListeners(x,C));P=N,N=N.next}P.next=C}else this._setListeners(x,C)},Io.prototype._getListeners=function(x){return this._listeners[x]},Io.prototype._setListeners=function(x,C){this._listeners[x]=C},Io.prototype._removeListener=function(x,C){var P,N,W,G=this._getListeners(x);if(C)for(;G;)P=G.next,(W=G.callback)!==C&&W[Nf]!==C||(N?N.next=P:this._setListeners(x,P)),N=G,G=P;else this._setListeners(x,null)},Hu.prototype.stopPropagation=function(){this.cancelBubble=!0},Hu.prototype.preventDefault=function(){this.defaultPrevented=!0},Hu.prototype.init=function(x){ae(this,x||{})},Wi.$inject=["eventBus","elementRegistry"],Wi.prototype._getChildrenContainer=function(x){var C,P=this._elementRegistry.getGraphics(x);return x.parent?(C=function(N){return N.parentNode.childNodes[1]}(P),C||(pn(C=bn("g")).add("djs-children"),rt(P.parentNode,C))):C=P,C},Wi.prototype._clear=function(x){var C=function(P){return P.childNodes[0]}(x);return li(C),C},Wi.prototype._createContainer=function(x,C,P,N){var W=bn("g");pn(W).add("djs-group"),P!==void 0?Xa(W,C,C.childNodes[P]):rt(C,W);var G=bn("g");pn(G).add("djs-element"),pn(G).add("djs-"+x),N&&pn(G).add("djs-frame"),rt(W,G);var te=bn("g");return pn(te).add("djs-visual"),rt(G,te),G},Wi.prototype.create=function(x,C,P){var N=this._getChildrenContainer(C.parent);return this._createContainer(x,N,P,sm(C))},Wi.prototype.updateContainments=function(x){var C,P=this,N=this._elementRegistry;C=F(x,function(W,G){return G.parent&&(W[G.parent.id]=G.parent),W},{}),T(C,function(W){var G=W.children;if(G){var te=P._getChildrenContainer(W);T(G.slice().reverse(),function(de){Xa(N.getGraphics(de).parentNode,te)})}})},Wi.prototype.drawShape=function(x,C,P={}){return this._eventBus.fire("render.shape",{gfx:x,element:C,attrs:P})},Wi.prototype.getShapePath=function(x){return this._eventBus.fire("render.getShapePath",x)},Wi.prototype.drawConnection=function(x,C,P={}){return this._eventBus.fire("render.connection",{gfx:x,element:C,attrs:P})},Wi.prototype.getConnectionPath=function(x){return this._eventBus.fire("render.getConnectionPath",x)},Wi.prototype.update=function(x,C,P){if(C.parent){var N=this._clear(P);if(x==="shape")this.drawShape(N,C),kd(P,C.x,C.y);else{if(x!=="connection")throw new Error("unknown type: "+x);this.drawConnection(N,C)}C.hidden?Tt(P,"display","none"):Tt(P,"display","block")}},Wi.prototype.remove=function(x){ot(this._elementRegistry.getGraphics(x).parentNode)};var Md={__depends__:[Mf],__init__:["canvas"],canvas:["type",cr],elementRegistry:["type",fl],elementFactory:["type",Kh],eventBus:["type",Io],graphicsFactory:["type",Wi]};function If(x){return function(C){var P=new Yh(C);return P.init(),P}([{config:["value",x=x||{}]},Md].concat(x.modules||[]))}function Wo(x,C){this._injector=C=C||If(x),this.get=C.get,this.invoke=C.invoke,this.get("eventBus").fire("diagram.init")}function hm(){}function Lg(x,C){this.model=x,this.properties=C}Wo.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Wo.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},hm.prototype.get=function(x){return this.$model.properties.get(this,x)},hm.prototype.set=function(x,C){this.$model.properties.set(this,x,C)},Lg.prototype.createType=function(x){var C=this.model,P=this.properties,N=Object.create(hm.prototype);T(x.properties,function(te){te.isMany||te.default===void 0||(N[te.name]=te.default)}),P.defineModel(N,C),P.defineDescriptor(N,x);var W=x.ns.name;function G(te){P.define(this,"$type",{value:W,enumerable:!0}),P.define(this,"$attrs",{value:{}}),P.define(this,"$parent",{writable:!0}),T(te,ne(function(de,xe){this.set(xe,de)},this))}return G.prototype=N,G.hasType=N.$instanceOf=this.model.hasType,P.defineModel(G,C),P.defineDescriptor(G,x),G};var $l={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Vb={String:function(x){return x},Boolean:function(x){return x==="true"},Integer:function(x){return parseInt(x,10)},Real:function(x){return parseFloat(x)}};function y0(x,C){var P=Vb[x];return P?P(C):C}function v0(x){return!!$l[x]}function bc(x){return!!Vb[x]}function je(x,C){var P,N,W=x.split(/:/);if(W.length===1)P=x,N=C;else{if(W.length!==2)throw new Error("expected <prefix:localName> or <localName>, got "+x);P=W[1],N=W[0]}return{name:x=(N?N+":":"")+P,prefix:N,localName:P}}function ut(x){this.ns=x,this.name=x.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function it(x,C){this.packageMap={},this.typeMap={},this.packages=[],this.properties=C,T(x,ne(this.registerPackage,this))}function xn(x,C,P){var N=C[P];if(N in x)throw new Error("package with "+P+" <"+N+"> already defined")}function Qn(x){this.model=x}function hi(x,C,P){Object.defineProperty(x,C.name,{enumerable:!C.isReference,writable:!0,value:P,configurable:!0})}function Co(x){return x.replace(/^:/,"")}function Hr(x,C={}){this.properties=new Qn(this),this.factory=new Lg(this,this.properties),this.registry=new it(x,this.properties),this.typeCache={},this.config=C}ut.prototype.build=function(){return function(x,C){let P={},N=Object(x);return T(C,function(W){W in N&&(P[W]=x[W])}),P}(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},ut.prototype.addProperty=function(x,C,P){typeof C=="boolean"&&(P=C,C=void 0),this.addNamedProperty(x,P!==!1);var N=this.properties;C!==void 0?N.splice(C,0,x):N.push(x)},ut.prototype.replaceProperty=function(x,C,P){var N=x.ns,W=this.properties,G=this.propertiesByName,te=x.name!==C.name;if(x.isId){if(!C.isId)throw new Error("property <"+C.ns.name+"> must be id property to refine <"+x.ns.name+">");this.setIdProperty(C,!1)}if(x.isBody){if(!C.isBody)throw new Error("property <"+C.ns.name+"> must be body property to refine <"+x.ns.name+">");this.setBodyProperty(C,!1)}var de=W.indexOf(x);if(de===-1)throw new Error("property <"+N.name+"> not found in property list");W.splice(de,1),this.addProperty(C,P?void 0:de,te),G[N.name]=G[N.localName]=C},ut.prototype.redefineProperty=function(x,C,P){var N=x.ns.prefix,W=C.split("#"),G=je(W[0],N),te=je(W[1],G.prefix).name,de=this.propertiesByName[te];if(!de)throw new Error("refined property <"+te+"> not found");this.replaceProperty(de,x,P),delete x.redefines},ut.prototype.addNamedProperty=function(x,C){var P=x.ns,N=this.propertiesByName;C&&(this.assertNotDefined(x,P.name),this.assertNotDefined(x,P.localName)),N[P.name]=N[P.localName]=x},ut.prototype.removeNamedProperty=function(x){var C=x.ns,P=this.propertiesByName;delete P[C.name],delete P[C.localName]},ut.prototype.setBodyProperty=function(x,C){if(C&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+x.ns.name+">)");this.bodyProperty=x},ut.prototype.setIdProperty=function(x,C){if(C&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+x.ns.name+">)");this.idProperty=x},ut.prototype.assertNotTrait=function(x){if((x.extends||[]).length)throw new Error(`cannot create <${x.name}> extending <${x.extends}>`)},ut.prototype.assertNotDefined=function(x,C){var P=x.name,N=this.propertiesByName[P];if(N)throw new Error("property <"+P+"> already defined; override of <"+N.definedBy.ns.name+"#"+N.ns.name+"> by <"+x.definedBy.ns.name+"#"+x.ns.name+"> not allowed without redefines")},ut.prototype.hasProperty=function(x){return this.propertiesByName[x]},ut.prototype.addTrait=function(x,C){C&&this.assertNotTrait(x);var P=this.allTypesByName,N=this.allTypes,W=x.name;W in P||(T(x.properties,ne(function(G){G=ae({},G,{name:G.ns.localName,inherited:C}),Object.defineProperty(G,"definedBy",{value:x});var te=G.replaces,de=G.redefines;te||de?this.redefineProperty(G,te||de,te):(G.isBody&&this.setBodyProperty(G),G.isId&&this.setIdProperty(G),this.addProperty(G))},this)),N.push(x),P[W]=x)},it.prototype.getPackage=function(x){return this.packageMap[x]},it.prototype.getPackages=function(){return this.packages},it.prototype.registerPackage=function(x){x=ae({},x);var C=this.packageMap;xn(C,x,"prefix"),xn(C,x,"uri"),T(x.types,ne(function(P){this.registerType(P,x)},this)),C[x.uri]=C[x.prefix]=x,this.packages.push(x)},it.prototype.registerType=function(x,C){var P=je((x=ae({},x,{superClass:(x.superClass||[]).slice(),extends:(x.extends||[]).slice(),properties:(x.properties||[]).slice(),meta:ae(x.meta||{})})).name,C.prefix),N=P.name,W={};T(x.properties,ne(function(G){var te=je(G.name,P.prefix),de=te.name;v0(G.type)||(G.type=je(G.type,te.prefix).name),ae(G,{ns:te,name:de}),W[de]=G},this)),ae(x,{ns:P,name:N,propertiesByName:W}),T(x.extends,ne(function(G){var te=je(G,P.prefix),de=this.typeMap[te.name];de.traits=de.traits||[],de.traits.push(N)},this)),this.definePackage(x,C),this.typeMap[N]=x},it.prototype.mapTypes=function(x,C,P){var N=v0(x.name)?{name:x.name}:this.typeMap[x.name],W=this;function G(de,xe){var qe=je(de,v0(de)?"":x.prefix);W.mapTypes(qe,C,xe)}function te(de){return G(de,!0)}if(!N)throw new Error("unknown type <"+x.name+">");T(N.superClass,P?te:function(de){return G(de,!1)}),C(N,!P),T(N.traits,te)},it.prototype.getEffectiveDescriptor=function(x){var C=je(x),P=new ut(C);this.mapTypes(C,function(W,G){P.addTrait(W,G)});var N=P.build();return this.definePackage(N,N.allTypes[N.allTypes.length-1].$pkg),N},it.prototype.definePackage=function(x,C){this.properties.define(x,"$pkg",{value:C})},Qn.prototype.set=function(x,C,P){if(!v(C)||!C.length)throw new TypeError("property name must be a non-empty string");var N=this.getProperty(x,C),W=N&&N.name;P===void 0?N?delete x[W]:delete x.$attrs[Co(C)]:N?W in x?x[W]=P:hi(x,N,P):x.$attrs[Co(C)]=P},Qn.prototype.get=function(x,C){var P=this.getProperty(x,C);if(!P)return x.$attrs[Co(C)];var N=P.name;return!x[N]&&P.isMany&&hi(x,P,[]),x[N]},Qn.prototype.define=function(x,C,P){if(!P.writable){var N=P.value;delete(P=ae({},P,{get:function(){return N}})).value}Object.defineProperty(x,C,P)},Qn.prototype.defineDescriptor=function(x,C){this.define(x,"$descriptor",{value:C})},Qn.prototype.defineModel=function(x,C){this.define(x,"$model",{value:C})},Qn.prototype.getProperty=function(x,C){var P=this.model,N=P.getPropertyDescriptor(x,C);if(N)return N;if(C.includes(":"))return null;const W=P.config.strict;if(W!==void 0){const G=new TypeError(`unknown property <${C}> on <${x.$type}>`);if(W)throw G;typeof console<"u"&&console.warn(G)}return null},Hr.prototype.create=function(x,C){var P=this.getType(x);if(!P)throw new Error("unknown type <"+x+">");return new P(C)},Hr.prototype.getType=function(x){var C=this.typeCache,P=v(x)?x:x.ns.name,N=C[P];return N||(x=this.registry.getEffectiveDescriptor(P),N=C[P]=this.factory.createType(x)),N},Hr.prototype.createAny=function(x,C,P){var N=je(x),W={$type:x,$instanceOf:function(te){return te===this.$type},get:function(te){return this[te]},set:function(te,de){(function(xe,qe,st){let It=xe;T(qe,function(Ut,Tn){if(typeof Ut!="number"&&typeof Ut!="string")throw new Error("illegal key type: "+typeof Ut+". Key should be of type number or string.");if(Ut==="constructor")throw new Error("illegal key: constructor");if(Ut==="__proto__")throw new Error("illegal key: __proto__");let en=qe[Tn+1],kn=It[Ut];a(en)&&kn==null&&(kn=It[Ut]=isNaN(+en)?{}:[]),o(en)?o(st)?delete It[Ut]:It[Ut]=st:It=kn})})(this,[te],de)}},G={name:x,isGeneric:!0,ns:{prefix:N.prefix,localName:N.localName,uri:C}};return this.properties.defineDescriptor(W,G),this.properties.defineModel(W,this),this.properties.define(W,"get",{enumerable:!1,writable:!0}),this.properties.define(W,"set",{enumerable:!1,writable:!0}),this.properties.define(W,"$parent",{enumerable:!1,writable:!0}),this.properties.define(W,"$instanceOf",{enumerable:!1,writable:!0}),T(P,function(te,de){u(te)&&te.value!==void 0?W[te.name]=te.value:W[de]=te}),W},Hr.prototype.getPackage=function(x){return this.registry.getPackage(x)},Hr.prototype.getPackages=function(){return this.registry.getPackages()},Hr.prototype.getElementDescriptor=function(x){return x.$descriptor},Hr.prototype.hasType=function(x,C){return C===void 0&&(C=x,x=this),C in x.$model.getElementDescriptor(x).allTypesByName},Hr.prototype.getPropertyDescriptor=function(x,C){return this.getElementDescriptor(x).propertiesByName[C]},Hr.prototype.getTypeDescriptor=function(x){return this.registry.typeMap[x]};var pm=String.fromCharCode,zb=Object.prototype.hasOwnProperty,Bl=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Wu={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function Hb(x,C,P,N){return N?zb.call(Wu,N)?Wu[N]:"&"+N+";":pm(C||parseInt(P,16))}function jl(x){return x.length>3&&x.indexOf("&")!==-1?x.replace(Bl,Hb):x}Object.keys(Wu).forEach(function(x){Wu[x.toUpperCase()]=Wu[x]});var Dd="xsi:type",Xh="non-whitespace outside of root node";function si(x){return new Error(x)}function b0(x){return"missing namespace for prefix <"+x+">"}function Vl(x){return{get:x,enumerable:!0}}function zl(x){var C,P={};for(C in x)P[C]=x[C];return P}function x0(x){return x+"$uri"}function Zh(){return{line:0,column:0}}function w0(x){throw x}function eu(x){if(!this)return new eu(x);var C,P,N,W,G,te,de,xe,qe,st=x&&x.proxy,It=w0,Ut=Zh,Tn=!1,en=!1,kn=null,mt=!1;function et(ft){ft instanceof Error||(ft=si(ft)),kn=ft,It(ft,Ut)}function tt(ft){G&&(ft instanceof Error||(ft=si(ft)),G(ft,Ut))}this.on=function(ft,ht){if(typeof ht!="function")throw si("required args <name, cb>");switch(ft){case"openTag":P=ht;break;case"text":C=ht;break;case"closeTag":N=ht;break;case"error":It=ht;break;case"warn":G=ht;break;case"cdata":W=ht;break;case"attention":xe=ht;break;case"question":de=ht;break;case"comment":te=ht;break;default:throw si("unsupported event: "+ft)}return this},this.ns=function(ft){if(ft===void 0&&(ft={}),typeof ft!="object")throw si("required args <nsMap={}>");var ht,Lt={};for(ht in ft)Lt[ht]=ft[ht];return Lt["http://www.w3.org/2001/XMLSchema-instance"]="xsi",en=!0,qe=Lt,this},this.parse=function(ft){if(typeof ft!="string")throw si("required args <xml=string>");return kn=null,function(ht){var Lt,nn,gr,$t,Un,bs,xs,Ot,ln,ur,tr,ai=en?[]:null,yr=en?function(Uo){var ra,qi,ya={};for(ra in Uo)ya[qi=Uo[ra]]=qi,ya[x0(qi)]=ra;return ya}(qe):null,Ta=[],el=0,Ns=!1,yo=!1,ci=0,dr=0,Pt="",qs=0;function Ld(){if(tr!==null)return tr;var Uo,ra,qi,ya,ws,Kr,Zi,Wr,Aa,_e,J,le=en&&yr.xmlns,Ue=en&&Tn?[]:null,at=qs,Qt=Pt,Xn=Qt.length,kr={},pi={};e:for(;at<Xn;at++)if(Aa=!1,!((_e=Qt.charCodeAt(at))===32||_e<14&&_e>8)){for((_e<65||_e>122||_e>90&&_e<97)&&_e!==95&&_e!==58&&(tt("illegal first char attribute name"),Aa=!0),J=at+1;J<Xn;J++)if(!((_e=Qt.charCodeAt(J))>96&&_e<123||_e>64&&_e<91||_e>47&&_e<59||_e===46||_e===45||_e===95)){if(_e===32||_e<14&&_e>8){tt("missing attribute value"),at=J;continue e}if(_e===61)break;tt("illegal attribute name char"),Aa=!0}if((Wr=Qt.substring(at,J))==="xmlns:xmlns"&&(tt("illegal declaration of xmlns"),Aa=!0),(_e=Qt.charCodeAt(J+1))===34)(J=Qt.indexOf('"',at=J+2))===-1&&(J=Qt.indexOf("'",at))!==-1&&(tt("attribute value quote missmatch"),Aa=!0);else if(_e===39)(J=Qt.indexOf("'",at=J+2))===-1&&(J=Qt.indexOf('"',at))!==-1&&(tt("attribute value quote missmatch"),Aa=!0);else for(tt("missing attribute value quotes"),Aa=!0,J+=1;J<Xn&&!((_e=Qt.charCodeAt(J+1))===32||_e<14&&_e>8);J++);for(J===-1&&(tt("missing closing quotes"),J=Xn,Aa=!0),Aa||(Kr=Qt.substring(at,J)),at=J;J+1<Xn&&!((_e=Qt.charCodeAt(J+1))===32||_e<14&&_e>8);J++)at===J&&(tt("illegal character after attribute end"),Aa=!0);if(at=J+1,!Aa)if(Wr in pi)tt("attribute <"+Wr+"> already defined");else if(pi[Wr]=!0,en)if(Tn){if((ws=Wr==="xmlns"?"xmlns":Wr.charCodeAt(0)===120&&Wr.substr(0,6)==="xmlns:"?Wr.substr(6):null)!==null){if(Uo=jl(Kr),ra=x0(ws),!(Zi=qe[Uo])){if(ws==="xmlns"||ra in yr&&yr[ra]!==Uo)do Zi="ns"+el++;while(yr[Zi]!==void 0);else Zi=ws;qe[Uo]=Zi}yr[ws]!==Zi&&(ya||(yr=zl(yr),ya=!0),yr[ws]=Zi,ws==="xmlns"&&(yr[x0(Zi)]=Uo,le=Zi),yr[ra]=Uo),kr[Wr]=Kr;continue}Ue.push(Wr,Kr)}else(_e=Wr.indexOf(":"))!==-1?(qi=yr[Wr.substring(0,_e)])?((Wr=le===qi?Wr.substr(_e+1):qi+Wr.substr(_e))===Dd&&((_e=Kr.indexOf(":"))!==-1?(qi=Kr.substring(0,_e),Kr=(qi=yr[qi]||qi)+Kr.substring(_e)):Kr=le+":"+Kr),kr[Wr]=Kr):tt(b0(Wr.substring(0,_e))):kr[Wr]=Kr;else kr[Wr]=Kr}if(Tn)for(at=0,Xn=Ue.length;at<Xn;at++){if(Wr=Ue[at++],Kr=Ue[at],(_e=Wr.indexOf(":"))!==-1){if(!(qi=yr[Wr.substring(0,_e)])){tt(b0(Wr.substring(0,_e)));continue}(Wr=le===qi?Wr.substr(_e+1):qi+Wr.substr(_e))===Dd&&((_e=Kr.indexOf(":"))!==-1?(qi=Kr.substring(0,_e),Kr=(qi=yr[qi]||qi)+Kr.substring(_e)):Kr=le+":"+Kr)}kr[Wr]=Kr}return tr=kr}function _m(){for(var Uo,ra,qi=/(\r\n|\r|\n)/g,ya=0,ws=0,Kr=0,Zi=dr;ci>=Kr&&(Uo=qi.exec(ht))&&!((Zi=Uo[0].length+Uo.index)>ci);)ya+=1,Kr=Zi;return ci==-1?(ws=Zi,ra=ht.substring(dr)):dr===0?ra=ht.substring(dr,ci):(ws=ci-Kr,ra=dr==-1?ht.substring(ci):ht.substring(ci,dr+1)),{data:ra,line:ya,column:ws}}for(Ut=_m,st&&(ur=Object.create({},{name:Vl(function(){return Ot}),originalName:Vl(function(){return ln}),attrs:Vl(Ld),ns:Vl(function(){return yr})}));dr!==-1;){if((ci=ht.charCodeAt(dr)===60?dr:ht.indexOf("<",dr))===-1)return Ta.length?et("unexpected end of file"):dr===0?et("missing start tag"):void(dr<ht.length&&ht.substring(dr).trim()&&tt(Xh));if(dr!==ci){if(Ta.length){if(C&&(C(ht.substring(dr,ci),jl,Ut),mt))return}else if(ht.substring(dr,ci).trim()&&(tt(Xh),mt))return}if((Un=ht.charCodeAt(ci+1))===33){if(($t=ht.charCodeAt(ci+2))===91&&ht.substr(ci+3,6)==="CDATA["){if((dr=ht.indexOf("]]>",ci))===-1)return et("unclosed cdata");if(W&&(W(ht.substring(ci+9,dr),Ut),mt))return;dr+=3;continue}if($t===45&&ht.charCodeAt(ci+3)===45){if((dr=ht.indexOf("-->",ci))===-1)return et("unclosed comment");if(te&&(te(ht.substring(ci+4,dr),jl,Ut),mt))return;dr+=3;continue}}if(Un!==63){for(nn=ci+1;;nn++){if(bs=ht.charCodeAt(nn),isNaN(bs))return dr=-1,et("unclosed tag");if(bs===34)nn=($t=ht.indexOf('"',nn+1))!==-1?$t:nn;else if(bs===39)nn=($t=ht.indexOf("'",nn+1))!==-1?$t:nn;else if(bs===62){dr=nn;break}}if(Un!==33){if(tr={},Un===47){if(Ns=!1,yo=!0,!Ta.length)return et("missing open tag");if(nn=Ot=Ta.pop(),$t=ci+2+nn.length,ht.substring(ci+2,$t)!==nn)return et("closing tag mismatch");for(;$t<dr;$t++)if(!((Un=ht.charCodeAt($t))===32||Un>8&&Un<14))return et("close tag")}else{if(ht.charCodeAt(dr-1)===47?(nn=Ot=ht.substring(ci+1,dr-1),Ns=!0,yo=!0):(nn=Ot=ht.substring(ci+1,dr),Ns=!0,yo=!1),!(Un>96&&Un<123||Un>64&&Un<91||Un===95||Un===58))return et("illegal first char nodeName");for($t=1,gr=nn.length;$t<gr;$t++)if(!((Un=nn.charCodeAt($t))>96&&Un<123||Un>64&&Un<91||Un>47&&Un<59||Un===45||Un===95||Un==46)){if(Un===32||Un<14&&Un>8){Ot=nn.substring(0,$t),tr=null;break}return et("invalid nodeName")}yo||Ta.push(Ot)}if(en){if(Lt=yr,Ns&&(yo||ai.push(Lt),tr===null&&(Tn=nn.indexOf("xmlns",$t)!==-1)&&(qs=$t,Pt=nn,Ld(),Tn=!1)),ln=Ot,(Un=Ot.indexOf(":"))!==-1){if(!(xs=yr[Ot.substring(0,Un)]))return et("missing namespace on <"+ln+">");Ot=Ot.substr(Un+1)}else xs=yr.xmlns;xs&&(Ot=xs+":"+Ot)}if(Ns&&(qs=$t,Pt=nn,P&&(st?P(ur,jl,yo,Ut):P(Ot,Ld,jl,yo,Ut),mt)))return;if(yo){if(N&&(N(st?ur:Ot,jl,Ns,Ut),mt))return;en&&(yr=Ns?Lt:ai.pop())}dr+=1}else{if(xe&&(xe(ht.substring(ci,dr+1),jl,Ut),mt))return;dr+=1}}else{if((dr=ht.indexOf("?>",ci))===-1)return et("unclosed question");if(de&&(de(ht.substring(ci,dr+2),Ut),mt))return;dr+=2}}}(ft),Ut=Zh,mt=!1,kn},this.stop=function(){mt=!0}}function hl(x){return x.xml&&x.xml.tagAlias==="lowerCase"}var Jh={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Nd="xsi:type";function ms(x){return x.xml&&x.xml.serialize}function mm(x){return ms(x)===Nd}function Id(x,C){return hl(C)?x.prefix+":"+((P=x.localName).charAt(0).toUpperCase()+P.slice(1)):x.name;var P}function pl(x){return new Error(x)}function tu(x){return x.$descriptor}function ep(x){ae(this,x),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(C){this.references.push(C)},this.addElement=function(C){if(!C)throw pl("expected element");var P,N=this.elementsById,W=tu(C).idProperty;if(W&&(P=C.get(W.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(P))throw new Error("illegal ID <"+P+">");if(N[P])throw pl("duplicate ID <"+P+">");N[P]=C}},this.addWarning=function(C){this.warnings.push(C)}}function xc(){}function tp(){}function Lf(){}function np(x,C){this.property=x,this.context=C}function _0(x,C){this.element=C,this.propertyDesc=x}function Ff(){}function gs(x,C,P){this.model=x,this.type=x.getType(C),this.context=P}function $f(x,C,P){gs.call(this,x,C,P)}function Hl(x,C,P){this.model=x,this.context=P}function rp(x){x instanceof Hr&&(x={model:x}),ae(this,{lax:!1},x)}xc.prototype.handleEnd=function(){},xc.prototype.handleText=function(){},xc.prototype.handleNode=function(){},tp.prototype=Object.create(xc.prototype),tp.prototype.handleNode=function(){return this},Lf.prototype=Object.create(xc.prototype),Lf.prototype.handleText=function(x){this.body=(this.body||"")+x},np.prototype=Object.create(Lf.prototype),np.prototype.handleNode=function(x){if(this.element)throw pl("expected no sub nodes");return this.element=this.createReference(x),this},np.prototype.handleEnd=function(){this.element.id=this.body},np.prototype.createReference=function(x){return{property:this.property.ns.name,id:""}},_0.prototype=Object.create(Lf.prototype),_0.prototype.handleEnd=function(){var x=this.body||"",C=this.element,P=this.propertyDesc;x=y0(P.type,x),P.isMany?C.get(P.name).push(x):C.set(P.name,x)},Ff.prototype=Object.create(Lf.prototype),Ff.prototype.handleNode=function(x){var C=this,P=this.element;return P?C=this.handleChild(x):(P=this.element=this.createElement(x),this.context.addElement(P)),C},gs.prototype=Object.create(Ff.prototype),gs.prototype.addReference=function(x){this.context.addReference(x)},gs.prototype.handleText=function(x){if(!tu(this.element).bodyProperty)throw pl("unexpected body text <"+x+">");Lf.prototype.handleText.call(this,x)},gs.prototype.handleEnd=function(){var x=this.body,C=this.element,P=tu(C).bodyProperty;P&&x!==void 0&&(x=y0(P.type,x),C.set(P.name,x))},gs.prototype.createElement=function(x){var C,P=x.attributes,N=this.type,W=tu(N),G=this.context,te=new N({}),de=this.model;return T(P,function(xe,qe){var st=W.propertiesByName[qe];st&&st.isReference?st.isMany?T(xe.split(" "),function(It){G.addReference({element:te,property:st.ns.name,id:It})}):G.addReference({element:te,property:st.ns.name,id:xe}):(st?xe=y0(st.type,xe):qe!=="xmlns"&&(C=je(qe,W.ns.prefix),de.getPackage(C.prefix)&&G.addWarning({message:"unknown attribute <"+qe+">",element:te,property:qe,value:xe})),te.set(qe,xe))}),te},gs.prototype.getPropertyForNode=function(x){var C,P,N=je(x.name),W=this.type,G=this.model,te=tu(W),de=N.name,xe=te.propertiesByName[de];if(xe&&!xe.isAttr)return mm(xe)&&(C=x.attributes[Nd])?(C=function(st,It){var Ut=je(st);return function(Tn,en){var kn=Tn.name,mt=Tn.localName,et=en.xml&&en.xml.typePrefix;return et&&mt.indexOf(et)===0?Tn.prefix+":"+mt.slice(et.length):kn}(Ut,It.getPackage(Ut.prefix))}(C,G),ae({},xe,{effectiveType:tu(P=G.getType(C)).name})):xe;var qe=G.getPackage(N.prefix);if(qe){if(C=Id(N,qe),P=G.getType(C),xe=k(te.properties,function(st){return!st.isVirtual&&!st.isReference&&!st.isAttribute&&P.hasType(st.type)}))return ae({},xe,{effectiveType:tu(P).name})}else if(xe=k(te.properties,function(st){return!st.isReference&&!st.isAttribute&&st.type==="Element"}))return xe;throw pl("unrecognized element <"+N.name+">")},gs.prototype.toString=function(){return"ElementDescriptor["+tu(this.type).name+"]"},gs.prototype.valueHandler=function(x,C){return new _0(x,C)},gs.prototype.referenceHandler=function(x){return new np(x,this.context)},gs.prototype.handler=function(x){return x==="Element"?new Hl(this.model,x,this.context):new gs(this.model,x,this.context)},gs.prototype.handleChild=function(x){var C,P,N,W;if(C=this.getPropertyForNode(x),N=this.element,bc(P=C.effectiveType||C.type))return this.valueHandler(C,N);var G=(W=C.isReference?this.referenceHandler(C).handleNode(x):this.handler(P).handleNode(x)).element;return G!==void 0&&(C.isMany?N.get(C.name).push(G):N.set(C.name,G),C.isReference?(ae(G,{element:N}),this.context.addReference(G)):G.$parent=N),W},$f.prototype=Object.create(gs.prototype),$f.prototype.createElement=function(x){var C=x.name,P=je(C),N=this.model,W=this.type,G=N.getPackage(P.prefix),te=G&&Id(P,G)||C;if(!W.hasType(te))throw pl("unexpected element <"+x.originalName+">");return gs.prototype.createElement.call(this,x)},Hl.prototype=Object.create(Ff.prototype),Hl.prototype.createElement=function(x){var C=x.name,P=je(C).prefix,N=x.ns[P+"$uri"],W=x.attributes;return this.model.createAny(C,N,W)},Hl.prototype.handleChild=function(x){var C=new Hl(this.model,"Element",this.context).handleNode(x),P=this.element,N=C.element;return N!==void 0&&((P.$children=P.$children||[]).push(N),N.$parent=P),C},Hl.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},rp.prototype.fromXML=function(x,C,P){var N=C.rootHandler;C instanceof gs?(N=C,C={}):typeof C=="string"?(N=this.handler(C),C={}):typeof N=="string"&&(N=this.handler(N));var W=this.model,G=this.lax,te=new ep(ae({},C,{rootHandler:N})),de=new eu({proxy:!0}),xe=function(){var mt=[];return Object.defineProperty(mt,"peek",{value:function(){return this[this.length-1]}}),mt}();function qe(mt,et,tt){var ft=et(),ht=ft.line,Lt=ft.column,nn=ft.data;nn.charAt(0)==="<"&&nn.indexOf(" ")!==-1&&(nn=nn.slice(0,nn.indexOf(" "))+">");var gr="unparsable content "+(nn?nn+" ":"")+`detected
	line: `+ht+`
	column: `+Lt+`
	nested error: `+mt.message;if(tt)return te.addWarning({message:gr,error:mt}),!0;throw pl(gr)}function st(mt,et){return qe(mt,et,!0)}N.context=te,xe.push(N);var It=/^<\?xml /i,Ut=/ encoding="([^"]+)"/i,Tn=/^utf-8$/i;function en(mt,et){try{xe.peek().handleText(mt)}catch(tt){st(tt,et)}}var kn=W.getPackages().reduce(function(mt,et){return mt[et.uri]=et.prefix,mt},{"http://www.w3.org/XML/1998/namespace":"xml"});return de.ns(kn).on("openTag",function(mt,et,tt,ft){var ht=mt.attrs||{},Lt=Object.keys(ht).reduce(function(nn,gr){var $t=et(ht[gr]);return nn[gr]=$t,nn},{});(function(nn,gr){var $t=xe.peek();try{xe.push($t.handleNode(nn))}catch(Un){qe(Un,gr,G)&&xe.push(new tp)}})({name:mt.name,originalName:mt.originalName,attributes:Lt,ns:mt.ns},ft)}).on("question",function(mt){if(It.test(mt)){var et=Ut.exec(mt),tt=et&&et[1];tt&&!Tn.test(tt)&&te.addWarning({message:"unsupported document encoding <"+tt+">, falling back to UTF-8"})}}).on("closeTag",function(){xe.pop().handleEnd()}).on("cdata",en).on("text",function(mt,et,tt){(function(ft,ht){ft.trim()&&en(ft,ht)})(et(mt),tt)}).on("error",qe).on("warn",st),new Promise(function(mt,et){var tt;try{de.parse(x),function(){var gr,$t,Un=te.elementsById,bs=te.references;for(gr=0;$t=bs[gr];gr++){var xs=$t.element,Ot=Un[$t.id],ln=tu(xs).propertiesByName[$t.property];if(Ot||te.addWarning({message:"unresolved reference <"+$t.id+">",element:$t.element,property:$t.property,value:$t.id}),ln.isMany){var ur=xs.get(ln.name),tr=ur.indexOf($t);tr===-1&&(tr=ur.length),Ot?ur[tr]=Ot:ur.splice(tr,1)}else xs.set(ln.name,Ot)}}()}catch(gr){tt=gr}var ft=N.element;tt||ft||(tt=pl("failed to parse document as <"+N.type.$descriptor.name+">"));var ht=te.warnings,Lt=te.references,nn=te.elementsById;return tt?(tt.warnings=ht,et(tt)):mt({rootElement:ft,elementsById:nn,references:Lt,warnings:ht})})},rp.prototype.handler=function(x){return new $f(this.model,x)};var mo=/<|>|'|"|&|\n\r|\n/g,gm=/<|>|&/g;function Ms(x){var C={},P={},N={},W=[],G=[];this.byUri=function(te){return P[te]||x&&x.byUri(te)},this.add=function(te,de){P[te.uri]=te,de?W.push(te):G.push(te),this.mapPrefix(te.prefix,te.uri)},this.uriByPrefix=function(te){return C[te||"xmlns"]},this.mapPrefix=function(te,de){C[te||"xmlns"]=de},this.getNSKey=function(te){return te.prefix!==void 0?te.uri+"|"+te.prefix:te.uri},this.logUsed=function(te){var de=te.uri,xe=this.getNSKey(te);N[xe]=this.byUri(de),x&&x.logUsed(te)},this.getUsed=function(te){var de=this;return[].concat(W,G).filter(function(xe){var qe=de.getNSKey(xe);return N[qe]})}}function ga(x,C){return hl(C)?(P=x).charAt(0).toLowerCase()+P.slice(1):x;var P}function Wb(x,C){x.super_=C,x.prototype=Object.create(C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}})}function ym(x){return v(x)?x:(x.prefix?x.prefix+":":"")+x.localName}var qb={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},zE={"<":"lt",">":"gt","&":"amp"};function ys(x,C,P){return(x=v(x)?x:""+x).replace(C,function(N){return"&"+P[N]+";"})}function Bf(x){this.tagName=x}function nu(){}function qo(x){this.tagName=x}function Ni(x,C){this.body=[],this.attrs=[],this.parent=x,this.propertyDescriptor=C}function ie(x,C){Ni.call(this,x,C)}function Sr(){this.value="",this.write=function(x){this.value+=x}}function Ft(x,C){var P=[""];this.append=function(N){return x.write(N),this},this.appendNewLine=function(){return C&&x.write(`
`),this},this.appendIndent=function(){return C&&x.write(P.join("  ")),this},this.indent=function(){return P.push(""),this},this.unindent=function(){return P.pop(),this}}function Qr(x){return x=ae({format:!1,preamble:!0},x||{}),{toXML:function(C,P){var N=P||new Sr,W=new Ft(N,x.format);if(x.preamble&&W.append(`<?xml version="1.0" encoding="UTF-8"?>
`),new Ni().build(C).serializeTo(W),!P)return N.value}}}function Fg(x,C){Hr.call(this,x,C)}Bf.prototype.build=function(x){return this.element=x,this},Bf.prototype.serializeTo=function(x){x.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},nu.prototype.serializeValue=nu.prototype.serializeTo=function(x){x.append(this.escape?ys(this.value,gm,zE):this.value)},nu.prototype.build=function(x,C){return this.value=C,x.type==="String"&&C.search(gm)!==-1&&(this.escape=!0),this},Wb(qo,nu),qo.prototype.serializeTo=function(x){x.appendIndent().append("<"+this.tagName+">"),this.serializeValue(x),x.append("</"+this.tagName+">").appendNewLine()},Ni.prototype.build=function(x){this.element=x;var C,P,N=x.$descriptor,W=this.propertyDescriptor,G=N.isGeneric;return C=G?this.parseGeneric(x):this.parseNsAttributes(x),this.ns=W?this.nsPropertyTagName(W):this.nsTagName(N),this.tagName=this.addTagName(this.ns),G||(P=function(te){return R(te.$descriptor.properties,function(de){var xe=de.name;if(de.isVirtual||!_(te,xe))return!1;var qe=te[xe];return qe!==de.default&&qe!==null&&(!de.isMany||qe.length)})}(x),this.parseAttributes(R(P,function(te){return te.isAttr})),this.parseContainments(function(te){return R(te,function(de){return!de.isAttr})}(P))),this.parseGenericAttributes(x,C),this},Ni.prototype.nsTagName=function(x){return function(C,P){return P.isGeneric?ae({localName:P.ns.localName},C):ae({localName:ga(P.ns.localName,P.$pkg)},C)}(this.logNamespaceUsed(x.ns),x)},Ni.prototype.nsPropertyTagName=function(x){return function(C,P){return ae({localName:P.ns.localName},C)}(this.logNamespaceUsed(x.ns),x)},Ni.prototype.isLocalNs=function(x){return x.uri===this.ns.uri},Ni.prototype.nsAttributeName=function(x){var C;if(C=v(x)?je(x):x.ns,x.inherited)return{localName:C.localName};var P=this.logNamespaceUsed(C);return this.getNamespaces().logUsed(P),this.isLocalNs(P)?{localName:C.localName}:ae({localName:C.localName},P)},Ni.prototype.parseGeneric=function(x){var C=this,P=this.body,N=[];return T(x,function(W,G){G==="$body"?P.push(new nu().build({type:"String"},W)):G==="$children"?T(W,function(te){P.push(new Ni(C).build(te))}):G.indexOf("$")!==0&&C.parseNsAttribute(x,G,W)&&N.push({name:G,value:W})}),N},Ni.prototype.parseNsAttribute=function(x,C,P){var N,W=x.$model,G=je(C);if(G.prefix==="xmlns"&&(N={prefix:G.localName,uri:P}),G.prefix||G.localName!=="xmlns"||(N={uri:P}),!N)return{name:C,value:P};if(W&&W.getPackage(P))this.logNamespace(N,!0,!0);else{var te=this.logNamespaceUsed(N,!0);this.getNamespaces().logUsed(te)}},Ni.prototype.parseNsAttributes=function(x,C){var P=this,N=x.$attrs,W=[];return T(N,function(G,te){var de=P.parseNsAttribute(x,te,G);de&&W.push(de)}),W},Ni.prototype.parseGenericAttributes=function(x,C){var P=this;T(C,function(N){if(N.name!==Nd)try{P.addAttribute(P.nsAttributeName(N.name),N.value)}catch(W){console.warn("missing namespace information for ",N.name,"=",N.value,"on",x,W)}})},Ni.prototype.parseContainments=function(x){var C=this,P=this.body,N=this.element;T(x,function(W){var G=N.get(W.name),te=W.isReference;if(W.isMany||(G=[G]),W.isBody)P.push(new nu().build(W,G[0]));else if(bc(W.type))T(G,function(qe){P.push(new qo(C.addTagName(C.nsPropertyTagName(W))).build(W,qe))});else if(te)T(G,function(qe){P.push(new Bf(C.addTagName(C.nsPropertyTagName(W))).build(qe))});else{var de=mm(W),xe=function(qe){return ms(qe)==="property"}(W);T(G,function(qe){var st;st=de?new ie(C,W):xe?new Ni(C,W):new Ni(C),P.push(st.build(qe))})}})},Ni.prototype.getNamespaces=function(x){var C,P=this.namespaces,N=this.parent;return P||(C=N&&N.getNamespaces(),x||!C?this.namespaces=P=new Ms(C):P=C),P},Ni.prototype.logNamespace=function(x,C,P){var N=this.getNamespaces(P),W=x.uri,G=x.prefix;return N.byUri(W)&&!P||N.add(x,C),N.mapPrefix(G,W),x},Ni.prototype.logNamespaceUsed=function(x,C){var P,N,W,G=this.element.$model,te=this.getNamespaces(C),de=x.prefix,xe=x.uri;if(!de&&!xe)return{localName:x.localName};if(W=Jh[de]||G&&(G.getPackage(de)||{}).uri,!(xe=xe||W||te.uriByPrefix(de)))throw new Error("no namespace uri given for prefix <"+de+">");if(!(x=te.byUri(xe))){for(P=de,N=1;te.uriByPrefix(P);)P=de+"_"+N++;x=this.logNamespace({prefix:P,uri:xe},W===xe)}return de&&te.mapPrefix(de,xe),x},Ni.prototype.parseAttributes=function(x){var C=this,P=this.element;T(x,function(N){var W=P.get(N.name);if(N.isReference)if(N.isMany){var G=[];T(W,function(te){G.push(te.id)}),W=G.join(" ")}else W=W.id;C.addAttribute(C.nsAttributeName(N),W)})},Ni.prototype.addTagName=function(x){var C=this.logNamespaceUsed(x);return this.getNamespaces().logUsed(C),ym(x)},Ni.prototype.addAttribute=function(x,C){var P=this.attrs;v(C)&&(C=ys(C,mo,qb));var N=function(G,te){const de=I(te);let xe=c(G)?-1:void 0;return T(G,function(qe,st){if(de(qe,st))return xe=st,!1}),xe}(P,function(G){return G.name.localName===x.localName&&G.name.uri===x.uri&&G.name.prefix===x.prefix}),W={name:x,value:C};N!==-1?P.splice(N,1,W):P.push(W)},Ni.prototype.serializeAttributes=function(x){var C=this.attrs,P=this.namespaces;P&&(C=function(N){return N.getUsed().filter(function(W){return W.prefix!=="xml"}).map(function(W){return{name:"xmlns"+(W.prefix?":"+W.prefix:""),value:W.uri}})}(P).concat(C)),T(C,function(N){x.append(" ").append(ym(N.name)).append('="').append(N.value).append('"')})},Ni.prototype.serializeTo=function(x){var C=this.body[0],P=C&&C.constructor!==nu;x.appendIndent().append("<"+this.tagName),this.serializeAttributes(x),x.append(C?">":" />"),C&&(P&&x.appendNewLine().indent(),T(this.body,function(N){N.serializeTo(x)}),P&&x.unindent().appendIndent(),x.append("</"+this.tagName+">")),x.appendNewLine()},Wb(ie,Ni),ie.prototype.parseNsAttributes=function(x){var C=Ni.prototype.parseNsAttributes.call(this,x),P=x.$descriptor;if(P.name===this.propertyDescriptor.type)return C;var N=this.typeNs=this.nsTagName(P);this.getNamespaces().logUsed(this.typeNs);var W=x.$model.getPackage(N.uri),G=W.xml&&W.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Nd),(N.prefix?N.prefix+":":"")+G+P.ns.localName),C},ie.prototype.isLocalNs=function(x){return x.uri===(this.typeNs||this.ns).uri},Fg.prototype=Object.create(Hr.prototype),Fg.prototype.fromXML=function(x,C,P){v(C)||(P=C,C="bpmn:Definitions");var N=new rp(ae({model:this,lax:!0},P)),W=N.handler(C);return N.fromXML(x,W)},Fg.prototype.toXML=function(x,C){var P=new Qr(C);return new Promise(function(N,W){try{return N({xml:P.toXML(x)})}catch(G){return W(G)}})};var Ub={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function qu(x,C){return new Fg(ae({},Ub,x),C)}var Gb="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function Ds(x,C){return x.$instanceOf(C)}function ip(x,C){var P={},N=[],W={};function G(Ot,ln){return function(ur){Ot(ur,ln)}}function te(Ot){P[Ot.id]=Ot}function de(Ot,ln){try{var ur=W[Ot.id]&&function(tr,ai){if(tr.gfx)throw new Error(C("already rendered {element}",{element:io(tr)}));return x.element(tr,W[tr.id],ai)}(Ot,ln);return te(Ot),ur}catch(tr){xe(tr.message,{element:Ot,error:tr}),console.error(C("failed to import {element}",{element:io(Ot)})),console.error(tr)}}function xe(Ot,ln){x.error(Ot,ln)}var qe=this.registerDi=function(Ot){var ln,ur=Ot.bpmnElement;ur?W[ur.id]?xe(C("multiple DI elements defined for {element}",{element:io(ur)}),{element:ur}):(W[ur.id]=Ot,_(ln=ur,"di")||Object.defineProperty(ln,"di",{enumerable:!1,get:function(){throw new Error(Gb)}})):xe(C("no bpmnElement referenced in {element}",{element:io(Ot)}),{element:Ot})};function st(Ot){var ln;ln=Ot.plane,qe(ln),T(ln.planeElement,It)}function It(Ot){qe(Ot)}this.handleDefinitions=function(Ot,ln){var ur=Ot.diagrams;if(ln&&ur.indexOf(ln)===-1)throw new Error(C("diagram not part of bpmn:Definitions"));if(!ln&&ur&&ur.length&&(ln=ur[0]),!ln)throw new Error(C("no diagram to display"));W={},st(ln);var tr=ln.plane;if(!tr)throw new Error(C("no plane for {element}",{element:io(ln)}));var ai=tr.bpmnElement;if(!ai){if(ai=function(Ns){return k(Ns.rootElements,function(yo){return Ds(yo,"bpmn:Process")||Ds(yo,"bpmn:Collaboration")})}(Ot),!ai)throw new Error(C("no process or collaboration to display"));xe(C("correcting missing bpmnElement on {plane} to {rootElement}",{plane:io(tr),rootElement:io(ai)})),tr.bpmnElement=ai,qe(tr)}var yr,Ta,el=function(Ns,yo){return x.root(Ns,W[Ns.id],yo)}(ai,tr);if(Ds(ai,"bpmn:Process")||Ds(ai,"bpmn:SubProcess"))Tn(ai,el);else{if(!Ds(ai,"bpmn:Collaboration"))throw new Error(C("unsupported bpmnElement for {plane}: {rootElement}",{plane:io(tr),rootElement:io(ai)}));Ta=el,T((yr=ai).participants,G(xs,Ta)),ft(yr.artifacts,Ta),N.push(function(){(function(Ns,yo){T(Ns,G(en,yo))})(yr.messageFlows,Ta)}),function(Ns,yo){var ci=R(Ns,function(dr){return!P[dr.id]&&Ds(dr,"bpmn:Process")&&dr.laneSets});ci.forEach(G(Tn,yo))}(Ot.rootElements,el)}Ut(N)};var Ut=this.handleDeferred=function(){for(;N.length;)N.shift()()};function Tn(Ot,ln){bs(Ot,ln),ht(Ot.ioSpecification,ln),ft(Ot.artifacts,ln),te(Ot)}function en(Ot,ln){de(Ot,ln)}function kn(Ot,ln){de(Ot,ln)}function mt(Ot,ln){de(Ot,ln)}function et(Ot,ln){de(Ot,ln)}function tt(Ot,ln){de(Ot,ln)}function ft(Ot,ln){T(Ot,function(ur){Ds(ur,"bpmn:Association")?N.push(function(){tt(ur,ln)}):tt(ur,ln)})}function ht(Ot,ln){Ot&&(T(Ot.dataInputs,G(mt,ln)),T(Ot.dataOutputs,G(et,ln)))}var Lt=this.handleSubProcess=function(Ot,ln){bs(Ot,ln),ft(Ot.artifacts,ln)};function nn(Ot,ln){var ur=de(Ot,ln);Ds(Ot,"bpmn:SubProcess")&&Lt(Ot,ur||ln),Ds(Ot,"bpmn:Activity")&&ht(Ot.ioSpecification,ln),N.push(function(){T(Ot.dataInputAssociations,G(kn,ln)),T(Ot.dataOutputAssociations,G(kn,ln))})}function gr(Ot,ln){de(Ot,ln)}function $t(Ot,ln){N.push(function(){var ur=de(Ot,ln);Ot.childLaneSet&&Un(Ot.childLaneSet,ur||ln),function(tr){T(tr.flowNodeRef,function(ai){var yr=ai.get("lanes");yr&&yr.push(tr)})}(Ot)})}function Un(Ot,ln){T(Ot.lanes,G($t,ln))}function bs(Ot,ln){(function(ur,tr){T(ur,function(ai){Ds(ai,"bpmn:SequenceFlow")?N.push(function(){(function(yr,Ta){de(yr,Ta)})(ai,tr)}):Ds(ai,"bpmn:BoundaryEvent")?N.unshift(function(){nn(ai,tr)}):Ds(ai,"bpmn:FlowNode")?nn(ai,tr):Ds(ai,"bpmn:DataObject")||(Ds(ai,"bpmn:DataStoreReference")||Ds(ai,"bpmn:DataObjectReference")?gr(ai,tr):xe(C("unrecognized flowElement {element} in context {context}",{element:io(ai),context:tr?io(tr.businessObject):"null"}),{element:ai,context:tr}))})})(Ot.flowElements,ln),Ot.laneSets&&function(ur,tr){T(ur,G(Un,tr))}(Ot.laneSets,ln)}function xs(Ot,ln){var ur=de(Ot,ln),tr=Ot.processRef;tr&&Tn(tr,ur||ln)}}function Yb(x,C,P){var N,W,G,te,de=[];function xe(qe,st){var It=new ip({root:function(en,kn){return N.add(en,kn)},element:function(en,kn,mt){return N.add(en,kn,mt)},error:function(en,kn){de.push({message:en,context:kn})}},G);st=st||qe.diagrams&&qe.diagrams[0];var Ut=function(en,kn){if(kn){var mt,et=kn.plane.bpmnElement,tt=et;Ee(et,"bpmn:Process")||Ee(et,"bpmn:Collaboration")||(tt=function(gr){for(var $t=gr;$t;){if(Ee($t,"bpmn:Process"))return $t;$t=$t.$parent}}(et)),mt=Ee(tt,"bpmn:Collaboration")?tt:k(en.rootElements,function(gr){if(Ee(gr,"bpmn:Collaboration"))return k(gr.participants,function($t){return $t.processRef===tt})});var ft=[tt];mt&&(ft=function(gr,$t){let Un=[];return T(gr,function(bs,xs){Un.push($t(bs,xs))}),Un}(mt.participants,function(gr){return gr.processRef})).push(mt);var ht=pe(ft),Lt=[kn],nn=[et];return T(en.diagrams,function(gr){var $t=gr.plane.bpmnElement;ht.indexOf($t)!==-1&&nn.indexOf($t)===-1&&(Lt.push(gr),nn.push($t))}),Lt}}(qe,st);if(!Ut)throw new Error(G("no diagram to display"));T(Ut,function(en){It.handleDefinitions(qe,en)});var Tn=st.plane.bpmnElement.id;te.setRootElement(te.findRoot(Tn+"_plane")||te.findRoot(Tn))}return new Promise(function(qe,st){try{return N=x.get("bpmnImporter"),W=x.get("eventBus"),G=x.get("translate"),te=x.get("canvas"),W.fire("import.render.start",{definitions:C}),xe(C,P),W.fire("import.render.complete",{error:void 0,warnings:de}),qe({warnings:de})}catch(It){return It.warnings=de,st(It)}})}function pe(x){var C=[];return T(x,function(P){P&&(C.push(P),C=C.concat(pe(P.flowElements)))}),C}var Za,vm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',ml={verticalAlign:"middle"},jn={color:"#404040"},$g={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},HE={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Qb={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},wc='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+vm+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function Dr(){Za||(tn(Za=Ki(wc),$g),tn(bi("svg",Za),ml),tn(bi(".backdrop",Za),HE),tn(bi(".notice",Za),Qb),tn(bi(".link",Za),jn,{margin:"15px 20px 15px 10px",alignSelf:"center"}),Be.bind(Za,".backdrop","click",function(x){document.body.removeChild(Za)})),document.body.appendChild(Za)}function go(x){x=ae({},bm,x),this._moddle=this._createModdle(x),this._container=this._createContainer(x),function(C){const P=Ki('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+vm+"</a>");tn(bi("svg",P),ml),tn(P,jn,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),C.appendChild(P),ea.bind(P,"click",function(N){Dr(),N.preventDefault()})}(this._container),this._init(this._container,this._moddle,x)}function vs(x,C){return x.warnings=C,x}t(go,Wo),go.prototype.importXML=async function(x,C){const P=this;let N=[];try{let G;x=this._emit("import.parse.start",{xml:x})||x;try{G=await this._moddle.fromXML(x,"bpmn:Definitions")}catch(It){throw this._emit("import.parse.complete",{error:It}),It}let te=G.rootElement;const de=G.references,xe=G.warnings,qe=G.elementsById;N=N.concat(xe),te=this._emit("import.parse.complete",(W={error:null,definitions:te,elementsById:qe,references:de,warnings:N},P.get("eventBus").createEvent(W)))||te;const st=await this.importDefinitions(te,C);return N=N.concat(st.warnings),this._emit("import.done",{error:null,warnings:N}),{warnings:N}}catch(G){let te=G;throw N=N.concat(te.warnings||[]),vs(te,N),te=function(de){const xe=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(de.message);return xe&&(de.message="unparsable content <"+xe[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+xe[2]),de}(te),this._emit("import.done",{error:te,warnings:te.warnings}),te}var W},go.prototype.importDefinitions=async function(x,C){return this._setDefinitions(x),{warnings:(await this.open(C)).warnings}},go.prototype.open=async function(x){const C=this._definitions;let P=x;if(!C){const W=new Error("no XML imported");throw vs(W,[]),W}if(typeof x=="string"&&(P=function(W,G){return G&&k(W.diagrams,function(te){return te.id===G})||null}(C,x),!P)){const W=new Error("BPMNDiagram <"+x+"> not found");throw vs(W,[]),W}try{this.clear()}catch(W){throw vs(W,[]),W}const{warnings:N}=await Yb(this,C,P);return{warnings:N}},go.prototype.saveXML=async function(x){x=x||{};let C,P,N=this._definitions;try{if(!N)throw new Error("no definitions loaded");N=this._emit("saveXML.start",{definitions:N})||N,P=(await this._moddle.toXML(N,x)).xml,P=this._emit("saveXML.serialized",{xml:P})||P}catch(G){C=G}const W=C?{error:C}:{xml:P};if(this._emit("saveXML.done",W),C)throw C;return W},go.prototype.saveSVG=async function(){let x,C;this._emit("saveSVG.start");try{const P=this.get("canvas"),N=P.getActiveLayer(),W=bi("defs",P._svg),G=Nn(N),te=W?"<defs>"+Nn(W)+"</defs>":"",de=N.getBBox();x=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+de.width+'" height="'+de.height+'" viewBox="'+de.x+" "+de.y+" "+de.width+" "+de.height+'" version="1.1">'+te+G+"</svg>"}catch(P){C=P}if(this._emit("saveSVG.done",{error:C,svg:x}),C)throw C;return{svg:x}},go.prototype._setDefinitions=function(x){this._definitions=x},go.prototype.getModules=function(){return this._modules},go.prototype.clear=function(){this.getDefinitions()&&Wo.prototype.clear.call(this)},go.prototype.destroy=function(){Wo.prototype.destroy.call(this),As(this._container)},go.prototype.on=function(x,C,P,N){return this.get("eventBus").on(x,C,P,N)},go.prototype.off=function(x,C){this.get("eventBus").off(x,C)},go.prototype.attachTo=function(x){if(!x)throw new Error("parentNode required");this.detach(),x.get&&x.constructor.prototype.jquery&&(x=x.get(0)),typeof x=="string"&&(x=bi(x)),x.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},go.prototype.getDefinitions=function(){return this._definitions},go.prototype.detach=function(){const x=this._container,C=x.parentNode;C&&(this._emit("detach",{}),C.removeChild(x))},go.prototype._init=function(x,C,P){const N=P.modules||this.getModules(P),W=P.additionalModules||[],G=[].concat([{bpmnjs:["value",this],moddle:["value",C]}],N,W),te=ae(function(de,xe){let qe={};return T(Object(de),function(st,It){xe.indexOf(It)===-1&&(qe[It]=st)}),qe}(P,["additionalModules"]),{canvas:ae({},P.canvas,{container:x}),modules:G});Wo.call(this,te),P&&P.container&&this.attachTo(P.container)},go.prototype._emit=function(x,C){return this.get("eventBus").fire(x,C)},go.prototype._createContainer=function(x){const C=Ki('<div class="bjs-container"></div>');return tn(C,{width:op(x.width),height:op(x.height),position:x.position}),C},go.prototype._createModdle=function(x){return new qu(ae({},this._moddleExtensions,x.moddleExtensions))},go.prototype._modules=[];const bm={width:"100%",height:"100%",position:"relative"};function op(x){return x+(h(x)?"px":"")}function Oa(x){go.call(this,x)}t(Oa,go),Oa.prototype._modules=[a0,fc,Ad,Dg,ko],Oa.prototype._moddleExtensions={};var jf=["c","C"],Bg=["v","V"],WE=["y","Y"],jg=["z","Z"];function ru(x){return!x.altKey&&(x.ctrlKey||x.metaKey)}function Ii(x,C){return(x=c(x)?x:[x]).indexOf(C.key)!==-1||x.indexOf(C.code)!==-1}function xm(x){return x.shiftKey}var Vg="keyboard.keydown",_c="input-handle-modified-keys";function zn(x,C){var P=this;this._config=x||{},this._eventBus=C,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),C.on("diagram.destroy",function(){P._fire("destroy"),P.unbind()}),C.on("diagram.init",function(){P._fire("init")}),C.on("attach",function(){x&&x.bindTo&&P.bind(x.bindTo)}),C.on("detach",function(){P.unbind()})}zn.$inject=["config.keyboard","eventBus"],zn.prototype._keydownHandler=function(x){this._keyHandler(x,Vg)},zn.prototype._keyupHandler=function(x){this._keyHandler(x,"keyboard.keyup")},zn.prototype._keyHandler=function(x,C){if(!this._isEventIgnored(x)){var P={keyEvent:x};this._eventBus.fire(C||Vg,P)&&x.preventDefault()}},zn.prototype._isEventIgnored=function(x){return!!x.defaultPrevented||(C=x.target)&&(Jo(C,"input, textarea")||C.contentEditable==="true")&&this._isModifiedKeyIgnored(x);var C},zn.prototype._isModifiedKeyIgnored=function(x){return!ru(x)||this._getAllowedModifiers(x.target).indexOf(x.key)===-1},zn.prototype._getAllowedModifiers=function(x){var C=Po(x,"["+_c+"]",!0);return!C||this._node&&!this._node.contains(C)?[]:C.getAttribute(_c).split(",")},zn.prototype.bind=function(x){this.unbind(),this._node=x,ea.bind(x,"keydown",this._keydownHandler),ea.bind(x,"keyup",this._keyupHandler),this._fire("bind")},zn.prototype.getBinding=function(){return this._node},zn.prototype.unbind=function(){var x=this._node;x&&(this._fire("unbind"),ea.unbind(x,"keydown",this._keydownHandler),ea.unbind(x,"keyup",this._keyupHandler)),this._node=null},zn.prototype._fire=function(x){this._eventBus.fire("keyboard."+x,{node:this._node})},zn.prototype.addListener=function(x,C,P){m(x)&&(P=C,C=x,x=1e3),this._eventBus.on(P||Vg,x,C)},zn.prototype.removeListener=function(x,C){this._eventBus.off(C||Vg,x)},zn.prototype.hasModifier=function(x){return x.ctrlKey||x.metaKey||x.shiftKey||x.altKey},zn.prototype.isCmd=ru,zn.prototype.isShift=xm,zn.prototype.isKey=Ii;function on(x,C){var P=this;x.on("editorActions.init",500,function(N){var W=N.editorActions;P.registerBindings(C,W)})}on.$inject=["eventBus","keyboard"],on.prototype.registerBindings=function(x,C){function P(N,W){C.isRegistered(N)&&x.addListener(W)}P("undo",function(N){if(function(W){return ru(W)&&!xm(W)&&Ii(jg,W)}(N.keyEvent))return C.trigger("undo"),!0}),P("redo",function(N){if(function(W){return ru(W)&&(Ii(WE,W)||Ii(jg,W)&&xm(W))}(N.keyEvent))return C.trigger("redo"),!0}),P("copy",function(N){if(function(W){return ru(W)&&Ii(jf,W)}(N.keyEvent))return C.trigger("copy"),!0}),P("paste",function(N){if(function(W){return ru(W)&&Ii(Bg,W)}(N.keyEvent))return C.trigger("paste"),!0}),P("stepZoom",function(N){var W=N.keyEvent;if(Ii(["+","Add","="],W)&&ru(W))return C.trigger("stepZoom",{value:1}),!0}),P("stepZoom",function(N){var W=N.keyEvent;if(Ii(["-","Subtract"],W)&&ru(W))return C.trigger("stepZoom",{value:-1}),!0}),P("zoom",function(N){var W=N.keyEvent;if(Ii("0",W)&&ru(W))return C.trigger("zoom",{value:1}),!0}),P("removeSelection",function(N){if(Ii(["Backspace","Delete","Del"],N.keyEvent))return C.trigger("removeSelection"),!0})};var Ec={__init__:["keyboard","keyboardBindings"],keyboard:["type",zn],keyboardBindings:["type",on]},wm={moveSpeed:50,moveSpeedAccelerated:200};function gl(x,C,P){var N=this;this._config=ae({},wm,x||{}),C.addListener(function(W){var G=W.keyEvent,te=N._config;if(C.isCmd(G)&&C.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],G)){var de,xe=C.isShift(G)?te.moveSpeedAccelerated:te.moveSpeed;switch(G.key){case"ArrowLeft":case"Left":de="left";break;case"ArrowUp":case"Up":de="up";break;case"ArrowRight":case"Right":de="right";break;case"ArrowDown":case"Down":de="down"}return N.moveCanvas({speed:xe,direction:de}),!0}}),this.moveCanvas=function(W){var G=0,te=0,de=W.speed/Math.min(Math.sqrt(P.viewbox().scale),1);switch(W.direction){case"left":G=de;break;case"up":te=de;break;case"right":G=-de;break;case"down":te=-de}P.scroll({dx:G,dy:te})}}gl.$inject=["config.keyboardMove","keyboard","canvas"];var Oo={__depends__:[Ec],__init__:["keyboardMove"],keyboardMove:["type",gl]},qE=/^djs-cursor-.*$/;function Vf(x){var C=Jt(document.body);C.removeMatching(qE),x&&C.add("djs-cursor-"+x)}var zf=5e3;function $r(x,C){return{x:x.x-C.x,y:x.y-C.y}}function Kb(x,C){var P;function N(G){var te,de=P.start,xe=P.button,qe=l0(G),st=$r(qe,de);!P.dragging&&(te=st,Math.sqrt(Math.pow(te.x,2)+Math.pow(te.y,2))>15)&&(P.dragging=!0,xe===0&&function(It,Ut){function Tn(){return!1}Ut=Ut||"element.click",It.once(Ut,zf,Tn)}(x),Vf("grab")),P.dragging&&(st=$r(qe,P.last||P.start),C.scroll({dx:st.x,dy:st.y}),P.last=qe),G.preventDefault()}function W(G){ea.unbind(document,"mousemove",N),ea.unbind(document,"mouseup",W),P=null,Vf(null)}x.on("element.mousedown",500,function(G){return function(te){if(!Po(te.target,".djs-draggable")){var de=te.button;if(!(de>=2||te.ctrlKey||te.shiftKey||te.altKey))return P={button:de,start:l0(te)},ea.bind(document,"mousemove",N),ea.bind(document,"mouseup",W),!0}}(G.originalEvent)}),this.isActive=function(){return!!P}}Kb.$inject=["eventBus","canvas"];var Xb={__init__:["moveCanvas"],moveCanvas:["type",Kb]};function zg(x){return Math.log(x)/Math.log(10)}function Zb(x,C){var P=zg(x.min),N=zg(x.max);return(Math.abs(P)+Math.abs(N))/C}var UE=Math.sign||function(x){return x>=0?1:-1},sp={min:.2,max:4};function Ja(x,C,P){x=x||{},this._enabled=!1,this._canvas=P,this._container=P._container,this._handleWheel=ne(this._handleWheel,this),this._totalDelta=0,this._scale=x.scale||.75;var N=this;C.on("canvas.init",function(W){N._init(x.enabled!==!1)})}Ja.$inject=["config.zoomScroll","eventBus","canvas"],Ja.prototype.scroll=function(x){this._canvas.scroll(x)},Ja.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Ja.prototype.zoom=function(x,C){var P=Zb(sp,20);this._totalDelta+=x,Math.abs(this._totalDelta)>.1&&(this._zoom(x,C,P),this._totalDelta=0)},Ja.prototype._handleWheel=function(x){if(!Po(x.target,".djs-scrollable",!0)){var C=this._container;x.preventDefault();var P,N=x.ctrlKey||c0()&&x.metaKey,W=x.shiftKey,G=-1*this._scale;if(G*=N?x.deltaMode===0?.02:.32:x.deltaMode===0?1:16,N){var te=C.getBoundingClientRect(),de={x:x.clientX-te.left,y:x.clientY-te.top};P=Math.sqrt(Math.pow(x.deltaY,2)+Math.pow(x.deltaX,2))*UE(x.deltaY)*G,this.zoom(P,de)}else P=W?{dx:G*x.deltaY,dy:0}:{dx:G*x.deltaX,dy:G*x.deltaY},this.scroll(P)}},Ja.prototype.stepZoom=function(x,C){var P=Zb(sp,10);this._zoom(x,C,P)},Ja.prototype._zoom=function(x,C,P){var N=this._canvas,W=x>0?1:-1,G=zg(N.zoom()),te=Math.round(G/P)*P;te+=P*W;var de,xe,qe=Math.pow(10,te);N.zoom((de=sp,xe=qe,Math.max(de.min,Math.min(de.max,xe))),C)},Ja.prototype.toggle=function(x){var C=this._container,P=this._handleWheel,N=this._enabled;return x===void 0&&(x=!N),N!==x&&ea[x?"bind":"unbind"](C,"wheel",P,!1),this._enabled=x,x},Ja.prototype._init=function(x){this.toggle(x)};var Hf={__init__:["zoomScroll"],zoomScroll:["type",Ja]};function ap(x){Oa.call(this,x)}return t(ap,Oa),ap.prototype._navigationModules=[Oo,Xb,Hf],ap.prototype._modules=[].concat(Oa.prototype._modules,ap.prototype._navigationModules),ap})})(Yhe);var dYe=Yhe.exports;const fYe=rE(dYe),hYe=Lp.object({processId:Lp.string().min(1,"Processo  obrigatrio"),formId:Lp.string().min(1,"Formulrio  obrigatrio"),taskId:Lp.string().min(1,"Tarefa do processo  obrigatria")}),AZ=()=>{const n=kb(),{id:e}=vN(),t=cE(),i=new URLSearchParams(t.search).get("processId"),o=Uv(),a=!!e,[c,u]=Z.useState([]),h=A8({resolver:R8(hYe),defaultValues:{processId:i||"",formId:"",taskId:""}}),{data:m,isLoading:v}=Al({queryKey:["integration",e],queryFn:()=>U1.getIntegrationById(e).catch(ne=>console.error(ne)),enabled:a}),{data:_=[],isLoading:k}=Al({queryKey:["processes"],queryFn:()=>Hp.getAllProcesses()}),{data:R=[],isLoading:T}=Al({queryKey:["forms"],queryFn:()=>og.getAllForms()}),{data:F,isLoading:$}=Al({queryKey:["process",h.watch("processId")],queryFn:()=>Hp.getProcessById(h.watch("processId")),enabled:!!h.watch("processId")});Z.useEffect(()=>{if(F!=null&&F.xml){let ne=null;try{ne=new fYe,ne.importXML(F.xml).then(()=>{try{const Me=ne.get("elementRegistry").filter(Ee=>Ee.type==="bpmn:UserTask"&&!!Ee.businessObject).map(Ee=>{var we;return{id:Ee.id,name:((we=Ee.businessObject)==null?void 0:we.name)||`Task ${Ee.id}`}});u(Me),Me.length===0&&h.getValues("taskId")&&h.setValue("taskId",""),Me.length===1&&!h.getValues("taskId")&&h.setValue("taskId",Me[0].id)}catch(ae){console.error("Error processing BPMN elements",ae),u([]),h.setValue("taskId",""),ls.error("Erro ao processar elementos do diagrama BPMN")}}).catch(ae=>{console.error("Error importing BPMN XML",ae),u([]),h.setValue("taskId",""),ls.error("Erro ao importar o XML do processo BPMN")})}catch(ae){console.error("Error initializing BPMN viewer",ae),u([]),h.setValue("taskId",""),ls.error("Erro ao inicializar o visualizador BPMN")}return()=>{if(ne)try{ne.destroy()}catch(ae){console.error("Error destroying BPMN viewer",ae)}}}else u([]),h.getValues("taskId")&&h.setValue("taskId","")},[F,h]),Z.useEffect(()=>{m&&h.reset({processId:m.processId,formId:m.formId,taskId:m.taskId||""})},[m,h]);const j=mg({mutationFn:ne=>U1.createIntegration(ne),onSuccess:()=>{o.invalidateQueries({queryKey:["integrations"]}),ls.success("Integrao criada com sucesso"),n("/integration")},onError:()=>{ls.error("Falha ao criar integrao")}}),B=mg({mutationFn:({id:ne,data:ae})=>U1.updateIntegration(ne,ae),onSuccess:()=>{o.invalidateQueries({queryKey:["integrations"]}),o.invalidateQueries({queryKey:["integration",e]}),ls.success("Integrao atualizada com sucesso"),n("/integration")},onError:ne=>{console.log(ne),ls.error("Falha ao atualizar integrao")}}),I=ne=>{const ae=c.find(Me=>Me.id===ne.taskId);if(!ae){ls.error("Selecione uma tarefa vlida do processo");return}const Te={processId:ne.processId,formId:ne.formId,taskId:ne.taskId,taskName:ae.name};a&&e?B.mutate({id:e,data:Te}):j.mutate(Te)};console.log(v,k,T,$);const Y=v||k||T||$,oe=ne=>{h.setValue("processId",ne),h.setValue("taskId",""),u([])};return V.jsxs("div",{className:"space-y-6 py-6",children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx(yi,{variant:"outline",size:"icon",onClick:()=>n("/integration"),children:V.jsx(_N,{className:"h-4 w-4"})}),V.jsx("h2",{className:"ml-4 text-3xl font-bold",children:a?"Editar Integrao":"Nova Integrao"})]}),V.jsxs(za,{className:"max-w-2xl mx-auto",children:[V.jsxs(Ha,{children:[V.jsxs("div",{className:"flex items-center",children:[V.jsx(K9,{className:"mr-2 h-5 w-5"}),V.jsx(nc,{children:"Integrao Processo-Formulrio"})]}),V.jsx(wf,{children:"Vincule uma tarefa especfica do processo BPMN com um formulrio dinmico"})]}),V.jsx(Wa,{children:Y?V.jsx("div",{className:"py-8 flex justify-center",children:V.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):V.jsx(P8,{...h,children:V.jsxs("form",{onSubmit:h.handleSubmit(I),className:"space-y-6",children:[V.jsx(Y1,{control:h.control,name:"processId",render:({field:ne})=>V.jsxs(gv,{children:[V.jsx(yv,{children:"Processo BPMN"}),V.jsx(vv,{children:V.jsxs(NF,{value:ne.value,onValueChange:oe,disabled:!!i||_.length===0,children:[V.jsx(cD,{children:V.jsx(IF,{placeholder:"Selecione um processo"})}),V.jsx(uD,{children:_.map(ae=>V.jsx(dD,{value:ae.id,children:ae.name},ae.id))})]})}),_.length===0&&V.jsx("div",{className:"text-sm text-destructive",children:"Nenhum processo disponvel. Por favor, crie um processo primeiro."}),V.jsx(bv,{})]})}),V.jsx(Y1,{control:h.control,name:"taskId",render:({field:ne})=>V.jsxs(gv,{children:[V.jsx(yv,{children:"Tarefa do Processo"}),V.jsx(vv,{children:V.jsxs(NF,{value:ne.value,onValueChange:ne.onChange,disabled:c.length===0||!h.watch("processId"),children:[V.jsx(cD,{children:V.jsx(IF,{placeholder:"Selecione uma tarefa"})}),V.jsx(uD,{children:c.map(ae=>V.jsx(dD,{value:ae.id,children:ae.name},ae.id))})]})}),h.watch("processId")&&c.length===0&&V.jsx("div",{className:"text-sm text-destructive",children:"Este processo no contm tarefas de usurio. Adicione pelo menos uma tarefa de usurio ao processo."}),V.jsx(bv,{})]})}),V.jsx(Y1,{control:h.control,name:"formId",render:({field:ne})=>V.jsxs(gv,{children:[V.jsx(yv,{children:"Formulrio Dinmico"}),V.jsx(vv,{children:V.jsxs(NF,{value:ne.value,onValueChange:ne.onChange,disabled:R.length===0,children:[V.jsx(cD,{children:V.jsx(IF,{placeholder:"Selecione um formulrio"})}),V.jsx(uD,{children:R.map(ae=>V.jsx(dD,{value:ae.id,children:ae.name},ae.id))})]})}),R.length===0&&V.jsx("div",{className:"text-sm text-destructive",children:"Nenhum formulrio disponvel. Por favor, crie um formulrio primeiro."}),V.jsx(bv,{})]})}),V.jsx("div",{className:"flex justify-end",children:V.jsxs(yi,{type:"submit",disabled:_.length===0||R.length===0||c.length===0||j.isPending||B.isPending,children:[V.jsx(Z9,{className:"mr-2 h-4 w-4"}),a?"Atualizar Integrao":"Salvar Integrao"]})})]})})})]})]})},pYe=()=>{const n=kb();return V.jsxs("div",{className:"flex h-[calc(100vh-120px)] flex-col items-center justify-center text-center",children:[V.jsx("div",{className:"mb-4 rounded-full bg-primary/10 p-3",children:V.jsx(M1e,{className:"h-10 w-10 text-primary"})}),V.jsx("h1",{className:"text-4xl font-bold",children:"404"}),V.jsx("p",{className:"mt-4 text-xl",children:"Pgina no encontrada"}),V.jsx("p",{className:"mt-2 text-muted-foreground",children:"A pgina que voc est procurando no existe ou foi movida."}),V.jsx("div",{className:"mt-8",children:V.jsx(yi,{onClick:()=>n("/"),children:"Retornar ao Dashboard"})})]})},mYe=()=>V.jsxs(y0e,{children:[V.jsx(Dc,{path:"/poc-bpmn-js",element:V.jsx(Vq,{})}),V.jsx(Dc,{path:"/",element:V.jsx(Vq,{})}),V.jsx(Dc,{path:"/processes",element:V.jsx(fSe,{})}),V.jsx(Dc,{path:"/processes/new",element:V.jsx(g4,{})}),V.jsx(Dc,{path:"/processes/:id",element:V.jsx(g4,{mode:"view"})}),V.jsx(Dc,{path:"/processes/:id/edit",element:V.jsx(g4,{})}),V.jsx(Dc,{path:"/forms",element:V.jsx(Uke,{})}),V.jsx(Dc,{path:"/forms/new",element:V.jsx(OZ,{})}),V.jsx(Dc,{path:"/forms/:id",element:V.jsx(RGe,{})}),V.jsx(Dc,{path:"/forms/:id/edit",element:V.jsx(OZ,{})}),V.jsx(Dc,{path:"/integration",element:V.jsx(DGe,{})}),V.jsx(Dc,{path:"/integration/new",element:V.jsx(AZ,{})}),V.jsx(Dc,{path:"/integration/:id",element:V.jsx(AZ,{})}),V.jsx(Dc,{path:"*",element:V.jsx(pYe,{})})]}),kM=({to:n,icon:e,label:t,isCollapsed:r})=>{const i=cE(),o=i.pathname===n||i.pathname.startsWith(`${n}/`);return V.jsx("li",{children:V.jsxs(Cl,{to:n,className:oi("flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors",o?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),children:[V.jsx(e,{className:oi("h-5 w-5",r?"mx-auto":"mr-2")}),!r&&V.jsx("span",{children:t})]})})},gYe=()=>{const{sidebarOpen:n,toggleSidebar:e}=d8();return V.jsxs("aside",{className:oi("fixed inset-y-0 left-0 z-40 flex flex-col bg-sidebar border-r border-sidebar-border transition-transform duration-300",n?"w-64":"w-16",n?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[V.jsxs("div",{className:"flex h-16 items-center gap-2 border-b border-sidebar-border px-4",children:[V.jsx("div",{className:"flex-1",children:n&&V.jsx("h1",{className:"text-xl font-semibold text-sidebar-foreground",children:"BPMN+Forms"})}),V.jsx("button",{onClick:e,className:"hidden md:flex h-8 w-8 items-center justify-center rounded-md text-sidebar-foreground hover:bg-sidebar-accent",children:n?V.jsx(O1e,{className:"h-4 w-4"}):V.jsx(T1e,{className:"h-4 w-4"})})]}),V.jsx("div",{className:"flex-1 overflow-auto py-4",children:V.jsx("nav",{children:V.jsxs("ul",{className:"space-y-1 px-2",children:[V.jsx(kM,{to:"/",icon:R1e,label:"Dashboard",isCollapsed:!n}),V.jsx(kM,{to:"/processes",icon:e8,label:"Processos BPMN",isCollapsed:!n}),V.jsx(kM,{to:"/forms",icon:Q9,label:"Formulrios Dinmicos",isCollapsed:!n}),V.jsx(kM,{to:"/integration",icon:X9,label:"Integraes",isCollapsed:!n})]})})}),V.jsx("div",{className:"border-t border-sidebar-border p-4",children:n&&V.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:"BPMN & Forms POC v1.0"})})]})},yYe=()=>{const{toggleSidebar:n}=d8();return V.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center border-b bg-background px-4",children:[V.jsx(yi,{variant:"ghost",size:"icon",onClick:n,className:"md:hidden",children:V.jsx(P1e,{className:"h-5 w-5"})}),V.jsx("div",{className:"ml-4 flex-1",children:V.jsx("h2",{className:"text-lg font-medium",children:"BPMN & Dynamic Forms POC"})})]})},vYe=()=>{const{sidebarOpen:n}=d8();return V.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-background",children:[V.jsx(gYe,{}),V.jsxs("div",{className:`flex flex-1 flex-col overflow-hidden transition-all duration-300 ${n?"md:ml-64":"md:ml-16"}`,children:[V.jsx(yYe,{}),V.jsx("main",{className:"flex-1 overflow-auto p-4",children:V.jsx("div",{className:"container h-full",children:V.jsx(mYe,{})})})]})]})},bYe=new hve({defaultOptions:{queries:{staleTime:60*1e3}}}),xYe=()=>{localStorage.getItem("bpmnProcesses")||localStorage.setItem("bpmnProcesses",JSON.stringify([])),localStorage.getItem("dynamicForms")||localStorage.setItem("dynamicForms",JSON.stringify([])),localStorage.getItem("processFormIntegration")||localStorage.setItem("processFormIntegration",JSON.stringify([]))};function wYe(){const[n,e]=Z.useState(!1);return Z.useEffect(()=>{xYe(),e(!0)},[]),n?V.jsx(vve,{client:bYe,children:V.jsx(xwe,{children:V.jsxs(vwe,{children:[V.jsx(S0e,{basename:"/poc-bpmn-js",children:V.jsx(vYe,{})}),V.jsx(mbe,{}),V.jsx(Wbe,{position:"top-right"})]})})}):V.jsx("div",{className:"flex h-screen items-center justify-center",children:V.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})}ete(document.getElementById("root")).render(V.jsx(wYe,{}));
